/*! For license information please see showcase.js.LICENSE.txt */
(()=>{var e,t,i,n,s,r,a={62634:(e,t,i)=>{"use strict";i.d(t,{InMemoryCache:()=>ke,cacheSlot:()=>ce});var n=function(){return Object.create(null)},s=Array.prototype,r=s.forEach,a=s.slice,o=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=n),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return r.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(a.call(e)))},e.prototype.getChildTrie=function(t){var i=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=i.get(t);return n||i.set(t,n=new e(this.weakness,this.makeData)),n},e}();var l=null,c={},d=1,u="@wry/context:Slot",h=Array,p=h[u]||function(){var e=function(){function e(){this.id=["slot",d++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=l;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===c)break;return e!==l&&(l.slots[this.id]=t),!0}return l&&(l.slots[this.id]=c),!1},e.prototype.getValue=function(){if(this.hasValue())return l.slots[this.id]},e.prototype.withValue=function(e,t,i,n){var s,r=((s={__proto__:null})[this.id]=e,s),a=l;l={parent:a,slots:r};try{return t.apply(n,i)}finally{l=a}},e.bind=function(e){var t=l;return function(){var i=l;try{return l=t,e.apply(this,arguments)}finally{l=i}}},e.noContext=function(e,t,i){if(!l)return e.apply(i,t);var n=l;try{return l=null,e.apply(i,t)}finally{l=n}},e}();try{Object.defineProperty(h,u,{value:h[u]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();p.bind,p.noContext;function m(){}var f=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=m),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var i=t.older,n=t.newer;n&&(n.older=i),i&&(i.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t},e.prototype.set=function(e,t){var i=this.getEntry(e);return i?i.value=t:(i={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(e,i),i.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),g=new p;function v(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var y=[];function E(e,t){if(!e)throw new Error(t||"assertion failure")}function b(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var S=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!T(this))return this.value[0]},e.prototype.recompute=function(e){return E(!this.recomputing,"already recomputing"),function(e){var t=g.getValue();if(t)e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),T(e)?w(t,e):A(t,e)}(this),T(this)?function(e,t){k(e),g.withValue(e,O,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{v(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,T(e))return;N(e)}(e);return b(e.value)}(this,e):b(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,_(this),k(this),v(this))},e.prototype.dispose=function(){var e=this;k(this),v(this),this.parents.forEach((function(t){t.setDirty(),P(t,e)}))},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=y.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(this.deps.forEach((function(t){return t.delete(e)})),this.deps.clear(),y.push(this.deps),this.deps=null)},e.count=0,e}();function O(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function T(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function _(e){e.parents.forEach((function(t){return w(t,e)}))}function N(e){e.parents.forEach((function(t){return A(t,e)}))}function w(e,t){if(E(e.childValues.has(t)),E(T(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=y.pop()||new Set;e.dirtyChildren.add(t),_(e)}function A(e,t){E(e.childValues.has(t)),E(!T(t));var i,n,s,r=e.childValues.get(t);0===r.length?e.childValues.set(t,t.value.slice(0)):(i=r,n=t.value,(s=i.length)>0&&s===n.length&&i[s-1]===n[s-1]||e.setDirty()),I(e,t),T(e)||N(e)}function I(e,t){var i=e.dirtyChildren;i&&(i.delete(t),0===i.size&&(y.length<100&&y.push(i),e.dirtyChildren=null))}function k(e){e.childValues.size>0&&e.childValues.forEach((function(t,i){P(e,i)})),e.forgetDeps(),E(null===e.dirtyChildren)}function P(e,t){t.parents.delete(e),e.childValues.delete(t),I(e,t)}function L(e){var t=new Map,i=e&&e.subscribe;function n(e){var n=g.getValue();if(n){var s=t.get(e);s||t.set(e,s=new Set),n.dependOn(s),"function"==typeof i&&(v(s),s.unsubscribe=i(e))}}return n.dirty=function(e){var i=t.get(e);i&&(i.forEach((function(e){return e.setDirty()})),t.delete(e),v(i))},n}var D=new o("function"==typeof WeakMap);function R(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return D.lookupArray(e)}var M=new Set;function C(e,t){void 0===t&&(t=Object.create(null));var i=new f(t.max||Math.pow(2,16),(function(e){return e.dispose()})),n=t.keyArgs||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},s=t.makeCacheKey||R;function r(){var r=s.apply(null,n.apply(null,arguments));if(void 0===r)return e.apply(null,arguments);var a=i.get(r);a||(i.set(r,a=new S(e)),a.subscribe=t.subscribe);var o=a.recompute(Array.prototype.slice.call(arguments));return i.set(r,a),M.add(i),g.hasValue()||(M.forEach((function(e){return e.clean()})),M.clear()),o}function a(){var e=s.apply(null,arguments);if(void 0!==e)return i.get(e)}return r.dirty=function(){var e=a.apply(null,arguments);e&&e.setDirty()},r.peek=function(){var e=a.apply(null,arguments);if(e)return e.peek()},r.forget=function(){var e=s.apply(null,arguments);return void 0!==e&&i.delete(e)},r}var x,F=i(80496),U=function(){function e(){this.getFragmentDoc=C(F.Yk)}return e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({query:this.getFragmentDoc(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.writeQuery=function(e){return this.write({dataId:e.id||"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables,broadcast:e.broadcast})},e.prototype.writeFragment=function(e){return this.write({dataId:e.id,result:e.data,variables:e.variables,query:this.getFragmentDoc(e.fragment,e.fragmentName),broadcast:e.broadcast})},e}();x||(x={});var H=function(e,t,i,n,s){this.message=e,this.path=t,this.query=i,this.clientOnly=n,this.variables=s},j=i(23564),V=i(10690),B=i(82152),G=Object.prototype.hasOwnProperty;var W=/^[_a-z][_0-9a-z]*/i;function z(e){var t=e.match(W);return t?t[0]:e}function K(e,t,i){return!(!t||"object"!=typeof t)&&(Array.isArray(t)?t.every((function(t){return K(e,t,i)})):e.selections.every((function(e){if((0,F.My)(e)&&(0,F.LZ)(e,i)){var n=(0,F.u2)(e);return G.call(t,n)&&(!e.selectionSet||K(e.selectionSet,t[n],i))}return!0})))}function Y(e){return null!==e&&"object"==typeof e&&!(0,F.hh)(e)&&!Array.isArray(e)}var q=Object.create(null),$=function(){return q},Z=Object.create(null),Q=function(){function e(e,t){var i=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,F.Jv)((0,F.hh)(e)?i.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return(0,F.hh)(e)?i.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return(0,F.kQ)(e);if((0,F.hh)(e))return e;var n=i.policies.identify(e)[0];if(n){var s=(0,F.kQ)(n);return t&&i.merge(n,e),s}}}return e.prototype.toObject=function(){return(0,j.pi)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),G.call(this.data,e)){var i=this.data[e];if(i&&G.call(i,t))return i[t]}return"__typename"===t&&G.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof ee?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),G.call(this.data,e)?this.data[e]:this instanceof ee?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var i=this,n=this.lookup(e),s=new F.w0(te).merge(n,t);if(this.data[e]=s,s!==n&&(delete this.refs[e],this.group.caching)){var r=Object.create(null);n||(r.__exists=1),Object.keys(t).forEach((function(e){if(!n||n[e]!==s[e]){r[e]=1;var t=z(e);t===e||i.policies.hasKeyArgs(s.__typename,t)||(r[t]=1),void 0!==s[e]||i instanceof ee||delete s[e]}})),Object.keys(r).forEach((function(t){return i.group.dirty(e,t)}))}},e.prototype.modify=function(e,t){var i=this,n=this.lookup(e);if(n){var s=Object.create(null),r=!1,a=!0,o={DELETE:q,INVALIDATE:Z,isReference:F.hh,toReference:this.toReference,canRead:this.canRead,readField:function(t,n){return i.policies.readField("string"==typeof t?{fieldName:t,from:n||(0,F.kQ)(e)}:t,{store:i})}};if(Object.keys(n).forEach((function(l){var c=z(l),d=n[l];if(void 0!==d){var u="function"==typeof t?t:t[l]||t[c];if(u){var h=u===$?q:u((0,F.Jv)(d),(0,j.pi)((0,j.pi)({},o),{fieldName:c,storeFieldName:l,storage:i.getStorage(e,l)}));h===Z?i.group.dirty(e,l):(h===q&&(h=void 0),h!==d&&(s[l]=h,r=!0,d=h))}void 0!==d&&(a=!1)}})),r)return this.merge(e,s),a&&(this instanceof ee?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,i){var n,s=this.lookup(e);if(s){var r=this.getFieldValue(s,"__typename"),a=t&&i?this.policies.getStoreFieldName({typename:r,fieldName:t,args:i}):t;return this.modify(e,a?((n={})[a]=$,n):$)}return!1},e.prototype.evict=function(e){var t=!1;return e.id&&(G.call(this.data,e.id)&&(t=this.delete(e.id,e.fieldName,e.args)),this instanceof ee&&(t=this.parent.evict(e)||t),(e.fieldName||t)&&this.group.dirty(e.id,e.fieldName||"__exists")),t},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),i=[];return this.getRootIdSet().forEach((function(t){G.call(e.policies.rootTypenamesById,t)||i.push(t)})),i.length&&(t.__META={extraRootIds:i.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(i){e&&G.call(e,i)||t.delete(i)})),e){var i=e.__META,n=(0,j._T)(e,["__META"]);Object.keys(n).forEach((function(e){t.merge(e,n[e])})),i&&i.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof ee?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),i=this.toObject();t.forEach((function(n){G.call(i,n)&&(Object.keys(e.findChildRefIds(n)).forEach(t.add,t),delete i[n])}));var n=Object.keys(i);if(n.length){for(var s=this;s instanceof ee;)s=s.parent;n.forEach((function(e){return s.delete(e)}))}return n},e.prototype.findChildRefIds=function(e){if(!G.call(this.refs,e)){var t=this.refs[e]=Object.create(null),i=new Set([this.data[e]]),n=function(e){return null!==e&&"object"==typeof e};i.forEach((function(e){(0,F.hh)(e)?t[e.__ref]=!0:n(e)&&Object.values(e).filter(n).forEach(i.add,i)}))}return this.refs[e]},e.prototype.makeCacheKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.group.keyMaker.lookupArray(e)},e}(),X=function(){function e(e){this.caching=e,this.d=null,this.keyMaker=new o(F.mr),this.d=e?L():null}return e.prototype.depend=function(e,t){if(this.d){this.d(J(e,t));var i=z(t);i!==t&&this.d(J(e,i))}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(J(e,t))},e}();function J(e,t){return t+"#"+e}!function(e){var t=function(e){function t(t){var i=t.policies,n=t.resultCaching,s=void 0===n||n,r=t.seed,a=e.call(this,i,new X(s))||this;return a.storageTrie=new o(F.mr),a.sharedLayerGroup=new X(s),r&&a.replace(r),a}return(0,j.ZT)(t,e),t.prototype.addLayer=function(e,t){return new ee(e,this,t,this.sharedLayerGroup)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(Q||(Q={}));var ee=function(e){function t(t,i,n,s){var r=e.call(this,i.policies,s)||this;return r.id=t,r.parent=i,r.replay=n,r.group=s,n(r),r}return(0,j.ZT)(t,e),t.prototype.addLayer=function(e,i){return new t(e,this,i,this.group)},t.prototype.removeLayer=function(e){var t=this,i=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){t.data[e]!==i.lookup(e)&&t.delete(e)})),i):i===this.parent?this:i.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,j.pi)((0,j.pi)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var i=this.parent.findChildRefIds(t);return G.call(this.data,t)?(0,j.pi)((0,j.pi)({},i),e.prototype.findChildRefIds.call(this,t)):i},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(Q);function te(e,t,i){var n=e[i],s=t[i];return(0,B.D)(n,s)?n:s}function ie(e){return!!(e instanceof Q&&e.group.caching)}function ne(e,t){return new H(e.message,t.path.slice(),t.query,t.clientOnly,t.variables)}var se=function(){function e(e){var t=this;this.config=e,this.executeSelectionSet=C((function(e){return t.execSelectionSetImpl(e)}),{keyArgs:function(e){return[e.selectionSet,e.objectOrReference,e.context]},makeCacheKey:function(e,t,i){if(ie(i.store))return i.store.makeCacheKey(e,(0,F.hh)(t)?t.__ref:t,i.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=C((function(e){return t.execSubSelectedArrayImpl(e)}),{makeCacheKey:function(e){var t=e.field,i=e.array,n=e.context;if(ie(n.store))return n.store.makeCacheKey(t,i,n.varString)}}),this.config=(0,j.pi)({addTypename:!0},e)}return e.prototype.diffQueryAgainstStore=function(e){var t=e.store,i=e.query,n=e.rootId,s=void 0===n?"ROOT_QUERY":n,r=e.variables,a=e.returnPartialData,o=void 0===a||a,l=this.config.cache.policies;r=(0,j.pi)((0,j.pi)({},(0,F.O4)((0,F.iW)(i))),r);var c=this.executeSelectionSet({selectionSet:(0,F.p$)(i).selectionSet,objectOrReference:(0,F.kQ)(s),context:{store:t,query:i,policies:l,variables:r,varString:JSON.stringify(r),fragmentMap:(0,F.F)((0,F.kU)(i)),path:[],clientOnly:!1}}),d=c.missing&&c.missing.length>0;if(d&&!o)throw c.missing[0];return{result:c.result,missing:c.missing,complete:!d}},e.prototype.isFresh=function(e,t,i,n){if(ie(n.store)&&this.knownResults.get(e)===i){var s=this.executeSelectionSet.peek(i,t,n);if(s&&e===s.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,i=e.selectionSet,n=e.objectOrReference,s=e.context;if((0,F.hh)(n)&&!s.policies.rootTypenamesById[n.__ref]&&!s.store.has(n.__ref))return{result:{},missing:[ne(new V.ej(4),s)]};var r=s.variables,a=s.policies,o=s.store,l=[],c={result:null},d=o.getFieldValue(n,"__typename");function u(){return c.missing||(c.missing=[])}function h(e){var t;return e.missing&&(t=u()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof d&&!a.rootIdsByTypename[d]&&l.push({__typename:d});var p=new Set(i.selections);return p.forEach((function(e){var i;if((0,F.LZ)(e,r))if((0,F.My)(e)){var o=a.readField({fieldName:e.name.value,field:e,variables:s.variables,from:n},s),c=(0,F.u2)(e);s.path.push(c);var m=s.clientOnly;s.clientOnly=m||!(!e.directives||!e.directives.some((function(e){return"client"===e.name.value}))),void 0===o?F.Gw.added(e)||u().push(ne(new V.ej(5),s)):Array.isArray(o)?o=h(t.executeSubSelectedArray({field:e,array:o,context:s})):e.selectionSet&&null!=o&&(o=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:o,context:s}))),void 0!==o&&l.push(((i={})[c]=o,i)),s.clientOnly=m,(0,V.kG)(s.path.pop()===c)}else{var f=(0,F.hi)(e,s.fragmentMap);f&&a.fragmentMatches(f,d)&&f.selectionSet.selections.forEach(p.add,p)}})),c.result=(0,F.bw)(l),this.knownResults.set(c.result,i),c},e.prototype.execSubSelectedArrayImpl=function(e){var t,i=this,n=e.field,s=e.array,r=e.context;function a(e,i){return e.missing&&(t=t||[]).push.apply(t,e.missing),(0,V.kG)(r.path.pop()===i),e.result}return n.selectionSet&&(s=s.filter(r.store.canRead)),{result:s=s.map((function(e,t){return null===e?null:(r.path.push(t),Array.isArray(e)?a(i.executeSubSelectedArray({field:n,array:e,context:r}),t):n.selectionSet?a(i.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:e,context:r}),t):((0,V.kG)(r.path.pop()===t),e))})),missing:t}},e}();var re=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e){var t=e.query,i=e.result,n=e.dataId,s=e.store,r=e.variables,a=(0,F.$H)(t),o=new F.w0;r=(0,j.pi)((0,j.pi)({},(0,F.O4)(a)),r);var l=this.processSelectionSet({result:i||Object.create(null),dataId:n,selectionSet:a.selectionSet,mergeTree:{map:new Map},context:{store:s,written:Object.create(null),merge:function(e,t){return o.merge(e,t)},variables:r,varString:JSON.stringify(r),fragmentMap:(0,F.F)((0,F.kU)(t))}});if(!(0,F.hh)(l))throw new V.ej(7);return s.retain(l.__ref),l},e.prototype.processSelectionSet=function(e){var t=this,i=e.dataId,n=e.result,s=e.selectionSet,r=e.context,a=e.mergeTree,o=this.cache.policies,l=o.identify(n,s,r.fragmentMap),c=l[0],d=l[1];if("string"==typeof(i=i||c)){var u=r.written[i]||(r.written[i]=[]),h=(0,F.kQ)(i);if(u.indexOf(s)>=0)return h;if(u.push(s),this.reader&&this.reader.isFresh(n,h,s,r))return h}var p=Object.create(null);d&&(p=r.merge(p,d));var m=i&&o.rootTypenamesById[i]||(0,F.qw)(n,s,r.fragmentMap)||i&&r.store.get(i,"__typename");"string"==typeof m&&(p.__typename=m);var f=new Set(s.selections);if(f.forEach((function(e){var i;if((0,F.LZ)(e,r.variables))if((0,F.My)(e)){var s=(0,F.u2)(e),l=n[s];if(void 0!==l){var c=o.getStoreFieldName({typename:m,fieldName:e.name.value,field:e,variables:r.variables}),d=oe(a,c),u=t.processFieldValue(l,e,r,d),h=e.selectionSet&&r.store.getFieldValue(u,"__typename")||void 0,g=o.getMergeFunction(m,e.name.value,h);g?d.info={field:e,typename:m,merge:g}:le(a,c),p=r.merge(p,((i={})[c]=u,i))}else if(o.usingPossibleTypes&&!(0,F.FS)(["defer","client"],e))throw new V.ej(8)}else{var v=(0,F.hi)(e,r.fragmentMap);v&&o.fragmentMatches(v,m,n,r.variables)&&v.selectionSet.selections.forEach(f.add,f)}})),"string"==typeof i){var g=(0,F.kQ)(i);return a.map.size&&(p=this.applyMerges(a,g,p,r)),r.store.merge(i,p),g}return p},e.prototype.processFieldValue=function(e,t,i,n){var s=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,r){var a=s.processFieldValue(e,t,i,oe(n,r));return le(n,r),a})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:i,mergeTree:n}):e},e.prototype.applyMerges=function(e,t,i,n,s){var r,a=this;if(e.map.size&&!(0,F.hh)(i)){var o,l=Array.isArray(i)||!(0,F.hh)(t)&&!Y(t)?void 0:t,c=i;l&&!s&&(s=[(0,F.hh)(l)?l.__ref:l]);var d=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:n.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){s&&s.push(t);var i=d(l,t),r=d(c,t),u=a.applyMerges(e,i,r,n,s);u!==r&&(o=o||new Map).set(t,u),s&&(0,V.kG)(s.pop()===t)})),o&&(i=Array.isArray(c)?c.slice(0):(0,j.pi)({},c),o.forEach((function(e,t){i[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,i,e.info,n,s&&(r=n.store).getStorage.apply(r,s)):i},e}(),ae=[];function oe(e,t){var i=e.map;return i.has(t)||i.set(t,ae.pop()||{map:new Map}),i.get(t)}function le(e,t){var i=e.map,n=i.get(t);!n||n.info||n.map.size||(ae.push(n),i.delete(t))}new Set;var ce=new p;function de(e,t){if(e.size){var i=[];e.forEach((function(e){return i.push(e)})),e.clear(),i.forEach(t)}}var ue=new WeakMap;function he(e){var t=ue.get(e);return t||ue.set(e,t={vars:new Set,dep:L()}),t}function pe(e){var t=new Set,i=new Set,n=function(r){if(arguments.length>0)e!==r&&(e=r,t.forEach((function(e){he(e).dep.dirty(n),me(e)})),de(i,(function(t){return t(e)})));else{var a=ce.getValue();a&&(s(a),he(a).dep(n))}return e};n.onNextChange=function(e){return i.add(e),function(){i.delete(e)}};var s=n.attachCache=function(e){return t.add(e),he(e).vars.add(n),n};return n.forgetCache=function(e){return t.delete(e)},n}function me(e){e.broadcastWatches&&e.broadcastWatches()}function fe(e){return void 0!==e.args?e.args:e.field?(0,F.NC)(e.field,e.variables):null}var ge=function(e,t){var i=e.__typename,n=e.id,s=e._id;if("string"==typeof i&&(t&&(t.keyObject=void 0!==n?{id:n}:void 0!==s?{_id:s}:void 0),void 0===n&&(n=s),void 0!==n))return i+":"+("number"==typeof n||"string"==typeof n?n:JSON.stringify(n))},ve=function(){},ye=function(e,t){return t.fieldName},Ee=function(e,t,i){return(0,i.mergeObjects)(e,t)},be=function(e,t){return t},Se=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,j.pi)({dataIdFromObject:ge},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,i){var n=t&&i?(0,F.qw)(e,t,i):e.__typename;if(n===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s,r={typename:n,selectionSet:t,fragmentMap:i},a=n&&this.getTypePolicy(n),o=a&&a.keyFn||this.config.dataIdFromObject;o;){var l=o(e,r);if(!Array.isArray(l)){s=l;break}o=Ne(l)}return s=s&&String(s),r.keyObject?[s,r.keyObject]:[s]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(i){var n=e[i],s=n.queryType,r=n.mutationType,a=n.subscriptionType,o=(0,j._T)(n,["queryType","mutationType","subscriptionType"]);s&&t.setRootTypename("Query",i),r&&t.setRootTypename("Mutation",i),a&&t.setRootTypename("Subscription",i),G.call(t.toBeAdded,i)?t.toBeAdded[i].push(o):t.toBeAdded[i]=[o]}))},e.prototype.updateTypePolicy=function(e,t){var i=this,n=this.getTypePolicy(e),s=t.keyFields,r=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?Ee:!1===t?be:e.merge}a(n,t.merge),n.keyFn=!1===s?ve:Array.isArray(s)?Ne(s):"function"==typeof s?s:n.keyFn,r&&Object.keys(r).forEach((function(t){var n=i.getFieldPolicy(e,t,!0),s=r[t];if("function"==typeof s)n.read=s;else{var o=s.keyArgs,l=s.read,c=s.merge;n.keyFn=!1===o?ye:Array.isArray(o)?_e(o):"function"==typeof o?o:n.keyFn,"function"==typeof l&&(n.read=l),a(n,c)}n.read&&n.merge&&(n.keyFn=n.keyFn||ye)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var i="ROOT_"+e.toUpperCase(),n=this.rootTypenamesById[i];t!==n&&((0,V.kG)(!n||n===e,1),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[t]=i,this.rootTypenamesById[i]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(i){t.getSupertypeSet(i,!0),e[i].forEach((function(e){t.getSupertypeSet(e,!0).add(i);var n=e.match(W);n&&n[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!G.call(this.typePolicies,e)){var i=this.typePolicies[e]=Object.create(null);i.fields=Object.create(null);var n=this.supertypeMap.get(e);n&&n.size&&n.forEach((function(e){var n=t.getTypePolicy(e),s=n.fields,r=(0,j._T)(n,["fields"]);Object.assign(i,r),Object.assign(i.fields,s)}))}var s=this.toBeAdded[e];return s&&s.length&&this.updateTypePolicy(e,F.oA.apply(void 0,s.splice(0))),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,i){if(e){var n=this.getTypePolicy(e).fields;return n[t]||i&&(n[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var i=this.supertypeMap.get(e);return!i&&t&&this.supertypeMap.set(e,i=new Set),i},e.prototype.fragmentMatches=function(e,t,i,n){var s=this;if(!e.typeCondition)return!0;if(!t)return!1;var r=e.typeCondition.name.value;if(t===r)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(r))for(var a=this.getSupertypeSet(t,!0),o=[a],l=function(e){var t=s.getSupertypeSet(e,!1);t&&t.size&&o.indexOf(t)<0&&o.push(t)},c=!(!i||!this.fuzzySubtypes.size),d=0;d<o.length;++d){var u=o[d];if(u.has(r))return a.has(r)||a.add(r),!0;u.forEach(l),c&&d===o.length-1&&K(e.selectionSet,i,n)&&(c=!1,!0,this.fuzzySubtypes.forEach((function(e,i){var n=t.match(e);n&&n[0]===t&&l(i)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var i=this.getFieldPolicy(e,t,!1);return!(!i||!i.keyFn)},e.prototype.getStoreFieldName=function(e){var t,i=e.typename,n=e.fieldName,s=this.getFieldPolicy(i,n,!1),r=s&&s.keyFn;if(r&&i)for(var a={typename:i,fieldName:n,field:e.field||null,variables:e.variables},o=fe(e);r;){var l=r(o,a);if(!Array.isArray(l)){t=l||n;break}r=_e(l)}return void 0===t&&(t=e.field?(0,F.vf)(e.field,e.variables):(0,F.PT)(n,fe(e))),n===z(t)?t:n+":"+t},e.prototype.readField=function(e,t){var i=e.from;if(i&&(e.field||e.fieldName)){if(void 0===e.typename){var n=t.store.getFieldValue(i,"__typename");n&&(e.typename=n)}var s=this.getStoreFieldName(e),r=z(s),a=t.store.getFieldValue(i,s),o=this.getFieldPolicy(e.typename,r,!1),l=o&&o.read;if(l){var c=Oe(this,i,e,t,t.store.getStorage((0,F.hh)(i)?i.__ref:i,s));return ce.withValue(this.cache,l,[a,c])}return a}},e.prototype.getMergeFunction=function(e,t,i){var n=this.getFieldPolicy(e,t,!1),s=n&&n.merge;return!s&&i&&(s=(n=this.getTypePolicy(i))&&n.merge),s},e.prototype.runMergeFunction=function(e,t,i,n,s){var r=i.field,a=i.typename,o=i.merge;return o===Ee?Te(n.store.getFieldValue)(e,t):o===be?t:o(e,t,Oe(this,void 0,{typename:a,fieldName:r.name.value,field:r,variables:n.variables},n,s||Object.create(null)))},e}();function Oe(e,t,i,n,s){var r=e.getStoreFieldName(i),a=z(r),o=i.variables||n.variables,l=n.store,c=l.getFieldValue,d=l.toReference,u=l.canRead;return{args:fe(i),field:i.field||null,fieldName:a,storeFieldName:r,variables:o,isReference:F.hh,toReference:d,storage:s,cache:e.cache,canRead:u,readField:function(i,s){var r="string"==typeof i?{fieldName:i,from:s}:(0,j.pi)({},i);return void 0===r.from&&(r.from=t),void 0===r.variables&&(r.variables=o),e.readField(r,n)},mergeObjects:Te(c)}}function Te(e){return function(t,i){if(Array.isArray(t)||Array.isArray(i))throw new V.ej(2);if(t&&"object"==typeof t&&i&&"object"==typeof i){var n=e(t,"__typename"),s=e(i,"__typename");return!(n&&s&&n!==s)&&Y(t)&&Y(i)?(0,j.pi)((0,j.pi)({},t),i):i}return i}}function _e(e){return function(t,i){return t?i.fieldName+":"+JSON.stringify(Ae(t,e,!1)):i.fieldName}}function Ne(e){var t=new o(F.mr);return function(i,n){var s;if(n.selectionSet&&n.fragmentMap){var r=t.lookupArray([n.selectionSet,n.fragmentMap]);s=r.aliasMap||(r.aliasMap=we(n.selectionSet,n.fragmentMap))}var a=n.keyObject=Ae(i,e,!0,s);return n.typename+":"+JSON.stringify(a)}}function we(e,t){var i=Object.create(null),n=new Set([e]);return n.forEach((function(e){e.selections.forEach((function(e){if((0,F.My)(e)){if(e.alias){var s=e.alias.value,r=e.name.value;if(r!==s)(i.aliases||(i.aliases=Object.create(null)))[r]=s}if(e.selectionSet)(i.subsets||(i.subsets=Object.create(null)))[e.name.value]=we(e.selectionSet,t)}else{var a=(0,F.hi)(e,t);a&&n.add(a.selectionSet)}}))})),i}function Ae(e,t,i,n){var s,r=Object.create(null);return t.forEach((function(t){if(Array.isArray(t)){if("string"==typeof s){var a=n&&n.subsets,o=a&&a[s];r[s]=Ae(e[s],t,i,o)}}else{var l=n&&n.aliases,c=l&&l[t]||t;G.call(e,c)?r[s=t]=e[c]:((0,V.kG)(!i,3),s=void 0)}})),r}var Ie={dataIdFromObject:ge,addTypename:!0,resultCaching:!0,typePolicies:{}},ke=function(e){function t(t){void 0===t&&(t={});var i=e.call(this)||this;return i.watches=new Set,i.typenameDocumentCache=new Map,i.makeVar=pe,i.txCount=0,i.maybeBroadcastWatch=C((function(e,t){return i.broadcastWatch.call(i,e,!!t)}),{makeCacheKey:function(e){var t=e.optimistic?i.optimisticData:i.data;if(ie(t)){var n=e.optimistic,s=e.rootId,r=e.variables;return t.makeCacheKey(e.query,e.callback,JSON.stringify({optimistic:n,rootId:s,variables:r}))}}}),i.watchDep=L(),i.config=(0,j.pi)((0,j.pi)({},Ie),t),i.addTypename=!!i.config.addTypename,i.policies=new Se({cache:i,dataIdFromObject:i.config.dataIdFromObject,possibleTypes:i.config.possibleTypes,typePolicies:i.config.typePolicies}),i.data=new Q.Root({policies:i.policies,resultCaching:i.config.resultCaching}),i.optimisticData=i.data,i.storeWriter=new re(i,i.storeReader=new se({cache:i,addTypename:i.addTypename})),i}return(0,j.ZT)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,i=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config,returnPartialData:i}).result||null}catch(e){if(e instanceof H)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:e.query,result:e.result,dataId:e.dataId,variables:e.variables})}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(G.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},t.prototype.watch=function(e){var t,i=this;return this.watches.size||he(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){i.watches.delete(e)&&!i.watches.size&&function(e){he(e).vars.forEach((function(t){return t.forgetCache(e)}))}(i),i.watchDep.dirty(e),i.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(){return this.optimisticData.gc()},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return(0,F.hh)(e)?e.__ref:this.policies.identify(e)[0]},t.prototype.evict=function(e){if(!e.id){if(G.call(e,"id"))return!1;e=(0,j.pi)((0,j.pi)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.performTransaction=function(e,t){var i=this,n=function(t){var n=i,s=n.data,r=n.optimisticData;++i.txCount,t&&(i.data=i.optimisticData=t);try{e(i)}finally{--i.txCount,i.data=s,i.optimisticData=r}},s=!1;"string"==typeof t?(this.optimisticData=this.optimisticData.addLayer(t,n),s=!0):null===t?n(this.data):n(),this.broadcastWatches(s)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=(0,F.Gw)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(i){return t.maybeBroadcastWatch(i,e)}))},t.prototype.broadcastWatch=function(e,t){this.watchDep.dirty(e),this.watchDep(e);var i=this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic});e.optimistic&&t&&(i.fromOptimisticTransaction=!0),e.callback(i)},t}(U)},35367:()=>{},55765:(e,t,i)=>{"use strict";i.d(t,{f:()=>T});var n=i(23564),s=i(10690),r=i(81707),a=i(80496),o=i(96593),l=i(82152),c=i(21498),d=i(66282),u=i(85942),h=i(77304),p=i(62634),m=function(){function e(e){var t=e.cache,i=e.client,n=e.resolvers,s=e.fragmentMatcher;this.cache=t,i&&(this.client=i),n&&this.addResolvers(n),s&&this.setFragmentMatcher(s)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=(0,a.Ee)(t.resolvers,e)})):this.resolvers=(0,a.Ee)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,i=e.remoteResult,s=e.context,r=e.variables,a=e.onlyRunForcedResolvers,o=void 0!==a&&a;return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){return t?[2,this.resolveDocument(t,i.data,s,r,this.fragmentMatcher,o).then((function(e){return(0,n.pi)((0,n.pi)({},i),{data:e.result})}))]:[2,i]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return(0,a.FS)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return(0,a.ob)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,n.pi)((0,n.pi)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(s){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(i),t).then((function(e){return(0,n.pi)((0,n.pi)({},t),e.exportedVariables)}))]:[2,(0,n.pi)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,h.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return h.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:(0,a.aL)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,i,s,r,o){return void 0===i&&(i={}),void 0===s&&(s={}),void 0===r&&(r=function(){return!0}),void 0===o&&(o=!1),(0,n.mG)(this,void 0,void 0,(function(){var l,c,d,u,h,p,m,f,g;return(0,n.Jh)(this,(function(v){return l=(0,a.p$)(e),c=(0,a.kU)(e),d=(0,a.F)(c),u=l.operation,h=u?u.charAt(0).toUpperCase()+u.slice(1):"Query",m=(p=this).cache,f=p.client,g={fragmentMap:d,context:(0,n.pi)((0,n.pi)({},i),{cache:m,client:f}),variables:s,fragmentMatcher:r,defaultOperationType:h,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(l.selectionSet,t,g).then((function(e){return{result:e,exportedVariables:g.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,o,l,c,d,u=this;return(0,n.Jh)(this,(function(h){return r=i.fragmentMap,o=i.context,l=i.variables,c=[t],d=function(e){return(0,n.mG)(u,void 0,void 0,(function(){var d,u;return(0,n.Jh)(this,(function(n){return(0,a.LZ)(e,l)?(0,a.My)(e)?[2,this.resolveField(e,t,i).then((function(t){var i;void 0!==t&&c.push(((i={})[(0,a.u2)(e)]=t,i))}))]:((0,a.Ao)(e)?d=e:(d=r[e.name.value],(0,s.kG)(d,11)),d&&d.typeCondition&&(u=d.typeCondition.name.value,i.fragmentMatcher(t,u,o))?[2,this.resolveSelectionSet(d.selectionSet,t,i).then((function(e){c.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(d)).then((function(){return(0,a.bw)(c)}))]}))}))},e.prototype.resolveField=function(e,t,i){return(0,n.mG)(this,void 0,void 0,(function(){var s,r,o,l,c,d,u,h,m,f=this;return(0,n.Jh)(this,(function(n){return s=i.variables,r=e.name.value,o=(0,a.u2)(e),l=r!==o,c=t[o]||t[r],d=Promise.resolve(c),i.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=t.__typename||i.defaultOperationType,(h=this.resolvers&&this.resolvers[u])&&(m=h[l?r:o])&&(d=Promise.resolve(p.cacheSlot.withValue(this.cache,m,[t,(0,a.NC)(e,s),i.context,{field:e,fragmentMap:i.fragmentMap}])))),[2,d.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(i.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?f.resolveSubSelectedArray(e,t,i):e.selectionSet?f.resolveSelectionSet(e.selectionSet,t,i):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,i){var n=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?n.resolveSubSelectedArray(e,t,i):e.selectionSet?n.resolveSelectionSet(e.selectionSet,t,i):void 0})))},e}(),f=new(a.mr?WeakMap:Map);function g(e,t){var i=e[t];"function"==typeof i&&(e[t]=function(){return f.set(e,(f.get(e)+1)%1e15),i.apply(this,arguments)})}function v(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var y=function(){function e(e){this.cache=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.diff=null,this.observableQuery=null,f.has(e)||(f.set(e,0),g(e,"evict"),g(e,"modify"),g(e,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||u.I.loading;return this.variables&&this.networkStatus!==u.I.loading&&!(0,l.D)(this.variables,e.variables)&&(t=u.I.setVariables),(0,l.D)(e.variables,this.variables)||(this.diff=null),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){v(this),this.diff=null,this.dirty=!1},e.prototype.getDiff=function(e){return void 0===e&&(e=this.variables),this.diff&&(0,l.D)(e,this.variables)?this.diff:(this.updateWatch(this.variables=e),this.diff=this.cache.diff({query:this.document,variables:e,returnPartialData:!0,optimistic:!0}))},e.prototype.setDiff=function(e){var t=this,i=this.diff;this.diff=e,this.dirty||(e&&e.result)===(i&&i.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;v(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if((0,u.O)(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.cancel(),delete this.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var e=this.observableQuery;e&&e.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var i=this.observableQuery;i&&"no-cache"===i.options.fetchPolicy||this.lastWatch&&this.lastWatch.query===this.document&&(0,l.D)(e,this.lastWatch.variables)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:e,optimistic:!0,callback:function(e){return t.setDiff(e)}}))},e.prototype.shouldWrite=function(e,t){var i=this.lastWrite;return!(i&&i.dmCount===f.get(this.cache)&&(0,l.D)(t,i.variables)&&(0,l.D)(e.data,i.result.data))},e.prototype.markResult=function(e,t,i){var n=this;this.graphQLErrors=(0,a.Of)(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.diff={result:e.data,complete:!0}:!this.stopped&&i&&(E(e,t.errorPolicy)?this.cache.performTransaction((function(i){if(n.shouldWrite(e,t.variables))i.writeQuery({query:n.document,data:e.data,variables:t.variables}),n.lastWrite={result:e,variables:t.variables,dmCount:f.get(n.cache)};else if(n.diff&&n.diff.complete)return void(e.data=n.diff.result);var s=i.diff({query:n.document,variables:t.variables,returnPartialData:!0,optimistic:!0});n.stopped||n.updateWatch(t.variables),n.diff=s,s.complete&&(e.data=s.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=u.I.ready},e.prototype.markError=function(e){return this.networkStatus=u.I.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function E(e,t){void 0===t&&(t="none");var i="ignore"===t||"all"===t,n=!(0,a.d2)(e);return!n&&i&&e.data&&(n=!0),n}var b=Object.prototype.hasOwnProperty,S=function(){function e(e){var t=e.cache,i=e.link,n=e.queryDeduplication,s=void 0!==n&&n,r=e.onBroadcast,o=e.ssrMode,l=void 0!==o&&o,c=e.clientAwareness,d=void 0===c?{}:c,u=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(a.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=i,this.queryDeduplication=s,this.clientAwareness=d,this.localState=u||new m({cache:t}),this.ssrMode=l,this.assumeImmutableResults=!!h,(this.onBroadcast=r)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,i){e.stopQueryNoBroadcast(i)})),this.cancelPendingFetches(new s.ej(12))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,i=e.variables,r=e.optimisticResponse,o=e.updateQueries,l=e.refetchQueries,d=void 0===l?[]:l,u=e.awaitRefetchQueries,h=void 0!==u&&u,p=e.update,m=e.errorPolicy,f=void 0===m?"none":m,g=e.fetchPolicy,v=e.context,y=void 0===v?{}:v;return(0,n.mG)(this,void 0,void 0,(function(){var e,l,u;return(0,n.Jh)(this,(function(m){switch(m.label){case 0:return(0,s.kG)(t,13),(0,s.kG)(!g||"no-cache"===g,14),e=this.generateMutationId(),t=this.transform(t).document,i=this.getVariables(t,i),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,i,y)]:[3,2];case 1:i=m.sent(),m.label=2;case 2:return l=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:i,loading:!0,error:null}),r&&this.markMutationOptimistic(r,{mutationId:e,document:t,variables:i,errorPolicy:f,updateQueries:o,update:p}),this.broadcastQueries(),u=this,[2,new Promise((function(s,m){var v,E;u.getObservableFromLink(t,(0,n.pi)((0,n.pi)({},y),{optimisticResponse:r}),i,!1).subscribe({next:function(n){if((0,a.d2)(n)&&"none"===f)E=new c.c({graphQLErrors:n.errors});else{if(l&&(l.loading=!1,l.error=null),"no-cache"!==g)try{u.markMutationResult({mutationId:e,result:n,document:t,variables:i,errorPolicy:f,updateQueries:o,update:p})}catch(e){return void(E=new c.c({networkError:e}))}v=n}},error:function(t){l&&(l.loading=!1,l.error=t),r&&u.cache.removeOptimistic(e),u.broadcastQueries(),m(new c.c({networkError:t}))},complete:function(){if(E&&l&&(l.loading=!1,l.error=E),r&&u.cache.removeOptimistic(e),u.broadcastQueries(),E)m(E);else{"function"==typeof d&&(d=d(v));var t=[];(0,a.Of)(d)&&d.forEach((function(e){if("string"==typeof e)u.queries.forEach((function(i){var n=i.observableQuery;n&&n.queryName===e&&t.push(n.refetch())}));else{var i={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(i.context=e.context),t.push(u.query(i))}})),Promise.all(h?t:[]).then((function(){"ignore"===f&&v&&(0,a.d2)(v)&&delete v.errors,s(v)}),m)}}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var i=this;if(void 0===t&&(t=this.cache),E(e.result,e.errorPolicy)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],s=e.updateQueries;s&&this.queries.forEach((function(r,o){var l=r.observableQuery,c=l&&l.queryName;if(c&&b.call(s,c)){var d=s[c],u=i.queries.get(o),h=u.document,p=u.variables,m=t.diff({query:h,variables:p,returnPartialData:!0,optimistic:!1}),f=m.result;if(m.complete&&f){var g=d(f,{mutationResult:e.result,queryName:h&&(0,a.rY)(h)||void 0,queryVariables:p});g&&n.push({result:g,dataId:"ROOT_QUERY",query:h,variables:p})}}})),t.performTransaction((function(t){n.forEach((function(e){return t.write(e)}));var i=e.update;i&&i(t,e.result)}),null)}},e.prototype.markMutationOptimistic=function(e,t){var i=this,s="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{i.markMutationResult((0,n.pi)((0,n.pi)({},t),{result:{data:s}}),e)}catch(e){}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,i){return this.fetchQueryObservable(e,t,i).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,i){e[i]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var i=this.cache.transformDocument(e),n=(0,a.Fo)(this.cache.transformForLink(i)),s=this.localState.clientQuery(i),r=n&&this.localState.serverQuery(n),o={document:i,hasClientExports:(0,a.mj)(i),hasForcedResolvers:this.localState.shouldForceResolvers(i),clientQuery:s,serverQuery:r,defaultVars:(0,a.O4)((0,a.$H)(i))},l=function(e){e&&!t.has(e)&&t.set(e,o)};l(e),l(i),l(s),l(r)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,n.pi)((0,n.pi)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=(0,n.pi)((0,n.pi)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new y(this.cache),i=new d.u({queryManager:this,queryInfo:t,options:e});return this.queries.set(i.queryId,t),t.init({document:e.query,observableQuery:i,variables:e.variables}),i},e.prototype.query=function(e){var t=this;(0,s.kG)(e.query,15),(0,s.kG)("Document"===e.query.kind,16),(0,s.kG)(!e.returnPartialData,17),(0,s.kG)(!e.pollInterval,18);var i=this.generateQueryId();return this.fetchQuery(i,e).finally((function(){return t.stopQuery(i)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(){return this.cancelPendingFetches(new s.ej(19)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=u.I.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var i=[];return this.queries.forEach((function(n,s){var r=n.observableQuery;if(r&&r.hasObservers()){var a=r.options.fetchPolicy;r.resetLastResults(),"cache-only"===a||!e&&"standby"===a||i.push(r.refetch()),t.getQuery(s).setDiff(null)}})),this.broadcastQueries(),Promise.all(i)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,i=e.query,n=e.fetchPolicy,s=e.errorPolicy,r=e.variables,o=e.context,l=void 0===o?{}:o;i=this.transform(i).document,r=this.getVariables(i,r);var d=function(e){return t.getObservableFromLink(i,l,e,!1).map((function(r){if("no-cache"!==n&&(E(r,s)&&t.cache.write({query:i,result:r.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),(0,a.d2)(r))throw new c.c({graphQLErrors:r.errors});return r}))};if(this.transform(i).hasClientExports){var u=this.localState.addExportedVariables(i,r,l).then(d);return new a.y$((function(e){var t=null;return u.then((function(i){return t=i.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return d(r)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,i,s){var o,l,c=this;void 0===s&&(s=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var d=this.transform(e).serverQuery;if(d){var u=this.inFlightLinkObservables,h=this.link,p={query:d,variables:i,operationName:(0,a.rY)(d)||void 0,context:this.prepareContext((0,n.pi)((0,n.pi)({},t),{forceFetch:!s}))};if(t=p.context,s){var m=u.get(d)||new Map;u.set(d,m);var f=JSON.stringify(i);if(!(l=m.get(f))){var g=new a.X_([(0,r.execute)(h,p)]);m.set(f,l=g),g.cleanup((function(){m.delete(f)&&m.size<1&&u.delete(d)}))}}else l=new a.X_([(0,r.execute)(h,p)])}else l=new a.X_([a.y$.of({data:{}})]),t=this.prepareContext(t);var v=this.transform(e).clientQuery;return v&&(l=(0,a.sz)(l,(function(e){return c.localState.runResolvers({document:v,remoteResult:e,context:t,variables:i})}))),l},e.prototype.getResultsFromLink=function(e,t,i){var n=e.lastRequestId;return(0,a.sz)(this.getObservableFromLink(e.document,i.context,i.variables),(function(s){var r=(0,a.Of)(s.errors);if(n>=e.lastRequestId){if(r&&"none"===i.errorPolicy)throw e.markError(new c.c({graphQLErrors:s.errors}));e.markResult(s,i,t),e.markReady()}var o={data:s.data,loading:!1,networkStatus:e.networkStatus||u.I.ready};return r&&"ignore"!==i.errorPolicy&&(o.errors=s.errors),o}),(function(t){var i=(0,c.M)(t)?t:new c.c({networkError:t});throw n>=e.lastRequestId&&e.markError(i),i}))},e.prototype.fetchQueryObservable=function(e,t,i){var n=this;void 0===i&&(i=u.I.loading);var s=this.transform(t.query).document,r=this.getVariables(s,t.variables),o=this.getQuery(e),l=o.networkStatus,c=t.fetchPolicy,d=void 0===c?"cache-first":c,h=t.errorPolicy,p=void 0===h?"none":h,m=t.returnPartialData,f=void 0!==m&&m,g=t.notifyOnNetworkStatusChange,v=void 0!==g&&g,y=t.context,E=void 0===y?{}:y;("cache-first"===d||"cache-and-network"===d||"network-only"===d||"no-cache"===d)&&v&&"number"==typeof l&&l!==i&&(0,u.O)(i)&&("cache-first"!==d&&(d="cache-and-network"),f=!0);var b=Object.assign({},t,{query:s,variables:r,fetchPolicy:d,errorPolicy:p,returnPartialData:f,notifyOnNetworkStatusChange:v,context:E}),S=function(e){return b.variables=e,n.fetchQueryByPolicy(o,b,i)};this.fetchCancelFns.set(e,(function(e){Promise.resolve().then((function(){return O.cancel(e)}))}));var O=new a.X_(this.transform(b.query).hasClientExports?this.localState.addExportedVariables(b.query,b.variables,b.context).then(S):S(b.variables));return O.cleanup((function(){n.fetchCancelFns.delete(e);var i=t.nextFetchPolicy;i&&(t.nextFetchPolicy=void 0,t.fetchPolicy="function"==typeof i?i.call(t,t.fetchPolicy||"cache-first"):i)})),O},e.prototype.fetchQueryByPolicy=function(e,t,i){var s=this,r=t.query,o=t.variables,l=t.fetchPolicy,c=t.errorPolicy,d=t.returnPartialData,h=t.context;e.init({document:r,variables:o,lastRequestId:this.generateRequestId(),networkStatus:i});var p=function(){return e.getDiff(o)},m=function(t,i){void 0===i&&(i=e.networkStatus||u.I.loading);var l=t.result;var c=function(e){return a.y$.of((0,n.pi)({data:e,loading:(0,u.O)(i),networkStatus:i},t.complete?null:{partial:!0}))};return s.transform(r).hasForcedResolvers?s.localState.runResolvers({document:r,remoteResult:{data:l},context:h,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return c(e.data)})):c(l)},f=function(t){return s.getResultsFromLink(e,t,{variables:o,context:h,fetchPolicy:l,errorPolicy:c})};switch(l){default:case"cache-first":return(g=p()).complete?[m(g,e.markReady())]:d?[m(g),f(!0)]:[f(!0)];case"cache-and-network":var g;return(g=p()).complete||d?[m(g),f(!0)]:[f(!0)];case"cache-only":return[m(p(),e.markReady())];case"network-only":return[f(!0)];case"no-cache":return[f(!1)];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new y(this.cache)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,n.pi)((0,n.pi)({},t),{clientAwareness:this.clientAwareness})},e}();function O(e,t){return(0,a.oA)(e,t,t.variables&&{variables:(0,n.pi)((0,n.pi)({},e.variables),t.variables)})}var T=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=e.uri,n=e.credentials,a=e.headers,l=e.cache,c=e.ssrMode,d=void 0!==c&&c,u=e.ssrForceFetchDelay,h=void 0===u?0:u,p=e.connectToDevTools,f=void 0===p?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1:p,g=e.queryDeduplication,v=void 0===g||g,y=e.defaultOptions,E=e.assumeImmutableResults,b=void 0!==E&&E,O=e.resolvers,T=e.typeDefs,_=e.fragmentMatcher,N=e.name,w=e.version,A=e.link;if(A||(A=i?new o.uG({uri:i,credentials:n,headers:a}):r.ApolloLink.empty()),!l)throw new s.ej(9);this.link=A,this.cache=l,this.disableNetworkFetches=d||h>0,this.queryDeduplication=v,this.defaultOptions=y||{},this.typeDefs=T,h&&setTimeout((function(){return t.disableNetworkFetches=!1}),h),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),f&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),this.version="3.3.11",this.localState=new m({cache:l,client:this,resolvers:O,fragmentMatcher:_}),this.queryManager=new S({cache:this.cache,link:this.link,queryDeduplication:v,ssrMode:d,clientAwareness:{name:N,version:w},localState:this.localState,assumeImmutableResults:b,onBroadcast:f?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=O(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,n.pi)((0,n.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=O(this.defaultOptions.query,e)),(0,s.kG)("cache-and-network"!==e.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,n.pi)((0,n.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=O(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return(0,r.execute)(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}()},66282:(e,t,i)=>{"use strict";i.d(t,{u:()=>c});var n=i(23564),s=i(10690),r=i(82152),a=i(85942),o=i(80496),l=function(){function e(e,t,i,n){this.observer=e,this.options=t,this.fetch=i,this.shouldFetch=n}return e.prototype.reobserve=function(e,t){e?this.updateOptions(e):this.updatePolling();var i=this.fetch(this.options,t);return this.concast&&this.concast.removeObserver(this.observer,!0),i.addObserver(this.observer),(this.concast=i).promise},e.prototype.updateOptions=function(e){return Object.assign(this.options,(0,o.oA)(e)),this.updatePolling(),this},e.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},e.prototype.updatePolling=function(){var e=this,t=this.pollingInfo,i=this.options.pollInterval;if(i){if((!t||t.interval!==i)&&((0,s.kG)(i,20),!1!==this.shouldFetch)){(t||(this.pollingInfo={})).interval=i;var n=function(){e.pollingInfo&&(e.shouldFetch&&e.shouldFetch()?e.reobserve({fetchPolicy:"network-only",nextFetchPolicy:e.options.fetchPolicy||"cache-first"},a.I.poll).then(r,r):r())},r=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(n,t.interval))};r()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)},e}(),c=function(e){function t(t){var i=t.queryManager,s=t.queryInfo,r=t.options,l=e.call(this,(function(e){return l.onSubscribe(e)}))||this;l.observers=new Set,l.subscriptions=new Set,l.observer={next:function(e){(l.lastError||l.isDifferentFromLastResult(e))&&(l.updateLastResult(e),(0,o.pM)(l.observers,"next",e))},error:function(e){l.updateLastResult((0,n.pi)((0,n.pi)({},l.lastResult),{error:e,errors:e.graphQLErrors,networkStatus:a.I.error,loading:!1})),(0,o.pM)(l.observers,"error",l.lastError=e)}},l.isTornDown=!1,l.options=r,l.queryId=i.generateQueryId();var c=(0,o.$H)(r.query);return l.queryName=c&&c.name&&c.name.value,l.queryManager=i,l.queryInfo=s,l}return(0,n.ZT)(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,i){var n={next:function(i){t(i),e.observers.delete(n),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){s.unsubscribe()}),0)},error:i},s=e.subscribe(n)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.lastResult,i=this.queryInfo.networkStatus||t&&t.networkStatus||a.I.ready,s=(0,n.pi)((0,n.pi)({},t),{loading:(0,a.O)(i),networkStatus:i});if(this.isTornDown)return s;var r=this.options.fetchPolicy,o=void 0===r?"cache-first":r;if("no-cache"===o||"network-only"===o)delete s.partial;else if(!s.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var l=this.queryInfo.getDiff();s.data=l.complete||this.options.returnPartialData?l.result:void 0,l.complete?(s.networkStatus!==a.I.loading||"cache-first"!==o&&"cache-only"!==o||(s.networkStatus=a.I.ready,s.loading=!1),delete s.partial):s.partial=!0}return e&&this.updateLastResult(s),s},t.prototype.isDifferentFromLastResult=function(e){return!(0,r.D)(this.lastResultSnapshot,e)},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t={pollInterval:0},i=this.options.fetchPolicy;return"no-cache"!==i&&"cache-and-network"!==i&&(t.fetchPolicy="network-only",t.nextFetchPolicy=i||"cache-first"),e&&!(0,r.D)(this.options.variables,e)&&(t.variables=this.options.variables=(0,n.pi)((0,n.pi)({},this.options.variables),e)),this.newReobserver(!1).reobserve(t,a.I.refetch)},t.prototype.fetchMore=function(e){var t=this,i=(0,n.pi)((0,n.pi)({},e.query?e:(0,n.pi)((0,n.pi)((0,n.pi)({},this.options),e),{variables:(0,n.pi)((0,n.pi)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),s=this.queryManager.generateQueryId();return i.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=a.I.fetchMore,this.observe()),this.queryManager.fetchQuery(s,i,a.I.fetchMore).then((function(n){var s=n.data,r=e.updateQuery;return r?t.updateQuery((function(e){return r(e,{fetchMoreResult:s,variables:i.variables})})):t.queryManager.cache.writeQuery({query:i.query,variables:i.variables,data:s}),n})).finally((function(){t.queryManager.stopQuery(s),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,i=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(i){var n=e.updateQuery;n&&t.updateQuery((function(e,t){var s=t.variables;return n(e,{subscriptionData:i,variables:s})}))},error:function(t){e.onError&&e.onError(t)}});return this.subscriptions.add(i),function(){t.subscriptions.delete(i)&&i.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){if((0,r.D)(this.variables,e))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=e,!this.observers.size)return Promise.resolve();var t=this.options.fetchPolicy,i=void 0===t?"cache-first":t,n={fetchPolicy:i,variables:e};return"cache-first"!==i&&"no-cache"!==i&&"network-only"!==i&&(n.fetchPolicy="cache-and-network",n.nextFetchPolicy=i),this.reobserve(n,a.I.setVariables)},t.prototype.updateQuery=function(e){var t,i=this.queryManager,n=e(i.cache.diff({query:this.options.query,variables:this.variables,previousResult:null===(t=this.lastResult)||void 0===t?void 0:t.data,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(i.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),i.broadcastQueries())},t.prototype.startPolling=function(e){this.getReobserver().updateOptions({pollInterval:e})},t.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:(0,o.Xh)(e),(0,o.Of)(e.errors)||delete this.lastError,t},t.prototype.onSubscribe=function(e){var t=this;if(e===this.observer)return function(){};try{var i=e._subscription._observer;i&&!i.error&&(i.error=d)}catch(e){}var n=!this.observers.size;return this.observers.add(e),this.lastError?e.error&&e.error(this.lastError):this.lastResult&&e.next&&e.next(this.lastResult),n&&this.reobserve().catch((function(e){})),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},t.prototype.newReobserver=function(e){var t=this,i=this.queryManager,s=this.queryId;return i.setObservableQuery(this),new l(this.observer,e?this.options:(0,n.pi)({},this.options),(function(e,n){return i.setObservableQuery(t),i.fetchQueryObservable(s,e,n)}),!i.ssrMode&&function(){return!(0,a.O)(t.queryInfo.networkStatus)})},t.prototype.reobserve=function(e,t){return this.isTornDown=!1,this.getReobserver().reobserve(e,t)},t.prototype.observe=function(){this.observer.next(this.getCurrentResult(!1))},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(o.y$);function d(e){}(0,o.Dy)(c)},71439:(e,t,i)=>{"use strict";i.d(t,{ApolloClient:()=>n.f,ApolloError:()=>r.c,ApolloLink:()=>l.ApolloLink,InMemoryCache:()=>a.InMemoryCache,createHttpLink:()=>c.LQ,gql:()=>u.ZP});var n=i(55765),s=(i(66282),i(85942),i(72191));i.o(s,"ApolloLink")&&i.d(t,{ApolloLink:function(){return s.ApolloLink}}),i.o(s,"createHttpLink")&&i.d(t,{createHttpLink:function(){return s.createHttpLink}});var r=i(21498),a=i(62634),o=i(35367);i.o(o,"ApolloLink")&&i.d(t,{ApolloLink:function(){return o.ApolloLink}}),i.o(o,"createHttpLink")&&i.d(t,{createHttpLink:function(){return o.createHttpLink}});var l=i(81707);i.o(l,"createHttpLink")&&i.d(t,{createHttpLink:function(){return l.createHttpLink}});var c=i(96593),d=(i(84913),i(80496),i(10690)),u=i(95990);(0,d.U6)("log");u.ZP.resetCaches,u.ZP.disableFragmentWarnings,u.ZP.enableExperimentalFragmentVariables,u.ZP.disableExperimentalFragmentVariables},85942:(e,t,i)=>{"use strict";var n;function s(e){return!!e&&e<7}i.d(t,{I:()=>n,O:()=>s}),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(n||(n={}))},72191:()=>{},21498:(e,t,i)=>{"use strict";i.d(t,{M:()=>r,c:()=>a});var n=i(23564),s=i(80496);function r(e){return e.hasOwnProperty("graphQLErrors")}var a=function(e){function t(i){var n,r,a=i.graphQLErrors,o=i.networkError,l=i.errorMessage,c=i.extraInfo,d=e.call(this,l)||this;return d.graphQLErrors=a||[],d.networkError=o||null,d.message=l||(n=d,r="",(0,s.Of)(n.graphQLErrors)&&n.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";r+=t+"\n"})),n.networkError&&(r+=n.networkError.message+"\n"),r=r.replace(/\n$/,"")),d.extraInfo=c,d.__proto__=t.prototype,d}return(0,n.ZT)(t,e),t}(Error)},97222:(e,t,i)=>{"use strict";i.d(t,{i:()=>d});var n=i(23564),s=i(10690),r=i(80496),a=i(84913);function o(e,t){return t?t(e):r.y$.of()}function l(e){return"function"==typeof e?new d(e):e}function c(e){return e.request.length<=1}!function(e){function t(t,i){var n=e.call(this,t)||this;return n.link=i,n}(0,n.ZT)(t,e)}(Error);var d=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return r.y$.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(l).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,i,n){var s=l(i),a=l(n||new e(o));return c(s)&&c(a)?new e((function(e){return t(e)?s.request(e)||r.y$.of():a.request(e)||r.y$.of()})):new e((function(e,i){return t(e)?s.request(e,i)||r.y$.of():a.request(e,i)||r.y$.of()}))},e.execute=function(e,t){return e.request((0,a.zi)(t.context,(0,a.DQ)((0,a.Ak)(t))))||r.y$.of()},e.concat=function(t,i){var n=l(t);if(c(n))return n;var s=l(i);return c(s)?new e((function(e){return n.request(e,(function(e){return s.request(e)||r.y$.of()}))||r.y$.of()})):new e((function(e,t){return n.request(e,(function(e){return s.request(e,t)||r.y$.of()}))||r.y$.of()}))},e.prototype.split=function(t,i,n){return this.concat(e.split(t,i,n||new e(o)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw new s.ej(21)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}()},24957:(e,t,i)=>{"use strict";i(97222).i.concat},67325:(e,t,i)=>{"use strict";i(97222).i.empty},2550:(e,t,i)=>{"use strict";i.d(t,{h:()=>n});var n=i(97222).i.execute},34674:(e,t,i)=>{"use strict";i(97222).i.from},81707:(e,t,i)=>{"use strict";i.d(t,{ApolloLink:()=>s.i,execute:()=>n.h});i(67325),i(34674),i(64738),i(24957);var n=i(2550),s=i(97222),r=i(79875);i.o(r,"createHttpLink")&&i.d(t,{createHttpLink:function(){return r.createHttpLink}})},64738:(e,t,i)=>{"use strict";i(97222).i.split},79875:()=>{},96593:(e,t,i)=>{"use strict";i.d(t,{uG:()=>m,LQ:()=>p});var n=i(84913),s=Object.prototype.hasOwnProperty;var r=i(10690),a=function(e,t){var i;try{i=JSON.stringify(e)}catch(e){var n=new r.ej(23);throw n.parseError=e,n}return i},o=i(23564),l=i(39011),c={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},d=i(80285),u=i(81707),h=i(80496);var p=function(e){void 0===e&&(e={});var t=e.uri,i=void 0===t?"/graphql":t,p=e.fetch,m=e.includeExtensions,f=e.useGETForQueries,g=e.includeUnusedVariables,v=void 0!==g&&g,y=(0,o._T)(e,["uri","fetch","includeExtensions","useGETForQueries","includeUnusedVariables"]);!function(e){if(!e&&"undefined"==typeof fetch)throw new r.ej(22)}(p),p||(p=fetch);var E={http:{includeExtensions:m},options:y.fetchOptions,credentials:y.credentials,headers:y.headers};return new u.ApolloLink((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,i),r=e.getContext(),u={};if(r.clientAwareness){var m=r.clientAwareness,g=m.name,y=m.version;g&&(u["apollographql-client-name"]=g),y&&(u["apollographql-client-version"]=y)}var b,S=(0,o.pi)((0,o.pi)({},u),r.headers),O={http:r.http,options:r.fetchOptions,credentials:r.credentials,headers:S},T=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var s=(0,o.pi)((0,o.pi)({},t.options),{headers:t.headers,credentials:t.credentials}),r=t.http||{};i.forEach((function(e){s=(0,o.pi)((0,o.pi)((0,o.pi)({},s),e.options),{headers:(0,o.pi)((0,o.pi)({},s.headers),e.headers)}),e.credentials&&(s.credentials=e.credentials),r=(0,o.pi)((0,o.pi)({},r),e.http)}));var a=e.operationName,c=e.extensions,d=e.variables,u=e.query,h={operationName:a,variables:d};return r.includeExtensions&&(h.extensions=c),r.includeQuery&&(h.query=(0,l.S)(u)),{options:s,body:h}}(e,c,E,O),_=T.options,N=T.body;if(N.variables&&!v){var w=new Set(Object.keys(N.variables));(0,d.Vn)(e.query,{Variable:function(e,t,i){i&&"VariableDefinition"!==i.kind&&w.delete(e.name.value)}}),w.size&&(N.variables=(0,o.pi)({},N.variables),w.forEach((function(e){delete N.variables[e]})))}if(!_.signal){var A=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),I=A.controller,k=A.signal;(b=I)&&(_.signal=k)}if(f&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(_.method="GET"),"GET"===_.method){var P=function(e,t){var i=[],n=function(e,t){i.push(e+"="+encodeURIComponent(t))};if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var s=void 0;try{s=a(t.variables)}catch(e){return{parseError:e}}n("variables",s)}if(t.extensions){var r=void 0;try{r=a(t.extensions)}catch(e){return{parseError:e}}n("extensions",r)}var o="",l=e,c=e.indexOf("#");-1!==c&&(o=e.substr(c),l=e.substr(0,c));var d=-1===l.indexOf("?")?"?":"&";return{newURI:l+d+i.join("&")+o}}(t,N),L=P.newURI,D=P.parseError;if(D)return(0,n.Qc)(D);t=L}else try{_.body=a(N)}catch(D){return(0,n.Qc)(D)}return new h.y$((function(i){var r;return p(t,_).then((function(t){return e.setContext({response:t}),t})).then((r=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(n){var i=n;throw i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,i}})).then((function(t){return e.status>=300&&(0,n.PW)(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||s.call(t,"data")||s.call(t,"errors")||(0,n.PW)(e,t,"Server response was missing for query '"+(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName)+"'."),t}))})).then((function(e){return i.next(e),i.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&i.next(e.result),i.error(e))})),function(){b&&b.abort()}}))}))},m=function(e){function t(t){void 0===t&&(t={});var i=e.call(this,p(t).request)||this;return i.options=t,i}return(0,o.ZT)(t,e),t}(u.ApolloLink)},84913:(e,t,i)=>{"use strict";i.d(t,{zi:()=>c,Qc:()=>s,PW:()=>a,DQ:()=>d,Ak:()=>o});var n=i(80496);function s(e){return new n.y$((function(t){t.error(e)}))}var r=i(10690);var a=function(e,t,i){var n=new Error(i);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n};function o(e){for(var t=["query","operationName","variables","extensions","context"],i=0,n=Object.keys(e);i<n.length;i++){var s=n[i];if(t.indexOf(s)<0)throw new r.ej(26)}return e}var l=i(23564);function c(e,t){var i=(0,l.pi)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){i="function"==typeof e?(0,l.pi)((0,l.pi)({},i),e(i)):(0,l.pi)((0,l.pi)({},i),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,l.pi)({},i)}}),t}function d(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?(0,n.rY)(t.query)||void 0:""),t}},23564:(e,t,i)=>{"use strict";i.d(t,{Jh:()=>l,ZT:()=>s,_T:()=>a,mG:()=>o,pi:()=>r,pr:()=>c});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function s(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function a(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}function o(e,t,i,n){return new(i||(i=Promise))((function(s,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,o)}l((n=n.apply(e,t||[])).next())}))}function l(e,t){var i,n,s,r,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){a.label=r[1];break}if(6===r[0]&&a.label<s[1]){a.label=s[1],s=r;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(r);break}s[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}function c(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<i;t++)for(var r=arguments[t],a=0,o=r.length;a<o;a++,s++)n[s]=r[a];return n}},80496:(e,t,i)=>{"use strict";i.d(t,{X_:()=>ae,w0:()=>$,y$:()=>Q(),Gw:()=>U,NC:()=>b,sz:()=>ne,aL:()=>B,mr:()=>ce,Xh:()=>J,oA:()=>de,F:()=>d,Dy:()=>se,O4:()=>L,kU:()=>I,hi:()=>u,Yk:()=>c,p$:()=>P,$H:()=>w,rY:()=>A,iW:()=>k,PT:()=>E,qw:()=>O,d2:()=>le,mj:()=>o,FS:()=>a,My:()=>T,Ao:()=>_,Of:()=>oe,hh:()=>f,pM:()=>ie,kQ:()=>m,Jv:()=>te,Ee:()=>z,bw:()=>K,ob:()=>G,Fo:()=>j,u2:()=>S,LZ:()=>r,vf:()=>v});var n=i(77304),s=i(10690);function r(e,t){var i=e.directives;return!i||!i.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var i=e.arguments;e.name.value;(0,s.kG)(i&&1===i.length,39);var n=i[0];(0,s.kG)(n.name&&"if"===n.name.value,40);var r=n.value;(0,s.kG)(r&&("Variable"===r.kind||"BooleanValue"===r.kind),41),t.push({directive:e,ifArgument:n})}}));return t}(i).every((function(e){var i=e.directive,n=e.ifArgument,r=!1;return"Variable"===n.value.kind?(r=t&&t[n.value.name.value],(0,s.kG)(void 0!==r,38)):r=n.value.value,"skip"===i.name.value?!r:r}))}function a(e,t){return function(e){var t=[];return(0,n.Vn)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function o(e){return e&&a(["client"],e)&&a(["export"],e)}var l=i(23564);function c(e,t){var i=t,n=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw new s.ej(42);"FragmentDefinition"===e.kind&&n.push(e)})),void 0===i&&((0,s.kG)(1===n.length,43),i=n[0].name.value),(0,l.pi)((0,l.pi)({},e),{definitions:(0,l.pr)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:i}}]}}],e.definitions)})}function d(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function u(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var i=t&&t[e.name.value];return(0,s.kG)(i,44),i;default:return null}}var h=i(35035),p=i.n(h);function m(e){return{__ref:String(e)}}function f(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function g(e,t,i,n){if(function(e){return"IntValue"===e.kind}(i)||function(e){return"FloatValue"===e.kind}(i))e[t.value]=Number(i.value);else if(function(e){return"BooleanValue"===e.kind}(i)||function(e){return"StringValue"===e.kind}(i))e[t.value]=i.value;else if(function(e){return"ObjectValue"===e.kind}(i)){var r={};i.fields.map((function(e){return g(r,e.name,e.value,n)})),e[t.value]=r}else if(function(e){return"Variable"===e.kind}(i)){var a=(n||{})[i.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(i))e[t.value]=i.values.map((function(e){var i={};return g(i,t,e,n),i[t.value]}));else if(function(e){return"EnumValue"===e.kind}(i))e[t.value]=i.value;else{if(!function(e){return"NullValue"===e.kind}(i))throw new s.ej(53);e[t.value]=null}}function v(e,t){var i=null;e.directives&&(i={},e.directives.forEach((function(e){i[e.name.value]={},e.arguments&&e.arguments.forEach((function(n){var s=n.name,r=n.value;return g(i[e.name.value],s,r,t)}))})));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach((function(e){var i=e.name,s=e.value;return g(n,i,s,t)}))),E(e.name.value,n,i)}var y=["connection","include","skip","client","rest","export"];function E(e,t,i){if(t&&i&&i.connection&&i.connection.key){if(i.connection.filter&&i.connection.filter.length>0){var n=i.connection.filter?i.connection.filter:[];n.sort();var s={};return n.forEach((function(e){s[e]=t[e]})),i.connection.key+"("+JSON.stringify(s)+")"}return i.connection.key}var r=e;if(t){var a=p()(t);r+="("+a+")"}return i&&Object.keys(i).forEach((function(e){-1===y.indexOf(e)&&(i[e]&&Object.keys(i[e]).length?r+="@"+e+"("+JSON.stringify(i[e])+")":r+="@"+e)})),r}function b(e,t){if(e.arguments&&e.arguments.length){var i={};return e.arguments.forEach((function(e){var n=e.name,s=e.value;return g(i,n,s,t)})),i}return null}function S(e){return e.alias?e.alias.value:e.name.value}function O(e,t,i){if("string"==typeof e.__typename)return e.__typename;for(var n=0,s=t.selections;n<s.length;n++){var r=s[n];if(T(r)){if("__typename"===r.name.value)return e[S(r)]}else{var a=O(e,u(r,i).selectionSet,i);if("string"==typeof a)return a}}}function T(e){return"Field"===e.kind}function _(e){return"InlineFragment"===e.kind}function N(e){(0,s.kG)(e&&"Document"===e.kind,45);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new s.ej(46);return e}));return(0,s.kG)(t.length<=1,47),e}function w(e){return N(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function A(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function I(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function k(e){var t=w(e);return(0,s.kG)(t&&"query"===t.operation,48),t}function P(e){var t;N(e);for(var i=0,n=e.definitions;i<n.length;i++){var r=n[i];if("OperationDefinition"===r.kind){var a=r.operation;if("query"===a||"mutation"===a||"subscription"===a)return r}"FragmentDefinition"!==r.kind||t||(t=r)}if(t)return t;throw new s.ej(52)}function L(e){var t=Object.create(null),i=e&&e.variableDefinitions;return i&&i.length&&i.forEach((function(e){e.defaultValue&&g(t,e.variable.name,e.defaultValue)})),t}function D(e,t,i){var n=0;return e.forEach((function(i,s){t.call(this,i,s,e)&&(e[n++]=i)}),i),e.length=n,e}var R={kind:"Field",name:{kind:"Name",value:"__typename"}};function M(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&M(t[e.name.value],t)}))}function C(e){return M(w(e)||function(e){(0,s.kG)("Document"===e.kind,49),(0,s.kG)(e.definitions.length<=1,50);var t=e.definitions[0];return(0,s.kG)("FragmentDefinition"===t.kind,51),t}(e),d(I(e)))?null:e}function x(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function F(e,t){var i=Object.create(null),s=[],r=Object.create(null),a=[],o=C((0,n.Vn)(t,{Variable:{enter:function(e,t,n){"VariableDefinition"!==n.kind&&(i[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(x(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&s.push({name:e.value.name.value})})),t.selectionSet&&V(t.selectionSet).forEach((function(e){a.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){r[e.name.value]=!0}},Directive:{enter:function(t){if(x(e)(t))return null}}}));return o&&D(s,(function(e){return!!e.name&&!i[e.name]})).length&&(o=function(e,t){var i=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return C((0,n.Vn)(t,{OperationDefinition:{enter:function(t){return(0,l.pi)((0,l.pi)({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var n=0;if(t.arguments&&t.arguments.forEach((function(e){i(e)&&(n+=1)})),1===n)return null}}},Argument:{enter:function(e){if(i(e))return null}}}))}(s,o)),o&&D(a,(function(e){return!!e.name&&!r[e.name]})).length&&(o=function(e,t){function i(t){if(e.some((function(e){return e.name===t.name.value})))return null}return C((0,n.Vn)(t,{FragmentSpread:{enter:i},FragmentDefinition:{enter:i}}))}(a,o)),o}function U(e){return(0,n.Vn)(N(e),{SelectionSet:{enter:function(e,t,i){if(!i||"OperationDefinition"!==i.kind){var n=e.selections;if(n)if(!n.some((function(e){return T(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var s=i;if(!(T(s)&&s.directives&&s.directives.some((function(e){return"export"===e.name.value}))))return(0,l.pi)((0,l.pi)({},e),{selections:(0,l.pr)(n,[R])})}}}}})}U.added=function(e){return e===R};var H={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||e.arguments.some((function(e){return"key"===e.name.value}))),t}};function j(e){return F([H],N(e))}function V(e){var t=[];return e.selections.forEach((function(e){(T(e)||_(e))&&e.selectionSet?V(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function B(e){return"query"===P(e).operation?e:(0,n.Vn)(e,{OperationDefinition:{enter:function(e){return(0,l.pi)((0,l.pi)({},e),{operation:"query"})}}})}function G(e){N(e);var t=F([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=(0,n.Vn)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return T(e)&&"__typename"===e.name.value})))return null}}})),t}var W=Object.prototype.hasOwnProperty;function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return K(e)}function K(e){var t=e[0]||{},i=e.length;if(i>1)for(var n=new $,s=1;s<i;++s)t=n.merge(t,e[s]);return t}function Y(e){return null!==e&&"object"==typeof e}var q=function(e,t,i){return this.merge(e[i],t[i])},$=function(){function e(e){void 0===e&&(e=q),this.reconciler=e,this.isObject=Y,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var i=this,n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];return Y(t)&&Y(e)?(Object.keys(t).forEach((function(s){if(W.call(e,s)){var r=e[s];if(t[s]!==r){var a=i.reconciler.apply(i,(0,l.pr)([e,t,s],n));a!==r&&((e=i.shallowCopyForMerge(e))[s]=a)}}else(e=i.shallowCopyForMerge(e))[s]=t[s]})),e):t},e.prototype.shallowCopyForMerge=function(e){return Y(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):(0,l.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}();var Z=i(49329),Q=i.n(Z);i(67121);Q().prototype["@@observable"]=function(){return this};var X=Object.prototype.toString;function J(e){return ee(e)}function ee(e,t){switch(X.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var i=e.slice(0);return t.set(e,i),i.forEach((function(e,n){i[n]=ee(e,t)})),i;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var n=Object.create(Object.getPrototypeOf(e));return t.set(e,n),Object.keys(e).forEach((function(i){n[i]=ee(e[i],t)})),n;default:return e}}function te(e){return e}function ie(e,t,i){var n=[];e.forEach((function(e){return e[t]&&n.push(e)})),n.forEach((function(e){return e[t](i)}))}function ne(e,t,i){return new(Q())((function(n){var s=n.next,r=n.error,a=n.complete,o=0,l=!1;function c(e,t){return e?function(t){++o,new Promise((function(i){return i(e(t))})).then((function(e){--o,s&&s.call(n,e),l&&d.complete()}),(function(e){--o,r&&r.call(n,e)}))}:function(e){return t&&t.call(n,e)}}var d={next:c(t,s),error:c(i,r),complete:function(){l=!0,o||a&&a.call(n)}},u=e.subscribe(d);return function(){return u.unsubscribe()}}))}function se(e){function t(t){Object.defineProperty(e,t,{value:Q()})}return"function"==typeof Symbol&&Symbol.species&&t(Symbol.species),t("@@species"),e}function re(e){return e&&"function"==typeof e.then}var ae=function(e){function t(t){var i=e.call(this,(function(e){return i.addObserver(e),function(){return i.removeObserver(e)}}))||this;return i.observers=new Set,i.addCount=0,i.promise=new Promise((function(e,t){i.resolve=e,i.reject=t})),i.handlers={next:function(e){null!==i.sub&&(i.latest=["next",e],ie(i.observers,"next",e))},error:function(e){var t=i.sub;null!==t&&(t&&Promise.resolve().then((function(){return t.unsubscribe()})),i.sub=null,i.latest=["error",e],i.reject(e),ie(i.observers,"error",e))},complete:function(){if(null!==i.sub){var e=i.sources.shift();e?re(e)?e.then((function(e){return i.sub=e.subscribe(i.handlers)})):i.sub=e.subscribe(i.handlers):(i.sub=null,i.latest&&"next"===i.latest[0]?i.resolve(i.latest[1]):i.resolve(),ie(i.observers,"complete"))}}},i.cancel=function(e){i.reject(e),i.sources=[],i.handlers.complete()},i.promise.catch((function(e){})),"function"==typeof t&&(t=[new(Q())(t)]),re(t)?t.then((function(e){return i.start(e)}),i.handlers.error):i.start(t),i}return(0,l.ZT)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],i=e[t];i&&i.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,i=!1,n=function(){i||(i=!0,t.observers.delete(s),e())},s={next:n,error:n,complete:n},r=this.addCount;this.addObserver(s),this.addCount=r},t}(Q());function oe(e){return Array.isArray(e)&&e.length>0}function le(e){return e.errors&&e.errors.length>0||!1}se(ae);var ce="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product);function de(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&(i[t]=n)}))})),i}},99874:e=>{"use strict";function t(e,t,i,n){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=i,this.p2y=n}e.exports=t,t.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var i=e,n=0;n<8;n++){var s=this.sampleCurveX(i)-e;if(Math.abs(s)<t)return i;var r=this.sampleCurveDerivativeX(i);if(Math.abs(r)<1e-6)break;i-=s/r}var a=0,o=1;for(i=e,n=0;n<20&&(s=this.sampleCurveX(i),!(Math.abs(s-e)<t));n++)e>s?a=i:o=i,i=.5*(o-a)+a;return i},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}}},82152:(e,t,i)=>{"use strict";i.d(t,{D:()=>l});var n=Object.prototype,s=n.toString,r=n.hasOwnProperty,a=Function.prototype.toString,o=new Map;function l(e,t){try{return c(e,t)}finally{o.clear()}}function c(e,t){if(e===t)return!0;var i,n,o,l=s.call(e);if(l!==s.call(t))return!1;switch(l){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(p(e,t))return!0;var u=d(e),m=d(t),f=u.length;if(f!==m.length)return!1;for(var g=0;g<f;++g)if(!r.call(t,u[g]))return!1;for(g=0;g<f;++g){var v=u[g];if(!c(e[v],t[v]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(p(e,t))return!0;for(var y=e.entries(),E="[object Map]"===l;;){var b=y.next();if(b.done)break;var S=b.value,O=S[0],T=S[1];if(!t.has(O))return!1;if(E&&!c(T,t.get(O)))return!1}return!0;case"[object Function]":var _=a.call(e);return _===a.call(t)&&(n=h,!((o=(i=_).length-n.length)>=0&&i.indexOf(n,o)===o))}return!1}function d(e){return Object.keys(e).filter(u,e)}function u(e){return void 0!==this[e]}var h="{ [native code] }";function p(e,t){var i=o.get(e);if(i){if(i.has(t))return!0}else o.set(e,i=new Set);return i.add(t),!1}},38772:(e,t,i)=>{"use strict";i.d(t,{A:()=>a,Z:()=>r});var n=i(67294),s=i(58196);function r(e){if(!e.prototype||!e.prototype.render)return e.__scuWrap||(e.__scuWrap=o(e,u));e.prototype.shouldComponentUpdate=c}function a(e){if(!e.prototype||!e.prototype.render)return e.__scuWrap||(e.__scuWrap=o(e,s.NK));e.prototype.shouldComponentUpdate=d}function o(e,t){class i extends l{}return i.prototype.renderChild=e,i.prototype.diffFunc=t,i}class l extends n.Component{shouldComponentUpdate(e){return this.diffFunc(e,this.props)}render(){return this.renderChild(this.props,this.context)}}function c(e,t){return u(e,this.props)||u(t,this.state)}function d(e,t){return u(e,this.props)||(0,s.NK)(t,this.state)}function u(e,t){for(const i in e)if(e[i]!==t[i])return!0;for(const i in t)if(!(i in e))return!0;return!1}},49627:(e,t,i)=>{"use strict";i.d(t,{h4:()=>c,OR:()=>r,_:()=>a,Fx:()=>d,rf:()=>l,iP:()=>u});var n=i(67294);const s="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;const r=function(e,t,i){const r=(0,n.useRef)(t);s((()=>{r.current=t}),[t]),(0,n.useEffect)((()=>{const t=(null==i?void 0:i.current)||window;if(!t||!t.addEventListener)return;const n=e=>r.current(e);return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}),[e,i])};const a=function(e,t){const i=(0,n.useCallback)((()=>{if("undefined"==typeof window)return t;try{const i=window.localStorage.getItem(e);return i?function(e){try{return"undefined"===e?void 0:JSON.parse(null!=e?e:"")}catch{return void console.log("parsing error on",{value:e})}}(i):t}catch(i){return console.warn("Error reading localStorage key “".concat(e,"”:"),i),t}}),[t,e]),[s,a]=(0,n.useState)(i),o=(0,n.useCallback)((t=>{"undefined"==typeof window&&console.warn("Tried setting localStorage key “".concat(e,"” even though environment is not a client"));try{const i=t instanceof Function?t(s):t;window.localStorage.setItem(e,JSON.stringify(i)),a(i),window.dispatchEvent(new Event("local-storage"))}catch(t){console.warn("Error setting localStorage key “".concat(e,"”:"),t)}}),[e,s]);(0,n.useEffect)((()=>{a(i())}),[]);const l=(0,n.useCallback)((()=>{a(i())}),[i]);return r("storage",l),r("local-storage",l),[s,o]};const o=function(){const e=(0,n.useRef)(!0);return e.current?(e.current=!1,!0):e.current};const l=function(e,t){const i=o();(0,n.useEffect)((()=>{if(!i)return e()}),t)};const c=function(){const[e,t]=(0,n.useState)(null),[i,a]=(0,n.useState)({width:0,height:0}),o=(0,n.useCallback)((()=>{a({width:(null==e?void 0:e.offsetWidth)||0,height:(null==e?void 0:e.offsetHeight)||0})}),[null==e?void 0:e.offsetHeight,null==e?void 0:e.offsetWidth]);return r("resize",o),s((()=>{o()}),[null==e?void 0:e.offsetHeight,null==e?void 0:e.offsetWidth]),[t,i]};const d=function(e){const t=(0,n.useCallback)((()=>{if("undefined"==typeof window)return null;try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Error reading localStorage key “".concat(e,"”:"),t),null}}),[e]),[i,s]=(0,n.useState)(t);(0,n.useEffect)((()=>{s(t())}),[]);const a=(0,n.useCallback)((()=>{s(t())}),[t]);return r("storage",a),r("local-storage",a),i};const u=function(){const[e,t]=(0,n.useState)({width:0,height:0}),i=()=>{t({width:window.innerWidth,height:window.innerHeight})};return r("resize",i),s((()=>{i()}),[]),e}},21924:(e,t,i)=>{"use strict";var n=i(10492),s=i(55559),r=s(n("String.prototype.indexOf"));e.exports=function(e,t){var i=n(e,!!t);return"function"==typeof i&&r(e,".prototype.")>-1?s(i):i}},55559:(e,t,i)=>{"use strict";var n=i(58612),s=i(10492),r=s("%Function.prototype.apply%"),a=s("%Function.prototype.call%"),o=s("%Reflect.apply%",!0)||n.call(a,r),l=s("%Object.getOwnPropertyDescriptor%",!0),c=s("%Object.defineProperty%",!0),d=s("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=o(n,a,arguments);if(l&&c){var i=l(t,"length");i.configurable&&c(t,"length",{value:1+d(0,e.length-(arguments.length-1))})}return t};var u=function(){return o(n,r,arguments)};c?c(e.exports,"apply",{value:u}):e.exports.apply=u},10492:(e,t,i)=>{"use strict";var n,s=SyntaxError,r=Function,a=TypeError,o=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},d=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,u=i(41405)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p=o("async function* () {}"),m=p?p.prototype:n,f=m?m.prototype:n,g="undefined"==typeof Uint8Array?n:h(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":o("async function () {}"),"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":f?h(f):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":o("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":s,"%ThrowTypeError%":d,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=i(58612),b=i(17642),S=E.call(Function.call,Array.prototype.concat),O=E.call(Function.apply,Array.prototype.splice),T=E.call(Function.call,String.prototype.replace),_=E.call(Function.call,String.prototype.slice),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,A=function(e){var t=_(e,0,1),i=_(e,-1);if("%"===t&&"%"!==i)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return T(e,N,(function(e,t,i,s){n[n.length]=i?T(s,w,"$1"):t||e})),n},I=function(e,t){var i,n=e;if(b(y,n)&&(n="%"+(i=y[n])[0]+"%"),b(v,n)){var r=v[n];if(void 0===r&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:r}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var i=A(e),n=i.length>0?i[0]:"",r=I("%"+n+"%",t),o=r.name,c=r.value,d=!1,u=r.alias;u&&(n=u[0],O(i,S([0,1],u)));for(var h=1,p=!0;h<i.length;h+=1){var m=i[h],f=_(m,0,1),g=_(m,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new s("property names with quotes must have matching quotes");if("constructor"!==m&&p||(d=!0),b(v,o="%"+(n+="."+m)+"%"))c=v[o];else if(null!=c){if(!(m in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=i.length){var y=l(c,m);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[m]}else p=b(c,m),c=c[m];p&&!d&&(v[o]=c)}}return c}},94184:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)){if(i.length){var a=s.apply(null,i);a&&e.push(a)}}else if("object"===r)if(i.toString===Object.prototype.toString)for(var o in i)n.call(i,o)&&i[o]&&e.push(o);else e.push(i.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(i=function(){return s}.apply(t,[]))||(e.exports=i)}()},54098:function(e,t){var i="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();!function(e){!function(t){var i="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,s="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,a="ArrayBuffer"in e;if(a)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}}))}function f(e){var t=new FileReader,i=m(t);return t.readAsArrayBuffer(e),i}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&s&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,i,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,i=m(t),t.readAsText(e),i;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=d(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=d(t)},h.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,i){e.push(i)})),u(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,i){e.push([i,t])})),u(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(e,t){var i,n,s=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(i=t.method||this.method||"GET",n=i.toUpperCase(),y.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),s=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(s))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},v.call(E.prototype),v.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];S.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,i){return new Promise((function(n,r){var a=new E(e,i);if(a.signal&&a.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function l(){o.abort()}o.onload=function(){var e,t,i={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var i=e.split(":"),n=i.shift().trim();if(n){var s=i.join(":").trim();t.append(n,s)}})),t)};i.url="responseURL"in o?o.responseURL:i.headers.get("X-Request-URL");var s="response"in o?o.response:o.responseText;n(new S(s,i))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new t.DOMException("Aborted","AbortError"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&s&&(o.responseType="blob"),a.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",l),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",l)}),o.send(void 0===a._bodyInit?null:a._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=h,e.Request=E,e.Response=S),t.Headers=h,t.Request=E,t.Response=S,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},69266:(e,t,i)=>{"use strict";const n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i.g?i.g:void 0,s=e=>async(t,i)=>{"string"==typeof t&&(t=(new n.TextEncoder).encode(t)),i={outputFormat:"hex",...i};const s=await n.crypto.subtle.digest(e,t);return"hex"===i.outputFormat?(e=>{const t=new DataView(e);let i="";for(let e=0;e<t.byteLength;e+=4)i+=t.getUint32(e).toString(16).padStart(8,"0");return i})(s):s};t.q4=s("SHA-1"),t.JQ=s("SHA-256"),s("SHA-384"),s("SHA-512")},4289:(e,t,i)=>{"use strict";var n=i(82215),s="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),r=Object.prototype.toString,a=Array.prototype.concat,o=Object.defineProperty,l=o&&function(){var e={};try{for(var t in o(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,i,n){var s;(!(t in e)||"function"==typeof(s=n)&&"[object Function]"===r.call(s)&&n())&&(l?o(e,t,{configurable:!0,enumerable:!1,value:i,writable:!0}):e[t]=i)},d=function(e,t){var i=arguments.length>2?arguments[2]:{},r=n(t);s&&(r=a.call(r,Object.getOwnPropertySymbols(t)));for(var o=0;o<r.length;o+=1)c(e,r[o],t[r[o]],i[r[o]])};d.supportsDescriptors=!!l,e.exports=d},35035:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var i,n="boolean"==typeof t.cycles&&t.cycles,s=t.cmp&&(i=t.cmp,function(e){return function(t,n){var s={key:t,value:e[t]},r={key:n,value:e[n]};return i(s,r)}}),r=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var i,a;if(Array.isArray(t)){for(a="[",i=0;i<t.length;i++)i&&(a+=","),a+=e(t[i])||"null";return a+"]"}if(null===t)return"null";if(-1!==r.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var o=r.push(t)-1,l=Object.keys(t).sort(s&&s(t));for(a="",i=0;i<l.length;i++){var c=l[i],d=e(t[c]);d&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d)}return r.splice(o,1),"{"+a+"}"}}(e)}},94029:(e,t,i)=>{"use strict";var n=i(95320),s=Object.prototype.toString,r=Object.prototype.hasOwnProperty,a=function(e,t,i){for(var n=0,s=e.length;n<s;n++)r.call(e,n)&&(null==i?t(e[n],n,e):t.call(i,e[n],n,e))},o=function(e,t,i){for(var n=0,s=e.length;n<s;n++)null==i?t(e.charAt(n),n,e):t.call(i,e.charAt(n),n,e)},l=function(e,t,i){for(var n in e)r.call(e,n)&&(null==i?t(e[n],n,e):t.call(i,e[n],n,e))};e.exports=function(e,t,i){if(!n(t))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=i),"[object Array]"===s.call(e)?a(e,t,r):"string"==typeof e?o(e,t,r):l(e,t,r)}},17648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,n=Object.prototype.toString,s="[object Function]";e.exports=function(e){var r=this;if("function"!=typeof r||n.call(r)!==s)throw new TypeError(t+r);for(var a,o=i.call(arguments,1),l=function(){if(this instanceof a){var t=r.apply(this,o.concat(i.call(arguments)));return Object(t)===t?t:this}return r.apply(e,o.concat(i.call(arguments)))},c=Math.max(0,r.length-o.length),d=[],u=0;u<c;u++)d.push("$"+u);if(a=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(l),r.prototype){var h=function(){};h.prototype=r.prototype,a.prototype=new h,h.prototype=null}return a}},58612:(e,t,i)=>{"use strict";var n=i(17648);e.exports=Function.prototype.bind||n},43517:(e,t,i)=>{"use strict";function n(e,t=!1){let i=0;for(let t=0,n=e.length;t<n;t++){const s=e[t],r=e[t===n-1?0:t+1];i+=s[0]*r[1],i-=r[0]*s[1]}return t?i/2:Math.abs(i/2)}i.d(t,{m:()=>n})},95360:(e,t,i)=>{"use strict";function n(e,t){let i=e[0],n=e[1],s=!1;for(let e=0,r=t.length-1;e<t.length;r=e++){const a=t[e][0],o=t[e][1],l=t[r][0],c=t[r][1];o>n!=c>n&&i<(l-a)*(n-o)/(c-o)+a&&(s=!s)}return s}i.d(t,{O:()=>n})},5696:(e,t,i)=>{"use strict";function n(e){return Math.sqrt(Math.pow(e[1][0]-e[0][0],2)+Math.pow(e[1][1]-e[0][1],2))}function s(e,t,i=0){const s=n(t);return function(e,t,i=0){return Math.abs((n=e,s=t[0],r=t[1],(n[0]-r[0])*(s[1]-r[1])-(n[1]-r[1])*(s[0]-r[0])))<=i;var n,s,r}(e,t,i)&&n([t[0],e])<=s&&n([t[1],e])<=s}i.d(t,{s8:()=>s})},95990:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>p});var n=function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};var s=i(69127),r=new Map,a=new Map,o=!0,l=!1;function c(e){return e.replace(/[\s,]+/g," ").trim()}function d(e){var t=new Set,i=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var n=e.name.value,s=c((l=e.loc).source.body.substring(l.start,l.end)),r=a.get(n);r&&!r.has(s)?o&&console.warn("Warning: fragment with name "+n+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):r||a.set(n,r=new Set),r.add(s),t.has(s)||(t.add(s),i.push(e))}else i.push(e);var l})),n(n({},e),{definitions:i})}function u(e){var t=c(e);if(!r.has(t)){var i=(0,s.Qc)(e,{experimentalFragmentVariables:l});if(!i||"Document"!==i.kind)throw new Error("Not a valid GraphQL document.");r.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(i){var n=e[i];n&&"object"==typeof n&&t.add(n)}))}));var i=e.loc;return i&&(delete i.startToken,delete i.endToken),e}(d(i)))}return r.get(t)}function h(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];"string"==typeof e&&(e=[e]);var n=e[0];return t.forEach((function(t,i){t&&"Document"===t.kind?n+=t.loc.source.body:n+=t,n+=e[i+1]})),u(n)}const p=Object.assign(h,{gql:h,default:h,resetCaches:function(){r.clear(),a.clear()},disableFragmentWarnings:function(){o=!1},enableExperimentalFragmentVariables:function(){l=!0},disableExperimentalFragmentVariables:function(){l=!1}})},50972:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,n.default)(0),e.prototype.inspect=t,s.default&&(e.prototype[s.default]=t)};var n=r(i(7706)),s=r(i(18554));function r(e){return e&&e.__esModule?e:{default:e}}},8002:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a(e,[])};var n,s=(n=i(18554))&&n.__esModule?n:{default:n};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){switch(r(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var i=[].concat(t,[e]),n=function(e){var t=e[String(s.default)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==n){var r=n.call(e);if(r!==e)return"string"==typeof r?r:a(r,i)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var i=Math.min(10,e.length),n=e.length-i,s=[],r=0;r<i;++r)s.push(a(e[r],t));1===n?s.push("... 1 more item"):n>1&&s.push("... ".concat(n," more items"));return"["+s.join(", ")+"]"}(e,i);return function(e,t){var i=Object.keys(e);if(0===i.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var i=e.constructor.name;if("string"==typeof i&&""!==i)return i}return t}(e)+"]";return"{ "+i.map((function(i){return i+": "+a(e[i],t)})).join(", ")+" }"}(e,i)}(e,t);default:return String(e)}}},7706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}},18554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=i},91807:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var n,s=(n=i(50972))&&n.__esModule?n:{default:n};var r=function(){function e(e,t,i){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=i}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();t.Location=r,(0,s.default)(r);var a=function(){function e(e,t,i,n,s,r,a){this.kind=e,this.start=t,this.end=i,this.line=n,this.column=s,this.value=a,this.prev=r,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();t.Token=a,(0,s.default)(a)},80285:(e,t,i)=>{"use strict";t.Vn=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,n=void 0,c=Array.isArray(e),d=[e],u=-1,h=[],p=void 0,m=void 0,f=void 0,g=[],v=[],y=e;do{var E=++u===d.length,b=E&&0!==h.length;if(E){if(m=0===v.length?void 0:g[g.length-1],p=f,f=v.pop(),b){if(c)p=p.slice();else{for(var S={},O=0,T=Object.keys(p);O<T.length;O++){var _=T[O];S[_]=p[_]}p=S}for(var N=0,w=0;w<h.length;w++){var A=h[w][0],I=h[w][1];c&&(A-=N),c&&null===I?(p.splice(A,1),N++):p[A]=I}}u=n.index,d=n.keys,h=n.edits,c=n.inArray,n=n.prev}else{if(m=f?c?u:d[u]:void 0,null==(p=f?f[m]:y))continue;f&&g.push(m)}var k,P=void 0;if(!Array.isArray(p)){if(!(0,r.isNode)(p))throw new Error("Invalid AST Node: ".concat((0,s.default)(p),"."));var L=l(t,p.kind,E);if(L){if((P=L.call(t,p,m,f,g,v))===o)break;if(!1===P){if(!E){g.pop();continue}}else if(void 0!==P&&(h.push([m,P]),!E)){if(!(0,r.isNode)(P)){g.pop();continue}p=P}}}if(void 0===P&&b&&h.push([m,p]),E)g.pop();else n={inArray:c,index:u,keys:d,edits:h,prev:n},c=Array.isArray(p),d=c?p:null!==(k=i[p.kind])&&void 0!==k?k:[],u=-1,h=[],f&&v.push(f),f=p}while(void 0!==n);0!==h.length&&(y=h[h.length-1][1]);return y};var n,s=(n=i(8002))&&n.__esModule?n:{default:n},r=i(91807);var a={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};var o=Object.freeze({});function l(e,t,i){var n=e[t];if(n){if(!i&&"function"==typeof n)return n;var s=i?n.leave:n.enter;if("function"==typeof s)return s}else{var r=i?e.leave:e.enter;if(r){if("function"==typeof r)return r;var a=r[t];if("function"==typeof a)return a}}}},41405:(e,t,i)=>{"use strict";var n=i.g.Symbol,s=i(55419);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&s())))}},55419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),i=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},17642:(e,t,i)=>{"use strict";var n=i(58612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},95320:e=>{"use strict";var t,i,n=Function.prototype.toString,s="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof s&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw i}}),i={},s((function(){throw 42}),null,t)}catch(e){e!==i&&(s=null)}else s=null;var r=/^\s*class\b/,a=function(e){try{var t=n.call(e);return r.test(t)}catch(e){return!1}},o=Object.prototype.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=s?function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{s(e,null,t)}catch(e){if(e!==i)return!1}return!a(e)}:function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(l)return function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}}(e);if(a(e))return!1;var t=o.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},94238:()=>{},54078:(e,t,i)=>{"use strict";var n=i(94029),s=i(42473),r=i(17642),a=i(46057),o=function(e){s(!1,e)},l=String.prototype.replace,c=String.prototype.split,d="||||",u=function(e){var t=e%100,i=t%10;return 11!==t&&1===i?0:2<=i&&i<=4&&!(t>=12&&t<=14)?1:2},h={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:u,chinese:function(){return 0},croatian:u,french:function(e){return e>1?1:0},german:function(e){return 1!==e?1:0},russian:u,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function p(e,t){var i,s,r=(i=e.pluralTypeToLanguages,s={},n(i,(function(e,t){n(e,(function(e){s[e]=t}))})),s);return r[t]||r[c.call(t,/-/,1)[0]]||r.en}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var f=/%\{(.*?)\}/g;function g(e,t,i,n,s){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var o=e,u=n||f,m=s||h,g="number"==typeof t?{smart_count:t}:t;if(null!=g.smart_count&&o){var v=c.call(o,d);o=a(v[function(e,t,i){return e.pluralTypes[p(e,t)](i)}(m,i||"en",g.smart_count)]||v[0])}return o=l.call(o,u,(function(e,t){return r(g,t)&&null!=g[t]?g[t]:e}))}function v(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var i=t.allowMissing?g:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:i,this.warn=t.warn||o,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",i=e&&e.suffix||"}";if(t===d||i===d)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(m(t)+"(.*?)"+m(i),"g")}(t.interpolation),this.pluralRules=t.pluralRules||h}v.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},v.prototype.extend=function(e,t){n(e,(function(e,i){var n=t?t+"."+i:i;"object"==typeof e?this.extend(e,n):this.phrases[n]=e}),this)},v.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:n(e,(function(e,i){var n=t?t+"."+i:i;"object"==typeof e?this.unset(e,n):delete this.phrases[n]}),this)},v.prototype.clear=function(){this.phrases={}},v.prototype.replace=function(e){this.clear(),this.extend(e)},v.prototype.t=function(e,t){var i,n,s=null==t?{}:t;if("string"==typeof this.phrases[e])i=this.phrases[e];else if("string"==typeof s._)i=s._;else if(this.onMissingKey){n=(0,this.onMissingKey)(e,s,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+e+'"'),n=e;return"string"==typeof i&&(n=g(i,s,this.currentLocale,this.tokenRegex,this.pluralRules)),n},v.prototype.has=function(e){return r(this.phrases,e)},v.transformPhrase=function(e,t,i){return g(e,t,i)},e.exports=v},18987:(e,t,i)=>{"use strict";var n;if(!Object.keys){var s=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=i(21414),o=Object.prototype.propertyIsEnumerable,l=!o.call({toString:null},"toString"),c=o.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&s.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===r.call(e),n=a(e),o=t&&"[object String]"===r.call(e),h=[];if(!t&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var m=c&&i;if(o&&e.length>0&&!s.call(e,0))for(var f=0;f<e.length;++f)h.push(String(f));if(n&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var v in e)m&&"prototype"===v||!s.call(e,v)||h.push(String(v));if(l)for(var y=function(e){if("undefined"==typeof window||!p)return u(e);try{return u(e)}catch(e){return!1}}(e),E=0;E<d.length;++E)y&&"constructor"===d[E]||!s.call(e,d[E])||h.push(d[E]);return h}}e.exports=n},82215:(e,t,i)=>{"use strict";var n=Array.prototype.slice,s=i(21414),r=Object.keys,a=r?function(e){return r(e)}:i(18987),o=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return s(e)?o(n.call(e)):o(e)}):Object.keys=a;return Object.keys||a},e.exports=a},21414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var i=t.call(e),n="[object Arguments]"===i;return n||(n="[object Array]"!==i&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},4061:(e,t,i)=>{"use strict";var n=i(43842);function s(e,t,i){var s,o,l,c;t=t||1;for(var d=0;d<e[0].length;d++){var u=e[0][d];(!d||u[0]<s)&&(s=u[0]),(!d||u[1]<o)&&(o=u[1]),(!d||u[0]>l)&&(l=u[0]),(!d||u[1]>c)&&(c=u[1])}var h=l-s,p=c-o,m=Math.min(h,p),f=m/2;if(0===m){var g=[s,o];return g.distance=0,g}for(var v=new n(void 0,r),y=s;y<l;y+=m)for(var E=o;E<c;E+=m)v.push(new a(y+f,E+f,f,e));var b=function(e){for(var t=0,i=0,n=0,s=e[0],r=0,o=s.length,l=o-1;r<o;l=r++){var c=s[r],d=s[l],u=c[0]*d[1]-d[0]*c[1];i+=(c[0]+d[0])*u,n+=(c[1]+d[1])*u,t+=3*u}return 0===t?new a(s[0][0],s[0][1],0,e):new a(i/t,n/t,0,e)}(e),S=new a(s+h/2,o+p/2,0,e);S.d>b.d&&(b=S);for(var O=v.length;v.length;){var T=v.pop();T.d>b.d&&(b=T,i&&console.log("found best %d after %d probes",Math.round(1e4*T.d)/1e4,O)),T.max-b.d<=t||(f=T.h/2,v.push(new a(T.x-f,T.y-f,f,e)),v.push(new a(T.x+f,T.y-f,f,e)),v.push(new a(T.x-f,T.y+f,f,e)),v.push(new a(T.x+f,T.y+f,f,e)),O+=4)}i&&(console.log("num probes: "+O),console.log("best distance: "+b.d));var _=[b.x,b.y];return _.distance=b.d,_}function r(e,t){return t.max-e.max}function a(e,t,i,n){this.x=e,this.y=t,this.h=i,this.d=function(e,t,i){for(var n=!1,s=1/0,r=0;r<i.length;r++)for(var a=i[r],l=0,c=a.length,d=c-1;l<c;d=l++){var u=a[l],h=a[d];u[1]>t!=h[1]>t&&e<(h[0]-u[0])*(t-u[1])/(h[1]-u[1])+u[0]&&(n=!n),s=Math.min(s,o(e,t,u,h))}return 0===s?0:(n?1:-1)*Math.sqrt(s)}(e,t,n),this.max=this.d+this.h*Math.SQRT2}function o(e,t,i,n){var s=i[0],r=i[1],a=n[0]-s,o=n[1]-r;if(0!==a||0!==o){var l=((e-s)*a+(t-r)*o)/(a*a+o*o);l>1?(s=n[0],r=n[1]):l>0&&(s+=a*l,r+=o*l)}return(a=e-s)*a+(o=t-r)*o}n.default&&(n=n.default),e.exports=s,e.exports.default=s},62587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,i,n,s){i=i||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(i);var o=1e3;s&&"number"==typeof s.maxKeys&&(o=s.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var c=0;c<l;++c){var d,u,h,p,m=e[c].replace(a,"%20"),f=m.indexOf(n);f>=0?(d=m.substr(0,f),u=m.substr(f+1)):(d=m,u=""),h=decodeURIComponent(d),p=decodeURIComponent(u),t(r,h)?Array.isArray(r[h])?r[h].push(p):r[h]=[r[h],p]:r[h]=p}return r}},12361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,n,s){return i=i||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(s){var r=encodeURIComponent(t(s))+n;return Array.isArray(e[s])?e[s].map((function(e){return r+encodeURIComponent(t(e))})).join(i):r+encodeURIComponent(t(e[s]))})).join(i):s?encodeURIComponent(t(s))+n+encodeURIComponent(t(e)):""}},17673:(e,t,i)=>{"use strict";t.decode=t.parse=i(62587),t.encode=t.stringify=i(12361)},82582:function(e){e.exports=function(){"use strict";function e(e,n,s,r,a){!function e(i,n,s,r,a){for(;r>s;){if(r-s>600){var o=r-s+1,l=n-s+1,c=Math.log(o),d=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*d*(o-d)/o)*(l-o/2<0?-1:1);e(i,n,Math.max(s,Math.floor(n-l*d/o+u)),Math.min(r,Math.floor(n+(o-l)*d/o+u)),a)}var h=i[n],p=s,m=r;for(t(i,s,n),a(i[r],h)>0&&t(i,s,r);p<m;){for(t(i,p,m),p++,m--;a(i[p],h)<0;)p++;for(;a(i[m],h)>0;)m--}0===a(i[s],h)?t(i,s,m):t(i,++m,r),m<=n&&(s=m+1),n<=m&&(r=m-1)}}(e,n,s||0,r||e.length-1,a||i)}function t(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function i(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function s(e,t,i){if(!i)return t.indexOf(e);for(var n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function r(e,t){a(e,0,e.children.length,t,e)}function a(e,t,i,n,s){s||(s=m(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var r=t;r<i;r++){var a=e.children[r];o(s,e.leaf?n(a):a)}return s}function o(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function u(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(t,i,n,s,r){for(var a=[i,n];a.length;)if(!((n=a.pop())-(i=a.pop())<=s)){var o=i+Math.ceil((n-i)/s/2)*s;e(t,o,i,n,r),a.push(i,o,o,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,i=[];if(!p(e,t))return i;for(var n=this.toBBox,s=[];t;){for(var r=0;r<t.children.length;r++){var a=t.children[r],o=t.leaf?n(a):a;p(e,o)&&(t.leaf?i.push(a):h(e,o)?this._all(a,i):s.push(a))}t=s.pop()}return i},n.prototype.collides=function(e){var t=this.data;if(!p(e,t))return!1;for(var i=[];t;){for(var n=0;n<t.children.length;n++){var s=t.children[n],r=t.leaf?this.toBBox(s):s;if(p(e,r)){if(t.leaf||h(e,r))return!0;i.push(s)}}t=i.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var i=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=m([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var i,n,r,a=this.data,o=this.toBBox(e),l=[],c=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],i=c.pop(),r=!0),a.leaf){var d=s(e,a.children,t);if(-1!==d)return a.children.splice(d,1),l.push(a),this._condense(l),this}r||a.leaf||!h(a,o)?n?(i++,a=n.children[i],r=!1):a=null:(l.push(a),c.push(i),i=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},n.prototype._build=function(e,t,i,n){var s,a=i-t+1,o=this._maxEntries;if(a<=o)return r(s=m(e.slice(t,i+1)),this.toBBox),s;n||(n=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,n-1))),(s=m([])).leaf=!1,s.height=n;var l=Math.ceil(a/o),c=l*Math.ceil(Math.sqrt(o));f(e,t,i,c,this.compareMinX);for(var d=t;d<=i;d+=c){var u=Math.min(d+c-1,i);f(e,d,u,l,this.compareMinY);for(var h=d;h<=u;h+=l){var p=Math.min(h+l-1,u);s.children.push(this._build(e,h,p,n-1))}}return r(s,this.toBBox),s},n.prototype._chooseSubtree=function(e,t,i,n){for(;n.push(t),!t.leaf&&n.length-1!==i;){for(var s=1/0,r=1/0,a=void 0,o=0;o<t.children.length;o++){var l=t.children[o],c=d(l),u=(h=e,p=l,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-c);u<r?(r=u,s=c<s?c:s,a=l):u===r&&c<s&&(s=c,a=l)}t=a||t.children[0]}var h,p;return t},n.prototype._insert=function(e,t,i){var n=i?e:this.toBBox(e),s=[],r=this._chooseSubtree(n,this.data,t,s);for(r.children.push(e),o(r,n);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(n,s,t)},n.prototype._split=function(e,t){var i=e[t],n=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,n);var a=this._chooseSplitIndex(i,s,n),o=m(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,r(i,this.toBBox),r(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(i,o)},n.prototype._splitRoot=function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,i){for(var n,s,r,o,l,c,u,h=1/0,p=1/0,m=t;m<=i-t;m++){var f=a(e,0,m,this.toBBox),g=a(e,m,i,this.toBBox),v=(s=f,r=g,o=void 0,l=void 0,c=void 0,u=void 0,o=Math.max(s.minX,r.minX),l=Math.max(s.minY,r.minY),c=Math.min(s.maxX,r.maxX),u=Math.min(s.maxY,r.maxY),Math.max(0,c-o)*Math.max(0,u-l)),y=d(f)+d(g);v<h?(h=v,n=m,p=y<p?y:p):v===h&&y<p&&(p=y,n=m)}return n||i-t},n.prototype._chooseSplitAxis=function(e,t,i){var n=e.leaf?this.compareMinX:l,s=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,s)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,i,n){e.children.sort(n);for(var s=this.toBBox,r=a(e,0,t,s),l=a(e,i-t,i,s),c=u(r)+u(l),d=t;d<i-t;d++){var h=e.children[d];o(r,e.leaf?s(h):h),c+=u(r)}for(var p=i-t-1;p>=t;p--){var m=e.children[p];o(l,e.leaf?s(m):m),c+=u(l)}return c},n.prototype._adjustParentBBoxes=function(e,t,i){for(var n=i;n>=0;n--)o(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,i=void 0;t>=0;t--)0===e[t].children.length?t>0?(i=e[t-1].children).splice(i.indexOf(e[t]),1):this.clear():r(e[t],this.toBBox)},n}()},64448:(e,t,i)=>{"use strict";var n=i(67294),s=i(63840);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,i,n,s,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function E(e,t,i,n){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,n){if(null==t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,s,n)&&(i=null),n||null===s?function(e){return!!u.call(m,e)||!u.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=null===i?3!==s.type&&"":i:(t=s.attributeName,n=s.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(s=s.type)||4===s&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var x,F=Object.assign;function U(e){if(void 0===x)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return"\n"+x+e}var H=!1;function j(e,t){if(!e||H)return"";H=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),r=n.stack.split("\n"),a=s.length-1,o=r.length-1;1<=a&&0<=o&&s[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==r[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==r[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{H=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case O:return"Portal";case N:return"Profiler";case _:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case w:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=z(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var i=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function Z(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=W(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&E(e,"checked",t,!1)}function X(e,t){Q(e,t);var i=W(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&q(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,n){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&n&&(e[i].defaultSelected=!0)}else{for(i=""+W(i),t=null,s=0;s<e.length;s++){if(e[s].value===i)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(r(92));if(te(i)){if(1<i.length)throw Error(r(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:W(i)}}function re(e,t){var i=W(t.value),n=W(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,i){return null==t||"boolean"==typeof t||""===t?"":i||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),s=fe(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,s):e[i]=s}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,Te=null,_e=null;function Ne(e){if(e=ps(e)){if("function"!=typeof Oe)throw Error(r(280));var t=e.stateNode;t&&(t=fs(t),Oe(e.stateNode,e.type,t))}}function we(e){Te?_e?_e.push(e):_e=[e]:Te=e}function Ae(){if(Te){var e=Te,t=_e;if(_e=Te=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ie(e,t){return e(t)}function ke(){}var Pe=!1;function Le(e,t,i){if(Pe)return e(t,i);Pe=!0;try{return Ie(e,t,i)}finally{Pe=!1,(null!==Te||null!==_e)&&(ke(),Ae())}}function De(e,t){var i=e.stateNode;if(null===i)return null;var n=fs(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!=typeof i)throw Error(r(231,t,typeof i));return i}var Re=!1;if(d)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(de){Re=!1}function Ce(e,t,i,n,s,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(e){this.onError(e)}}var xe=!1,Fe=null,Ue=!1,He=null,je={onError:function(e){xe=!0,Fe=e}};function Ve(e,t,i,n,s,r,a,o,l){xe=!1,Fe=null,Ce.apply(je,arguments)}function Be(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(r(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(r(188));return t!==e?null:e}for(var i=e,n=t;;){var s=i.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(n=s.return)){i=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===i)return We(s),e;if(a===n)return We(s),t;a=a.sibling}throw Error(r(188))}if(i.return!==n.return)i=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===i){o=!0,i=s,n=a;break}if(l===n){o=!0,n=s,i=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===i){o=!0,i=a,n=s;break}if(l===n){o=!0,n=a,i=s;break}l=l.sibling}if(!o)throw Error(r(189))}}if(i.alternate!==n)throw Error(r(190))}if(3!==i.tag)throw Error(r(188));return i.stateNode.current===i?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ye=s.unstable_scheduleCallback,qe=s.unstable_cancelCallback,$e=s.unstable_shouldYield,Ze=s.unstable_requestPaint,Qe=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,it=s.unstable_LowPriority,nt=s.unstable_IdlePriority,st=null,rt=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,s=e.suspendedLanes,r=e.pingedLanes,a=268435455&i;if(0!==a){var o=a&~s;0!==o?n=ut(o):0!==(r&=a)&&(n=ut(r))}else 0!==(a=i&~s)?n=ut(a):0!==r&&(n=ut(r));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&s)&&((s=n&-n)>=(r=t&-t)||16===s&&0!=(4194240&r)))return t;if(0!=(4&n)&&(n|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)s=1<<(i=31-at(t)),n|=e[i],t&=~s;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function gt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=i}function vt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-at(i),s=1<<n;s&t|e[n]&t&&(e[n]|=t),i&=~s}}var yt=0;function Et(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var bt,St,Ot,Tt,_t,Nt=!1,wt=[],At=null,It=null,kt=null,Pt=new Map,Lt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Ct(e,t,i,n,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=ps(t))&&St(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xt(e){var t=hs(e.target);if(null!==t){var i=Be(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=Ge(i)))return e.blockedOn=t,void _t(e.priority,(function(){Ot(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=ps(i))&&St(t),e.blockedOn=i,!1;var n=new(i=e.nativeEvent).constructor(i.type,i);be=n,i.target.dispatchEvent(n),be=null,t.shift()}return!0}function Ut(e,t,i){Ft(e)&&i.delete(t)}function Ht(){Nt=!1,null!==At&&Ft(At)&&(At=null),null!==It&&Ft(It)&&(It=null),null!==kt&&Ft(kt)&&(kt=null),Pt.forEach(Ut),Lt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ht)))}function Vt(e){function t(t){return jt(t,e)}if(0<wt.length){jt(wt[0],e);for(var i=1;i<wt.length;i++){var n=wt[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==At&&jt(At,e),null!==It&&jt(It,e),null!==kt&&jt(kt,e),Pt.forEach(t),Lt.forEach(t),i=0;i<Dt.length;i++)(n=Dt[i]).blockedOn===e&&(n.blockedOn=null);for(;0<Dt.length&&null===(i=Dt[0]).blockedOn;)xt(i),null===i.blockedOn&&Dt.shift()}var Bt=b.ReactCurrentBatchConfig;function Gt(e,t,i,n){var s=yt,r=Bt.transition;Bt.transition=null;try{yt=1,zt(e,t,i,n)}finally{yt=s,Bt.transition=r}}function Wt(e,t,i,n){var s=yt,r=Bt.transition;Bt.transition=null;try{yt=4,zt(e,t,i,n)}finally{yt=s,Bt.transition=r}}function zt(e,t,i,n){var s=Yt(e,t,i,n);if(null===s)Hn(e,t,n,Kt,i),Mt(e,n);else if(function(e,t,i,n,s){switch(t){case"focusin":return At=Ct(At,e,t,i,n,s),!0;case"dragenter":return It=Ct(It,e,t,i,n,s),!0;case"mouseover":return kt=Ct(kt,e,t,i,n,s),!0;case"pointerover":var r=s.pointerId;return Pt.set(r,Ct(Pt.get(r)||null,e,t,i,n,s)),!0;case"gotpointercapture":return r=s.pointerId,Lt.set(r,Ct(Lt.get(r)||null,e,t,i,n,s)),!0}return!1}(s,e,t,i,n))n.stopPropagation();else if(Mt(e,n),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var r=ps(s);if(null!==r&&bt(r),null===(r=Yt(e,t,i,n))&&Hn(e,t,n,Kt,i),r===s)break;s=r}null!==s&&n.stopPropagation()}else Hn(e,t,n,null,i)}var Kt=null;function Yt(e,t,i,n){if(Kt=null,null!==(e=hs(e=Se(n))))if(null===(t=Be(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case it:return 16;case nt:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,Qt=null;function Xt(){if(Qt)return Qt;var e,t,i=Zt,n=i.length,s="value"in $t?$t.value:$t.textContent,r=s.length;for(e=0;e<n&&i[e]===s[e];e++);var a=n-e;for(t=1;t<=a&&i[n-t]===s[r-t];t++);return Qt=s.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ei(){return!0}function ti(){return!1}function ii(e){function t(t,i,n,s,r){for(var a in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?ei:ti,this.isPropagationStopped=ti,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),t}var ni,si,ri,ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=ii(ai),li=F({},ai,{view:0,detail:0}),ci=ii(li),di=F({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Si,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&"mousemove"===e.type?(ni=e.screenX-ri.screenX,si=e.screenY-ri.screenY):si=ni=0,ri=e),ni)},movementY:function(e){return"movementY"in e?e.movementY:si}}),ui=ii(di),hi=ii(F({},di,{dataTransfer:0})),pi=ii(F({},li,{relatedTarget:0})),mi=ii(F({},ai,{animationName:0,elapsedTime:0,pseudoElement:0})),fi=ii(F({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),gi=ii(F({},ai,{data:0})),vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ei={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ei[e])&&!!t[e]}function Si(){return bi}var Oi=ii(F({},li,{key:function(e){if(e.key){var t=vi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Si,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Ti=ii(F({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_i=ii(F({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Si})),Ni=ii(F({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0})),wi=ii(F({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ai=[9,13,27,32],Ii=d&&"CompositionEvent"in window,ki=null;d&&"documentMode"in document&&(ki=document.documentMode);var Pi=d&&"TextEvent"in window&&!ki,Li=d&&(!Ii||ki&&8<ki&&11>=ki),Di=String.fromCharCode(32),Ri=!1;function Mi(e,t){switch(e){case"keyup":return-1!==Ai.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ci(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var xi=!1;var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fi[e.type]:"textarea"===t}function Hi(e,t,i,n){we(n),0<(t=Vn(t,"onChange")).length&&(i=new oi("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var ji=null,Vi=null;function Bi(e){Rn(e,0)}function Gi(e){if(Y(ms(e)))return e}function Wi(e,t){if("change"===e)return t}var zi=!1;if(d){var Ki;if(d){var Yi="oninput"in document;if(!Yi){var qi=document.createElement("div");qi.setAttribute("oninput","return;"),Yi="function"==typeof qi.oninput}Ki=Yi}else Ki=!1;zi=Ki&&(!document.documentMode||9<document.documentMode)}function $i(){ji&&(ji.detachEvent("onpropertychange",Zi),Vi=ji=null)}function Zi(e){if("value"===e.propertyName&&Gi(Vi)){var t=[];Hi(t,Vi,e,Se(e)),Le(Bi,t)}}function Qi(e,t,i){"focusin"===e?($i(),Vi=i,(ji=t).attachEvent("onpropertychange",Zi)):"focusout"===e&&$i()}function Xi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gi(Vi)}function Ji(e,t){if("click"===e)return Gi(t)}function en(e,t){if("input"===e||"change"===e)return Gi(t)}var tn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nn(e,t){if(tn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var s=i[n];if(!u.call(t,s)||!tn(e[s],t[s]))return!1}return!0}function sn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rn(e,t){var i,n=sn(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sn(n)}}function an(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?an(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function on(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var i="string"==typeof t.contentWindow.location.href}catch(e){i=!1}if(!i)break;t=q((e=t.contentWindow).document)}return t}function ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cn(e){var t=on(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&an(i.ownerDocument.documentElement,i)){if(null!==n&&ln(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=i.textContent.length,r=Math.min(n.start,s);n=void 0===n.end?r:Math.min(n.end,s),!e.extend&&r>n&&(s=n,n=r,r=s),s=rn(i,r);var a=rn(i,n);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dn=d&&"documentMode"in document&&11>=document.documentMode,un=null,hn=null,pn=null,mn=!1;function fn(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;mn||null==un||un!==q(n)||("selectionStart"in(n=un)&&ln(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},pn&&nn(pn,n)||(pn=n,0<(n=Vn(hn,"onSelect")).length&&(t=new oi("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=un)))}function gn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var vn={animationend:gn("Animation","AnimationEnd"),animationiteration:gn("Animation","AnimationIteration"),animationstart:gn("Animation","AnimationStart"),transitionend:gn("Transition","TransitionEnd")},yn={},En={};function bn(e){if(yn[e])return yn[e];if(!vn[e])return e;var t,i=vn[e];for(t in i)if(i.hasOwnProperty(t)&&t in En)return yn[e]=i[t];return e}d&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);var Sn=bn("animationend"),On=bn("animationiteration"),Tn=bn("animationstart"),_n=bn("transitionend"),Nn=new Map,wn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){Nn.set(e,t),l(t,[e])}for(var In=0;In<wn.length;In++){var kn=wn[In];An(kn.toLowerCase(),"on"+(kn[0].toUpperCase()+kn.slice(1)))}An(Sn,"onAnimationEnd"),An(On,"onAnimationIteration"),An(Tn,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(_n,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function Dn(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,s,a,o,l,c){if(Ve.apply(this,arguments),xe){if(!xe)throw Error(r(198));var d=Fe;xe=!1,Fe=null,Ue||(Ue=!0,He=d)}}(n,t,void 0,e),e.currentTarget=null}function Rn(e,t){t=0!=(4&t);for(var i=0;i<e.length;i++){var n=e[i],s=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break e;Dn(s,o,c),r=l}else for(a=0;a<n.length;a++){if(l=(o=n[a]).instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break e;Dn(s,o,c),r=l}}}if(Ue)throw e=He,Ue=!1,He=null,e}function Mn(e,t){var i=t[cs];void 0===i&&(i=t[cs]=new Set);var n=e+"__bubble";i.has(n)||(Un(t,e,2,!1),i.add(n))}function Cn(e,t,i){var n=0;t&&(n|=4),Un(i,e,n,t)}var xn="_reactListening"+Math.random().toString(36).slice(2);function Fn(e){if(!e[xn]){e[xn]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ln.has(t)||Cn(t,!1,e),Cn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[xn]||(t[xn]=!0,Cn("selectionchange",!1,t))}}function Un(e,t,i,n){switch(qt(t)){case 1:var s=Gt;break;case 4:s=Wt;break;default:s=zt}i=s.bind(null,t,i,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):void 0!==s?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function Hn(e,t,i,n,s){var r=n;if(0==(1&t)&&0==(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var o=n.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=hs(o)))return;if(5===(l=a.tag)||6===l){n=r=a;continue e}o=o.parentNode}}n=n.return}Le((function(){var n=r,s=Se(i),a=[];e:{var o=Nn.get(e);if(void 0!==o){var l=oi,c=e;switch(e){case"keypress":if(0===Jt(i))break e;case"keydown":case"keyup":l=Oi;break;case"focusin":c="focus",l=pi;break;case"focusout":c="blur",l=pi;break;case"beforeblur":case"afterblur":l=pi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_i;break;case Sn:case On:case Tn:l=mi;break;case _n:l=Ni;break;case"scroll":l=ci;break;case"wheel":l=wi;break;case"copy":case"cut":case"paste":l=fi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ti}var d=0!=(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=n;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=De(m,h))&&d.push(jn(m,f,p)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,i,s),a.push({event:o,listeners:d}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||i===be||!(c=i.relatedTarget||i.fromElement)||!hs(c)&&!c[ls])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=i.relatedTarget||i.toElement)?hs(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=ui,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ti,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:ms(l),p=null==c?o:ms(c),(o=new d(f,m+"leave",l,i,s)).target=u,o.relatedTarget=p,f=null,hs(s)===n&&((d=new d(h,m+"enter",c,i,s)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Bn(p))m++;for(p=0,f=h;f;f=Bn(f))p++;for(;0<m-p;)d=Bn(d),m--;for(;0<p-m;)h=Bn(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Bn(d),h=Bn(h)}d=null}else d=null;null!==l&&Gn(a,o,l,d,!1),null!==c&&null!==u&&Gn(a,u,c,d,!0)}if("select"===(l=(o=n?ms(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Wi;else if(Ui(o))if(zi)g=en;else{g=Xi;var v=Qi}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=Ji);switch(g&&(g=g(e,n))?Hi(a,g,i,s):(v&&v(e,o,n),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=n?ms(n):window,e){case"focusin":(Ui(v)||"true"===v.contentEditable)&&(un=v,hn=n,pn=null);break;case"focusout":pn=hn=un=null;break;case"mousedown":mn=!0;break;case"contextmenu":case"mouseup":case"dragend":mn=!1,fn(a,i,s);break;case"selectionchange":if(dn)break;case"keydown":case"keyup":fn(a,i,s)}var y;if(Ii)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xi?Mi(e,i)&&(E="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(E="onCompositionStart");E&&(Li&&"ko"!==i.locale&&(xi||"onCompositionStart"!==E?"onCompositionEnd"===E&&xi&&(y=Xt()):(Zt="value"in($t=s)?$t.value:$t.textContent,xi=!0)),0<(v=Vn(n,E)).length&&(E=new gi(E,e,null,i,s),a.push({event:E,listeners:v}),y?E.data=y:null!==(y=Ci(i))&&(E.data=y))),(y=Pi?function(e,t){switch(e){case"compositionend":return Ci(t);case"keypress":return 32!==t.which?null:(Ri=!0,Di);case"textInput":return(e=t.data)===Di&&Ri?null:e;default:return null}}(e,i):function(e,t){if(xi)return"compositionend"===e||!Ii&&Mi(e,t)?(e=Xt(),Qt=Zt=$t=null,xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Li&&"ko"!==t.locale?null:t.data;default:return null}}(e,i))&&(0<(n=Vn(n,"onBeforeInput")).length&&(s=new gi("onBeforeInput","beforeinput",null,i,s),a.push({event:s,listeners:n}),s.data=y))}Rn(a,t)}))}function jn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Vn(e,t){for(var i=t+"Capture",n=[];null!==e;){var s=e,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=De(e,i))&&n.unshift(jn(e,r,s)),null!=(r=De(e,t))&&n.push(jn(e,r,s))),e=e.return}return n}function Bn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gn(e,t,i,n,s){for(var r=t._reactName,a=[];null!==i&&i!==n;){var o=i,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=De(i,r))&&a.unshift(jn(i,l,o)):s||null!=(l=De(i,r))&&a.push(jn(i,l,o))),i=i.return}0!==a.length&&e.push({event:t,listeners:a})}var Wn=/\r\n?/g,zn=/\u0000|\uFFFD/g;function Kn(e){return("string"==typeof e?e:""+e).replace(Wn,"\n").replace(zn,"")}function Yn(e,t,i){if(t=Kn(t),Kn(e)!==t&&i)throw Error(r(425))}function qn(){}var $n=null;function Zn(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qn="function"==typeof setTimeout?setTimeout:void 0,Xn="function"==typeof clearTimeout?clearTimeout:void 0,Jn="function"==typeof Promise?Promise:void 0,es="function"==typeof queueMicrotask?queueMicrotask:void 0!==Jn?function(e){return Jn.resolve(null).then(e).catch(ts)}:Qn;function ts(e){setTimeout((function(){throw e}))}function is(e,t){var i=t,n=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&8===s.nodeType)if("/$"===(i=s.data)){if(0===n)return e.removeChild(s),void Vt(t);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=s}while(i);Vt(t)}function ns(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ss(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),as="__reactFiber$"+rs,os="__reactProps$"+rs,ls="__reactContainer$"+rs,cs="__reactEvents$"+rs,ds="__reactListeners$"+rs,us="__reactHandles$"+rs;function hs(e){var t=e[as];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ls]||i[as]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=ss(e);null!==e;){if(i=e[as])return i;e=ss(e)}return t}i=(e=i).parentNode}return null}function ps(e){return!(e=e[as]||e[ls])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ms(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function fs(e){return e[os]||null}var gs=[],vs=-1;function ys(e){return{current:e}}function Es(e){0>vs||(e.current=gs[vs],gs[vs]=null,vs--)}function bs(e,t){vs++,gs[vs]=e.current,e.current=t}var Ss={},Os=ys(Ss),Ts=ys(!1),_s=Ss;function Ns(e,t){var i=e.type.contextTypes;if(!i)return Ss;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in i)r[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function ws(e){return null!=(e=e.childContextTypes)}function As(){Es(Ts),Es(Os)}function Is(e,t,i){if(Os.current!==Ss)throw Error(r(168));bs(Os,t),bs(Ts,i)}function ks(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return i;for(var s in n=n.getChildContext())if(!(s in t))throw Error(r(108,G(e)||"Unknown",s));return F({},i,n)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,_s=Os.current,bs(Os,e),bs(Ts,Ts.current),!0}function Ls(e,t,i){var n=e.stateNode;if(!n)throw Error(r(169));i?(e=ks(e,t,_s),n.__reactInternalMemoizedMergedChildContext=e,Es(Ts),Es(Os),bs(Os,e)):Es(Ts),bs(Ts,i)}var Ds=null,Rs=!1,Ms=!1;function Cs(e){null===Ds?Ds=[e]:Ds.push(e)}function xs(){if(!Ms&&null!==Ds){Ms=!0;var e=0,t=yt;try{var i=Ds;for(yt=1;e<i.length;e++){var n=i[e];do{n=n(!0)}while(null!==n)}Ds=null,Rs=!1}catch(t){throw null!==Ds&&(Ds=Ds.slice(e+1)),Ye(Je,xs),t}finally{yt=t,Ms=!1}}return null}var Fs=b.ReactCurrentBatchConfig;function Us(e,t){if(e&&e.defaultProps){for(var i in t=F({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var Hs=ys(null),js=null,Vs=null,Bs=null;function Gs(){Bs=Vs=js=null}function Ws(e){var t=Hs.current;Es(Hs),e._currentValue=t}function zs(e,t,i){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Ks(e,t){js=e,Bs=Vs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(mo=!0),e.firstContext=null)}function Ys(e){var t=e._currentValue;if(Bs!==e)if(e={context:e,memoizedValue:t,next:null},null===Vs){if(null===js)throw Error(r(308));Vs=e,js.dependencies={lanes:0,firstContext:e}}else Vs=Vs.next=e;return t}var qs=null,$s=!1;function Zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Js(e,t){var i=e.updateQueue;null!==i&&(i=i.shared,null!==fl&&0!=(1&e.mode)&&0==(2&ml)?(null===(e=i.interleaved)?(t.next=t,null===qs?qs=[i]:qs.push(i)):(t.next=e.next,e.next=t),i.interleaved=t):(null===(e=i.pending)?t.next=t:(t.next=e.next,e.next=t),i.pending=t))}function er(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&i))){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,vt(e,i)}}function tr(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var s=null,r=null;if(null!==(i=i.firstBaseUpdate)){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===r?s=r=a:r=r.next=a,i=i.next}while(null!==i);null===r?s=r=t:r=r.next=t}else s=r=t;return i={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ir(e,t,i,n){var s=e.updateQueue;$s=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=s.baseState;for(a=0,d=c=l=null,o=r;;){var h=o.lane,p=o.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=i,f.tag){case 1:if("function"==typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=f.payload)?m.call(p,u,h):m))break e;u=F({},u,h);break e;case 2:$s=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===r&&(s.shared.lanes=0);Ol|=a,e.lanes=a,e.memoizedState=u}}function nr(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(null!==s){if(n.callback=null,n=i,"function"!=typeof s)throw Error(r(191,s));s.call(n)}}}var sr=(new n.Component).refs;function rr(e,t,i,n){i=null==(i=i(n,t=e.memoizedState))?t:F({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var ar={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=Hl(),s=jl(e),r=Xs(n,s);r.payload=t,null!=i&&(r.callback=i),Js(e,r),null!==(t=Vl(e,s,n))&&er(t,e,s)},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=Hl(),s=jl(e),r=Xs(n,s);r.tag=1,r.payload=t,null!=i&&(r.callback=i),Js(e,r),null!==(t=Vl(e,s,n))&&er(t,e,s)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Hl(),n=jl(e),s=Xs(i,n);s.tag=2,null!=t&&(s.callback=t),Js(e,s),null!==(t=Vl(e,n,i))&&er(t,e,n)}};function or(e,t,i,n,s,r,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!nn(i,n)||!nn(s,r))}function lr(e,t,i){var n=!1,s=Ss,r=t.contextType;return"object"==typeof r&&null!==r?r=Ys(r):(s=ws(t)?_s:Os.current,r=(n=null!=(n=t.contextTypes))?Ns(e,s):Ss),t=new t(i,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ar,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function cr(e,t,i,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&ar.enqueueReplaceState(t,t.state,null)}function dr(e,t,i,n){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs=sr,Zs(e);var r=t.contextType;"object"==typeof r&&null!==r?s.context=Ys(r):(r=ws(t)?_s:Os.current,s.context=Ns(e,r)),s.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(rr(e,t,r,i),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ar.enqueueReplaceState(s,s.state,null),ir(e,i,s,n),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}var ur=[],hr=0,pr=null,mr=0,fr=[],gr=0,vr=null,yr=1,Er="";function br(e,t){ur[hr++]=mr,ur[hr++]=pr,pr=e,mr=t}function Sr(e,t,i){fr[gr++]=yr,fr[gr++]=Er,fr[gr++]=vr,vr=e;var n=yr;e=Er;var s=32-at(n)-1;n&=~(1<<s),i+=1;var r=32-at(t)+s;if(30<r){var a=s-s%5;r=(n&(1<<a)-1).toString(32),n>>=a,s-=a,yr=1<<32-at(t)+s|i<<s|n,Er=r+e}else yr=1<<r|i<<s|n,Er=e}function Or(e){null!==e.return&&(br(e,1),Sr(e,1,0))}function Tr(e){for(;e===pr;)pr=ur[--hr],ur[hr]=null,mr=ur[--hr],ur[hr]=null;for(;e===vr;)vr=fr[--gr],fr[gr]=null,Er=fr[--gr],fr[gr]=null,yr=fr[--gr],fr[gr]=null}var _r=null,Nr=null,wr=!1,Ar=null;function Ir(e,t){var i=vc(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function kr(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,_r=e,Nr=ns(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,_r=e,Nr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==vr?{id:yr,overflow:Er}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=vc(18,null,null,0)).stateNode=t,i.return=e,e.child=i,_r=e,Nr=null,!0);default:return!1}}function Pr(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Lr(e){if(wr){var t=Nr;if(t){var i=t;if(!kr(e,t)){if(Pr(e))throw Error(r(418));t=ns(i.nextSibling);var n=_r;t&&kr(e,t)?Ir(n,i):(e.flags=-4097&e.flags|2,wr=!1,_r=e)}}else{if(Pr(e))throw Error(r(418));e.flags=-4097&e.flags|2,wr=!1,_r=e}}}function Dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_r=e}function Rr(e){if(e!==_r)return!1;if(!wr)return Dr(e),wr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zn(e.type,e.memoizedProps)),t&&(t=Nr)){if(Pr(e)){for(e=Nr;e;)e=ns(e.nextSibling);throw Error(r(418))}for(;t;)Ir(e,t),t=ns(t.nextSibling)}if(Dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){Nr=ns(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}Nr=null}}else Nr=_r?ns(e.stateNode.nextSibling):null;return!0}function Mr(){Nr=_r=null,wr=!1}function Cr(e){null===Ar?Ar=[e]:Ar.push(e)}function xr(e,t,i){if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(r(309));var n=i.stateNode}if(!n)throw Error(r(147,e));var s=n,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=s.refs;t===sr&&(t=s.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function Fr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ur(e){return(0,e._init)(e._payload)}function Hr(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ec(e,t)).index=0,e.sibling=null,e}function a(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags|=2,i):n:(t.flags|=2,i):(t.flags|=1048576,i)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=Tc(i,e.mode,n)).return=e,t):((t=s(t,i)).return=e,t)}function c(e,t,i,n){var r=i.type;return r===T?u(e,t,i.props.children,n,i.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===D&&Ur(r)===t.type)?((n=s(t,i.props)).ref=xr(e,t,i),n.return=e,n):((n=bc(i.type,i.key,i.props,null,e.mode,n)).ref=xr(e,t,i),n.return=e,n)}function d(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=_c(i,e.mode,n)).return=e,t):((t=s(t,i.children||[])).return=e,t)}function u(e,t,i,n,r){return null===t||7!==t.tag?((t=Sc(i,e.mode,n,r)).return=e,t):((t=s(t,i)).return=e,t)}function h(e,t,i){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Tc(""+t,e.mode,i)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(i=bc(t.type,t.key,t.props,null,e.mode,i)).ref=xr(e,null,t),i.return=e,i;case O:return(t=_c(t,e.mode,i)).return=e,t;case D:return h(e,(0,t._init)(t._payload),i)}if(te(t)||C(t))return(t=Sc(t,e.mode,i,null)).return=e,t;Fr(e,t)}return null}function p(e,t,i,n){var s=null!==t?t.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==s?null:l(e,t,""+i,n);if("object"==typeof i&&null!==i){switch(i.$$typeof){case S:return i.key===s?c(e,t,i,n):null;case O:return i.key===s?d(e,t,i,n):null;case D:return p(e,t,(s=i._init)(i._payload),n)}if(te(i)||C(i))return null!==s?null:u(e,t,i,n,null);Fr(e,i)}return null}function m(e,t,i,n,s){if("string"==typeof n&&""!==n||"number"==typeof n)return l(t,e=e.get(i)||null,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return c(t,e=e.get(null===n.key?i:n.key)||null,n,s);case O:return d(t,e=e.get(null===n.key?i:n.key)||null,n,s);case D:return m(e,t,i,(0,n._init)(n._payload),s)}if(te(n)||C(n))return u(t,e=e.get(i)||null,n,s,null);Fr(t,n)}return null}function f(s,r,o,l){for(var c=null,d=null,u=r,f=r=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=p(s,u,o[f],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(s,u),r=a(v,r,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===o.length)return i(s,u),wr&&br(s,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(s,o[f],l))&&(r=a(u,r,f),null===d?c=u:d.sibling=u,d=u);return wr&&br(s,f),c}for(u=n(s,u);f<o.length;f++)null!==(g=m(u,s,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),r=a(g,r,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(s,e)})),wr&&br(s,f),c}function g(s,o,l,c){var d=C(l);if("function"!=typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,f=o,g=o=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var E=p(s,f,y.value,c);if(null===E){null===f&&(f=v);break}e&&f&&null===E.alternate&&t(s,f),o=a(E,o,g),null===u?d=E:u.sibling=E,u=E,f=v}if(y.done)return i(s,f),wr&&br(s,g),d;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(o=a(y,o,g),null===u?d=y:u.sibling=y,u=y);return wr&&br(s,g),d}for(f=n(s,f);!y.done;g++,y=l.next())null!==(y=m(f,s,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=a(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach((function(e){return t(s,e)})),wr&&br(s,g),d}return function e(n,r,a,l){if("object"==typeof a&&null!==a&&a.type===T&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var c=a.key,d=r;null!==d;){if(d.key===c){if((c=a.type)===T){if(7===d.tag){i(n,d.sibling),(r=s(d,a.props.children)).return=n,n=r;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===D&&Ur(c)===d.type){i(n,d.sibling),(r=s(d,a.props)).ref=xr(n,d,a),r.return=n,n=r;break e}i(n,d);break}t(n,d),d=d.sibling}a.type===T?((r=Sc(a.props.children,n.mode,l,a.key)).return=n,n=r):((l=bc(a.type,a.key,a.props,null,n.mode,l)).ref=xr(n,r,a),l.return=n,n=l)}return o(n);case O:e:{for(d=a.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){i(n,r.sibling),(r=s(r,a.children||[])).return=n,n=r;break e}i(n,r);break}t(n,r),r=r.sibling}(r=_c(a,n.mode,l)).return=n,n=r}return o(n);case D:return e(n,r,(d=a._init)(a._payload),l)}if(te(a))return f(n,r,a,l);if(C(a))return g(n,r,a,l);Fr(n,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==r&&6===r.tag?(i(n,r.sibling),(r=s(r,a)).return=n,n=r):(i(n,r),(r=Tc(a,n.mode,l)).return=n,n=r),o(n)):i(n,r)}}var jr=Hr(!0),Vr=Hr(!1),Br={},Gr=ys(Br),Wr=ys(Br),zr=ys(Br);function Kr(e){if(e===Br)throw Error(r(174));return e}function Yr(e,t){switch(bs(zr,t),bs(Wr,e),bs(Gr,Br),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Es(Gr),bs(Gr,t)}function qr(){Es(Gr),Es(Wr),Es(zr)}function $r(e){Kr(zr.current);var t=Kr(Gr.current),i=le(t,e.type);t!==i&&(bs(Wr,e),bs(Gr,i))}function Zr(e){Wr.current===e&&(Es(Gr),Es(Wr))}var Qr=ys(0);function Xr(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jr=[];function ea(){for(var e=0;e<Jr.length;e++)Jr[e]._workInProgressVersionPrimary=null;Jr.length=0}var ta=b.ReactCurrentDispatcher,ia=b.ReactCurrentBatchConfig,na=0,sa=null,ra=null,aa=null,oa=!1,la=!1,ca=0,da=0;function ua(){throw Error(r(321))}function ha(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!tn(e[i],t[i]))return!1;return!0}function pa(e,t,i,n,s,a){if(na=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ta.current=null===e||null===e.memoizedState?$a:Za,e=i(n,s),la){a=0;do{if(la=!1,ca=0,25<=a)throw Error(r(301));a+=1,aa=ra=null,t.updateQueue=null,ta.current=Qa,e=i(n,s)}while(la)}if(ta.current=qa,t=null!==ra&&null!==ra.next,na=0,aa=ra=sa=null,oa=!1,t)throw Error(r(300));return e}function ma(){var e=0!==ca;return ca=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===aa?sa.memoizedState=aa=e:aa=aa.next=e,aa}function ga(){if(null===ra){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ra.next;var t=null===aa?sa.memoizedState:aa.next;if(null!==t)aa=t,ra=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ra=e).memoizedState,baseState:ra.baseState,baseQueue:ra.baseQueue,queue:ra.queue,next:null},null===aa?sa.memoizedState=aa=e:aa=aa.next=e}return aa}function va(e,t){return"function"==typeof t?t(e):t}function ya(e){var t=ga(),i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=e;var n=ra,s=n.baseQueue,a=i.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,i.pending=null}if(null!==s){a=s.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((na&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=n):c=c.next=h,sa.lanes|=u,Ol|=u}d=d.next}while(null!==d&&d!==a);null===c?o=n:c.next=l,tn(n,t.memoizedState)||(mo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,i.lastRenderedState=n}if(null!==(e=i.interleaved)){s=e;do{a=s.lane,sa.lanes|=a,Ol|=a,s=s.next}while(s!==e)}else null===s&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ea(e){var t=ga(),i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=e;var n=i.dispatch,s=i.pending,a=t.memoizedState;if(null!==s){i.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);tn(a,t.memoizedState)||(mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),i.lastRenderedState=a}return[a,n]}function ba(){}function Sa(e,t){var i=sa,n=ga(),s=t(),a=!tn(n.memoizedState,s);if(a&&(n.memoizedState=s,mo=!0),n=n.queue,Da(_a.bind(null,i,n,e),[e]),n.getSnapshot!==t||a||null!==aa&&1&aa.memoizedState.tag){if(i.flags|=2048,Aa(9,Ta.bind(null,i,n,s,t),void 0,null),null===fl)throw Error(r(349));0!=(30&na)||Oa(i,t,s)}return s}function Oa(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function Ta(e,t,i,n){t.value=i,t.getSnapshot=n,Na(t)&&Vl(e,1,-1)}function _a(e,t,i){return i((function(){Na(t)&&Vl(e,1,-1)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!tn(e,i)}catch(e){return!0}}function wa(e){var t=fa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[t.memoizedState,e]}function Aa(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function Ia(){return ga().memoizedState}function ka(e,t,i,n){var s=fa();sa.flags|=e,s.memoizedState=Aa(1|t,i,void 0,void 0===n?null:n)}function Pa(e,t,i,n){var s=ga();n=void 0===n?null:n;var r=void 0;if(null!==ra){var a=ra.memoizedState;if(r=a.destroy,null!==n&&ha(n,a.deps))return void(s.memoizedState=Aa(t,i,r,n))}sa.flags|=e,s.memoizedState=Aa(1|t,i,r,n)}function La(e,t){return ka(8390656,8,e,t)}function Da(e,t){return Pa(2048,8,e,t)}function Ra(e,t){return Pa(4,2,e,t)}function Ma(e,t){return Pa(4,4,e,t)}function Ca(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,i){return i=null!=i?i.concat([e]):null,Pa(4,4,Ca.bind(null,t,e),i)}function Fa(){}function Ua(e,t){var i=ga();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&ha(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function Ha(e,t){var i=ga();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&ha(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function ja(e,t){var i=yt;yt=0!==i&&4>i?i:4,e(!0);var n=ia.transition;ia.transition={};try{e(!1),t()}finally{yt=i,ia.transition=n}}function Va(){return ga().memoizedState}function Ba(e,t,i){var n=jl(e);i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Wa(e)?za(t,i):(Ka(e,t,i),null!==(e=Vl(e,n,i=Hl()))&&Ya(e,t,n))}function Ga(e,t,i){var n=jl(e),s={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Wa(e))za(t,s);else{Ka(e,t,s);var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=r(a,i);if(s.hasEagerState=!0,s.eagerState=o,tn(o,a))return}catch(e){}null!==(e=Vl(e,n,i=Hl()))&&Ya(e,t,n)}}function Wa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function za(e,t){la=oa=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ka(e,t,i){null!==fl&&0!=(1&e.mode)&&0==(2&ml)?(null===(e=t.interleaved)?(i.next=i,null===qs?qs=[t]:qs.push(t)):(i.next=e.next,e.next=i),t.interleaved=i):(null===(e=t.pending)?i.next=i:(i.next=e.next,e.next=i),t.pending=i)}function Ya(e,t,i){if(0!=(4194240&i)){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,vt(e,i)}}var qa={readContext:Ys,useCallback:ua,useContext:ua,useEffect:ua,useImperativeHandle:ua,useInsertionEffect:ua,useLayoutEffect:ua,useMemo:ua,useReducer:ua,useRef:ua,useState:ua,useDebugValue:ua,useDeferredValue:ua,useTransition:ua,useMutableSource:ua,useSyncExternalStore:ua,useId:ua,unstable_isNewReconciler:!1},$a={readContext:Ys,useCallback:function(e,t){return fa().memoizedState=[e,void 0===t?null:t],e},useContext:Ys,useEffect:La,useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,ka(4194308,4,Ca.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var i=fa();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=fa();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ba.bind(null,sa,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},fa().memoizedState=e},useState:wa,useDebugValue:Fa,useDeferredValue:function(e){var t=wa(e),i=t[0],n=t[1];return La((function(){var t=ia.transition;ia.transition={};try{n(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){var e=wa(!1),t=e[0];return e=ja.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=sa,s=fa();if(wr){if(void 0===i)throw Error(r(407));i=i()}else{if(i=t(),null===fl)throw Error(r(349));0!=(30&na)||Oa(n,t,i)}s.memoizedState=i;var a={value:i,getSnapshot:t};return s.queue=a,La(_a.bind(null,n,a,e),[e]),n.flags|=2048,Aa(9,Ta.bind(null,n,a,i,t),void 0,null),i},useId:function(){var e=fa(),t=fl.identifierPrefix;if(wr){var i=Er;t=":"+t+"R"+(i=(yr&~(1<<32-at(yr)-1)).toString(32)+i),0<(i=ca++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Ys,useCallback:Ua,useContext:Ys,useEffect:Da,useImperativeHandle:xa,useInsertionEffect:Ra,useLayoutEffect:Ma,useMemo:Ha,useReducer:ya,useRef:Ia,useState:function(){return ya(va)},useDebugValue:Fa,useDeferredValue:function(e){var t=ya(va),i=t[0],n=t[1];return Da((function(){var t=ia.transition;ia.transition={};try{n(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){return[ya(va)[0],ga().memoizedState]},useMutableSource:ba,useSyncExternalStore:Sa,useId:Va,unstable_isNewReconciler:!1},Qa={readContext:Ys,useCallback:Ua,useContext:Ys,useEffect:Da,useImperativeHandle:xa,useInsertionEffect:Ra,useLayoutEffect:Ma,useMemo:Ha,useReducer:Ea,useRef:Ia,useState:function(){return Ea(va)},useDebugValue:Fa,useDeferredValue:function(e){var t=Ea(va),i=t[0],n=t[1];return Da((function(){var t=ia.transition;ia.transition={};try{n(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){return[Ea(va)[0],ga().memoizedState]},useMutableSource:ba,useSyncExternalStore:Sa,useId:Va,unstable_isNewReconciler:!1};function Xa(e,t){try{var i="",n=t;do{i+=V(n),n=n.return}while(n);var s=i}catch(e){s="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:s}}function Ja(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var eo,to,io,no="function"==typeof WeakMap?WeakMap:Map;function so(e,t,i){(i=Xs(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){kl||(kl=!0,Pl=n),Ja(0,t)},i}function ro(e,t,i){(i=Xs(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var s=t.value;i.payload=function(){return n(s)},i.callback=function(){Ja(0,t)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(i.callback=function(){Ja(0,t),"function"!=typeof n&&(null===Ll?Ll=new Set([this]):Ll.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function ao(e,t,i){var n=e.pingCache;if(null===n){n=e.pingCache=new no;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(i)||(s.add(i),e=uc.bind(null,e,t,i),t.then(e,e))}function oo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function lo(e,t,i,n,s){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Xs(-1,1)).tag=2,Js(i,t))),i.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}function co(e,t){if(!wr)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function uo(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t)for(var s=e.child;null!==s;)i|=s.lanes|s.childLanes,n|=14680064&s.subtreeFlags,n|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function ho(e,t,i){var n=t.pendingProps;switch(Tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return uo(t),null;case 1:return ws(t.type)&&As(),uo(t),null;case 3:return n=t.stateNode,qr(),Es(Ts),Es(Os),ea(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Rr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Ar&&(Kl(Ar),Ar=null))),uo(t),null;case 5:Zr(t);var s=Kr(zr.current);if(i=t.type,null!==e&&null!=t.stateNode)to(e,t,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(r(166));return uo(t),null}if(e=Kr(Gr.current),Rr(t)){n=t.stateNode,i=t.type;var a=t.memoizedProps;switch(n[as]=t,n[os]=a,e=0!=(1&t.mode),i){case"dialog":Mn("cancel",n),Mn("close",n);break;case"iframe":case"object":case"embed":Mn("load",n);break;case"video":case"audio":for(s=0;s<Pn.length;s++)Mn(Pn[s],n);break;case"source":Mn("error",n);break;case"img":case"image":case"link":Mn("error",n),Mn("load",n);break;case"details":Mn("toggle",n);break;case"input":Z(n,a),Mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Mn("invalid",n);break;case"textarea":se(n,a),Mn("invalid",n)}for(var l in ye(i,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?n.textContent!==c&&(Yn(n.textContent,c,e),s=["children",c]):"number"==typeof c&&n.textContent!==""+c&&(Yn(n.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mn("scroll",n)}switch(i){case"input":K(n),J(n,a,!0);break;case"textarea":K(n),ae(n);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(n.onclick=qn)}n=s,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(i,{is:n.is}):(e=l.createElement(i),"select"===i&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,i),e[as]=t,e[os]=n,eo(e,t),t.stateNode=e;e:{switch(l=Ee(i,n),i){case"dialog":Mn("cancel",e),Mn("close",e),s=n;break;case"iframe":case"object":case"embed":Mn("load",e),s=n;break;case"video":case"audio":for(s=0;s<Pn.length;s++)Mn(Pn[s],e);s=n;break;case"source":Mn("error",e),s=n;break;case"img":case"image":case"link":Mn("error",e),Mn("load",e),s=n;break;case"details":Mn("toggle",e),s=n;break;case"input":Z(e,n),s=$(e,n),Mn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=F({},n,{value:void 0}),Mn("invalid",e);break;case"textarea":se(e,n),s=ne(e,n),Mn("invalid",e);break;default:s=n}for(a in ye(i,s),c=s)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?ge(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"==typeof d?("textarea"!==i||""!==d)&&he(e,d):"number"==typeof d&&he(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Mn("scroll",e):null!=d&&E(e,a,d,l))}switch(i){case"input":K(e),J(e,n,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(a=n.value)?ie(e,!!n.multiple,a,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=qn)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return uo(t),null;case 6:if(e&&null!=t.stateNode)io(0,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(r(166));if(i=Kr(zr.current),Kr(Gr.current),Rr(t)){if(n=t.stateNode,i=t.memoizedProps,n[as]=t,(a=n.nodeValue!==i)&&null!==(e=_r))switch(l=0!=(1&e.mode),e.tag){case 3:Yn(n.nodeValue,i,l);break;case 5:!0!==e.memoizedProps[void 0]&&Yn(n.nodeValue,i,l)}a&&(t.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[as]=t,t.stateNode=n}return uo(t),null;case 13:if(Es(Qr),n=t.memoizedState,wr&&null!==Nr&&0!=(1&t.mode)&&0==(128&t.flags)){for(n=Nr;n;)n=ns(n.nextSibling);return Mr(),t.flags|=98560,t}if(null!==n&&null!==n.dehydrated){if(n=Rr(t),null===e){if(!n)throw Error(r(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(r(317));n[as]=t}else Mr(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return uo(t),null}return null!==Ar&&(Kl(Ar),Ar=null),0!=(128&t.flags)?(t.lanes=i,t):(n=null!==n,i=!1,null===e?Rr(t):i=null!==e.memoizedState,n&&!i&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&Qr.current)?0===bl&&(bl=3):tc())),null!==t.updateQueue&&(t.flags|=4),uo(t),null);case 4:return qr(),null===e&&Fn(t.stateNode.containerInfo),uo(t),null;case 10:return Ws(t.type._context),uo(t),null;case 17:return ws(t.type)&&As(),uo(t),null;case 19:if(Es(Qr),null===(a=t.memoizedState))return uo(t),null;if(n=0!=(128&t.flags),null===(l=a.rendering))if(n)co(a,!1);else{if(0!==bl||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Xr(e))){for(t.flags|=128,co(a,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;null!==i;)e=n,(a=i).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return bs(Qr,1&Qr.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Il&&(t.flags|=128,n=!0,co(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=Xr(l))){if(t.flags|=128,n=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),co(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!wr)return uo(t),null}else 2*Qe()-a.renderingStartTime>Il&&1073741824!==i&&(t.flags|=128,n=!0,co(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=a.last)?i.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,i=Qr.current,bs(Qr,n?1&i|2:1&i),t):(uo(t),null);case 22:case 23:return Ql(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!=(1&t.mode)?0!=(1073741824&yl)&&(uo(t),6&t.subtreeFlags&&(t.flags|=8192)):uo(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}eo=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},to=function(e,t,i,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Kr(Gr.current);var r,a=null;switch(i){case"input":s=$(e,s),n=$(e,n),a=[];break;case"select":s=F({},s,{value:void 0}),n=F({},n,{value:void 0}),a=[];break;case"textarea":s=ne(e,s),n=ne(e,n),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof n.onClick&&(e.onclick=qn)}for(d in ye(i,n),i=null,s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(r in l)l.hasOwnProperty(r)&&(i||(i={}),i[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=s?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(i||(i={}),i[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(i||(i={}),i[r]=c[r])}else i||(a||(a=[]),a.push(d,i)),i=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Mn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}i&&(a=a||[]).push("style",i);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},io=function(e,t,i,n){i!==n&&(t.flags|=4)};var po=b.ReactCurrentOwner,mo=!1;function fo(e,t,i,n){t.child=null===e?Vr(t,null,i,n):jr(t,e.child,i,n)}function go(e,t,i,n,s){i=i.render;var r=t.ref;return Ks(t,s),n=pa(e,t,i,n,r,s),i=ma(),null===e||mo?(wr&&i&&Or(t),t.flags|=1,fo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xo(e,t,s))}function vo(e,t,i,n,s){if(null===e){var r=i.type;return"function"!=typeof r||yc(r)||void 0!==r.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=bc(i.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,yo(e,t,r,n,s))}if(r=e.child,0==(e.lanes&s)){var a=r.memoizedProps;if((i=null!==(i=i.compare)?i:nn)(a,n)&&e.ref===t.ref)return xo(e,t,s)}return t.flags|=1,(e=Ec(r,n)).ref=t.ref,e.return=t,t.child=e}function yo(e,t,i,n,s){if(null!==e&&nn(e.memoizedProps,n)&&e.ref===t.ref){if(mo=!1,0==(e.lanes&s))return t.lanes=e.lanes,xo(e,t,s);0!=(131072&e.flags)&&(mo=!0)}return So(e,t,i,n,s)}function Eo(e,t,i){var n=t.pendingProps,s=n.children,r=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},bs(El,yl),yl|=i;else{if(0==(1073741824&i))return e=null!==r?r.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,bs(El,yl),yl|=e,null;t.memoizedState={baseLanes:0,cachePool:null},n=null!==r?r.baseLanes:i,bs(El,yl),yl|=n}else null!==r?(n=r.baseLanes|i,t.memoizedState=null):n=i,bs(El,yl),yl|=n;return fo(e,t,s,i),t.child}function bo(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,i,n,s){var r=ws(i)?_s:Os.current;return r=Ns(t,r),Ks(t,s),i=pa(e,t,i,n,r,s),n=ma(),null===e||mo?(wr&&n&&Or(t),t.flags|=1,fo(e,t,i,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xo(e,t,s))}function Oo(e,t,i,n,s){if(ws(i)){var r=!0;Ps(t)}else r=!1;if(Ks(t,s),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),lr(t,i,n),dr(t,i,n,s),n=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=i.contextType;"object"==typeof c&&null!==c?c=Ys(c):c=Ns(t,c=ws(i)?_s:Os.current);var d=i.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate;u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==n||l!==c)&&cr(t,a,n,c),$s=!1;var h=t.memoizedState;a.state=h,ir(t,n,a,s),l=t.memoizedState,o!==n||h!==l||Ts.current||$s?("function"==typeof d&&(rr(t,i,d,n),l=t.memoizedState),(o=$s||or(t,i,o,n,h,l,c))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Qs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Us(t.type,o),a.props=c,u=t.pendingProps,h=a.context,"object"==typeof(l=i.contextType)&&null!==l?l=Ys(l):l=Ns(t,l=ws(i)?_s:Os.current);var p=i.getDerivedStateFromProps;(d="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==u||h!==l)&&cr(t,a,n,l),$s=!1,h=t.memoizedState,a.state=h,ir(t,n,a,s);var m=t.memoizedState;o!==u||h!==m||Ts.current||$s?("function"==typeof p&&(rr(t,i,p,n),m=t.memoizedState),(c=$s||or(t,i,c,n,h,m,l)||!1)?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,m,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,m,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return To(e,t,i,n,r,s)}function To(e,t,i,n,s,r){bo(e,t);var a=0!=(128&t.flags);if(!n&&!a)return s&&Ls(t,i,!1),xo(e,t,r);n=t.stateNode,po.current=t;var o=a&&"function"!=typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=jr(t,e.child,null,r),t.child=jr(t,null,o,r)):fo(e,t,o,r),t.memoizedState=n.state,s&&Ls(t,i,!0),t.child}function _o(e){var t=e.stateNode;t.pendingContext?Is(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(0,t.context,!1),Yr(e,t.containerInfo)}function No(e,t,i,n,s){return Mr(),Cr(s),t.flags|=256,fo(e,t,i,n),t.child}var wo={dehydrated:null,treeContext:null,retryLane:0};function Ao(e){return{baseLanes:e,cachePool:null}}function Io(e,t,i){var n,s=t.pendingProps,a=Qr.current,o=!1,l=0!=(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!=(2&a)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),bs(Qr,1&a),null===e)return Lr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=s.children,e=s.fallback,o?(s=t.mode,o=t.child,a={mode:"hidden",children:a},0==(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Oc(a,s,0,null),e=Sc(e,s,i,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ao(i),t.memoizedState=wo,e):ko(t,a));if(null!==(a=e.memoizedState)){if(null!==(n=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Do(e,t,i,Error(r(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=s.fallback,a=t.mode,s=Oc({mode:"visible",children:s.children},a,0,null),(o=Sc(o,a,i,null)).flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,0!=(1&t.mode)&&jr(t,e.child,null,i),t.child.memoizedState=Ao(i),t.memoizedState=wo,o);if(0==(1&t.mode))t=Do(e,t,i,null);else if("$!"===n.data)t=Do(e,t,i,Error(r(419)));else if(s=0!=(i&e.childLanes),mo||s){if(null!==(s=fl)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(s=0!=(o&(s.suspendedLanes|i))?0:o)&&s!==a.retryLane&&(a.retryLane=s,Vl(e,s,-1))}tc(),t=Do(e,t,i,Error(r(421)))}else"$?"===n.data?(t.flags|=128,t.child=e.child,t=pc.bind(null,e),n._reactRetry=t,t=null):(i=a.treeContext,Nr=ns(n.nextSibling),_r=t,wr=!0,Ar=null,null!==i&&(fr[gr++]=yr,fr[gr++]=Er,fr[gr++]=vr,yr=i.id,Er=i.overflow,vr=t),(t=ko(t,t.pendingProps.children)).flags|=4096);return t}return o?(s=Lo(e,t,s.children,s.fallback,i),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Ao(i):{baseLanes:a.baseLanes|i,cachePool:null},o.childLanes=e.childLanes&~i,t.memoizedState=wo,s):(i=Po(e,t,s.children,i),t.memoizedState=null,i)}return o?(s=Lo(e,t,s.children,s.fallback,i),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Ao(i):{baseLanes:a.baseLanes|i,cachePool:null},o.childLanes=e.childLanes&~i,t.memoizedState=wo,s):(i=Po(e,t,s.children,i),t.memoizedState=null,i)}function ko(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Po(e,t,i,n){var s=e.child;return e=s.sibling,i=Ec(s,{mode:"visible",children:i}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i}function Lo(e,t,i,n,s){var r=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:i};return 0==(1&r)&&t.child!==e?((i=t.child).childLanes=0,i.pendingProps=o,t.deletions=null):(i=Ec(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==a?n=Ec(a,n):(n=Sc(n,r,s,null)).flags|=2,n.return=t,i.return=t,i.sibling=n,t.child=i,n}function Do(e,t,i,n){return null!==n&&Cr(n),jr(t,e.child,null,i),(e=ko(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ro(e,t,i){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),zs(e.return,t,i)}function Mo(e,t,i,n,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=i,r.tailMode=s)}function Co(e,t,i){var n=t.pendingProps,s=n.revealOrder,r=n.tail;if(fo(e,t,n.children,i),0!=(2&(n=Qr.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ro(e,i,t);else if(19===e.tag)Ro(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(bs(Qr,n),0==(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;null!==i;)null!==(e=i.alternate)&&null===Xr(e)&&(s=i),i=i.sibling;null===(i=s)?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Mo(t,!1,s,i,r);break;case"backwards":for(i=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Xr(e)){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Mo(t,!0,i,null,r);break;case"together":Mo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xo(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0==(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(i=Ec(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Ec(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Fo(e,t){switch(Tr(t),t.tag){case 1:return ws(t.type)&&As(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qr(),Es(Ts),Es(Os),ea(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zr(t),null;case 13:if(Es(Qr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));Mr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Es(Qr),null;case 4:return qr(),null;case 10:return Ws(t.type._context),null;case 22:case 23:return Ql(),null;case 24:default:return null}}var Uo=!1,Ho=!1,jo="function"==typeof WeakSet?WeakSet:Set,Vo=null;function Bo(e,t){var i=e.ref;if(null!==i)if("function"==typeof i)try{i(null)}catch(i){dc(e,t,i)}else i.current=null}function Go(e,t,i){try{i()}catch(i){dc(e,t,i)}}var Wo=!1;function zo(e,t,i){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,void 0!==r&&Go(t,i,r)}s=s.next}while(s!==n)}}function Ko(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function Yo(e){var t=e.ref;if(null!==t){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}"function"==typeof t?t(e):t.current=e}}function qo(e,t,i){if(rt&&"function"==typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(st,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var s=n,r=s.destroy;s=s.tag,void 0!==r&&(0!=(2&s)||0!=(4&s))&&Go(t,i,r),n=n.next}while(n!==e)}break;case 1:if(Bo(t,i),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){dc(t,i,e)}break;case 5:Bo(t,i);break;case 4:tl(e,t,i)}}function $o(e){var t=e.alternate;null!==t&&(e.alternate=null,$o(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[as],delete t[os],delete t[cs],delete t[ds],delete t[us])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zo(e){return 5===e.tag||3===e.tag||4===e.tag}function Qo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Xo(e){e:{for(var t=e.return;null!==t;){if(Zo(t))break e;t=t.return}throw Error(r(160))}var i=t;switch(i.tag){case 5:t=i.stateNode,32&i.flags&&(he(t,""),i.flags&=-33),el(e,i=Qo(e),t);break;case 3:case 4:t=i.stateNode.containerInfo,Jo(e,i=Qo(e),t);break;default:throw Error(r(161))}}function Jo(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!=(i=i._reactRootContainer)||null!==t.onclick||(t.onclick=qn));else if(4!==n&&null!==(e=e.child))for(Jo(e,t,i),e=e.sibling;null!==e;)Jo(e,t,i),e=e.sibling}function el(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(el(e,t,i),e=e.sibling;null!==e;)el(e,t,i),e=e.sibling}function tl(e,t,i){for(var n,s,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(r(160));switch(n=o.stateNode,o.tag){case 5:s=!1;break e;case 3:case 4:n=n.containerInfo,s=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var l=e,c=a,d=i,u=c;;)if(qo(l,u,d),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s?(l=n,c=a.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):n.removeChild(a.stateNode)}else if(18===a.tag)s?(l=n,c=a.stateNode,8===l.nodeType?is(l.parentNode,c):1===l.nodeType&&is(l,c),Vt(l)):is(n,a.stateNode);else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,s=!0,a.child.return=a,a=a.child;continue}}else if(qo(e,a,i),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function il(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return zo(3,t,t.return),Ko(3,t),void zo(5,t,t.return);case 1:return;case 5:var i=t.stateNode;if(null!=i){var n=t.memoizedProps,s=null!==e?e.memoizedProps:n;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for("input"===e&&"radio"===n.type&&null!=n.name&&Q(i,n),Ee(e,s),t=Ee(e,n),s=0;s<a.length;s+=2){var o=a[s],l=a[s+1];"style"===o?ge(i,l):"dangerouslySetInnerHTML"===o?ue(i,l):"children"===o?he(i,l):E(i,o,l,t)}switch(e){case"input":X(i,n);break;case"textarea":re(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(a=n.value)?ie(i,!!n.multiple,a,!1):e!==!!n.multiple&&(null!=n.defaultValue?ie(i,!!n.multiple,n.defaultValue,!0):ie(i,!!n.multiple,n.multiple?[]:"",!1))}i[os]=n}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Vt(t.stateNode.containerInfo));case 12:return;case 13:case 19:return void nl(t);case 17:return}throw Error(r(163))}function nl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new jo),t.forEach((function(t){var n=mc.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function sl(e,t,i){Vo=e,rl(e,t,i)}function rl(e,t,i){for(var n=0!=(1&e.mode);null!==Vo;){var s=Vo,r=s.child;if(22===s.tag&&n){var a=null!==s.memoizedState||Uo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Ho;o=Uo;var c=Ho;if(Uo=a,(Ho=l)&&!c)for(Vo=s;null!==Vo;)l=(a=Vo).child,22===a.tag&&null!==a.memoizedState?ll(s):null!==l?(l.return=a,Vo=l):ll(s);for(;null!==r;)Vo=r,rl(r,t,i),r=r.sibling;Vo=s,Uo=o,Ho=c}al(e)}else 0!=(8772&s.subtreeFlags)&&null!==r?(r.return=s,Vo=r):al(e)}}function al(e){for(;null!==Vo;){var t=Vo;if(0!=(8772&t.flags)){var i=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ho||Ko(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ho)if(null===i)n.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:Us(t.type,i.memoizedProps);n.componentDidUpdate(s,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&nr(t,a,n);break;case 3:var o=t.updateQueue;if(null!==o){if(i=null,null!==t.child)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}nr(t,o,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Vt(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(r(163))}Ho||512&t.flags&&Yo(t)}catch(e){dc(t,t.return,e)}}if(t===e){Vo=null;break}if(null!==(i=t.sibling)){i.return=t.return,Vo=i;break}Vo=t.return}}function ol(e){for(;null!==Vo;){var t=Vo;if(t===e){Vo=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Vo=i;break}Vo=t.return}}function ll(e){for(;null!==Vo;){var t=Vo;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ko(4,t)}catch(e){dc(t,i,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var s=t.return;try{n.componentDidMount()}catch(e){dc(t,s,e)}}var r=t.return;try{Yo(t)}catch(e){dc(t,r,e)}break;case 5:var a=t.return;try{Yo(t)}catch(e){dc(t,a,e)}}}catch(e){dc(t,t.return,e)}if(t===e){Vo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Vo=o;break}Vo=t.return}}var cl,dl=Math.ceil,ul=b.ReactCurrentDispatcher,hl=b.ReactCurrentOwner,pl=b.ReactCurrentBatchConfig,ml=0,fl=null,gl=null,vl=0,yl=0,El=ys(0),bl=0,Sl=null,Ol=0,Tl=0,_l=0,Nl=null,wl=null,Al=0,Il=1/0,kl=!1,Pl=null,Ll=null,Dl=!1,Rl=null,Ml=0,Cl=0,xl=null,Fl=-1,Ul=0;function Hl(){return 0!=(6&ml)?Qe():-1!==Fl?Fl:Fl=Qe()}function jl(e){return 0==(1&e.mode)?1:0!=(2&ml)&&0!==vl?vl&-vl:null!==Fs.transition?(0===Ul&&(e=ct,0==(4194240&(ct<<=1))&&(ct=64),Ul=e),Ul):0!==(e=yt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function Vl(e,t,i){if(50<Cl)throw Cl=0,xl=null,Error(r(185));var n=Bl(e,t);return null===n?null:(gt(n,t,i),0!=(2&ml)&&n===fl||(n===fl&&(0==(2&ml)&&(Tl|=t),4===bl&&Yl(n,vl)),Gl(n,i),1===t&&0===ml&&0==(1&e.mode)&&(Il=Qe()+500,Rs&&xs())),n)}function Bl(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}function Gl(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var a=31-at(r),o=1<<a,l=s[a];-1===l?0!=(o&i)&&0==(o&n)||(s[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}}(e,t);var n=ht(e,e===fl?vl:0);if(0===n)null!==i&&qe(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=i&&qe(i),1===t)0===e.tag?function(e){Rs=!0,Cs(e)}(ql.bind(null,e)):Cs(ql.bind(null,e)),es((function(){0===ml&&xs()})),i=null;else{switch(Et(n)){case 1:i=Je;break;case 4:i=et;break;case 16:i=tt;break;case 536870912:i=nt;break;default:i=tt}i=fc(i,Wl.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Wl(e,t){if(Fl=-1,Ul=0,0!=(6&ml))throw Error(r(327));var i=e.callbackNode;if(lc()&&e.callbackNode!==i)return null;var n=ht(e,e===fl?vl:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=ic(e,n);else{t=n;var s=ml;ml|=2;var a=ec();for(fl===e&&vl===t||(Il=Qe()+500,Xl(e,t));;)try{sc();break}catch(t){Jl(e,t)}Gs(),ul.current=a,ml=s,null!==gl?t=0:(fl=null,vl=0,t=bl)}if(0!==t){if(2===t&&(0!==(s=mt(e))&&(n=s,t=zl(e,s))),1===t)throw i=Sl,Xl(e,0),Yl(e,n),Gl(e,Qe()),i;if(6===t)Yl(e,n);else{if(s=e.current.alternate,0==(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var s=i[n],r=s.getSnapshot;s=s.value;try{if(!tn(r(),s))return!1}catch(e){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=ic(e,n))&&(0!==(a=mt(e))&&(n=a,t=zl(e,a))),1===t))throw i=Sl,Xl(e,0),Yl(e,n),Gl(e,Qe()),i;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:oc(e,wl);break;case 3:if(Yl(e,n),(130023424&n)===n&&10<(t=Al+500-Qe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&n)!==n){Hl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Qn(oc.bind(null,e,wl),t);break}oc(e,wl);break;case 4:if(Yl(e,n),(4194240&n)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-at(n);a=1<<o,(o=t[o])>s&&(s=o),n&=~a}if(n=s,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dl(n/1960))-n)){e.timeoutHandle=Qn(oc.bind(null,e,wl),n);break}oc(e,wl);break;case 5:oc(e,wl);break;default:throw Error(r(329))}}}return Gl(e,Qe()),e.callbackNode===i?Wl.bind(null,e):null}function zl(e,t){var i=Nl;return e.current.memoizedState.isDehydrated&&(Xl(e,t).flags|=256),2!==(e=ic(e,t))&&(t=wl,wl=i,null!==t&&Kl(t)),e}function Kl(e){null===wl?wl=e:wl.push.apply(wl,e)}function Yl(e,t){for(t&=~_l,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-at(t),n=1<<i;e[i]=-1,t&=~n}}function ql(e){if(0!=(6&ml))throw Error(r(327));lc();var t=ht(e,0);if(0==(1&t))return Gl(e,Qe()),null;var i=ic(e,t);if(0!==e.tag&&2===i){var n=mt(e);0!==n&&(t=n,i=zl(e,n))}if(1===i)throw i=Sl,Xl(e,0),Yl(e,t),Gl(e,Qe()),i;if(6===i)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oc(e,wl),Gl(e,Qe()),null}function $l(e,t){var i=ml;ml|=1;try{return e(t)}finally{0===(ml=i)&&(Il=Qe()+500,Rs&&xs())}}function Zl(e){null!==Rl&&0===Rl.tag&&0==(6&ml)&&lc();var t=ml;ml|=1;var i=pl.transition,n=yt;try{if(pl.transition=null,yt=1,e)return e()}finally{yt=n,pl.transition=i,0==(6&(ml=t))&&xs()}}function Ql(){yl=El.current,Es(El)}function Xl(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,Xn(i)),null!==gl)for(i=gl.return;null!==i;){var n=i;switch(Tr(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&As();break;case 3:qr(),Es(Ts),Es(Os),ea();break;case 5:Zr(n);break;case 4:qr();break;case 13:case 19:Es(Qr);break;case 10:Ws(n.type._context);break;case 22:case 23:Ql()}i=i.return}if(fl=e,gl=e=Ec(e.current,null),vl=yl=t,bl=0,Sl=null,_l=Tl=Ol=0,wl=Nl=null,null!==qs){for(t=0;t<qs.length;t++)if(null!==(n=(i=qs[t]).interleaved)){i.interleaved=null;var s=n.next,r=i.pending;if(null!==r){var a=r.next;r.next=s,n.next=a}i.pending=n}qs=null}return e}function Jl(e,t){for(;;){var i=gl;try{if(Gs(),ta.current=qa,oa){for(var n=sa.memoizedState;null!==n;){var s=n.queue;null!==s&&(s.pending=null),n=n.next}oa=!1}if(na=0,aa=ra=sa=null,la=!1,ca=0,hl.current=null,null===i||null===i.return){bl=1,Sl=t,gl=null;break}e:{var a=e,o=i.return,l=i,c=t;if(t=vl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=l,h=u.tag;if(0==(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=oo(o);if(null!==m){m.flags&=-257,lo(m,o,l,0,t),1&m.mode&&ao(a,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0==(1&t)){ao(a,d,t),tc();break e}c=Error(r(426))}else if(wr&&1&l.mode){var v=oo(o);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),lo(v,o,l,0,t),Cr(c);break e}}a=c,4!==bl&&(bl=2),null===Nl?Nl=[a]:Nl.push(a),c=Xa(c,l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,tr(l,so(0,c,t));break e;case 1:a=c;var y=l.type,E=l.stateNode;if(0==(128&l.flags)&&("function"==typeof y.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ll||!Ll.has(E)))){l.flags|=65536,t&=-t,l.lanes|=t,tr(l,ro(l,a,t));break e}}l=l.return}while(null!==l)}ac(i)}catch(e){t=e,gl===i&&null!==i&&(gl=i=i.return);continue}break}}function ec(){var e=ul.current;return ul.current=qa,null===e?qa:e}function tc(){0!==bl&&3!==bl&&2!==bl||(bl=4),null===fl||0==(268435455&Ol)&&0==(268435455&Tl)||Yl(fl,vl)}function ic(e,t){var i=ml;ml|=2;var n=ec();for(fl===e&&vl===t||Xl(e,t);;)try{nc();break}catch(t){Jl(e,t)}if(Gs(),ml=i,ul.current=n,null!==gl)throw Error(r(261));return fl=null,vl=0,bl}function nc(){for(;null!==gl;)rc(gl)}function sc(){for(;null!==gl&&!$e();)rc(gl)}function rc(e){var t=cl(e.alternate,e,yl);e.memoizedProps=e.pendingProps,null===t?ac(e):gl=t,hl.current=null}function ac(e){var t=e;do{var i=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(i=ho(i,t,yl)))return void(gl=i)}else{if(null!==(i=Fo(i,t)))return i.flags&=32767,void(gl=i);if(null===e)return bl=6,void(gl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(gl=t);gl=t=e}while(null!==t);0===bl&&(bl=5)}function oc(e,t){var i=yt,n=pl.transition;try{pl.transition=null,yt=1,function(e,t,i){do{lc()}while(null!==Rl);if(0!=(6&ml))throw Error(r(327));var n=e.finishedWork,s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-at(i),r=1<<s;t[s]=0,n[s]=-1,e[s]=-1,i&=~r}}(e,a),e===fl&&(gl=fl=null,vl=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Dl||(Dl=!0,fc(tt,(function(){return lc(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=pl.transition,pl.transition=null;var o=yt;yt=1;var l=ml;ml|=4,hl.current=null,function(e,t){if(ln(e=on())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{i.nodeType,a.nodeType}catch(e){i=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==i||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===i&&++d===s&&(l=o),p===a&&++u===n&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for($n={focusedElem:e,selectionRange:i},Vo=t;null!==Vo;)if(e=(t=Vo).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Vo=e;else for(;null!==Vo;){t=Vo;try{var f=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,y=t.stateNode,E=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Us(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var S=b.body;null!=S&&(S.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(e){dc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Vo=e;break}Vo=t.return}f=Wo,Wo=!1}(e,n),function(e,t){for(Vo=t;null!==Vo;){var i=(t=Vo).deletions;if(null!==i)for(var n=0;n<i.length;n++){var s=i[n];try{tl(e,s,t);var r=s.alternate;null!==r&&(r.return=null),s.return=null}catch(e){dc(s,t,e)}}if(i=t.child,0!=(12854&t.subtreeFlags)&&null!==i)i.return=t,Vo=i;else for(;null!==Vo;){t=Vo;try{var a=t.flags;if(32&a&&he(t.stateNode,""),512&a){var o=t.alternate;if(null!==o){var l=o.ref;null!==l&&("function"==typeof l?l(null):l.current=null)}}if(8192&a)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Al=Qe())}break;case 22:var d=null!==t.memoizedState,u=t.alternate,h=null!==u&&null!==u.memoizedState;e:{s=d;for(var p=null,m=n=i=t;;){if(5===m.tag){if(null===p){p=m;var f=m.stateNode;if(s){var g=f.style;"function"==typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var v=m.stateNode,y=m.memoizedProps.style,E=null!=y&&y.hasOwnProperty("display")?y.display:null;v.style.display=fe("display",E)}}}else if(6===m.tag)null===p&&(m.stateNode.nodeValue=s?"":m.memoizedProps);else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===n)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===n)break;for(;null===m.sibling;){if(null===m.return||m.return===n)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}if(d&&!h&&0!=(1&i.mode)){Vo=i;for(var b=i.child;null!==b;){for(i=Vo=b;null!==Vo;){var S=(n=Vo).child;switch(n.tag){case 0:case 11:case 14:case 15:zo(4,n,n.return);break;case 1:Bo(n,n.return);var O=n.stateNode;if("function"==typeof O.componentWillUnmount){var T=n.return;try{O.props=n.memoizedProps,O.state=n.memoizedState,O.componentWillUnmount()}catch(e){dc(n,T,e)}}break;case 5:Bo(n,n.return);break;case 22:if(null!==n.memoizedState){ol(i);continue}}null!==S?(S.return=n,Vo=S):ol(i)}b=b.sibling}}}switch(4102&a){case 2:Xo(t),t.flags&=-3;break;case 6:Xo(t),t.flags&=-3,il(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,il(t.alternate,t);break;case 4:il(t.alternate,t)}}catch(e){dc(t,t.return,e)}if(null!==(i=t.sibling)){i.return=t.return,Vo=i;break}Vo=t.return}}}(e,n),cn($n),$n=null,e.current=n,sl(n,e,s),Ze(),ml=l,yt=o,pl.transition=a}else e.current=n;if(Dl&&(Dl=!1,Rl=e,Ml=s),0===(a=e.pendingLanes)&&(Ll=null),function(e){if(rt&&"function"==typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(st,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),Gl(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i(t[n]);if(kl)throw kl=!1,e=Pl,Pl=null,e;0!=(1&Ml)&&0!==e.tag&&lc(),0!=(1&(a=e.pendingLanes))?e===xl?Cl++:(Cl=0,xl=e):Cl=0,xs()}(e,t,i)}finally{pl.transition=n,yt=i}return null}function lc(){if(null!==Rl){var e=Et(Ml),t=pl.transition,i=yt;try{if(pl.transition=null,yt=16>e?16:e,null===Rl)var n=!1;else{if(e=Rl,Rl=null,Ml=0,0!=(6&ml))throw Error(r(331));var s=ml;for(ml|=4,Vo=e.current;null!==Vo;){var a=Vo,o=a.child;if(0!=(16&Vo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Vo=d;null!==Vo;){var u=Vo;switch(u.tag){case 0:case 11:case 15:zo(8,u,a)}var h=u.child;if(null!==h)h.return=u,Vo=h;else for(;null!==Vo;){var p=(u=Vo).sibling,m=u.return;if($o(u),u===d){Vo=null;break}if(null!==p){p.return=m,Vo=p;break}Vo=m}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Vo=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,Vo=o;else e:for(;null!==Vo;){if(0!=(2048&(a=Vo).flags))switch(a.tag){case 0:case 11:case 15:zo(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Vo=y;break e}Vo=a.return}}var E=e.current;for(Vo=E;null!==Vo;){var b=(o=Vo).child;if(0!=(2064&o.subtreeFlags)&&null!==b)b.return=o,Vo=b;else e:for(o=E;null!==Vo;){if(0!=(2048&(l=Vo).flags))try{switch(l.tag){case 0:case 11:case 15:Ko(9,l)}}catch(e){dc(l,l.return,e)}if(l===o){Vo=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Vo=S;break e}Vo=l.return}}if(ml=s,xs(),rt&&"function"==typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(st,e)}catch(e){}n=!0}return n}finally{yt=i,pl.transition=t}}return!1}function cc(e,t,i){Js(e,t=so(0,t=Xa(i,t),1)),t=Hl(),null!==(e=Bl(e,1))&&(gt(e,1,t),Gl(e,t))}function dc(e,t,i){if(3===e.tag)cc(e,e,i);else for(;null!==t;){if(3===t.tag){cc(t,e,i);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Ll||!Ll.has(n))){Js(t,e=ro(t,e=Xa(i,e),1)),e=Hl(),null!==(t=Bl(t,1))&&(gt(t,1,e),Gl(t,e));break}}t=t.return}}function uc(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=Hl(),e.pingedLanes|=e.suspendedLanes&i,fl===e&&(vl&i)===i&&(4===bl||3===bl&&(130023424&vl)===vl&&500>Qe()-Al?Xl(e,0):_l|=i),Gl(e,t)}function hc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=dt,0==(130023424&(dt<<=1))&&(dt=4194304)));var i=Hl();null!==(e=Bl(e,t))&&(gt(e,t,i),Gl(e,i))}function pc(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),hc(e,i)}function mc(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(i=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),hc(e,i)}function fc(e,t){return Ye(e,t)}function gc(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vc(e,t,i,n){return new gc(e,t,i,n)}function yc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ec(e,t){var i=e.alternate;return null===i?((i=vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function bc(e,t,i,n,s,a){var o=2;if(n=e,"function"==typeof e)yc(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case T:return Sc(i.children,s,a,t);case _:o=8,s|=8;break;case N:return(e=vc(12,i,t,2|s)).elementType=N,e.lanes=a,e;case k:return(e=vc(13,i,t,s)).elementType=k,e.lanes=a,e;case P:return(e=vc(19,i,t,s)).elementType=P,e.lanes=a,e;case R:return Oc(i,s,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case w:o=10;break e;case A:o=9;break e;case I:o=11;break e;case L:o=14;break e;case D:o=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=vc(o,i,t,s)).elementType=e,t.type=n,t.lanes=a,t}function Sc(e,t,i,n){return(e=vc(7,e,n,t)).lanes=i,e}function Oc(e,t,i,n){return(e=vc(22,e,n,t)).elementType=R,e.lanes=i,e.stateNode={},e}function Tc(e,t,i){return(e=vc(6,e,null,t)).lanes=i,e}function _c(e,t,i){return(t=vc(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nc(e,t,i,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wc(e,t,i,n,s,r,a,o,l){return e=new Nc(e,t,i,o,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=vc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null},Zs(r),e}function Ac(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}function Ic(e){if(!e)return Ss;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ws(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var i=e.type;if(ws(i))return ks(e,i,t)}return t}function kc(e,t,i,n,s,r,a,o,l){return(e=wc(i,n,!0,e,0,r,0,o,l)).context=Ic(null),i=e.current,(r=Xs(n=Hl(),s=jl(i))).callback=null!=t?t:null,Js(i,r),e.current.lanes=s,gt(e,s,n),Gl(e,n),e}function Pc(e,t,i,n){var s=t.current,r=Hl(),a=jl(s);return i=Ic(i),null===t.context?t.context=i:t.pendingContext=i,(t=Xs(r,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),Js(s,t),null!==(e=Vl(s,a,r))&&er(e,s,a),a}function Lc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Dc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Rc(e,t){Dc(e,t),(e=e.alternate)&&Dc(e,t)}cl=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ts.current)mo=!0;else{if(0==(e.lanes&i)&&0==(128&t.flags))return mo=!1,function(e,t,i){switch(t.tag){case 3:_o(t),Mr();break;case 5:$r(t);break;case 1:ws(t.type)&&Ps(t);break;case 4:Yr(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;bs(Hs,n._currentValue),n._currentValue=s;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(bs(Qr,1&Qr.current),t.flags|=128,null):0!=(i&t.child.childLanes)?Io(e,t,i):(bs(Qr,1&Qr.current),null!==(e=xo(e,t,i))?e.sibling:null);bs(Qr,1&Qr.current);break;case 19:if(n=0!=(i&t.childLanes),0!=(128&e.flags)){if(n)return Co(e,t,i);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),bs(Qr,Qr.current),n)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,i)}return xo(e,t,i)}(e,t,i);mo=0!=(131072&e.flags)}else mo=!1,wr&&0!=(1048576&t.flags)&&Sr(t,mr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var s=Ns(t,Os.current);Ks(t,i),s=pa(null,t,n,e,s,i);var a=ma();return t.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ws(n)?(a=!0,Ps(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Zs(t),s.updater=ar,t.stateNode=s,s._reactInternals=t,dr(t,n,e,i),t=To(null,t,n,!0,a,i)):(t.tag=0,wr&&a&&Or(t),fo(null,t,s,i),t=t.child),t;case 16:n=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=(s=n._init)(n._payload),t.type=n,s=t.tag=function(e){if("function"==typeof e)return yc(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===L)return 14}return 2}(n),e=Us(n,e),s){case 0:t=So(null,t,n,e,i);break e;case 1:t=Oo(null,t,n,e,i);break e;case 11:t=go(null,t,n,e,i);break e;case 14:t=vo(null,t,n,Us(n.type,e),i);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,So(e,t,n,s=t.elementType===n?s:Us(n,s),i);case 1:return n=t.type,s=t.pendingProps,Oo(e,t,n,s=t.elementType===n?s:Us(n,s),i);case 3:e:{if(_o(t),null===e)throw Error(r(387));n=t.pendingProps,s=(a=t.memoizedState).element,Qs(e,t),ir(t,n,null,i);var o=t.memoizedState;if(n=o.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=No(e,t,n,i,s=Error(r(423)));break e}if(n!==s){t=No(e,t,n,i,s=Error(r(424)));break e}for(Nr=ns(t.stateNode.containerInfo.firstChild),_r=t,wr=!0,Ar=null,i=Vr(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(Mr(),n===s){t=xo(e,t,i);break e}fo(e,t,n,i)}t=t.child}return t;case 5:return $r(t),null===e&&Lr(t),n=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,Zn(n,s)?o=null:null!==a&&Zn(n,a)&&(t.flags|=32),bo(e,t),fo(e,t,o,i),t.child;case 6:return null===e&&Lr(t),null;case 13:return Io(e,t,i);case 4:return Yr(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=jr(t,null,n,i):fo(e,t,n,i),t.child;case 11:return n=t.type,s=t.pendingProps,go(e,t,n,s=t.elementType===n?s:Us(n,s),i);case 7:return fo(e,t,t.pendingProps,i),t.child;case 8:case 12:return fo(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,bs(Hs,n._currentValue),n._currentValue=o,null!==a)if(tn(a.value,o)){if(a.children===s.children&&!Ts.current){t=xo(e,t,i);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===a.tag){(c=Xs(-1,i&-i)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=i,null!==(c=a.alternate)&&(c.lanes|=i),zs(a.return,i,t),l.lanes|=i;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=i,null!==(l=o.alternate)&&(l.lanes|=i),zs(o,i,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}fo(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ks(t,i),n=n(s=Ys(s)),t.flags|=1,fo(e,t,n,i),t.child;case 14:return s=Us(n=t.type,t.pendingProps),vo(e,t,n,s=Us(n.type,s),i);case 15:return yo(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Us(n,s),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ws(n)?(e=!0,Ps(t)):e=!1,Ks(t,i),lr(t,n,s),dr(t,n,s,i),To(null,t,n,!0,e,i);case 19:return Co(e,t,i);case 22:return Eo(e,t,i)}throw Error(r(156,t.tag))};var Mc="function"==typeof reportError?reportError:function(e){console.error(e)};function Cc(e){this._internalRoot=e}function xc(e){this._internalRoot=e}function Fc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Hc(){}function jc(e,t,i,n,s){var r=i._reactRootContainer;if(r){var a=r;if("function"==typeof s){var o=s;s=function(){var e=Lc(a);o.call(e)}}Pc(t,a,e,s)}else a=function(e,t,i,n,s){if(s){if("function"==typeof n){var r=n;n=function(){var e=Lc(a);r.call(e)}}var a=kc(t,n,e,0,null,!1,0,"",Hc);return e._reactRootContainer=a,e[ls]=a.current,Fn(8===e.nodeType?e.parentNode:e),Zl(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof n){var o=n;n=function(){var e=Lc(l);o.call(e)}}var l=wc(e,0,!1,null,0,!1,0,"",Hc);return e._reactRootContainer=l,e[ls]=l.current,Fn(8===e.nodeType?e.parentNode:e),Zl((function(){Pc(t,l,i,n)})),l}(i,t,e,s,n);return Lc(a)}xc.prototype.render=Cc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Pc(e,t,null,null)},xc.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zl((function(){Pc(null,e,null,null)})),t[ls]=null}},xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Dt.length&&0!==t&&t<Dt[i].priority;i++);Dt.splice(i,0,e),0===i&&xt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ut(t.pendingLanes);0!==i&&(vt(t,1|i),Gl(t,Qe()),0==(6&ml)&&(Il=Qe()+500,xs()))}break;case 13:var n=Hl();Zl((function(){return Vl(e,1,n)})),Rc(e,1)}},St=function(e){13===e.tag&&(Vl(e,134217728,Hl()),Rc(e,134217728))},Ot=function(e){if(13===e.tag){var t=Hl(),i=jl(e);Vl(e,i,t),Rc(e,i)}},Tt=function(){return yt},_t=function(e,t){var i=yt;try{return yt=e,t()}finally{yt=i}},Oe=function(e,t,i){switch(t){case"input":if(X(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var s=fs(n);if(!s)throw Error(r(90));Y(n),X(n,s)}}}break;case"textarea":re(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},Ie=$l,ke=Zl;var Vc={usingClientEntryPoint:!1,Events:[ps,ms,fs,we,Ae,$l]},Bc={findFiberByHostInstance:hs,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Gc={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{st=Wc.inject(Gc),rt=Wc}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vc,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Fc(t))throw Error(r(200));return Ac(e,t,null,i)},t.createRoot=function(e,t){if(!Fc(e))throw Error(r(299));var i=!1,n="",s=Mc;return null!=t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=wc(e,1,!1,null,0,i,0,n,s),e[ls]=t.current,Fn(8===e.nodeType?e.parentNode:e),new Cc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return Zl(e)},t.hydrate=function(e,t,i){if(!Uc(t))throw Error(r(200));return jc(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!Fc(e))throw Error(r(405));var n=null!=i&&i.hydratedSources||null,s=!1,a="",o=Mc;if(null!=i&&(!0===i.unstable_strictMode&&(s=!0),void 0!==i.identifierPrefix&&(a=i.identifierPrefix),void 0!==i.onRecoverableError&&(o=i.onRecoverableError)),t=kc(t,null,e,1,null!=i?i:null,s,0,a,o),e[ls]=t.current,Fn(e),n)for(e=0;e<n.length;e++)s=(s=(i=n[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new xc(t)},t.render=function(e,t,i){if(!Uc(t))throw Error(r(200));return jc(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Uc(e))throw Error(r(40));return!!e._reactRootContainer&&(Zl((function(){jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ls]=null}))})),!0)},t.unstable_batchedUpdates=$l,t.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!Uc(i))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return jc(e,t,i,!1,n)},t.version="18.0.0-fc46dba67-20220329"},20745:(e,t,i)=>{"use strict";var n=i(73935);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},73935:(e,t,i)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=i(64448)},69590:e=>{var t="undefined"!=typeof Element,i="function"==typeof Map,n="function"==typeof Set,s="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function r(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var o,l,c,d;if(Array.isArray(e)){if((o=e.length)!=a.length)return!1;for(l=o;0!=l--;)if(!r(e[l],a[l]))return!1;return!0}if(i&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;for(d=e.entries();!(l=d.next()).done;)if(!r(l.value[1],a.get(l.value[0])))return!1;return!0}if(n&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((o=e.length)!=a.length)return!1;for(l=o;0!=l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!r(e[c[l]],a[c[l]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return r(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},77294:(e,t,i)=>{"use strict";i.d(t,{D:()=>ge});var n=i(67294);function s(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function r(e){return e instanceof s(e).Element||e instanceof Element}function a(e){return e instanceof s(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!=typeof ShadowRoot&&(e instanceof s(e).ShadowRoot||e instanceof ShadowRoot)}var l=Math.max,c=Math.min,d=Math.round;function u(e,t){void 0===t&&(t=!1);var i=e.getBoundingClientRect(),n=1,s=1;if(a(e)&&t){var r=e.offsetHeight,o=e.offsetWidth;o>0&&(n=d(i.width)/o||1),r>0&&(s=d(i.height)/r||1)}return{width:i.width/n,height:i.height/s,top:i.top/s,right:i.right/n,bottom:i.bottom/s,left:i.left/n,x:i.left/n,y:i.top/s}}function h(e){var t=s(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function m(e){return((r(e)?e.ownerDocument:e.document)||window.document).documentElement}function f(e){return u(m(e)).left+h(e).scrollLeft}function g(e){return s(e).getComputedStyle(e)}function v(e){var t=g(e),i=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function y(e,t,i){void 0===i&&(i=!1);var n,r,o=a(t),l=a(t)&&function(e){var t=e.getBoundingClientRect(),i=d(t.width)/e.offsetWidth||1,n=d(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),c=m(t),g=u(e,l),y={scrollLeft:0,scrollTop:0},E={x:0,y:0};return(o||!o&&!i)&&(("body"!==p(t)||v(c))&&(y=(n=t)!==s(n)&&a(n)?{scrollLeft:(r=n).scrollLeft,scrollTop:r.scrollTop}:h(n)),a(t)?((E=u(t,!0)).x+=t.clientLeft,E.y+=t.clientTop):c&&(E.x=f(c))),{x:g.left+y.scrollLeft-E.x,y:g.top+y.scrollTop-E.y,width:g.width,height:g.height}}function E(e){var t=u(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function b(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||m(e)}function S(e){return["html","body","#document"].indexOf(p(e))>=0?e.ownerDocument.body:a(e)&&v(e)?e:S(b(e))}function O(e,t){var i;void 0===t&&(t=[]);var n=S(e),r=n===(null==(i=e.ownerDocument)?void 0:i.body),a=s(n),o=r?[a].concat(a.visualViewport||[],v(n)?n:[]):n,l=t.concat(o);return r?l:l.concat(O(b(o)))}function T(e){return["table","td","th"].indexOf(p(e))>=0}function _(e){return a(e)&&"fixed"!==g(e).position?e.offsetParent:null}function N(e){for(var t=s(e),i=_(e);i&&T(i)&&"static"===g(i).position;)i=_(i);return i&&("html"===p(i)||"body"===p(i)&&"static"===g(i).position)?t:i||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&a(e)&&"fixed"===g(e).position)return null;for(var i=b(e);a(i)&&["html","body"].indexOf(p(i))<0;){var n=g(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}var w="top",A="bottom",I="right",k="left",P="auto",L=[w,A,I,k],D="start",R="end",M="viewport",C="popper",x=L.reduce((function(e,t){return e.concat([t+"-"+D,t+"-"+R])}),[]),F=[].concat(L,[P]).reduce((function(e,t){return e.concat([t,t+"-"+D,t+"-"+R])}),[]),U=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(e){var t=new Map,i=new Set,n=[];function s(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&s(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||s(e)})),n}var j={placement:"bottom",modifiers:[],strategy:"absolute"};function V(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function B(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,s=t.defaultOptions,a=void 0===s?j:s;return function(e,t,i){void 0===i&&(i=a);var s,o,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},j,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],d=!1,u={state:l,setOptions:function(i){var s="function"==typeof i?i(l.options):i;h(),l.options=Object.assign({},a,l.options,s),l.scrollParents={reference:r(e)?O(e):e.contextElement?O(e.contextElement):[],popper:O(t)};var o=function(e){var t=H(e);return U.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}(function(e){var t=e.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,l.options.modifiers)));return l.orderedModifiers=o.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,s=e.effect;if("function"==typeof s){var r=s({state:l,name:t,instance:u,options:n}),a=function(){};c.push(r||a)}})),u.update()},forceUpdate:function(){if(!d){var e=l.elements,t=e.reference,i=e.popper;if(V(t,i)){l.rects={reference:y(t,N(i),"fixed"===l.options.strategy),popper:E(i)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<l.orderedModifiers.length;n++)if(!0!==l.reset){var s=l.orderedModifiers[n],r=s.fn,a=s.options,o=void 0===a?{}:a,c=s.name;"function"==typeof r&&(l=r({state:l,options:o,name:c,instance:u})||l)}else l.reset=!1,n=-1}}},update:(s=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(s())}))}))),o}),destroy:function(){h(),d=!0}};if(!V(e,t))return u;function h(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(i).then((function(e){!d&&i.onFirstUpdate&&i.onFirstUpdate(e)})),u}}var G={passive:!0};function W(e){return e.split("-")[0]}function z(e){return e.split("-")[1]}function K(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e){var t,i=e.reference,n=e.element,s=e.placement,r=s?W(s):null,a=s?z(s):null,o=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(r){case w:t={x:o,y:i.y-n.height};break;case A:t={x:o,y:i.y+i.height};break;case I:t={x:i.x+i.width,y:l};break;case k:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=r?K(r):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case D:t[c]=t[c]-(i[d]/2-n[d]/2);break;case R:t[c]=t[c]+(i[d]/2-n[d]/2)}}return t}var q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $(e){var t,i=e.popper,n=e.popperRect,r=e.placement,a=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,p=e.isFixed,f=o.x,v=void 0===f?0:f,y=o.y,E=void 0===y?0:y,b="function"==typeof h?h({x:v,y:E}):{x:v,y:E};v=b.x,E=b.y;var S=o.hasOwnProperty("x"),O=o.hasOwnProperty("y"),T=k,_=w,P=window;if(u){var L=N(i),D="clientHeight",M="clientWidth";if(L===s(i)&&"static"!==g(L=m(i)).position&&"absolute"===l&&(D="scrollHeight",M="scrollWidth"),L=L,r===w||(r===k||r===I)&&a===R)_=A,E-=(p&&P.visualViewport?P.visualViewport.height:L[D])-n.height,E*=c?1:-1;if(r===k||(r===w||r===A)&&a===R)T=I,v-=(p&&P.visualViewport?P.visualViewport.width:L[M])-n.width,v*=c?1:-1}var C,x=Object.assign({position:l},u&&q),F=!0===h?function(e){var t=e.x,i=e.y,n=window.devicePixelRatio||1;return{x:d(t*n)/n||0,y:d(i*n)/n||0}}({x:v,y:E}):{x:v,y:E};return v=F.x,E=F.y,c?Object.assign({},x,((C={})[_]=O?"0":"",C[T]=S?"0":"",C.transform=(P.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",C)):Object.assign({},x,((t={})[_]=O?E+"px":"",t[T]=S?v+"px":"",t.transform="",t))}var Z={left:"right",right:"left",bottom:"top",top:"bottom"};function Q(e){return e.replace(/left|right|bottom|top/g,(function(e){return Z[e]}))}var X={start:"end",end:"start"};function J(e){return e.replace(/start|end/g,(function(e){return X[e]}))}function ee(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&o(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function te(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ie(e,t){return t===M?te(function(e){var t=s(e),i=m(e),n=t.visualViewport,r=i.clientWidth,a=i.clientHeight,o=0,l=0;return n&&(r=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,l=n.offsetTop)),{width:r,height:a,x:o+f(e),y:l}}(e)):r(t)?function(e){var t=u(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):te(function(e){var t,i=m(e),n=h(e),s=null==(t=e.ownerDocument)?void 0:t.body,r=l(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=l(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-n.scrollLeft+f(e),c=-n.scrollTop;return"rtl"===g(s||i).direction&&(o+=l(i.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:o,y:c}}(m(e)))}function ne(e,t,i){var n="clippingParents"===t?function(e){var t=O(b(e)),i=["absolute","fixed"].indexOf(g(e).position)>=0&&a(e)?N(e):e;return r(i)?t.filter((function(e){return r(e)&&ee(e,i)&&"body"!==p(e)})):[]}(e):[].concat(t),s=[].concat(n,[i]),o=s[0],d=s.reduce((function(t,i){var n=ie(e,i);return t.top=l(n.top,t.top),t.right=c(n.right,t.right),t.bottom=c(n.bottom,t.bottom),t.left=l(n.left,t.left),t}),ie(e,o));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function se(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function re(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}function ae(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=void 0===n?e.placement:n,a=i.boundary,o=void 0===a?"clippingParents":a,l=i.rootBoundary,c=void 0===l?M:l,d=i.elementContext,h=void 0===d?C:d,p=i.altBoundary,f=void 0!==p&&p,g=i.padding,v=void 0===g?0:g,y=se("number"!=typeof v?v:re(v,L)),E=h===C?"reference":C,b=e.rects.popper,S=e.elements[f?E:h],O=ne(r(S)?S:S.contextElement||m(e.elements.popper),o,c),T=u(e.elements.reference),_=Y({reference:T,element:b,strategy:"absolute",placement:s}),N=te(Object.assign({},b,_)),k=h===C?N:T,P={top:O.top-k.top+y.top,bottom:k.bottom-O.bottom+y.bottom,left:O.left-k.left+y.left,right:k.right-O.right+y.right},D=e.modifiersData.offset;if(h===C&&D){var R=D[s];Object.keys(P).forEach((function(e){var t=[I,A].indexOf(e)>=0?1:-1,i=[w,A].indexOf(e)>=0?"y":"x";P[e]+=R[i]*t}))}return P}function oe(e,t,i){return l(e,c(t,i))}function le(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function ce(e){return[w,I,A,k].some((function(t){return e[t]>=0}))}var de=B({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,a=void 0===r||r,o=n.resize,l=void 0===o||o,c=s(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&d.forEach((function(e){e.addEventListener("scroll",i.update,G)})),l&&c.addEventListener("resize",i.update,G),function(){a&&d.forEach((function(e){e.removeEventListener("scroll",i.update,G)})),l&&c.removeEventListener("resize",i.update,G)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,s=void 0===n||n,r=i.adaptive,a=void 0===r||r,o=i.roundOffsets,l=void 0===o||o,c={placement:W(t.placement),variation:z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,$(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,$(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},s=t.elements[e];a(s)&&p(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],s=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});a(n)&&p(n)&&(Object.assign(n.style,r),Object.keys(s).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,s=i.offset,r=void 0===s?[0,0]:s,a=F.reduce((function(e,i){return e[i]=function(e,t,i){var n=W(e),s=[k,w].indexOf(n)>=0?-1:1,r="function"==typeof i?i(Object.assign({},t,{placement:e})):i,a=r[0],o=r[1];return a=a||0,o=(o||0)*s,[k,I].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}(i,t.rects,r),e}),{}),o=a[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=i.mainAxis,r=void 0===s||s,a=i.altAxis,o=void 0===a||a,l=i.fallbackPlacements,c=i.padding,d=i.boundary,u=i.rootBoundary,h=i.altBoundary,p=i.flipVariations,m=void 0===p||p,f=i.allowedAutoPlacements,g=t.options.placement,v=W(g),y=l||(v===g||!m?[Q(g)]:function(e){if(W(e)===P)return[];var t=Q(e);return[J(e),t,J(t)]}(g)),E=[g].concat(y).reduce((function(e,i){return e.concat(W(i)===P?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=i.boundary,r=i.rootBoundary,a=i.padding,o=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?F:l,d=z(n),u=d?o?x:x.filter((function(e){return z(e)===d})):L,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var p=h.reduce((function(t,i){return t[i]=ae(e,{placement:i,boundary:s,rootBoundary:r,padding:a})[W(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:i,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:f}):i)}),[]),b=t.rects.reference,S=t.rects.popper,O=new Map,T=!0,_=E[0],N=0;N<E.length;N++){var R=E[N],M=W(R),C=z(R)===D,U=[w,A].indexOf(M)>=0,H=U?"width":"height",j=ae(t,{placement:R,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),V=U?C?I:k:C?A:w;b[H]>S[H]&&(V=Q(V));var B=Q(V),G=[];if(r&&G.push(j[M]<=0),o&&G.push(j[V]<=0,j[B]<=0),G.every((function(e){return e}))){_=R,T=!1;break}O.set(R,G)}if(T)for(var K=function(e){var t=E.find((function(t){var i=O.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},Y=m?3:1;Y>0;Y--){if("break"===K(Y))break}t.placement!==_&&(t.modifiersData[n]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,s=i.mainAxis,r=void 0===s||s,a=i.altAxis,o=void 0!==a&&a,d=i.boundary,u=i.rootBoundary,h=i.altBoundary,p=i.padding,m=i.tether,f=void 0===m||m,g=i.tetherOffset,v=void 0===g?0:g,y=ae(t,{boundary:d,rootBoundary:u,padding:p,altBoundary:h}),b=W(t.placement),S=z(t.placement),O=!S,T=K(b),_="x"===T?"y":"x",P=t.modifiersData.popperOffsets,L=t.rects.reference,R=t.rects.popper,M="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,C="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(P){if(r){var U,H="y"===T?w:k,j="y"===T?A:I,V="y"===T?"height":"width",B=P[T],G=B+y[H],Y=B-y[j],q=f?-R[V]/2:0,$=S===D?L[V]:R[V],Z=S===D?-R[V]:-L[V],Q=t.elements.arrow,X=f&&Q?E(Q):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=J[H],te=J[j],ie=oe(0,L[V],X[V]),ne=O?L[V]/2-q-ie-ee-C.mainAxis:$-ie-ee-C.mainAxis,se=O?-L[V]/2+q+ie+te+C.mainAxis:Z+ie+te+C.mainAxis,re=t.elements.arrow&&N(t.elements.arrow),le=re?"y"===T?re.clientTop||0:re.clientLeft||0:0,ce=null!=(U=null==x?void 0:x[T])?U:0,de=B+se-ce,ue=oe(f?c(G,B+ne-ce-le):G,B,f?l(Y,de):Y);P[T]=ue,F[T]=ue-B}if(o){var he,pe="x"===T?w:k,me="x"===T?A:I,fe=P[_],ge="y"===_?"height":"width",ve=fe+y[pe],ye=fe-y[me],Ee=-1!==[w,k].indexOf(b),be=null!=(he=null==x?void 0:x[_])?he:0,Se=Ee?ve:fe-L[ge]-R[ge]-be+C.altAxis,Oe=Ee?fe+L[ge]+R[ge]-be-C.altAxis:ye,Te=f&&Ee?function(e,t,i){var n=oe(e,t,i);return n>i?i:n}(Se,fe,Oe):oe(f?Se:ve,fe,f?Oe:ye);P[_]=Te,F[_]=Te-fe}t.modifiersData[n]=F}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,s=e.options,r=i.elements.arrow,a=i.modifiersData.popperOffsets,o=W(i.placement),l=K(o),c=[k,I].indexOf(o)>=0?"height":"width";if(r&&a){var d=function(e,t){return se("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:re(e,L))}(s.padding,i),u=E(r),h="y"===l?w:k,p="y"===l?A:I,m=i.rects.reference[c]+i.rects.reference[l]-a[l]-i.rects.popper[c],f=a[l]-i.rects.reference[l],g=N(r),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=m/2-f/2,b=d[h],S=v-u[c]-d[p],O=v/2-u[c]/2+y,T=oe(b,O,S),_=l;i.modifiersData[n]=((t={})[_]=T,t.centerOffset=T-O,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&ee(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,a=ae(t,{elementContext:"reference"}),o=ae(t,{altBoundary:!0}),l=le(a,n),c=le(o,s,r),d=ce(l),u=ce(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),ue=i(69590),he=i.n(ue),pe=function(e){return e.reduce((function(e,t){var i=t[0],n=t[1];return e[i]=n,e}),{})},me="undefined"!=typeof window&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect,fe=[],ge=function(e,t,i){void 0===i&&(i={});var s=n.useRef(null),r={onFirstUpdate:i.onFirstUpdate,placement:i.placement||"bottom",strategy:i.strategy||"absolute",modifiers:i.modifiers||fe},a=n.useState({styles:{popper:{position:r.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=a[0],l=a[1],c=n.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,i=Object.keys(t.elements);l({styles:pe(i.map((function(e){return[e,t.styles[e]||{}]}))),attributes:pe(i.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),d=n.useMemo((function(){var e={onFirstUpdate:r.onFirstUpdate,placement:r.placement,strategy:r.strategy,modifiers:[].concat(r.modifiers,[c,{name:"applyStyles",enabled:!1}])};return he()(s.current,e)?s.current||e:(s.current=e,e)}),[r.onFirstUpdate,r.placement,r.strategy,r.modifiers,c]),u=n.useRef();return me((function(){u.current&&u.current.setOptions(d)}),[d]),me((function(){if(null!=e&&null!=t){var n=(i.createPopper||de)(e,t,d);return u.current=n,function(){n.destroy(),u.current=null}}}),[e,t,i.createPopper]),{state:u.current?u.current.state:null,styles:o.styles,attributes:o.attributes,update:u.current?u.current.update:null,forceUpdate:u.current?u.current.forceUpdate:null}}},75251:(e,t,i)=>{"use strict";var n=i(67294),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var n,r={},c=null,d=null;for(n in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:d,props:r,_owner:o.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},72408:(e,t)=>{"use strict";var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,i){this.props=e,this.context=t,this.refs=g,this.updater=i||m}function y(){}function E(e,t,i){this.props=e,this.context=t,this.refs=g,this.updater=i||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=E.prototype=new y;b.constructor=E,f(b,v.prototype),b.isPureReactComponent=!0;var S=Array.isArray,O=Object.prototype.hasOwnProperty,T={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var s,r={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)O.call(t,s)&&!_.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:i,type:e,key:a,ref:o,props:r,_owner:T.current}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var A=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,s,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case n:l=!0}}if(l)return a=a(l=e),e=""===r?"."+I(l,0):r,S(a)?(s="",null!=e&&(s=e.replace(A,"$&/")+"/"),k(a,t,s,"",(function(e){return e}))):null!=a&&(w(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",S(e))for(var c=0;c<e.length;c++){var d=r+I(o=e[c],c);l+=k(o,t,s,d,a)}else if("function"==typeof(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=d.call(e),c=0;!(o=e.next()).done;)l+=k(o=o.value,t,s,d=r+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,i){if(null==e)return e;var n=[],s=0;return k(e,n,"","",(function(e){return t.call(i,e,s++)})),n}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},M={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:T};t.Children={map:P,forEach:function(e,t,i){P(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!w(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=E,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),r=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=T.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)O.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:i,type:e.type,key:r,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=w,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,i){return D.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,i){return D.current.useReducer(e,t,i)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return D.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return D.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},67294:(e,t,i)=>{"use strict";e.exports=i(72408)},85893:(e,t,i)=>{"use strict";e.exports=i(75251)},91033:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var i=-1;return e.some((function(e,n){return e[0]===t&&(i=n,!0)})),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i++){var s=n[i];e.call(t,s[1],s[0])}},t}()}(),s="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==i.g&&i.g.Math===Math?i.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,n=!1,s=0;function r(){i&&(i=!1,e()),n&&l()}function o(){a(r)}function l(){var e=Date.now();if(i){if(e-s<2)return;n=!0}else i=!0,n=!1,setTimeout(o,t);s=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){s&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){s&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;o.some((function(e){return!!~i.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var s=n[i];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},h=y(0,0,0,0);function p(e){return parseFloat(e)||0}function m(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce((function(t,i){return t+p(e["border-"+i+"-width"])}),0)}function f(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return h;var n=u(e).getComputedStyle(e),s=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var s=n[i],r=e["padding-"+s];t[s]=p(r)}return t}(n),r=s.left+s.right,a=s.top+s.bottom,o=p(n.width),l=p(n.height);if("border-box"===n.boxSizing&&(Math.round(o+r)!==t&&(o-=m(n,"left","right")+r),Math.round(l+a)!==i&&(l-=m(n,"top","bottom")+a)),!function(e){return e===u(e).document.documentElement}(e)){var c=Math.round(o+r)-t,d=Math.round(l+a)-i;1!==Math.abs(c)&&(o-=c),1!==Math.abs(d)&&(l-=d)}return y(s.left,s.top,o,l)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return s?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):f(e):h}function y(e,t,i,n){return{x:e,y:t,width:i,height:n}}var E=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var i,n,s,r,a,o,l,c=(n=(i=t).x,s=i.y,r=i.width,a=i.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(o.prototype),d(l,{x:n,y:s,width:r,height:a,top:s,right:n+r,bottom:a+s,left:n}),l);d(this,{target:e,contentRect:c})},S=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new E(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!=typeof WeakMap?new WeakMap:new n,T=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=c.getInstance(),n=new S(t,i,this);O.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){T.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}}));const _=void 0!==r.ResizeObserver?r.ResizeObserver:T},473:e=>{function t(e,t){this._elements=new Array(e||50),this._first=0,this._last=0,this._size=0,this._evictedCb=t}e.exports=t,t.prototype.capacity=function(){return this._elements.length},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.isFull=function(){return this.size()===this.capacity()},t.prototype.peek=function(){if(this.isEmpty())throw new Error("RingBuffer is empty");return this._elements[this._first]},t.prototype.peekN=function(e){if(e>this._size)throw new Error("Not enough elements in RingBuffer");var t=Math.min(this._first+e,this.capacity()),i=this._elements.slice(this._first,t);if(t<this.capacity())return i;var n=this._elements.slice(0,e-i.length);return i.concat(n)},t.prototype.deq=function(){var e=this.peek();return this._size--,this._first=(this._first+1)%this.capacity(),e},t.prototype.deqN=function(e){var t=this.peekN(e);return this._size-=e,this._first=(this._first+e)%this.capacity(),t},t.prototype.enq=function(e){this._end=(this._first+this.size())%this.capacity();var t=this.isFull();return t&&this._evictedCb&&this._evictedCb(this._elements[this._end]),this._elements[this._end]=e,t?this._first=(this._first+1)%this.capacity():this._size++,this.size()},t.prototype.size=function(){return this._size}},60053:(e,t)=>{"use strict";function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,s=e[n];if(!(0<r(s,t)))break e;e[n]=t,e[i]=s,i=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,s=e.length,a=s>>>1;n<a;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,i))c<s&&0>r(d,l)?(e[n]=d,e[c]=i,n=c):(e[n]=l,e[o]=i,n=o);else{if(!(c<s&&0>r(d,i)))break e;e[n]=d,e[c]=i,n=c}}}return t}function r(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,E="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,i(c,t)}t=n(d)}}function S(e){if(g=!1,b(e),!f)if(null!==n(c))f=!0,R(O);else{var t=n(d);null!==t&&M(S,t.startTime-e)}}function O(e,i){f=!1,g&&(g=!1,y(w),w=-1),m=!0;var r=p;try{for(b(i),h=n(c);null!==h&&(!(h.expirationTime>i)||e&&!k());){var a=h.callback;if("function"==typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=i);i=t.unstable_now(),"function"==typeof o?h.callback=o:h===n(c)&&s(c),b(i)}else s(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&M(S,u.startTime-i),l=!1}return l}finally{h=null,p=r,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,_=!1,N=null,w=-1,A=5,I=-1;function k(){return!(t.unstable_now()-I<A)}function P(){if(null!==N){var e=t.unstable_now();I=e;var i=!0;try{i=N(!0,e)}finally{i?T():(_=!1,N=null)}}else _=!1}if("function"==typeof E)T=function(){E(P)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,D=L.port2;L.port1.onmessage=P,T=function(){D.postMessage(null)}}else T=function(){v(P,0)};function R(e){N=e,_||(_=!0,T())}function M(e,i){w=v((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,R(O))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var i=p;p=t;try{return e()}finally{p=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=p;p=e;try{return t()}finally{p=i}},t.unstable_scheduleCallback=function(e,s,r){var a=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(e.sortIndex=r,i(d,e),null===n(c)&&e===n(d)&&(g?(y(w),w=-1):g=!0,M(S,r-a))):(e.sortIndex=o,i(c,e),f||m||(f=!0,R(O))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=p;return function(){var i=p;p=t;try{return e.apply(this,arguments)}finally{p=i}}}},63840:(e,t,i)=>{"use strict";e.exports=i(60053)},61040:(e,t,i)=>{"use strict";var n=i(11132),s=i(22566),r=i(21924)("String.prototype.replace"),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=s(n(this));return r(r(e,a,""),o,"")}},46057:(e,t,i)=>{"use strict";var n=i(55559),s=i(4289),r=i(61040),a=i(30254),o=i(60029),l=n(a());s(l,{getPolyfill:a,implementation:r,shim:o}),e.exports=l},11132:(e,t,i)=>{"use strict";e.exports=i(37981)},22566:(e,t,i)=>{"use strict";var n=i(18989),s=n("%String%"),r=n("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new r("Cannot convert a Symbol value to a string");return s(e)}},37981:(e,t,i)=>{"use strict";var n=i(18989)("%TypeError%");e.exports=function(e,t){if(null==e)throw new n(t||"Cannot call method on "+e);return e}},18989:(e,t,i)=>{"use strict";var n,s=SyntaxError,r=Function,a=TypeError,o=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},d=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,u=i(41405)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p=o("async function* () {}"),m=p?p.prototype:n,f=m?m.prototype:n,g="undefined"==typeof Uint8Array?n:h(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":o("async function () {}"),"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":f?h(f):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":o("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":s,"%ThrowTypeError%":d,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=i(58612),b=i(17642),S=E.call(Function.call,Array.prototype.concat),O=E.call(Function.apply,Array.prototype.splice),T=E.call(Function.call,String.prototype.replace),_=E.call(Function.call,String.prototype.slice),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,A=function(e){var t=_(e,0,1),i=_(e,-1);if("%"===t&&"%"!==i)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return T(e,N,(function(e,t,i,s){n[n.length]=i?T(s,w,"$1"):t||e})),n},I=function(e,t){var i,n=e;if(b(y,n)&&(n="%"+(i=y[n])[0]+"%"),b(v,n)){var r=v[n];if(void 0===r&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:r}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var i=A(e),n=i.length>0?i[0]:"",r=I("%"+n+"%",t),o=r.name,c=r.value,d=!1,u=r.alias;u&&(n=u[0],O(i,S([0,1],u)));for(var h=1,p=!0;h<i.length;h+=1){var m=i[h],f=_(m,0,1),g=_(m,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new s("property names with quotes must have matching quotes");if("constructor"!==m&&p||(d=!0),b(v,o="%"+(n+="."+m)+"%"))c=v[o];else if(null!=c){if(!(m in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=i.length){var y=l(c,m);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[m]}else p=b(c,m),c=c[m];p&&!d&&(v[o]=c)}}return c}},30254:(e,t,i)=>{"use strict";var n=i(61040);e.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:n}},60029:(e,t,i)=>{"use strict";var n=i(4289),s=i(30254);e.exports=function(){var e=s();return n(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},67121:(e,t,i)=>{"use strict";e=i.hmd(e);!function(e){var t,i=e.Symbol;if("function"==typeof i)if(i.observable)t=i.observable;else{t=i.for("https://github.com/benlesh/symbol-observable");try{i.observable=t}catch(e){}}else t="@@observable"}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i.g?i.g:e)},43842:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});class n{constructor(e=[],t=s){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:i}=this,n=t[e];for(;e>0;){const s=e-1>>1,r=t[s];if(i(n,r)>=0)break;t[e]=r,e=s}t[e]=n}_down(e){const{data:t,compare:i}=this,n=this.length>>1,s=t[e];for(;e<n;){let n=1+(e<<1),r=t[n];const a=n+1;if(a<this.length&&i(t[a],r)<0&&(n=a,r=t[a]),i(r,s)>=0)break;t[e]=r,e=n}t[e]=s}}function s(e,t){return e<t?-1:e>t?1:0}},10690:(e,t,i)=>{"use strict";i.d(t,{ej:()=>l,kG:()=>c,U6:()=>p});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};!function(e){function t(){var t=this||self;t.globalThis=t,delete e.prototype._T_}"object"!=typeof globalThis&&(this?t():(e.defineProperty(e.prototype,"_T_",{configurable:!0,get:t}),_T_))}(Object);const s=globalThis;var r="Invariant Violation",a=Object.setPrototypeOf,o=void 0===a?function(e,t){return e.__proto__=t,e}:a,l=function(e){function t(i){void 0===i&&(i=r);var n=e.call(this,"number"==typeof i?r+": "+i+" (see https://github.com/apollographql/invariant-packages)":i)||this;return n.framesToPop=1,n.name=r,o(n,t.prototype),n}return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t}(Error);function c(e,t){if(!e)throw new l(t)}var d=["log","warn","error","silent"],u=d.indexOf("log");function h(e){return function(){if(d.indexOf(e)>=u)return console[e].apply(console,arguments)}}function p(e){var t=d[u];return u=Math.max(0,d.indexOf(e)),t}!function(e){e.log=h("log"),e.warn=h("warn"),e.error=h("error")}(c||(c={}));var m=s.process||{env:{}};if(!s.process)try{Object.defineProperty(s,"process",{value:m})}catch(e){}},830:(e,t,i)=>{"use strict";i.r(t),i.d(t,{LazyLoader:()=>Ye,loadInterface:()=>qe});var n=i(69484),s=i(34608),r=i(4763),a=i(45796),o=i(55669),l=i(71472),c=i(9832),d=i(26059),u=i(11250),h=i(84030),p=i(63511),m=i(9263),f=i(88288),g=i(90288),v=i(11134),y=i(76536),E=i(82076),b=i(33809),S=i(29765),O=i(10306),T=i(86172),_=i(79146),N=i(78989),w=i(24511),A=i(49940),I=i(38063),k=i(44009),P=i(25525),L=i(46629),D=i(94989),R=i(83730),M=i(86425),C=i(56063);class x extends C.m{constructor(e){super(),this.payload={key:e}}}x.id="SETTING_GET";class F extends C.m{constructor(e,t){super(),this.payload={key:e,value:t}}}F.id="SETTING_UPDATE";var U=i(75961),H=i(84376),j=i(68540),V=i(16013),B=i(92257),G=i(27163),W=i(98375),z=i(50831),K=i(3835),Y=i(43017),q=i(97187),$=i(57363),Z=i(87549),Q=i(24938),X=i(57793),J=i(23998),ee=i(17295),te=i(60937),ie=i(29638),ne=i(35575),se=i(34014),re=i(16072),ae=i(51476),oe=i(22925),le=i(10163),ce=i(60580),de=i(44288),ue=i(52893),he=i(33716),pe=i(62770),me=i(54048),fe=i(64150),ge=i(31740),ve=i(79884),ye=i(72392),Ee=i(90512),be=i(58626),Se=i(63513),Oe=i(29433),Te=i(7145),_e=i(43679),Ne=i(97587),we=i(7011),Ae=i(7755),Ie=i(12437),ke=i(25629),Pe=i(73515),Le=i(12925),De=i(62603),Re=i(54798),Me=i(81396),Ce=i(67108),xe=i(73754),Fe=i(93827),Ue=i(80383),He=i(43822),je=i(62900),Ve=i(3952),Be=i(56932),Ge=i(82686);const We=function(e,t){return i=>async function(i){var n,s;const r={modelId:i,includeDisabled:!0,includeLayers:!0},a=await e.query(Ge.GetMattertags,r,{}),o=null===(s=null===(n=null==a?void 0:a.data)||void 0===n?void 0:n.model)||void 0===s?void 0:s.mattertags;if(!o||!Array.isArray(o))return[];const l=[];for(const e of o){const i=t.deserialize(e);if(i){const e=new Me.Vector3,t=new Me.Vector3;e.set(i.anchorPosition.x,i.anchorPosition.y,i.anchorPosition.z),t.set(i.stemVector.x,i.stemVector.y,i.stemVector.z),t.normalize(),l.push(i)}}return l}(i)};var ze=i(26203),Ke=i(1604);class Ye{constructor(){this.module=null,this.loaderReady=new Fe.Q,this.loader=null}setLoader(e){this.loader||(this.loader=e,this.loaderReady.resolve())}async getModule(){if(this.module)return this.module;if(await this.loaderReady,this.loader&&(this.module=await this.loader()),this.module)return this.module;throw new Error("There was an error setting up the factory")}}async function qe(e,t,i,n,l,c,d){const u=new o.M;let C;try{if(Array.isArray(i.interfaces)){const e=i.interfaces.map((e=>u.load(e)));C=await Promise.all(e)}else{if(!i.interface)throw Error("No sdk interface found in config");C=[await u.load(i.interface)]}}catch(e){throw Error("Unable to fetch the sdk interface. The sdk will be disabled. "+e)}const re={THREE:Me,oEmbed:l},ae=(0,Ve.z)({baseUrl:d})(),Oe={MpSdkAuthentication:h.w,RenderLayers:p.o,OptionsKey:m.gx,Application:Q.Mx,AppPhase:Q.nh,AppPhaseChangeMessage:f.LZ,CameraTransitionType:g.nF,SetMoveCameraOnViewChange:v.D,GetFloorIntersectCommand:y.Z,StartMoveToFloorMessage:E.S,EndMoveToFloorMessage:b.P,MoveToFloorIndexCommand:S.h9,ShowAllFloorsCommand:S.EU,AddInMemoryLayerCommand:ne.Ld,SelectLayerCommand:ne.cq,SetActiveModelViewCommand:ne.wG,ToggleLayerCommand:ne.MV,MattertagMediaType:Ue.L0,RemoveMattertagCommand:O.Gn,CloseAnnotationCommand:Pe.Aj,TagDescriptionChunkType:T.z,TagLinkType:_.U,AddMattertagCommand:O.Fz,EditMattertagCommand:O.Ek,MattertagLinkOpenedMessage:N.Ik,ModelDataLoadedMessage:w.Z,ModelColliderTarget:A.S,NavigateToSweepCommand:I.ju,ModelViewChangeCompleteMessage:se.YB,MeasuringPhase:ce.au,SettingGetCommand:x,SettingUpdateCommand:F,PuckCollider:U.Y,PinClickedMessage:k.F7,PinHoverChangeMessage:k.tP,PinHeadMesh:P.$,InstancedPinHeads:M.z,PinType:L.Er,OpenTagCommand:De.lt,CloseTagCommand:De.xb,DockAnnotationCommand:Pe.bd,ChangePinOpacityScaleCommand:D.nP,MovePinCommand:D.I$,UpdatePinCommand:D.tE,RemovePinCommand:D.OL,FocusOnPinInsideCommand:I.OR,SelectAnnotationCommand:Pe.oM,SweepAlignmentType:H.z9,SweepPlacementType:H.hU,BeginMoveToSweepMessage:j.Z,EndMoveToSweepMessage:V.Z,SweepNeighborModifyCommand:je.pf,ToggleToolCommand:B.tT,Tools:G.w1,TourStartedMessage:W.oR,TourStoppedMessage:W.NR,TourEndedMessage:W.Mt,TourSteppedMessage:W.Vx,Color:z.I,Vectors:K.fU,Viewmode:Y.Ey,CommandViewmode:q.BD,ChangeViewmodeCommand:q._i,BeginSwitchViewmodeMessage:$.Z,EndSwitchViewmodeMessage:Z.Z,GetScreenPositionCommand:be.b,ZoomInCommand:Se.bj,ZoomResetCommand:Se.ob,ZoomSetCommand:Se.ts,SourceType:Te.SourceType,sensorVolumes:{sphere:_e.b,box:Ne.k,cylinder:we.X},TourState:Ae.Vs,MediaType:Ie.DD,AddUserLayerCommand:ne.Qz,SaveNewMattertagCommand:O.Mm,UploadAttachmentsCommand:ke.It,EmbedMediaCommand:ke.wu},Fe=$e(t,ae),Be=function(e,t,i){const n=(async()=>(await e.getModuleBySymbol(r.Vs)).getApi())(),o=e.getModuleBySymbol(r.Mi);return{api:n,applicationData:e.market.waitForData(Q.pu),cameraData:e.market.waitForData(X.M),canvasData:e.market.waitForData(J.W),cursorController:e.getModuleBySymbol(r.Lk),deepLinks:e.getModuleBySymbol(a.DeepLinksModuleKey),locale:e.getModuleBySymbol(r.e9),externalR3FModule:e.getModuleBySymbol(r.A7),floorData:e.market.waitForData(ee.i),floorViewData:e.market.waitForData(te.c),labelData:e.market.waitForData(ie.D),layersData:e.market.waitForData(oe.R),mattertagData:e.market.waitForData(le.n),measurementModeData:e.market.waitForData(de.X),modelData:e.market.waitForData(ue.T),pinViewData:e.market.waitForData(R.B),annotationsViewData:e.market.waitForData(Le.A),tagsViewData:e.market.waitForData(Re.n),plugin:e.getModuleBySymbol(r.cf),raycasterData:e.market.waitForData(he.P),roomData:e.market.waitForData(pe.Z),roomBoundData:e.market.waitForData(me.Z),settingsData:e.market.waitForData(fe.e),sweepData:e.market.waitForData(ge.Z),sweepViewData:e.market.waitForData(ve.D),tourData:e.market.waitForData(ye.k),viewmodeData:e.market.waitForData(Ee.O),appPhaseModule:e.getModuleBySymbol(s.h7),attachmentsModule:o,commonControlsModule:e.getModuleBySymbol(r.Ng),floorCasterModule:e.getModuleBySymbol(r.MH),pinsModule:e.getModuleBySymbol(r.S),meshQuery:e.getModuleBySymbol(r.hi),modelMeshModule:e.getModuleBySymbol(r.Ve),meshData:e.market.waitForData(Ce._),navigationModule:e.getModuleBySymbol(r.wR),renderToTextureModule:e.getModuleBySymbol(r.tA),sceneModule:t.scene.getModule(),sensorModule:e.getModuleBySymbol(r.Hw),settingsModule:e.getModuleBySymbol(s.Ak),tourControlsModule:e.getModuleBySymbol(r.s6),webglRendererModule:e.getModuleBySymbol(r.Aj),zoomControlModule:e.getModuleBySymbol(r.Q_),sweepTextureLoader:e.getModuleBySymbol(r.hD),pluginData:e.market.waitForData(xe.e),pluginConfigData:e.market.waitForData(He.iU),modelApiClient:Promise.resolve(i)}}(t,n,ae);for(const n of C){const s=new Ke.W(t.diContainer);await n.setup(e,re,Oe,Fe,Be,t.getModuleBySymbol(r.Vs),{sandboxPath:i.sandbox,logLevel:c},s)}}function $e(e,t){return{loadImage:l.p,waitForUpdate:()=>e.after(n.A.End),waitForBegin:()=>e.after(n.A.Begin),subscribe:(t,i)=>e.subscribe(t,i),addBinding:e.commandBinder.addBinding.bind(e.commandBinder),issueCommand:e.commandBinder.issueCommand.bind(e.commandBinder),requestTarget:()=>e.commandBinder.issueCommand(new c.oM),getRenderLayer:t=>e.getRenderLayer(t),jpegAsBase64:Oe.jJ,encodeRenderTarget:Oe.vP,getXmp:Oe.fY,getOrientedAngleTo:d.k2,screenPositionToNDC:u.z5,ndcToWorldPosition:u.st,worldToScreenPosition:u.q9,getTagsQuery:We(t,(0,Be.a)()),isMpFontId:e=>e in ze.f,getModelViewsQuery:(0,re.q)(t,(0,ae.Q)())}}},38247:(e,t,i)=>{"use strict";i.d(t,{$1:()=>r,Bh:()=>o,Bl:()=>l,ME:()=>n,My:()=>d,Nk:()=>u,WS:()=>a,Wz:()=>h,__:()=>s,pZ:()=>c});const n=Symbol("error-ui"),s=Symbol("view-ui"),r=Symbol("init-ui"),a=Symbol("model-mesh-quality"),o=Symbol("quick-menus"),l=Symbol("hotkeys-sc"),c=Symbol("password"),d=Symbol("showcase-settings"),u=Symbol("showcase-start"),h=Symbol("webgl-context-loss")},24122:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(90404),s=i(933),r=i(4763),a=i(67294),o=i(20745);const l="UdAIz89AxFx_htVI1gVZY";class c extends s.Y{constructor(){super(...arguments),this.name="error-gui",this.errorCode=null}async init({container:e,apiHost:t},i){this.apiHost=t,this.container=e,this.localeModule=await i.getModuleBySymbol(r.e9),this.reactContainer=document.createElement("div"),this.reactContainer.id="error-container",this.reactContainer.dataset.testid="error-gui",this.reactContainer.classList.add(l),this.reactRoot=(0,o.createRoot)(this.reactContainer)}get currentErrorCode(){return this.errorCode}showError(e){this.errorCode=e;const t=this.localeModule.t.bind(this.localeModule);this.container.appendChild(this.reactContainer),this.reactRoot.render((0,a.createElement)(n.vB,{errorCode:e,t:t,apiHost:this.apiHost}))}hideError(){this.errorCode=null,this.container.removeChild(this.reactContainer),this.reactRoot.unmount()}}},14238:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Fl});var n,s,r=i(67294),a=i(20745),o=i(933),l=i(80383),c=i(85893),d=i(88288),u=i(24938),h=i(92257),p=i(94184),m=i.n(p),f=i(29707),g=i(7321),v=i(28721),y=i(81746),E=i(90512),b=i(60937),S=i(97187),O=i(55587),T=i(53257);!function(e){e.Inside="panorama",e.InsideMesh="mesh",e.Dollhouse="dollhouse",e.Floorplan="floorplan",e.None="none"}(n||(n={})),function(e){e.Inside="click_inside_mode_button",e.InsideMesh="click_mesh_mode_button",e.Dollhouse="click_dollhouse_mode_button",e.Floorplan="click_floorplan_mode_button"}(s||(s={}));var _=i(78897),N=i(77267),w=i(80308);const A=(0,r.createContext)({outOfScope:!1});var I=i(30300),k=i(27538),P=i(27163),L=i(51775),D=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};function R(e){var{active:t,nudgeDisabled:i,className:n,theme:s="overlay",variant:a=w.Wu.TERTIARY,size:o}=e,l=D(e,["active","nudgeDisabled","className","theme","variant","size"]);const{outOfScope:d}=(0,r.useContext)(A),u=(0,I.B)(),h=(0,k.T)()===P.wS.BOTTOM_PANEL&&!!u;return(0,c.jsx)("div",Object.assign({className:n},{children:(0,c.jsx)(L.L,Object.assign({},l,{nudgeDisabled:d||h,variant:a,theme:s,active:t,featured:!0}))}))}var M=i(61173);function C(e,t){const i=(0,r.useMemo)((()=>!(0,M.Jm)()),[]),n=(0,_.b)(),s=n.t(e);return i&&void 0!==t?`${s} ${n.t(t)}`:s}function x(e){const{disabled:t,active:i,buttonId:n,onClick:s,analyticsName:a,tooltipPhraseKey:o,nudge:l,hotkeyPhraseKey:d}=e,u=(0,_.b)(),h=(0,N.Y)(),{editMode:p,analytics:m}=(0,r.useContext)(f.I),g=C(o,d),v=h&&p,y={placement:v?"bottom":"top",offset:v?[0,10]:void 0},E=v&&i?void 0:w.Wu.TERTIARY,b=v&&i?"light":"overlay",S=n,O=v?w.qE.LARGE:void 0,T=(0,r.useCallback)((()=>{s(n,a)}),[s,n,a]);if(l){const{featureKey:e,titleKey:s,messageKey:r,localStorageKey:a,dismissAnalytic:o,showTimeout:d=5e3,dismissTimeout:h=1e4}=l;return(0,c.jsx)(R,{className:`mode-button mode-${n}`,icon:S,variant:E,theme:b,size:O,active:i,disabled:t,onClick:T,tooltip:g,nudgeFeatureKey:e,nudgeTitle:u.t(s),nudgeMessage:u.t(r),nudgeLocalStorage:a,onNudgeDismissed:o?()=>{m.trackGuiEvent(o)}:void 0,showTimeout:d,dismissTimeout:h})}return(0,c.jsx)("div",Object.assign({className:`mode-button mode-${n}`},{children:(0,c.jsx)(w.zx,{onClick:T,icon:S,variant:E,theme:b,size:O,active:i,disabled:t,tooltip:g,tooltipOptions:y,ariaLabel:g})}))}var F=i(66379),U=i(88726),H=i(38908),j=i(57793);const V=(0,H.u)(j.M);function B(){const e=V(),[t,i]=(0,r.useState)(e?e.pose.pitchFactor():1);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onChanged((()=>{i(e.pose.pitchFactor())}));return i(e.pose.pitchFactor()),()=>{t.cancel()}}),[e]),t}var G=i(79970);function W(){const e=(0,G.s)(),[t,i]=(0,r.useState)(null);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.currentModeObservable.onChanged(i);return i(e.currentMode),()=>t.cancel()}),[e]),t}var z=i(43017),K=i(16567);const Y=(0,H.u)(K.x),q=(0,H.u)(E.O);function $(e){const{disabled:t,buttonId:i,onClick:a}=e,o=(0,N.Y)(),{editMode:l}=(0,r.useContext)(f.I),d=B(),u=q(),h=W(),p=function(){const e=Y(),[t,i]=(0,r.useState)(null);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onChanged((()=>{i(e.targetState)}));return i(e.targetState),()=>{t.cancel()}}),[e]),t}(),m=o&&l,v={placement:m?"bottom":"top",offset:m?[0,10]:void 0},y=h===z.Ey.Dollhouse||h===z.Ey.Floorplan,E=m&&y,b=m&&E?void 0:w.Wu.TERTIARY;let S=z.Ey.Dollhouse;S=null!=p?"top"===p?z.Ey.Dollhouse:z.Ey.Floorplan:y&&d>.5?z.Ey.Floorplan:z.Ey.Dollhouse,(null==u?void 0:u.isFloorplanDisabled())&&(S=z.Ey.Dollhouse),(null==u?void 0:u.isDollhouseDisabled())&&(S=z.Ey.Floorplan);const O=S===z.Ey.Floorplan?n.Floorplan:n.Dollhouse,T=S===z.Ey.Floorplan?s.Floorplan:s.Dollhouse;let _=g.Z.VIEW_DOLLHOUSE,A=g.Z.HOTKEY_VIEW_DOLLHOUSE;S===z.Ey.Floorplan&&(_=g.Z.VIEW_FLOORPLAN,A=g.Z.HOTKEY_VIEW_FLOORPLAN);const I=C(_,A),k=m?w.qE.LARGE:void 0,P=(0,r.useCallback)((()=>{a(O,T)}),[a,O,T]);return(null==u?void 0:u.isDollhouseDisabled())&&(null==u?void 0:u.isFloorplanDisabled())?null:(0,c.jsx)("div",Object.assign({className:`mode-button mode-${i}`},{children:(0,c.jsx)(w.zx,{onClick:P,icon:O,variant:b,theme:"overlay",size:k,active:E,disabled:t,tooltip:I,tooltipOptions:v,ariaLabel:I})}))}var Z=i(49095),Q=i(35575),X=i(11134),J=i(15187),ee=i(77963);function te(e,t=null){const{settings:i}=(0,r.useContext)(f.I);return i.getOverrideParam(e,t)}var ie=i(73191),ne=i(67951),se=i(86813);function re({includeDefurnish:e=!1,includeDisabled:t=!1}={}){const i=(0,ne._)(),{editMode:n}=(0,r.useContext)(f.I),s=(0,ee.y)(ie.QA,!1),a=!!te(se.zE,!1),[o,l]=(0,r.useState)((null==i?void 0:i.getOrderedModelViews({includeDefurnish:e||a,includeInsights:s,includeDisabled:t}))||[]);return(0,r.useEffect)((()=>{if(!i)return()=>{};function r(){l((null==i?void 0:i.getOrderedModelViews({includeDefurnish:e||a,includeInsights:s,includeDisabled:t||n}))||[])}const o=i.onModelViewsChanged(r),c=i.onPropertyChanged("currentViewId",r);return r(),()=>{null==o||o.cancel(),null==c||c.cancel()}}),[n,e,t,a,s,i]),o}function ae(){const e=re({includeDefurnish:!0}).filter((e=>(0,Z.eU)(e)))||[];return e.sort(((e,t)=>t.created.getTime()-e.created.getTime())),e[0]}var oe=i(44979);const le=(0,H.u)(oe.n);var ce=i(9263);function de(e){const t=!!ae(),{editMode:i}=(0,r.useContext)(f.I),n=(0,ee.y)(ce.gx.DefurnishView,!1),s=(0,ee.y)(se._Z,!1),a=!!function(e){const t=le(),[i,n]=(0,r.useState)((null==t?void 0:t.getPolicy(e))||null);return(0,r.useEffect)((()=>{if(!t)return()=>{};function i(){n((null==t?void 0:t.getPolicy(e))||null)}const s=t.onChanged(i);return i(),()=>null==s?void 0:s.cancel()}),[t,e]),i}(se.ti);return s&&(a||"viewer"===e)&&(n&&t||i)}function ue(){const e=(0,ne._)(),[t,i]=(0,r.useState)(null==e?void 0:e.getBaseModelId());return(0,r.useEffect)((()=>{if(!e)return()=>{};function t(){i(null==e?void 0:e.getBaseModelId())}const n=e.onModelViewsChanged(t);return t(),()=>null==n?void 0:n.cancel()}),[e]),t}const{DEFURNISH:he}=g.Z.WORKSHOP;function pe(e){var t;const{disabled:i}=e,{commandBinder:n,editMode:s,analytics:a}=(0,r.useContext)(f.I),o=(0,_.b)(),l=de("viewer"),d=(0,N.Y)(),u=ae(),h=ue(),p=(0,J.K)(),m=!!p&&(0,Z.eU)(p),g=(0,r.useRef)(h),v=m?null!==(t=g.current)&&void 0!==t?t:h:null==u?void 0:u.id,y=(0,r.useCallback)((async()=>{u&&v&&(g.current=null==p?void 0:p.id,a.trackGuiEvent("click_defurnish_mode_button"),await n.issueCommand(new X.D(!1)),await n.issueCommand(new Q.wG(v)),await n.issueCommand(new X.D(!0)))}),[a,n,u,v,g,p]);if(!l)return null;const E=d&&s,b=void 0===u||i,S=m,O=S?"furniture":"furniture-slash",T=E&&S?void 0:w.Wu.TERTIARY,A=E&&S?"light":"overlay",I=E?w.qE.LARGE:void 0,k={placement:E?"bottom":"top",offset:E?[0,10]:void 0},P=S?o.t(he.DEFURN_MODE_BUTTON_ACTIVE):o.t(he.DEFURN_MODE_BUTTON),L=o.t(he.DEFURN_NUDGE_TITLE),D=o.t(he.DEFURN_NUDGE_TEXT);return(0,c.jsx)("div",Object.assign({className:"mode-button mode-defurnish"},{children:(0,c.jsx)(R,{onClick:y,className:"mode-defurnish-glow",icon:O,variant:T,theme:A,size:I,active:S,disabled:b,tooltip:P,ariaLabel:P,nudgeDisabled:b,nudgeTitle:L,nudgeMessage:D,nudgeLocalStorage:F.F.DefurnishNudgeSeen,nudgeSessionKey:D,tooltipOptions:k,showTimeout:2e4,dismissTimeout:1e4})}))}var me=i(59452);function fe(e,t){return!!e.tryGetProperty(me.eC,!1)||!t&&!e.tryGetProperty(O.wY,!1)}function ge(e,t,i){return e.tryGetProperty(me.eC,!1)?i!==z.Ey.Panorama:!t&&!e.tryGetProperty(O.dF,!1)}function ve(e,t){return!t&&!e}function ye(e,t,i){const s=e===t;switch(e){case n.Dollhouse:case n.Floorplan:return i||!s;case n.Inside:return i?t!==n.InsideMesh:!s;case n.InsideMesh:return i?s:t===n.Inside}return!1}const Ee=new T.Z("mode-buttons"),be={featureKey:U.I,titleKey:g.Z.DOLLHOUSE_NUDGE_TITLE,messageKey:g.Z.DOLLHOUSE_NUDGE_MESSAGE,localStorageKey:F.F.DollhouseUserNudgeSeen,dismissAnalytic:"dollhouse_nudge"},Se={featureKey:U.x,titleKey:g.Z.GENERIC.NEW_MESSAGE,messageKey:g.Z.FLOOR_PLAN_NUDGE_MESSAGE,localStorageKey:F.F.FloorplanRoomsUserNudgeSeen,dismissAnalytic:"floorplan_rooms_nudge",showTimeout:3e4};class Oe extends r.Component{constructor(e){super(e),this.onClick=async(e,t)=>{const{transitioning:i}=this.props;if(i)return;const s=function(e){switch(e){case n.Dollhouse:return S.BD.DOLLHOUSE;case n.Floorplan:return S.BD.FLOORPLAN;case n.Inside:return S.BD.INSIDE;case n.InsideMesh:return S.BD.MESH;default:throw new Error(`cannot get viewmode for mode buttonId ${e}`)}}(e),{analytics:r,commandBinder:a}=this.context;r.trackGuiEvent(t);try{await a.issueCommand(new S._i(s))}catch(e){Ee.warn(e)}}}render(){const{activeButtonId:e,activeStateDisplay:t,className:i,dollhousePrevented:r,floorplanPrevented:a,insidePrevented:o,meshPrevented:l,transitioning:d,viewmodeChangeEnabled:u,peekabooEnabled:h}=this.props,p=!u||d,f=!l&&ye(n.InsideMesh,e,!!t),v=!o&&ye(n.Inside,e,!!t),y=!r&&ye(n.Dollhouse,e,!!t),E=!a&&ye(n.Floorplan,e,!!t),b=h;return(0,c.jsxs)("div",Object.assign({className:m()("mode-buttons",i)},{children:[f&&(0,c.jsx)(x,{tooltipPhraseKey:g.Z.VIEW_INSIDE_MESH,analyticsName:s.InsideMesh,buttonId:n.InsideMesh,active:e===n.InsideMesh,onClick:this.onClick,disabled:p}),v&&(0,c.jsx)(x,{tooltipPhraseKey:g.Z.VIEW_INSIDE,hotkeyPhraseKey:g.Z.HOTKEY_VIEW_INSIDE,analyticsName:s.Inside,buttonId:n.Inside,active:e===n.Inside,onClick:this.onClick,disabled:p}),y&&(0,c.jsx)(x,{tooltipPhraseKey:g.Z.VIEW_DOLLHOUSE,hotkeyPhraseKey:g.Z.HOTKEY_VIEW_DOLLHOUSE,analyticsName:s.Dollhouse,buttonId:n.Dollhouse,active:e===n.Dollhouse,onClick:this.onClick,disabled:p,nudge:be}),b&&(0,c.jsx)($,{buttonId:n.Dollhouse,onClick:this.onClick,disabled:p}),E&&(0,c.jsx)(x,{tooltipPhraseKey:g.Z.VIEW_FLOORPLAN,hotkeyPhraseKey:g.Z.HOTKEY_VIEW_FLOORPLAN,analyticsName:s.Floorplan,buttonId:n.Floorplan,active:e===n.Floorplan,onClick:this.onClick,disabled:p,nudge:Se}),(0,c.jsx)(pe,{disabled:p})]}))}}Oe.contextType=f.I;class Te extends r.Component{constructor(e){super(e),this.bindings=[],this.isUnmounting=!1,this.updateDollhouseState=()=>{const{editMode:e,settings:t}=this.context;this.setState({dollhousePrevented:fe(t,e)})},this.updateFloorplanState=()=>{const{editMode:e,settings:t}=this.context,i=this.viewmodeData.currentMode;this.setState({floorplanPrevented:ge(t,e,i)})},this.onCurrentFloorChanged=()=>{const{editMode:e}=this.context,t=this.floorsViewData.currentFloor,i=this.floorsViewData.hasEnabledAlignedSweeps(t&&t.id);this.setState({insidePrevented:ve(i,e)})},this.onViewmodeChangeLockUpdate=()=>{const{market:e}=this.context,t=e.tryGetData(E.O);if(!t)return;const i=t.viewmodeChangeEnabled;this.setState({viewmodeChangeEnabled:i})},this.state={dollhousePrevented:!1,floorplanPrevented:!1,insidePrevented:!1,viewmodeChangeEnabled:!0}}componentDidMount(){const{market:e,settings:t}=this.context;Promise.all([e.waitForData(E.O),e.waitForData(b.c)]).then((([e,i])=>{this.isUnmounting||(this.viewmodeData=e,this.floorsViewData=i,this.bindings.push(e.onPropertyChanged("viewmodeChangeEnabled",this.onViewmodeChangeLockUpdate),e.makeModeChangeSubscription(this.updateFloorplanState),i.makeFloorChangeSubscription(this.onCurrentFloorChanged),t.onPropertyChanged(O.wY,this.updateDollhouseState),t.onPropertyChanged(O.dF,this.updateFloorplanState)),this.onCurrentFloorChanged(),this.updateDollhouseState(),this.updateFloorplanState(),this.onViewmodeChangeLockUpdate())}))}componentWillUnmount(){this.isUnmounting=!0;for(const e of this.bindings)e.cancel();this.bindings=[]}render(){const{editMode:e,settings:t}=this.context,{className:i,unaligned:s,viewmode:r,activeStateDisplay:a}=this.props,{viewmodeChangeEnabled:o,dollhousePrevented:l,floorplanPrevented:d,insidePrevented:u}=this.state,h=r===S.BD.TRANSITIONING,p=t.tryGetProperty(me.eC,!1);h||(this.activeButtonId=function(e,t){if(e)return n.None;switch(t){case S.BD.DOLLHOUSE:return n.Dollhouse;case S.BD.FLOORPLAN:return n.Floorplan;case S.BD.INSIDE:return n.Inside;case S.BD.MESH:return n.InsideMesh}return n.None}(s,r));const f=function(e){return!e}(e);return(0,c.jsx)(Oe,{className:m()("viewmode-controls",i),activeStateDisplay:a,activeButtonId:this.activeButtonId,transitioning:h,dollhousePrevented:l,floorplanPrevented:d,insidePrevented:u,meshPrevented:f,viewmodeChangeEnabled:o,peekabooEnabled:p})}}Te.contextType=f.I;var _e=i(49627),Ne=i(20360),we=i(61647),Ae=i(7755),Ie=i(80366),ke=i(30629),Pe=i(16996),Le=i(72392);const De=(0,Pe.M)(Le.k,"tourCurrentSnapshot",-1);var Re=i(49474),Me=i(85726);const Ce=(0,H.u)(Le.k),xe=(0,Me.Y)(Le.b);function Fe(){const e=Ce();return(0,Re.y)(e?e.transitionObservable:xe)}function Ue(){const e=Fe(),t=(0,r.useRef)(e);return e.type===ke.Aq.FloorChange?t.current:(t.current=e,e)}var He=i(53584);const je=(0,He.C)([]);function Ve(){const e=Ce();return function(e){const[t,i]=(0,r.useState)(e.values());return(0,r.useEffect)((()=>{const t=()=>{i(e.values())},n=e.onChanged(t);return t(),()=>n.cancel()}),[e]),t}(e?e.enabledTourStops:je)}function Be(){return Ve().length}var Ge;!function(e){e.FastForwarding="fast-forwarding",e.Idle="idle",e.Completed="completed",e.Paused="paused",e.Playing="playing",e.Rewinding="rewinding",e.Skipping="skipping"}(Ge||(Ge={}));const We=[Ge.FastForwarding,Ge.Playing,Ge.Rewinding];function ze(){var e;const t=(0,r.useRef)(null),i=Be(),n=De(),s=Ue(),a=s.toIndex,o=-1!==a&&a!==n;let l=Ge.Idle;o?l=0===a&&n===i-1?Ge.FastForwarding:Math.abs(a-n)>1?Ge.Skipping:a<n?Ge.Rewinding:Ge.FastForwarding:ke.c5.includes(s.type)?l=s.active?Ge.Playing:Ge.Paused:s.type===ke.Aq.Move&&s.active&&(l=Ge.Rewinding);let c=!1;if((null===(e=t.current)||void 0===e?void 0:e.index)!==n&&(t.current=null),(l===Ge.Rewinding||l===Ge.FastForwarding)&&t.current){const{animation:e,transition:i}=t.current;if(i!==s){const{started:t,stopped:n,duration:s}=i;(n-t)/s>=.99&&(c=!0,e===Ge.Rewinding&&(l=Ge.Idle),e!==Ge.Playing&&e!==Ge.FastForwarding||(l=Ge.Completed))}}return We.includes(l)?t.current={transition:s,animation:l,index:n}:c||(t.current=null),l}var Ke=i(98375),Ye=i(34763),qe=i(98918),$e=i(68540);function Ze(){const[e,t]=(0,r.useState)(!1),i=(0,r.useCallback)((()=>{t(!0)}),[]),n=(0,r.useCallback)((()=>{t(!1)}),[]);return(0,Ie.U)(Ke.Vx,i),(0,Ie.U)($e.Z,n),e}var Qe=i(52821);const{HLR:Xe}=g.Z.WORKSHOP;function Je(e){const t=!(0,ee.y)(F.F.TourTextNudgeDismissed,!1),i=Ze(),n=function(){const[e,t]=(0,r.useState)(!1),i=(0,r.useRef)();(0,Ie.U)(Qe.Q,(()=>{t(!0),n(),i.current=setTimeout((()=>{t(!1),i.current=void 0}),3e3)}));const n=()=>{i.current&&(clearTimeout(i.current),i.current=void 0)};return e}(),{highlights:s,currentStep:a,activeStep:o,tourPlaying:l}=e,{locale:d,commandBinder:u,settings:h,editMode:p}=(0,r.useContext)(f.I),g=(0,r.useCallback)(((e,t=!0)=>{h.setLocalStorageProperty(F.F.TourTextNudgeDismissed,!0),t&&e.stopPropagation()}),[h]),v=(0,r.useCallback)((async e=>{await u.issueCommand(new we.vy),g(e,!1)}),[u,g]),y=s[a],E=(null==y?void 0:y.title)||(null==y?void 0:y.description),b=p&&!E&&t,S=(null==y?void 0:y.title)||(b?d.t(Xe.HIGHLIGHT_TITLE_PLACEHOLDER):""),O=(null==y?void 0:y.description)||(b?d.t(Xe.HIGHLIGHT_DESCRIPTION_PLACEHOLDER):""),T=i&&!(o!==a)&&l||n,_=m()("tour-story",{active:T,prompt:b});return(0,c.jsxs)(Ye.N,Object.assign({open:i&&l||n,className:_,onClick:T?v:void 0,"aria-live":"polite","aria-atomic":"true"},{children:[b&&(0,c.jsx)(qe.zx,{className:"tour-story-dismiss",theme:"dark",variant:qe.Wu.TERTIARY,icon:"close",onClick:g}),(0,c.jsx)("div",Object.assign({className:"tour-story-title"},{children:S})),(0,c.jsx)("div",Object.assign({className:"tour-story-description"},{children:O}))]}))}const{TOURS:et}=g.Z.SHOWCASE,tt=[Ge.FastForwarding,Ge.Rewinding,Ge.Skipping];function it(e){const{activeStep:t,currentStep:i,handlePlayPause:n,highlights:s,tourPlaying:a,toolPanelLayout:o}=e,[l,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),p=ze(),{commandBinder:v,locale:y,analytics:E}=(0,r.useContext)(f.I),b=(0,r.useCallback)((()=>{d(!0)}),[]),S=(0,r.useCallback)((()=>{t===i&&d(!1)}),[t,i]);(0,Ie.U)(Ke.Vx,b),(0,Ie.U)($e.Z,S);const O=0===s.length,T=o===P.wS.NARROW||o===P.wS.BOTTOM_PANEL,_=a?y.t(g.Z.PAUSE):y.t(g.Z.PLAY),N=y.t(g.Z.PREVIOUS),A=y.t(g.Z.NEXT),I=O||!a?"play-unicode":"pause",k=O||tt.includes(p),L=s[t];let D=(null==L?void 0:L.snapshot.name)||"";l||(D=a||u?"":y.t(et.TOUR_BUTTON_LABEL));const R=(0,r.useCallback)((()=>{h(!0),n()}),[n]),M=(0,r.useCallback)((async e=>{O||(e.stopPropagation(),h(!0),E.trackGuiEvent("skip_foward_highlights"),await v.issueCommand(new we.r2))}),[E,O,v]),C=(0,r.useCallback)((async e=>{O||(e.stopPropagation(),h(!0),E.trackGuiEvent("skip_backward_highlights"),await v.issueCommand(new we.Ri))}),[E,O,v]);return(0,c.jsxs)("div",Object.assign({className:"tour-story-controls"},{children:[(0,c.jsx)(Je,{tourPlaying:a,currentStep:i,activeStep:t,highlights:s}),(0,c.jsx)(w.zx,{icon:"dpad-left",className:"story-tour-previous-cta",variant:w.Wu.TERTIARY,size:w.qE.SMALL,disabled:k,ariaLabel:N,tooltip:N,onClick:C}),(0,c.jsx)(w.zx,{className:"tour-story-play-pause",icon:I,variant:w.Wu.TERTIARY,size:w.qE.SMALL,disabled:k,ariaLabel:_,tooltip:_,onClick:O?void 0:R}),(0,c.jsx)(w.zx,{icon:"dpad-right",className:"story-tour-next-cta",variant:w.Wu.TERTIARY,size:w.qE.SMALL,disabled:k,ariaLabel:A,tooltip:A,onClick:M}),D&&a&&!T&&(0,c.jsx)("span",Object.assign({className:m()("tour-control-label",{active:a})},{children:D}))]}))}var nt=i(23146),st=i(18097);const rt=(0,Pe.M)(st.T,"reelOpen",!1);function at(e){const{reelEnabled:t,activeTool:i,disabled:n,tourMode:s}=e,a=(0,_.b)(),{analytics:o,commandBinder:l}=(0,r.useContext)(f.I),d=rt(),u=(0,r.useCallback)((()=>{const e=d?"hide_":"show_";o.trackToolGuiEvent("hlr",e+"highlight_reel"),l.issueCommand(new nt.Av(!d))}),[d,o,l]),h=s===Ae.zz.STORIES;if(!t||h&&i!==P.w1.HLR)return null;const p=d?a.t(g.Z.CLOSE_HIGHLIGHTS):a.t(g.Z.OPEN_HIGHLIGHTS),v=d?"dpad-down":"dpad-up",y=m()("highlight-button",{"hlr-expanded":d});return(0,c.jsx)(w.zx,{disabled:n,className:y,onClick:u,tooltip:p,ariaLabel:p,"aria-expanded":d?"true":"false",icon:v,theme:"overlay",variant:w.Wu.TERTIARY})}var ot=i(16824),lt=i(36269);function ct(){const e=(0,ee.y)(ce.gx.HighlightReel,!0),t=te(lt.rU,lt.iL);return e&&t!==lt.Nu}(0,ot.M)("reelEnabled",ct);function dt(){const e=(0,ee.y)(ce.gx.TourButtons,!0),t=te(lt.o9,lt.qe),i=te(lt.PR,lt.l4);return e&&t!==lt.Wf&&i!==lt.pQ}(0,ot.M)("tourEnabled",dt);function ut(e){const{activeTool:t,handlePlayPause:i,highlights:n,hideReel:s,tourPlaying:a}=e,{editMode:o}=(0,r.useContext)(f.I),l=(0,_.b)(),d=ct()&&!s||o,u=dt()||o;if(!d&&!u)return null;const h=0===n.length,p=o||!h,m=a?l.t(g.Z.PAUSE):l.t(g.Z.PLAY),v=a?"pause-outline":"play";return(0,c.jsxs)("div",Object.assign({className:"highlight-tour-controls"},{children:[d&&(0,c.jsx)(at,{disabled:!p,activeTool:t,reelEnabled:d,tourMode:Ae.zz.LEGACY}),u&&(0,c.jsx)(w.zx,{disabled:h,active:a,onClick:i,variant:w.Wu.TERTIARY,theme:"overlay",className:"tour-controls",ariaLabel:m,icon:v,tooltip:m})]}))}const ht=new T.Z("preview-tour"),{HLR:pt}=g.Z.WORKSHOP;function mt(){const{commandBinder:e}=(0,r.useContext)(f.I),t=(0,_.b)(),i=(0,N.Y)(),n=0===Be(),s=(0,r.useCallback)((async()=>{if(!n)try{await e.issueCommand(new we.TH)}catch(e){ht.debug(e)}}),[e,n]),a=t.t(pt.PREVIEW_SETTINGS_CTA),o=i?void 0:a,l=i?a:void 0;return(0,c.jsx)(w.zx,{icon:"play-unicode",label:o,tooltip:l,disabled:n,size:w.qE.LARGE,theme:"dark",className:"preview-tour-button",variant:w.Wu.FAB,onClick:s})}const ft=new T.Z("tour-controls");function gt(e){const{activeStep:t,activeTool:i,currentStep:n,hideReel:s,toolPanelLayout:a,tourMode:o,tourPlaying:l,highlights:d,hasTours:u}=e,{analytics:h,commandBinder:p,editMode:m}=(0,r.useContext)(f.I),{outOfScope:g}=(0,r.useContext)(A),v=async()=>{if(0===d.length)return;const e=l?"pause_highlights":"play_highlights";h.trackGuiEvent(e);try{l?await p.issueCommand(new we.vy):await p.issueCommand(new we.TH)}catch(e){ft.debug(e)}},y=i===P.w1.HLR,E=i===P.w1.SEARCH,b=i===P.w1.LAYERS,S=o===Ae.zz.NONE,O=!!i&&!(y||E||b),T=()=>{if(m){const e=a===P.wS.BOTTOM_PANEL||a===P.wS.NARROW;if(i===P.w1.MESH_TRIM)return!1;if(e&&O)return!1}else{if(0===d.length&&!u||S||O)return!1}return!0};return(0,_e.OR)("keydown",(e=>{const t=e.target;g||!T()||"CANVAS"!==t.tagName&&"BODY"!==t.tagName||(l||e.keyCode===Ne.R.SPACE)&&(e.stopPropagation(),v())})),y&&!l?(0,c.jsx)(mt,{}):T()?o===Ae.zz.STORIES?(0,c.jsx)(it,{activeStep:t,currentStep:n,highlights:d,toolPanelLayout:a,tourPlaying:l,handlePlayPause:v}):(0,c.jsx)(ut,{activeTool:i,handlePlayPause:v,highlights:d,hideReel:s,tourPlaying:l}):null}var vt=i(29765);const yt=new T.Z("floor-controls-switch-floor");function Et({name:e,id:t,active:i,theme:n="dark"}){const s=(0,r.useContext)(f.I),{analytics:a}=s,o=(0,r.useCallback)((async()=>{a.trackGuiEvent("floor_clicked"),async function(e,t){const{analytics:i,commandBinder:n}=t;try{await n.issueCommand(new we.vy);const t=null===e?"click_toggle_all_floors_button":"click_floor_select_button";i.trackGuiEvent(t);const s=new vt.Vw(e);await n.issueCommand(s)}catch(e){yt.debug(e)}}(t||null,s)}),[a,t]);return(0,c.jsx)(w.zx,{className:"floor-button",label:e,variant:w.Wu.TERTIARY,size:w.qE.SMALL,theme:n,onClick:o,active:i})}const bt=(0,Pe.M)(b.c,"showAllFloorsOption",!0);function St(e){const{currentFloor:t,floors:i}=e,n=(0,_.b)(),{analytics:s}=(0,r.useContext)(f.I),a=W(),o=bt(),l=a!==z.Ey.Panorama&&o,d=(0,r.useCallback)((()=>{s.trackGuiEvent("floor_controls")}),[s]),u=t&&t.index+1,h=n.t(g.Z.HELP_MORE_FLOORS_A),p=m()("floor-controls",{"two-digit":void 0!==u&&u>=10}),v=u?"floor-controls":"floor-controls-all",y=i.map((e=>{const{id:i,name:n}=e,s=(null==t?void 0:t.id)===i;return(0,c.jsx)(Et,{id:i,name:n,active:s},i)}));return l&&y.push((0,c.jsx)(Et,{name:n.t(g.Z.FLOOR_ALL),active:!t},"all")),y.reverse(),(0,c.jsx)(w.xz,Object.assign({buttonClassName:p,buttonDataAttribute:u,onClick:d,variant:w.Wu.TERTIARY,ariaLabel:h,tooltip:h,icon:v,theme:"overlay",menuClassName:"floor-controls-menu",menuTheme:"dark",menuPlacement:"top"},{children:y}))}var Ot=i(20348),Tt=i(75921);function _t(e){return e?e.getNavigableFloorIds().map(e.getViewData):[]}function Nt(){const e=(0,Tt.I)(),[t,i]=(0,r.useState)(e?e.currentFloorId:null);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=()=>{const t=e.currentFloorId;i(t)},n=e.makeFloorChangeSubscription(t);return t(),()=>n.cancel()}),[e]),t}(0,ot.M)("currentFloorId",Nt);function wt(e){const t=(0,Tt.I)(),[i,n]=(0,r.useState)(t&&null!==e?t.getViewData(e):null);return(0,r.useEffect)((()=>{if(!t)return()=>{};if(e){const i=t.getViewData(e);n(i)}else n(null);return()=>{}}),[t,e]),i}function At(){return wt(Nt())}function It(e){const t=function(){const e=(0,Tt.I)(),[t,i]=(0,r.useState)(_t(e));return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=()=>i(_t(e)),n=new Ot.V(e.floors.onNameChange(t),e.onNavigableFloorIdsChanged(t));return t(),()=>n.cancel()}),[e]),t}(),i=W(),n=At(),s=bt(),a=(0,_.b)(),o=t.map((e=>{const{id:t,name:i}=e,s=(null==n?void 0:n.id)===t;return(0,c.jsx)(Et,{id:t,name:i,active:s,theme:"light"},t)})).reverse();i!==z.Ey.Panorama&&s&&o.unshift((0,c.jsx)(Et,{name:a.t(g.Z.FLOOR_ALL),active:!n,theme:"light"},"all"));const l=m()("floor-menu-selector",e.className),d=(null==n?void 0:n.name)||a.t(g.Z.FLOOR_ALL);return(0,c.jsx)(w.xz,Object.assign({buttonClassName:l,variant:w.Wu.TERTIARY,label:d,ariaLabel:d,tooltip:d,theme:"overlay",menuClassName:"floor-controls-menu",menuPlacement:"top",caret:!0},{children:o}))}class kt extends r.Component{constructor(e){super(e),this.bindings=[],this.isUnmounting=!1,this.onCurrentFloorChanged=()=>{var e,t;const i=(null===(e=this.floorsViewData)||void 0===e?void 0:e.currentFloor)||void 0,n=i&&(null===(t=this.floorsViewData)||void 0===t?void 0:t.getViewData(i.id));this.setState({currentFloor:n})},this.onFloorsChanged=()=>{var e,t;const i=(null===(e=this.floorsViewData)||void 0===e?void 0:e.getNavigableFloorIds()).map(null===(t=this.floorsViewData)||void 0===t?void 0:t.getViewData);this.setState({floors:i})},this.state={currentFloorIndicator:!0,floors:[]}}componentDidMount(){const{market:e}=this.context;e&&e.waitForData(b.c).then((e=>{this.isUnmounting||(this.floorsViewData=e,this.bindings.push(this.floorsViewData.makeFloorChangeSubscription(this.onCurrentFloorChanged),this.floorsViewData.floors.onNameChange(this.onFloorsChanged),this.floorsViewData.onNavigableFloorIdsChanged(this.onFloorsChanged)),this.onCurrentFloorChanged(),this.onFloorsChanged())}))}componentWillUnmount(){this.isUnmounting=!0,this.bindings.forEach((e=>{e.cancel()}))}render(){const{className:e,viewmode:t,iconStyle:i}=this.props,{currentFloor:n,floors:s}=this.state;return s.length>1&&t!==S.BD.OUTSIDE?(0,c.jsxs)("div",Object.assign({className:m()("floor-selector",e)},{children:[i&&(0,c.jsx)(St,{floors:s,currentFloor:n}),!i&&(0,c.jsx)("span",{className:"divider"}),!i&&(0,c.jsx)(It,{})]})):null}}function Pt(e){const{id:t,onToggle:i,labelledBy:n,className:s,onOffLabel:r=!1,enabled:a=!0,toggled:o,testId:l}=e,d=(0,_.b)(),u=d.t(g.Z.GENERIC.SETTING_ON),h=d.t(g.Z.GENERIC.SETTING_OFF),p=o?u:h;return(0,c.jsxs)("div",Object.assign({className:m()("reusable-toggle",s,{"toggle-on":o,"has-labels":r,enabled:a}),id:t,onClick:e=>{e.stopPropagation(),a&&i&&i(e,!o)},role:"checkbox","aria-checked":o,"aria-labelledby":n,"data-testid":l},{children:[r&&(0,c.jsx)("span",Object.assign({className:"toggle-label"},{children:p})),(0,c.jsx)("div",Object.assign({className:"track"},{children:(0,c.jsx)("div",{className:"thumb"})}))]}))}function Lt({name:e,id:t,active:i,onChange:n}){const s=(0,r.useContext)(f.I),{analytics:a}=s,o=(0,r.useCallback)((()=>{const e=(t||"all").toLowerCase();a.trackGuiEvent(`visibility_toggled_${e}`),n(t,!i)}),[i,t,a,n]),l=(0,r.useCallback)((async e=>{o(),e.stopPropagation(),e.preventDefault()}),[o]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(w.zx,Object.assign({className:"visibility-p-button",label:e,variant:w.Wu.TERTIARY,size:w.qE.SMALL,onClick:l,active:!1},{children:(0,c.jsx)("span",Object.assign({className:"toggle-wrapper visibility-p-toggle",onClick:e=>{o(),e.stopPropagation(),e.preventDefault()}},{children:(0,c.jsx)(Pt,{toggled:i,onToggle:o,enabled:!0,onOffLabel:!1,testId:"VisibilityPToggle"})}))}))})}var Dt;function Rt(e){const[t,i]=(0,r.useState)(e.visibilityData);(0,r.useEffect)((()=>{i(e.visibilityData)}),[e.visibilityData]);const n=(0,_.b)(),{analytics:s}=(0,r.useContext)(f.I),a=Object.entries(t).length>1,o=(0,r.useCallback)((()=>{s.trackGuiEvent("toggle_plugin_visibility_controls")}),[s]),l=n.t(g.Z.HELP_MORE_EXTRAS_A),d=m()(),u=()=>Object.values(t).every((e=>!!e)),h=(n,s)=>{const r=u();i((e=>Object.keys(e).reduce(((e,t)=>(e[t]=!r,e)),{}))),e.onToggle(Object.keys(t),!r)},p=(n,s)=>{i((e=>Object.assign(Object.assign({},e),{[n]:!e[n]}))),e.onToggle([n],!t[n])},v=Object.entries(t||{}).map((([e,t])=>(0,c.jsx)(Lt,{id:e,name:n.T(Dt._COMMON_.TITLE,e),active:t,onChange:p},e)));return a&&v.push((0,c.jsx)(Lt,{id:null,name:n.t(g.Z.PLUGIN_CHANGE_ALL),active:u(),isHeader:!0,onChange:h},"0-all")),v.push((0,c.jsxs)("div",Object.assign({className:"menu-header",onClick:e=>{e.stopPropagation(),e.preventDefault()}},{children:[(0,c.jsx)("span",Object.assign({className:"title"},{children:n.t(g.Z.PLUGIN_VISIBILITY)})),(0,c.jsx)("span",Object.assign({className:"show-hide"},{children:n.t(g.Z.PLUGIN_V_TOGGLE_LABEL)}))]}),"1-header")),v.reverse(),(0,c.jsx)(w.xz,Object.assign({buttonClassName:d,onClick:o,variant:w.Wu.TERTIARY,ariaLabel:l,tooltip:l,icon:"visibility",theme:"overlay",menuClassName:"visibility-p-controls-menu",menuTheme:"dark",menuPlacement:"top"},{children:v}))}kt.contextType=f.I,Dt||(Dt={}),function(e){let t;!function(e){e.TITLE="TITLE"}(t=e._COMMON_||(e._COMMON_={})),e.COMPASS=Object.assign({},t),e.ROOMPLAN_MINIMAP=Object.assign({},t),e.MINIMAP=Object.assign({},t),e.SALESPERSON_INFO=Object.assign({},t),e.QUICK_LINK=Object.assign({},t)}(Dt||(Dt={}));var Mt=i(98276),Ct=i(73754);const xt=({className:e})=>{const[t,i]=(0,r.useState)({}),[n,s]=(0,r.useState)(!1),{market:a,messageBus:o,commandBinder:l}=(0,r.useContext)(f.I);(0,r.useEffect)((()=>{let e;return(async()=>{if(a){const t=await a.waitForData(Ct.e),n=()=>{i(t.visibilityData.deepCopy()),s(t.visibilityData.entries().length>0)};e=t.visibilityData.onChanged(n),n()}})(),()=>{null==e||e.cancel()}}),[a,o]);return n?(0,c.jsx)("div",Object.assign({className:m()("feature-p-selector",e)},{children:(0,c.jsx)(Rt,{visibilityData:t,onToggle:(e,t)=>{l.issueCommand(new Mt._(e,t))}})})):null};var Ft=i(57983),Ut=i(9993),Ht=i(13760);function jt(){const e=(0,_.b)(),{commandBinder:t}=(0,r.useContext)(f.I),i=(0,r.useCallback)((()=>{t.issueCommand(new Ht.B(Ut.P.VR_SELECT,!0))}),[t]),n=e.t(g.Z.VIEW_IN_VR);return(0,c.jsx)(w.zx,{className:"view-in-vr",onClick:i,ariaLabel:n,ariaHasPopup:"dialog",tooltip:n,tooltipOptions:{placement:"top"},icon:"vr",theme:"overlay",variant:w.Wu.TERTIARY})}class Vt extends r.Component{constructor(e){super(e),this.handleButtonClick=()=>{const{analytics:e}=this.context;M.rm()?(e.trackGuiEvent("click_exit_fullscreen",{interactionSource:"gui"}),M.Qg()):(e.trackGuiEvent("click_enter_fullscreen",{interactionSource:"gui"}),M.Zx(document.body))},this.onFullScreenChange=e=>{const{mainDiv:t}=this.context,i=M.rm();i?t.classList.add("full-screen"):t.classList.remove("full-screen"),this.setState({fullscreen:i})},this.state={fullscreen:M.rm()},document.addEventListener("fullscreenchange",this.onFullScreenChange),document.addEventListener("webkitfullscreenchange",this.onFullScreenChange),document.addEventListener("MSFullscreenChange",this.onFullScreenChange),document.addEventListener("mozfullscreenchange",this.onFullScreenChange)}componentWillUnmount(){document.removeEventListener("fullscreenchange",this.onFullScreenChange),document.removeEventListener("webkitfullscreenchange",this.onFullScreenChange),document.removeEventListener("MSFullscreenChange",this.onFullScreenChange),document.removeEventListener("mozfullscreenchange",this.onFullScreenChange)}render(){const{fullscreen:e}=this.state,t=e?this.context.locale.t(g.Z.EXIT_FULLSCREEN):this.context.locale.t(g.Z.VIEW_FULLSCREEN),i=e?"fullscreen-exit":"fullscreen";return(0,c.jsx)("div",Object.assign({className:"fullscreen-mode"},{children:(0,c.jsx)(w.zx,{onClick:this.handleButtonClick,ariaLabel:t,tooltip:t,tooltipOptions:{placement:"top"},icon:i,theme:"overlay",variant:w.Wu.TERTIARY})}))}}Vt.contextType=f.I;var Bt=i(44209),Gt=i(2159);var Wt;!function(e){e[e.flash=0]="flash",e[e.expanded=1]="expanded",e[e.collapsed=2]="collapsed"}(Wt||(Wt={}));var zt=i(38772),Kt=i(11093),Yt=i(69173),qt=i(15290),$t=i(3989),Zt=i(99220);function Qt(e){var t,i;return(null===(t=e.market.tryGetData(Zt.V))||void 0===t?void 0:t.size)||(null===(i=e.mainDiv)||void 0===i?void 0:i.getBoundingClientRect())||{width:window.innerWidth,height:window.innerHeight}}class Xt extends r.Component{constructor(e,t){super(e,t),this.scrollbarRef=(0,r.createRef)(),this.elementRef=(0,r.createRef)(),this.isUnmounting=!1,this.onScrollableChanged=e=>{this.setState({scrollable:e})},this.onScrollPositionChange=e=>{this.setState({scrollPosition:e})},this.getScrollableContainer=()=>{const e=this.scrollbarRef.current;return(null==e?void 0:e.getScrollableContainer())||void 0},this.handleHighlightClickable=()=>{this.props.highlightClickable(!0)},this.state={scrollLeft:0,hideScrollbar:(0,Yt.w)(Qt(t)),scrollPosition:$t.Ij.None,scrollable:!1}}componentDidMount(){this.context.market.waitForData(Zt.V).then((e=>{this.isUnmounting||(this.resizeSubscription=e.onPropertyChanged("size",(e=>{this.setState({hideScrollbar:(0,Yt.w)(e)})})))})),this.onScrollableChanged(!0),this.onScrollPositionChange($t.Ij.Beginning)}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.resizeSubscription)||void 0===e||e.cancel()}componentDidUpdate(e){const{activeElement:t}=this.props;if(null!==t&&e.activeElement!==t){const e=this.scrollbarRef.current;e&&e.scrollToElement(t)}}setSorting(e){const t=this.elementRef.current;if(t)if(e){if(t.classList.add("sorting"),this.props.mobile){const e=this.scrollbarRef.current;e&&e.pauseScrollHandling()}}else t.classList.remove("sorting")}render(){const{thumbScrollingOnly:e,children:t,totalSteps:i}=this.props,{hideScrollbar:n,scrollPosition:s,scrollable:r}=this.state,a=m()({scrollable:r,[s]:!0});return(0,c.jsx)("div",Object.assign({id:"reel",className:a,ref:this.elementRef},{children:(0,c.jsx)(qt.Z,Object.assign({direction:$t.Nm.horizontal,ref:this.scrollbarRef,hideScrollbar:n,thumbScrollingOnly:e,waitToUpdate:0===i,handleClick:this.handleHighlightClickable,onScrollableChanged:this.onScrollableChanged,onScrollPositionChange:this.onScrollPositionChange},{children:t}))}))}}Xt.contextType=f.I;var Jt=i(90288),ei=i(53972);const{HLR:ti}=g.Z.WORKSHOP;class ii extends r.Component{constructor(){super(...arguments),this.editHighlight=e=>{e.stopPropagation(),this.props.onClickHighlight(this.props.index,!0)},this.removeHighlight=e=>{e.stopPropagation(),this.props.onRemoveHighlight&&this.props.onRemoveHighlight(this.props.highlight.snapshot.sid)},this.onClickHighlight=e=>{e.preventDefault(),this.props.onClickHighlight(this.props.index,!1)},this.setContainerRef=e=>{const{index:t,getRef:i}=this.props;this.element=e,i&&i(t,this.element)}}renderTransitionSettings(){const{locale:e}=this.context,{transitionType:t,panDirection:i,transitionCondition:n,index:s}=this.props,r=i!==ke.kw.Auto;let a="pan-auto",o=e.t(ti.PAN_DIRECTION_SETTING_AUTO);i===ke.kw.Left?(a="icon icon-rotate-left",o=e.t(ti.PAN_DIRECTION_SETTING_LEFT)):i===ke.kw.Right&&(a="icon icon-rotate-right",o=e.t(ti.PAN_DIRECTION_SETTING_RIGHT));let l="";return t===Jt.nF.FadeToBlack?l=e.t(ti.TRANSITION_SETTING_SLIDESHOW):t===Jt.nF.Interpolate&&(l=e.t(ti.TRANSITION_SETTING_WALKTHROUGH)),(0,c.jsxs)("div",Object.assign({className:"transition-settings"},{children:[(0,c.jsxs)("span",Object.assign({className:"transition-type"},{children:[s+1," - ",l,n&&(0,c.jsx)("span",{children:"*"})]})),(0,c.jsx)("span",Object.assign({className:"pan-direction-type"},{children:o})),r&&(0,c.jsx)("span",{className:`pan-icon ${a}`})]}))}renderImageBar(){var e;const{locale:t}=this.context,{highlight:i,editable:n}=this.props,s=i.snapshot.is360,r=i.snapshot.metadata.cameraMode,a=null!==(e=this.getMarker(r,s))&&void 0!==e?e:"",o=t.t(ti.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE),l=t.t(ti.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE);return(0,c.jsxs)("div",Object.assign({className:"image-bar"},{children:[(0,c.jsx)("span",{className:m()("highlight-marker",{[a]:!n})}),n&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(w.zx,{className:"highlight-remove",onClick:this.removeHighlight,tooltip:o,ariaLabel:o,icon:"delete",theme:"overlay",variant:w.Wu.FAB}),(0,c.jsx)(w.zx,{className:"highlight-edit",onClick:this.editHighlight,tooltip:l,ariaLabel:l,icon:"toggle-pencil",theme:"overlay",variant:w.Wu.FAB})]})]}))}getMarker(e,t){return e===z.Ey.Dollhouse||e===z.Ey.Floorplan?null:t?"icon-360":"icon-panorama"}render(){const{highlight:e,active:t,editable:i}=this.props,{name:n}=e.snapshot,s=!!n||i;return(0,c.jsxs)("div",Object.assign({className:m()("highlight-box",{active:t,editable:i}),onClick:this.onClickHighlight,ref:this.setContainerRef},{children:[(0,c.jsx)(ei.X,{resource:e.snapshot.thumbnailUrl,className:"highlight-image"}),this.renderImageBar(),i&&this.renderTransitionSettings(),(0,c.jsx)("div",Object.assign({className:m()("image-name",{shadowed:s})},{children:(0,c.jsx)("span",Object.assign({className:"static-text",role:"listitem","aria-label":n||"highlight"},{children:n}))}))]}))}}ii.contextType=f.I;class ni extends r.Component{constructor(e){super(e),this.highlights=[],this.highlightList=e=>{const{currentStep:t,onHighlightClicked:i}=this.props;return(0,c.jsx)("div",Object.assign({className:"hlr-container"},{children:(0,c.jsx)("div",Object.assign({className:"highlights",role:"list"},{children:e.items.map(((e,n)=>(0,c.jsx)(ii,{highlight:e,index:n,active:n===t,editable:!1,onClickHighlight:i,getRef:this.addHighlightRef},`${e.id}_${n}`)))}))}))},this.addHighlightRef=(e,t)=>{this.highlights[e]=t,e===this.props.currentStep&&this.props.setActiveElement&&this.props.setActiveElement(t)}}componentDidUpdate(e){e.currentStep!==this.props.currentStep&&this.props.setActiveElement(this.highlights[this.props.currentStep])}render(){const{highlights:e}=this.props;return e&&e.length?(0,c.jsx)(this.highlightList,{items:e}):null}}var si=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},ri=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const ai=new T.Z("highlight-reel");let oi=class extends r.Component{constructor(e){super(e),this.bindings=[],this.mobile=(0,M.tq)(),this.setActiveElement=e=>{this.setState({activeElement:e})},this.setHighlightClickable=(e=>this.highlightClickable=e).bind(this),this.onHighlightClicked=async e=>{const{commandBinder:t,analytics:i}=this.context;if(this.highlightClickable)try{this.props.tourPlaying&&await t.issueCommand(new we.vy),this.props.transition.active||(i.trackToolGuiEvent("hlr","click_highlight"),await t.issueCommand(new we.rU(e)).catch((e=>{if(!(e instanceof Kt.z))throw e;ai.warn(e.message)})),this.setHighlightClickable(!1))}catch(e){ai.debug(e)}},this.state={activeElement:null}}componentWillUnmount(){this.bindings.forEach((e=>{e.cancel()}))}render(){const{activeStep:e,highlights:t,totalSteps:i}=this.props;return(0,c.jsx)("div",Object.assign({id:"reel-container"},{children:(0,c.jsx)(Xt,Object.assign({totalSteps:i,activeElement:this.state.activeElement,mobile:this.mobile,highlightClickable:this.setHighlightClickable,thumbScrollingOnly:!1},{children:(0,c.jsx)(ni,{highlights:t,currentStep:e,onHighlightClicked:this.onHighlightClicked,setActiveElement:this.setActiveElement})}))}))}};oi.contextType=f.I,oi=si([zt.Z,ri("design:paramtypes",[Object])],oi);const{HLR:li}=g.Z.SHOWCASE;class ci extends r.Component{render(){const{locale:e}=this.context,t=e.t(li.EMPTY_REEL_LEARN_MORE),i=e.t(li.EMPTY_REEL_TITLE),n=e.t(li.EMPTY_REEL_MESSAGE);return(0,c.jsx)("div",Object.assign({className:"empty-reel"},{children:(0,c.jsxs)("div",Object.assign({className:"no-highlights-message"},{children:[(0,c.jsx)("p",{children:i}),(0,c.jsxs)("p",{children:[n,(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",href:"https://support.matterport.com/hc/en-us/articles/360019401733"},{children:t}))]})]}))}))}}function di(){const e=Fe(),t=ze(),i=t===Ge.Paused,n=t===Ge.Idle,s=(0,r.useRef)(null),a=(0,r.useRef)(0);if(n)return a.current=0,a.current;if(!i)return a.current;if(e===s.current)return a.current;if(!ke.c5.includes(e.type))return a.current;const{started:o,stopped:l,duration:c}=e,d=(l-o)/c,u=a.current+d*(1-a.current);return s.current=e,a.current=u,u}function ui({index:e}){const t=Be(),i=di(),n=ze(),s=De(),a=Ue(),o=function(){var e,t;const i=Fe(),n=(0,r.useRef)(null);return ke.c5.includes(i.type)?i.toIndex===(null===(t=n.current)||void 0===t?void 0:t.toIndex)?n.current.duration:(n.current=i,i.duration):(null===(e=n.current)||void 0===e?void 0:e.duration)||0}(),l=a.duration,d=a.toIndex,u=d===e,h=s===e,p=["story-tour-progress-bar"];if(n===Ge.Skipping)e>=d?p.push("story-tour-progress-bar--incomplete"):p.push("story-tour-progress-bar--complete");else if(h)switch(n){case Ge.Completed:p.push("story-tour-progress-bar--complete");break;case Ge.Playing:p.push("story-tour-progress-bar--playing");break;case Ge.Paused:p.push("story-tour-progress-bar--paused");break;case Ge.Rewinding:p.push("story-tour-progress-bar--rewinding");break;case Ge.FastForwarding:p.push("story-tour-progress-bar--fast-forwarding");break;case Ge.Idle:p.push("story-tour-progress-bar--incomplete")}else s===t-1&&0===d?p.push("story-tour-progress-bar--complete"):u&&n===Ge.Rewinding?p.push("story-tour-progress-bar--full-rewinding"):e<s?p.push("story-tour-progress-bar--complete"):e>s&&p.push("story-tour-progress-bar--incomplete");const f={};if(h&&(n===Ge.Playing||n===Ge.Paused?f.animationDuration=`${o}ms`:n===Ge.FastForwarding&&(f.animationDuration=`${l}ms`)),n===Ge.Rewinding){const e=i/(i+1);h&&u?f.animationDuration=`${l}ms`:h?f.animationDuration=e*l+"ms":u&&(f.animationDuration=(1-e)*l+"ms",f.animationDelay=e*l+"ms")}return(0,c.jsx)("div",{className:m()(...p),style:f})}function hi(){const e=di();return(0,r.useEffect)((()=>{document.documentElement.style.setProperty("--currentTourScenePosition",100*e+"%")}),[e]),null}function pi(e){const{snapshot:t,numberOfHighlights:i,currentIndex:n,xOffset:s}=e,{name:r}=t,a=n===i-1,o={};0===n?(o.left="15px",o.transform="none"):a?(o.right="10px",o.transform="none"):o.left=`${s}px`;const l=m()("highlight-box","active"),d=m()("image-name",{shadowed:!!r});return(0,c.jsxs)("div",Object.assign({style:o,className:l},{children:[(0,c.jsx)(ei.X,{resource:t.thumbnailUrl,className:"highlight-image"}),(0,c.jsx)("div",Object.assign({className:d},{children:(0,c.jsx)("span",Object.assign({className:"static-text"},{children:r}))}))]}))}ci.contextType=f.I;class mi extends r.Component{constructor(e){super(e),this.scrollbarRef=(0,r.createRef)(),this.reelRef=(0,r.createRef)(),this.onClickSceneBar=async e=>{e.preventDefault();const t=e.target.getAttribute("data-index");if(t){const e=parseInt(t,10),{tourPlaying:i,transition:n}=this.props,{commandBinder:s,analytics:r}=this.context;try{i&&await s.issueCommand(new we.vy({willResume:!0})),n.active||(r.track("showcase_gui",{gui_action:"click_scene_bar"}),await s.issueCommand(new we.rU(e)),i&&await s.issueCommand(new we.TH({index:e})))}catch(e){}}},this.onEnterSceneBar=e=>{const t=e.target.getAttribute("data-index");if(t){const i=parseInt(t,10);this.setState({focusedIndex:i,xOffset:e.clientX})}},this.onLeaveSceneBar=e=>{const t=e.target.getAttribute("data-index");if(t){parseInt(t,10)===this.state.focusedIndex&&this.setState({focusedIndex:-1})}},this.onScrollableChanged=e=>{this.setState({scrollable:e})},this.onScrollPositionChange=e=>{this.setState({scrollPosition:e})},this.state={focusedIndex:-1,xOffset:0,scrollLeft:0,scrollPosition:$t.Ij.None,scrollable:!1}}componentDidUpdate(){var e;const{activeStep:t,tourPlaying:i}=this.props,n=this.scrollbarRef.current;if(n&&!n.isDragging&&i){const i=null===(e=this.reelRef.current)||void 0===e?void 0:e.querySelector(`#highlightbar_${t}`);i&&n.scrollToElement(i)}}renderSceneBar(e,t){const{focusedIndex:i}=this.state,n=m()("highlight-bar",{"highlight-bar-hover":t<=i});return(0,c.jsx)("div",Object.assign({id:`highlightbar_${t}`,className:"highlight-compacted","data-index":t,onClick:this.onClickSceneBar,onMouseEnter:this.onEnterSceneBar,onMouseLeave:this.onLeaveSceneBar,onMouseMove:this.onEnterSceneBar},{children:(0,c.jsx)("div",Object.assign({className:n},{children:(0,c.jsx)(ui,{index:t})}))}),`${e.id}_bar_${t}`)}renderHighlightBox(){const{focusedIndex:e,xOffset:t}=this.state;if(-1===e)return null;const{highlights:i}=this.props,n=i[e];return(0,c.jsx)(pi,{snapshot:n.snapshot,numberOfHighlights:i.length,currentIndex:e,xOffset:t})}render(){const{highlights:e,tourPlaying:t}=this.props;return(0,c.jsxs)("div",Object.assign({className:m()("tour-story-reel",{"tour-playing":t}),ref:this.reelRef},{children:[(0,c.jsx)(hi,{}),(0,c.jsx)(qt.Z,Object.assign({direction:$t.Nm.horizontal,ref:this.scrollbarRef,hideScrollbar:!0,thumbScrollingOnly:!1,waitToUpdate:0===e.length,handleClick:this.onClickSceneBar,onScrollableChanged:this.onScrollableChanged,onScrollPositionChange:this.onScrollPositionChange},{children:(0,c.jsx)("div",Object.assign({className:"highlights"},{children:e.map(((e,t)=>this.renderSceneBar(e,t)))}))})),this.renderHighlightBox()]}))}}mi.contextType=f.I;var fi=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let gi=class extends r.Component{constructor(){super(...arguments),this.handleClick=()=>{this.context.analytics.trackToolGuiEvent("hlr","tour_progress");const{reelOpen:e}=this.props;e||this.context.commandBinder.issueCommand(new nt.Av(!0))}}getTourSteps(){const{totalSteps:e,activeStep:t}=this.props,i=[];for(let n=0;n<e;n++)i.push((0,c.jsx)("div",{className:m()({active:n===t})},n.toString()));return i}render(){const{reelOpen:e,tourPlaying:t,activeStep:i,totalSteps:n}=this.props,s=i+1+"/"+n,r=-1!==i&&!e&&s,a=-1!==i&&e&&t;return n>0?(0,c.jsxs)("div",Object.assign({id:"tour-progress",className:m()({"faded-in":t,"full-width":e}),onClick:this.handleClick,"data-balloon":r,"data-balloon-pos":"right","data-balloon-size":"xs"},{children:[a&&(0,c.jsx)("div",Object.assign({className:"progress-number"},{children:s})),-1!==i&&(0,c.jsx)("div",Object.assign({className:"progress-bar"},{children:this.getTourSteps()}))]})):null}};function vi(e){const{activeStep:t,highlights:i,openTool:n,tourMode:s,tourPlaying:r,transition:a}=e,o=rt(),l=n===P.w1.HLR;if(s===Ae.zz.STORIES)return l&&!r?null:(0,c.jsx)(mi,{highlights:i,tourPlaying:r,activeStep:t,transition:a});{const e=o&&(!l||r),n=(null==i?void 0:i.length)||0,s=0===n;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Ye.N,Object.assign({className:m()("highlight-reel",{"reel-empty":s,closed:!e}),open:e},{children:s?(0,c.jsx)(ci,{}):(0,c.jsx)(oi,{highlights:i,tourPlaying:r,activeStep:t,totalSteps:n,transition:a})})),r&&(0,c.jsx)(gi,{activeStep:t,tourPlaying:r,totalSteps:n,reelOpen:o})]})}}gi.contextType=f.I,gi=fi([zt.Z],gi);const yi=new T.Z("pause-button");class Ei extends r.Component{constructor(e){super(e),this.justEnded=!1,this.stopTour=async e=>{this.context.analytics.trackGuiEvent("tour_stopped");try{this.context.commandBinder.issueCommand(new we.vy)}catch(e){yi.debug(e)}},this.state={justPaused:!1}}componentDidUpdate(){this.state.justPaused&&this.setState({justPaused:!1}),this.justEnded=!1}UNSAFE_componentWillReceiveProps(e){!this.props.tourPlaying||e.tourPlaying||this.justEnded||this.setState({justPaused:!0}),this.props.tourEnded&&(this.justEnded=!0)}render(){const{tourPlaying:e}=this.props,{justPaused:t}=this.state;return(0,c.jsx)("div",Object.assign({id:"pause-button",onClick:this.stopTour,onTouchMove:this.stopTour,onTouchStart:this.stopTour,"data-cy":"pause-button"},{children:!e&&(0,c.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODQiIGhlaWdodD0iODQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNDIgMEMxOC43OSAwIDAgMTguNzkgMCA0MnMxOC43OSA0MiA0MiA0MiA0Mi0xOC43OSA0Mi00MlM2NS4yMSAwIDQyIDB6IiBmaWxsLW9wYWNpdHk9Ii4yNSIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTUxLjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6TTM0LjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==",className:m()({justPaused:t}),alt:"","aria-hidden":"true"})}))}}Ei.contextType=f.I;var bi=i(6394),Si=i(40475);function Oi(){const{commandBinder:e,analytics:t}=(0,r.useContext)(f.I),i=(0,_.b)(),n=(0,I.B)()===P.w1.NOTES,s=i.t(g.Z.NOTES_MODE),a=i.t(g.Z.NOTES_NUDGE_TITLE),o=i.t(g.Z.NOTES_NUDGE_MESSAGE),l=F.F.NotesModeNudgeSeen,d=Si.pE;return(0,c.jsx)(R,{className:"notes-mode-button",icon:"comment-outline",active:n,onClick:()=>{const i=!n;i&&t.trackGuiEvent("notes_mode_click_open"),e.issueCommand(new h.tT(P.w1.NOTES,i))},tooltip:s,nudgeFeatureKey:d,nudgeTitle:a,nudgeMessage:o,nudgeLocalStorage:l,onNudgeDismissed:()=>{t.trackGuiEvent("notes_nudge_dismissed")},showTimeout:35e3,dismissTimeout:1e4},"notes-mode-button")}var Ti=i(50485);function _i(){const{commandBinder:e,analytics:t}=(0,r.useContext)(f.I),i=(0,_.b)(),n=(0,I.B)()===P.w1.MEASUREMENTS,s=i.t(g.Z.TOOLS.MEASUREMENTS),a=i.t(g.Z.MEASUREMENT_NUDGE_TITLE),o=i.t(g.Z.MEASUREMENT_NUDGE_MESSAGE),l=F.F.MeasurementUserNudgeSeen,d=Ti.b;return(0,c.jsx)(R,{className:"measure-mode-button",icon:"tape-measure",active:n,onClick:()=>{const i=!n;i&&t.trackToolGuiEvent("measurements","measure_mode"),e.issueCommand(new h.tT(P.w1.MEASUREMENTS,i))},tooltip:s,nudgeFeatureKey:d,nudgeTitle:a,nudgeMessage:o,nudgeLocalStorage:l,onNudgeDismissed:()=>{t.trackGuiEvent("measurement_nudge_dismissed")},showTimeout:6e4,dismissTimeout:1e4},"measure-mode-button")}var Ni=i(91033),wi=i(68738),Ai=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},Ii=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ki=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};var Pi;!function(e){e.UP="up",e.DOWN="down"}(Pi||(Pi={}));let Li=class extends r.Component{constructor(e){super(e),this.elementRef=(0,r.createRef)(),this.onOutsideClick=e=>{this.toggleDropdown(!1)},this.onToggleClick=e=>{e.stopPropagation(),this.toggleDropdown()},this.onTransitionEnd=e=>{e&&e.target!==e.currentTarget||(window.clearTimeout(this.transitionTimeout),this.setState({transitioning:!1}))},this.toggleDropdown=e=>{const{open:t}=this.state,i=void 0!==e?e:!t;i?window.addEventListener("click",this.onOutsideClick):window.removeEventListener("click",this.onOutsideClick),this.transitionTimeout=window.setTimeout(this.onTransitionEnd,1e3),this.setState({open:i,transitioning:!0})},this.state={open:!1,transitioning:!1}}componentWillUnmount(){window.removeEventListener("click",this.onOutsideClick)}render(){const{open:e,transitioning:t}=this.state,i=this.props,{children:n,className:s,direction:r}=i,a=ki(i,["children","className","direction"]),o={up:r===Pi.UP,open:e,transitioning:t};return(0,c.jsxs)("div",Object.assign({ref:this.elementRef,className:m()("dropdown",o,s)},a,{children:[(0,c.jsx)("div",Object.assign({className:"dropdown-mask"},{children:(0,c.jsx)("div",Object.assign({className:"dropdown-menu",onTransitionEnd:this.onTransitionEnd},{children:n}))})),(0,c.jsx)("div",Object.assign({className:"dropdown-toggle"},{children:(0,c.jsx)(wi.hU,{iconClass:"icon-toolbar-more-horiz",onClick:this.onToggleClick,className:"dropdown-toggle"})}))]}))}};Li.defaultProps={direction:Pi.DOWN},Li=Ai([zt.Z,Ii("design:paramtypes",[Object])],Li);var Di=i(23355),Ri=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},Mi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ci=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const xi="collapsed";let Fi=class extends r.Component{constructor(e){super(e),this.contentRef=(0,r.createRef)(),this.collapsedRef=(0,r.createRef)(),this.toggleRef=(0,r.createRef)(),this.onResize=()=>{this.update()},this.update=(0,Di.P)((()=>{var e;const t=null===(e=this.toggleRef.current)||void 0===e?void 0:e.elementRef.current,i=this.contentRef.current,n=this.collapsedRef.current;if(!i||!n||!t)return;const s=i.children,r=n.children;if(!s||s.length!==r.length)return;const a=i.offsetWidth,o=t.offsetWidth||0;let l=0,c=0;for(let e=0;e<s.length;e++){let t=s[e].offsetWidth||0;c||e!==s.length-1||(t-=o),l+=t,l<=a?(s[e].classList.remove(xi),r[e].classList.add(xi)):(c++,s[e].classList.add(xi),r[e].classList.remove(xi))}c!==this.state.collapsedCount&&this.setState({collapsedCount:c})}),50),this.state={collapsedCount:0},this.observer=new Ni.Z(this.onResize)}componentDidMount(){this.connectObserver(),this.update()}componentDidUpdate(){this.update()}componentWillUnmount(){this.disconnectObserver(),this.reset()}connectObserver(){const e=this.contentRef.current;e&&this.observer.observe(e)}disconnectObserver(){this.observer&&this.observer.disconnect()}reset(){const e=this.contentRef.current;if(!e)return;const t=e.querySelectorAll(".collapsed");Array.from(t).forEach((e=>e.classList.remove(xi)))}getExpandedChildren(){const{children:e}=this.props,{collapsedCount:t}=this.state,i=r.Children.count(e)-t,n=[];return r.Children.forEach(e,((e,t)=>{t<i&&n.push((0,c.jsx)(r.Fragment,{children:e},t))})),n}getCollapsedChildren(){const{children:e}=this.props,{collapsedCount:t}=this.state,i=r.Children.count(e)-t,n=[];return r.Children.forEach(e,((e,t)=>{t>=i&&n.push((0,c.jsx)(r.Fragment,{children:e},t))})),n}render(){const e=this.props,{children:t,className:i}=e,n=Ci(e,["children","className"]),{collapsedCount:s}=this.state,r=`collapsible-list ${i}`,a={hidden:0===s};if(!t||!Array.isArray(t))return t;const o=this.getExpandedChildren(),l=this.getCollapsedChildren();return(0,c.jsxs)("div",Object.assign({className:m()(r)},n,{children:[(0,c.jsxs)("div",Object.assign({ref:this.contentRef,className:"collapsible-list-items"},{children:[(0,c.jsx)(A.Provider,Object.assign({value:{outOfScope:!1}},{children:o})),(0,c.jsx)(A.Provider,Object.assign({value:{outOfScope:!0}},{children:l}))]})),(0,c.jsx)(Li,Object.assign({ref:this.toggleRef,direction:Pi.UP,className:m()(a)},{children:(0,c.jsxs)("div",Object.assign({ref:this.collapsedRef,className:"collapsible-list-menu"},{children:[(0,c.jsx)(A.Provider,Object.assign({value:{outOfScope:!0}},{children:o})),(0,c.jsx)(A.Provider,Object.assign({value:{outOfScope:!1}},{children:l}))]}))}))]}))}};Fi.defaultProps={},Fi=Ri([zt.Z,Mi("design:paramtypes",[Object])],Fi);var Ui=i(30108),Hi=i(43948);const ji=(0,Pe.M)(st.T,"currentTourMode",Ae.zz.NONE);var Vi=i(27691),Bi=i(91774),Gi=i(52893);const Wi=(0,H.u)(Gi.T);var zi=i(22925);const Ki=(0,Pe.M)(zi.R,"currentViewId",""),Yi=()=>{const e=(0,_.b)(),t=!(0,ee.y)(Bi.sX,!1),i=(()=>{const e=Wi(),t=Ki(),i=ue(),n=(0,ee.y)(Bi.r4,"");if(n&&(null==e?void 0:e.hasDiscoverUrl())){const e=new URL(`${n}${i}`,"https://matterport.com");return t&&t!==i&&e.searchParams.set("view",t),e.toString()}return null})(),n=e.t(g.Z.ALT_MATTERPORT_LOGO),s=(0,c.jsx)("img",{className:"footer-logo",alt:n,src:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyMzAuMDUgNDkuNzUiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6I2Y1ZjRmM30uc3Qye2ZpbGw6I2ZmZn0uc3Qze2ZpbGw6Izk5OX08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02MS4yOCAzNi4xNHYtOC44MmwtLjI0LTUuMDkuMTktLjA0IDIuMDUgNC41NCA0LjgyIDguODYgNC44Mi04Ljg2IDIuMDYtNC41NC4xOC4wNC0uMjQgNS4wOXY4LjgyaDUuMTRWMTQuNGgtNS44MWwtNi4xMSAxMS43N2gtLjA3TDYxLjk1IDE0LjRoLTUuODF2MjEuNzR6TTIxMi42OSAzMC42M2MwIDMuNiAxLjk0IDUuNSA1LjYxIDUuNWgzLjE3di00LjQ1aC0zLjQ1di05LjQ5aDMuNzR2LTQuMzZoLTQuMTV2LTQuMjFoLTQuOTF2MTcuMDF6TTIxMS4yNiAxNy44M2gtLjg3Yy0zLjAxIDAtNC40NCAyLjAzLTQuODkgMy40M2gtLjE4di0zLjQzSDIwMHYxOC4zMWg1LjMyVjI1LjcyYzAtMS4wOC40MS0xLjg0LjkzLTIuMzMuODktLjg2IDIuNzktMS4xMSA1LjAxLTEuMTF2LTQuNDV6TTE1OC42MyAxNy44M2gtLjg3Yy0zLjAxIDAtNC40NCAyLjAzLTQuODkgMy40M2gtLjE4di0zLjQzaC01LjMydjE4LjMxaDUuMzJWMjUuNzJjMC0xLjA4LjQxLTEuODQuOTMtMi4zMy44OS0uODYgMi43OS0xLjExIDUuMDEtMS4xMXYtNC40NXpNMTI3LjQ4IDI3LjI1YzAtNS45NyAzLjE3LTkuODYgOC44NS05Ljg2IDYuMjYgMCA4Ljc4IDQuNTMgOC43OCA5LjY0djEuNThoLTEyLjEydi4xOGMwIDIuMTIgMS4xNCAzLjYgNC4xNyAzLjYgMi4yMyAwIDMuNDUtMS4wNCA0LjY0LTIuMjdsMi42NiAzLjMxYy0xLjY5IDEuOTQtNC40NiAzLjEzLTcuOTEgMy4xMy01LjguMDEtOS4wNy0zLjI3LTkuMDctOS4zMXptNS41LTIuMDV2LjI5aDYuNjJ2LS4zMmMwLTIuMy0xLjA0LTMuODUtMy4xNy0zLjg1cy0zLjQ1IDEuNTQtMy40NSAzLjg4ek0xODAuMDQgMjcuMjVjMC02LjA4IDMuMzEtOS44NiA4Ljg1LTkuODYgNS41NCAwIDguODUgMy43OCA4Ljg1IDkuODZzLTMuMzEgOS4zMi04Ljg1IDkuMzJjLTUuNTUgMC04Ljg1LTMuMjQtOC44NS05LjMyem0xMi4xNSAxLjM3di0zLjI3YzAtMi4zNy0xLjIyLTMuNzQtMy4zMS0zLjc0cy0zLjMxIDEuMzctMy4zMSAzLjc0djMuMjdjMCAyLjM3IDEuMjIgMy43NCAzLjMxIDMuNzRzMy4zMS0xLjM3IDMuMzEtMy43NHpNMTIyLjQyIDEzLjYyaC00Ljc4djIuMTljMCAxLjMtLjQzIDIuMDEtMS44NyAyLjAxaC0xLjMzdjQuMzZoMi42NnY4LjQ0YzAgMy42IDEuOTQgNS41IDUuNjEgNS41aDMuMTd2LTQuNDVoLTMuNDV2LTkuNDloMy43NHYtNC4zNmgtMy43NHYtNC4yek0xMDkuMTcgMTMuNjJoLTQuNzh2Mi4xOWMwIDEuMy0uNDMgMi4wMS0xLjg3IDIuMDFoLTEuMzN2NC4zNmgyLjY2djguNDRjMCAzLjYgMS45NCA1LjUgNS42MSA1LjVoMy4xN3YtNC40NWgtMy40NXYtOS40OWgzLjc0di00LjM2aC0zLjc0di00LjJ6TTE3MC45IDE3LjM5Yy0yLjQ1IDAtNC41MyAxLjUxLTUuMDcgMy42aC0uMTh2LTMuMTdoLTUuMzJ2MjMuODJoNS4zMnYtOC42N2guMThjLjU0IDIuMDUgMi42MyAzLjYgNS4wNyAzLjYgNC43OCAwIDcuMjctMi45MSA3LjI3LTkuMzItLjAxLTYuNC0yLjQ5LTkuODYtNy4yNy05Ljg2em0xLjcyIDExLjUyYzAgMi4zNy0xLjQ4IDMuMzUtMy40OSAzLjM1LTIuMDEgMC0zLjQ5LTEuMDQtMy40OS0yLjc3di01YzAtMS43MyAxLjQ4LTIuNzcgMy40OS0yLjc3IDIuMDEgMCAzLjQ5IDEuNTUgMy40OSAzLjkydjMuMjd6TTk3LjgzIDM2LjE0Yy0xLjkxIDAtMy4yNy0xLjMtMy42LTMuMzFoLS4yMmMtLjU4IDIuNDUtMi42NiAzLjc0LTUuNTQgMy43NC0zLjc4IDAtNS44Ni0yLjIzLTUuODYtNS41IDAtMy45OSAzLjA5LTUuOSA4LjA5LTUuOWgyLjk5di0uNjFjMC0xLjgzLS45LTIuOTktMy4xMy0yLjk5LTIuMTIgMC0zLjI0IDEuMDgtNC4wNiAyLjIzbC0zLjE3LTIuODFjMS41MS0yLjIzIDMuNjctMy42IDcuNjMtMy42IDUuMzIgMCA4LjA2IDIuNDUgOC4wNiA2LjkxdjcuMzhoMS43NnY0LjQ1aC0yLjk1em0tNC4xMy01Ljcydi0yLjIzaC0yLjU5Yy0yLjA1IDAtMy4xMy43Ni0zLjEzIDIuMTJ2LjU0YzAgMS4zNy45IDIuMDEgMi40OCAyLjAxIDEuNzYgMCAzLjI0LS43MiAzLjI0LTIuNDR6Ii8+PGc+PHBhdGggZD0iTTM5LjA1IDYuOTFMMjYuMjQgMTAuNSAxMy40MiA2LjkxIDguMyA4LjM1djMzLjA2bDUuMTMgMS40NCAxMi44Mi0zLjU5IDEyLjgyIDMuNTkgNS4xMy0xLjQ0VjguMzVsLTUuMTUtMS40NHptLTUuMTIgMjQuNjdsLTcuNjktMi4xNS03LjY5IDIuMTV2LTEzLjRsNy42OSAyLjE1IDcuNjktMi4xNXYxMy40eiIgZmlsbD0iI2I3YmFiYiIvPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yNi4yNCAxMy4zN3Y2Ljk2bC0xMi44Mi0zLjU5djI2LjFMOC4zIDQxLjQxVjguMzV6TTMzLjkzIDM0LjQ1bC03LjY5LTIuMTZ2Ni45NmwxMi44MSAzLjU5di0yNi4xbC01LjEyIDEuNDR6Ii8+PGc+PHBhdGggY2xhc3M9InN0MyIgZD0iTTM5LjA1IDYuOTFsNS4xMyAxLjQ0LTE3Ljk0IDUuMDJMOC4zIDguMzVsNS4xMi0xLjQ0IDEyLjgyIDMuNTl6TTI2LjI0IDI5LjQybDcuNjkgMi4xNnYyLjg3bC03LjY5LTIuMTYtNy42OSAyLjE2di0yLjg3eiIvPjwvZz48L2c+PC9zdmc+"});return t?(0,c.jsx)("a",Object.assign({className:"link logo-link",href:i||"https://matterport.com",target:"_blank","data-testid":"footer-logo-link"},{children:s})):s},qi="gui";function $i(e){const{analytics:t,commandBinder:i,locale:n}=(0,r.useContext)(f.I),s=(0,J.K)(),a=!!s&&(0,Z.eU)(s),{isWorkshop:o=!1,modelRatingEnabled:l,disabled:d}=e;return o&&!l?null:(0,c.jsxs)(w.hE,Object.assign({className:"showcase-footer","data-testid":"showcase-footer"},{children:[!d&&a&&!o&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(w.zx,{variant:w.Wu.TERTIARY,size:"small",theme:"overlay",onClick:()=>{const n=e.openModal===Ut.P.DEFURNISH_AI;i.issueCommand(new Ht.B(Ut.P.DEFURNISH_AI,!n)),t.trackGuiEvent("click_defurnish_ai_warning",{interactionSource:qi})},className:"defurnish-ai-warning",ariaRole:"link",ariaHasPopup:"dialog",disabled:d,label:n.t(g.Z.DEFURN_AI_WARNING)}),(0,c.jsx)("span",{children:" | "})]}),!d&&l&&(0,c.jsx)(w.zx,{variant:w.Wu.TERTIARY,size:"small",theme:"overlay",onClick:()=>{i.issueCommand(new Vi.m),t.trackGuiEvent("click_feedback_button",{interactionSource:qi})},className:"model-feedback-link",ariaRole:"link",ariaHasPopup:"dialog",disabled:d,label:n.t(g.Z.FEEDBACK)}),!d&&!o&&l&&(0,c.jsx)("span",{children:" | "}),!d&&!o&&(0,c.jsx)(w.zx,{variant:w.Wu.TERTIARY,size:"small",theme:"overlay",onClick:()=>{const n=e.openModal===Ut.P.HELP;i.issueCommand(new Ht.B(Ut.P.HELP,!n)),t.trackGuiEvent("click_help_button",{interactionSource:qi})},ariaRole:"link",disabled:d,ariaHasPopup:"dialog",label:n.t(g.Z.HELP)}),!d&&!o&&(0,c.jsx)("span",{children:" | "}),!d&&!o&&(0,c.jsx)(w.zx,{variant:w.Wu.TERTIARY,size:"small",theme:"overlay",onClick:()=>{const n=e.openModal===Ut.P.TERMS;i.issueCommand(new Ht.B(Ut.P.TERMS,!n)),t.trackGuiEvent("click_terms_button",{interactionSource:qi})},ariaRole:"link",disabled:d,ariaHasPopup:"dialog",label:n.t(g.Z.TERMS)}),!d&&!o&&(0,c.jsx)(Yi,{})]}))}function Zi(){const e=(0,I.B)(),t=(0,Hi.R)(),i=(0,ee.y)(Ui.i,!1),n=rt(),s=ji(),r=n&&!e&&s===Ae.zz.LEGACY,a=!e,o=!t||t===Ut.P.TERMS;return(0,c.jsx)("div",Object.assign({className:m()("footer-ui",{"footer-ui-shaded":r,disabled:!o})},{children:a&&(0,c.jsx)($i,{openModal:t,disabled:!o,modelRatingEnabled:i})}))}var Qi=i(22816);const Xi=(0,Pe.M)(Qi.P,"isDialogVisible",!1);var Ji,en=i(38637),tn=i(37617),nn=i(17545),sn=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},rn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e[e.OUTLINED=0]="OUTLINED",e[e.ADJUSTABLE=1]="ADJUSTABLE"}(Ji||(Ji={}));const an=function*(){let e=0;for(;;)yield e++}();let on=class extends r.Component{constructor(e){super(e),this.elementRef=(0,r.createRef)(),this.onInput=e=>{if(this.props.onInput){const t=e.target;this.props.onInput(t.value)}},this.onKeyPress=e=>{e.stopPropagation();const t=e.which||e.keyCode,i=[Ne.R.RETURN];if("keydown"===e.type&&!i.includes(t))return!1;const n=e.target;switch(this.props.maxLength&&n.value.length>this.props.maxLength&&e.preventDefault(),t){case Ne.R.RETURN:e.shiftKey||(e.preventDefault(),this.blur(),this.props.onDone(n.value))}return!1},this.stopPropagation=e=>e.stopPropagation(),this.onChange=e=>{this.updateHeight()},this.onFocus=e=>{this.context.messageBus.broadcast(new nn.SN(this.input,!0)),this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0})},this.onBlur=e=>{this.context.messageBus.broadcast(new nn.SN(this.input,!1)),this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1})},this.setRef=e=>this.input=e,this.instanceId=`textarea-${an.next().value}`,this.state={currentText:e.text,isFocused:!1}}componentDidMount(){this.props.focusOnMount&&this.input&&this.input.focus(),this.props.scrollIntoViewOnMount&&this.input&&this.input.scrollIntoView(),this.updateHeight()}componentWillUnmount(){this.input&&this.input.blur()}UNSAFE_componentWillReceiveProps(e){e.text!==this.props.text&&this.setState({currentText:e.text})}componentDidUpdate(e,t){t.currentText!==this.state.currentText&&this.updateHeight()}getText(){return this.input?this.input.value:""}focus(){this.input.focus()}blur(){this.input.blur()}updateHeight(){if(this.props.inputStyle===Ji.ADJUSTABLE){const e=this.elementRef.current;if(!this.input||!e)return;e.style.height="",this.input.style.overflowY="";const t=this.input.scrollHeight;e.style.height=`${t}px`,t>e.scrollHeight&&(this.input.style.overflowY="auto")}}render(){const{placeholder:e,tabIndex:t,maxLength:i,inputStyle:n=Ji.OUTLINED,label:s,name:r,readOnly:a,rows:o}=this.props,{currentText:l,isFocused:d}=this.state,u=r||this.instanceId,h=""===l,p=s&&(n!==Ji.ADJUSTABLE||d||!h),f=n===Ji.ADJUSTABLE?1:o;return(0,c.jsxs)("div",Object.assign({className:m()("textarea-container",`textarea-style-${Ji[n].toLowerCase()}`,{focused:d,readonly:a,placeholder:h}),ref:this.elementRef},{children:[p&&(0,c.jsx)("label",Object.assign({className:"label",htmlFor:u},{children:s})),(0,c.jsx)("textarea",{className:"textarea",value:l,ref:this.setRef,name:u,placeholder:e,maxLength:i,onInput:this.onInput,onChange:this.onChange,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyPress,onKeyUp:this.stopPropagation,onBlur:this.onBlur,onFocus:this.onFocus,rows:f,tabIndex:t,readOnly:a})]}))}};on.contextType=f.I,on=sn([zt.Z,rn("design:paramtypes",[Object])],on);const ln=on,{MODEL_RATING:cn}=g.Z.WORKSHOP,dn={HAPPINESS:"happiness",QUALITY:"quality",NAVIGATION:"navigation",FEEDBACK:"feedback"},un=dn.HAPPINESS,hn={[dn.HAPPINESS]:cn.HAPPINESS_TITLE,[dn.QUALITY]:cn.QUALITY_ISSUES_TITLE,[dn.NAVIGATION]:cn.NAVIGATION_ISSUES_TITLE,[dn.FEEDBACK]:cn.FEEDBACK_TITLE},pn={[dn.HAPPINESS]:cn.HAPPINESS_BODY},mn={[dn.QUALITY]:[{text:cn.QUALITY_ISSUES_LIGHTING,value:"lighting"},{text:cn.QUALITY_ISSUES_3D_MESH,value:"3d_mesh"},{text:cn.QUALITY_ISSUES_COLORING,value:"coloring"},{text:cn.QUALITY_ISSUES_IMAGE_QUALITY,value:"image_quality"}],[dn.NAVIGATION]:[{text:cn.NAVIGATION_ISSUES_BLOCKED_DOORWAYS,value:"blocked_doorways"},{text:cn.NAVIGATION_ISSUES_OBSTRUCTIONS,value:"obstructions"},{text:cn.NAVIGATION_ISSUES_MISALIGNED_SCANS,value:"misaligned_scans"},{text:cn.NAVIGATION_ISSUES_FLOOR_SEPARATION,value:"floor_separation"},{text:cn.NAVIGATION_ISSUES_DISAPPEARING_FLOORS,value:"disappearing_floors"}]};var fn;!function(e){e[e.Disappointed=0]="Disappointed",e[e.Unsatisfied=1]="Unsatisfied",e[e.Neutral=2]="Neutral",e[e.Satisfied=3]="Satisfied",e[e.Happy=4]="Happy"}(fn||(fn={}));var gn=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let vn=class extends r.Component{render(){switch(this.props.icon){case fn.Disappointed:return(0,c.jsxs)("svg",Object.assign({width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 28C21.9557 28 28 21.9557 28 14.5C28 7.04503 21.9557 1 14.5 1C7.04506 1 1 7.04506 1 14.5C1 21.9557 7.04503 28 14.5 28ZM14.5 29C22.508 29 29 22.508 29 14.5C29 6.49278 22.508 0 14.5 0C6.49278 0 0 6.49278 0 14.5C0 22.508 6.49278 29 14.5 29Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M9.26389 16.1111C10.3761 16.1111 11.2778 14.8488 11.2778 13.2917C11.2778 11.7345 10.3761 10.4722 9.26389 10.4722C8.15165 10.4722 7.25 11.7345 7.25 13.2917C7.25 14.8488 8.15165 16.1111 9.26389 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.7361 16.1111C20.8484 16.1111 21.75 14.8488 21.75 13.2917C21.75 11.7345 20.8484 10.4722 19.7361 10.4722C18.6239 10.4722 17.7222 11.7345 17.7222 13.2917C17.7222 14.8488 18.6239 16.1111 19.7361 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M4.83253 9.66666C4.66497 9.66666 4.495 9.6143 4.35 9.50555C3.99394 9.23891 3.92225 8.73383 4.18889 8.37777C6.81661 4.87361 10.324 4.83333 10.4722 4.83333C10.9169 4.83333 11.2778 5.19422 11.2778 5.63888C11.2778 6.08274 10.9193 6.44283 10.4754 6.44444C10.3506 6.44605 7.60122 6.51372 5.47778 9.34444C5.31989 9.5555 5.07742 9.66666 4.83253 9.66666ZM24.1675 9.66666C23.9218 9.66666 23.6809 9.5555 23.5222 9.34444C21.3956 6.50808 18.6397 6.44605 18.5229 6.44444C18.0799 6.43961 17.7222 6.07711 17.7246 5.63486C17.7271 5.19099 18.0847 4.83333 18.5278 4.83333C18.676 4.83333 22.1826 4.87361 24.8111 8.37777C25.0786 8.73383 25.0061 9.23891 24.65 9.50555C24.505 9.6143 24.3358 9.66666 24.1675 9.66666V9.66666ZM18.9185 22.4581C18.9096 22.4226 17.9961 18.9306 14.5 18.9306C11.0039 18.9306 10.0904 22.4226 10.0815 22.4581C10.0388 22.6297 10.117 22.8053 10.2684 22.8963C10.4199 22.9865 10.6172 22.9656 10.7485 22.848C10.7558 22.8415 11.5646 22.1528 14.5 22.1528C17.3919 22.1528 18.2192 22.8214 18.2507 22.848C18.3272 22.9205 18.4271 22.9583 18.5278 22.9583C18.5954 22.9583 18.6639 22.9414 18.7259 22.9068C18.8838 22.8166 18.9628 22.6337 18.9185 22.4581V22.4581Z",fill:"#222222"})]}));case fn.Unsatisfied:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.125 28C22.5808 28 28.625 21.9558 28.625 14.5C28.625 7.04416 22.5808 1 15.125 1C7.66916 1 1.625 7.04416 1.625 14.5C1.625 21.9558 7.66916 28 15.125 28ZM29.625 14.5C29.625 22.5081 23.1331 29 15.125 29C7.11687 29 0.625 22.5081 0.625 14.5C0.625 6.49187 7.11687 0 15.125 0C23.1331 0 29.625 6.49187 29.625 14.5Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M21.1546 22.0553C21.1183 21.9111 20.2137 18.5278 15.125 18.5278C10.0355 18.5278 9.13167 21.9111 9.09542 22.0553C9.05111 22.2301 9.13006 22.4114 9.28633 22.5016C9.44342 22.591 9.63997 22.5644 9.76967 22.4395C9.78497 22.4242 11.3437 20.9444 15.125 20.9444C18.9063 20.9444 20.4658 22.4242 20.4803 22.4387C20.5577 22.5153 20.6608 22.5555 20.7639 22.5555C20.8316 22.5555 20.9 22.5386 20.9621 22.504C21.1199 22.4138 21.1989 22.2309 21.1546 22.0553Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M10.2917 13.6944C11.4039 13.6944 12.3055 12.4321 12.3055 10.875C12.3055 9.31787 11.4039 8.05556 10.2917 8.05556C9.17942 8.05556 8.27777 9.31787 8.27777 10.875C8.27777 12.4321 9.17942 13.6944 10.2917 13.6944Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.9583 13.6944C21.0706 13.6944 21.9722 12.4321 21.9722 10.875C21.9722 9.31787 21.0706 8.05556 19.9583 8.05556C18.8461 8.05556 17.9444 9.31787 17.9444 10.875C17.9444 12.4321 18.8461 13.6944 19.9583 13.6944Z",fill:"#222222"})]}));case fn.Neutral:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.75 28C22.2057 28 28.25 21.9557 28.25 14.5C28.25 7.04503 22.2057 1 14.75 1C7.29506 1 1.25 7.04506 1.25 14.5C1.25 21.9557 7.29503 28 14.75 28ZM14.75 29C22.758 29 29.25 22.508 29.25 14.5C29.25 6.49278 22.758 0 14.75 0C6.74278 0 0.25 6.49278 0.25 14.5C0.25 22.508 6.74278 29 14.75 29Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M9.51389 16.1111C10.6261 16.1111 11.5278 14.8488 11.5278 13.2917C11.5278 11.7345 10.6261 10.4722 9.51389 10.4722C8.40165 10.4722 7.5 11.7345 7.5 13.2917C7.5 14.8488 8.40165 16.1111 9.51389 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.9861 16.1111C21.0984 16.1111 22 14.8488 22 13.2917C22 11.7345 21.0984 10.4722 19.9861 10.4722C18.8739 10.4722 17.9722 11.7345 17.9722 13.2917C17.9722 14.8488 18.8739 16.1111 19.9861 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M20.3889 20.9444H9.11111C8.66645 20.9444 8.30556 20.5844 8.30556 20.1389C8.30556 19.6934 8.66645 19.3333 9.11111 19.3333H20.3889C20.8344 19.3333 21.1944 19.6934 21.1944 20.1389C21.1944 20.5844 20.8344 20.9444 20.3889 20.9444Z",fill:"#222222"})]}));case fn.Satisfied:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.375 28C22.8308 28 28.875 21.9558 28.875 14.5C28.875 7.04416 22.8308 1 15.375 1C7.91916 1 1.875 7.04416 1.875 14.5C1.875 21.9558 7.91916 28 15.375 28ZM29.875 14.5C29.875 22.5081 23.3831 29 15.375 29C7.36687 29 0.875 22.5081 0.875 14.5C0.875 6.49187 7.36687 0 15.375 0C23.3831 0 29.875 6.49187 29.875 14.5Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M9.34541 19.028C9.38166 19.1722 10.2863 22.5555 15.375 22.5555C20.4645 22.5555 21.3683 19.1722 21.4046 19.028C21.4489 18.8532 21.3699 18.672 21.2137 18.5817C21.0566 18.4923 20.86 18.5189 20.7303 18.6438C20.715 18.6591 19.1563 20.1389 15.375 20.1389C11.5937 20.1389 10.0342 18.6591 10.0197 18.6446C9.94233 18.568 9.83922 18.5278 9.73611 18.5278C9.66844 18.5278 9.59997 18.5447 9.53794 18.5793C9.38005 18.6695 9.30111 18.8524 9.34541 19.028V19.028Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M10.5417 13.6944C11.6539 13.6944 12.5556 12.4321 12.5556 10.875C12.5556 9.31787 11.6539 8.05556 10.5417 8.05556C9.42943 8.05556 8.52778 9.31787 8.52778 10.875C8.52778 12.4321 9.42943 13.6944 10.5417 13.6944Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M20.2083 13.6944C21.3206 13.6944 22.2222 12.4321 22.2222 10.875C22.2222 9.31787 21.3206 8.05556 20.2083 8.05556C19.0961 8.05556 18.1944 9.31787 18.1944 10.875C18.1944 12.4321 19.0961 13.6944 20.2083 13.6944Z",fill:"#222222"})]}));case fn.Happy:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 28C22.4558 28 28.5 21.9558 28.5 14.5C28.5 7.04416 22.4558 1 15 1C7.54416 1 1.5 7.04416 1.5 14.5C1.5 21.9558 7.54416 28 15 28ZM29.5 14.5C29.5 22.5081 23.0081 29 15 29C6.99187 29 0.5 22.5081 0.5 14.5C0.5 6.49187 6.99187 0 15 0C23.0081 0 29.5 6.49187 29.5 14.5Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M8.97042 19.028C9.00667 19.1722 9.9113 22.5555 15 22.5555C20.0895 22.5555 20.9933 19.1722 21.0296 19.028C21.0739 18.8532 20.9949 18.672 20.8387 18.5817C20.6816 18.4923 20.485 18.5189 20.3553 18.6438C20.34 18.6591 18.7813 20.1389 15 20.1389C11.2187 20.1389 9.65917 18.6591 9.64467 18.6446C9.56733 18.568 9.46422 18.5278 9.36111 18.5278C9.29344 18.5278 9.22497 18.5447 9.16294 18.5793C9.00505 18.6695 8.92611 18.8524 8.97042 19.028V19.028Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M15 17.6006C12.6107 17.6006 11.0246 17.3218 9.06388 16.9408C8.61519 16.8554 7.74438 16.9408 7.74438 18.2603C7.74438 20.8985 10.7757 24.1965 15 24.1965C19.2244 24.1965 22.2557 20.8985 22.2557 18.2603C22.2557 16.9408 21.3841 16.8546 20.9362 16.9408C18.9754 17.3218 17.3901 17.6006 15 17.6006Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M10.1667 13.6944C11.2789 13.6944 12.1806 12.4321 12.1806 10.875C12.1806 9.31787 11.2789 8.05556 10.1667 8.05556C9.05443 8.05556 8.15278 9.31787 8.15278 10.875C8.15278 12.4321 9.05443 13.6944 10.1667 13.6944Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.8333 13.6944C20.9456 13.6944 21.8472 12.4321 21.8472 10.875C21.8472 9.31787 20.9456 8.05556 19.8333 8.05556C18.7211 8.05556 17.8194 9.31787 17.8194 10.875C17.8194 12.4321 18.7211 13.6944 19.8333 13.6944Z",fill:"#222222"})]}))}}};function yn({emoji:e,label:t,active:i,onClick:n}){return(0,c.jsx)(w.zx,Object.assign({ariaLabel:t,active:i,variant:w.Wu.TERTIARY,size:"small",onClick:()=>n(e.value)},{children:(0,c.jsx)(vn,{icon:e.icon})}))}vn=gn([zt.Z],vn);const En=[{value:1,altText:g.Z.REUSABLES.EMOJI_ALT_DISAPPOINTED,icon:fn.Disappointed},{value:2,altText:g.Z.REUSABLES.EMOJI_ALT_UNSATISFIED,icon:fn.Unsatisfied},{value:3,altText:g.Z.REUSABLES.EMOJI_ALT_NEUTRAL,icon:fn.Neutral},{value:4,altText:g.Z.REUSABLES.EMOJI_ALT_SATISFIED,icon:fn.Satisfied},{value:5,altText:g.Z.REUSABLES.EMOJI_ALT_HAPPY,icon:fn.Happy}];function bn({happiness:e,setHappiness:t}){const i=(0,_.b)();return(0,c.jsx)("div",Object.assign({className:"rating-picker"},{children:(0,c.jsx)(w.hE,{children:En.map((n=>(0,c.jsx)(yn,{emoji:n,onClick:t,label:i.t(n.altText),active:e===n.value},n.value)))})}))}const{MODEL_RATING:Sn}=g.Z.WORKSHOP,On=Object.values(dn);class Tn extends r.Component{constructor(e){super(e),this.submitCurrentRating=(e=!1)=>{const{currentQuestionId:t}=this.state;let i={};switch(t){case dn.QUALITY:i={quality:this.state.quality};break;case dn.NAVIGATION:i={navigation:this.state.navigation};break;case dn.FEEDBACK:i={feedback:this.state.feedback},this.resetValues()}i&&this.context.commandBinder.issueCommand(new Vi.M(i,e))},this.resetValues=()=>{this.setState({happiness:void 0,quality:void 0,navigation:void 0,feedback:void 0})},this.hasPerfectHappinessRating=()=>5===this.state.happiness,this.handleButtonClick=()=>{const{currentQuestionId:e}=this.state;let t;switch(this.submitCurrentRating(e===dn.FEEDBACK),e){case dn.QUALITY:t=dn.NAVIGATION;break;case dn.NAVIGATION:t=dn.FEEDBACK}t&&this.setState({currentQuestionId:t})},this.handleHappinessClick=e=>{this.context.commandBinder.issueCommand(new Vi.M({happiness:e})),5!==e?this.setState({happiness:e,currentQuestionId:dn.QUALITY}):this.submitCurrentRating(!0)},this.handleCheckboxChange=(e,t,i)=>{const n=i.value,s={},r=(this.state[t]||[]).slice();r.includes(n)?r.splice(r.indexOf(n),1):r.push(n),s[t]=r,this.setState(s)},this.handleFeedbackChange=e=>{this.setState({feedback:e})},this.handleClose=()=>{this.context.commandBinder.issueCommand(new Vi.m(!1))},this.renderProgress=()=>{const{locale:e}=this.context,{currentQuestionId:t}=this.state;if(!t)return null;if(t===dn.HAPPINESS||this.hasPerfectHappinessRating())return;const i=On.indexOf(t);return(0,c.jsx)("span",Object.assign({className:"model-rating-progress"},{children:e.t(Sn.PROGRESS,{"current-question-number":i,"max-question-number":On.length-1})}))},this.state={currentQuestionId:un}}componentWillUnmount(){this.submitCurrentRating(),this.context.commandBinder.issueCommand(new Vi.m(!1))}renderCurrentQuestion(){const{locale:e}=this.context,{currentQuestionId:t,happiness:i}=this.state;if(t===dn.FEEDBACK)return(0,c.jsx)("div",Object.assign({className:"question-type text-entry"},{children:(0,c.jsx)(ln,{text:this.state.feedback||"",label:e.t(Sn.FEEDBACK_LABEL),onInput:this.handleFeedbackChange,onDone:this.handleFeedbackChange,maxLength:200,rows:3,focusOnMount:!0,scrollIntoViewOnMount:!0})}));if(t===dn.HAPPINESS)return(0,c.jsx)(bn,{happiness:i,setHappiness:this.handleHappinessClick});if(t===dn.QUALITY||t===dn.NAVIGATION){const i=(t===dn.QUALITY?this.state.quality:this.state.navigation)||[],n=mn[t];return(0,c.jsx)("div",Object.assign({className:"question-type multi-select"},{children:n.map((n=>(0,c.jsx)(tn.X,{enabled:!0,checkboxStyle:tn.C.FILTER,onChange:this.handleCheckboxChange,onChangeArgs:[t,n],checked:i.includes(n.value),label:e.t(n.text)},n.text)))}))}return null}render(){const{locale:e}=this.context,{currentQuestionId:t}=this.state,i=t===un,n=hn[t],s=pn[t],r=t===dn.FEEDBACK?Sn.SAVE:Sn.NEXT;return(0,c.jsxs)(w.Vq,Object.assign({className:m()("model-rating-dialog",{"in-progress":!i}),onClose:this.handleClose},{children:[(0,c.jsx)(en.P,{onClose:this.handleClose}),(0,c.jsxs)("div",Object.assign({className:"model-rating-form"},{children:[(0,c.jsxs)("div",Object.assign({className:"model-rating-question"},{children:[(0,c.jsx)("h3",Object.assign({className:"question-title"},{children:e.t(n)})),s&&(0,c.jsx)("p",Object.assign({className:"question-body"},{children:e.t(s)})),this.renderCurrentQuestion()]})),(0,c.jsxs)("footer",Object.assign({className:"model-rating-footer"},{children:[(0,c.jsx)("div",{children:t!==dn.HAPPINESS&&(0,c.jsx)(w.zx,{onClick:this.handleButtonClick,variant:w.Wu.TERTIARY,label:e.t(r)})}),this.renderProgress()]}))]}))]}))}}function _n(){const e=Xi(),t=(0,I.B)();return!e||t?null:(0,c.jsx)(Tn,{})}Tn.contextType=f.I;function Nn(){const e=ji(),t=Fe(),i=(0,r.useRef)(0),[n,s]=(0,r.useState)(!1),a=t.active,o=e===Ae.zz.STORIES;return(0,_e.rf)((()=>(s(!0),window.clearTimeout(i.current),a?()=>{}:(i.current=window.setTimeout((()=>{s(!1)}),3e3),()=>window.clearTimeout(i.current)))),[a]),o&&(a||n)}const wn=(0,ot.M)("showStoryTour",Nn);var An=i(39260);class In extends r.Component{constructor(e,t){super(e,t),this.isUnmounting=!1,this.bindings=[],this.viewmodeToClass={[S.BD.INSIDE]:"inside",[S.BD.OUTSIDE]:"outside",[S.BD.DOLLHOUSE]:"dollhouse",[S.BD.FLOORPLAN]:"floorplan",[S.BD.TRANSITIONING]:"transitioning"},this.checkShowReel=()=>{const{tourState:e}=this.props,{settings:t}=this.context,i=t.tryGetProperty(ce.gx.HighlightReel,!0),{reelSeen:n}=this.state;if(e.totalSteps>0&&i&&!n){const e=this.getHlStartupValue();switch(e){case Wt.expanded:case Wt.flash:(0,v.gw)(100).then((()=>this.showReel(e)))}}},this.showReel=e=>{this.isUnmounting||(this.context.commandBinder.issueCommand(new nt.Av(!0)),e===Wt.flash&&(0,v.gw)(3e3).then(this.dismissReel))},this.dismissReel=()=>{this.isUnmounting||(this.context.commandBinder.issueCommand(new nt.Av(!1)),this.setState({reelSeen:!0}))},this.onViewingControlsToggle=({show:e})=>{this.setState({autohide:!e})},this.updateViewportSize=e=>{this.isUnmounting||this.setState({viewportHeight:e.height})},this.isReelEnabled=()=>{if(this.props.tourMode===Ae.zz.STORIES)return!0;return this.state.viewportHeight>=400&&(0,Bt.ug)(this.context.settings)},this.isPluginSystemEnabled=()=>{const{settings:e}=this.context;return e.tryGetProperty(An.uE,!1)},this.isFloorsEnabled=()=>{const{settings:e}=this.context,t=e.tryGetProperty(Ft.w,!0),i=e.tryGetProperty(ce.gx.FloorSelect,!0);return t&&i},this.toggleShareModal=()=>{const e=this.props.openModal===Ut.P.SHARE;this.context.analytics.trackGuiEvent("click_share_button"),this.context.commandBinder.issueCommand(new Ht.B(Ut.P.SHARE,!e))},this.renderHighlightReel=()=>{const{openTool:e,tourState:t,tourMode:i}=this.props;if(e&&e!==P.w1.SEARCH)return null;const{tourPlaying:n,highlights:s,activeStep:r,transition:a}=t;return(0,c.jsx)(vi,{openTool:e,tourMode:i,transition:a,activeStep:r,highlights:s,tourPlaying:n})},this.renderRightControls=()=>{const e=[],{vrEnabled:t,shareEnabled:i}=this.props,n=(0,M.O6)();e.push((0,c.jsx)("span",{className:"divider"},"divider_1"));const s=this.context.locale.t(g.Z.SOCIAL_SHARING),r={placement:"top"};return i&&e.push((0,c.jsx)(w.zx,{onClick:this.toggleShareModal,ariaLabel:s,ariaHasPopup:"dialog",tooltip:s,tooltipOptions:r,icon:"share",theme:"overlay",variant:w.Wu.TERTIARY},"toggle_share_modal")),t&&e.push((0,c.jsx)(jt,{},"vr_modal_controls")),n&&e.push((0,c.jsx)(Vt,{},"fullscreen_controls")),e},this.state={viewportHeight:Qt(t).height,autohide:!1,reelSeen:!1},this.onResize=(0,bi.D)(this.updateViewportSize,250)}componentDidMount(){const{messageBus:e,market:t}=this.context;t.waitForData(Zt.V).then((e=>{this.isUnmounting||this.bindings.push(e.onPropertyChanged("size",this.onResize))})),this.bindings.push(e.subscribe(Gt.ps,this.onViewingControlsToggle)),this.checkShowReel()}componentWillUnmount(){this.isUnmounting=!0,this.bindings.map((e=>e.cancel()))}componentDidUpdate(e){!(e.tourState.totalSteps>0)&&this.props.tourState.totalSteps>0&&this.checkShowReel()}getHlStartupValue(){const{settings:e}=this.context;if(e.getOverrideParam("note","")||e.getOverrideParam("tag",""))return Wt.collapsed;const t=this.props.tourState.highlights.some((e=>e.snapshot.is360))?Wt.expanded:Wt.flash,i=e.getOverrideParam("hl",t);return(0,y.p)(Wt,i)?i:t}render(){const{measurementsModeEnabled:e,notesEnabled:t,openModal:i,openTool:n,showStoryTour:s,toolPanelLayout:r,tourMode:a,tourState:o,unaligned:l,viewmode:d}=this.props,{tourPlaying:u,tourEnded:h,totalSteps:p,activeStep:f,currentStep:g,highlights:v,hasTours:y}=o,{autohide:E,viewportHeight:b}=this.state,{settings:S}=this.context,O=this.viewmodeToClass[d]||"",T=0===p,_=a===Ae.zz.STORIES,N=b>=400,w=this.isReelEnabled()&&!T,A=n!==P.w1.MEASUREMENTS,I=this.isFloorsEnabled(),k=this.isPluginSystemEnabled(),L=t&&!l,D=e&&!l,R=S.tryGetProperty(Ui.i,!1),M=u||s,C=E||!!i&&(i!==Ut.P.CTA||!_)&&!n,x={"modal-open":!!i,"tour-playing":u,"stories-tour-showing":s,autohide:C};return(0,c.jsxs)("div",Object.assign({id:"bottom-ui",className:m()("bottom-ui",x,O)},{children:[(0,c.jsx)(Ei,{tourPlaying:u,tourEnded:h}),(0,c.jsxs)(Ye.N,Object.assign({className:m()("bottom-controls",{"faded-out":C}),open:!C},{children:[(0,c.jsxs)(Fi,Object.assign({className:"controls"},{children:[(0,c.jsx)(gt,{toolPanelLayout:r,activeTool:n,activeStep:f,currentStep:g,highlights:v||[],tourPlaying:u,tourMode:a,hideReel:!N,hasTours:y},"tour_controls"),(0,c.jsx)(Ye.N,Object.assign({className:"mode-controls",open:!M},{children:(0,c.jsx)(Te,{unaligned:l,viewmode:d,className:"showcase-viewmode-controls"},"mode_controls")})),I&&(0,c.jsx)(Ye.N,Object.assign({className:"mode-controls",open:!M},{children:(0,c.jsx)(kt,{viewmode:d,iconStyle:!0,className:"showcase-floor-controls"},"floor_controls")})),k&&(0,c.jsx)(Ye.N,Object.assign({className:"mode-controls",open:!M},{children:(0,c.jsx)(xt,{viewmode:d,className:"showcase-plugin-controls"},"plugin_visibility_controls")})),L&&(0,c.jsx)(Ye.N,Object.assign({className:"mode-controls",open:!M},{children:(0,c.jsx)(Oi,{},"notes_mode_button")})),D&&(0,c.jsx)(Ye.N,Object.assign({className:"mode-controls",open:!M},{children:(0,c.jsx)(_i,{},"measurement_mode_button")})),A&&this.renderRightControls()]})),R&&(0,c.jsx)(_n,{})]})),w&&this.renderHighlightReel(),(0,c.jsx)(Zi,{})]}))}}In.contextType=f.I;const kn=wn(In);var Pn=i(20510),Ln=i(44558),Dn=i(63926);const Rn=new Me.f({from:null,to:null,progress:new Dn.z(0),promise:Promise.resolve()});function Mn(){const e=function(){const e=(0,Tt.I)();return(0,Re.y)(e?e.transitionObservable:Rn)}();return wt((null==e?void 0:e.to)||null)}function Cn(e){const{commandBinder:t}=(0,r.useContext)(f.I),i=(0,Ln.W)(),n=function(){const e=At(),t=Mn(),[i,n]=(0,r.useState)(e?e.name:"");return(0,r.useEffect)((()=>(e?n(e.name):t&&n(t.name),()=>{})),[e,t]),i}(),s=bt(),a=(0,r.useCallback)((()=>{t.issueCommand(new vt.Vw(null,!1))}),[t]);if(i!==u.nh.PLAYING)return null;const o=m()("floor-container",e.className);return(0,c.jsxs)("div",Object.assign({className:o},{children:[(0,c.jsx)("div",Object.assign({className:"floor-title h4"},{children:n||""})),s&&(0,c.jsx)(en.P,{theme:"dark",onClose:a,tooltip:""})]}))}var xn=i(20470),Fn=i(6704);var Un=i(64150);const Hn=(0,H.u)(Un.e);var jn=i(43226),Vn=i(96768);var Bn=i(31372);const Gn=()=>{const e=(0,ee.y)(Bn.My,Bn.ED);return(0,r.useMemo)((()=>Object.assign({},Bn.ED,e)),[e])};var Wn=i(38099);const zn=()=>{const e=(0,Pe.v)(Wn.I,"applicationKeys",new He.d);return(0,ee.y)(Bn.B_,!1)&&0===e.length};var Kn=i(99935),Yn=i(56966);function qn(e,t,i){const n=i===Kn.RF;function s(e,t){return e.enabled&&((0,Z.ys)(e)||(0,Z.Gl)(e)||(0,Z.AI)(e)||t&&(0,Z.eU)(e))}const r=e&&s(e,!0),a=t.slice().filter((e=>s(e,!1)));return!(!r||n||a.length<2)}function $n(e,t,i){return!qn(e,t,i)&&!!e&&((0,Z.ys)(e)||(0,Z.Gl)(e))}function Zn(){const e=(0,ee.y)(Yn.Pe,!1),t=(0,J.K)(),i=re(),n=te(Kn.Sw),[s,a]=(0,r.useState)(e&&qn(t,i,n));return(0,r.useEffect)((()=>(a(e&&qn(t,i,n)),()=>{})),[e,t,i,n]),s}function Qn(){const e=(0,ee.y)(Yn.Pe,!1),t=(0,J.K)(),i=re(),n=te(Kn.Sw),[s,a]=(0,r.useState)(e&&$n(t,i,n));return(0,r.useEffect)((()=>(a(e&&$n(t,i,n)),()=>{})),[e,t,i,n]),s}function Xn(){const e=(0,ee.y)(Yn.Wp,!1),t=(0,ne._)(),[i,n]=(0,r.useState)(e&&(null==t?void 0:t.getCurrentUserLayers())||[]);return(0,r.useEffect)((()=>{if(!t)return()=>{};function i(){n(e&&(null==t?void 0:t.getCurrentUserLayers())||[])}const s=t.onCurrentLayersChanged(i);return i(),()=>s.cancel()}),[t,e]),i}var Jn=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let es=class extends r.Component{constructor(){super(...arguments),this.handleTitleClick=async e=>{e.stopPropagation();const{commandBinder:t,analytics:i}=this.context;await t.issueCommand(new h.tT(P.w1.SUMMARY,!0)),t.issueCommand(new h.Fg(!1)),i.trackGuiEvent("click_model_title",{interactionSource:"gui"})}}getFilteredValue(e,t,i,n){return!this.context.settings.tryGetProperty(t,i)||n&&!this.props.brandingEnabled?"":e}render(){const{locale:e}=this.context,{className:t,modelDetails:i}=this.props,{name:n,presentedBy:s}=i,r=this.getFilteredValue(n,ce.gx.DetailsModelName,!0,!1),a=this.getFilteredValue(s,ce.gx.PresentedBy,!1,!0),o=a?`${e.t(g.Z.PRESENTED_BY)}${a}`:"",l=`${r} ${o}`;return(0,c.jsx)("div",Object.assign({id:"model-title",onClick:this.handleTitleClick},{children:(0,c.jsx)(w.zx,Object.assign({id:"gui-name",variant:w.Wu.TERTIARY,onClick:this.handleTitleClick,className:m()(t,{"co-branded":!!o}),label:r,ariaLabel:l,theme:"dark",icon:"location",appendChildren:!1},{children:!!o&&(0,c.jsx)("div",Object.assign({className:"co-brand"},{children:(0,c.jsx)("span",Object.assign({className:"title",id:"cobrandTitle"},{children:o}))}))}))}))}};es.contextType=f.I,es=Jn([zt.Z],es);const ts=es;var is=i(57682);var ns=i(44303);const{LAYERS:ss}=g.Z.WORKSHOP;function rs(e,t,i){let n;try{n=i?null==e?void 0:e.getView(i):null}catch(e){}let s=null==n?void 0:n.name;if(!s)switch(null==n?void 0:n.viewType){case ns.XZ.INSIGHTS:s=t.t(ss.DEFAULT_INSIGHTS_VIEW_NAME);break;case ns.XZ.TRUEPLAN:s=t.t(ss.DEFAULT_TRUEPLAN_VIEW_NAME);break;case ns.XZ.DEFURNISH:s=t.t(ss.DEFAULT_DEFURNISH_VIEW_NAME);break;default:s=t.t(ss.DEFAULT_VIEW_NAME)}return(0,v.aS)(s,Kn.ty)}function as(e){const t=(0,ne._)(),i=(0,_.b)(),[n,s]=(0,r.useState)(rs(t,i,e));return(0,r.useEffect)((()=>{if(!t)return()=>{};function n(){s(rs(t,i,e))}const r=t.onModelViewsChanged(n);return n(),()=>r.cancel()}),[t,e,i]),n}function os({id:e,name:t,visible:i}){const{analytics:n,commandBinder:s}=(0,r.useContext)(f.I);return(0,c.jsx)(w.XZ,{className:"data-layer-menu-item",id:`layer-toggle-${e}`,label:t||"Untitled Layer",defaultChecked:i,onChange:t=>{const i=t.target;if(!i)return;const r=i.checked;s.issueCommand(new Q.MV(e,r)),n.trackToolGuiEvent("layers","layers_toggle_layer")},onClick:e=>{e.stopPropagation()}})}const{SHOWCASE:ls}=g.Z;function cs(){const e=function(){const e=Wi(),[t,i]=(0,r.useState)((null==e?void 0:e.model.details.name)||"");return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onChanged((e=>{i(e.model.details.name)}));return i(e.model.details.name),()=>t.cancel()}),[e]),t}(),t=(0,J.K)(),i=as(null==t?void 0:t.id),n=Xn(),s=re({includeDefurnish:de("viewer")}),a=Zn(),o=Qn(),{analytics:l,commandBinder:d}=(0,r.useContext)(f.I),u=(0,_.b)(),[h,p]=(0,r.useState)(!1),g=function(){const{mainDiv:e}=(0,r.useContext)(f.I);return e.getRootNode()instanceof ShadowRoot}(),v=async()=>{l.trackToolGuiEvent("layers","layers_view_goto_start_location"),await d.issueCommand(new is.Q)},y=e=>{p(e)};if((0,r.useEffect)((()=>{if(!t||g)return;const{name:i}=t;let n;return n=(0,Z.ys)(t)||(0,Z.Gl)(t)?`${e}: ${i}`:e,document.title=n,()=>{}}),[e,t,g]),!t)return null;const E=n.map((e=>{const{id:t,name:i,toggled:n}=e;return(0,c.jsx)(os,{id:t,name:i,visible:n},t)})),b=u.t(ls.VIEWS.VIEW_SELECTOR_START_LOCATION_TOOLTIP),S=[];return s.forEach((e=>{const{id:i}=e,n=i===t.id,s=n&&E.length>0?E:void 0,r=s?"parent-menu-item":void 0;S.push((0,c.jsx)(ds,{view:e,active:n,className:r},i)),s&&S.push(...s)})),a&&s.length>1?(0,c.jsxs)("div",Object.assign({className:m()("views-layers-toggles","model-view-selector",{open:h})},{children:[(0,c.jsx)(w.zx,{className:"start-location-btn",icon:"start-location",variant:w.Wu.PRIMARY,size:w.qE.SMALL,onClick:v,tooltip:b}),(0,c.jsx)(w.xz,Object.assign({ariaLabel:i,menuClassName:"views-layers-menu",variant:w.Wu.PRIMARY,size:w.qE.SMALL,label:i,onMenuToggled:y,caret:!0},{children:S}))]})):E.length>0?(0,c.jsx)("div",Object.assign({className:m()("views-layers-toggles",{open:h})},{children:(0,c.jsx)(w.xz,Object.assign({ariaLabel:u.t(ls.LAYERS.TOGGLE_LAYERS),menuClassName:m()("views-layers-menu","data-layers-only-menu"),variant:w.Wu.PRIMARY,size:w.qE.SMALL,label:i,onMenuToggled:y,caret:!0},{children:E}))})):o?(0,c.jsx)("div",Object.assign({className:"model-view-display"},{children:i})):null}function ds({view:e,active:t,className:i}){const{analytics:n,commandBinder:s}=(0,r.useContext)(f.I),{id:a}=e,o=as(a);return(0,c.jsx)(w.zx,{className:m()("view-name",i),label:o,size:w.qE.SMALL,onClick:async()=>{n.trackToolGuiEvent("layers","layers_view_switch"),await s.issueCommand(new X.D(!1)),await s.issueCommand(new Q.wG(a)),await s.issueCommand(new X.D(!0))},active:t,variant:w.Wu.TERTIARY},a)}function us({toolName:e,showing:t=!0,attached:i=!1}){const{commandBinder:n,analytics:s}=(0,r.useContext)(f.I),a=(0,_.b)(),o=(0,jn.Q)(e),l=(0,I.B)();if(!o)return null;const{id:d,namePhraseKey:u,icon:p,analytic:g}=o,v=l===o.id,y=a.t(u),E=p.replace("icon-",""),b=i?"dark":"overlay";return(0,c.jsx)(Ye.N,Object.assign({open:t,className:m()("top-tool-button",{"faded-out":!t})},{children:(0,c.jsx)(w.zx,{onClick:()=>{n.issueCommand(new h.tT(d,!v)),s.trackToolGuiEvent(g,`click_${g}_button`,{interactionSource:"gui"})},tooltip:y,tooltipOptions:{placement:"bottom"},icon:E,theme:b,variant:w.Wu.FAB,active:v})}))}var hs=i(41865),ps=i(15478),ms=i(85453);const fs=i.p+"images/matterport-app-icon.svg",{SUBSCRIBER_PROMPT:gs}=g.Z.SHOWCASE,vs=e=>{e.preventDefault()},ys=()=>{const e=(0,hs.z)(),t=(0,_.b)(),{popupDelay:i}=Gn(),[n,s]=(0,r.useState)(0),[a,o]=(0,r.useState)(!1),[l,d]=(0,r.useState)(!0),[u,h]=(0,_e._)(Bn.pr,!1);(0,Ie.U)(ms.i,(e=>{if(a)return;const t=e.durationDollhouse+e.durationFloorplan+e.durationInside,r=n+t;ps.L.debug(`Check Visibility: ${r}/${i}ms, User has dismissed popup: ${u.toString()}`),r>=i&&!u&&o(!0),s(r)}));const p=(0,r.useCallback)((()=>{h(!0)}),[h]),m=(0,r.useCallback)((t=>{t.stopPropagation(),e.trackGuiEvent("subscriber_prompt_a_popup_dismissed"),p()}),[p,e]),f=(0,r.useCallback)((t=>{e.trackGuiEvent("subscriber_prompt_a_popup_cta_click"),window.open(Bn.Tm,"_blank"),p()}),[p,e]);return(0,r.useEffect)((()=>(a&&l&&(e.trackGuiEvent("subscriber_prompt_a_popup_viewed"),d(!1)),()=>{})),[e,a,l]),a?(0,c.jsxs)("div",Object.assign({className:"subscriber-prompt-popup",onClick:f},{children:[(0,c.jsx)("img",{className:"matterport-app-icon",alt:"Matterport App Icon",src:fs,width:"48",height:"48"}),(0,c.jsxs)("div",Object.assign({className:"subscriber-prompt-body"},{children:[(0,c.jsx)("div",Object.assign({className:"h5 subscriber-prompt-heading"},{children:t.t(gs.POPUP_CTA_HEADING)})),(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",onClick:vs,href:Bn.Tm},{children:t.t(gs.POPUP_CTA_LINK_TEXT)}))]})),(0,c.jsx)(w.zx,{icon:"close",onClick:m})]})):null};var Es=i(46261);function bs(e){const{engine:t}=(0,r.useContext)(f.I),[i,n]=(0,r.useState)(t.tryGetModuleBySymbolSync(e));return(0,r.useEffect)((()=>{let i=!1;return t.getModuleBySymbol(e).then((e=>{i||n(e)})),()=>{i=!0}}),[e,t]),i}var Ss=i(2157),Os=i(83847),Ts=i(3626),_s=i(68184);const Ns=(0,H.u)(_s.e);function ws(){const e=(0,Os.q)(),t=(0,ee.y)(Ts.hW,!1),i=Ns();return e.length>0&&t&&!!i}const As=e=>{var t,i,n;return{roomDimensionsVisible:null===(t=null==e?void 0:e.roomDimensionsVisible)||void 0===t||t,roomNamesVisible:null===(i=null==e?void 0:e.roomNamesVisible)||void 0===i||i,roomWallsVisible:null===(n=null==e?void 0:e.roomWallsVisible)||void 0===n||n}};var Is=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};function ks(e){var{onToggle:t,className:i,label:n}=e,s=Is(e,["onToggle","className","label"]);return(0,c.jsxs)("div",Object.assign({className:m()("settings-toggle",i)},{children:[(0,c.jsx)("div",Object.assign({className:"settings-label"},{children:n})),(0,c.jsx)(Pt,Object.assign({},s,{onToggle:()=>{t(!s.toggled)}}))]}))}function Ps({children:e,className:t}){const i=(0,r.useCallback)((e=>{e.stopPropagation()}),[]);return(0,c.jsx)("div",Object.assign({className:m()("settings-container settings-box",t),onClick:i},{children:e}))}var Ls=i(4763);const{ROOMS:Ds}=g.Z.SHOWCASE,Rs=new Me.f(!0);function Ms(){const e=(0,_.b)(),t=e.t(Ds.ROOM_BOUNDS_TOGGLES_TITLE),{analytics:i,commandBinder:n}=(0,r.useContext)(f.I),s=ws(),a=Ns(),o=bs(Ls.Ve),l=function(){var e;const t=bs(Ls.Ve);return(0,Re.y)(null!==(e=null==t?void 0:t.meshGroupVisuals.allFloorsVisibleInOrtho)&&void 0!==e?e:Rs)}(),{roomNamesVisible:d,roomDimensionsVisible:u,roomWallsVisible:p}=(()=>{const e=Ns(),[t,i]=(0,r.useState)(As(e));return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=()=>i(As(e)),n=e.onChanged(t);return t(),()=>{n.cancel()}}),[e]),t})(),m=(0,I.B)();if((0,r.useEffect)((()=>{const e=d||u||p;n.issueCommand(new Ss.Os(e))}),[d,u,p,n]),!s||!a||!o)return null;const g=m&&m===P.w1.MEASUREMENTS,v=e.t(Ds.ROOM_BOUNDS_WALL_TOGGLE_LABEL),y=e.t(Ds.ROOM_BOUNDS_ROOM_TOGGLE_LABEL),E=e.t(Ds.ROOM_BOUNDS_DIMENSION_TOGGLE_LABEL),b=e.t(Ds.ROOM_BOUNDS_MODEL_TOGGLE_LABEL),S=l;return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"floorplan-overlay-title"},{children:t})),(0,c.jsxs)(Ps,Object.assign({className:"floorplan-overlay-tooltip"},{children:[(0,c.jsx)(ks,{onToggle:()=>{a.setRoomWallsVisible(!p),i.trackToolGuiEvent("rooms","room_walls_showcase_toggle_"+(p?"off":"on"))},toggled:p,label:v,enabled:S}),(0,c.jsx)(ks,{onToggle:()=>{a.setRoomNamesVisible(!d),i.trackToolGuiEvent("rooms","room_names_showcase_toggle_"+(d?"off":"on"))},toggled:d,label:y,enabled:!0}),(0,c.jsx)(ks,{onToggle:()=>{n.issueCommand(new h.tT(P.w1.MEASUREMENTS,!g)),i.trackToolGuiEvent("rooms","room_dimensions_showcase_toggle_"+(u?"off":"on"))},toggled:u,label:E,enabled:!0}),(0,c.jsx)(ks,{onToggle:()=>{const e=!l;o.meshGroupVisuals.allFloorsVisibleInOrtho.value=e,e||a.setRoomWallsVisible(!0),i.trackToolGuiEvent("rooms","room_imagery_showcase_toggle_"+(l?"off":"on"))},toggled:l,label:b,enabled:!0})]}))]})}const{ROOMS:Cs}=g.Z.SHOWCASE;function xs(e){const t=(0,_.b)(),{additionalPanel:i}=e,n=(0,Ln.W)()===u.nh.PLAYING,s=function(){const e=(0,G.s)(),[t,i]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=()=>{i(0===e.insideModeTransitionProgress())},n=e.onChanged(t);return t(),()=>n.cancel()}),[e]),t}(),a=ws()&&s&&n;if(!i&&!a)return null;const o=i?20:20.01,l=t.t(Cs.SETTINGS);return(0,c.jsxs)(Es.P,Object.assign({icon:"settings",tooltip:l,theme:"overlay",variant:w.Wu.FAB,tooltipPlacement:"bottom",analytic:"showcase_settings_click",className:"showcase-settings",preventOverflow:{padding:o}},{children:[(0,c.jsx)(Ms,{}),i]}))}function Fs(e){const{brandingEnabled:t,modelDetails:i,tourPlaying:n,toolElements:s,toolSettings:a}=e,o=(0,Pn.O)(),l=(0,I.B)(),d=(0,Hi.R)(),u=Nn(),h=function(){const e=(0,jn.Q)(P.w1.SEARCH),t=Hn();return!!t&&(0,Vn.J)(t)&&!!e}(),p=function(){const e=(0,Tt.I)(),[t,i]=(0,r.useState)(!!e&&e.showFloorSelection);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onShowFloorSelectionChanged(i);return i(e.showFloorSelection),()=>t.cancel()}),[e]),t}(),f=function(){const e=Zn(),t=Qn(),[i,n]=(0,r.useState)(e||t);return(0,r.useEffect)((()=>(n(e||t),()=>{})),[e,t]),i}(),g=function(){const e=Xn(),[t,i]=(0,r.useState)(e.length>0);return(0,r.useEffect)((()=>(i(e.length>0),()=>{})),[e.length]),t}(),v=f||g,y=function(){const e=(0,ee.y)(Bi.Zz,!0),t=(0,ee.y)(ce.gx.DetailsModelName,!0);return e&&t}()&&i,E=!!y&&!p&&(!v||o.width>xn.Eb),b=(()=>{const e=zn(),t=Gn(),i=(0,_e.Fx)(Bn.pr);return t.popupEnabled&&e&&!i})(),S=(0,Fn.E)(),O=(0,k.T)();if(!S&&O===P.wS.BOTTOM_PANEL)return null;if(!(h||y||p||v))return null;const T=n||u,_=l||d||T,N=!E||T||l,w=!!i,A=!w||T;return(0,c.jsxs)(c.Fragment,{children:[b&&!l&&(0,c.jsx)(ys,{}),(0,c.jsxs)("div",Object.assign({className:"top-ui"},{children:[h&&(0,c.jsx)(Ye.N,Object.assign({open:!_,className:m()("top-ui-button",{"faded-out":_})},{children:(0,c.jsx)(us,{toolName:P.w1.SEARCH})})),(0,c.jsxs)("div",Object.assign({className:"child-container"},{children:[(0,c.jsx)(Ye.N,Object.assign({open:p&&!T,className:m()("floor-name-container",{collapsed:!p||_})},{children:(0,c.jsxs)("div",{children:[(0,c.jsx)(Cn,{}),h&&(0,c.jsx)("div",{className:"search-button-spacer"})]})})),y&&(0,c.jsx)(Ye.N,Object.assign({open:E&&!T&&!l,className:m()("title-bar-container",{collapsed:N})},{children:(0,c.jsx)(ts,{modelDetails:i,brandingEnabled:!!t})})),v&&(0,c.jsx)(Ye.N,Object.assign({open:v&&!_,className:m()("model-view-container",{collapsed:!v||_})},{children:(0,c.jsx)(cs,{})}))]})),(0,c.jsxs)(Ye.N,Object.assign({open:w,className:m()("top-ui-tool-container",{collapsed:A})},{children:[(0,c.jsx)(xs,{additionalPanel:a}),s]}))]}))]})}var Us=i(15811),Hs=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},js=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Vs=class extends r.Component{constructor(e){super(e)}render(){const{showing:e}=this.props;return(0,c.jsx)(Ye.N,Object.assign({open:e,className:m()("load-indicator",{"fade-in":e,"fade-out":!e})},{children:(0,c.jsx)("div",Object.assign({className:"center-container"},{children:(0,c.jsx)(Us.$,{progress:33,barWidth:4,progressColor:"#ffffff"})}))}))}};Vs=Hs([zt.Z,js("design:paramtypes",[Object])],Vs);const Bs=Vs;class Gs extends r.Component{constructor(e){super(e),this.bindings=[],this.onLoadSpinnerMessage=e=>{this.state.loadSpinnerOn!==e.isOpen&&this.setState({loadSpinnerOn:e.isOpen})},this.onLoadSpinnerSuppressMessage=e=>{this.state.loadSpinnerSuppress!==e.suppress&&this.setState({loadSpinnerSuppress:e.suppress})},this.state={loadSpinnerOn:!1,loadSpinnerSuppress:!1}}componentDidMount(){this.bindings.push(this.context.messageBus.subscribe(nn.Z_,this.onLoadSpinnerMessage),this.context.messageBus.subscribe(nn.bN,this.onLoadSpinnerSuppressMessage),this.context.messageBus.subscribe(Ke.oR,(()=>this.setState({loadSpinnerSuppress:!0}))),this.context.messageBus.subscribe(Ke.NR,(()=>this.setState({loadSpinnerSuppress:!1}))))}componentWillUnmount(){this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}render(){const{loadSpinnerOn:e,loadSpinnerSuppress:t}=this.state,i=e&&!t;return(0,c.jsx)("div",Object.assign({className:"overlay-ui"},{children:(0,c.jsx)(Bs,{showing:i})}))}}function Ws(e){const t=Ze(),{activeStep:i,currentStep:n,highlights:s}=e,r=s[n],a=i!==n,o=((null==r?void 0:r.title)||(null==r?void 0:r.description))&&t&&!a;return(0,c.jsx)("div",Object.assign({className:"overlay-layer"},{children:(0,c.jsx)("div",{className:m()("tour-story-scrim",{active:o})})}))}Gs.contextType=f.I;const zs={mouse:{click_old:i(24267),click:i(41840),clickInside:i(16554),dragLeft:i(9328),dragRight:i(62002),ctrlClick:i(77645),dragRightHoriz:i(91133),dragRightVert:i(48161),play:i(8590),positionLeft_old:i(80208),positionLeft:i(78391),positionRight:i(75974),zoom_old:i(5512),zoom:i(91843)},gesture:{drag_old:i(37161),drag:i(37159),dragTwoFinger:i(61406),dragTwoFingerVert:i(44582),pinch_old:i(33948),pinch:i(96555),dragTwoFingerRotate:i(55553),position:i(79264),positionTwoFinger:i(88446),tap_old:i(44625),tap:i(70638),tapInside:i(92842),play:i(31603)},keyboard:{all:i(92116),inside:i(71964),leftRight:i(90047),spaceBar:i(130),upDown:i(41922),zoom:i(44889)},moreHelp:{view360:i(61163),mattertag:i(68026)}};var Ks=i(55981),Ys=i(47545);const qs={rotate:{desktop:{icon:[zs.mouse.ctrlClick,zs.mouse.dragRight],phrase:g.Z.SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.DESKTOP},touch:{icon:[zs.gesture.dragTwoFingerRotate],phrase:g.Z.SHOWCASE.HELP.TOUCH_DOLLHOUSE_ROTATE}},inside:{desktop:{icon:[zs.mouse.clickInside],phrase:g.Z.SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.DESKTOP},touch:{icon:[zs.gesture.tapInside],phrase:g.Z.SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.TOUCH}}},$s=()=>{const{messageBus:e}=(0,r.useContext)(f.I),t=(0,ee.y)(me.eC,!1),i=(0,_.b)(),n=(0,M.Jm)(),[s,a]=(0,_e._)("peekaboo_dh_prompt_dismissed",0),[o,l]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(qs.rotate),v=W(),y=(0,Ys.x)(),E=i.t(g.Z.SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.OR),b=t&&v===z.Ey.Dollhouse&&!y&&!o&&s<3;(0,r.useEffect)((()=>{let e;return b&&(p(qs.rotate),e=setTimeout((()=>{u(!0)}),1e4)),()=>{e&&clearTimeout(e)}}),[b]),(0,r.useEffect)((()=>{const t=b&&h===qs.rotate?e.subscribe(Ks.O,(()=>{p(qs.inside)})):null;return()=>{null==t||t.cancel()}}),[b,e,h]);const S=(0,r.useCallback)((()=>{a(s+1),l(!0),u(!1)}),[s,a]);(0,r.useEffect)((()=>{!b&&d&&S()}),[b,d,S]);const{icon:O,phrase:T}=h[n?"touch":"desktop"],N=O.length>0&&O[0],w=O.length>1&&O[1],A=(0,c.jsx)("svg",Object.assign({width:"2",height:"16",viewBox:"0 0 2 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,c.jsx)("path",{d:"M1 0L1 16",stroke:"white"})}));return(0,c.jsxs)(Ye.N,Object.assign({open:d,className:m()("peekaboo-dh-prompt",!d&&"unloading")},{children:[N&&(0,c.jsx)("img",{src:O[0],alt:"",height:n?26:50}),w&&(0,c.jsxs)("div",Object.assign({className:"separator"},{children:[A,(0,c.jsx)("span",{children:E}),A]})),w&&(0,c.jsx)("img",{src:O[1],alt:"",height:n?26:50}),(0,c.jsx)("span",Object.assign({className:"text"},{children:i.t(T)})),(0,c.jsx)(en.P,{theme:"dark",onClose:S,tooltip:""})]}))};function Zs(){const e=Wi(),[t,i]=(0,r.useState)((null==e?void 0:e.model.details)||null);return(0,r.useEffect)((()=>{if(!e)return()=>{};function t(){e&&i(e.model.details)}const n=e.onChanged(t);return t(),()=>n.cancel()}),[e]),t}var Qs=i(88294),Xs=i(15162),Js=i(65703),er=i(84171),tr=i(86743);class ir extends r.Component{constructor(e){super(e),this.horizontal=(0,$t.Sv)(),this.vertical=(0,$t.Sv)(),this.prevSuppressDrag=!1,this.manuallyMoved=!1,this.isUnmounting=!1,this.scrollPosition={horizontal:$t.Ij.Beginning,vertical:$t.Ij.End},this.handleEvent=e=>{this.inputFilter.handleEvent(e)},this.getScrollableContainer=()=>this.innerWrapper,this.getScrolledOffset=e=>{const t=$t.uG[e].scrollOffset;return this.innerWrapper[t]/this.state[e].childLength},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.state={horizontal:(0,$t.cL)(),vertical:(0,$t.cL)()},this.scrollTo=this.scrollTo.bind(this),this.handlePressStart=this.handlePressStart.bind(this),this.handlePressMove=this.handlePressMove.bind(this),this.handleDragEnd=this.handleDragEnd.bind(this),this.handleDragStart=this.handleDragStart.bind(this),this.handleWheelEvent=this.handleWheelEvent.bind(this),this.handleClick=this.handleClick.bind(this),this.toggleVisibility=this.toggleVisibility.bind(this),this.hasManuallyMoved=this.hasManuallyMoved.bind(this),this.prevSuppressDrag=!!e.suppressDrag,this.inputFilter=new er.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd,handleClick:this.handleClick});const t=this.handleEvent;window.PointerEvent||(window.addEventListener("mousemove",t),window.addEventListener("mouseleave",t),window.addEventListener("mouseup",t)),window.addEventListener("pointermove",t),window.addEventListener("pointerup",t),window.addEventListener("touchmove",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t)}componentDidMount(){if(this.resizeObserver=new Ni.Z((()=>this.handleResize())),this.resizeObserver.observe(this.outerWrapper),this.innerWrapper.addEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly)this.innerWrapper.addEventListener("click",this.handleClick);else{const e=this.handleEvent;this.innerWrapper.addEventListener("mousedown",e),this.innerWrapper.addEventListener("pointerdown",e),this.innerWrapper.addEventListener("touchstart",e)}this.firstChild=this.innerWrapper.firstElementChild,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(),this.props.hasOwnProperty("suppressDrag")&&this.inputFilter.setEnabled(!!this.props.suppressDrag)}componentWillUnmount(){var e;this.isUnmounting=!0;const t=this.handleEvent;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),window.PointerEvent||(window.removeEventListener("mousemove",t),window.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",t)),window.removeEventListener("pointermove",t),window.removeEventListener("touchmove",t),window.removeEventListener("pointerup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),this.innerWrapper.removeEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly?this.innerWrapper.removeEventListener("click",this.handleClick):(this.innerWrapper.removeEventListener("mousedown",t),this.innerWrapper.removeEventListener("pointerdown",t),this.innerWrapper.removeEventListener("touchstart",t))}componentDidUpdate(){if(this.props.waitToUpdate||this.handleExternalChange(),this.prevSuppressDrag!==this.props.suppressDrag&&(this.inputFilter.setEnabled(!!this.props.suppressDrag),this.props.suppressDrag&&(this.manuallyMoved=!1),this.prevSuppressDrag=!!this.props.suppressDrag),!this.horizontal.animation&&!this.vertical.animation)return;const e={};for(const t in this.state){const i=t;this[i].animation&&(this[i].animation.isAnimating?e[(0,$t.O1)(i)]=this[i].animation.getUpdatedValue():this[i].animation=null)}Object.keys(e).length>0&&window.requestAnimationFrame((()=>{this.innerWrapper&&this.scrollTo(e)}))}scrollTo(e){if(!e.hasOwnProperty($t.RD.x)&&!e.hasOwnProperty($t.RD.y))return;const t={};for(const i of this.getVisibleAxes(e)){const n=(0,$t.UC)(i),s=$t.uG[n].scrollOffset,r=e[i];if(void 0!==r){if(isNaN(r))return;this.innerWrapper[s]=Math.max(Math.min(1,r)*this.state[n].childLength,0),t[n]=Object.assign(Object.assign({},this.state[n]),{scrollOffset:this.innerWrapper[s]})}}this.setState(t)}animatedScrollTo(e,t){if(e.hasOwnProperty($t.RD.x)||e.hasOwnProperty($t.RD.y))for(const i of this.getVisibleAxes(e)){const n=(0,$t.UC)(i),s=$t.uG[n].scrollOffset;this[n].animation=new Js.Z({duration:t||$t.UI,startValue:this.innerWrapper[s]/this.state[n].childLength,endValue:Math.max(0,Math.min(1,e[i]))})}}setScrollCenter(e){if(!(e&&e.compareDocumentPosition(this.innerWrapper)&Node.DOCUMENT_POSITION_CONTAINS))return;this.scrollCenter=e;const t={},i={};for(const n of this.getVisibleAxes(this.state)){const s=(0,$t.O1)(n);t[s]=e[$t.uG[n].positionOffset]+e[$t.uG[n].offsetLength]/2;let r=e;for(;r.parentElement&&r!==this.innerWrapper;)r=r.parentElement,t[s]+=r[$t.uG[n].positionOffset];const a=this.outerWrapper.parentElement[$t.uG[n].offsetLength];i[s]=(t[s]-a/2)/this.state[n].childLength}Object.keys(i).length>0&&this.animatedScrollTo(i)}getVisibleAxes(e){const t=[];for(const i in e)(e[i]||"number"==typeof e[i])&&(i in $t.RD&&this.state[(0,$t.UC)(i)].isVisible||i in $t.Nm&&this.state[i].isVisible)&&t.push(i);return t}handleDragStart(){delete this.scrollCenter,this.hasManuallyMoved()}handlePressStart(){this.horizontal.dragStartScroll=this.innerWrapper.scrollLeft,this.vertical.dragStartScroll=this.innerWrapper.scrollTop}handlePressMove(e){const t={};for(const i of this.getVisibleAxes(e)){const n=(0,$t.UC)(i);t[i]=(e[i]+this[n].dragStartScroll)/this.state[n].childLength}this.scrollTo(t)}handleWheelEvent(e){this.props.singleScrollDirection===$t.Nm.horizontal&&0===e.deltaX&&0!==e.deltaY?(this.handlePressStart(),this.handlePressMove({x:e.deltaY,y:0})):(this.hasManuallyMoved(),this.handleExternalChange())}handleClick(e){this.props.handleClick&&this.props.handleClick(e)}toggleVisibility(e){return t=>{const i=Object.assign(Object.assign({},this.state[e]),{isVisible:t});if((0,Xs.g)(this.state[e],i)){const t={};t[e]=i,this.setState(t),this.props.onScrollbarVisibilityChange&&this.props.onScrollbarVisibilityChange()}}}toggleScrollPosition(e){return t=>{this.scrollPosition[e]=t,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(t)}}handleDragEnd(e,t){for(const i of this.getVisibleAxes(e)){const n=(0,$t.UC)(i),s=e[i]/t,r=Math.min($t.UI,Math.abs($t.UI*s)),a=this.innerWrapper[$t.uG[n].scrollOffset],o=s*r/2;this[n].animation=new Js.Z({duration:r,startValue:a/this.state[n].childLength,endValue:Math.max(0,Math.min((a+o)/this.state[n].childLength,1)),easingFunction:tr.hl})}this.setState({})}handleResize(){this.isUnmounting||(this.scrollCenter&&this.setScrollCenter(this.scrollCenter),this.handleExternalChange())}handleExternalChange(){if(this.isUnmounting)return;const e={};for(const t in this.state){const i=t,n=$t.uG[i].clientLength,s=Object.assign(Object.assign({},this.state[i]),{wrapperLength:Number(this.innerWrapper&&this.innerWrapper[n])||1,childLength:Number(this.firstChild&&this.firstChild[n])||1,scrollOffset:this.innerWrapper&&this.innerWrapper[$t.uG[i].scrollOffset]});(0,Xs.g)(this.state[i],s)&&(e[i]=s)}Object.keys(e).length>0&&this.debouncedSetState(e)}hasManuallyMoved(){this.manuallyMoved=!0,this.props.onScrolled&&this.props.onScrolled()}resetManuallyMoved(){this.manuallyMoved=!1}renderScrollbar(e,t){const{forceHidden:i}=this.props,{wrapperLength:n,childLength:s,scrollOffset:r}=t;return(0,c.jsx)(Qs.L,{direction:e,ref:e=>{this.horizontal.scrollbar=e},wrapperLength:n,childLength:s,scrollOffset:r,scrollTo:this.scrollTo,onVisibilityChange:this.toggleVisibility(e),onScrollPositionChange:this.toggleScrollPosition(e),forceHidden:i,onThumbDrag:this.hasManuallyMoved})}render(){const{scrollbarHeight:e,singleScrollDirection:t,name:i,children:n}=this.props,s={maxHeight:e||""},r=t||`${$t.Nm.vertical} ${$t.Nm.horizontal}`;return(0,c.jsxs)("div",Object.assign({className:m()("outerScrollbarWrapper",r,`scrollbar-${i}`),ref:e=>{this.outerWrapper=e},style:s},{children:[(0,c.jsx)("div",Object.assign({className:"innerScrollbarWrapper",ref:e=>{this.innerWrapper=e}},{children:(0,c.jsx)("div",Object.assign({className:"paddingScrollbarWrapper"},{children:n}))})),t!==$t.Nm.vertical&&this.renderScrollbar($t.Nm.horizontal,this.state.horizontal),t!==$t.Nm.horizontal&&this.renderScrollbar($t.Nm.vertical,this.state.vertical)]}))}}var nr=i(33477),sr=i(99657);const rr={"en-US":"./terms/terms-en-US.html",es:"./terms/terms-es-MX.html",fr:"./terms/terms-fr-FR.html",de:"./terms/terms-de-DE.html",ru:"./terms/terms-ru-RU.html",ja:"./terms/terms-ja-JP.html","zh-CN":"./terms/terms-zh-CN.html","zh-TW":"./terms/terms-zh-TW.html",ko:"./terms/terms-ko-KR.html",nl:"./terms/terms-nl-NL.html",it:"./terms/terms-it-IT.html",pt:"./terms/terms-pt-BR.html"};class ar extends r.Component{constructor(e,t){super(e,t),this.isUnmounting=!1,this.onScrollPositionChange=()=>{this.scrollbars&&this.setState({scrollClass:this.scrollbars.scrollPosition.vertical})},this.onClose=()=>{this.context.commandBinder.issueCommand(new Ht.B(Ut.P.TERMS,!1))},this.state={termsText:"",hideScrollbar:(0,Yt.w)(Qt(t)),scrollClass:$t.Ij.None}}async componentDidMount(){const e=function(e){if((0,sr.y)(e)&&e in rr)return rr[e]}(this.context.locale?this.context.locale.languageCode:nr.k$);let t="";if(e)try{t=await this.context.queue.get(e)}catch(e){t=this.context.locale.t(g.Z.TERMS_FAIL)}else t=this.context.locale.t(g.Z.TERMS_FAIL);this.context.market.waitForData(Zt.V).then((e=>{this.isUnmounting||(this.resizeSubscription=e.onPropertyChanged("size",(e=>{this.setState({hideScrollbar:(0,Yt.w)(e)})})))})),window.requestAnimationFrame((()=>{this.isUnmounting||this.setState({termsText:t})}))}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.resizeSubscription)||void 0===e||e.cancel()}componentDidUpdate(e,t){this.state.termsText!==t.termsText&&(this.termsTextDiv.innerHTML=this.state.termsText,[].slice.call(this.termsTextDiv.querySelectorAll("a")).forEach((e=>{e.setAttribute("target","_blank"),e.classList.add("link")})))}render(){const{hideScrollbar:e,scrollClass:t}=this.state;return(0,c.jsxs)(w.Vq,Object.assign({className:m()("terms-modal","full-modal",t),theme:"dark",onClose:this.onClose},{children:[(0,c.jsx)(en.P,{theme:"dark",onClose:this.onClose}),(0,c.jsx)("div",Object.assign({id:"terms-wrapper"},{children:(0,c.jsx)(ir,Object.assign({name:"terms",ref:e=>this.scrollbars=e,onScrollPositionChange:this.onScrollPositionChange,forceHidden:e},{children:(0,c.jsx)("div",{ref:e=>this.termsTextDiv=e,id:"terms-text"})}))}))]}))}}ar.contextType=f.I;var or,lr=i(90449),cr=i(45796);!function(e){e.MAIL="mail",e.META="meta",e.PINTEREST="pinterest",e.LINKEDIN="linkedin",e.TWITTER="twitter",e.FACEBOOK="facebook",e.COPYLINK="copylink",e.NATIVE="native"}(or||(or={}));const{FACEBOOK:dr,TWITTER:ur,MAIL:hr,META:pr,PINTEREST:mr,LINKEDIN:fr,COPYLINK:gr,NATIVE:vr}=or,yr={[hr]:"em",[pr]:"mt",[mr]:"pn",[fr]:"ln",[ur]:"tw",[dr]:"fb",[gr]:"cp",[vr]:"os"},Er={[dr]:{width:626,height:436},[ur]:{width:550,height:440},[mr]:{width:750,height:749},[fr]:{width:550,height:453},[gr]:{},[hr]:{},[pr]:{},[vr]:{}},br=async(e,t=!0)=>{let i;const n=await e.engine.getModuleBySymbol(cr.DeepLinksModuleKey),s=["ref","gclid","fbclid","cloudEdit","back","note","comment","apiHost","applicationKey","host","sdkKey","tag"],r=e=>!s.includes(e);return i=t?n.creator.createDeepLink({paramFilter:r}):n.creator.createLink({paramFilter:r}),i.searchParams.forEach(((e,t)=>{(s.includes(t)||0===t.indexOf("utm_"))&&i.searchParams.delete(t)})),decodeURIComponent(i.href)},Sr=e=>new URLSearchParams(e).toString(),Or=(e,t,i)=>{const n=e.replace("?",`?ref=${yr[dr]}&`);return`http://www.facebook.com/sharer.php?${Sr({display:"popup",u:n})}`},Tr=(e,t,i)=>{const n=e.replace("?",`?ref=${yr[ur]}&`),s={text:i.t(g.Z.SHARED_MESSAGE_HASHTAG,{title:t,url:n,hashtag:"#Matterport"})};return`http://twitter.com/intent/tweet?${Sr(s)}`},_r=(e,t,i)=>{const n=e.replace("?",`?ref=${yr[hr]}&`),s={subject:i.t(g.Z.SHARED_TITLE,{title:t}),body:i.t(g.Z.SHARED_MESSAGE,{title:t,url:n})};return`mailto:?${Sr(s)}`},Nr=e=>{const t=e.replace("?",`?ref=${yr[pr]}&qs=1&`);return`https://www.oculus.com/open_url/?${Sr({url:t})}`},wr=(e,t,i,n)=>{const s={url:e.replace("?",`?ref=${yr[mr]}&`),media:i,description:n.t(g.Z.SHARED_TITLE,{title:t})};return`http://pinterest.com/pin/create/link/?${Sr(s)}`},Ar=(e,t,i)=>{const n=e.replace("?",`?ref=${yr[fr]}&`);return`https://www.linkedin.com/shareArticle?${Sr({mini:"true",url:n})}`},Ir=(e,t,i,n)=>({[dr]:Or(e),[ur]:Tr(e,t,n),[hr]:_r(e,t,n),[mr]:wr(e,t,i,n),[fr]:Ar(e),[pr]:Nr(e),[gr]:e,[vr]:e});var kr=i(99010),Pr=i(84866),Lr=i(94187);const Dr=new T.Z("vr-select");class Rr extends r.Component{constructor(){super(...arguments),this.isUnmounting=!1,this.startWebXR=()=>{const{analytics:e,commandBinder:t}=this.context;t.issueCommand(new Lr.j({type:"immersive-vr",features:["local-floor"]})).then((t=>{if(t){e.trackGuiEvent("vr_enter_app");const i=()=>{e.trackGuiEvent("vr_exit_app"),t.removeEventListener("end",i)};t.addEventListener("end",i)}else Dr.error("requestPresent Failed"),e.trackGuiEvent("vr_present_error"),this.updatePlatformState()})).catch((t=>{Dr.error("requestPresent Failed:",t),e.trackGuiEvent("vr_present_error")}))}}async componentDidMount(){var e;kr.Z.apiExists()&&(null===(e=navigator.xr)||void 0===e||e.addEventListener("ondevicechange",this.updatePlatformState)),await this.updatePlatformState()}componentWillUnmount(){var e;this.isUnmounting=!0,kr.Z.apiExists()&&(null===(e=navigator.xr)||void 0===e||e.removeEventListener("ondevicechange",this.updatePlatformState))}async updatePlatformState(){const{settings:e}=this.context,t=e.tryGetProperty(Pr.tK,Pr.xK),i=await(0,lr.pl)(t);this.isUnmounting||(this.setState({vrPlatform:i}),Dr.debug(this.state))}}Rr.contextType=f.I;var Mr=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},Cr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const xr=new T.Z("vr-select");let Fr=class extends Rr{constructor(e){super(e),this.renderHeadsetHeader=()=>{const{locale:e}=this.context,{vrPlatform:t}=this.state;switch(t){case lr.bk.unsupported:case lr.bk.webxr:return(0,c.jsxs)("div",Object.assign({className:"headset-header dark"},{children:[(0,c.jsxs)("span",Object.assign({className:"headset-titles"},{children:[(0,c.jsx)("p",{children:e.t(g.Z.VR_RECOMMENDED)}),(0,c.jsx)("p",{children:e.t(g.Z.VR_QUEST)})]})),(0,c.jsx)("img",{className:"headset-quest",src:i(35783),height:200,width:342})]}));default:return null}},this.renderBodyText=()=>{const{locale:e}=this.context,{vrPlatform:t}=this.state;switch(t){case lr.bk.unsupported:case lr.bk.webxr:return(0,c.jsx)("div",{children:(0,c.jsx)("p",{children:e.t(g.Z.VR_SUPPORTS)})});default:return null}},this.getFooterButtons=()=>{const{locale:e}=this.context,{vrPlatform:t,metaLink:i}=this.state,n=[];n.push((0,c.jsx)(w.zx,{variant:w.Wu.SECONDARY,className:m()("button-inline","cancel"),onClick:this.onLearnMoreClicked,label:e.t(g.Z.VR_LEARN_MORE_CAPS),size:"small"},"learn-more"));return t===lr.bk.webxr?n.push((0,c.jsx)(w.zx,{variant:w.Wu.PRIMARY,onClick:this.onActionClicked,label:e.t(g.Z.VR_ENTER),size:"small"},"enter-vr")):n.push((0,c.jsx)(w.zx,{variant:w.Wu.PRIMARY,disabled:!i,onClick:this.onMetaDeepLinkClicked,label:e.t(g.Z.VR_META_LINK),size:"small"},"enter-vr")),(0,c.jsx)(w.hE,Object.assign({spacing:"small"},{children:n}))},this.closeModal=()=>{this.context.commandBinder.issueCommand(new Ht.B(Ut.P.VR_SELECT,!1))},this.onCloseClicked=()=>{this.context.analytics.trackGuiEvent("vr_modal_close"),this.closeModal()},this.onActionClicked=()=>{switch(this.state.vrPlatform){case lr.bk.webxr:this.startWebXR(),this.closeModal()}},this.onMetaDeepLinkClicked=()=>{this.state.metaLink&&(window.open(this.state.metaLink,"_blank"),this.context.analytics.trackGuiEvent("vr_meta_link"))},this.onLearnMoreClicked=()=>{window.open("https://support.matterport.com/hc/en-us/articles/360050098973-Exploring-Matterport-Spaces-in-VR-","_blank"),this.context.analytics.trackGuiEvent("vr_learn_more")},this.state={vrPlatform:null,metaLink:null}}async componentDidMount(){await super.componentDidMount(),this.updateUrls(),this.context.analytics.trackGuiEvent("click_vr_button")}render(){const{isMobile:e}=this.props,{locale:t}=this.context,i=m()("vr-modal","full-modal",{mobile:e,desktop:!e});return(0,c.jsxs)(w.Vq,Object.assign({className:i,onClose:this.onCloseClicked},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:t.t(g.Z.VR_VIEW_SPACE)})),(0,c.jsx)(en.P,{onClose:this.onCloseClicked})]})),this.renderHeadsetHeader(),(0,c.jsx)("div",Object.assign({className:"modal-body"},{children:this.renderBodyText()})),(0,c.jsx)("div",Object.assign({className:"modal-footer"},{children:this.getFooterButtons()}))]}))}async updateUrls(){const[e]=await Promise.all([br(this.context,!0)]),t=Ir(e,"","",this.context.locale);xr.debug("Social Share URLs, with current location",t),this.isUnmounting||this.setState({metaLink:t.meta})}};Fr=Mr([zt.Z,Cr("design:paramtypes",[Object])],Fr);const Ur=Fr;var Hr=i(23998);const jr=(0,H.u)(Hr.W);class Vr extends r.Component{render(){const{isMobile:e}=this.props,{locale:t}=this.context;return(0,c.jsx)("div",Object.assign({className:"cta"},{children:(0,c.jsx)("header",Object.assign({className:m()({mobile:e})},{children:t.t(e?g.Z.MOBILE_SHORT_CTA:g.Z.DESKTOP_SHORT_CTA)}))}))}}Vr.contextType=f.I;const{HELP:Br}=g.Z.SHOWCASE;class Gr extends r.Component{constructor(){super(...arguments),this.keys={header:g.Z.DESKTOP_SHORT_CTA,tourHeader:g.Z.CTA_TOUR_COMPLETE,tourSubhead:g.Z.CTA_EXPLORE_SPACE,restartTour:g.Z.CTA_RESTART_TOUR,share:g.Z.CTA_SHARE,move:g.Z.MOVE,inside:g.Z.INSIDE,rotate:g.Z.ROTATE,play:g.Z.PLAY,zoom:g.Z.ZOOM},this.clickInside={Icon:zs.mouse.clickInside,Label:this.keys.inside,FooterIcon:zs.keyboard.inside,Alt:Br.ALT_MOUSE_CLICKINSIDE,FooterAlt:Br.ALT_KEYBOARD_INSIDE},this.clickMove={Icon:zs.mouse.positionRight,Label:this.keys.move,FooterIcon:"",Alt:Br.ALT_MOUSE_POSITIONRIGHT},this.moveUpDown={Icon:zs.mouse.click_old,Label:this.keys.move,FooterIcon:zs.keyboard.upDown,Alt:Br.ALT_MOUSE_CLICK,FooterAlt:Br.ALT_KEYBOARD_UPDOWN},this.play={Icon:zs.mouse.play,Label:this.keys.play,FooterIcon:null,Alt:Br.ALT_MOUSE_PLAY},this.zoom={Icon:zs.mouse.zoom_old,Label:this.keys.zoom,FooterIcon:zs.keyboard.zoom,Alt:Br.ALT_MOUSE_ZOOM,FooterAlt:Br.ALT_KEYBOARD_ZOOM},this.dragMove={Icon:zs.mouse.positionLeft_old,Label:this.keys.move,FooterIcon:null,Alt:Br.ALT_MOUSE_POSITIONLEFT},this.dragRotateLeft={Icon:zs.mouse.dragLeft,Label:this.keys.rotate,FooterIcon:zs.keyboard.leftRight,Alt:Br.ALT_MOUSE_DRAGLEFT,FooterAlt:Br.ALT_KEYBOARD_LEFTRIGHT},this.dragRotateRight={Icon:zs.mouse.dragRight,Label:this.keys.rotate,FooterIcon:zs.keyboard.leftRight,Alt:Br.ALT_MOUSE_DRAGRIGHT,FooterAlt:Br.ALT_KEYBOARD_LEFTRIGHT},this.left=this.clickInside,this.center=this.clickMove,this.right=this.play,this.close=async()=>{const{commandBinder:e}=this.context;await e.issueCommand(new Ht.B(Ut.P.CTA,!1))},this.restartTour=async()=>{const{commandBinder:e}=this.context;this.context.analytics.trackGuiEvent("restart_highlights_from_cta"),this.close(),await e.issueCommand(new we.rU(0,!0)),e.issueCommand(new we.TH)},this.share=async()=>{const{commandBinder:e}=this.context;this.context.analytics.trackGuiEvent("click_share_button_from_cta"),this.close(),e.issueCommand(new Ht.B(Ut.P.SHARE,!0))}}render(){const{viewmode:e,isHelpCta:t,shareEnabled:i}=this.props,{locale:n}=this.context;this.configureViewmodeSpecifics(e);const s=n.t(t?this.keys.header:this.keys.tourHeader),r=t?"":n.t(this.keys.tourSubhead),a=n.t(g.Z.CTA_SHARE),o=n.t(g.Z.CTA_RESTART_TOUR);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",Object.assign({className:m()({cta:!0})},{children:[(0,c.jsxs)("header",{children:[s,(0,c.jsx)("div",Object.assign({className:"subhead"},{children:r}))]}),(0,c.jsx)("img",{src:this.left.Icon,alt:this.left.Alt}),(0,c.jsx)("h2",{children:n.t(this.left.Label)}),this.left.FooterIcon?(0,c.jsx)("img",{className:"footer-icon",src:this.left.FooterIcon,alt:this.left.FooterAlt}):(0,c.jsx)("span",{}),(0,c.jsx)("img",{src:this.center.Icon,alt:this.center.Alt}),(0,c.jsx)("h2",{children:n.t(this.center.Label)}),this.center.FooterIcon?(0,c.jsx)("img",{className:"footer-icon",src:this.center.FooterIcon,alt:this.center.FooterAlt}):(0,c.jsx)("span",{}),(0,c.jsx)("img",{src:this.right.Icon,alt:this.right.Alt}),(0,c.jsx)("h2",{children:n.t(this.right.Label)}),this.right.FooterIcon?(0,c.jsx)("img",{className:"footer-icon",src:this.right.FooterIcon,alt:this.right.FooterAlt}):(0,c.jsx)("span",{})]})),(0,c.jsx)(w.zx,{className:"close-button",theme:"dark",icon:"close",variant:w.Wu.TERTIARY,onClick:this.close}),!t&&(0,c.jsxs)("div",Object.assign({className:"footer"},{children:[(0,c.jsx)(w.zx,{onClick:this.restartTour,theme:"dark",label:o,icon:"restart",variant:w.Wu.TERTIARY}),i&&(0,c.jsx)(w.zx,{className:"share",theme:"dark",label:a,icon:"share2",variant:w.Wu.SECONDARY,onClick:this.share})]}))]})}configureViewmodeSpecifics(e){switch(e){case S.BD.INSIDE:this.left=this.dragRotateLeft,this.center=this.moveUpDown,this.right=this.props.isHelpCta?this.play:this.zoom;break;case S.BD.OUTSIDE:this.left=this.dragRotateLeft,this.center=this.clickMove,this.right=this.clickInside;break;case S.BD.DOLLHOUSE:if(!this.isPeekaboo()){this.left=this.dragRotateLeft,this.center=this.clickMove,this.right=this.clickInside;break}case S.BD.FLOORPLAN:this.left=this.dragMove,this.center=this.dragRotateRight,this.right=this.clickInside}}isPeekaboo(){return this.context.settings.tryGetProperty(me.eC,!1)}}Gr.contextType=f.I;const{HELP:Wr}=g.Z.SHOWCASE;class zr extends r.Component{constructor(){super(...arguments),this.keys={shortCta:g.Z.MOBILE_SHORT_CTA,tourHeader:g.Z.CTA_TOUR_COMPLETE,tourSubhead:g.Z.CTA_EXPLORE_SPACE,move:g.Z.MOVE,inside:g.Z.INSIDE,rotate:g.Z.ROTATE,play:g.Z.PLAY,zoom:g.Z.ZOOM},this.clickInside={Icon:zs.gesture.tapInside,Label:this.keys.inside,Alt:Wr.ALT_GESTURE_TAPINSIDE},this.clickMove={Icon:zs.gesture.tap_old,Label:this.keys.move,Alt:Wr.ALT_GESTURE_TAP},this.dragRotate={Icon:zs.gesture.drag_old,Label:this.keys.rotate,Alt:Wr.ALT_GESTURE_DRAG},this.dragMove={Icon:zs.gesture.position,Label:this.keys.move,Alt:Wr.ALT_GESTURE_POSITION},this.play={Icon:zs.gesture.play,Label:this.keys.play,Alt:Wr.ALT_GESTURE_PLAY},this.zoom={Icon:zs.gesture.pinch_old,Label:this.keys.zoom,Alt:Wr.ALT_GESTURE_PINCH},this.left=this.dragRotate,this.center=this.clickInside,this.right=this.play}render(){const e=m()({mobile:!0}),{viewmode:t,isHelpCta:i}=this.props,{locale:n}=this.context;this.configureViewmodeSpecifics(t);const s=n.t(i?this.keys.shortCta:this.keys.tourHeader),r=i?"":n.t(this.keys.tourSubhead);return(0,c.jsxs)("div",Object.assign({className:m()({cta:!0,mobile:!0})},{children:[(0,c.jsxs)("header",Object.assign({className:e},{children:[s,(0,c.jsx)("div",Object.assign({className:"subhead"},{children:r}))]})),(0,c.jsx)("h2",Object.assign({className:e},{children:n.t(this.left.Label)})),(0,c.jsx)("img",{src:this.left.Icon}),(0,c.jsx)("h2",Object.assign({className:e},{children:n.t(this.center.Label)})),(0,c.jsx)("img",{src:this.center.Icon}),(0,c.jsx)("h2",Object.assign({className:e},{children:n.t(this.right.Label)})),(0,c.jsx)("img",{src:this.right.Icon})]}))}configureViewmodeSpecifics(e){switch(e){case S.BD.INSIDE:this.left=this.dragRotate,this.center=this.clickMove,this.right=this.props.isHelpCta?this.zoom:this.play;break;case S.BD.DOLLHOUSE:case S.BD.OUTSIDE:this.left=this.dragRotate,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play;break;case S.BD.FLOORPLAN:this.left=this.dragMove,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play}}}var Kr;zr.contextType=f.I,function(e){e[e.NONE=0]="NONE",e[e.LARGE=1]="LARGE",e[e.SMALL=2]="SMALL"}(Kr||(Kr={}));const Yr="cta-seen";function qr(e){const{commandBinder:t,settings:i}=(0,r.useContext)(f.I),{touchDevice:n,viewmode:s,shareEnabled:a}=e,o=Be(),l=-1!==te("ts",-1),d=te("tourcta",1),u=(0,y.p)(Kr,d)?d:Kr.LARGE,h=!!u&&o>0,[p,g]=(0,r.useState)(h&&l),v=te("help",0),E=(0,y.p)(Kr,v)?v:Kr.NONE,b=(0,ee.y)(Yr,!1),S=b?Kr.NONE:p?u:E,[O,T]=(0,r.useState)(S),_=(0,Hi.R)(),[N,w]=(0,r.useState)(_===Ut.P.CTA),A=()=>{t.issueCommand(new Ht.B(Ut.P.CTA,!1)),w(!1)},I=function(){const e=jr();return(null==e?void 0:e.canvas)||null}();if((0,r.useEffect)((()=>(I&&(I.addEventListener("mousedown",A),I.addEventListener("pointerdown",A),I.addEventListener("touchstart",A)),()=>{I&&(I.removeEventListener("mousedown",A),I.removeEventListener("pointerdown",A),I.removeEventListener("touchstart",A))})),[]),(0,Ie.U)(Ke.Mt,(()=>{!b&&h&&(g(!0),T(u),t.issueCommand(new Ht.B(Ut.P.CTA,!0)))})),(0,r.useEffect)((()=>{const e=_===Ut.P.CTA;w(e),e&&i.setProperty(Yr,!0)}),[_]),O===Kr.NONE)return null;const k=O===Kr.SMALL,P=!k&&!n,L=!k&&n,D={mobile:n,small:k,helpCta:!p};return(0,c.jsx)(Ye.N,Object.assign({open:N,className:m()("modal-background","dark-modal-background",{open:N})},{children:(0,c.jsxs)("div",Object.assign({className:m()("modal","ctaContainer",D)},{children:[k&&(0,c.jsx)(Vr,{isMobile:n}),P&&(0,c.jsx)(Gr,{viewmode:s,isHelpCta:!p,shareEnabled:a}),L&&(0,c.jsx)(zr,{viewmode:s,isHelpCta:!p,shareEnabled:a})]}))}))}var $r,Zr,Qr,Xr,Jr,ea;!function(e){e[e.navigation=0]="navigation",e[e.moreHelp=1]="moreHelp"}($r||($r={})),function(e){e.left="left",e.middle="middle",e.right="right"}(Zr||(Zr={})),function(e){e.topInfo="topInfo",e.bigImage="bigImage",e.bottomInfo="bottomInfo",e.keyboard="keyboard"}(Qr||(Qr={})),function(e){e.desktop="desktop",e.mobile="mobile"}(Xr||(Xr={})),function(e){e.hlr="hlr",e.dollhouse="dollhouse",e.floors="floors",e.mattertag="mattertag",e.floorplan="floorplan",e.tour="tour",e.inside="inside",e.vr="vr",e.view360="view360",e.fullscreen="fullscreen"}(Jr||(Jr={})),function(e){e.landscape="landscape",e.portrait="portrait"}(ea||(ea={}));const{HELP:ta}=g.Z.SHOWCASE,ia={[Xr.desktop]:{[Zr.left]:{[Qr.topInfo]:"HELP_DESKTOP_PANORAMA_1A",[Qr.bottomInfo]:"HELP_DESKTOP_PANORAMA_1B",[Qr.bigImage]:{img:zs.mouse.dragLeft,alt:ta.ALT_MOUSE_DRAGLEFT},[Qr.keyboard]:{img:zs.keyboard.leftRight,alt:ta.ALT_KEYBOARD_LEFTRIGHT}},[Zr.middle]:{[Qr.topInfo]:"HELP_DESKTOP_PANORAMA_2A",[Qr.bottomInfo]:"HELP_DESKTOP_PANORAMA_2B",[Qr.bigImage]:{img:zs.mouse.click_old,alt:ta.ALT_MOUSE_CLICK},[Qr.keyboard]:{img:zs.keyboard.upDown,alt:ta.ALT_KEYBOARD_UPDOWN}},[Zr.right]:{[Qr.topInfo]:"HELP_DESKTOP_PANORAMA_3A",[Qr.bottomInfo]:"HELP_DESKTOP_PANORAMA_3B",[Qr.bigImage]:{img:zs.mouse.zoom_old,alt:ta.ALT_MOUSE_ZOOM},[Qr.keyboard]:{img:zs.keyboard.zoom,alt:ta.ALT_KEYBOARD_ZOOM}}},[Xr.mobile]:{[Zr.left]:{[Qr.topInfo]:"HELP_MOBILE_PANORAMA_1",[Qr.bigImage]:{img:zs.gesture.drag_old,alt:ta.ALT_GESTURE_DRAG}},[Zr.middle]:{[Qr.topInfo]:"HELP_MOBILE_PANORAMA_2",[Qr.bigImage]:{img:zs.gesture.tap_old,alt:ta.ALT_GESTURE_TAP}},[Zr.right]:{[Qr.topInfo]:"HELP_MOBILE_3",[Qr.bigImage]:{img:zs.gesture.pinch_old,alt:ta.ALT_GESTURE_PINCH}}}},na={[Xr.desktop]:{[Zr.left]:{[Qr.topInfo]:"HELP_DESKTOP_DOLLHOUSE_1A",[Qr.bottomInfo]:"HELP_DESKTOP_DOLLHOUSE_1B",[Qr.bigImage]:{img:zs.mouse.dragLeft,alt:ta.ALT_MOUSE_DRAGLEFT},[Qr.keyboard]:{img:zs.keyboard.all,alt:ta.ALT_KEYBOARD_ALL}},[Zr.middle]:{[Qr.topInfo]:"HELP_DESKTOP_DOLLHOUSE_2A",[Qr.bigImage]:{img:zs.mouse.positionRight,alt:ta.ALT_MOUSE_POSITIONRIGHT}},[Zr.right]:{[Qr.topInfo]:"HELP_DESKTOP_DOLLHOUSE_3A",[Qr.bigImage]:{img:zs.mouse.zoom_old,alt:ta.ALT_MOUSE_ZOOM}}},[Xr.mobile]:{[Zr.left]:{[Qr.topInfo]:"HELP_MOBILE_DOLLHOUSE_1",[Qr.bigImage]:{img:zs.gesture.drag_old,alt:ta.ALT_GESTURE_DRAG}},[Zr.middle]:{[Qr.topInfo]:"HELP_MOBILE_DOLLHOUSE_2",[Qr.bigImage]:{img:zs.gesture.positionTwoFinger,alt:ta.ALT_GESTURE_POSITIONTWOFINGER}},[Zr.right]:{[Qr.topInfo]:"HELP_MOBILE_3",[Qr.bigImage]:{img:zs.gesture.pinch_old,alt:ta.ALT_GESTURE_PINCH}}}},sa={[Xr.desktop]:{[Zr.left]:{[Qr.topInfo]:"HELP_DESKTOP_FLOORPLAN_1A",[Qr.bigImage]:{img:zs.mouse.positionLeft_old,alt:ta.ALT_MOUSE_POSITIONLEFT}},[Zr.middle]:{[Qr.topInfo]:"HELP_DESKTOP_FLOORPLAN_2A",[Qr.bottomInfo]:"HELP_DESKTOP_FLOORPLAN_2B",[Qr.bigImage]:{img:zs.mouse.dragRight,alt:ta.ALT_MOUSE_DRAGRIGHT},[Qr.keyboard]:{img:zs.keyboard.leftRight,alt:ta.ALT_KEYBOARD_LEFTRIGHT}},[Zr.right]:{[Qr.topInfo]:"HELP_DESKTOP_FLOORPLAN_3A",[Qr.bottomInfo]:"HELP_DESKTOP_FLOORPLAN_3B",[Qr.bigImage]:{img:zs.mouse.zoom_old,alt:ta.ALT_MOUSE_ZOOM},[Qr.keyboard]:{img:zs.keyboard.upDown,alt:ta.ALT_KEYBOARD_UPDOWN}}},[Xr.mobile]:{[Zr.left]:{[Qr.topInfo]:"HELP_MOBILE_FLOORPLAN_1",[Qr.bigImage]:{img:zs.gesture.position,alt:ta.ALT_GESTURE_POSITION}},[Zr.middle]:{[Qr.topInfo]:"HELP_MOBILE_FLOORPLAN_2",[Qr.bigImage]:{img:zs.gesture.dragTwoFinger,alt:ta.ALT_GESTURE_DRAGTWOFINGER}},[Zr.right]:{[Qr.topInfo]:"HELP_MOBILE_3",[Qr.bigImage]:{img:zs.gesture.pinch_old,alt:ta.ALT_GESTURE_PINCH}}}},ra=JSON.parse(JSON.stringify(ia));ra.desktop.middle={[Qr.topInfo]:"HELP_DESKTOP_360_2A",[Qr.bottomInfo]:"HELP_DESKTOP_360_2B",[Qr.bigImage]:{img:zs.mouse.clickInside,alt:ta.ALT_MOUSE_CLICKINSIDE},[Qr.keyboard]:{img:zs.keyboard.inside,alt:ta.ALT_KEYBOARD_INSIDE}},ra.mobile.middle={[Qr.topInfo]:"HELP_MOBILE_360_2",[Qr.bigImage]:{img:zs.gesture.tapInside,alt:ta.ALT_GESTURE_TAPINSIDE}};const aa={INSIDE:ia,OUTSIDE:ra,FLOORPLAN:sa,DOLLHOUSE:na};var oa=i(47850),la=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},ca=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let da=class extends r.Component{constructor(e){super(e),this.state={overflow:!1}}UNSAFE_componentWillReceiveProps(e){(this.navigationDiv&&this.navigationDiv.clientHeight||0)/(this.navigationDiv.parentElement&&this.navigationDiv.parentElement.clientHeight||1)>.7&&this.setState({overflow:!0})}getAssetObj(e){switch(e){case this.props.Modes.DOLLHOUSE:return aa.DOLLHOUSE[this.props.device];case this.props.Modes.FLOORPLAN:return aa.FLOORPLAN[this.props.device];case this.props.Modes.OUTSIDE:return aa.OUTSIDE[this.props.device];case this.props.Modes.INSIDE:default:return aa.INSIDE[this.props.device]}}buildRows(){const e=this.getAssetObj(this.props.viewmode),t=[];for(const i in Qr){const n=[],s=[];for(const t in Zr)if(n.push(this.wrapAsset(e,t,i,!1)),i===Qr.bigImage){const n=!e[t][Qr.bottomInfo];s.push((0,c.jsx)("div",Object.assign({className:m()(t,"column",{noDivider:n})},{children:(0,c.jsx)("hr",{})}),`${i}_${t}_divider_row`))}t.push((0,c.jsx)("div",Object.assign({className:m()(i,"row")},{children:n}),`${i}_vertical_row`))}return t}buildMobilePortrait(){const e=this.getAssetObj(this.props.viewmode),t=[];for(const i in e)for(const n in e[i])t.push(this.wrapAsset(e,i,n,!0));return t}wrapAsset(e,t,i,n){const s=e[t][i],r=i===Qr.bigImage||i===Qr.keyboard,a=s?s.img:void 0,o=s&&s.alt?this.context.locale.t(s.alt):void 0,l=(0,c.jsx)("img",{src:a,alt:o});return(0,c.jsx)("div",Object.assign({className:n?m()(i,"row"):m()(t,"column")},{children:s&&r?l:s&&this.context.locale.t(s)}),`wrapped_asset_${t}_${i}`)}render(){const e=this.props.device===Xr.mobile&&this.props.orientation===oa.t.PORTRAIT,t=m()("navigation_old",this.props.viewmode,{small:this.state.overflow});return(0,c.jsx)("div",Object.assign({className:t,ref:e=>{this.navigationDiv=e}},{children:e?(0,c.jsx)(ir,Object.assign({name:"navigation",forceHidden:!1},{children:(0,c.jsx)("div",Object.assign({className:"nav-wrapper"},{children:this.buildMobilePortrait()}))})):this.buildRows()}))}};da.contextType=f.I,da=la([zt.Z,ca("design:paramtypes",[Object])],da);const ua=da;var ha=i(24160);const pa=g.Z.SHOWCASE.HELP,ma={[Xr.desktop]:{title:pa.NAV_DOLLHOUSE_TITLE,items:[{iconSrc:zs.mouse.positionLeft,iconAlt:pa.ALT_MOUSE_POSITIONLEFT,header:pa.DESKTOP_DOLLHOUSE_PAN_HEADER,text:pa.DESKTOP_DOLLHOUSE_PAN},{iconSrc:zs.mouse.zoom,iconAlt:pa.ALT_MOUSE_ZOOM,header:pa.DESKTOP_DOLLHOUSE_ZOOM_HEADER,text:pa.DESKTOP_DOLLHOUSE_ZOOM},{iconSrc:zs.mouse.dragRightHoriz,iconAlt:pa.ALT_MOUSE_DRAGRIGHT_HORIZ,header:pa.DESKTOP_DOLLHOUSE_ROTATE_HEADER,text:pa.DESKTOP_DOLLHOUSE_ROTATE},{iconSrc:zs.mouse.dragRightVert,iconAlt:pa.ALT_MOUSE_DRAGRIGHT_VERT,header:pa.DESKTOP_DOLLHOUSE_2D3D_HEADER,text:pa.DESKTOP_DOLLHOUSE_2D3D,badge:g.Z.GENERIC.NEW_MESSAGE}]},[Xr.mobile]:{title:pa.NAV_DOLLHOUSE_TITLE,items:[{iconSrc:zs.gesture.position,iconAlt:pa.ALT_GESTURE_POSITION,text:pa.TOUCH_DOLLHOUSE_PAN},{iconSrc:zs.gesture.dragTwoFingerVert,iconAlt:pa.ALT_GESTURE_DRAGTWOFINGER_VERT,text:pa.TOUCH_DOLLHOUSE_2D3D,badge:g.Z.GENERIC.NEW_MESSAGE},{iconSrc:zs.gesture.dragTwoFingerRotate,iconAlt:pa.ALT_GESTURE_TOUCH_ROTATE,text:pa.TOUCH_DOLLHOUSE_ROTATE,badge:g.Z.GENERIC.NEW_MESSAGE},{iconSrc:zs.gesture.pinch,iconAlt:pa.ALT_GESTURE_PINCH,text:pa.TOUCH_DOLLHOUSE_ZOOM}]}},fa={[Xr.desktop]:Object.assign(Object.assign({},ma[Xr.desktop]),{title:pa.NAV_FLOORPLAN_TITLE}),[Xr.mobile]:Object.assign(Object.assign({},ma[Xr.mobile]),{title:pa.NAV_FLOORPLAN_TITLE})},ga={[Xr.desktop]:{title:pa.NAV_INSIDE_TITLE,items:[{iconSrc:zs.mouse.positionLeft,iconAlt:pa.ALT_MOUSE_POSITIONLEFT,header:pa.DESKTOP_INSIDE_LOOK_HEADER,text:pa.DESKTOP_INSIDE_LOOK},{iconSrc:zs.mouse.zoom,iconAlt:pa.ALT_MOUSE_ZOOM,header:pa.DESKTOP_INSIDE_ZOOM_HEADER,text:pa.DESKTOP_INSIDE_ZOOM},{iconSrc:zs.mouse.click,iconAlt:pa.ALT_MOUSE_CLICK,header:pa.DESKTOP_INSIDE_MOVE_HEADER,text:pa.DESKTOP_INSIDE_MOVE}]},[Xr.mobile]:{title:pa.NAV_INSIDE_TITLE,items:[{iconSrc:zs.gesture.position,iconAlt:pa.ALT_GESTURE_POSITION,text:pa.TOUCH_INSIDE_LOOK},{iconSrc:zs.gesture.tap,iconAlt:pa.ALT_GESTURE_TAP,text:pa.TOUCH_INSIDE_MOVE},{iconSrc:zs.gesture.pinch,iconAlt:pa.ALT_GESTURE_PINCH,text:pa.TOUCH_INSIDE_ZOOM}]}},va=(0,r.memo)((({viewmode:e,device:t})=>{const i=(0,_.b)(),n=(e===S.BD.FLOORPLAN?fa:e===S.BD.DOLLHOUSE?ma:ga)[t];return(0,c.jsx)("div",Object.assign({className:m()("navigation",t)},{children:(0,c.jsx)(ha.T,Object.assign({disabled:!1,hideThumb:!1},{children:(0,c.jsxs)("section",{children:[n.title&&(0,c.jsx)("h2",{children:i.t(n.title)}),(0,c.jsxs)("ul",{children:[n.items.map((({iconSrc:e,iconAlt:t,header:n,text:s,badge:r},a)=>(0,c.jsxs)("li",{children:[(0,c.jsx)("img",{src:e,alt:i.t(t)}),(n||r)&&(0,c.jsxs)("h3",{children:[n&&i.t(n)+" ",r&&(0,c.jsx)("span",Object.assign({className:"help_badge"},{children:i.t(r)}))]}),(0,c.jsx)("div",{children:i.t(s)})]},a))),n.items.length%2?(0,c.jsx)("li",{children:(0,c.jsx)("div",{style:{width:440}})}):null]})]})}))}))})),ya={[Jr.hlr]:{[Qr.topInfo]:"HELP_MORE_HLR_A",[Qr.bigImage]:"icon-hlr",[Qr.bottomInfo]:"HELP_DESKTOP_MORE_HLR_B"},[Jr.dollhouse]:{[Qr.topInfo]:"HELP_MORE_DOLLHOUSE_A",[Qr.bigImage]:"icon-dollhouse",[Qr.bottomInfo]:"HELP_MOBILE_MORE_DOLLHOUSE_B"},[Jr.floors]:{[Qr.topInfo]:"HELP_MORE_FLOORS_A",[Qr.bigImage]:"icon-floor-controls",[Qr.bottomInfo]:"HELP_DESKTOP_MORE_FLOORS_B"},[Jr.mattertag]:{[Qr.topInfo]:"HELP_MORE_MATTERTAG_A",[Qr.bigImage]:zs.moreHelp.mattertag,[Qr.bottomInfo]:"HELP_MOBILE_MORE_MATTERTAG_B"},[Jr.tour]:{[Qr.topInfo]:"HELP_MORE_TOUR_A",[Qr.bigImage]:"icon-play",[Qr.bottomInfo]:"HELP_DESKTOP_MORE_TOUR_B"},[Jr.inside]:{[Qr.topInfo]:"HELP_MORE_INSIDE_A",[Qr.bigImage]:"icon-panorama",[Qr.bottomInfo]:"HELP_MOBILE_MORE_INSIDE_B"},[Jr.vr]:{[Qr.topInfo]:"HELP_MORE_VR_A",[Qr.bigImage]:"icon-vr",[Qr.bottomInfo]:"HELP_MOBILE_MORE_VR_B"},[Jr.view360]:{[Qr.topInfo]:"HELP_MORE_360_A",[Qr.bigImage]:zs.moreHelp.view360,[Qr.bottomInfo]:"HELP_MOBILE_MORE_360_B"},[Jr.floorplan]:{[Qr.topInfo]:"HELP_MORE_FLOORPLAN_A",[Qr.bigImage]:"icon-floorplan",[Qr.bottomInfo]:"HELP_MOBILE_FLOORPLAN_B"}},Ea=JSON.parse(JSON.stringify(ya));Ea[Jr.fullscreen]={[Qr.topInfo]:"HELP_MORE_FULLSCREEN_A",[Qr.bigImage]:"icon-fullscreen",[Qr.bottomInfo]:"HELP_DESKTOP_MORE_FULLSCREEN_B"},Ea[Jr.dollhouse][Qr.bottomInfo]="HELP_DESKTOP_MORE_DOLLHOUSE_B",Ea[Jr.mattertag][Qr.bottomInfo]="HELP_DESKTOP_MORE_MATTERTAG_B",Ea[Jr.inside][Qr.bottomInfo]="HELP_DESKTOP_MORE_INSIDE_B",Ea[Jr.vr][Qr.bottomInfo]="HELP_DESKTOP_MORE_VR_B",Ea[Jr.view360][Qr.bottomInfo]="HELP_DESKTOP_MORE_360_B",Ea[Jr.floorplan][Qr.bottomInfo]="HELP_DESKTOP_FLOORPLAN_B";const ba={[Xr.desktop]:Ea,[Xr.mobile]:ya},Sa=[Qr.topInfo,Qr.bigImage,Qr.bottomInfo];class Oa extends r.Component{constructor(e){super(e),this.scrollbarsRef=(0,r.createRef)()}componentDidMount(){const e=this.scrollbarsRef.current;e&&e.scrollTo({x:0,y:0})}buildInstructions(){const e=[],t=this.props.device===Xr.desktop?5:this.props.orientation===oa.t.LANDSCAPE?3:2,i=Object.keys(ba[this.props.device]);for(let n=0;n<i.length;n+=t){for(const s of Sa){const r=[];for(let e=0;e<t;e++){if(n+e>=i.length)continue;const t=ba[this.props.device][i[n+e]][s],a=m()(s,i[n+e],{noAsset:!t}),o=`${n}_${s}_${e}`;switch(s){case Qr.topInfo:r.push((0,c.jsx)("div",Object.assign({className:a},{children:this.context.locale.t(t)}),`${o}_top_info`));break;case Qr.bigImage:r.push((0,c.jsx)("div",Object.assign({className:a},{children:t.indexOf(".png")>-1?(0,c.jsx)("img",{src:t}):(0,c.jsx)("span",Object.assign({className:t},{children:"floors"===i[n+e]?(0,c.jsx)("span",{children:"2"}):null}))}),`${o}_big_img`));break;case Qr.bottomInfo:r.push((0,c.jsx)("div",Object.assign({className:a},{children:this.context.locale.t(t)}),`${o}_bottom_info`))}}e.push((0,c.jsx)("div",Object.assign({className:m()("innerRow",s)},{children:r}),`${n}_${s}_top_info`))}e.push((0,c.jsx)("div",{className:"rowPadding"},`${n}_row_padding`))}return e.pop(),e}render(){return(0,c.jsx)("div",Object.assign({className:m()("more-help-wrapper",this.props.device)},{children:(0,c.jsx)(ir,Object.assign({name:"more-help-wrapper",ref:this.scrollbarsRef,forceHidden:!1},{children:(0,c.jsx)("div",Object.assign({className:m()("more-help")},{children:this.buildInstructions()}))}))}))}}Oa.contextType=f.I;var Ta=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},_a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Na=class extends r.Component{constructor(e,t){var i,n;super(e,t),this.isUnmounting=!1,this.handleTabClick=e=>()=>{this.setState({tab:e})},this.closeHelp=()=>{this.context.commandBinder.issueCommand(new Ht.B(Ut.P.HELP,!1))},this.device=this.props.isMobile?Xr.mobile:Xr.desktop,this.state={tab:$r.navigation,orientation:null!==(n=null===(i=t.market.tryGetData(Zt.V))||void 0===i?void 0:i.orientation)&&void 0!==n?n:oa.t.LANDSCAPE}}componentDidMount(){this.context.market.waitForData(Zt.V).then((e=>{this.isUnmounting||(this.orientationSubscription=e.onPropertyChanged("orientation",(e=>{this.setState({orientation:e})})))}))}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.orientationSubscription)||void 0===e||e.cancel()}render(){const{tab:e,orientation:t}=this.state;return(0,c.jsxs)(w.Vq,Object.assign({className:m()("full-modal","help-modal",this.device),theme:"dark",onClose:this.closeHelp},{children:[(0,c.jsx)(en.P,{theme:"dark",onClose:this.closeHelp}),(0,c.jsxs)("div",Object.assign({className:m()("tabs",e)},{children:[(0,c.jsx)("div",Object.assign({className:m()("navigation-tab",{active:e===$r.navigation}),onClick:this.handleTabClick($r.navigation)},{children:(0,c.jsx)("span",{children:this.context.locale.t(g.Z.HELP_NAVIGATION_TAB)})})),(0,c.jsx)("div",Object.assign({className:m()("more-help-tab",{active:e===$r.moreHelp}),onClick:this.handleTabClick($r.moreHelp)},{children:(0,c.jsx)("span",{children:this.context.locale.t(g.Z.HELP_MORE_HELP_TAB)})}))]})),e===$r.navigation&&(this.context.settings.tryGetProperty(me.eC,!1)?(0,c.jsx)(va,{device:this.device,viewmode:this.props.viewmode}):(0,c.jsx)(ua,{device:this.device,Modes:this.props.allModes,viewmode:this.props.viewmode,orientation:t})),e===$r.moreHelp&&(0,c.jsx)(Oa,{device:this.device,orientation:t})]}))}};Na.contextType=f.I,Na=Ta([zt.Z,_a("design:paramtypes",[Object,Object])],Na);const wa=Na;var Aa=i(31740),Ia=i(27946);const ka=new T.Z("share-modal");class Pa extends r.Component{constructor(e){super(e),this.isUnmounting=!1,this.copyURL=()=>{const{deeplink:e}=this.state,t=this.urlInputRef;if(t){const i=new URL(t.value);i.hash="",(0,Ia.v)(i.toString()),this.setState({copied:!0}),this.context.analytics.track("showcase_share_action",{channel:or.COPYLINK,pano_id:this.sweepData.currentSweep,deeplink:e}),window.setTimeout((()=>{this.setState({copied:!1})}),2500)}},this.toggleDeeplinks=()=>{const{deeplink:e}=this.state;this.setState({deeplink:!e})},this.close=()=>{this.context.commandBinder.issueCommand(new Ht.B(Ut.P.SHARE,!1))},this.openShareWindow=e=>{const{urls:t,deeplink:i,deeplinkUrls:n}=this.state,{width:s,height:r}=Er[e],a=i?n[e]:t[e];let o;if(s&&r){o="top="+(window.screenY+(window.innerHeight-r)/2)+",left="+(window.screenX+(window.innerWidth-s)/2)+",width="+s+",height="+r}this.context.analytics.track("showcase_share_action",{channel:e,pano_id:this.sweepData.currentSweep,deeplink:i}),window.open(a,"",o)},this.openWebShareApi=e=>{if(!navigator.share)return;const{excerpt:t,title:i,urls:n,deeplinkUrls:s}=this.state,r={url:e?s[or.COPYLINK]:n[or.COPYLINK],text:t,title:i};ka.debug("Launching Web Share API",r),navigator.share(r),this.context.analytics.track("showcase_share_action",{channel:or.NATIVE,pano_id:this.sweepData.currentSweep,deeplink:e})},this.onWebShareClick=()=>{this.openWebShareApi(!1)},this.onWebShareDeeplinkClick=()=>{this.openWebShareApi(!0)},this.setUrlInputRef=e=>{this.urlInputRef=e},this.state={urls:{},deeplinkUrls:{},title:"",excerpt:"",image:"",copied:!1,deeplink:!1,webShareEnabled:(0,M.J1)()},this.openFacebook=this.openShareWindow.bind(this,or.FACEBOOK),this.openTwitter=this.openShareWindow.bind(this,or.TWITTER),this.openPinterest=this.openShareWindow.bind(this,or.PINTEREST),this.openLinkedIn=this.openShareWindow.bind(this,or.LINKEDIN),this.openEmail=this.openShareWindow.bind(this,or.MAIL)}async componentDidMount(){const{market:e}=this.context,[t,i]=await Promise.all([e.waitForData(Gi.T),e.waitForData(Aa.Z)]);this.sweepData=i;const n=t.model,s=`${window.location.origin}/api/v1/player/models/${n.sid}/thumb`,r=n.details.name;this.isUnmounting||this.setState({title:r,image:s},this.updateUrls)}componentWillUnmount(){this.isUnmounting=!0}async updateUrls(){const{title:e,image:t}=this.state,[i,n]=await Promise.all([br(this.context,!1),br(this.context,!0)]),s=Ir(i,e,t,this.context.locale),r=Ir(n,e,t,this.context.locale);ka.debug("Social Share URLs:",s),ka.debug("Social Share URLs, with current location",r),this.isUnmounting||this.setState({urls:s,deeplinkUrls:r})}renderWebShareDialog(){return(0,c.jsxs)("div",Object.assign({className:"share-controls"},{children:[(0,c.jsx)(w.zx,{className:"share-modal-button",variant:w.Wu.PRIMARY,size:w.qE.LARGE,onClick:this.onWebShareDeeplinkClick,label:this.context.locale.t(g.Z.SHARE_CURRENT_LOCATION)}),(0,c.jsx)(w.zx,{className:"share-modal-button",variant:w.Wu.SECONDARY,size:w.qE.LARGE,onClick:this.onWebShareClick,label:this.context.locale.t(g.Z.SHARE_DEFAULT_LOCATION)})]}))}renderShareDialog(){const{copied:e,deeplink:t,urls:i,deeplinkUrls:n}=this.state,{locale:s}=this.context,r=t?n[or.COPYLINK]:i[or.COPYLINK],a=this.sweepData&&this.sweepData.isSweepDisabled(),o=a?s.t(g.Z.SHARE_ERROR_SWEEP_DISABLED):void 0;return(0,c.jsxs)("div",Object.assign({className:"share-controls"},{children:[(0,c.jsxs)("div",Object.assign({className:"social-icons"},{children:[(0,c.jsx)(w.zx,{onClick:this.openFacebook,icon:"facebook",variant:w.Wu.FAB,size:"large",theme:"dark",ariaLabel:s.t(g.Z.SHARE_FACEBOOK)}),(0,c.jsx)(w.zx,{onClick:this.openTwitter,icon:"twitter",variant:w.Wu.FAB,size:"large",theme:"dark",ariaLabel:s.t(g.Z.SHARE_TWITTER)}),(0,c.jsx)(w.zx,{onClick:this.openLinkedIn,icon:"linkedin",variant:w.Wu.FAB,size:"large",theme:"dark",ariaLabel:s.t(g.Z.SHARE_LINKEDIN)}),(0,c.jsx)(w.zx,{onClick:this.openPinterest,icon:"pinterest",variant:w.Wu.FAB,size:"large",theme:"dark",ariaLabel:s.t(g.Z.SHARE_PINTEREST)}),(0,c.jsx)(w.zx,{onClick:this.openEmail,icon:"email",variant:w.Wu.FAB,size:"large",theme:"dark",ariaLabel:s.t(g.Z.SHARE_MAIL)})]})),(0,c.jsxs)("div",Object.assign({className:"input-group"},{children:[(0,c.jsx)("input",{className:"input",type:"text",value:r||"",ref:this.setUrlInputRef,readOnly:!0}),(0,c.jsx)(w.zx,{className:"input-addon",variant:w.Wu.SECONDARY,onClick:this.copyURL,label:this.context.locale.t(g.Z.COPY),tooltip:e?this.context.locale.t(g.Z.SHARE_COPIED):this.context.locale.t(g.Z.COPY_URL)})]})),(0,c.jsx)(w.XZ,{defaultChecked:t,disabled:a,label:this.context.locale.t(g.Z.SHARE_LINK_TO_LOCATION),onChange:this.toggleDeeplinks}),a&&(0,c.jsx)("p",Object.assign({className:"error-message"},{children:o}))]}))}render(){const{webShareEnabled:e}=this.state,t=m()("share-modal","modal-dialog",{"share-dialog":!e,"web-share-dialog":e}),i=e?this.renderWebShareDialog():this.renderShareDialog();return(0,c.jsxs)(w.Vq,Object.assign({className:t,onClose:this.close},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:this.context.locale.t(g.Z.SHARE_MODAL_TITLE)})),(0,c.jsx)(en.P,{onClose:this.close})]})),(0,c.jsx)("div",Object.assign({className:"modal-body"},{children:i}))]}))}}Pa.contextType=f.I;class La extends r.Component{constructor(e,t){super(e),this.closeModal=()=>{this.context.commandBinder.issueCommand(new Ht.B(Ut.P.MEASUREMENT_HELP,!1))},this.locale={headerString:t.locale.t(g.Z.MEASUREMENT_MODE),subHeaderString:t.locale.t(g.Z.MEASUREMENT_HELP_MODAL_SUB_HEADER),body1String:t.locale.t(g.Z.MEASUREMENT_HELP_MODAL_BODY_1),body2String:t.locale.t(g.Z.MEASUREMENT_HELP_MODAL_BODY_2)}}render(){const{headerString:e,subHeaderString:t,body1String:i,body2String:n}=this.locale,{mobile:s}=this.props;return(0,c.jsxs)(w.Vq,Object.assign({className:m()("full-modal","measurement-mode-help-modal",{mobile:s}),onClose:this.closeModal},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:e})),(0,c.jsx)(en.P,{onClose:this.closeModal})]})),(0,c.jsx)("div",Object.assign({className:"modal-subheader"},{children:t})),(0,c.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,c.jsx)("p",Object.assign({className:"modal-paragraph"},{children:i})),(0,c.jsx)("p",Object.assign({className:"modal-paragraph"},{children:n}))]}))]}))}}var Da;La.contextType=f.I,function(e){e.HandsRaised="hands-raised",e.RotatePhone="rotate-phone"}(Da||(Da={}));const Ra=new Map;Ra.set(Da.HandsRaised,{alt:"Hands Raised",json:i(67238),fallback:i(73355)}),Ra.set(Da.RotatePhone,{alt:"Rotate your device to portrait orientation",json:i(55519),fallback:i(65338)});var Ma=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},Ca=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let xa=class extends r.Component{constructor(e){super(e),this.lottieTargetRef=(0,r.createRef)(),this.isUnmounting=!1,this.loadLottie=async()=>this.lottieLib?this.lottieLib:await i.e(932).then(i.t.bind(i,11248,23)),this.updateAnimation=async()=>{const{animation:e,loop:t=!1}=this.props;let i;this.setState({fallbackActive:!1});try{i=await this.loadLottie()}catch(e){if(this.isUnmounting)return;return void this.setState({fallbackActive:!0})}const n=Ra.get(e);if(i&&n&&this.lottieTargetRef.current){const e=i.loadAnimation({loop:t,container:this.lottieTargetRef.current,renderer:"svg",autoplay:!1,animationData:n.json});e.addEventListener("data_failed",(()=>{this.isUnmounting||this.setState({fallbackActive:!0})})),setTimeout((()=>{this.isUnmounting||e.play()}),50)}},this.renderFallback=()=>{const{animation:e}=this.props,t=Ra.get(e);return t?(0,c.jsx)("img",{className:"lottie-fallback",src:t.fallback,alt:t.alt}):null},this.state={fallbackActive:!1}}componentDidMount(){this.updateAnimation()}componentDidUpdate(e){e.animation===this.props.animation&&e.loop===this.props.loop||this.updateAnimation()}componentWillUnmount(){this.isUnmounting=!0}render(){return(0,c.jsxs)("div",Object.assign({className:"lottie"},{children:[(0,c.jsx)("div",{className:"lottie-animation",ref:this.lottieTargetRef}),this.state.fallbackActive&&this.renderFallback()]}))}};xa=Ma([zt.Z,Ca("design:paramtypes",[Object])],xa);const Fa=xa;var Ua=i(30939),Ha=g.Z.WORKSHOP.MODEL_RATING;function ja({onSupportClicked:e,showSupportCTA:t=!0}){const i=(0,_.b)();return(0,c.jsxs)("div",Object.assign({className:"rating-thank-you"},{children:[(0,c.jsx)("h4",{children:i.t(Ha.THANK_YOU_HEADING)}),(0,c.jsx)(Fa,{animation:Da.HandsRaised}),(0,c.jsx)("p",Object.assign({className:"p4"},{children:i.t(Ha.THANK_YOU_BODY)})),t&&(0,c.jsxs)("small",Object.assign({className:"model-rating-cta"},{children:[i.t(Ha.THANK_YOU_CTA)," ",(0,c.jsx)(Ua.r,Object.assign({href:"//matterport.com/resources/support",onClick:e},{children:i.t(Ha.THANK_YOU_CTA_LINK_TEXT)}))]}))]}))}class Va extends r.Component{constructor(){super(...arguments),this.onClose=()=>{this.context.commandBinder.issueCommand(new Ht.B(Ut.P.RATING_THANK_YOU,!1))}}render(){return(0,c.jsxs)(w.Vq,Object.assign({className:"model-rating-thank-you open",onClose:this.onClose},{children:[(0,c.jsx)(en.P,{onClose:this.onClose}),(0,c.jsx)(ja,{onSupportClicked:this.onClose})]}))}}Va.contextType=f.I;var Ba=i(93827),Ga=i(49982);function Wa({commandBinder:e}){const[t,i]=(0,r.useState)(!1),[n,s]=(0,r.useState)(),[a,o]=(0,r.useState)(),l=(0,_.b)(),d=(0,r.useCallback)((async t=>{null==n||n.resolve(t),i(!1),e.issueCommand(new Ht.r)}),[e,n]),u=(0,r.useCallback)((()=>{d(Ga.Uc.CLOSE)}),[d]),h=(0,r.useCallback)((()=>{d(Ga.Uc.CONFIRM)}),[d]),p=(0,r.useCallback)((async r=>{switch(r.action){case Ga.Rx.DISPLAY:if(t){if(!(null==a?void 0:a.cancellable))return Promise.reject("Cannot close non-cancellable modal");await d(Ga.Uc.CLOSE)}i(!0),e.issueCommand(new Ht.B(Ut.P.CONFIRM,!0)),o(r.properties);const l=new Ba.Q;return s(l),l.nativePromise();case Ga.Rx.UPDATE:return o(r.properties),null==n?void 0:n.nativePromise();case Ga.Rx.CLOSE:return t?(d(Ga.Uc.CLOSE),null==n?void 0:n.nativePromise()):Promise.reject("Cannot cancel a closed modal")}}),[d,e,a,t,n]);(0,r.useEffect)((()=>(e.addBinding(Ga.EW,p),()=>{e.removeBinding(Ga.EW,p)})),[e,p]);const f=(0,r.useCallback)((e=>e.stopPropagation()),[]);if(!a)return null;const{title:g,titleLocalizationOptions:v,message:y,messageLocalizationOptions:E,confirmPhraseKey:b,cancelPhraseKey:S,closeButton:O,modalClass:T,confirmDisabled:N,cancelVariant:A}=a;let I=g;if("string"==typeof g&&0!==g.length){const e=void 0===v?{}:v,t=l.t(g,e);I=(0,c.jsx)("span",{children:t})}let k=y;if("string"==typeof y){const e=void 0===E?{}:E,t=l.t(y,e);k=(0,c.jsx)("p",Object.assign({className:"modal-message"},{children:t}))}return(0,c.jsx)(Ye.N,Object.assign({open:t,className:m()("modal-background","confirm-modal-background",{open:t}),onClick:f,onPointerDown:f,onPointerUp:f},{children:(0,c.jsxs)(w.Vq,Object.assign({testId:"confirm-modal",className:m()("confirm-modal",T),onClose:u},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:I})),O&&(0,c.jsx)(w.zx,{icon:"close",onClick:u})]})),(0,c.jsx)("div",Object.assign({className:"modal-body"},{children:k})),(0,c.jsxs)(w.hE,Object.assign({spacing:"small"},{children:[S&&(0,c.jsx)(w.zx,Object.assign({size:"large",onClick:u,variant:A||w.Wu.SECONDARY},{children:l.t(S)})),b&&(0,c.jsx)(w.zx,Object.assign({disabled:N,variant:w.Wu.PRIMARY,size:"large",onClick:h},{children:l.t(b)}))]}))]}))}))}var za=i(11250);function Ka(){const e=(0,_.b)(),t=(0,r.useContext)(f.I),i=(0,r.useCallback)((()=>{t.commandBinder.issueCommand(new Ht.B(Ut.P.DEFURNISH_AI,!1))}),[t.commandBinder]);return(0,c.jsxs)(w.Vq,Object.assign({className:m()("defurnish-ai-modal","full-modal"),theme:"dark",onClose:i},{children:[(0,c.jsx)(en.P,{theme:"dark",onClose:i}),(0,c.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,c.jsx)("h6",Object.assign({className:"defurnish-ai-modal-title"},{children:e.t(g.Z.SHOWCASE.DEFURNISH_AI_MODAL.TITLE)})),(0,c.jsx)("p",Object.assign({className:"defurnish-ai-modal-content"},{children:e.t(g.Z.SHOWCASE.DEFURNISH_AI_MODAL.TEXT1)})),(0,c.jsx)("p",Object.assign({className:"defurnish-ai-modal-content"},{children:e.t(g.Z.SHOWCASE.DEFURNISH_AI_MODAL.TEXT2)}))]}))]}))}function Ya(e){const{viewmode:t,shareEnabled:i}=e,{commandBinder:n}=(0,r.useContext)(f.I),s=Zs(),a=(0,Hi.R)(),o=B(),l=(0,r.useMemo)((()=>(0,M.Jm)()),[]);if(!s)return null;const d=t===S.BD.DOLLHOUSE&&(0,za.Eb)(o)?S.BD.FLOORPLAN:t,u=a===Ut.P.SHARE,h=a===Ut.P.TERMS,p=a===Ut.P.HELP,g=a===Ut.P.MEASUREMENT_HELP,v=a===Ut.P.VR_SELECT,y=a===Ut.P.RATING_THANK_YOU,E=a===Ut.P.DEFURNISH_AI,b=h||p||E,O=u||b||g||y||v&&!!s;return(0,c.jsxs)("div",Object.assign({id:"showcase-modals"},{children:[(0,c.jsx)(Wa,{commandBinder:n}),(0,c.jsx)(qr,{touchDevice:l,viewmode:d,shareEnabled:i}),(0,c.jsxs)(Ye.N,Object.assign({className:m()("modal-background",{"dark-modal-background":b,open:O}),open:O,selectChild:!0,childKey:a||void 0,onClick:()=>{n.issueCommand(new Ht.r)}},{children:[(0,c.jsx)(Pa,{},Ut.P.SHARE),(0,c.jsx)(La,{mobile:l},Ut.P.MEASUREMENT_HELP),(0,c.jsx)(Ur,{isMobile:l,modelDetails:s},Ut.P.VR_SELECT),h&&(0,c.jsx)(ar,{},Ut.P.TERMS),p&&(0,c.jsx)(wa,{isMobile:l,viewmode:d,allModes:S.BD},Ut.P.HELP),y&&(0,c.jsx)(Va,{},Ut.P.RATING_THANK_YOU),E&&(0,c.jsx)(Ka,{},Ut.P.DEFURNISH_AI)]}))]}))}var qa=i(1055),$a=i(87549),Za=i(38386);const Qa=function(e,t){const i=e.classList;switch(t){case P.wS.NORMAL:case P.wS.SIDE_PANEL:i.replace("narrow-layout","standard-layout")||i.add("standard-layout");break;case P.wS.NARROW:case P.wS.BOTTOM_PANEL:i.replace("standard-layout","narrow-layout")||i.add("narrow-layout")}};var Xa=i(8334),Ja=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},eo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let to=class extends r.Component{constructor(e){super(e),this.getInitialState=()=>({messagePhraseKey:"",active:!1,ctaPhraseKey:"",timeout:0,multiline:!1,dismissesOnAction:!1,actionHandler:()=>{}}),this.triggerAction=e=>{e.stopPropagation(),this.state.actionHandler&&this.state.actionHandler(),this.state.dismissesOnAction&&this.hide()},this.hide=async()=>{window.clearTimeout(this.timeout),this.setState({active:!1})},this.show=async e=>{const t=Object.assign(this.getInitialState(),e,{active:!0});this.setState(t),window.clearTimeout(this.timeout),t.timeout>0&&(this.timeout=window.setTimeout((()=>{this.setState({active:!1})}),t.timeout))},this.state=this.getInitialState()}componentDidMount(){this.context.commandBinder.addBinding(Xa.L,this.show),this.context.commandBinder.addBinding(Xa.Q,this.hide)}componentWillUnmount(){window.clearTimeout(this.timeout),this.context.commandBinder.removeBinding(Xa.L,this.show),this.context.commandBinder.removeBinding(Xa.Q,this.hide)}render(){const{locale:e}=this.context,t=this.props.className||"",{active:i,multiline:n,messagePhraseKey:s,ctaPhraseKey:r,dismissesOnAction:a}=this.state,o={active:i,multiline:n},l=s?e.t(s):null,d=r?e.t(r):null;return(0,c.jsx)("div",Object.assign({className:"toastr-wrapper",onClick:a?this.hide:void 0},{children:(0,c.jsxs)("div",Object.assign({className:m()("toastr-contents",`${t}`,o)},{children:[(0,c.jsx)("div",Object.assign({className:"toastr-text"},{children:l})),d&&(0,c.jsx)("a",Object.assign({className:"link",onClick:this.triggerAction},{children:d}))]}))}))}};to.contextType=f.I,to=Ja([zt.A,eo("design:paramtypes",[Object])],to);const{PANELS:io}=g.Z;function no({children:e,className:t,sidePanelCollapsible:i}){const{commandBinder:n,analytics:s}=(0,r.useContext)(f.I),a=(0,Fn.E)(),o=(0,Ys.x)(),l=(0,_.b)(),d=(0,N.Y)(),u=o&&o.panel;let p=null;u&&e&&Array.isArray(e)&&(p=e.find((e=>e&&e.key===(null==o?void 0:o.id)))||!1);const g=(0,r.useCallback)((()=>{p&&!d&&(s.track("showcase_gui",{gui_action:"toggle_side_panel"}),n.issueCommand(new h.Fg(!a)))}),[p,d,s,n,a]);(0,r.useEffect)((()=>{p&&!d&&a&&!i&&n.issueCommand(new h.Fg(!1))}),[p,d,a,i,n]);const v=a?l.t(io.EXPAND_PANEL):l.t(io.COLLAPSE_PANEL),y=a?"icon-dpad-left":"icon-dpad-right",E=!!(o&&p&&o.panel),b=p&&!!(null==o?void 0:o.panelLeft)&&!d,S=p&&!b&&!d,O={"panel-open":E&&!a,"panel-collapsed":E&&a,"panel-bottom":d,"panel-side":!d,"panel-left":b,"panel-right":S};return(0,c.jsxs)(c.Fragment,{children:[E&&S&&i&&(0,c.jsx)("div",Object.assign({className:"panel-track"},{children:(0,c.jsx)("div",Object.assign({className:"panel-track-thumb right","data-balloon":v,"data-balloon-pos":"left",onClick:g},{children:(0,c.jsx)("span",{className:`icon ${y}`})}))})),(0,c.jsx)(Ye.N,Object.assign({className:m()("panels",O,t),open:E,selectChild:!0,childKey:null==o?void 0:o.id},{children:e}))]})}const so=e=>{var t;return!!(null===(t=e.ui)||void 0===t?void 0:t.renderPanel)&&!e.panelLeft},ro=e=>{var t;return!!(null===(t=e.ui)||void 0===t?void 0:t.renderPanel)&&!!e.panelLeft};function ao({children:e,className:t}){const{mainDiv:i,commandBinder:n,toolsData:s,editMode:a}=(0,r.useContext)(f.I),o=(0,Ys.x)(),l=(0,Hi.R)(),d=(0,Fn.E)(),u=(0,k.T)(),h=u===P.wS.BOTTOM_PANEL;return(0,r.useEffect)((()=>{Qa(i,u)}),[i,u]),(0,r.useEffect)((()=>{d?i.classList.add("tool-collapsed"):i.classList.remove("tool-collapsed"),lo(i,o,h)}),[i,d,o,h]),(0,r.useEffect)((()=>{i.classList.remove("bottom-panel","left-panel","right-panel"),o&&o.panel&&i.classList.add(h?"bottom-panel":o.panelLeft?"left-panel":"right-panel"),lo(i,o,h)}),[i,o,h]),(0,r.useEffect)((()=>{l?i.classList.add("modal-open"):i.classList.remove("modal-open"),l&&n.issueCommand(new we.vy,!1)}),[i,l]),(0,c.jsxs)("div",Object.assign({className:m()("app-ui",t)},{children:[(0,c.jsx)(no,Object.assign({sidePanelCollapsible:!1},{children:s.toolsMap.values.filter(ro).map((e=>(0,c.jsx)(oo,{tool:e},e.id)))})),(0,c.jsx)("div",Object.assign({className:"scene-overlay"},{children:e})),(0,c.jsx)(no,Object.assign({sidePanelCollapsible:a},{children:s.toolsMap.values.filter(so).map((e=>(0,c.jsx)(oo,{tool:e},e.id)))})),(0,c.jsx)(to,{})]}))}function oo({tool:e}){var t;return(null===(t=e.ui)||void 0===t?void 0:t.renderPanel)?(0,c.jsx)("div",Object.assign({className:"tool-panel"},{children:e.ui.renderPanel()})):null}function lo(e,t,i){i&&!0===(null==t?void 0:t.searchModeType)?e.classList.add("with-search-bar"):e.classList.remove("with-search-bar")}var co=i(69757),uo=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},ho=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let po=class extends Rr{constructor(e){super(e),this.state={vrPlatform:null}}render(){return this.state.vrPlatform===lr.bk.webxr?this.renderOverlayCta():null}renderOverlayCta(){const{locale:e}=this.context;return(0,c.jsx)("div",Object.assign({id:"vr-overlay-layer",className:"overlay grid-overlay"},{children:(0,c.jsx)(co.o,Object.assign({small:!0},{children:(0,c.jsx)(w.zx,{size:w.qE.SMALL,variant:w.Wu.FAB,theme:"dark",label:e.t(g.Z.VR_ENTER),onClick:this.startWebXR})}))}))}};po.contextType=f.I,po=uo([zt.Z,ho("design:paramtypes",[Object])],po);const{TOURS:mo}=g.Z.SHOWCASE;function fo(e){const{locale:t,messageBus:i,settings:n,commandBinder:s}=(0,r.useContext)(f.I),{highlights:a,tourPlaying:o}=e,l=(0,N.Y)(),d=t.t(mo.TOUR_CONTROLS_TITLE),u=t.t(mo.TOUR_CONTROLS_CTA),h=0===a.length,[p,g]=(0,r.useState)(!1),v=(0,r.useCallback)((async e=>{h||(e.stopPropagation(),await s.issueCommand(new we.r2))}),[h,s]),y=(0,r.useCallback)((async e=>{h||(e.stopPropagation(),await s.issueCommand(new we.Ri))}),[h,s]);return(0,r.useEffect)((()=>{const e=[];let t=0;const n=()=>{g(!1)};return e.push(i.subscribe(Ke.oR,(()=>{})),i.subscribe(Ke.NR,n)),()=>{e.forEach((e=>e.cancel())),clearInterval(t)}}),[i,n,l]),(0,c.jsxs)("div",Object.assign({className:m()("tour-story-controls-mobile",{prompt:p,tourPlaying:o})},{children:[(0,c.jsx)("div",Object.assign({className:"tour-story-help-title"},{children:d})),(0,c.jsx)("div",Object.assign({className:"tour-story-help-cta"},{children:u})),(0,c.jsx)("div",Object.assign({className:"tour-story-prev",onClick:y},{children:(0,c.jsx)("div",{className:"icon icon-dpad-left"})})),(0,c.jsx)("div",Object.assign({className:"tour-story-next",onClick:v},{children:(0,c.jsx)("div",{className:"icon icon-dpad-right"})}))]}))}const go=new T.Z("showcase-ui"),vo=(0,qa.FU)();class yo extends r.Component{constructor(e,t){super(e,t),this.bindings=[],this.propertiesToRefreshUi=[ce.gx.Measurements,ce.gx.DetailsModelName,Ft.w,ce.gx.FloorSelect,Za.IA,ce.gx.RoomBounds],this.isUnmounting=!1,this.getModeChange=e=>({viewmode:(0,S.ty)(e.toMode)}),this.updateToolPanelLayout=()=>{const{toolsData:e}=this.context,t=e.toolPanelLayout;this.setState({toolPanelLayout:t})},this.showHelpOnPlaying=e=>{e.phase===u.nh.PLAYING&&(this.context.commandBinder.issueCommand(new Ht.B(Ut.P.CTA,!0)),this.context.messageBus.unsubscribe(d.LZ,this.showHelpOnPlaying))},this.updateTools=()=>{const{toolsData:e}=this.context,{toolsLoaded:t}=this.state,i=e.toolsMap;this.setState({toolsCount:i.length}),i.length>0&&!t&&(this.setState({toolsLoaded:!0}),window.setTimeout((()=>{this.context.commandBinder.issueCommand(new h.r_)}),750))},this.updatePerSettings=()=>{const{settings:e,policyData:t}=this.context;this.setState({measurementsModeEnabled:e.tryGetProperty(ce.gx.Measurements,!0)||(0,Ts.PQ)(t,e,!1),notesEnabled:e.tryGetProperty(Za.IA,!1)})},this.updateTourState=()=>{this.tourData&&this.setState({tourState:this.tourData.getCurrentTourState()})},this.updateTourMode=()=>{this.toursViewData&&this.setState({tourMode:this.toursViewData.currentTourMode})},this.isVrButtonEnabled=()=>(0,lr.hX)(this.context.settings),this.updateActiveTool=()=>{const{tourState:e}=this.state,{toolsData:t,commandBinder:i}=this.context,n=t.activeToolName;n&&e.tourPlaying&&i.issueCommand(new we.vy,!1),this.setState({activeToolName:n})},this.openModalChanged=()=>{const{toolsData:e}=this.context,t=e.openModal;this.setState({openModal:t})},this.state={viewmode:S.g,activeToolName:null,openModal:null,toolsLoaded:!1,toolsCount:0,toolPanelLayout:t.toolsData.toolPanelLayout,tourState:{},tourMode:Ae.zz.NONE,modelDetails:null,measurementsModeEnabled:!1,notesEnabled:!1,vrEnabled:!1,brandingEnabled:!1,shareEnabled:!1,unaligned:!0,showExternalUrl:!1}}async componentDidMount(){const{settings:e,messageBus:t,market:i,toolsData:n,mainDiv:s}=this.context;s.classList.remove("with-toolbar");for(const t of this.propertiesToRefreshUi)e.onPropertyChanged(t,this.updatePerSettings);try{this.cancelBindings(),this.bindings=[n.onPropertyChanged("activeToolName",this.updateActiveTool),n.onPropertyChanged("openModal",this.openModalChanged),n.onPropertyChanged("toolPanelLayout",this.updateToolPanelLayout),n.toolsMap.onChanged(this.updateTools)],this.handleStartUpHelp();const[e,s,r,a,o]=await Promise.all([i.waitForData(Gi.T),i.waitForData(E.O),i.waitForData(Aa.Z),i.waitForData(Le.k),i.waitForData(st.T)]);if(this.isUnmounting)return;this.bindings.push(t.subscribe($a.Z,(e=>this.setState(Object.assign(Object.assign({},this.getModeChange(e)),this.getUnalignedSweepState())))),t.subscribe(Ke.NR,this.updateTourState),t.subscribe(Ke.oR,this.updateTourState),t.subscribe(Ke.Vx,this.updateTourState),t.subscribe(Ke.Mt,this.updateTourState),t.subscribe(Ke.dW,this.updateTourState),a.getReel().onChanged(this.updateTourState),o.onPropertyChanged("currentTourMode",this.updateTourMode),r.makeSweepChangeSubscription((()=>this.setState(this.getUnalignedSweepState()))));const l=(0,S.ty)(s.currentMode||z.Ey.Panorama);this.tourData=a,this.toursViewData=o,this.sweepData=r,this.viewmodeData=s,this.setState(Object.assign({viewmode:l,modelDetails:e.model.details,brandingEnabled:this.isBrandingEnabled()&&!this.isMlsEnabled(),shareEnabled:this.isShareEnabled()&&!this.isMlsEnabled(),showExternalUrl:this.isBrandingEnabled()&&!this.isMlsEnabled(),vrEnabled:this.isVrButtonEnabled()},this.getUnalignedSweepState())),this.props.onAppReadyChanged(!0,!1)}catch(e){go.debug(e)}this.updateTourState(),this.updateTourMode(),this.updateActiveTool(),this.updateToolPanelLayout(),this.updateTools(),this.updatePerSettings()}async componentWillUnmount(){this.isUnmounting=!0;for(const e of this.propertiesToRefreshUi)this.context.settings.removeOnPropertyChanged(e,this.updatePerSettings);this.cancelBindings(),this.props.onAppReadyChanged(!1,!1)}handleStartUpHelp(){const{settings:e,messageBus:t,commandBinder:i}=this.context,n=e.getOverrideParam("help",0);if(1===n||2===n){const n=1===e.getOverrideParam("ts",0),s=!0===e.tryGetProperty("quickstart",!1);n||(s?i.issueCommand(new Ht.B(Ut.P.CTA,!0)):t.subscribe(d.LZ,this.showHelpOnPlaying))}}getUnalignedSweepState(){if(!this.sweepData||!this.viewmodeData)return{unaligned:this.state.unaligned};return{unaligned:this.viewmodeData.isInside()&&this.sweepData.isSweepUnaligned(this.sweepData.currentSweep)}}cancelBindings(){for(const e of this.bindings)e.cancel()}isShareEnabled(){const{settings:e}=this.context,t=e.tryGetProperty(Bi.Yo,!1)&&e.tryGetProperty("is_public",!1),i=(0,M.SP)()&&"0"===vo.share;return t&&!i}isMlsEnabled(){return this.context.settings.tryGetProperty(Bi.sX,!1)}isBrandingEnabled(){const{settings:e}=this.context;return e.tryGetProperty(Bi.L,!0)}renderActiveToolOverlay(){var e;const{toolsData:t}=this.context,i=t.toolsMap,{activeToolName:n}=this.state,s=n&&(null===(e=i.get(n))||void 0===e?void 0:e.ui),r=(null==s?void 0:s.renderOverlay)?s.renderOverlay():null;return(0,c.jsxs)("div",Object.assign({className:"tool-overlay"},{children:[r,!n&&(0,c.jsx)(po,{})]}))}renderPersistentToolOverlay(){const{toolsData:e}=this.context,t=e.toolsMap.values.map((e=>e.ui.renderPersistentOverlay&&e.ui.renderPersistentOverlay())).filter((e=>!!e));return(0,c.jsx)("div",Object.assign({className:"overlay-ui"},{children:t}))}renderToolTopUI(){var e;const{toolsData:t}=this.context,i=t.toolsMap,{activeToolName:n}=this.state,s=n&&(null===(e=i.get(n))||void 0===e?void 0:e.ui),r=(null==s?void 0:s.renderTopUIElements)?s.renderTopUIElements():null;return r||void 0}renderToolSettingsPanel(){var e;const{toolsData:t}=this.context,i=t.toolsMap,{activeToolName:n}=this.state,s=n&&(null===(e=i.get(n))||void 0===e?void 0:e.ui),r=(null==s?void 0:s.renderShowcaseSettingsPanel)?s.renderShowcaseSettingsPanel():null;return r||void 0}render(){const{viewmode:e,unaligned:t,tourState:i,modelDetails:n,measurementsModeEnabled:s,notesEnabled:r,shareEnabled:a,brandingEnabled:o,vrEnabled:l,openModal:d,toolsLoaded:u,toolPanelLayout:h,activeToolName:p,tourMode:m}=this.state,{tourPlaying:f,activeStep:g,currentStep:v,highlights:y}=i,E=m===Ae.zz.STORIES,b=this.renderToolTopUI(),S=this.renderToolSettingsPanel();return(0,c.jsxs)("div",Object.assign({id:"gui",className:"showcase-ui"},{children:[(0,c.jsx)(Ya,{viewmode:e,shareEnabled:a}),(0,c.jsx)(ao,{children:(0,c.jsxs)(c.Fragment,{children:[!!n&&(0,c.jsx)(Fs,{modelDetails:n,tourPlaying:f,brandingEnabled:o,toolElements:b,toolSettings:S}),E&&(0,c.jsx)(Ws,{currentStep:v,activeStep:g,highlights:y}),E&&(0,c.jsx)(fo,{highlights:y,tourPlaying:f}),(0,c.jsx)(Gs,{}),(0,c.jsx)($s,{}),u&&this.renderActiveToolOverlay(),u&&this.renderPersistentToolOverlay(),(0,c.jsx)(kn,{openModal:d,openTool:p,unaligned:t,viewmode:e,tourState:i,tourMode:m,measurementsModeEnabled:s,notesEnabled:r,shareEnabled:a,vrEnabled:l,toolPanelLayout:h})]})})]}))}}yo.contextType=f.I;var Eo=i(70593),bo=i(59635),So=i(47149),Oo=i(46301),To=i(38496),_o=i(82196),No=i(30922),wo=i(16928),Ao=i(44288),Io=i(53310),ko=i(92164);class Po{constructor(e,t){this.engine=e,this.disabledAssets={[wo.U]:!1,[To.s]:!1,[_o.Nj]:!1,[No.re]:!1,[Si.Mp]:!1},this.settingsToggler=new Oo.u(t,this.disabledAssets),this.initPromise=this.init()}async init(){const{market:e}=this.engine;[this.measurementModeData,this.searchData]=await Promise.all([e.waitForData(Ao.X),e.waitForData(So.T)])}async activate(){this.settingsToggler.toggle(!0),await this.engine.commandBinder.issueCommandWhenBound(new Io.O(!0,!0))}async deactivate(){this.settingsToggler.toggle(!1),this.engine.commandBinder.issueCommand(new ko.Q(-1)),await this.engine.commandBinder.issueCommand(new Io.O(!1))}async dispose(){await this.initPromise}}var Lo=i(8374);const Do=i.p+"images/MP-logo_H_lock-RGB_color-black.svg",{SUBSCRIBER_PROMPT:Ro}=g.Z.SHOWCASE,Mo=e=>{e.preventDefault()},Co=()=>{const e=(0,hs.z)(),t=(0,_.b)(),[i,n]=(0,r.useState)(!0),s=(0,r.useCallback)((t=>{e.trackGuiEvent("subscriber_prompt_b_banner_click"),window.open(Bn.Tm,"_blank")}),[e]);return(0,r.useEffect)((()=>(i&&(e.trackGuiEvent("subscriber_prompt_b_banner_viewed"),n(!1)),()=>{})),[e,i]),(0,c.jsxs)("div",Object.assign({className:"subscriber-prompt-banner",onClick:s},{children:[(0,c.jsx)("img",{className:"matterport-logo",alt:"Matterport",src:Do}),(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",onClick:Mo,href:Bn.Tm},{children:t.t(Ro.BANNER_CTA_LINK_TEXT)}))]}))},xo=(0,ot.M)("isSubscriberBannerVisible",(()=>{const e=zn();return Gn().bannerEnabled&&e}));var Fo=i(69634),Uo=i(35748),Ho=i(75287);const{SUMMARY:jo}=g.Z.SHOWCASE,Vo=xn.MN/1.6,Bo=new Ho.v({});class Go extends r.Component{constructor(e){super(e),this.getImageURL=e=>{const t=new URL(e);return t.searchParams.set("width",String(xn.MN)),t.searchParams.delete("height"),t.searchParams.delete("fit"),t.searchParams.set("crop","16:10"),t.searchParams.set("dpr",String(window.devicePixelRatio)),t.href},this.onExternalLinkClicked=e=>{this.context.analytics.track("showcase_share_origin_link_clicked")},this.state={thumbnail:void 0}}componentDidMount(){const{market:e}=this.context.engine;e.waitForData(Lo.O).then((e=>{e.thumb&&e.thumb.get().then((e=>{try{this.setState({thumbnail:this.getImageURL(e)})}catch(e){this.setState({thumbnail:void 0})}}))}))}getFilteredValue(e,t,i,n){return!this.context.settings.tryGetProperty(t,i)||n&&!this.props.brandingEnabled?"":e}render(){const{modelDetails:e,showExternalUrl:t,isSubscriberBannerVisible:i}=this.props,{thumbnail:n}=this.state,{locale:s}=this.context,{name:r,presentedBy:a,summary:o,description:l,formattedAddress:d,contact:u,externalUrl:h}=e,p=t?h:"",m=this.getFilteredValue(r,ce.gx.DetailsModelName,!0,!1),f=this.getFilteredValue(d,ce.gx.DetailsAddress,!1,!1),v=this.getFilteredValue(o,ce.gx.DetailsSummary,!1,!1),y=this.getFilteredValue(l,ce.gx.DetailsSummary,!1,!1),E=this.getFilteredValue(a,ce.gx.PresentedBy,!1,!0),b=this.getFilteredValue(u.name,ce.gx.DetailsName,!1,!0),S=this.getFilteredValue(u.email,ce.gx.DetailsEmail,!1,!0),O=this.getFilteredValue(u.phone,ce.gx.DetailsPhone,!1,!0),T=this.getFilteredValue(u.formattedPhone,ce.gx.DetailsPhone,!1,!0),_=T||O;return(0,c.jsx)("div",Object.assign({className:"summary-content"},{children:(0,c.jsxs)(qt.Z,Object.assign({thumbScrollingOnly:!0,direction:$t.Nm.vertical},{children:[n?(0,c.jsx)("img",{className:"summary-image",width:xn.MN,height:Vo,src:n,alt:`Photo of "${m}"`}):null,i&&(0,c.jsx)(Co,{}),(0,c.jsxs)("div",Object.assign({className:"summary-text-content"},{children:[m&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(jo.LABEL_LOCATION)})),(0,c.jsx)("div",Object.assign({className:"location"},{children:m}))]}),f&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(jo.LABEL_ADDRESS)})),(0,c.jsx)("div",Object.assign({className:"section-body"},{children:f}))]}),E&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:this.context.locale.t(g.Z.PRESENTED_BY)})),(0,c.jsx)("div",Object.assign({className:"section-body"},{children:E}))]}),(b||O||S)&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(jo.LABEL_CONTACT)})),(0,c.jsxs)("div",Object.assign({className:"section-body"},{children:[b&&(0,c.jsx)("div",{children:b}),S&&(0,c.jsx)("div",{children:(0,c.jsx)("a",Object.assign({className:"link",href:"mailto:"+S},{children:S}))}),_&&(0,c.jsx)("div",{children:_})]}))]}),p&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(jo.LABEL_LEARN_MORE)})),(0,c.jsxs)("div",Object.assign({className:"external-link-wrapper"},{children:[(0,c.jsx)("i",Object.assign({className:"icon-ext-link"},{children:" "})),(0,c.jsx)("a",Object.assign({className:"section-body link",onClick:this.onExternalLinkClicked,href:p,target:"_blank",rel:"noopener"},{children:p}))]}))]}),v&&!y&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(jo.LABEL_INFORMATION)})),(0,c.jsx)("div",Object.assign({className:"section-body"},{children:v}))]}),y&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(jo.LABEL_DESCRIPTION)})),(0,c.jsx)(Fo.S,{text:y,textParser:Bo,markers:Uo.PP,linksActive:!1,className:"section-body"})]})]}))]}))}))}}Go.contextType=f.I;const Wo=xo(Go);var zo=i(36010);const{SUMMARY:Ko}=g.Z.SHOWCASE;function Yo(){const e=(0,_.b)(),t=Zs(),i=(0,ee.y)(Bi.L,!0),n=(0,ee.y)(Bi.sX,!1),s=i&&!n,r=i&&!n;return t?(0,c.jsx)(zo.L,Object.assign({toolId:P.w1.SUMMARY,title:e.t(Ko.HEADING)},{children:(0,c.jsx)(Wo,{modelDetails:t,brandingEnabled:s,showExternalUrl:r})})):null}class qo{constructor(){this.renderPanel=()=>(0,c.jsx)(Yo,{})}}var $o=i(71392),Zo=i(71914),Qo=i(60580);const Xo=(0,Pe.M)(u.pu,"application",u.Mx.UNKNOWN);function Jo(){const e=(0,ee.y)(ce.gx.Measurements,!0);return Xo()!==u.Mx.SHOWCASE||e}const el=(0,Pe.M)(Ao.X,"phase",Qo.au.CLOSED);var tl=i(77855),il=i(65834);function nl(){const e=(0,tl.m)();return(0,il.l)(e||"")}var sl=i(8899);const rl=(0,Pe.M)(Ao.X,"pressProgress",-1);var al=i(65919),ol=i(52803);var ll=i(77006);const cl={addEnabled:{[Qo.au.CREATING]:!0,[Qo.au.CONFIRMING_POINT]:!0},deleteVisible:{[Qo.au.IDLE]:!0,[Qo.au.CREATING]:!0,[Qo.au.CREATING_NEXT_POINT]:!0}},dl=(Qo.au.CREATING,Qo.au.CONFIRMING_POINT,{[Qo.au.IDLE]:!0,[Qo.au.CREATING]:!0,[Qo.au.CREATING_NEXT_POINT]:!0});var ul=i(99244),hl=i(94936),pl=i(47615),ml=i(72439),fl=i(37649);const gl="Measurement-Help",vl="measurement-mode-help";function yl({touchDevice:e,unaligned:t,phase:i,confirming:n,selectedGroup:s}){const{editMode:a,commandBinder:o}=(0,r.useContext)(f.I),l=(0,r.useRef)(null),d=(0,_.b)();function u(){l.current&&l.current.dismissNudge()}const h=i===Qo.au.CREATING&&(!s||0===s.count),p=i===Qo.au.CREATING_NEXT_POINT&&!!s&&2===s.count,m=!n&&(h||p),v=i===Qo.au.EDITING,y=m||n,E=t||v;let b=ml.d.ADD,S=d.t(g.Z.MEASUREMENT_ADD_LABEL);n?(b=ml.d.CONFIRM,S=d.t(g.Z.MEASUREMENT_SAVE_LABEL)):m&&(b=ml.d.CANCEL,S=d.t(g.Z.MEASUREMENT_CANCEL_LABEL));const O=s&&b!==ml.d.CANCEL&&(e?!!cl.deleteVisible[i]:!!dl[i]),T=d.t(g.Z.MEASUREMENT_START_ADDING),N=a,A=O?(0,c.jsx)(w.zx,{className:"action-button-outer",icon:"delete",variant:w.Wu.FAB,theme:"overlay",onClick:e=>{u(),e.stopPropagation(),o.issueCommand(new ul.Ev)}}):void 0;return(0,c.jsx)(co.o,Object.assign({outerRight:A},{children:(0,c.jsx)(fl.W,{ref:l,disabled:E,addIcon:b,ariaLabel:S,ariaDescribedBy:gl,allowLayerChange:y,onChangeLayer:()=>{u()},nudgeDisabled:N,nudgeMessage:T,nudgeSessionKey:"measurement-mode-add-tooltip",onClick:e=>{u(),e.stopPropagation(),i===Qo.au.IDLE?o.issueCommand(new hl.c):o.issueCommand(new pl.B)}})}))}const El=i(69506);function bl(e){const{touchDevice:t,phase:i,groupCount:n}=e,{settings:s}=(0,r.useContext)(f.I),a=(0,_.b)(),o=(0,ee.y)(vl,!1),[l,d]=(0,r.useState)(!1);if((0,r.useEffect)((()=>()=>{l&&s.setProperty(vl,!0)}),[l,s]),o)return null;const u=a.t(g.Z.MEASUREMENT_HELP_CLICK_ANYWHERE),h=a.t(g.Z.MEASUREMENT_HELP_ESCAPE),p=a.t(g.Z.MEASUREMENT_HELP_PRESS_START),v=a.t(g.Z.MEASUREMENT_HELP_DRAG_EDIT),y=a.t(g.Z.MEASUREMENT_HELP_PRESS_END);let E,b,S;if(t)switch(i){case Qo.au.CREATING:E=(0,c.jsx)("div",{className:"icon icon-press-hold"}),b=p;break;case Qo.au.CREATING_NEXT_POINT:E=(0,c.jsx)("div",{className:"icon icon-drag-edit"}),b=y,l||d(!0);break;case Qo.au.EDITING:case Qo.au.POINT_PLACED:E=(0,c.jsx)("div",{className:"icon icon-finger-drag"}),b=v;break;default:return null}else switch(i){case Qo.au.CREATING:E=(0,c.jsx)("div",{className:"icon icon-draw-lines"}),b=u;break;case Qo.au.CREATING_NEXT_POINT:n>=3&&(E=(0,c.jsx)("div",Object.assign({className:"escape-key"},{children:(0,c.jsx)("img",{src:El})})),b=h,S="escape-message",l||d(!0));break;default:return null}return(0,c.jsxs)("div",Object.assign({className:"overlay-message"},{children:[E,b&&(0,c.jsx)("span",Object.assign({id:gl,className:m()("message",S)},{children:b}))]}))}var Sl=i(79284);function Ol(){var e;const{commandBinder:t}=(0,r.useContext)(f.I),i=(0,$o.O)(),n=(0,ee.y)(F.F.MeasurementContinuousLines,!1),s=Jo(),a=el(),o=nl(),l=(0,r.useMemo)((()=>(0,M.Jm)()),[]),d=function(){var e;const t=(0,sl.J)(),[i,n]=(0,r.useState)(null!==(e=null==t?void 0:t.pointPosition)&&void 0!==e?e:null);return(0,r.useEffect)((()=>{if(!t)return()=>{};function e(){t&&n(t.pointPosition)}const i=t.onPointPositionChanged(e);return e(),()=>i.cancel()}),[t]),i}(),u=rl(),h=function(){const e=nl(),t=(0,ee.y)(F.F.MeasurementContinuousLines,!1),i=(null==e?void 0:e.count)||0;return t?i>2:2===i}(),p=(0,Zo.q)(),m=!!o&&(h&&(n?a===Qo.au.CREATING_NEXT_POINT:a===Qo.au.CREATING));(0,r.useEffect)((()=>(a===Qo.au.CLOSED&&t.issueCommand(new Ht.B(Ut.P.MEASUREMENT_HELP,!1)),()=>{})),[a]);const g=cl.addEnabled[a],v=(null==o?void 0:o.info.text)?` ${o.info.text}`:"",y=o?`${((e,t)=>{if(t===al.M.METRIC)return`${e.toFixed(2)}m`;const{feet:i,inches:n}=(0,ol.XJ)(e);return i>0?`${i}' ${n}"`:`${n}"`})(o.length,i)} ${v}`:void 0;return(0,c.jsxs)("div",Object.assign({className:"overlay grid-overlay measurements-overlay"},{children:[o&&(0,c.jsx)(Sl.u,{children:y}),(0,c.jsx)(bl,{phase:a,touchDevice:l,groupCount:null!==(e=null==o?void 0:o.count)&&void 0!==e?e:0}),g&&(0,c.jsx)(ll.B,{progress:u,screenPosition:d}),s&&(0,c.jsx)(yl,{unaligned:p,phase:a,touchDevice:l,selectedGroup:o,confirming:m})]}))}function Tl(){const{analytics:e,commandBinder:t}=(0,r.useContext)(f.I),i=(0,_.b)(),n=(0,Hi.R)(),s=el(),a=n===Ut.P.MEASUREMENT_HELP;function o(){t.issueCommand(new Ht.B(Ut.P.MEASUREMENT_HELP,!1))}(0,r.useEffect)((()=>(s===Qo.au.CLOSED&&o(),()=>{})),[s]);const l=i.t(g.Z.HELP),d=i.t(g.Z.CLOSE),u=(0,c.jsx)(w.zx,{className:"measurement-top-ui-button",variant:w.Wu.FAB,theme:"overlay",icon:"help",active:a,onClick:i=>{i.stopPropagation(),a||e.trackToolGuiEvent("measurements","measure_mode_help_clicked"),t.issueCommand(new Ht.B(Ut.P.MEASUREMENT_HELP,!a))},ariaLabel:l,tooltip:!a&&l||void 0,tooltipOptions:{placement:"bottom"}},"measurement-help"),p=(0,c.jsx)(w.zx,{className:"measurement-top-ui-button",icon:"close",variant:w.Wu.FAB,theme:"overlay",tooltip:d,tooltipOptions:{placement:"bottom"},onClick:async e=>{e&&e.stopPropagation(),o(),await t.issueCommand(new h.tT(P.w1.MEASUREMENTS,!1))}},"measurement-close");return(0,c.jsxs)("div",Object.assign({className:"measurement-top-ui-button-container"},{children:[u,p]}))}var _l=i(17106),Nl=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},wl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Al=class extends r.Component{constructor(e){super(e),this.onChange=e=>{this.props.onChange(e)}}render(){const{id:e,name:t,value:i,checked:n,children:s,enabled:r}=this.props,a=!r;return(0,c.jsxs)("div",Object.assign({className:m()("radio-element","radio-button",{disabled:a})},{children:[(0,c.jsx)("input",{type:"radio",id:e,name:t,value:i,checked:n,onChange:this.onChange}),(0,c.jsx)("label",Object.assign({className:"radio-button-label",htmlFor:e},{children:s}))]}))}};function Il(){const{settings:e,analytics:t}=(0,r.useContext)(f.I),i=(0,_.b)(),n=(0,$o.O)(),s=(0,_l.e)(),a=i=>{i.stopPropagation();const r=n===al.M.IMPERIAL?al.M.METRIC:al.M.IMPERIAL;t.trackGuiEvent(`units_click_${r}`,{tool:s}),e.setLocalStorageProperty(F.F.UnitType,r)},o=i.t(g.Z.MEASUREMENT_UNITS),l=i.t(g.Z.MEASUREMENT_IMPERIAL),d=i.t(g.Z.MEASUREMENT_METRIC),u=n===al.M.METRIC;return(0,c.jsxs)("div",Object.assign({className:"settings-toggle units-setting"},{children:[(0,c.jsx)("div",Object.assign({className:"settings-label"},{children:o})),(0,c.jsxs)("div",Object.assign({className:"radio-group radio-buttons"},{children:[(0,c.jsx)(Al,Object.assign({name:"unit",value:al.M.IMPERIAL,id:"unit-imperial",enabled:!0,checked:!u,onChange:a},{children:l})),(0,c.jsx)(Al,Object.assign({name:"unit",value:al.M.METRIC,id:"unit-metric",enabled:!0,checked:u,onChange:a},{children:d}))]}))]}))}function kl(){const{settings:e}=(0,r.useContext)(f.I),t=(0,_.b)(),i=(0,ee.y)(F.F.MeasurementSnapping,!1),n=(0,ee.y)(F.F.MeasurementContinuousLines,!1),s=Jo(),a=(0,r.useCallback)((()=>{e.setLocalStorageProperty(F.F.MeasurementSnapping,!i)}),[e,i]),o=(0,r.useCallback)((()=>{e.setLocalStorageProperty(F.F.MeasurementContinuousLines,!n)}),[e,n]),l=t.t(g.Z.MEASUREMENT_CONTINUOUS_LINES),d=t.t(g.Z.MEASUREMENT_SNAPPING),u=t.t(g.Z.TOOLS.MEASUREMENTS_SETTINGS);return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"floorplan-overlay-title"},{children:u})),(0,c.jsxs)(Ps,Object.assign({className:"floorplan-overlay-tooltip"},{children:[s&&(0,c.jsx)(ks,{label:d,onToggle:a,enabled:!0,toggled:i})," ",s&&(0,c.jsx)(ks,{label:l,onToggle:o,enabled:!0,toggled:n}),(0,c.jsx)(Il,{})]}))]})}Al=Nl([zt.Z,wl("design:paramtypes",[Object])],Al);class Pl{constructor(){this.renderOverlay=()=>(0,c.jsx)(Ol,{}),this.renderTopUIElements=()=>(0,c.jsx)(Tl,{}),this.renderShowcaseSettingsPanel=()=>(0,c.jsx)(kl,{})}}var Ll=i(22286),Dl=i(45995),Rl=i(1795),Ml=i(18510),Cl=i(62603);const{TOOLS:xl}=g.Z;class Fl extends o.Y{constructor(){super(),this.name="showcase-gui-module",this.onSaveError=e=>{const{error:t}=e;this.engine.commandBinder.issueCommand(new Dl.I(g.Z.ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE,{throttle:30,timeout:10,type:Rl.N.ERROR,error:t}))},this.onForbiddenError=e=>{const{error:t}=e;this.engine.commandBinder.issueCommand(new Dl.I(g.Z.ERRORS.UNAUTHORIZED_ERROR_MESSAGE,{throttle:0,timeout:0,type:Rl.N.ERROR,error:t}))},this.loadUi=this.loadUi.bind(this)}async init(e,t){this.engine=t,[this.settingsData,this.toolsData,this.policyData]=await Promise.all([t.market.waitForData(Un.e),t.market.waitForData(Eo.t),t.market.waitForData(oe.n)]),this.bindings.push(t.subscribe(Ll.dz,this.onSaveError),t.subscribe(Ll.hu,this.onForbiddenError))}async loadUi(e,t,i,n,s,o,l,c,d,u,h,p,m){const g={apiHost:m,editMode:!1,locale:e,analytics:t,settings:i,policyData:this.policyData,toolsData:this.toolsData,userData:n,mainDiv:s,engine:l,messageBus:c,market:d,commandBinder:u,queue:p};this.reactRoot=(0,a.createRoot)(o),this.reactRoot.render((0,r.createElement)(f.I.Provider,{value:g},[(0,r.createElement)(yo,{key:"showcase-ui",onAppReadyChanged:h})])),this.initializeTools()}async unloadUi(){return!!this.reactRoot&&(this.reactRoot.unmount(),!0)}initializeTools(){const e=[new bo.U({id:P.w1.MEASUREMENTS,searchModeType:l.SF.MEASUREMENTPATH,namePhraseKey:xl.MEASUREMENTS,panel:!1,icon:"icon-tape-measure",analytic:"measurements",dimmed:!1,enabled:this.settingsData.tryGetProperty(ce.gx.Measurements,!0),ui:new Pl,manager:new Po(this.engine,this.settingsData)}),new bo.U({id:P.w1.SUMMARY,namePhraseKey:xl.SUMMARY,panel:!0,panelLeft:!0,analytic:"summary",dimmed:!1,enabled:!0,hidesAppBar:!0,ui:new qo})];this.engine.commandBinder.issueCommand(new h.MV(e)),this.engine.commandBinder.issueCommandWhenBound(new Cl.Ws),this.engine.commandBinder.issueCommandWhenBound(new Ml.vn)}}},71173:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>U});var n=i(56063);class s extends n.m{}s.id="SHOWCASE_START";class r extends n.m{}r.id="SHOWCASE_STOP";class a extends n.m{}a.id="SHOWCASE_READY";var o=i(933),l=i(4763),c=i(88288),d=i(64150),u=i(24938),h=i(38099),p=i(99220),m=i(27944),f=i(31740),g=i(52893),v=i(50652),y=i(92831),E=i(7321),b=i(61173),S=i(1055),O=i(28721),T=i(93827),_=i(80694),N=i(8126);class w extends N.v0{constructor(e){super(),this.expanded=e}}var A=i(71180);class I{constructor(e,t){this.lastProgress=0,this.currentProgress=0,this.webpackChunks=[],this.meshAlloc={alloc:2e6,loaded:0},this.showingProgress=!1,this.onWebpackChunkProgress=e=>{this.webpackChunks[e.chunkID]?this.webpackChunks[e.chunkID].loaded=e.loaded:this.webpackChunks[e.chunkID]={loaded:e.loaded,total:e.total},this.calcProgress()},this.progressElm=t.querySelector("#bar"),window.addEventListener("WebpackChunkProgress",this.onWebpackChunkProgress),this.engine=e,this.meshProgressBinding=this.onMeshLoadProgress.bind(this),this.engine.subscribe(A.Zb,this.meshProgressBinding)}dispose(){window.removeEventListener("WebpackChunkProgress",this.onWebpackChunkProgress)}showProgress(){this.showingProgress=!0,this.setProgress(this.currentProgress)}setDone(){this.currentProgress=100,this.setProgress(this.currentProgress),this.engine.unsubscribe(A.Zb,this.meshProgressBinding)}setProgress(e){if(!this.progressElm||isNaN(e))return;this.lastProgress=Math.max(this.lastProgress,e),e=this.lastProgress;const t=Number.parseFloat(this.progressElm.getAttribute("r")||"0"),i=Math.PI*(2*t),n=(100-(e=Math.max(Math.min(e,100),0)))/100*i;this.progressElm.style.strokeDasharray=i.toString(10),this.progressElm.style.strokeDashoffset=n.toString(10)}calcProgress(){let e=0,t=0;this.webpackChunks.forEach((i=>{e+=i.loaded,t+=i.total})),e+=this.meshAlloc.loaded,t+=this.meshAlloc.alloc,this.currentProgress=95*Math.min(e/t,1),this.showingProgress&&this.setProgress(this.currentProgress)}onMeshLoadProgress(e){this.meshAlloc.loaded=e.loaded/e.total*this.meshAlloc.alloc,this.calcProgress()}}class k extends n.m{constructor(e,t){super(),this.payload={startup:e,editMode:t}}}k.id="START_APPLICATION";class P extends n.m{constructor(e){super(),this.payload={expand:e}}}P.id="EXPAND_APP";var L=i(69173);function D(e){const{width:t,height:i}=window.screen;return b.yL()&&(0,L.w)({width:t,height:i})&&e.height<.6*i}function R(){return b.Ot()&&!b.PI("xr-spatial-tracking")}class M{constructor(e,t,i,n){this.config=e,this.settingsData=t,this.containerData=i,this.sdkData=n,this.bindings=[]}async autoPlayIfWhenAllowed(e){const{editMode:t,openingTool:i,disabled:n,allowAutoPlay:s}=this.config;let r=!1;if(function(e,t,i){return!b.yL()||!!(e||i||t)}(this.settingsData.getOverrideParam("play",!1),i,t)&&(r=s||this.sdkConnected,!r)){(function(e){return e||b.yL()&&R()})(n)||(r=!D(this.containerData.size),r||(this.bindings.push(this.containerData.onPropertyChanged("size",(t=>{D(t)||(e(),this.bindings.forEach((e=>e.cancel())))}))),this.bindings.push(this.sdkData.onChanged((()=>{this.sdkConnected&&(e(),this.bindings.forEach((e=>e.cancel())))})))))}return r&&e(),r}get sdkConnected(){return this.sdkData.applicationKeys.length>0}dispose(){this.bindings.forEach((e=>e.cancel()))}}var C=i(91774),x=i(99115);function F(e,t){let i=function(e){return document.querySelector(`link[rel=${e}]`)}(e);i||(i=document.createElement("link"),document.head.appendChild(i)),i.setAttribute("rel",e),i.setAttribute("href",t)}class U extends o.Y{constructor(){super(...arguments),this.name="loading-ui",this.playPromise=new T.Q,this.onClick=()=>{this.resolvePlayPromise(!0,!1)},this.autoPlay=()=>{this.autoPlaying=!0,this.updatePlayAnalytics(),this.resolvePlayPromise(!0,this.config.editMode)},this.resolvePlayPromise=async(e,t)=>{var i;null===(i=this.autoPlayer)||void 0===i||i.dispose();const n=this.config.allowPlayInIframe||!b.tq()&&!R(),s=t&&(0,b.yL)()&&(n||1===this.settings.getOverrideParam("expand",0));if(!this.autoPlaying){if(!n&&1===this.settings.getOverrideParam("nt",0)){const e=(0,x.m5)(window.location.href);return void window.open(e,"_blank")}if((0,b.yL)()&&!s&&!n){const e=(0,S.kD)();t&&e.set("edit","1"),e.set("back","1"),e.delete("cloudEdit");const i=e.toString(),n=`${window.location.origin}${window.location.pathname}?${i}`;try{return void(window.top&&(window.top.location.href=n))}catch(e){this.log.debug("Couldn't set top window location; was Showcase sandboxed?"),this.log.debug(e)}}}s&&this.toggleIframeExpansion(!0),t&&this.settings.setProperty("quickstart",!0),e&&(this.config.disabled||(this.uiRoot.removeEventListener("click",this.onClick),this.playIcon.remove(),this.progressUI.showProgress()),this.playPromise.resolve())},this.toggleIframeExpansion=e=>{const t=e?new s:new r;this.engine.commandBinder.issueCommand(t),this.engine.broadcast(new w(e))},this.onAppPhaseChangeMessage=async e=>{e.phase!==u.nh.STARTING&&e.phase!==u.nh.PLAYING&&e.phase!==u.nh.ERROR||(this.progressUI.setDone(),this.config.quickstart?this.showQuickstartUI():this.uiRoot.classList.add("faded-out"),this.engine.unsubscribe(c.LZ,this.onAppPhaseChangeMessage))}}async init(e,t){this.engine=t,this.config=e;const{market:i,commandBinder:n}=this.engine;[this.locale,this.settings,this.containerData,this.sdkData]=await Promise.all([t.getModuleBySymbol(l.e9),i.waitForData(d.e),i.waitForData(p.V),i.waitForData(h.I)]);const s=await t.market.waitForData(g.T);this.model=s.model.details,this.updateHtmlMetadata(s,this.settings),this.autoPlaying=1===this.settings.getOverrideParam("play",0),this.bindings.push(n.addBinding(k,(async e=>{this.resolvePlayPromise(e.startup,e.editMode)})),n.addBinding(P,(async e=>{this.toggleIframeExpansion(e.expand)})),this.containerData.onPropertyChanged("size",(e=>{this.updatePlayAnalytics()}))),e.disabled||(this.bindings.push(this.settings.onPropertyChanged(C.DU,(()=>this.renderTitle())),this.settings.onPropertyChanged(C.L,(()=>this.renderBranding())),this.settings.onPropertyChanged(C.sX,(()=>this.renderBranding())),t.subscribe(c.LZ,this.onAppPhaseChangeMessage)),this.progressUI=new I(t,this.containerData.element),this.loadUi(),this.getLoadingElements(),this.renderSplashScreen())}dispose(e){var t,i;super.dispose(e),null===(t=this.progressUI)||void 0===t||t.dispose(),null===(i=this.autoPlayer)||void 0===i||i.dispose()}get waitForPlaying(){return this.playPromise.nativePromise()}loadUi(){if(this.uiRoot=this.containerData.element.querySelector("#loading-gui"),!this.uiRoot)throw Error("Loading GUI root not found");this.uiRoot.classList.remove("hidden"),this.config.quickstart&&(this.uiRoot.style.pointerEvents="none")}getPresentationOptions(){const{hideTitle:e,hideBranding:t,quickstart:i}=this.config,n=!i&&(void 0!==e?!e:this.settings.tryGetProperty(C.DU,!0)),s=this.settings.tryGetProperty(C.sX,!1),r=this.settings.tryGetProperty(C.L,!0);return{title:n,presentedBy:void 0!==t?!t:r&&!s}}getLoadingElements(){const e=this.containerData.element;this.presentedBy=e.querySelector("#loading-presented-by"),this.poweredBy=e.querySelector("#loading-powered-by"),this.mpLogo=e.querySelector("#loading-mp-logo"),this.mpLogo.src=_,this.mpLogo.alt=this.locale.t(E.Z.ALT_MATTERPORT_LOGO),this.circleLoader=e.querySelector("#circleLoader"),this.nameHeader=e.querySelector("#loading-header"),this.background=e.querySelector("#loading-background"),this.tint=e.querySelector("#tint"),this.playIcon=e.querySelector("#showcase-play"),this.playIcon.setAttribute("aria-label",this.locale.t(E.Z.PLAY)),this.playIcon.setAttribute("alt",this.locale.t(E.Z.PLAY))}addCobrand(){var e;if(null===(e=this.model)||void 0===e?void 0:e.presentedBy){const e=this.presentedBy.querySelector(".loading-label");e&&(e.textContent=this.locale.t(E.Z.PRESENTED_BY_CAPS));const t=this.presentedBy.querySelector(".subheader");t&&(t.textContent=this.model.presentedBy),this.presentedBy.classList.remove("hidden")}}hidePlayButtonUI(){this.background.style.backgroundImage="none",this.presentedBy.style.transition="none",this.presentedBy.classList.remove("faded-in"),this.poweredBy.style.transition="none",this.poweredBy.classList.remove("faded-in"),this.nameHeader.classList.add("hidden"),this.tint.classList.add("hidden"),this.circleLoader.classList.add("hidden"),this.uiRoot.classList.add("quickstart")}async showQuickstartUI(){this.background.classList.add("faded-out"),await(0,O.gw)(500),this.presentedBy.style.transition="",this.presentedBy.classList.add("faded-in"),this.poweredBy.style.transition="",this.poweredBy.classList.add("faded-in"),await(0,O.gw)(2500),this.presentedBy.classList.remove("faded-in"),this.poweredBy.classList.remove("faded-in"),this.uiRoot.classList.add("faded-out")}showLoadingUI(e){const t=document.createAttribute("data-status");t.value=this.locale.t(E.Z.LOADING);const i=this.containerData.element.querySelector("#loader-cont");i&&(i.attributes.setNamedItem(t),i.classList.add(this.locale.languageCode),i.classList.add("loading")),e.classList.add("faded-out"),this.presentedBy.classList.add("faded-in")}renderTitle(){const{title:e}=this.getPresentationOptions();this.nameHeader.classList.toggle("hidden",!e)}renderBranding(){const{presentedBy:e}=this.getPresentationOptions();e?this.addCobrand():this.presentedBy.classList.add("hidden")}async renderSplashScreen(){const{editMode:e,allowPlayInIframe:t,allowAutoPlay:i,disabled:n,openingTool:s,quickstart:r,hidePoweredBy:a}=this.config;this.renderTitle(),this.renderBranding(),a&&this.poweredBy.classList.add("hidden"),this.nameHeader.textContent=this.model.name,this.poweredBy.classList.add("faded-in"),this.tint.classList.add("faded-in");const o=this.containerData.element.querySelector("#play-prompt");this.playPromise.then((()=>{r?this.hidePlayButtonUI():this.showLoadingUI(o)})),this.autoPlayer=new M({editMode:e,allowPlayInIframe:t,allowAutoPlay:i,disabled:n,openingTool:s},this.settings,this.containerData,this.sdkData),this.autoPlaying=await this.autoPlayer.autoPlayIfWhenAllowed(this.autoPlay),this.autoPlaying||(o.classList.remove("hidden"),o.innerText=this.locale.t(E.Z.EXPLORE_3D_SPACE),this.playIcon.classList.remove("hidden"),this.uiRoot.addEventListener("click",this.onClick)),this.renderBackground(),t||window.scrollTo(0,0)}async renderBackground(){const e=v.K.deserialize();if(this.autoPlaying&&e){const t=await this.engine.market.waitForData(f.Z),i=(0,y.J)(e,t);if(i&&(0,y.l)(i,t))return}const t=window.devicePixelRatio||1,i=Math.max(window.innerWidth,400);this.background.style.backgroundImage=`url(${this.config.baseUrl}/api/v1/player/models/${this.config.viewId}/thumb?width=${i}&dpr=${t}&disable=upscale)`}updatePlayAnalytics(){this.engine.getModuleBySymbol(l.V6).then((e=>{e.setOptions(Object.assign({},(0,m.vx)(this.autoPlaying)))}))}updateHtmlMetadata(e,t){if("function"==typeof ShadowRoot&&this.containerData.rootNode instanceof ShadowRoot)return;const i=t.tryGetProperty(C.r4,null);if(e.hasDiscoverUrl()&&i){const{baseModelId:t,sid:n}=e.model,s=new URL(`${i}${t}`,"https://matterport.com");n&&n!==t&&s.searchParams.set("view",n),F("canonical",s.toString())}}}},14610:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Ke});var n=i(933),s=i(4763),r=i(27944);var a=i(3999),o=i(55574);class l{constructor(){this.handlers=[{msgType:a.m,func:(e,t,i)=>{const n=i.tryGetData(o.Z);n&&e.track("interaction_mode_changed",{interaction_mode_prev:t.fromMode,interaction_mode:t.mode,interaction_source:n.source})}}]}}var c=i(89555),d=i(7555);class u{constructor(){this.handlers=[{msgType:d.i,func:(e,t,i)=>{const{blockType:n}=t.block;if(n===c.C.TEXT)return;let s=t.block.text;n===c.C.LINK&&(s=t.block.value||""),n===c.C.USER&&(s=t.block.id||""),e.track("annotation_block_clicked",{block_type:n,block_value:s,annotation_type:t.annotationType,annotation_id:t.id})}}]}}var h,p=i(68540),m=i(16013),f=i(72392),g=i(84376);function v(e,t){switch(t){case g.hU.MANUAL:return 3}switch(e){case g.z9.ALIGNED:return 1;case g.z9.UNALIGNED:return 2}return 0}!function(e){e.USER="self-guided",e.TOUR="tour"}(h||(h={}));class y{constructor(){this.startLoadTime=Date.now(),this.endLoadTime=Date.now(),this.panosViewed=0,this.handlers=[{msgType:p.Z,func:(e,t,i)=>{this.onMoveToSweepBegin(t.timestamp)}},{msgType:m.Z,func:(e,t,i)=>{const n=i.tryGetData(o.Z),s=i.tryGetData(f.k);this.endLoadTime=Date.now();const r=this.endLoadTime-this.startLoadTime;e.track("pano_viewed",{pano_id:t.toSweep,pano_view_count:++this.panosViewed,alignment_type:v(t.alignmentType,t.placementType),navigation_source:s&&s.tourPlaying?h.TOUR:h.USER,interaction_source:n?n.source:o.Z.defaultSource,interaction_mode:n?n.mode:o.Z.defaultMode,load_time:r/1e3})}}]}onMoveToSweepBegin(e){this.startLoadTime=e}}var E=i(87549),b=i(64150),S=i(59452),O=i(40072);class T{constructor(e){this.engine=e,this.handlers=[],this.send=(e,t,i)=>{const n=i.tryGetData(o.Z),s={view_mode:t.toMode};n&&(s.interaction_source=n.source,s.interaction_mode=n.mode),e.track("mode_changed",s)},this.handlers.push({msgType:E.Z,func:(e,t,i)=>{this.peekabooActive||this.send(e,t,i)}},{msgType:O.Z,func:(e,t,i)=>{this.peekabooActive&&this.send(e,t,i)}})}get peekabooActive(){var e;return null===(e=this.engine.market.tryGetData(b.e))||void 0===e?void 0:e.tryGetProperty(S.eC,!1)}}var _=i(58642),N=i(33809),w=i(8126);class A extends w.v0{constructor(e,t,i){super(),this.sweep=e,this.from=t,this.to=i}}var I=i(17295);const k=(e,t)=>{const i=t.tryGetData(I.i);if(!e||!i)return-1;return i.getFloor(e).index};class P{constructor(){this.handlers=[{msgType:N.P,func:(e,t,i)=>{const n=i.tryGetData(o.Z);e.track("floor_changed",{floor_id:t.floorName,interaction_source:n?n.source:o.Z.defaultSource,interaction_mode:n?n.mode:o.Z.defaultMode})}},{msgType:A,func:(e,t,i)=>{const n=i.tryGetData(o.Z);e.track("sweep_floor_fixup",{sweep_index:t.sweep.index,sweep_alignment:t.sweep.alignmentType,sweep_placement:t.sweep.placementType,sweep_floor_from:k(t.from,i),sweep_floor_to:k(t.to,i),interaction_source:n?n.source:o.Z.defaultSource,interaction_mode:n?n.mode:o.Z.defaultMode})}}]}}var L=i(93955),D=i(31740);class R{constructor(){this.firstZoom=!0,this.fromZoom=1,this.toZoom=1,this.handlers=[{msgType:L.Z,func:(e,t,i)=>{this.analytics||(this.analytics=e);const n=i.tryGetData(D.Z);n&&n.currentSweep!==this.currentPano&&(this.firstZoom=!0,this.currentPano=n.currentSweep,this.fromZoom=1),this.toZoom=t.zoomLevel,clearTimeout(this.sendTimeout),this.sendTimeout=window.setTimeout(this.trackZoomEvent.bind(this),150)}}]}trackZoomEvent(){const e=this.firstZoom?"initial":"followup";this.analytics.track("zoom_"+e,{from:this.fromZoom,to:this.toZoom,pano:this.currentPano}),this.firstZoom=!1,this.fromZoom=this.toZoom}}var M=i(88288),C=i(24938),x=i(42141);class F extends x.V{constructor(){super(...arguments),this.name="timing",this.modelLoadingStartTime=0,this.waitingStartTime=0,this.appPlayingTime=0,this.appStartedTime=0}get totalTimeToAppStarting(){let e=this.appStartedTime-performance.timing.navigationStart;return this.modelLoadingStartTime&&this.waitingStartTime&&(e-=this.modelLoadingStartTime-this.waitingStartTime),e}get totalTimeToAppPlaying(){let e=this.appPlayingTime-performance.timing.navigationStart;return this.modelLoadingStartTime&&this.waitingStartTime&&(e-=this.modelLoadingStartTime-this.waitingStartTime),e}}var U=i(53257),H=i(61173),j=i(1055),V=i(9263),B=i(26616);const G=new U.Z("showcase-session"),W=new F;class z{constructor(e,t){this.analytics=e,this.engine=t,this.handlers=[{msgType:M.LZ,func:async(e,t,i)=>{var n,r;switch(t.phase){case C.nh.WAITING:W.waitingStartTime=Date.now(),W.commit(),e.track("impression",{url_params:H.UD(),visible:!0});break;case C.nh.LOADING:W.modelLoadingStartTime=Date.now(),W.commit();break;case C.nh.STARTING:{W.appStartedTime=Date.now(),W.commit(),G.info("First render, model loaded "+W.totalTimeToAppStarting/1e3);const t=this.engine.market.tryGetData(V.af);this.renderer=await this.engine.getModuleBySymbol(s.Aj);const i=this.renderer.getCapabilities(),n={has_hlr:!t||t.options.highlight_reel,duration:Date.now()-W.modelLoadingStartTime,duration_from_navigation_start:Date.now()-performance.timing.navigationStart,gl_v2:i.gl_v2,gl_max_textures:i.gl_max_textures,gl_max_texture_size:i.gl_max_texture_size,gl_max_cubemap_size:i.gl_max_cubemap_size,gl_instancing:i.gl_instancing,gl_oes_texture_float:i.gl_oes_texture_float,gl_oes_texture_half_float:i.gl_oes_texture_half_float,gl_depth_texture:i.gl_depth_texture,gl_draw_buffers:i.gl_draw_buffers,gl_oes_fbo_render_mip_map:i.gl_oes_fbo_render_mip_map,gl_shader_texture_lod:i.gl_shader_texture_lod,gl_oes_vertex_array_obj:i.gl_oes_vertex_array_obj,gl_ovr_multi_view:i.gl_ovr_multi_view,gl_color_buffer_float:i.gl_color_buffer_float,gl_astc_supported:i.gl_astc_supported,gl_etc1_supported:i.gl_etc1_supported,gl_etc2_supported:i.gl_etc2_supported,gl_dxt_supported:i.gl_dxt_supported,gl_bptc_supported:i.gl_bptc_supported,gl_pvrtc_supported:i.gl_pvrtc_supported};e.track("model_loaded",n);break}case C.nh.PLAYING:W.appPlayingTime=Date.now(),W.commit(),G.info("Playing, session started "+W.totalTimeToAppPlaying/1e3),e.track("session_started"),window.addEventListener("unload",this.sessionEnded),e.track("load_times",{time_to_app_start:W.totalTimeToAppStarting,time_to_app_playing:W.totalTimeToAppPlaying});break;case C.nh.ERROR:{const t=await i.waitForData(C.pu),{error:s}=t,a=s&&s.name?s.name:s&&s.constructor?s.constructor.name:null,o=s?s.message:null,l=s&&s.stack?s.stack.split("\n"):[],c=l.length>=2?l[1].match(/\s+at\s+([^\s]+)/):null,d=(0,B.zg)(s),u=!!(0,j.eY)("oops",""),h=null!==(r=null===(n=this.renderer)||void 0===n?void 0:n.estimatedGPUMemoryAllocated())&&void 0!==r?r:-1,p={error_dialog:"oops",error_type:a||"",exception:{message:`${a}: ${o}`,function:c?c[1]:null,stack:l.slice(1,5).join("\n")},duration:W.modelLoadingStartTime>0?Date.now()-W.modelLoadingStartTime:void 0,duration_from_navigation_start:Date.now()-performance.timing.navigationStart,gpu_memory:h<0?void 0:h,mock_error:u};d&&(p.error_code=d),e.track("error_displayed",p);break}}}}],this.sessionEnded=()=>{this.analytics.trackAsync("session_ended",{duration:Date.now()-W.appPlayingTime})}}dispose(){window.removeEventListener("unload",this.sessionEnded)}}var K=i(57363),Y=i(28721),q=i(83607),$=i(43017),Z=i(90512),Q=i(35557);const X=new U.Z("/index.js");class J{constructor(e){this.engine=e,this.trackTime=0,this.trackTimeThreshold=1/0,this.currentPhase=null,this.currentAppPhase=null,this.pixelRatio=window.devicePixelRatio||1,this.recordedPhases={},this.deltas=new q.P(1e3),this.memoryReadings=new q.P(1e3),this.handlers=[{msgType:K.Z,func:(e,t,i)=>{this.currentAppPhase!==C.nh.STARTING&&this.currentAppPhase!==C.nh.PLAYING||this.startRecording(e,$.Ey[t.toMode],1e4)}},{msgType:M.LZ,func:async(e,t,i)=>{const n=i.tryGetData(Z.O);t.phase===C.nh.LOADING?this.startRecording(e,"Loading",6e4):t.phase===C.nh.STARTING?(this.renderer=await this.engine.getModuleBySymbol(s.Aj),this.startRecording(e,"Starting",6e4)):t.phase===C.nh.PLAYING&&n&&n.currentMode&&this.startRecording(e,$.Ey[n.currentMode],1e4),this.currentAppPhase=t.phase}},{msgType:Q.Vx,func:(e,t,i)=>{this.pixelRatio=t.pixelRatio}}],this.resetRecording=()=>{this.currentPhase=null,this.deltas.clear(),this.memoryReadings.clear(),this.trackTime=0}}onUpdate(e,t){var i,n;if(!this.currentPhase)return;this.deltas.push(t);const s=null!==(n=null===(i=this.renderer)||void 0===i?void 0:i.estimatedGPUMemoryAllocated())&&void 0!==n?n:-1;s>-1&&this.memoryReadings.push(s),this.trackTime+=t,this.trackTime>=this.trackTimeThreshold&&(this.sendRecord(e),this.resetRecording())}startRecording(e,t,i){t!==this.currentPhase&&(this.currentPhase&&(this.sendRecord(e),this.resetRecording()),this.recordedPhases[t]||(this.currentPhase=t,this.trackTimeThreshold=i,this.recordedPhases[this.currentPhase]=!0))}sendRecord(e){if(0===this.deltas.count)return;const t=this.deltas.getList(),i=this.memoryReadings.getList();try{const n=this.calcPerformance(t,i);e.track("performance",n)}catch(e){X.warn("Could not send performance metrics",e)}}calcPerformance(e,t){let i=0,n=0,s=0,r=0,a=0,o=0;for(const t of e)i+=t,t<0||(t<=16.7?n+=t:t<=33.3?s+=t:t<=100?r+=t:t<=1e3?a+=t:o+=t);if(i<=0)throw Error("No positive timings, cannot calculate performance data");const l=i/e.length;n/=i,s/=i,r/=i,a/=i,o/=i;let c=e.slice();const d=(0,Y.Pe)(c,50),u=(0,Y.Pe)(c,95,!1),h=c[c.length-1];let p,m,f,g,v;return t.length&&(c=t.slice(),g=(0,Y.Pe)(c,50,!0),v=(0,Y.Pe)(c,95,!1),f=Math.round((0,Y.Y8)(t)),p=c[0],m=c[c.length-1]),{phase:this.currentPhase,frame_delta:l,frame_delta_avg:l,frame_delta_median:d,frame_delta_95th:u,frame_delta_max:h,duration:i,time_60_fps:n,time_60_30_fps:s,time_30_10_fps:r,time_10_1_fps:a,time_1_0_fps:o,gpu_memory_min:p,gpu_memory_max:m,gpu_memory_avg:f,gpu_memory_median:g,gpu_memory_95th:v,pixel_ratio:this.pixelRatio}}}var ee=i(4153),te=i(60937);const ie=(e,t)=>{const i=t.tryGetData(te.c);if(!i)return-1;return(e?i.floors.getFloor(e):i.getHighestVisibleFloor()).index};class ne{constructor(){this.handlers=[{msgType:ee.rf,func:(e,t,i)=>{const n={measure_sid:t.data.sid,start_position:t.data.startPosition,end_position:t.data.endPosition,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:ie(t.data.floorId,i),feature_type:t.data.featureType,constraint_style:t.data.constraint,continuous:t.data.continuous};e.track("measure_segment_add",n)}},{msgType:ee.u6,func:(e,t,i)=>{const n={measure_sid:t.data.sid,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:ie(t.data.floorId,i),feature_type:t.data.featureType,measure_type:t.data.type,constraint_style:t.data.constraint,continuous:t.data.continuous};e.track("measure_add",n)}},{msgType:ee.ty,func:(e,t)=>{const i={measure_sid:t.sid,measure_text:t.text};e.track("measure_add_title",i)}},{msgType:ee.mM,func:(e,t)=>{const i={measure_sid:t.sid,measure_old_text:t.oldText,measure_new_text:t.newText};e.track("measure_update_title",i)}},{msgType:ee.$Z,func:(e,t,i)=>{const n={measure_sid:t.data.sid,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:ie(t.data.floorId,i),measure_count:t.data.count,continuous:t.data.continuous};e.track("measure_remove",n)}},{msgType:ee.av,func:(e,t,i)=>{const n={measure_sid:t.data.sid,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:ie(t.data.floorId,i),feature_type:t.data.featureType,constraint_style:t.data.constraint,continuous:t.data.continuous};e.track("measure_update",n)}},{msgType:ee.$n,func:(e,t)=>{const i=t.opened?"measure_mode_enter":"measure_mode_exit",n={viewmode:t.viewmode,measure_count:t.count};e.track(i,n)}},{msgType:ee.ff,func:(e,t)=>{e.track("measure_cancelled",{})}}]}}var se=i(85453);class re{constructor(){this.handlers=[{msgType:se.i,func:(e,t)=>{const i={duration_dollhouse:t.durationDollhouse,duration_floorplan:t.durationFloorplan,duration_inside:t.durationInside,duration_overlay:t.durationOverlay,duration:t.durationDollhouse+t.durationFloorplan+t.durationInside,main_mode:t.mainMode,bytes_downloaded:t.totalBytesDownloaded,tiles_downloaded:t.tilesDownloaded};e.track("activity_ping",i)}}]}}var ae,oe=i(79242),le=i(95840),ce=i(31971),de=i(59228),ue=i(58724),he=i(97187),pe=i(66724),me=i(52893);!function(e){e.UNINITIALIZED="uninitialized",e.INACTIVE="inactive",e.ACTIVE="active"}(ae||(ae={}));class fe{constructor(){this.name="activity-analytics",this._state=ae.UNINITIALIZED,this.activeModeMap=new Map,this.totalTilesDownloaded=0,this.onTileDownloaded=()=>{this.totalTilesDownloaded++}}async init(e,t,i){this.engine=e,this.requestQueue=i,[this.input,this.viewmodeData,this.applicationData,this.modelData]=await Promise.all([await e.getModuleBySymbol(s.PZ),await e.market.waitForData(Z.O),await e.market.waitForData(C.pu),await e.market.waitForData(me.T)]);const n=[],r=[oe.Rd,le._t,ce.e,de.er,ue.G],a=()=>this.active=!0;this.applicationData.phase===C.nh.PLAYING?this._state=ae.INACTIVE:n.push(e.subscribe(M.LZ,(()=>{this.applicationData.phase===C.nh.PLAYING&&(this._state=ae.INACTIVE)})));let o=this.modelData.getModel();n.push(this.modelData.onPropertyChanged("activeModelId",(()=>{const e=this.modelData.getModel(),t=o.overlayActive,i=e.overlayActive;o=e,i?this.activeModeMap.has("overlay")?this.updateActivityTimeForMode("overlay",!0):this.activeModeMap.set("overlay",{previousTime:Date.now(),totalTimeinMS:0}):t&&this.updateActivityTimeForMode("overlay")}))),n.push(...(()=>{const e=[];return r.forEach((t=>{e.push(this.input.registerUnfilteredHandler(t,a))})),e})()),n.push(e.subscribe(E.Z,(e=>{const t=e.fromMode,i=e.toMode;t&&t!==$.Ey.Transition&&this.applicationData.phase===C.nh.PLAYING&&this.handleViewmodeChange(t,i)}))),n.push(this.engine.subscribe(pe.o,this.onTileDownloaded)),t(n)}get active(){return this._state===ae.ACTIVE}set active(e){this._state!==ae.UNINITIALIZED&&(e&&this._state===ae.INACTIVE&&this.startActivityTimeout(),this._state=e?ae.ACTIVE:ae.INACTIVE)}handleViewmodeChange(e,t){this.activeModeMap.has(t)?this.updateActivityTimeForMode(t,!0):this.activeModeMap.set(t,{previousTime:Date.now(),totalTimeinMS:0}),this.updateActivityTimeForMode(e)}updateActivityTimeForMode(e,t){const i=this.activeModeMap.get(e);if(void 0===i)return;const{previousTime:n,totalTimeinMS:s}=i;t?this.activeModeMap.set(e,{previousTime:Date.now(),totalTimeinMS:s}):this.activeModeMap.set(e,{previousTime:Date.now(),totalTimeinMS:s+(Date.now()-n)})}startActivityTimeout(){this.activeModeMap.set($.Ey.Dollhouse,{previousTime:Date.now(),totalTimeinMS:0}),this.activeModeMap.set($.Ey.Floorplan,{previousTime:Date.now(),totalTimeinMS:0}),this.activeModeMap.set($.Ey.Panorama,{previousTime:Date.now(),totalTimeinMS:0}),this.activeModeMap.set("overlay",{previousTime:Date.now(),totalTimeinMS:0}),window.setTimeout(this.notifyActivityAnalytic.bind(this),fe.ACTIVITY_INTERVAL)}notifyActivityAnalytic(){if(this.modelData.getModel().overlayActive&&this.updateActivityTimeForMode("overlay"),this.viewmodeData.currentMode&&this.viewmodeData.currentMode!==$.Ey.Transition&&this.updateActivityTimeForMode(this.viewmodeData.currentMode),this.active){let e=0,t=$.Ey.Panorama;this.activeModeMap.forEach(((i,n)=>{i.totalTimeinMS>e&&"overlay"!==n&&(t=n,e=i.totalTimeinMS)})),this.active=!1;const[i,n,s,r]=[this.activeModeMap.get($.Ey.Dollhouse),this.activeModeMap.get($.Ey.Floorplan),this.activeModeMap.get($.Ey.Panorama),this.activeModeMap.get("overlay")].map((e=>e?e.totalTimeinMS:0));this.engine.broadcast(new se.i(i,n,s,r,he.KP[t],this.requestQueue.totalBytesDownloaded,this.totalTilesDownloaded))}}}fe.ACTIVITY_INTERVAL=15e3;var ge,ve=i(31910);!function(e){e.USER="self-guided",e.TOUR="tour"}(ge||(ge={}));class ye{constructor(){this.handlers=[{msgType:ve.D,func:(e,t,i)=>{const n=i.tryGetData(o.Z),s=i.tryGetData(f.k),r={room_id:t.roomId,room_index:t.meshSubgroup,room_type:t.roomType,viewmode:t.viewmode?he.KP[t.viewmode]:t.viewmode,room_visit_count:t.visitCount,room_count:t.roomCount,navigation_source:s&&s.tourPlaying?ge.TOUR:ge.USER,interaction_source:n?n.source:o.Z.defaultSource,interaction_mode:n?n.mode:o.Z.defaultMode};e.track("room_visited",r)}}]}}class Ee{constructor(){this.handlers=[]}}var be=i(3807);const Se=e=>e.sort(((e,t)=>e.localeCompare(t)));class Oe{constructor(){this.handlers=[{msgType:be.E,func:(e,t)=>{const{happiness:i,quality:n,navigation:s,feedback:r}=t.rating,a={};i&&(a.happiness=+i),(s&&s.length>0||n&&n.length>0)&&(a.issue_types=function(e=[],t=[]){const i=[];return Se(t).forEach((e=>i.push(`navigation-${e.trim()}`))),Se(e).forEach((e=>i.push(`quality-${e.trim()}`))),i.join(",")}(n||[],s||[])),r&&r.length>0&&(a.feedback=r),Object.keys(a).length>0&&e.track("model_rated",a)}}]}}var Te=i(17545),_e=i(12520);const Ne=[1e3,3e3,5e3,15e3];class we{constructor(){this.currSpinnerSessionId=null,this.currSpinnerSessionStartTime=null,this.currIntervalIdx=0,this.pingTimeout=null,this.handlers=[{msgType:Te.Z_,func:(e,t)=>{t.isOpen?this.startPinging(e):this.stopPinging(e)}}]}startPinging(e){null==this.currSpinnerSessionId&&(this.currSpinnerSessionId=(0,_e.D)(),this.currSpinnerSessionStartTime=Date.now(),this.currIntervalIdx=0,this.pingTimeout=window.setTimeout((()=>this.pingAnalytics(e)),Ne[this.currIntervalIdx]))}stopPinging(e){if(this.currSpinnerSessionId&&this.currSpinnerSessionStartTime){const t=Date.now()-this.currSpinnerSessionStartTime;e.track("pano_tile_loading",{session_id:this.currSpinnerSessionId,duration:t,final_duration:t}),this.pingTimeout&&(window.clearTimeout(this.pingTimeout),this.pingTimeout=null),this.currSpinnerSessionId=null}}pingAnalytics(e){this.currSpinnerSessionId&&this.currSpinnerSessionStartTime&&(e.track("pano_tile_loading",{session_id:this.currSpinnerSessionId,duration:Date.now()-this.currSpinnerSessionStartTime,final_duration:null}),this.currIntervalIdx=Math.min(this.currIntervalIdx+1,Ne.length-1),this.pingTimeout=window.setTimeout((()=>this.pingAnalytics(e)),Ne[this.currIntervalIdx]))}}var Ae=i(473),Ie=i.n(Ae);var ke;!function(e){e.DAM_MESH="dam_mesh",e.TILED_MESH="tiled_mesh",e.PANO_TILE="pano_tile",e.DAM_TEXTURE="dam_texture",e.TILED_TEXTURE="tiled_texture",e.STATIC="static",e.GRAPH="graph"}(ke||(ke={}));class Pe{constructor(){this.lastFlushTimestamp=null,this.lastSendTimestamp=null,this.isRecording=!1,this.isSending=!1,this.stats={[ke.DAM_MESH]:{sum:0,count:0},[ke.TILED_MESH]:{sum:0,count:0},[ke.PANO_TILE]:{sum:0,count:0},[ke.DAM_TEXTURE]:{sum:0,count:0},[ke.TILED_TEXTURE]:{sum:0,count:0},[ke.STATIC]:{sum:0,count:0},[ke.GRAPH]:{sum:0,count:0}},this.totalStatsCount=0,this.handlers=[{msgType:M.LZ,func:(e,t)=>{t.phase===C.nh.STARTING?this.isRecording=!0:t.phase===C.nh.PLAYING&&(this.isSending=!0)}}]}get dataBuffer(){return null==this._dataBuffer?(this._dataBuffer=new(Ie())(300),this._dataBuffer):this._dataBuffer}onUpdate(e,t){this.isRecording&&(this.flushTimingDataThrottled(),this.updateStats(t),this.isSending&&this.sendAnalyticsThrottled(e))}flushTimingDataThrottled(){if(null==this.lastFlushTimestamp||performance.now()-this.lastFlushTimestamp>5e3){const e=performance.getEntriesByType("resource");for(const t of e)t.transferSize>0&&this.dataBuffer.enq(t);performance.clearResourceTimings(),this.lastFlushTimestamp=performance.now()}}sendAnalyticsThrottled(e){if((null==this.lastSendTimestamp||performance.now()-this.lastSendTimestamp>5e3)&&this.totalStatsCount>10){const t={};for(const e in this.stats){const i=e,n=this.stats[i];n.count>0&&(t[i]=0|Math.round(n.sum/n.count),n.sum=0,n.count=0)}e.track("resource_timing",t),this.totalStatsCount=0,this.lastSendTimestamp=performance.now()}}updateStats(e){if(e<33.333333333333336){let e=0;for(;e<30&&!this.dataBuffer.isEmpty();){const t=this.dataBuffer.deq(),i=Le(t);i&&(this.stats[i].sum+=t.duration,this.stats[i].count+=1,this.totalStatsCount+=1),e+=1}}}}const Le=e=>{const t=new URL(e.name),i=t.hostname,n=t.pathname.split("/"),s=n[n.length-1];return i.includes("static")?ke.STATIC:"graph"===s?ke.GRAPH:n.includes("mesh_tiles")&&s.includes(".glb")?ke.TILED_MESH:n.includes("mesh_tiles")&&(s.includes(".ktx2")||s.includes(".jpg"))?ke.TILED_TEXTURE:s.includes(".dam")?ke.DAM_MESH:n.includes("tiles")?ke.PANO_TILE:n[n.length-2].includes("_texture_")?ke.DAM_TEXTURE:null};var De=i(5885);const Re=new U.Z("log-analytics");class Me{init(e,t){return Re.debug("logging analytics to console",{options:e,context:t}),Promise.resolve()}identify(e){Re.debug("identify as",e)}track(e,t,i){Re.debug({eventName:e,data:t,intercom:i})}trackAsync(e,t,i){Re.debug({eventName:e,data:t,intercom:i})}setOptions(e){Re.debug("set options",e)}}const Ce=new U.Z("segment");class xe{constructor(e){this.token=e,this.options={}}init(e,t){return this.setOptions(e),this.context=t,this.token?(window.analytics&&window.analytics.initialize&&(window.analytics=null),window.analytics||function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"],e.factory=function(t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(t),e.push(i),e}};for(var t=0;t<e.methods.length;t++){var i=e.methods[t];e[i]=e.factory(i)}e.load=function(t,i){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s),e._loadOptions=i},e.SNIPPET_VERSION="4.15.2"}}(),window.analytics.load(this.token),new Promise(((e,t)=>{window.analytics.ready(e)}))):Promise.resolve()}identify(e){window.analytics.identify(e.id,{first_name:e.firstName,last_name:e.lastName,email:e.email})}track(e,t,i){U.Z.level>=3&&Ce.debug(e,t?JSON.stringify(t).replace('\\"','"'):t),t=Object.assign(t||{},this.options);const n=this.context.integrations?Object.assign({},this.context.integrations):{};n.Intercom=!!i;try{window.analytics.track(e,t,Object.assign(Object.assign({},this.context),{integrations:n}))}catch(t){Ce.error(`Failed to send data to segment for ${e}`)}}trackAsync(e,t,i){if(t=t||{},navigator.sendBeacon)try{navigator.sendBeacon("https://api.segment.io/v1/t",JSON.stringify({event:e,anonymousId:window.analytics.user().anonymousId(),properties:Object.assign({data:t},this.options),integrations:{Intercom:!!i},writeKey:this.token,sentAt:Date.now(),type:"track",context:this.context}))}catch(e){Ce.error("Failed to send async segment request")}}setOptions(e){Object.assign(this.options,e)}}var Fe=i(38256),Ue=i(22251),He=i(49368),je=i(99115);const Ve=new U.Z("mp-analytics"),Be="ajs_anonymous_id",Ge="sc_anonymous_id";class We{constructor(e,t,i){this.token=e,this.url=t,this.queue=i,this.options={},this.segmentStylePayload=(e,t,i)=>({timestamp:(0,Fe.U)(new Date),integrations:{Intercom:!!i},context:this.segmentStyleContext(this.context),properties:t,event:e,messageId:(0,_e.D)(),anonymousId:this.anonymousId,type:"track",userId:this.user?this.user.id:null,sentAt:(0,Fe.U)(new Date)}),this.segmentStyleContext=e=>{const t={page:{path:window.location.pathname,referrer:(0,je.an)(),search:window.location.search,title:window.document.title,url:window.location.href},userAgent:navigator.userAgent,library:{name:"showcase",version:"1"},campaign:{}};return Object.assign(Object.assign({},e),t)};const n=(0,He.fp)(Ge);if(n)this.anonymousId=n;else{const e=(0,Ue.$)(Be);this.anonymousId=e&&"string"==typeof e?e.replace(/%22/g,""):(0,_e.D)(),(0,He.m8)(Ge,this.anonymousId)}this.headers={"X-API-Key":this.token,"Content-Type":"application/json",Accept:"application/json"}}init(e,t){return this.setOptions(e),this.context=t,Ve.debug("init",{options:this.options,context:this.segmentStyleContext(this.context)}),Promise.resolve()}identify(e){Ve.debug("identify as",e),this.user=e}track(e,t,i){U.Z.level>=3&&Ve.debug(e,t?JSON.stringify(t).replace('\\"','"'):t),t=Object.assign(t||{},this.options);const n=this.segmentStylePayload(e,t,i);this.queue.post(`${this.url}?ev=${e}`,{body:n,headers:this.headers})}trackAsync(e,t,i){if(t=Object.assign(t||{},this.options),navigator.sendBeacon)try{const n=this.segmentStylePayload(e,t,i);navigator.sendBeacon(`${this.url}?api_key=${this.token}`,JSON.stringify(n))}catch(e){Ve.error("Failed to sendBeacon analytics request")}}setOptions(e){Object.assign(this.options,e)}}const ze={logging:async()=>new Me,segment:async(e,t)=>{const i=await t.getAppKey(e,"segment_key");return new xe(null!=i?i:void 0)},mp:async(e,t,i)=>{const n=await t.getAppKey(e,"analytics_mp_key"),s=await t.getAppKey(e,"analytics_mp_url");return n&&s?new We(n,s,i):null}};class Ke extends n.Y{constructor(){super(...arguments),this.name="showcase-analytics",this.loaded=!1,this.handlers=[],this.track=(e,t)=>{this.analytics.track(e,t)}}async init(e,t){this.analyticsQueue=e.analyticsQueue,this.analytics=await t.getModuleBySymbol(s.V6),this.apiClient=(await t.getModuleBySymbol(s.Vs)).getApi(),this.addMessageHandlers(this.analytics,t),this.context=(0,r.bC)(e.apiQueue,"",e.appName),this.options=Object.assign({mds_enabled:!0},(0,r.FW)(e.overrideParams)),t.getModuleBySymbol(s.e9).then((e=>{this.context.locale=e.languageCode})),this.activityTracking=new fe,this.activityTracking.init(t,this.registerBindings.bind(this),e.apiQueue);const i=await this.createEndpoints(e);this.analytics.load(i,this.options,this.context).then((()=>{this.loaded=!0,this.apiClient.user.then((e=>{this.analytics.setUser(e)}))}))}addMessageHandlers(e,t){this.addMessageHandler(new z(e,t),t),this.addMessageHandler(new T(t),t),this.addMessageHandler(new y,t),this.addMessageHandler(new l,t),this.addMessageHandler(new P,t),this.addMessageHandler(new _.s,t),this.addMessageHandler(new R,t),this.addMessageHandler(new ne,t),this.addMessageHandler(new J(t),t),this.addMessageHandler(new re,t),this.addMessageHandler(new ye,t),this.addMessageHandler(new Ee,t),this.addMessageHandler(new Oe,t),this.addMessageHandler(new u,t),this.addMessageHandler(new we,t),this.addMessageHandler(new Pe,t),this.addMessageHandler(new De.r,t)}addMessageHandler(e,t){this.handlers.push(e),e.handlers.forEach(((e,i)=>{this.bindings.push(t.subscribe(e.msgType,(i=>{e.func(this.analytics,i,t.market)})))}))}registerBindings(e){this.bindings.push(...e)}async createEndpoint(e,t){var i;return null===(i=ze[e])||void 0===i?void 0:i.call(ze,t,this.apiClient,this.analyticsQueue)}async createEndpoints(e){const t=(0,r.F$)(e.appName),i=void 0!==e.provider?e.provider:await this.apiClient.getAppKey(t,"analytics_provider"),n=[];if(!i)return n;const s=i.split(",");for(const e of s){const i=await this.createEndpoint(e,t);null!==i?n.push(i):this.log.warn(`Failed to set up ${e}, token/url required but not found in config`)}return n.length<1&&n.push(await this.createEndpoint("logging",t)),n}onUpdate(e){if(this.loaded)for(const t of this.handlers)t.onUpdate&&t.onUpdate(this.analytics,e)}dispose(e){super.dispose(e);for(const e of this.handlers)e.dispose&&e.dispose();this.handlers=[]}getSessionId(){return this.options.session_id||""}trackGuiEvent(e,t={}){const{tool:i,interactionSource:n,panoId:s,data:r}=t,a={gui_action:e};i&&Object.assign(a,{tool:i}),n&&Object.assign(a,{interaction_source:n}),s&&Object.assign(a,{pano_id:s}),r&&Object.assign(a,{data:r}),this.track("showcase_gui",a)}trackToolGuiEvent(e,t,i={}){this.trackGuiEvent(t,Object.assign({tool:e},i))}}},85453:(e,t,i)=>{"use strict";i.d(t,{i:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t,i,n,s,r,a){super(),this.durationDollhouse=e,this.durationFloorplan=t,this.durationInside=i,this.durationOverlay=n,this.mainMode=s,this.totalBytesDownloaded=r,this.tilesDownloaded=a}}},45566:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>N});var n=i(4763),s=i(67294),r=i(20745),a=i(933),o=i(31599),l=i(17790),c=i(71551),d=i(29707),u=i(85893),h=i(94184),p=i.n(h),m=i(7321),f=i(80694);class g extends s.Component{render(){const{attributionLinkText:e,attributionLinkUrl:t}=this.props,{locale:i}=this.context;return(0,u.jsxs)("div",Object.assign({className:"powered-by"},{children:[(0,u.jsx)("p",Object.assign({className:"powered-by-label"},{children:i.t(m.Z.POWERED_BY)})),(0,u.jsx)("img",{className:"powered-by-logo",alt:"Matterport",src:f,width:"150",height:"32"}),t&&(0,u.jsx)("a",Object.assign({href:t,className:"powered-by-link"},{children:e||t}))]}))}}g.contextType=d.I;var v=i(53257);const y=i.p+"images/showcase-password-background.jpg";var E=i(73943);class b extends E.y{constructor(e="Invalid password"){super(e),this.name="InvalidPassword"}}class S extends E.y{constructor(e="Too many attempts, please try again in a few minutes"){super(e),this.name="TooManyAttempts"}}const O=new v.Z("showcase-password");class T extends s.Component{constructor(e){super(e),this.isUnmounting=!1,this.onInputChange=e=>{const{name:t,value:i}=e.target;"password"===t&&this.setState({password:i,hasError:!1})},this.onSubmit=async e=>{e.preventDefault(),this.setState({formEnabled:!1}),await this.authenticate(),this.isUnmounting||this.setState({formEnabled:!0})},this.state={formEnabled:!0,hasError:!1,tooManyAttempts:!1,password:""}}componentWillUnmount(){this.isUnmounting=!0}async authenticate(){const{authenticate:e}=this.props,{password:t}=this.state;O.debug("Validating password input...");const i=await e(t).catch((e=>(e instanceof S&&this.setState({hasError:!0,tooManyAttempts:!0}),!1)));this.isUnmounting||this.setState({hasError:!i})}stopPropagation(e){e.stopPropagation()}renderLockout(){const{locale:e}=this.context;return(0,u.jsxs)("div",Object.assign({className:"sc-password-modal sc-password-lockout"},{children:[(0,u.jsx)("header",Object.assign({className:"modal-header"},{children:(0,u.jsx)("h1",Object.assign({className:"modal-title"},{children:e.t(m.Z.SC_LOCKOUT_TITLE)}))})),(0,u.jsx)("p",Object.assign({className:"modal-body"},{children:e.t(m.Z.SC_LOCKOUT_MESSAGE)}))]}))}renderLoginForm(){const{hasError:e,password:t,formEnabled:i}=this.state,{locale:n}=this.context;return(0,u.jsxs)("div",Object.assign({className:"sc-password-modal sc-password-login"},{children:[(0,u.jsx)("header",Object.assign({className:"modal-header"},{children:(0,u.jsx)("h1",Object.assign({className:"modal-title"},{children:n.t(m.Z.SC_PASSWORD_TITLE)}))})),(0,u.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,u.jsxs)("form",Object.assign({onSubmit:this.onSubmit,className:"sc-password-form"},{children:[(0,u.jsx)("input",{type:"password",name:"password",placeholder:n.t(m.Z.SC_PASSWORD_PLACEHOLDER),onInput:this.onInputChange,onKeyDown:this.stopPropagation,onKeyPress:this.stopPropagation,onKeyUp:this.stopPropagation,disabled:!i,value:t,className:p()("sc-password-input",{error:e}),autoComplete:"on"}),(0,u.jsx)("button",Object.assign({type:"submit",disabled:!i,className:"sc-password-submit"},{children:n.t(m.Z.SC_PASSWORD_SUBMIT)}))]})),e&&(0,u.jsxs)("p",Object.assign({className:"help-text error"},{children:[(0,u.jsx)("span",{className:"icon icon-error"}),n.t(m.Z.SC_PASSWORD_INVALID)]})),!e&&(0,u.jsx)("p",{className:"help-text"})]}))]}))}render(){const{hasError:e,tooManyAttempts:t}=this.state,i=e&&t?this.renderLockout():this.renderLoginForm();return(0,u.jsxs)("div",Object.assign({className:"sc-password-ui",style:{backgroundImage:`url(${y})`}},{children:[(0,u.jsx)("div",Object.assign({className:"sc-password-content"},{children:i})),(0,u.jsx)("footer",Object.assign({className:"sc-password-footer"},{children:(0,u.jsx)(g,{})}))]}))}}T.contextType=d.I;var _=i(176);class N extends a.Y{constructor(){super(...arguments),this.name="showcase-password",this.authenticated=!1}async init(e,t){this.config=e,this.engine=t;const i=e.baseUrl||window.location.origin;this.auth=new o.L(i)}showPasswordScreen(){this.loadUi()}hidePasswordScreen(){this.unloadUi()}async loadUi(){const{container:e}=this.config,t=await this.engine.getModuleBySymbol(n.e9),i=Object.assign(Object.assign({},c.O),{locale:t});this.reactContainer=document.createElement("div"),this.reactContainer.id="showcase-password-container",e.appendChild(this.reactContainer),this.reactRoot=(0,r.createRoot)(this.reactContainer),this.reactRoot.render((0,s.createElement)(d.I.Provider,{value:i},[(0,s.createElement)(T,{key:"showcase-password",authenticate:e=>this.authenticate(e)})]))}async unloadUi(){var e;return!!this.reactRoot&&(this.reactRoot.unmount(),null===(e=this.reactContainer)||void 0===e||e.remove(),delete this.reactContainer,!0)}async authenticate(e){const{modelId:t}=this.config;if(!await this.auth.authenticate(t,e)){switch(this.engine.broadcast(new _.s(this.auth.errorType)),this.auth.errorType){case l.s.INVALID_CREDENTIALS:throw new b;case l.s.TOO_MANY_ATTEMPTS:throw new S}return!1}return this.log.debug("Password authentication was successful"),this.engine.broadcast(new _.L),!0}}},176:(e,t,i)=>{"use strict";i.d(t,{L:()=>s,s:()=>r});var n=i(8126);class s extends n.v0{}class r extends n.v0{constructor(e){super(),this.errorType=e}}},57682:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r,b:()=>s});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={pose:e}}}s.id="START_LOCATION_FLY_IN_COMMAND";class r extends n.m{}r.id="START_LOCATION_GOTO_COMMAND"},60472:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(90404),s=i(933),r=i(4763),a=i(35557),o=i(38247);class l extends s.Y{constructor(){super(...arguments),this.name="showcase-webgl-context-loss",this.contextLostEvent=null,this.framesWithLostContext=0}async init(e,t){this.config=e,this.engine=t,this.bindings.push(t.subscribe(a.zq,(e=>{this.contextLostEvent=e.event})),t.subscribe(a.Xq,(()=>{this.contextLostEvent=null,this.framesWithLostContext=0,t.getModuleBySymbol(o.ME).then((e=>{e.currentErrorCode===n.Mb.WEBGL_CONTEXT_LOST&&e.hideError()}))})))}onUpdate(e){const{contextLostEvent:t}=this;if(t){++this.framesWithLostContext===this.config.notificationDelayFrames&&(this.engine.getModuleBySymbol(o.ME).then((e=>{e.currentErrorCode||e.showError(n.Mb.WEBGL_CONTEXT_LOST)})),this.engine.getModuleBySymbol(r.V6).then((e=>{!function(e,t){e.track("error_displayed",{error_dialog:"oops",error_type:"WebGLContextLost",exception:{message:`WebGL context lost: ${t.statusMessage||"no status given"}`},mock_error:!1})}(e,t)})))}}}},53462:(e,t,i)=>{"use strict";i.d(t,{M:()=>r});var n=i(81396);class s{constructor(e){this.elements=[],e?(e=>void 0!==e.elements)(e)?this.elements=e.elements.slice():n.Matrix4.prototype.set.apply(this,e):n.Matrix4.prototype.set.apply(this,s.identity)}equals(e){return n.Matrix4.prototype.equals.call(this,e)}clone(){return new s(this)}}s.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];class r extends s{constructor(e){e instanceof Array||e?super(e):super(),this.threeMatrix=new n.Matrix4}set(e,t,i,s,r,a,o,l,c,d,u,h,p,m,f,g){return n.Matrix4.prototype.set.call(this,e,t,i,s,r,a,o,l,c,d,u,h,p,m,f,g),this}makeScale(e,t,i){return n.Matrix4.prototype.makeScale.call(this,e,t,i),this}copy(e){for(let t=0;t<this.elements.length;t++)this.elements[t]=e.elements[t];return this}clone(){return(new r).copy(this)}transpose(){return n.Matrix4.prototype.transpose.call(this)}lookAt(e,t,i){return n.Matrix4.prototype.lookAt.call(this,e,t,i),this}setPosition(e){return n.Matrix4.prototype.setPosition.call(this,e.x,e.y,e.z),this}extractRotation(e){return n.Matrix4.prototype.extractRotation.call(this,e),this}makePerspective(e,t,i,s,r,a){return n.Matrix4.prototype.makePerspective.call(this,e,t,i,s,r,a),this}makePerspectiveFov(e,t,i=.1,s=1e3){const r=i*Math.tan(e*(Math.PI/180)/2),a=-r,o=r*t,l=-o;return n.Matrix4.prototype.makePerspective.call(this,l,o,r,a,i,s),this}makeOrthographic(e,t,i,s,r,a){return n.Matrix4.prototype.makeOrthographic.call(this,e,t,i,s,r,a),this}identity(){return this.set.apply(this,s.identity)}makeRotationFromQuaternion(e){return n.Matrix4.prototype.makeRotationFromQuaternion.call(this,e),this}makeRotationFromEuler(e){return n.Matrix4.prototype.makeRotationFromEuler.call(this,e),this}getInverse(e){return n.Matrix4.prototype.copy.call(this,e),n.Matrix4.prototype.invert.call(this),this}premultiply(e){return n.Matrix4.prototype.premultiply.call(this,e),this}multiplyMatrices(e,t){return n.Matrix4.prototype.multiplyMatrices.call(this,e,t),this}scale(e){return n.Matrix4.prototype.scale.call(this,e),this}compose(e,t,i){return n.Matrix4.prototype.compose.call(this,e,t,i),this}asThreeMatrix4(){return this.threeMatrix.set(this.elements[0],this.elements[4],this.elements[8],this.elements[12],this.elements[1],this.elements[5],this.elements[9],this.elements[13],this.elements[2],this.elements[6],this.elements[10],this.elements[14],this.elements[3],this.elements[7],this.elements[11],this.elements[15])}}},2897:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n=Object.freeze({signedUrlDefaultExpireTime:24e4,signedUrlCheckInterval:1e4,signedUrlRefreshBuffer:15e3,visionTilingStartDate:new Date("8/26/2016"),visionTilingStartVersion:"1.1.407.13667",defurnishableStartDate:new Date("03/10/2023"),defurnishableStartVersion:"1.2.29221.4-gcac59bd3ec.REL_1425",epsilon:1e-5,skyboxMeshGroup:"_group_skybox_",skysphereMeshGroup:"_group_skysphere_"})},56063:(e,t,i)=>{"use strict";i.d(t,{m:()=>n});class n{get id(){return this.constructor.id}}},93752:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var n=i(93827);const s=new(i(53257).Z)("command-binder");class r{constructor(e=!1){this.ignoreUnboundCommands=e,this.bindings={},this.queuedCommands={},this.hookedCommands={},this.resetHooks=()=>{this.hookedCommands={}},this.issueCommand=this.issueCommand.bind(this),this.issueCommandWhenBound=this.issueCommandWhenBound.bind(this)}addBinding(e,t){if(this.bindings[e.id])throw Error(`Command ${e.id} already bound to a callback`);if(!e.id)throw Error(`Command ${e.name} does not have an id. Add one as a static member.`);this.bindings[e.id]=t,this.callQueuedCommands(e.id);return{renew:()=>{this.bindings[e.id]!==t&&this.addBinding(e,t)},cancel:()=>this.removeBinding(e,t),active:this.bindings[e.id]===t}}removeBinding(e,t){if(!this.bindings[e.id])return void s.debug("Trying to unbind unbound command");this.bindings[e.id]===t?delete this.bindings[e.id]:s.debug("Trying to unbind unbound callback")}issueCommand(e,t=!0){const i=this.bindings[e.id];return i?this.issueCommandHelper(e,i,t):this.ignoreUnboundCommands?Promise.resolve({}):Promise.reject("Command not bound: "+e.id)}issueCommandHelper(e,t,i=!0){return this.hookedCommands[e.id]&&!this.hookedCommands[e.id].resolving?this.issueHookCommand(e):t(e.payload)}issueCommandWhenBound(e){const t=new n.Q;return this.issueCommand(e).then((e=>t.resolve(e))).catch((i=>{this.queuedCommands[e.id]||(this.queuedCommands[e.id]=[]),this.queuedCommands[e.id].push({command:e,deferred:t})})),t.nativePromise()}callQueuedCommands(e){const t=[];this.queuedCommands[e]&&(this.queuedCommands[e].forEach((e=>{t.push(this.issueCommand(e.command).then((t=>e.deferred.resolve(t))))})),Promise.all(t).then((()=>{delete this.queuedCommands[e]})))}hookCommand(e,t,i){if(this.hookedCommands[e.id]){if(t&&null!==this.hookedCommands[e.id].preCommandCallback)throw Error(`Command ${e.name} has already been pre hooked`);if(!t&&null!==this.hookedCommands[e.id].postCommandCallback)throw Error(`Command ${e.name} has already been post hooked`)}else this.hookedCommands[e.id]={preCommandCallback:null,postCommandCallback:null,resolving:!1};t?this.hookedCommands[e.id].preCommandCallback=i:this.hookedCommands[e.id].postCommandCallback=i}async issueHookCommand(e){const t=this.hookedCommands[e.id],i=this.bindings[e.id],n=e.payload,s=t.preCommandCallback,r=t.postCommandCallback;try{s&&await s(n),t.resolving=!0;const a=await this.issueCommandHelper(e,i,!0);return t.resolving=!1,r&&await r(n),a}catch(e){throw Error(`Could not completely issueHookCommand - ${e}`)}}}},20790:(e,t,i)=>{"use strict";i.d(t,{$2:()=>a,fH:()=>l});var n=i(53257),s=i(1604);new n.Z("di-container");const r="__isRoot__",a=new s.W;a.bindConstant(r,!0);const o={};function l(e,t=a){const i=new s.W(t);return o[e]=i,i.bindConstant(r,!1),i.bindConstant("__engineId__",e),i}},42141:(e,t,i)=>{"use strict";i.d(t,{V:()=>s});var n=i(64831);class s extends n.T{}},17785:(e,t,i)=>{"use strict";var n,s;i.d(t,{Jj:()=>a,M8:()=>c,ZP:()=>u,p3:()=>n}),function(e){e[e.None=0]="None",e[e.Duration=1]="Duration",e[e.Phase=2]="Phase",e[e.Promise=3]="Promise"}(n||(n={}));class r{constructor(e){this.type=e}}class a extends r{constructor(){super(n.None)}}class o extends r{constructor(e){super(n.Duration),this.duration=e,this.startTime=Date.now()}}class l extends r{constructor(e){super(n.Phase),this.phase=e}}!function(e){e[e.Pending=0]="Pending",e[e.Fulfilled=1]="Fulfilled",e[e.Rejected=2]="Rejected"}(s||(s={}));class c extends r{constructor(e){super(n.Promise),this.promise=e,this.promiseState=s.Pending,e.then((()=>{this.promiseState=s.Fulfilled})).catch((()=>{this.promiseState=s.Rejected}))}}class d{constructor(e,t=!0){this.generator=e,t&&this.start()}start(){this.started||(this.iterator=this.generator()),this.started=!0}iterate(){const e=this.iterator.next();this.currentResult=e.value,e.done&&(this.started=!1)}}class u{constructor(){this.generators=[]}startGenerator(e){let t=this.generators.length;for(let i=0;i<this.generators.length;i++){this.generators[i].generator===e&&(t=i)}this.generators[t]=new d(e)}stopGenerator(e){for(const t of this.generators)t.generator===e&&(t.started=!1)}processGenerators(e,t){for(const i of this.generators)if(i.started)switch(e){case n.None:(!i.currentResult||i.currentResult instanceof a)&&i.iterate();break;case n.Phase:if(i.currentResult instanceof l){const e=i.currentResult;void 0!==t&&e.phase===t&&i.iterate()}break;case n.Promise:if(i.currentResult instanceof c){i.currentResult.promiseState===s.Fulfilled&&i.iterate()}break;case n.Duration:if(i.currentResult instanceof o){const e=i.currentResult;Date.now()-e.startTime>=e.duration&&i.iterate()}}}}},17147:(e,t,i)=>{"use strict";i.d(t,{$_:()=>r,ZP:()=>a});var n=i(93827);var s,r;!function(e){e[e.CANCELLED=0]="CANCELLED",e[e.COMPLETED=1]="COMPLETED"}(s||(s={})),function(e){e[e.COMPUTE=0]="COMPUTE",e[e.BACKGROUND=1]="BACKGROUND"}(r||(r={}));class a{constructor(){this.name="generator-spreader",this.computeQueue=[],this.backgroundQueue=[]}enqueue(e,t,i=r.COMPUTE){this.cancel(e,i);const s=this.getQueue(i),a=new n.Q;return s.push({id:e,generator:t,promise:a}),a.nativePromise()}cancel(e,t=r.COMPUTE){const i=this.getQueue(t),n=this.indexOfId(e,t);if(-1!==n){const e=i[n];i.splice(n,1),e.promise.resolve({state:s.CANCELLED,result:null})}}indexOfId(e,t){const i=this.getQueue(t);let n=-1;for(let t=0;t<i.length;t++)if(e===i[t].id){n=t;break}return n}getQueue(e){return e===r.COMPUTE?this.computeQueue:this.backgroundQueue}hasTasks(e=r.COMPUTE){return this.getQueue(e).length>0}hasTask(e,t=r.COMPUTE){return-1!==this.indexOfId(e,t)}onUpdate(){const e=performance.now();for(;performance.now()-e<15&&this.computeQueue.length>0;){const e=this.computeQueue[0],{value:t,done:i}=e.generator.next();i&&(this.computeQueue.splice(0,1),e.promise.resolve({state:s.COMPLETED,result:t}))}const t=performance.now();for(;performance.now()-t<3&&this.backgroundQueue.length>0;){const e=this.backgroundQueue[0],{value:t,done:i}=e.generator.next();i&&(this.backgroundQueue.splice(0,1),e.promise.resolve({state:s.COMPLETED,result:t}))}}}},8126:(e,t,i)=>{"use strict";i.d(t,{v0:()=>n});class n{constructor(){this.msgId=-1}setID(e){if(-1!==this.msgId)throw Error("Message.msgId can only be set once.");this.msgId=e}}},32088:(e,t,i)=>{"use strict";i.d(t,{Q:()=>o,Y:()=>l});var n=i(67070),s=i(53257),r=i(59491);const a=new s.Z("message-bus");var o;!function(e){e[e.PERMANENT=0]="PERMANENT",e[e.ONCE=1]="ONCE"}(o||(o={}));class l{constructor(){this.typeLookup=new n.cj,this.callbacks={},this.messageQueue=[],this.messageCount=0}subscribe(e,t,i=o.PERMANENT){return(0,r.k1)((()=>this._subscribe(e,t,i)),(()=>this.unsubscribe(e,t)),!0,(0,n.HS)(e))}_subscribe(e,t,i=o.PERMANENT){const n=this.typeLookup.getKeyByType(e,!0);this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push({type:i,callback:t})}unsubscribe(e,t){const i=this.typeLookup.getKeyByType(e);i?this.unsubscribeByIndex(i,t):a.debug(`Message callback not bound for Type: ${e.name}`)}unsubscribeByIndex(e,t){const i=this.callbacks[e].findIndex((e=>e.callback===t));-1!==i?this.callbacks[e].splice(i,1):a.debug(`Message callback not bound for TypeIndex: ${e}`)}broadcast(e){if(e.setID(this.messageCount++),this.messageQueue.push(e),1===this.messageQueue.length){for(const e of this.messageQueue){const t=this.typeLookup.getKeyByInstance(e);if(!t)continue;const i=this.callbacks[t].slice();for(const n of i)n.callback(e),n.type===o.ONCE&&this.unsubscribeByIndex(t,n.callback)}this.messageQueue=[]}}}},933:(e,t,i)=>{"use strict";i.d(t,{Y:()=>s});var n=i(53257);class s{constructor(){this.bindings=[]}init(e,t){return Promise.resolve()}onUpdate(e){}dispose(e){for(const e of this.bindings)null==e||e.cancel();this.bindings=[]}get log(){return this._logger||(this._logger=new n.Z(this.name||"module")),this._logger}}},93827:(e,t,i)=>{"use strict";i.d(t,{Q:()=>n});class n{constructor(){this.base=new Promise(((e,t)=>{this.resolver=e,this.rejecter=t})),this._promise=new s(this.base,this),this.progressCallbacks=[]}then(e,t){return this.base.then(e,t)}catch(e){return this.base.catch(e)}resolve(e){return this.resolver(e),this}reject(e){return this.rejecter(e),this}notify(e){for(const t of this.progressCallbacks)t(e)}progress(e){return this.progressCallbacks.push(e),this}promise(){return this._promise}nativePromise(){return this.base}static resolve(){const e=new n;return e.resolve(),e.promise()}static reject(e){const t=new n;return t.reject(e),t.promise()}static all(e){const t=[];for(const i of e)i.nativePromise?t.push(i.nativePromise()):t.push(i);const i=new n;return Promise.all(t).then((e=>i.resolve(e)),(e=>i.reject(e))),i.promise()}}class s{constructor(e,t){this.basePromise=e,this.baseDeferred=t}then(e,t){return this.baseDeferred.then(e,t),this}catch(e){return this.baseDeferred.catch(e),this}progress(e){return this.baseDeferred.progress(e),this}nativePromise(){return this.basePromise}}},63511:(e,t,i)=>{"use strict";i.d(t,{o:()=>s});class n{constructor(e){this._mask=e}get mask(){return this._mask}addLayers(e){this._mask|=e.mask}removeLayers(e){return this._mask&=~e.mask}clone(){return new n(this._mask)}}class s{constructor(){this.layerRegistry=[],this.unusedLayers=[];for(let e=1;e<32;e++)this.unusedLayers.push(e)}static get ALL(){return new n(-1)}static get NONE(){return new n(0)}static get DEFAULT(){return new n(1)}claimLayer(e){const t=this.getLayer(e);if(t.mask)return t;if(0===this.unusedLayers.length)throw Error("All render layers have already been claimed");const i=this.unusedLayers[0];return this.layerRegistry[i]=e,this.unusedLayers.shift(),new n(1<<i)}getLayer(e){const t=this.layerRegistry.indexOf(e);return-1!==t?new n(1<<t):s.NONE}disposeLayer(e){const t=this.layerRegistry.indexOf(e);-1!==t&&this.unusedLayers.push(t)}}},67070:(e,t,i)=>{"use strict";i.d(t,{HS:()=>a,cj:()=>o,oL:()=>r,z$:()=>s});var n=i(12520);const s=e=>e.prototype.constructor.name,r=e=>e.constructor,a=e=>{if("string"==typeof e)return e;if(e&&e.name)return e.name;const t=e.toString();return t.substring(0,t.indexOf("\n")).split(" ")[1]};class o{constructor(){this.typeLookupMap={},this.classUuids=new WeakMap}getKey(e){if("string"==typeof e)return e;{let t=this.classUuids.get(e);return t||(t=e.name+(0,n.D)(),this.classUuids.set(e,t)),t}}addType(e){if(!e)throw Error("Cannot index undefined type");const t=this.getKey(e);if(this.typeLookupMap[t])throw Error(`Type ${t} already registered`);return this.typeLookupMap[t]=e,t}getKeyByType(e,t){if(!e)throw Error("Cannot index undefined type");const i=this.getKey(e);let n=this.typeLookupMap[i];return!n&&t&&(n=e,this.addType(n)),n?i:""}getKeyByInstance(e,t){if(!e)throw Error("Cannot index undefined data");const i=this.getKey(e.constructor);let n=this.typeLookupMap[i];return!n&&t&&(n=e.constructor,this.addType(n)),n?i:""}getTypeByKey(e){const t=this.typeLookupMap[e];if(!t)throw Error("Key not found");if("string"==typeof t)throw Error("non type keyed result not supported");return t}getKnownTypes(){return Object.values(this.typeLookupMap)}}},69484:(e,t,i)=>{"use strict";var n;i.d(t,{A:()=>n}),function(e){e[e.Begin=0]="Begin",e[e.Logic=1]="Logic",e[e.Render=2]="Render",e[e.End=3]="End"}(n||(n={}))},15709:(e,t,i)=>{"use strict";i.d(t,{a:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.width=e,this.height=t}}},24938:(e,t,i)=>{"use strict";i.d(t,{Mx:()=>s,nh:()=>n,pu:()=>l});var n,s,r=i(42141),a=i(72961),o=i(93827);!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.WAITING=1]="WAITING",e[e.LOADING=2]="LOADING",e[e.STARTING=3]="STARTING",e[e.PLAYING=4]="PLAYING",e[e.ERROR=5]="ERROR"}(n||(n={})),function(e){e.UNKNOWN="unknown",e.WEBVR="webvr",e.SHOWCASE="showcase",e.WORKSHOP="workshop"}(s||(s={}));class l extends r.V{constructor(e,t=s.UNKNOWN){super(),this.name="app",this.phases=n,this.playingPromise=new o.Q,this.phase=e,this.application=t,this.phaseTimes=(0,a.$)({[n.UNINITIALIZED]:0,[n.WAITING]:0,[n.LOADING]:0,[n.STARTING]:0,[n.PLAYING]:0,[n.ERROR]:0}),this.error=null,this.onPhase((()=>{this.playingPromise.resolve()}),n.PLAYING)}getName(){return this.application.toString()}getVersion(){return"24.11.2_webgl-798-gf42d1db434"}onPhase(e,t){return this.onPropertyChanged("phase",(i=>{t&&i!==t||e()}))}get waitForPlaying(){return this.playingPromise.nativePromise()}toString(){return JSON.stringify({application:this.getName(),version:this.getVersion(),error:this.error,phaseTimes:this.phaseTimes})}}},44558:(e,t,i)=>{"use strict";i.d(t,{W:()=>o});var n=i(67294),s=i(38908),r=i(24938);const a=(0,s.u)(r.pu);function o(){const e=a(),[t,i]=(0,n.useState)(e?e.phase:null);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onPropertyChanged("phase",i);return i(e.phase),()=>t.cancel()}),[e]),t}},36425:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(933),s=i(24938),r=i(88288),a=i(86237),o=i(16883);class l extends n.Y{constructor(){super(...arguments),this.name="app-phase"}async init(e,t){this.broadcast=t.broadcast.bind(t),this.tasks=e.tasks,this.appState=new s.pu(s.nh.UNINITIALIZED),this.appState.phase=s.nh.UNINITIALIZED,this.appState.phaseTimes[s.nh.UNINITIALIZED]=Date.now(),this.appState.application=s.Mx.SHOWCASE,this.appState.onChanged((()=>{this.appState.error&&this.updateCurrentPhase(s.nh.ERROR)})),t.market.register(this,s.pu,this.appState),this.watchTasks(this.appState.phase),this.watchErrors(),this.updateAppHeaders(),this.bindings.push(this.appState.onPropertyChanged("application",(()=>this.updateAppHeaders())))}async watchTasks(e){if(e>=s.nh.PLAYING)return;const t=e+1;try{await Promise.all(this.tasks[t])}catch(e){this.error(e)}t===s.nh.PLAYING&&this.broadcast(new r.pB(this.appState.application)),this.appState.phase!==s.nh.ERROR&&e!==s.nh.ERROR&&(this.updateCurrentPhase(t),this.watchTasks(t))}async watchErrors(){try{await Promise.all(this.tasks[s.nh.ERROR])}catch(e){this.error(e)}}updateCurrentPhase(e){this.log.devInfo(`Entering "${s.nh[e]}" for "${this.appState.application}"`),this.appState.phase=e,this.appState.phaseTimes[e]=Date.now(),this.log.debug(this.appState.toString()),this.appState.commit(),this.broadcast(new r.LZ(e,this.appState.application))}error(e){this.appState.error=e,this.appState.commit()}updateActiveApp(e){this.appState.application=e,this.appState.commit(),this.broadcast(new r.bS(e))}getData(){return this.appState}updateAppHeaders(){this.log.debug(`updating application headers ${this.appState.application}`),(0,a.l)(this.appState.getName()),(0,o.t)(this.appState.getVersion())}}},88288:(e,t,i)=>{"use strict";i.d(t,{LZ:()=>s,bS:()=>r,pB:()=>a});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.phase=e,this.application=t}}class r extends n.v0{constructor(e){super(),this.application=e}}class a extends n.v0{constructor(e){super(),this.application=e}}},34608:(e,t,i)=>{"use strict";i.d(t,{Ak:()=>r,Mv:()=>s,h7:()=>n});const n=Symbol("app-phase"),s=Symbol("sdk"),r=Symbol("settings")},38099:(e,t,i)=>{"use strict";i.d(t,{I:()=>r});var n=i(42141),s=i(53584);class r extends n.V{constructor(){super(...arguments),this.name="sdk",this.applicationKeys=new s.d}}},3187:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CommunicationMethod:()=>u,Sdk:()=>Se,default:()=>be});var n,s,r=i(933),a=i(38099),o=i(46390);!function(e){e.EMBED="sdk.embed",e.BUNDLE="sdk.bundle",e.PLUGIN="sdk.plugin",e.NPM_SDK="npm.embed",e.NPM_WEB_COMPONENT="npm.webcomponent",e.NPM_R3F="npm.r3f"}(n||(n={})),function(e){e.CONNECTION="sdk.connection",e.DISCONNECT="sdk.disconnect",e.MESSAGED="sdk.messaged",e.SUBSCRIBED="sdk.subscribed",e.UNSUBSCRIBED="sdk.unsubscribed",e.OBSERVABLE_SUB="sdk.obs.subscribe",e.OBSERVABLE_UNSUB="sdk.obs.unsubscribe",e.COLLECTION_SUB="sdk.coll.subscribe",e.COLLECTION_UNSUB="sdk.coll.unsubscribe"}(s||(s={}));class l{constructor(e){this.analytics=e,this.trackedEvents=new o.X}track(e,t,i){this.trackedEvents.has(e,t)||(this.trackedEvents.add(e,t),this.analytics.track(e,Object.assign({},i)))}alwaysTrack(e,t,i){this.trackedEvents.add(e,t),this.analytics.track(e,Object.assign({},i))}setOptions(e){this.analytics.setOptions(e)}}class c{constructor(e){this.analytics=e,this.messageType="client call"}onMessage(e,t){const{namespace:i,name:n}=e,s={applicationKey:t.applicationKey,namespace:i,name:n,method:t.communicationMethod,provider:t.context.provider,sdkType:t.context.sdkType};this.analytics.track("sdk_call",i+n,s)}}class d{constructor(){this.usedIds=new Set,this.usedIds.add(0)}generate(){let e;do{e=Math.floor(1e6*Math.random())}while(this.usedIds.has(e));return this.usedIds.add(e),e}isInUse(e){return this.usedIds.has(e)}}var u,h=i(23168);!function(e){e.POSTMESSAGE="postmessage",e.DIRECT="direct",e.WEBSOCKET="websocket"}(u||(u={}));var p,m=i(29067);class f{constructor(e,t,i,n,s){this.hostWindow=e,this.hostId=t,this.applicationKey=i,this.idGenerator=n,this.connectionReceiver=s,this.inFlightClients=new Set,this.connectionHandler=new h.TY(t,new h.R9(window)),this.connectionHandler.addObserver(new m.OR({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){var i,n;if(this.inFlightClients.has(t.id))return;e=e||{},this.inFlightClients.add(t.id);const s=e&&e.bootstrapVersion?this.idGenerator.generate():t.id,r=this.hostId,a=t.source,o=this.hostWindow,l=new h.l(r,o,s,a).createMessenger();this.connectionReceiver.onConnectionReceived(t.origin,e.options,{applicationKey:e.applicationKey||this.applicationKey,id:s,messenger:l,communicationMethod:u.POSTMESSAGE,context:{provider:(null===(i=e.options)||void 0===i?void 0:i.provider)||"",sdkType:(null===(n=e.options)||void 0===n?void 0:n.sdkType)||"",bootstrap:{version:e.bootstrapVersion,providedAppKey:!!e.applicationKey}}},{accept(e,t){l.send(new m.U7(e,t,s,r,window.location.origin))},handshake(){l.send(new m.RS)},reject(e){l.send(new m.HX(e)),l.dispose()}})}}!function(e){e.CONNECT_PLUGIN="connect.plugin"}(p||(p={}));class g{constructor(e,t,i,n){this.type=p.CONNECT_PLUGIN,this.payload={bootstrapVersion:e,applicationKey:i,pluginId:n,options:{auth:t.auth,provider:t.provider,sdkType:t.sdkType}}}}class v{constructor(e){this.receiver=e,this.messageType=p.CONNECT_PLUGIN}notify(e,t){this.receiver.onConnectionReceived(e,t)}}var y=i(77519);function E(e){return(0,y.K)(e)&&void 0!==e.pluginId}class b{constructor(e,t,i){this.idGenerator=t,this.connectionReceiver=i,this.host={id:e,node:new h.Ej(window.location.origin)},this.connectionHandler=new h.TY(e,new h.tY(this.host.node)),this.connectionHandler.addObserver(new v({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){T(e,this.host,{info:t,applicationKey:e.applicationKey},this.connectionReceiver,{pluginId:e.pluginId})}connect(e){const t={id:this.idGenerator.generate(),node:new h.Ej(origin)};return O(this.host,t,(t=>t.send(new g("plugin",{sdkType:n.PLUGIN},e.applicationKey,e.pluginId))))}}class S{constructor(e,t,i,n){this.applicationKey=t,this.idGenerator=i,this.connectionReceiver=n,this.host={id:e,node:new h.Ej(window.location.origin)},this.connectionHandler=new h.TY(e,new h.tY(this.host.node)),this.connectionHandler.addObserver(new m.OR({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){T(e,this.host,{info:t,applicationKey:this.applicationKey},this.connectionReceiver)}connect(e,t={}){const i={id:this.idGenerator.generate(),node:new h.Ej(e)};return O(this.host,i,(e=>e.send(new m.HE("direct",t))))}}function O(e,t,i){const{id:n,node:s}=e,{id:r,node:a}=t,o=new h.UX(r,a,n,s);return new Promise(((e,t)=>{const l=new h.UX(r,a,n,s).createMessenger();l.init();const c=new class{accept(t,i,n,s){e({targetOrigin:origin,sourceId:t,targetId:s,scriptUrl:i,serializedInterface:n,messengerFactory:o}),l.dispose()}reject(e){t(e),l.dispose()}};l.addObserver(new m.fE(c)),l.addObserver(new m.MJ(c)),i(l)}))}function T(e,t,i,n,s){var r,a;const{id:o,node:l}=t,{id:c,source:d,source:{origin:p}}=i.info,f=new h.UX(o,l,c,d).createMessenger();n.onConnectionReceived(p,e.options,{id:c,applicationKey:i.applicationKey,messenger:f,communicationMethod:u.DIRECT,context:{provider:(null===(r=e.options)||void 0===r?void 0:r.provider)||"",sdkType:(null===(a=e.options)||void 0===a?void 0:a.sdkType)||"",pluginId:E(s)?s.pluginId:void 0,bootstrap:{version:E(s)?"plugin":"direct",providedAppKey:!!e.applicationKey}}},{accept(e,t){f.send(new m.U7(e,t,c,o,p))},handshake(){f.send(new m.RS)},reject(e){f.send(new m.HX(e)),f.dispose()}})}var _,N,w,A,I,k,P,L,D,R,M,C,x,F,U,H,j,V,B,G,W=i(53257);!function(e){e.EVENT="postmessage.event",e.RESPONSE="postmessage.response",e.OBSERVATION="postmessage.observation",e.COLLECTION_UPDATE="collection.updated",e.PRIVATE_MESSAGE="private.message"}(_||(_={})),function(e){e.ITEM_ADDED="collection.item.added",e.ITEM_REMOVED="collection.item.removed",e.ITEM_UPDATED="collection.item.updated",e.COLL_UPDATED="collection.coll.updated"}(N||(N={}));!function(e){e.DISCONNECT="sdk.client.disconnect",e.ACTION="postmessage.action",e.EVENT_SUB="postmessage.subscribe",e.EVENT_UNSUB="postmessage.unsubscribe",e.OBSERVABLE_SUB="postmessage.observe",e.OBSERVABLE_UNSUB="postmessage.unobserve",e.COLLECTION_SUB="collection.sub",e.COLLECTION_UNSUB="collection.unsub",e.PRIVATE_MESSAGE="private.message"}(w||(w={}));!function(e){let t,i,n,s;!function(e){e.PHASE_CHANGE="application.phasechange"}(t=e.Event||(e.Event={})),function(e){e.UNINITIALIZED="appphase.uninitialized",e.WAITING="appphase.waiting",e.LOADING="appphase.loading",e.STARTING="appphase.starting",e.PLAYING="appphase.playing",e.ERROR="appphase.error"}(i=e.Phase||(e.Phase={})),function(e){e.UNKNOWN="application.unknown",e.WEBVR="application.webvr",e.SHOWCASE="application.showcase",e.WORKSHOP="application.workshop"}(n=e.Application||(e.Application={})),function(e){e.RoomBounds="feature.roombounds"}(s=e.Feature||(e.Feature={}))}(A||(A={})),function(e){let t,i,n;!function(e){e.IMAGE="image",e.PDF="pdf",e.VIDEO="video",e.RICH="rich",e.ZIP="zip",e.TEXT="text",e.AUDIO="audio",e.MODEL="model",e.APPLICATION="application"}(t=e.MediaType||(e.MediaType={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload",e.SANDBOX="sandbox"}(i=e.AttachmentCategory||(e.AttachmentCategory={})),function(e){e.COMMENT="comment",e.MATTERTAG="mattertag"}(n=e.ParentType||(e.ParentType={}))}(I||(I={})),function(e){let t,i;!function(e){e.MOVE="camera.move"}(t=e.Event||(e.Event={})),function(e){e.FORWARD="FORWARD",e.LEFT="LEFT",e.RIGHT="RIGHT",e.BACK="BACK",e.UP="UP",e.DOWN="DOWN"}(i=e.Direction||(e.Direction={}))}(k||(k={})),function(e){let t;!function(e){e.CHANGE_START="floors.changestart",e.CHANGE_END="floors.changeend"}(t=e.Event||(e.Event={}))}(P||(P={})),function(e){let t;!function(e){e.SUCCESS="astar.status.success",e.NO_PATH="astar.status.no_path",e.TIMEOUT="astar.status.timeout",e.NO_START_VERTEX="astar.status.no_start",e.NO_END_VERTEX="astar.status.no_end"}(t=e.AStarStatus||(e.AStarStatus={}))}(L||(L={})),function(e){let t;!function(e){e.POSITION_UPDATED="label.positionupdated"}(t=e.Event||(e.Event={}))}(D||(D={})),function(e){let t,i,n;!function(e){e.WINDOW="link.creationpolicy.window",e.REFERRER="link.creationpolicy.referrer",e.MATTERPORT="link.creationpolicy.matterport"}(t=e.CreationPolicy||(e.CreationPolicy={})),function(e){e.DEFAULT="link.openpolicy.default",e.NEW_WINDOW="link.openpolicy.newwindow",e.SAME_FRAME="link.openpolicy.sameframe",e.CURRENT_WINDOW="link.openpolicy.current"}(i=e.OpenPolicy||(e.OpenPolicy={})),function(e){e.DEFAULT="link.destination.default",e.MATTERPORT="link.destination.matterport"}(n=e.DestinationPolicy||(e.DestinationPolicy={}))}(R||(R={})),function(e){let t,i,n,s,r;!function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(t=e.Transition||(e.Transition={})),function(e){e.NAVIGATION="tag.link.nav",e.MODEL="tag.link.model",e.EXT_LINK="tag.link.ext"}(i=e.LinkType||(e.LinkType={})),function(e){e.NONE="tag.chunk.none",e.TEXT="tag.chunk.text",e.LINK="tag.chunk.link"}(n=e.DescriptionChunkType||(e.DescriptionChunkType={})),function(e){e.HOVER="tag.hover",e.CLICK="tag.click",e.LINK_OPEN="tag.linkopen"}(s=e.Event||(e.Event={})),function(e){e.NONE="mattertag.media.none",e.PHOTO="mattertag.media.photo",e.VIDEO="mattertag.media.video",e.RICH="mattertag.media.rich"}(r=e.MediaType||(e.MediaType={}))}(M||(M={})),function(e){let t,i,n;!function(e){e.INSIDE="mode.inside",e.OUTSIDE="mode.outside",e.DOLLHOUSE="mode.dollhouse",e.FLOORPLAN="mode.floorplan",e.TRANSITIONING="mode.transitioning"}(t=e.Mode||(e.Mode={})),function(e){e.CHANGE_START="viewmode.changestart",e.CHANGE_END="viewmode.changeend"}(i=e.Event||(e.Event={})),function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(n=e.TransitionType||(e.TransitionType={}))}(C||(C={})),function(e){let t;!function(e){e.MODEL_LOADED="model.loaded"}(t=e.Event||(e.Event={}))}(x||(x={})),function(e){let t;!function(e){e.NONE="intersectedobject.none",e.MODEL="intersectedobject.model",e.TAG="intersectedobject.tag",e.SWEEP="intersectedobject.sweep",e.UNKNOWN="intersectedobject.unknown"}(t=e.Colliders||(e.Colliders={}))}(F||(F={})),U||(U={}),function(e){let t,i;!function(e){e.CAMERA="sensor.sensortype.camera"}(t=e.SensorType||(e.SensorType={})),function(e){e.SPHERE="sensor.sourcetype.sphere",e.BOX="sensor.sourcetype.box",e.CYLINDER="sensor.sourcetype.cylinder"}(i=e.SourceType||(e.SourceType={}))}(H||(H={})),function(e){let t,i,n,s;!function(e){e.ENTER="sweep.enter",e.EXIT="sweep.exit"}(t=e.Event||(e.Event={})),function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(i=e.Transition||(e.Transition={})),function(e){e.ALIGNED="aligned",e.UNALIGNED="unaligned"}(n=e.Alignment||(e.Alignment={})),function(e){e.UNPLACED="unplaced",e.AUTO="auto",e.MANUAL="manual"}(s=e.Placement||(e.Placement={}))}(j||(j={})),function(e){let t;!function(e){e.UNKNOWN="tag.attachment.unknown",e.APPLICATION="tag.attachment.application",e.AUDIO="tag.attachment.audio",e.IMAGE="tag.attachment.image",e.MODEL="tag.attachment.model",e.PDF="tag.attachment.pdf",e.RICH="tag.attachment.rich",e.TEXT="tag.attachment.text",e.VIDEO="tag.attachment.video",e.ZIP="tag.attachment.zip",e.SANDBOX="tag.attachment.sandbox"}(t=e.AttachmentType||(e.AttachmentType={}))}(V||(V={})),function(e){let t,i;!function(e){e.STARTED="tour.started",e.STOPPED="tour.stopped",e.ENDED="tour.ended",e.STEPPED="tour.stepped"}(t=e.Event||(e.Event={})),function(e){e.INACTIVE="tour.inactive",e.ACTIVE="tour.active",e.STOP_SCHEDULED="tour.stopscheduled"}(i=e.PlayState||(e.PlayState={}))}(B||(B={})),function(e){let t,i,n;!function(e){e.OBJ_LOADER="mp.objLoader",e.FBX_LOADER="mp.fbxLoader",e.DAE_LOADER="mp.daeLoader",e.GLTF_LOADER="mp.gltfLoader",e.SCROLLING_TUBE="mp.scrollingTube",e.TRANSFORM_CONTROLS="mp.transformControls",e.LIGHTS_COMPONENT="mp.lights",e.POINT_LIGHT="mp.pointLight",e.DIRECTIONAL_LIGHT="mp.directionalLight",e.AMBIENT_LIGHT="mp.ambientLight",e.CAMERA="mp.camera",e.INPUT="mp.input",e.XR="mp.xr"}(t=e.Component||(e.Component={})),function(e){e.CLICK="INTERACTION.CLICK",e.HOVER="INTERACTION.HOVER",e.DRAG="INTERACTION.DRAG",e.DRAG_BEGIN="INTERACTION.DRAG_BEGIN",e.DRAG_END="INTERACTION.DRAG_END",e.POINTER_MOVE="INTERACTION.POINTER_MOVE",e.POINTER_BUTTON="INTERACTION.POINTER_BUTTON",e.SCROLL="INTERACTION.SCROLL",e.KEY="INTERACTION.KEY",e.LONG_PRESS_START="INTERACTION.LONG_PRESS_START",e.LONG_PRESS_END="INTERACTION.LONG_PRESS_END",e.MULTI_SWIPE="INTERACTION.MULTI_SWIPE",e.MULTI_SWIPE_END="INTERACTION.MULTI_SWIPE_END",e.PINCH="INTERACTION.PINCH",e.PINCH_END="INTERACTION.PINCH_END",e.ROTATE="INTERACTION.ROTATE",e.ROTATE_END="INTERACTION.ROTATE_END"}(i=e.InteractionType||(e.InteractionType={})),function(e){e.INPUT="input",e.OUTPUT="output",e.EVENT="event",e.EMIT="emit"}(n=e.PathType||(e.PathType={}))}(G||(G={}));i(20360),i(69947),i(40333);Math.PI;C.Mode.DOLLHOUSE,new Float32Array(16);var z=i(98214);z.h.Success,L.AStarStatus.SUCCESS,z.h.NoPath,L.AStarStatus.NO_PATH,z.h.Timeout,L.AStarStatus.TIMEOUT;Symbol.iterator;var K;!function(e){e.SETUP="sandbox.setup",e.TO_SANDBOX="sandbox.to.sandbox",e.TO_CLIENT="sandbox.to.client"}(K||(K={}));var Y;!function(e){e.map=new Map}(Y||(Y={}));var q;!function(e){e.ADD="view.add.layer",e.REMOVE="view.remove.layer"}(q||(q={}));new WeakMap,new WeakMap,new WeakMap;new WeakMap,new WeakMap,new WeakMap;const $=new W.Z("SDK client");"undefined"!=typeof __SDK_CLIENT_VERSION__&&$.info("Showcase SDK client version:",__SDK_CLIENT_VERSION__);class Z{constructor(e,t,i,n){this.type=_.RESPONSE,this.payload={uid:e,message:t,success:i,error:n},this.uid=e,this.message=t,this.success=i,this.error=n}}class Q{constructor(e,t){this.type=_.EVENT,this.payload={eventType:e,eventData:t},this.eventType=e,this.eventData=t}}class X{constructor(e,t){this.type=_.OBSERVATION,this.payload={observableKey:e,observableData:t}}}class J{constructor(e,t,i,n){this.type=_.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:i,item:n}}}class ee{constructor(e,t,i){this.type=_.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:i}}}class te{constructor(e,t,i,n){this.type=_.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:i,item:n}}}class ie{constructor(e,t){this.type=_.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t}}}class ne{constructor(e,t){this.type=_.PRIVATE_MESSAGE,this.payload={messageType:e,messagePayload:t}}}class se{constructor(e,t){this.receiver=e,this.clientInfo=t,this.messageType=w.ACTION}notify(e){this.receiver.onActionReceived(e,this.clientInfo)}}class re{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=w.EVENT_SUB}notify(e){this.observer.onEventSubReceived(e,this.clientInfo)}}class ae{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=w.EVENT_UNSUB}notify(e){this.observer.onEventUnsubReceived(e,this.clientInfo)}}class oe{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=w.OBSERVABLE_SUB}notify(e){this.observer.onObservableSubReceived(e,this.clientInfo)}}class le{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=w.OBSERVABLE_UNSUB}notify(e){this.observer.onObservableUnsubReceived(e,this.clientInfo)}}class ce{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=w.COLLECTION_SUB}notify(e){this.observer.onCollectionSubReceived(e,this.clientInfo)}}class de{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=w.COLLECTION_UNSUB}notify(e){this.observer.onCollectionUnsubReceived(e,this.clientInfo)}}class ue{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=w.PRIVATE_MESSAGE}notify(e){this.observer.onPrivateMessageReceived(e,this.clientInfo)}}class he{constructor(){this.dirty=!1}dispose(){}}var pe=i(27067),me=i(4763),fe=i(42896),ge=i(81746),ve=i(48199),ye=i(85726);const Ee=new W.Z("sdk");class be extends r.Y{constructor(){super(...arguments),this.name="sdk",this.hostId=Math.floor(1e6*Math.random()),this.connectionHandlers=[],this.clientInterface={functions:{},commands:{},enums:{},observables:{},collections:{}},this.perOriginInterfaces=new Map,this.perSdkTypeInterfaces=new Map,this.pendingClients=new fe.v,this.clientConnections=new Map,this.eventToClientSubMap=new o.X,this.clientToEventSubMap=new o.X,this.observableToClientSubMap=new o.X,this.clientToObservableSubMap=new Map,this.collectionToClientSubMap=new o.X,this.clientToCollectionSubMap=new Map,this.privateMessageHandlers=new o.X,this.valueToClientInterface={},this.commandCreators={},this.commands={},this.asyncCommands={},this.observables={},this.collections={},this.commandExecutionOrder=0,this.firstTimeCollectionSubs=new o.X,this.sdkTypeByBuild=n.EMBED}async init(e,t){this.config=e,this.validationUrl=e.validationUrl,this.facade=new be.MessengerHostFacade(this),this.clientIdGenerator=new d,this.postmessageConnectHandler=new f(window,this.hostId,e.applicationKey,this.clientIdGenerator,this.facade),this.directConnectHandler=new S(this.hostId,e.applicationKey,this.clientIdGenerator,this.facade),this.pluginConnectHandler=new b(this.hostId,this.clientIdGenerator,this.facade),this.connectionHandlers.push(this.postmessageConnectHandler,this.directConnectHandler,this.pluginConnectHandler),this.sdkTypeByBuild=n.BUNDLE,this.analytics=new l(await t.getModuleBySymbol(me.V6)),this.clientFilter=e.clientFilter||(()=>!0),this.issueCommand=t.commandBinder.issueCommand.bind(t.commandBinder),this.getSdkConfig=e.getSdkConfig,this.requestQueue=e.queue,this.data=new a.I,t.market.register(this,a.I,this.data),this.addPrivateMessageHandler(new c(this.analytics)),this.enableHandshaking()}dispose(){for(const e of this.connectionHandlers)e.dispose();this.clearInterface()}connect(e,t){try{new URL(e)}catch(e){return Promise.reject(e)}return this.directConnectHandler.connect(e,t)}connectPlugin(e,t){return this.pluginConnectHandler.connect({applicationKey:e,pluginId:t})}getClientAuth(e){const t=this.pendingClients.get(e);return t?Promise.resolve(t):new Promise((t=>{const i=this.pendingClients.onElementChanged({onAdded(n,s){s===e&&(t(n),i.cancel())}})}))}enableHandshaking(){for(const e of this.connectionHandlers)e.init()}async setupInterface(){return this.interfaceLoading||(this.interfaceLoading=this.config.setupExternalSdk(this)),this.interfaceLoading}clearInterface(){this.clientInterface.functions={},this.clientInterface.commands={},this.clientInterface.enums={},this.clientInterface.observables={},this.clientInterface.collections={},this.commandCreators={}}onUpdate(){for(const[e,t]of this.clientToObservableSubMap)for(const[i,[n,s]]of t)n.dirty&&(this.notifyObservableUpdate(i,s.getData(),e),n.dirty=!1);for(const[e,t]of this.clientToCollectionSubMap)for(const[i,[,n]]of t)n.dirty&&this.notifyCollectionUpdates(i,n.readDiff(),e)}addCommandCreator(e,t){const i=this.getInterfaceIndex(e);if(this.clientInterface.functions.hasOwnProperty(i)&&Ee.debug(`Overwriting ${i} function in sdk interface`),e.sdkTypes)for(const t of e.sdkTypes){const n=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.functions[i]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,n)}if(e.origins)for(const t of e.origins){const n=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.functions[i]=Object.assign({},e),this.perOriginInterfaces.set(t,n)}this.clientInterface.functions[i]=e,this.commandCreators[i]=t}addEnumToInterface(e){const t=this.getInterfaceIndex(e);if(this.clientInterface.enums.hasOwnProperty(t)&&Ee.debug(`Overwriting ${t} enum in sdk interface`),e.sdkTypes)for(const i of e.sdkTypes){const n=this.perSdkTypeInterfaces.get(i)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.enums[t]=Object.assign({},e),this.perSdkTypeInterfaces.set(i,n)}if(e.origins)for(const i of e.origins){const n=this.perOriginInterfaces.get(i)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.enums[t]=Object.assign({},e),this.perOriginInterfaces.set(i,n)}if(this.clientInterface.enums[t]=Object.assign(Object.assign({},e),{values:Object.assign({},e.values)}),"Event"===e.name){const t=Object.keys(e.values);for(const i in t){this.valueToClientInterface;const n=e.values[t[i]];this.valueToClientInterface.hasOwnProperty(n)?Ee.warn(`Duplicate event detected for ${JSON.stringify(e)}`):this.valueToClientInterface[n]=e}}}async addCommandToInterface(e,t){const i=this.getInterfaceIndex(e);if(this.addCommand(i,t),e.sdkTypes)for(const t of e.sdkTypes){const n=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.commands[i]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,n)}if(e.origins)for(const t of e.origins){const n=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.commands[i]=Object.assign({},e),this.perOriginInterfaces.set(t,n)}this.clientInterface.commands[i]=e}async addAsyncCommandToInterface(e,t){const i=this.getInterfaceIndex(e);if(this.addCommand(i,t,!0),e.sdkTypes)for(const t of e.sdkTypes){const n=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.commands[i]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,n)}if(e.origins)for(const t of e.origins){const n=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.commands[i]=Object.assign({},e),this.perOriginInterfaces.set(t,n)}this.clientInterface.commands[i]=Object.assign({},e)}async addCommand(e,t,i=!1){this.clientInterface.commands.hasOwnProperty(e);const n=this;return i?(this.asyncCommands[e]=t,{dispose(){delete n.asyncCommands[e]}}):(this.commands[e]=await t,{dispose(){delete n.commands[e]}})}addObservableToInterface(e,t){const i=this.getInterfaceIndex(e);if(this.addObservable(i,t),e.sdkTypes)for(const t of e.sdkTypes){const n=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.observables[i]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,n)}if(e.origins)for(const t of e.origins){const n=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.observables[i]=Object.assign({},e),this.perOriginInterfaces.set(t,n)}this.clientInterface.observables[i]=Object.assign({},e)}addObservable(e,t){this.clientInterface.observables.hasOwnProperty(e),this.observables[e]=t;const i=this;return{dispose(){i.removeObservable(e)}}}removeObservable(e){var t;delete this.observables[e];for(const i of this.observableToClientSubMap.getValuesAtKey(e))null===(t=this.clientToObservableSubMap.get(i.id))||void 0===t||t.delete(e);this.observableToClientSubMap.removeKey(e)}addCollectionToInterface(e,t){const i=this.getInterfaceIndex(e);if(this.addCollection(i,t),e.sdkTypes)for(const t of e.sdkTypes){const n=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.collections[i]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,n)}if(e.origins)for(const t of e.origins){const n=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.collections[i]=Object.assign({},e),this.perOriginInterfaces.set(t,n)}this.clientInterface.collections[i]=Object.assign({},e)}addCollection(e,t){this.clientInterface.collections.hasOwnProperty(e),this.collections[e]=t;const i=this;return{dispose(){i.removeCollection(e)}}}removeCollection(e){var t;delete this.collections[e];for(const i of this.collectionToClientSubMap.getValuesAtKey(e))null===(t=this.clientToCollectionSubMap.get(i.id))||void 0===t||t.delete(e);this.collectionToClientSubMap.removeKey(e)}addPrivateMessageHandler(e){const{privateMessageHandlers:t}=this;return t.add(e.messageType,e),{dispose(){t.remove(e.messageType,e)}}}getInterfaceIndex(e){let t=`${e.name}`;return e.namespace&&(t=`${e.namespace}.${t}`),t}sendPrivateMessage(e,t,i){for(const[,n]of this.clientConnections)void 0!==i&&n.executing.id!==i||n.messaging.messenger.send(new ne(e,t))}broadcast(e,t,i){for(const[,n]of this.clientConnections)if(t){const s=t(i);n.messaging.messenger.send(new Q(e,s||[]))}else n.messaging.messenger.send(new Q(e,[]))}notifyObservableUpdate(e,t,i){for(const n of this.observableToClientSubMap.getValuesAtKey(e))n.id===i&&n.messenger.send(new X(e,t))}notifyCollectionUpdates(e,t,i){const{added:n,removed:s,updated:r}=t,a=n.size>0,o=s.size>0,l=r.size>0,c=this.clientConnections.get(i);if(c){const t=c.messaging,i=t.id;if(a)for(const[i,s]of n)t.messenger.send(new J(N.ITEM_ADDED,e,i,s));if(o)for(const[i]of s)t.messenger.send(new ee(N.ITEM_REMOVED,e,i));if(l)for(const[i,n]of r)t.messenger.send(new te(N.ITEM_UPDATED,e,i,n));(a||o||l||this.firstTimeCollectionSubs.has(i,e))&&(t.messenger.send(new ie(N.COLL_UPDATED,e)),this.firstTimeCollectionSubs.remove(i,e))}}verifyConnection(e,t){const i={cache:!1,headers:{"X-Matterport-Application-Key":t,"X-Matterport-Referrer":e},priority:pe.ru.HIGH};return this.requestQueue.get(this.validationUrl,i)}async onConnectionReceived(e,t={},i,s){if(!this.clientFilter(e))return s.reject(new m.WG);t&&(0,ge.p)(n,t.sdkType)?i.context.sdkType=t.sdkType:i.context.sdkType=this.sdkTypeByBuild;const r=new Oe(t.auth,t.provider);if(!E(i.context))try{await this.verifyConnection(e,i.applicationKey),this.pendingClients.set(i.applicationKey,r)}catch(t){return r.reject(),s.reject(new m.hu(`${i.applicationKey}@${e} - Key/referrer mismatch`))}const a=()=>{const t=new URL(e).hostname,n=this.perOriginInterfaces.get(t.toLowerCase()),s=this.perSdkTypeInterfaces.get(i.communicationMethod),r={enums:{},functions:{},observables:{},collections:{}},a=function(e,t,i,n){const s=e[t].sdkTypes,r=e[t].origins;if(!s&&!r)return!0;const a=s&&r&&(null==i?void 0:i[t])&&(null==n?void 0:n[t]),o=s&&!r&&(null==i?void 0:i[t]),l=!s&&r&&(null==n?void 0:n[t]);return a||o||l};for(const e in this.clientInterface.enums)a(this.clientInterface.enums,e,null==s?void 0:s.enums,null==n?void 0:n.enums)&&(r.enums[e]=this.clientInterface.enums[e]);for(const e in this.clientInterface.observables)a(this.clientInterface.observables,e,null==s?void 0:s.observables,null==n?void 0:n.observables)&&(r.observables[e]=this.clientInterface.observables[e]);for(const e in this.clientInterface.collections)a(this.clientInterface.collections,e,null==s?void 0:s.collections,null==n?void 0:n.collections)&&(r.collections[e]=this.clientInterface.collections[e]);for(const e in this.clientInterface.functions)a(this.clientInterface.functions,e,null==s?void 0:s.functions,null==n?void 0:n.functions)&&(r.functions[e]=this.clientInterface.functions[e]);for(const e in this.clientInterface.commands)a(this.clientInterface.commands,e,null==s?void 0:s.commands,null==n?void 0:n.commands)&&(r.functions[e]=this.clientInterface.commands[e]);return r};s.handshake();try{if(!E(i.context)){if(!await this.config.validateProvider(t.provider))throw r.reject(),new m.xA}r.accept(),await this.setupInterface();const n=a();this.onConnectionAccepted(e,i,t),s.accept((await this.getSdkConfig).client,n),this.data.atomic((()=>{this.data.applicationKeys.push({key:i.applicationKey,provider:i.context.provider}),this.data.commit()}))}catch(e){s.reject(e)}}onConnectionAccepted(e,t,i){const n=t.id,s=t.messenger,r={messaging:Object.assign(Object.assign({},t),{origin:e}),executing:{get id(){return t.context.pluginId||String(n)},applicationKey:t.applicationKey}};this.clientConnections.set(n,r);const a=this.facade;s.addObserver(new se(a,r.messaging)),s.addObserver(new re(a,r.messaging)),s.addObserver(new ae(a,r.messaging)),s.addObserver(new oe(a,r.messaging)),s.addObserver(new le(a,r.messaging)),s.addObserver(new ce(a,r.messaging)),s.addObserver(new de(a,r.messaging)),s.addObserver(new ue(a,r.messaging)),s.init(),this.trackSdkConnect(r.messaging,i)}onDisconnectReceived(e,t){const i=t.messaging,n=this.clientToEventSubMap.getValuesAtKey(i.id),s=this.clientToObservableSubMap.get(i.id)||[],r=this.clientToCollectionSubMap.get(i.id)||[];for(const e of n)this.eventToClientSubMap.remove(e,i);for(const[e]of s)this.observableToClientSubMap.remove(e,i);for(const[e]of r)this.collectionToClientSubMap.remove(e,i);this.clientToEventSubMap.removeKey(i.id),this.clientToObservableSubMap.delete(i.id),this.clientToCollectionSubMap.delete(i.id);const a=this.data.applicationKeys.indexOf({key:i.applicationKey,provider:i.context.provider});a>-1&&this.data.applicationKeys.splice(a,1)}onActionReceived(e,t){if(this.tryActionThroughCommand(e,t))return;const i=this.commandCreators[e.targetFunction];if(i){this.trackSdkCall(e,t.messaging.id);try{this.issueCommand(i(e.params,t.executing)).then((i=>t.messaging.messenger.send(new Z(e.uid,i,!0,"")))).catch((i=>t.messaging.messenger.send(new Z(e.uid,{},!1,i.message||i))))}catch(i){Ee.debug(i),t.messaging.messenger.send(new Z(e.uid,{},!1,i.message))}}else t.messaging.messenger.send(new Z(e.uid,{},!1,`${e.targetFunction} is not a valid command`))}tryActionThroughCommand(e,t){if(this.tryActionThroughAsyncCommand(e,t))return!0;const i=this.commands[e.targetFunction];if(!i)return!!this.clientInterface.commands.hasOwnProperty(e.targetFunction)&&(t.messaging.messenger.send(new Z(e.uid,{},!1,`${e.targetFunction} is not ready to be called`)),!0);this.trackSdkCall(e,t.messaging.id);try{i.exec(e.params,Object.assign(Object.assign({},e.context),{client:t.executing,key:e.targetFunction,executionId:this.commandExecutionOrder++})).then((i=>{t.messaging.messenger.send(new Z(e.uid,i,!0,""))})).catch((i=>{t.messaging.messenger.send(new Z(e.uid,{},!1,i.message||i))}))}catch(i){Ee.debug(i),t.messaging.messenger.send(new Z(e.uid,{},!1,i.message))}return!0}tryActionThroughAsyncCommand(e,t){const i=this.asyncCommands[e.targetFunction];return!!i&&(i.then((i=>{this.trackSdkCall(e,t.messaging.id);try{i.exec(e.params,Object.assign(Object.assign({},e.context),{client:t.executing,key:e.targetFunction,executionId:this.commandExecutionOrder++})).then((i=>{t.messaging.messenger.send(new Z(e.uid,i,!0,""))})).catch((i=>{t.messaging.messenger.send(new Z(e.uid,{},!1,i.message||i))}))}catch(i){Ee.debug(i),t.messaging.messenger.send(new Z(e.uid,{},!1,i.message))}})),!0)}onEventSubReceived(e,t){const i=t.messaging;this.eventToClientSubMap.add(e.subscription,i),this.trackSdkEvent(s.SUBSCRIBED,e,i)}onEventUnsubReceived(e,t){const i=t.messaging;this.eventToClientSubMap.remove(e.subscription,i),this.trackSdkEvent(s.UNSUBSCRIBED,e,i)}async onObservableSubReceived(e,t){const i=t.messaging,n=e.observableKey,r=this.observables[n];if(r){const t=await r;if(!this.observables[n])return;if(!this.observableToClientSubMap.has(n,i)){const r=new he,a=t.subscribe(r);this.observableToClientSubMap.add(n,i);const o=this.clientToObservableSubMap.get(i.id)||new Map;o.set(n,[r,t,a]),this.clientToObservableSubMap.set(i.id,o),this.trackClientObservableSub(s.OBSERVABLE_SUB,e,i)}}else Ee.error(n,"is not a valid, registered observable")}onObservableUnsubReceived(e,t){const i=t.messaging,n=e.observableKey;this.observableToClientSubMap.remove(n,i);const r=this.clientToObservableSubMap.get(i.id);if(r){const t=r.get(n);if(t){const[,,a]=t;a.cancel(),r.delete(n),this.trackClientObservableSub(s.OBSERVABLE_UNSUB,e,i)}}}async onCollectionSubReceived(e,t){const i=t.messaging,n=e.collectionKey,r=this.collections[n];if(r){const t=await r;if(!this.collections[n])return;if(!this.collectionToClientSubMap.has(n,i)){const r=t.subscribe(i),a=[t,r];this.collectionToClientSubMap.add(n,i);const o=this.clientToCollectionSubMap.get(i.id)||new Map;o.set(n,a),this.clientToCollectionSubMap.set(i.id,o),this.firstTimeCollectionSubs.add(i.id,n),this.trackClientCollectionSub(s.COLLECTION_SUB,e,i)}}else Ee.error(n,"is not a valid, registered collection")}onCollectionUnsubReceived(e,t){const i=t.messaging,n=e.collectionKey;this.collectionToClientSubMap.remove(n,i);const r=this.clientToCollectionSubMap.get(i.id);if(r){const t=r.get(n);if(t){const[,a]=t;a.cancel(),r.delete(n),this.trackClientCollectionSub(s.COLLECTION_UNSUB,e,i)}}}onPrivateMessageReceived(e,t){const{messageType:i,messagePayload:n}=e;for(const e of this.privateMessageHandlers.getValuesAtKey(i))(e.clientId||e.clientId===t.executing.id)&&e.onMessage(n,t.messaging)}trackSdkConnect(e,t){if(!this.analytics)return;const i="string"==typeof(null==t?void 0:t.auth),n={origin:e.origin,applicationKey:e.applicationKey,provider:e.context.provider,method:e.communicationMethod,sdkType:e.context.sdkType,pluginId:e.context.pluginId,authTokenProvided:i,bootstrapVersion:e.context.bootstrap.version,bootstrapProvidedAppKey:e.context.bootstrap.providedAppKey};this.analytics.setOptions({authTokenProvided:i}),this.analytics.alwaysTrack("sdk_connect","connect",n)}trackSdkEvent(e,t,i){if(!this.analytics)return;const n=e===s.SUBSCRIBED?"on":"off",r=this.valueToClientInterface[t.subscription];if(!r)return;const a=Object.keys(r.values),o=a.find(((e,i)=>{const n=a[i];return r.values[n]===t.subscription}));if(!o)return;const l={origin:i.origin,applicationKey:i.applicationKey,provider:i.context.provider,sdkType:i.context.sdkType,name:n,namespace:r.namespace,eventType:o,count:this.eventToClientSubMap.valuesPerKey(t.subscription),method:i.communicationMethod,pluginId:i.context.pluginId};this.analytics.track("sdk_event",t.subscription,l)}trackSdkCall(e,t){const i=this.clientConnections.get(t);if(!i)return;const n=this.clientInterface.functions[e.targetFunction]||this.clientInterface.commands[e.targetFunction],s=i.messaging,r=Object.assign(Object.assign({origin:s.origin,applicationKey:s.applicationKey,provider:s.context.provider,sdkType:s.context.sdkType},n),{method:s.communicationMethod,pluginId:s.context.pluginId});if(this.analytics.track("sdk_call",e.targetFunction,r),n&&"Settings"===n.namespace&&"update"===n.name){const{key:t,value:i}=e.params;(0,ve.t)(t)&&this.analytics.track("sdk_settings",t,{origin:s.origin,applicationKey:s.applicationKey,provider:s.context.provider,sdkType:s.context.sdkType,pluginId:s.context.pluginId,settingKey:t,settingValue:(0,y.K)(i)?{}.toString():(0,ve.t)(i)?i:JSON.stringify(i)})}}trackClientObservableSub(e,t,i){const n=e===s.OBSERVABLE_SUB,r=this.clientInterface.observables[t.observableKey],a=Object.assign(Object.assign({origin:i.origin,applicationKey:i.applicationKey,provider:i.context.provider,sdkType:i.context.sdkType},r),{is_collection:!1,action:n?"subscribe":"cancel",method:i.communicationMethod,pluginId:i.context.pluginId});this.analytics.track("sdk_subscribe",t.observableKey,a)}trackClientCollectionSub(e,t,i){const n=e===s.COLLECTION_SUB,r=this.clientInterface.collections[t.collectionKey],a=Object.assign(Object.assign({origin:i.origin,applicationKey:i.applicationKey,provider:i.context.provider,sdkType:i.context.sdkType},r),{is_collection:!0,action:n?"subscribe":"cancel",method:i.communicationMethod,pluginId:i.context.pluginId});this.analytics.track("sdk_subscribe",t.collectionKey,a)}}var Se;be.MessengerHostFacade=class{constructor(e){this.messageHandler=e}onConnectionReceived(e,t,i,n){this.messageHandler.onConnectionReceived(e,t,i,n)}onDisconnectReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onDisconnectReceived(e,i)}onActionReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onActionReceived(e,i)}onEventSubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onEventSubReceived(e,i)}onEventUnsubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onEventUnsubReceived(e,i)}onObservableSubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onObservableSubReceived(e,i)}onObservableUnsubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onObservableUnsubReceived(e,i)}onCollectionSubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onCollectionSubReceived(e,i)}onCollectionUnsubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onCollectionUnsubReceived(e,i)}onPrivateMessageReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onPrivateMessageReceived(e,i)}},function(e){e.name="sdk"}(Se||(Se={}));class Oe{constructor(e,t){this.token=e,this.provider=t,this.isAccepted=new ye.f(null)}get accepted(){if(null!==this.isAccepted.value){if(this.isAccepted.value)return Promise.resolve();if(!this.isAccepted.value)return Promise.reject()}return new Promise(((e,t)=>{if(null===this.isAccepted.value){const i=this.isAccepted.onChanged((n=>{n?e():t(),i.cancel()}))}}))}accept(){this.isAccepted.value=!0}reject(){this.isAccepted.value=!1}}},66379:(e,t,i)=>{"use strict";var n;i.d(t,{F:()=>n}),function(e){e.BlursAddNudgeSeen="user_preference/blurs_add_nudge",e.DefurnishNudgeSeen="user_preference/defurnish_nudge",e.DefurnishRated="user_preference/defurnish_rated",e.DollhouseUserNudgeSeen="user_preference/dollhouse_nudge",e.FloorplanRoomsUserNudgeSeen="user_preference/floorplan_rooms_nudge",e.HighlightReelSettingsTab="user_preference/highlight_reel_settings_tab",e.LastRatingPromptTime="user_preference/model_rating_last_prompt_time",e.MeasurementContinuousLines="user_preference/measurement_continuous",e.MeasurementSnapping="user_preference/measurement_snapping",e.MeasurementUserNudgeSeen="user_preference/measurement_nudge",e.NotesAddNudgeSeen="user_preference/notes_add_nudge",e.NotesModeNudgeSeen="user_preference/notes_mode_nudge",e.SubscriberPromptDismissed="user_preference/subscriber_prompt_dismissed",e.TagsAddNudgeSeen="user_preference/tags_add_nudge",e.TourMobileNavigationPromptSeen="user_preference/tour_mobile_nav_prompt_seen",e.TourTextNudgeDismissed="user_preference/tour_text_nudge_dismissed",e.UnitType="user_preference/unit_type"}(n||(n={}))},46301:(e,t,i)=>{"use strict";i.d(t,{u:()=>n});class n{constructor(e,t){this.settingsData=e,this.settings=t,this.cache={},this.toggle=e=>{e?this.apply():this.reset()}}apply(){this.cache={};for(const e of Object.keys(this.settings)){const t=this.settingsData.tryGetProperty(e,void 0);t!==this.settings[e]&&(this.cache[e]=t,this.settingsData.setProperty(e,this.settings[e]))}}reset(){for(const e of Object.keys(this.cache)){const t=this.cache[e];this.settingsData.setProperty(e,void 0!==t&&t)}this.cache={}}}},64150:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});var n=i(42141),s=i(42896),r=i(49368),a=i(1055);class o extends n.V{constructor(e={}){super(),this.overrideParams=e,this.name="settings",this.properties=(0,s.q)()}setProperty(e,t){const i=this.properties.get(e);null!=t&&i===t||(this.properties.set(e,t),this.commit([e]))}notifyPropertyObserver(e,t){e(this.properties.get(t))}setLocalStorageProperty(e,t){(0,r.m8)(e,t),this.setProperty(e,t)}hasProperty(e){return this.properties.has(e)}tryGetProperty(e,t){return this.hasProperty(e)?this.properties.get(e):t}getProperty(e){if(this.hasProperty(e))return this.properties.get(e);throw new Error("SettingsData: "+e+" not found")}getOverrideParam(e,t=null,i=typeof t){var n;return(0,a.O$)(null!==(n=this.overrideParams[e])&&void 0!==n?n:null,t,i)}iterate(e){for(const t of this.properties.keys)e(t,this.getProperty(t))}}},5743:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SettingPersistence:()=>l,default:()=>m});var n,s=i(93827);!function(e){e[e.Init=0]="Init",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded"}(n||(n={}));class r{constructor(e,t){this.queryScope=e,this.onChange=t,this.settings={},this.helperObject={colors:{},vectors:{},quaternions:{}},this.initPromise=new s.Q,this.loadState=n.Init,this.uninitError="ControlKit not yet initialized",this.lastKeys=[],this.lastKeysBufferLength=0,this.controlKit=void 0,this.updateRequired=!1,this.panels=[],this.onToggleCallbacks={},this.onKeyDown=e=>{this.lastKeys.unshift(e.keyCode),this.lastKeys.length>this.lastKeysBufferLength&&this.lastKeys.pop();for(let e=0;e<this.panels.length;e++){const t=this.panels[e].activationSequence;o(this.lastKeys,t)&&this.toggle(e)}},this.getPanelId=e=>{for(const t of this.panels)if(e===t.header)return t.index;return-1},this.getSubGroup=(e,t)=>{const i=this.panels[e];i.guiPanel||(i.guiPanel=i.makeGuiPanel()),i.allowSubGroups||(t="");let n=i.subGroups.get(t||"");if(!n){i.guiPanel.addSubGroup({label:t,enable:!i.allowSubGroups});const e=i.guiPanel._groups[i.guiPanel._groups.length-1],s=e._subGroups[e._subGroups.length-1];n=new a(i.guiPanel,e,s),i.subGroups.set(t||"",n)}return n},this.addColor=(e,t,i,n)=>{const s=this.key(t,i);this.updateHelperObject(s,n),e.addColor(this.helperObject.colors,s,{label:i,colorMode:"hex",onChange:e=>{this.settings[s].setHex(parseInt(e.substring(1),16));const t={};t[i]=this.settings[s],this.onChange(t)}})},this.addVector3=(e,t,i,n)=>{const s=this.key(e,i);this.updateHelperObject(s,n);const r=this.getSubGroup(e,`${t}: ${i}`),a=["x","y","z"];for(const e in a)r.addNumberInput(this.helperObject.vectors[s],a[e],{label:a[e],onChange:()=>{this.settings[s].set(this.helperObject.vectors[i].x,this.helperObject.vectors[i].y,this.helperObject.vectors[i].z);const e={};e[i]=this.settings[s],this.onChange(e)}})},this.addQuaternion=(e,t,i,n)=>{const s=this.key(e,i);this.updateHelperObject(s,n);const r=this.getSubGroup(e,`${t}: ${i}`),a=["x","y","z","w"];for(const e in a)r.addNumberInput(this.helperObject.quaternions[s],a[e],{label:a[e],onChange:()=>{this.settings[s].set(this.helperObject.quaternions[s].x,this.helperObject.quaternions[s].y,this.helperObject.quaternions[s].z,this.helperObject.quaternions[s].w);const e={};e[i]=this.settings[s],this.onChange(e)}})}}init(){}async loadGuiPackage(){return this.loadState===n.Init&&(Promise.all([i.e(958),i.e(66)]).then(i.t.bind(i,94810,23)).then((async e=>{const t=this.queryScope.getElementById("control-kit-wrapper")||document.body,{default:s}=await i.e(858).then(i.t.bind(i,70858,23));s.getNodeById=e=>(new s).setElement(this.queryScope.getElementById(e));const{default:r}=await i.e(958).then(i.t.bind(i,64958,23)),a=document.createElement("style");a.innerText=r.string,t.appendChild(a);const o=document.createElement("div");o.id="controlKitElement",t.appendChild(o);const l=e=>e.stopPropagation();o.addEventListener("keydown",l),o.addEventListener("keyup",l),o.addEventListener("keypress",l),this.controlKit=new e.default({opacity:.9,enable:!1,parentDomElementId:"controlKitElement",useExternalStyle:!0}),this.controlKit.setShortcutEnable(""),this.controlKit.enable(),this.initPromise.resolve(),this.loadState=n.Loaded})),this.loadState=n.Loading),this.loadPromise}get loadPromise(){return this.initPromise.nativePromise()}get isLoaded(){return void 0!==this.controlKit}addPanel(e,t,i={}){for(void 0===i.width&&(i.width=250),void 0===i.allowSubGroups&&(i.allowSubGroups=!0),void 0===i.ratio&&(i.ratio=60),this.lastKeysBufferLength=Math.max(this.lastKeysBufferLength,t.length);this.lastKeysBufferLength>this.lastKeys.length;)this.lastKeys.unshift(-1);return this.panels.push({index:this.panels.length,header:e,guiPanel:null,makeGuiPanel:()=>this.controlKit.addPanel({label:e,align:"right",ratio:i.ratio,width:i.width}),subGroups:new Map,allowSubGroups:i.allowSubGroups,activationSequence:t.reverse()}),this.panels.length-1}isVisible(e){if(!this.controlKit)throw new Error(this.uninitError);return this.panels[e].guiPanel._enabled}toggle(e){this.controlKit?this.toggleVisibility(e):this.loadGuiPackage().then((()=>{this.toggleVisibility(e)}))}onToggle(e,t){this.onToggleCallbacks[e]||(this.onToggleCallbacks[e]=[]),this.onToggleCallbacks[e].push(t)}toggleVisibility(e){if(!this.controlKit)throw new Error(this.uninitError);const t=this.panels[e].guiPanel._enabled;if(t?this.panels[e].guiPanel.disable():this.panels[e].guiPanel.enable(),this.onToggleCallbacks[e])for(const i of this.onToggleCallbacks[e])i(!t)}dispose(){const e=this.queryScope.getElementById("controlKit");e&&e.remove(),this.controlKit=void 0}activate(e){this.queryScope.addEventListener("keydown",this.onKeyDown)}deactivate(e){this.controlKit&&this.controlKit.disable(),this.queryScope.removeEventListener("keydown",this.onKeyDown)}render(){this.controlKit&&this.updateRequired&&(this.updateRequired=!1,this.controlKit.update())}updateSetting(e,t,i){if(!this.controlKit)throw new Error(this.uninitError);const n=e+t,s=this.settings[n];i&&"function"==typeof i.equals&&"function"==typeof i.copy&&s&&"function"==typeof s.equals&&"function"==typeof s.copy?i.equals(this.settings[n])||(this.settings[n].copy(i),this.updateHelperObject(n,i),this.updateRequired=!0):i!==this.settings[n]&&(this.settings[n]=i,this.updateRequired=!0)}key(e,t){return`${e}${t}`}getSetting(e,t){const i=this.key(e,t);return this.settings[i]}isRegistered(e,t){return void 0!==this.getSetting(e,t)}addControl(e,t,i,n,s,r=2,a){if(!this.controlKit)throw new Error(this.uninitError);const o=this.key(e,i);this.settings[o]=n;let l=typeof n;("string"===l&&"true"===n||"false"===n)&&(l="boolean");const c="object"===l;if(c&&(null==n?void 0:n.isColor))this.addColor(this.getSubGroup(e,t),e,i,n);else if(c&&(null==n?void 0:n.isVector3))this.addVector3(e,t,i,n);else if(c&&(null==n?void 0:n.isQuaternion))this.addQuaternion(e,t,i,n);else{const c=this.getSubGroup(e,t);switch(l){case"string":Array.isArray(a)?(this.settings[o]={options:a,selected:n},c.addSelect(this.settings[o],"options",{target:"selected",label:i,onChange:e=>{const t={[i]:a[e]};this.onChange(t)}})):c.addStringInput(this.settings,o,{label:i,onChange:e=>{const t={};this.settings[o]=e,t[i]=this.settings[o],this.onChange(t)}});break;case"number":this.settings[`${o}_range`]=s||[0,10],c.addSlider(this.settings,o,`${o}_range`,{label:i,onChange:()=>{const e={};e[i]=this.settings[o],this.onChange(e)},dp:r});break;case"boolean":c.addCheckbox(this.settings,o,{label:i,ratio:10,onChange:()=>{const e={};e[i]=this.settings[o],this.onChange(e)}});break;default:c.addStringOutput(this.settings,o,{label:i})}}}addButton(e,t,i,n){if(!this.controlKit)throw new Error(this.uninitError);this.getSubGroup(e,t).addButton(i,n,{label:"none",ratio:100})}addSlider(e,t,i,n,s,r,a){if(!this.controlKit)throw new Error(this.uninitError);const o=this.getSubGroup(e,t),l=this.key(e,i);this.settings[l]=n,this.settings[l+"_range"]=[s,r],o.addSlider(this.settings,l,l+"_range",{label:i,dp:a,onChange:()=>{const e={};e[i]=this.settings[l],this.onChange(e)}})}updateHelperObject(e,t){const i="object"==typeof t;i&&(null==t?void 0:t.isColor)?this.helperObject.colors[e]="#"+t.getHexString():i&&(null==t?void 0:t.isVector3)?(this.helperObject.vectors[e]={},this.helperObject.vectors[e].x=t.x,this.helperObject.vectors[e].y=t.y,this.helperObject.vectors[e].z=t.z):i&&(null==t?void 0:t.isQuaternion)&&(this.helperObject.quaternions[e]={},this.helperObject.quaternions[e].x=t.x,this.helperObject.quaternions[e].y=t.y,this.helperObject.quaternions[e].z=t.z,this.helperObject.quaternions[e].w=t.w)}}class a{constructor(e,t,i){this.panel=e,this.group=t,this.subGroup=i}addButton(...e){this.invoke("addButton",e)}addSlider(...e){this.invoke("addSlider",e)}addSelect(...e){this.invoke("addSelect",e)}addCheckbox(...e){this.invoke("addCheckbox",e)}addColor(...e){this.invoke("addColor",e)}addStringInput(...e){this.invoke("addStringInput",e)}addStringOutput(...e){this.invoke("addStringOutput",e)}addNumberInput(...e){this.invoke("addNumberInput",e)}invoke(e,t){const i=this.panel._groups,n=this.group._subGroups,s=i.indexOf(this.group),r=n.indexOf(this.subGroup);i.splice(s,1),i.push(this.group),n.splice(r,1),n.push(this.subGroup);try{this.panel[e](...t)}finally{i.splice(s,0,i.pop()),n.splice(r,0,n.pop())}}}const o=function(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0};var l,c=i(933),d=i(64150),u=i(49368),h=i(61173),p=i(1055);!function(e){e[e.NONE=0]="NONE",e[e.LOCAL_STORAGE=1]="LOCAL_STORAGE"}(l||(l={}));class m extends c.Y{constructor(){super(...arguments),this.name="settings",this.queuedControls=[],this.queuedButtons=[],this.secretWord=[38,38,40,40,37,39,37,39,66,65,72],this.panelID=-1,this.addPanel=(e,t,i)=>{const n=this.getPanelId(e);return-1===n?this.settingsGUI.addPanel(e,t,i):n},this.getPanelId=e=>this.settingsGUI.getPanelId(e)}async init(e,t){var i;this.engine=t,this.settings=new d.e(e.overrideParams),this.engine.market.register(this,d.e,this.settings),e.useGUI&&(this.settingsGUI=new r(null!==(i=e.queryScope)&&void 0!==i?i:document,(e=>{this.updateSettings(e)})),t.addComponent(this,this.settingsGUI),this.panelID=this.settingsGUI.addPanel("24.11.2_webgl-798-gf42d1db434",this.secretWord)),e.initialSettings&&this.updateSettings(e.initialSettings),e.useGUI&&this.settingsGUI.loadPromise.then((()=>{for(const e of this.queuedControls)this.settingsGUI.addControl(e.panelId,e.group,e.settingName,e.value,e.range,e.rangePrecision,e.options);for(const e of this.queuedButtons)this.settingsGUI.addButton(e.panelId,e.group,e.buttonName,e.callback);this.settingsGUI.toggle(this.panelID)}))}get settingsData(){return this.settings}get loadPromise(){return this.settingsGUI.loadPromise}getSettingsGui(){return this.settingsGUI}getMainPanelId(){return this.panelID}updateSetting(e,t,i=this.panelID){t&&t.clone&&"function"==typeof t.clone?this.settings.setProperty(e,t.clone()):this.settings.setProperty(e,t),this.settingsGUI&&this.settingsGUI.isLoaded&&this.settingsGUI.updateSetting(i,e,t)}updateSettings(e){for(const t in e)this.updateSetting(t,e[t])}registerSetting(e,t,i,n=!0,s=l.NONE,r,a=this.panelID,o=2,c){if(this.settingsGUI&&this.settingsGUI.isRegistered(a,t))return void this.log.warn(`Duplicate setting ${t} registered. Is a module being used twice?`);let d;d=i&&i.clone&&"function"==typeof i.clone?i.clone():i,this.settingsGUI&&n&&(this.settingsGUI.isLoaded?this.settingsGUI.addControl(a,e,t,d,r,o,c):this.queuedControls.push({panelId:a,group:e,settingName:t,value:i,range:r,rangePrecision:o,options:c}));const h=s===l.LOCAL_STORAGE?(0,u.fp)(t,i):i;this.updateSetting(t,h)}registerMenuEntry(e){const{header:t,setting:i,initialValue:n,persist:s,displayInUi:r,range:a,panel:o,onChange:l,rangePrecision:c,options:d,urlParam:u}=e;let m=n();const f=encodeURIComponent(i);if(u){const e=(0,p.eY)(f,null);null!==e&&(m="true"===e||"false"!==e&&function(e){if(""===e)return e;const t=+e;return isNaN(t)?e:t}(e))}if(this.registerSetting(t,i,m,r,s,a,o,c,d),!l&&!u)return null;if(l&&l(m),u){const e=n(),t=t=>{const i=(0,p.kD)();i.has(f)&&t===e?i.delete(f):i.set(f,t),(0,h.Vf)(i.toString(),!0),l&&l(t)};return this.settings.onPropertyChanged(i,t)}return l?this.settings.onPropertyChanged(i,l):null}registerMenuButton(e){const{header:t,buttonName:i,panel:n,callback:s}=e;this.registerButton(t,i,s,n)}registerButton(e,t,i,n=this.panelID){this.settingsGUI&&(this.settingsGUI.isLoaded?this.settingsGUI.addButton(n,e,t,i):this.queuedButtons.push({panelId:n,group:e,buttonName:t,callback:i}))}hasProperty(e){return this.settings.hasProperty(e)}getProperty(e){return this.settings.getProperty(e)}tryGetProperty(e,t){return this.settings.tryGetProperty(e,t)}toggleMenu(){this.settingsGUI&&this.settingsGUI.toggle(0)}disposeGui(){this.settingsGUI.dispose()}}},83069:(e,t,i)=>{"use strict";var n;i.d(t,{E:()=>n}),function(e){e[e.Immediate=0]="Immediate",e[e.NextFrame=1]="NextFrame",e[e.Duration=2]="Duration",e[e.Manual=3]="Manual",e[e.Debounced=4]="Debounced"}(n||(n={}))},68661:(e,t,i)=>{"use strict";i.d(t,{AQ:()=>l,KI:()=>n,Z8:()=>c});var n,s=i(45602),r=i(83069),a=i(69484),o=i(6394);!function(e){e.added="added",e.removed="removed",e.updated="updated"}(n||(n={}));class l{constructor(e,t,i){this.index=e,this.action=t,this.diff=i}}class c{constructor(e,t){if(this.changedHandlers=[],this.awaitingInvoke=!1,this.diffRecord=[],this.targetMonitors={},this.triggerChangeHandlers=this.invokeChangeHandlers.bind(this),this.config=e,this.updatePhaseSync=t,this.config.aggregationType===r.E.NextFrame){if(!t)throw Error("UpdatePhaseSync required for NextFrame aggregation")}else{if(this.config.aggregationType===r.E.Duration)throw Error("Aggregation Type not implemented");this.config.aggregationType===r.E.Debounced&&(this.triggerChangeHandlers=(0,o.D)(this.invokeChangeHandlers.bind(this),e.aggregationDuration))}}hasDiffRecord(){return this.diffRecord.length>0}clearDiffRecord(){this.diffRecord=[];for(const e in this.targetMonitors){const t=this.targetMonitors[e];t.hasDiffRecord()&&t.clearDiffRecord()}this.awaitingInvoke=!1}onChanged(e){this.changedHandlers.push(e)}removeOnChanged(e){(0,s.bX)(this.changedHandlers,e)}invokeCallbacks(e){if(this.changedHandlers.length>0)for(const t of this.changedHandlers)t(e)}invokeChangeHandlers(e){switch(this.config.aggregationType){case r.E.Immediate:case r.E.Debounced:this.invokeCallbacks(e);break;case r.E.NextFrame:this.awaitingInvoke||(this.awaitingInvoke=!0,this.updatePhaseSync.after(a.A.End).then((()=>{this.awaitingInvoke&&(this.invokeCallbacks(e),this.awaitingInvoke=!1)})));break;case r.E.Manual:}}}},4218:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(68661),s=i(27606),r=i(58196);class a extends n.Z8{constructor(e,t,i){super(t,i),this.target=e;for(const n of e.keys){const r=e.get(n),a=new s.u(r,t,i);a.onChanged(this.triggerChangeHandlers),this.targetMonitors[n]=a}const a={onAdded:(e,a)=>{const o=new s.u(e,t,i);o.onChanged(this.triggerChangeHandlers),this.targetMonitors[a]=o;const l=this.diffRecord.findIndex((e=>e.index===a));-1!==l&&this.diffRecord.splice(l,1);const c=new n.AQ(a,n.KI.added,(0,r.p$)(e));-1===l&&this.diffRecord.push(c),this.triggerChangeHandlers(c)},onRemoved:(e,t)=>{delete this.targetMonitors[t];const i=this.diffRecord.findIndex((e=>e.index===t));-1!==i&&this.diffRecord.splice(i,1);const s=new n.AQ(t,n.KI.removed,(0,r.p$)(e));-1===i&&this.diffRecord.push(s),this.triggerChangeHandlers(s)}};this.target.onElementChanged(a)}commitChanges(){this.invokeCallbacks(this.getDiffRecord())}getDiffRecord(){const e=[];for(const t in this.targetMonitors){const i=this.targetMonitors[t];if(i.hasDiffRecord()){const s=i.getDiffRecord(),a=this.diffRecord.findIndex((e=>e.index===t));-1!==a?(0,r.TS)(this.diffRecord[a].diff,s):e.push(new n.AQ(t,n.KI.updated,s))}}return this.diffRecord.concat(e)}}},27606:(e,t,i)=>{"use strict";i.d(t,{u:()=>l});var n=i(83069),s=i(58196),r=i(69484),a=i(45602),o=i(6394);class l{constructor(e,t,i){this.updatePhaseSync=i,this.target=e,this.clearDiffRecord(),this.aggregationType=t.aggregationType,this.aggregationType===n.E.Debounced&&(this.handleAggregation=(0,o.D)(this.handleAggregation.bind(this),t.aggregationDuration||30)),this.target.onChanged((()=>{this.diffRecord=(0,s.br)(this.originalData,(0,s.p$)(this.target),t.shallow),this.handleAggregation()})),this.changedHandlers=[]}hasDiffRecord(){return Object.keys(this.diffRecord).length>0}getDiffRecord(){return this.diffRecord}clearDiffRecord(){this.originalData=(0,s.p$)(this.target),this.diffRecord={}}onChanged(e){this.changedHandlers.push(e)}removeOnChanged(e){(0,a.bX)(this.changedHandlers,e)}commitChanges(){this.triggerChangeHandlers(this.diffRecord)}handleAggregation(){switch(this.aggregationType){case n.E.Immediate:this.triggerChangeHandlers(this.diffRecord);break;case n.E.NextFrame:if(!this.updatePhaseSync)throw new Error("handleAggregation() -> Next frame aggregation requested, but updatePhaseSync is null");this.nextFramePromise||(this.nextFramePromise=this.updatePhaseSync.after(r.A.Begin).then((()=>{this.triggerChangeHandlers(this.diffRecord)})).finally((()=>{this.nextFramePromise=void 0})));break;case n.E.Debounced:this.triggerChangeHandlers(this.diffRecord);break;case n.E.Duration:throw new Error("AggregationType.Duration: Please implement me :)");case n.E.Manual:}}triggerChangeHandlers(e){if(this.changedHandlers.length>0)for(const t of this.changedHandlers)t(e)}}},56574:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var n=i(20348),s=i(82435);class r extends s.y{constructor(e,t){super(),this.computation=e,this.updateValue=()=>{const e=this.computation();e!==this._lastValue&&(this._lastValue=e,this.setDirty(!0))},this._lastValue=this.computation(),this._subscriptions=new n.V(...t.map((e=>e(this.updateValue))))}get value(){return this._lastValue}renew(){this._subscriptions.renew()}cancel(){this._subscriptions.cancel()}notifyObserver(e){e(this._lastValue)}}},82435:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var n=i(59491);class s{constructor(){this.isObservable=!0,this._dirtyObservable=!1,this._activeObservable=!0,this._observerNotifying=!1,this._changeObservers=new Set,this._parentObservables=new Set,this._childObservables=new Set,Object.defineProperties(this,{isObservable:{value:this.isObservable,writable:!1,enumerable:!1},_dirtyObservable:{value:this._dirtyObservable,enumerable:!1},_activeObservable:{value:this._activeObservable,enumerable:!1},_observerNotifying:{value:this._observerNotifying,enumerable:!1},_changeObservers:{value:this._changeObservers,writable:!1,enumerable:!1},_childObservables:{value:this._childObservables,writable:!1,enumerable:!1},_parentObservables:{value:this._parentObservables,writable:!1,enumerable:!1}})}onChanged(e){if(this._changeObservers.has(e))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,n.k1)((()=>this._changeObservers.add(e)),(()=>this.removeOnChanged(e)),!0)}removeOnChanged(e){this._changeObservers.delete(e)}notifyObservers(){if(this._dirtyObservable&&!this._observerNotifying&&this._activeObservable){this._observerNotifying=!0;for(const e of this._changeObservers)this.notifyObserver(e);this._dirtyObservable=!1,this._observerNotifying=!1}}notifyObserver(e){e(void 0)}notifyDown(){for(const e of this._childObservables)e.notifyDown();this.notifyObservers()}notifyUp(){for(const e of this._parentObservables)e.notifyUp();this.notifyObservers()}setDirty(e=!0){this.setDirtyUp(),e&&this.notifyUp()}setDirtyUp(){if(!this._dirtyObservable){this._dirtyObservable=!0;for(const e of this._parentObservables)e.setDirtyUp()}}addChildObservable(e){s.isObservable(e)&&(this._childObservables.add(e),e._parentObservables.add(this))}removeChildObservables(e){s.isObservable(e)&&(this._childObservables.delete(e),e._parentObservables.delete(this))}atomic(e){if(!this._activeObservable)return e();try{this.setActive(!1),e()}finally{this.setActive(!0)}}setActive(e){const t=this._activeObservable;this._activeObservable=e,!t&&e&&this.notifyObservers();for(const t of this._childObservables)t.setActive(e)}deepCopy(){throw Error("deepCopy is only implemented in subclasses of Observable")}static isObservable(e){return e&&e.isObservable}}},53584:(e,t,i)=>{"use strict";i.d(t,{C:()=>a,d:()=>r});var n=i(82435),s=i(58196);class r extends n.y{constructor(){super(),this.isObservableArray=!0,this.elements=[]}push(e){return this.elements.push(e),this.addChildObservable(e),this.setDirty(),this.length}concat(e){const t=this.elements.length;this.elements=this.elements.concat(...e);for(let e=t;e<this.elements.length;e++)this.addChildObservable(this.elements[e]);return this.setDirty(),this.length}replace(e){for(const e of this.elements)this.removeChildObservables(e);return this.elements=[],this.concat(e)}remove(e){if(e<0||e>=this.length)throw new Error(`Index ${e} not in range of ObservableArray`);const[t]=this.elements.splice(e,1);this.removeChildObservables(t),this.setDirty()}update(e,t){const i=this.elements[e];i!==t&&(this.elements[e]=t,this.removeChildObservables(i),this.addChildObservable(t),this.setDirty())}get length(){return this.elements.length}set length(e){if(e<this.elements.length){for(let t=this.elements.length-1;t>=e;t--){const e=this.elements[t];this.removeChildObservables(e)}this.elements.length=e,this.setDirty()}}values(){return[...this.elements]}filter(e){return this.elements.filter(e)}find(e){return this.elements.find(e)}*[Symbol.iterator](){for(const e of this.elements)yield e}map(e,t){return this.elements.map(e,t)}forEach(e,t){this.elements.forEach(e,t)}sort(e){this.elements.sort(e)}get(e){return this.elements[e]}findIndex(e,t){return this.elements.findIndex(e,t)}indexOf(e){return this.elements.indexOf(e)}splice(e,t,...i){let n;if(i.length){n=this.elements.splice(e,t,...i);for(const e of i)this.addChildObservable(e)}else n=this.elements.splice(e,t);for(const e of n)this.removeChildObservables(e);return this.setDirty(),n}insert(e,t){if(e>this.elements.length)throw new Error(`Tried to insert at index ${e} in an array that's only ${this.elements.length} long`);e!==this.elements.length?(this.elements.splice(e,0,t),this.addChildObservable(t),this.setDirty()):this.push(t)}shift(){const e=this.elements.shift();return e&&(this.removeChildObservables(e),this.setDirty()),e}move(e,t){if(t>this.elements.length-1)throw Error("Index to move to is out of bounds");const i=this.elements[e];this.elements.splice(e,1),this.elements.splice(t,0,i),this.setDirty()}includes(e,t){return this.elements.includes(e,t)}some(e,t){return this.elements.some(e,t)}every(e,t){return this.elements.every(e,t)}onElementChanged(e){let t=this.elements.slice();return this.onChanged((()=>{for(const i in t){const n=parseInt(i,10);e.onRemoved&&void 0===this.get(n)&&e.onRemoved(t[n],n)}for(const i in this.elements){const s=parseInt(i,10),r=this.get(s);void 0===t[s]?e.onAdded&&e.onAdded(r,s):(n.y.isObservable(r)&&r._dirtyObservable||r!==t[s])&&(e.onUpdated?e.onUpdated(r,s):e.onRemoved&&null===r&&e.onRemoved(t[s],s))}t=this.elements.slice()}))}deepCopy(){return this.map((e=>(0,s.p$)(e)))}}const a=e=>{const t=new r;return e&&t.concat(e),t}},42896:(e,t,i)=>{"use strict";i.d(t,{q:()=>o,v:()=>a});var n=i(82435),s=i(58196);function r(e){return(0,s.hj)(e)?""+e:e}class a extends n.y{constructor(){super(),this.map={},this._keysSet=new Set,this._keysList=[]}get keys(){return this._keysList.slice()}get values(){return this._keysList.map((e=>this.get(e)))}entries(){const e=[];for(const t in this.map)e.push([t,this.map[t]]);return e}get length(){return this._keysList.length}*[Symbol.iterator](){for(const e of this._keysList)yield this.get(e)}get(e){return this.map[e]}has(e){return void 0!==this.map[e]}set(e,t){e=r(e);this.map[e]!==t&&(this.removeChildObservables(this.map[e]),this.addChildObservable(t),this.map[e]=t,this._keysSet.has(e)||(this._keysList.push(e),this._keysSet.add(e)),this.setDirty())}clear(){if(this.length>0){for(const e in this.map)this.removeChildObservables(this.map[e]);this.map={},this._keysSet.clear(),this._keysList=[],this.setDirty()}}replace(e){this.clear();for(const t in e)this.set(t,e[t])}delete(e){e=r(e),this.removeChildObservables(this.map[e]);const t=this.map.hasOwnProperty(e);return delete this.map[e],t&&(this._keysSet.delete(e),this._keysList.splice(this._keysList.indexOf(e),1),this.setDirty()),t}forEach(e,t){for(const i of this._keysList){const n=this.map[i];e.call(t,n,i,this)}}onElementChanged({onAdded:e,onRemoved:t,onUpdated:i}){return this.onElementsChanged((({added:n,removed:s,updated:r})=>{if(s&&t)for(const[e,i]of s)t(i,e);if(n&&e)for(const[t,i]of n)e(i,t);if(r&&i)for(const[e,t]of r)i(t,e)}))}onElementsChanged(e){let t=Object.assign({},this.map);return this.onChanged((()=>{const i={};for(const e in t)this.has(e)||(i.removed||(i.removed=[])).push([e,t[e]]);for(const e of this._keysList){const s=this.get(e);void 0===t[e]?(i.added||(i.added=[])).push([e,s]):(n.y.isObservable(s)&&s._dirtyObservable||s!==t[e])&&(null!==s?(i.updated||(i.updated=[])).push([e,s]):(i.removed||(i.removed=[])).push([e,t[e]]))}t=Object.assign({},this.map),e(i)}))}deepCopy(){const e={};for(const t of this._keysList)e[t]=(0,s.p$)(this.map[t]);return e}}const o=(e={})=>{const t=new a;return t.replace(e),t}},6373:(e,t,i)=>{"use strict";i.d(t,{K:()=>n,Q:()=>a});var n,s=i(82435),r=i(59491);!function(e){e.LOW="low",e.NORMAL="normal"}(n||(n={}));class a extends s.y{constructor(e){super(),this.priority=n.NORMAL,this.filters=new Map,this.view=[],this._keys=new Map,this._dirty=!1,this.sortNeeded=!1,this._diff={},this.map=e,this.applyFilters(),this.map.onElementsChanged((({added:e,removed:t,updated:i})=>{this._diff={added:e,removed:t,updated:i},this._diff.added&&(this._diff.added=this._diff.added.filter((([e,t])=>this.testFilters(t)))),this._diff.updated&&(this._diff.updated=this._diff.updated.filter((([e,t])=>this.testFilters(t)))),this._diff.removed&&(this._diff.removed=this._diff.removed.filter((([e,t])=>this.testFilters(t)))),this.atomic((()=>{if(t)for(const[e,i]of t)this.onRemoved(e,i);if(e)for(const[t,i]of e)this.onAdded(t,i);if(i)for(const[e,t]of i)this.onUpdated(e,t)}))})),this.map.onChanged((()=>{this.sortNeeded&&(this.applySort(),this.setDirty(),this.sortNeeded=!1)}))}onElementsChanged(e){return this.onChanged((()=>{e(this._diff)}))}onElementChanged({onAdded:e,onRemoved:t,onUpdated:i}){return this.onElementsChanged((({added:n,removed:s,updated:r})=>{if(s&&t)for(const[e,i]of s)t(i,e);if(n&&e)for(const[t,i]of n)e(i,t);if(r&&i)for(const[e,t]of r)i(t,e)}))}has(e){return this._keys.has(e)}get(e){return this.has(e)?this.map.get(e):void 0}setFilter(e,t){return(0,r.k1)((()=>{this.filters.set(e,t),this.applyFilters(void 0,!1,!0)}),(()=>this.clearFilter(e)),!0)}clearFilter(e){return!!this.filters.has(e)&&(this.filters.delete(e),this.applyFilters(void 0,!1,!0),!0)}clearFilters(){this.filters.clear(),this.applyFilters(void 0,!1,!0)}sort(e){this.compareFunc=e,this.applySort(),this.setDirty()}*[Symbol.iterator](){for(const e of this.view)yield e}get length(){return this.view.length}groupBy(e){const t={};for(const i of this.view){const n=String(i[e]);t[n]||(t[n]=[]),t[n].push(i)}return t}get values(){return this.view.slice()}entries(){return[...this._keys.entries()]}forEach(e,t){for(const[i,n]of this._keys)e.call(t,n,i,this)}setDirty(e=!0){this.priority===n.LOW?this._dirty||(this._dirty=!0,requestAnimationFrame((()=>{this._dirty=!1,super.setDirty(e)}))):super.setDirty(e)}add(e){if(this.has(e))return!1;const t=this.map.get(e);return this._keys.set(e,t),this.view.push(t),!0}delete(e){const t=this._keys.get(e);if(!t)return!1;this._keys.delete(e);const i=this.view.indexOf(t);return-1!==i&&this.view.splice(i,1),!0}testFilters(e){return[...this.filters.values()].every((t=>t(e)))}applyFilters(e,t=!1,i=!1){i&&(this._diff={});let n=!1;const s=e?[e]:this.map.keys;for(const e of s){const t=this.map.get(e),s=this.testFilters(t);s&&this.add(e)?(i&&(this._diff.added||(this._diff.added=[]),this._diff.added.push([e,t])),n=!0):!s&&this.delete(e)&&(i&&(this._diff.removed||(this._diff.removed=[]),this._diff.removed.push([e,t])),n=!0)}e&&this.has(e)&&(i&&(this._diff.updated||(this._diff.updated=[]),this._diff.updated.push([e,this.map.get(e)])),n=!0),n&&(t?this.sortNeeded=!0:(this.applySort(),this.setDirty()))}applySort(){this.compareFunc&&this.view.sort(this.compareFunc)}onRemoved(e,t){this.has(e)&&this.testFilters(t)&&this.delete(e)&&this.setDirty()}onAdded(e,t){this.testFilters(t)&&this.applyFilters(e,!0,!1)}onUpdated(e,t){const i=this._keys.get(e),n=this.view.findIndex((e=>e===i));-1!==n&&(this.view[n]=t,this._keys.set(e,t)),this.applyFilters(e,!0,!1)}}},64831:(e,t,i)=>{"use strict";i.d(t,{T:()=>d});var n=i(82435),s=i(58196),r=i(1055),a=i(53257),o=i(59491);const l=new a.Z("ObservableObject"),c=1===(0,r.eY)("debug",0);class d extends n.y{constructor(){super(),this._propertyObservables={},this._valueCache={},this._dirtyKeys=new Set,Object.defineProperties(this,{_propertyObservables:{value:this._propertyObservables,writable:!1,enumerable:!1},_valueCache:{value:this._valueCache,writable:!1,enumerable:!1},_dirtyKeys:{value:this._dirtyKeys,writable:!1,enumerable:!1}}),c&&setTimeout((()=>{!function(e){const t={};for(const i in e)e.hasOwnProperty(i)&&(t[i]=e[i],e._valueCache[i]=e[i],Object.defineProperty(e,i,{get:()=>t[i],set:s=>{const r=e._valueCache[i];(r!==s||n.y.isObservable(r)&&r._dirtyObservable)&&h(e,i),t[i]=s},enumerable:!0}))}(this)}),1)}onPropertyChanged(e,t){if(this._propertyObservables[e]||(this._propertyObservables[e]=[]),-1!==this._propertyObservables[e].indexOf(t))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,o.k1)((()=>this._propertyObservables[e].push(t)),(()=>this.removeOnPropertyChanged(e,t)),!0,e)}removeOnPropertyChanged(e,t){const i=this._propertyObservables[e].indexOf(t);i>=0&&this._propertyObservables[e].splice(i,1)}commit(e=[]){for(const t of e)this._dirtyKeys.add(t);this.setDirtyUp(),this.notifyUp()}setDirtyUp(){for(const e in this){if(!this.hasOwnProperty(e))continue;const t=this._valueCache[e],i=this[e];t!==i?(this.removeChildObservables(t),this.addChildObservable(i),this._valueCache[e]=i,this._dirtyKeys.add(e)):n.y.isObservable(t)&&t._dirtyObservable&&this._dirtyKeys.add(e)}super.setDirtyUp()}notifyObservers(){if(this._dirtyObservable&&!this._observerNotifying&&this._activeObservable){this._observerNotifying=!0;for(const e of this._dirtyKeys){for(const t of this._propertyObservables[e]||[])this.notifyPropertyObserver(t,e);c&&p(this,e)}this._observerNotifying=!1,this._dirtyKeys.clear()}super.notifyObservers()}notifyPropertyObserver(e,t){e(this._valueCache[t])}notifyObserver(e){e(this)}deepCopy(){const e={};for(const t in this)this.hasOwnProperty(t)&&(e[t]=(0,s.p$)(this[t]));return e}}const u=new Map;function h(e,t){u.has(e)||u.set(e,{});u.get(e)[t]=Error()}function p(e,t){if(u.has(e)){const i=u.get(e);i[t]&&delete i[t]}}if(c){const e=setInterval((()=>{(function(){for(const e of u.values())for(const t in e)return l.error(`ObservableObject property "${t}" was still dirty after one tick! Did you forget a .commit()?`),l.error("See stack trace of the property write below:"),l.error(e[t].stack),!0;return!1})()&&void 0!==e&&clearInterval(e)}),16)}},72961:(e,t,i)=>{"use strict";i.d(t,{$:()=>l});var n=i(82435),s=i(85726),r=i(58196);function a(e,t){const i=Object.getOwnPropertyNames(t);for(const n of i)void 0===e[n]&&("function"==typeof t[n]?Object.defineProperty(e,n,{value:t[n].bind(e)}):Object.defineProperty(e,n,{value:t[n],writable:!0}));null!==Object.getPrototypeOf(Object.getPrototypeOf(t))&&a(e,Object.getPrototypeOf(t))}var o=i(64831);const l=e=>{if(!e||0===Object.keys(e).length)throw new Error("createObservableProxy() only works on objects that has predefined keys. Did you mean createObservableMap or createObservableArray?");if(e instanceof o.T)throw new Error("Using ObservableProxy on an ObservableObject is a BUG!");if(e.isObservableProxy)return e;const t={},i=new n.y,l=Object.create(e);Object.defineProperties(l,{isObservableProxy:{value:!0},onPropertyChanged:{value:(e,i)=>t[e].onChanged(i)},removeOnPropertyChanged:{value:(e,i)=>t[e].removeOnChanged(i)},deepCopy:{value:()=>(0,r.p$)(e)}}),a(l,i);for(const i in e)if(e.hasOwnProperty(i)){const n=(0,s.Y)(e[i]);t[i]=n,l.addChildObservable(n),Object.defineProperty(l,i,{get:()=>e[i],set:n=>{e[i]=n,t[i].value=n},enumerable:!0})}return Object.seal(l),l}},85726:(e,t,i)=>{"use strict";i.d(t,{Y:()=>a,f:()=>r});var n=i(82435),s=i(58196);class r extends n.y{constructor(e){super(),this.value=e}notifyObserver(e){e(this.value)}get value(){return this._value}set value(e){this._value!==e&&(this.removeChildObservables(this._value),this.addChildObservable(e),this._value=e,this.setDirty())}deepCopy(){return(0,s.p$)(this._value)}}const a=e=>new r(e)},42714:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});class n{constructor(){this.observers=new Set}observe(e){this.observers.add(e);const t=this;return{renew(){t.observers.add(e)},cancel(){t.removeObserver(e)}}}removeObserver(e){this.observers.delete(e)}notify(){for(const e of this.observers)e.notify()}}},35659:(e,t,i)=>{"use strict";var n;i.d(t,{g:()=>n}),function(e){e.BLURS="blurs",e.BLUR_SUGGESTIONS="blur-suggestions",e.FLOORS="floors",e.HIGHLIGHTS="highlights",e.LABELS="labels",e.MATTERTAGS="mattertags",e.MEASUREMENTS="measurements",e.NOTES="notes",e.OBJECT_ANNOTATIONS="objectAnnotations",e.ORDERED_LISTS="orderedLists",e.PHOTOS="photos",e.PLUGINS="plugins",e.SETTINGS="settings",e.START_LOCATION="startlocation",e.SWEEPS="sweeps",e.LAYERS="layers",e.ROOM_BOUNDS="room_bounds"}(n||(n={}))},20348:(e,t,i)=>{"use strict";i.d(t,{V:()=>n});class n{constructor(...e){this.subs=e}renew(){for(const e of this.subs)e.renew()}cancel(){for(const e of this.subs)e.cancel()}}},59491:(e,t,i)=>{"use strict";i.d(t,{gm:()=>s,k1:()=>a});const n=new(i(53257).Z)("Subscription");class s{constructor(e,t,i){this.watchedData=e,this.registerSubscription=t,this.unregisterSubscription=i}createSubscription(e,t){return new r((()=>this.registerSubscription(e)),(()=>this.unregisterSubscription(e)),t)}getData(){return this.watchedData()}}class r{constructor(e,t,i=!1,n=""){this.startSubscription=e,this.endSubscription=t,this.id=n,this.isSubbed=!1,i&&this.renew()}renew(){this.isSubbed?n.debugWarn(`Duplicate subscription renew ${this.id}`):(this.startSubscription(),this.isSubbed=!0)}cancel(){this.isSubbed&&(this.endSubscription(),this.isSubbed=!1)}get active(){return this.isSubbed}}function a(e,t,i=!0,n=""){return new r(e,t,i,n)}},12047:(e,t,i)=>{"use strict";i.d(t,{r:()=>n});class n{constructor(e,t,i,n){this.target=e,this.type=t,this.listener=i,this.options=n,this.renew()}renew(){this.target.addEventListener(this.type,this.listener,this.options)}cancel(){this.target.removeEventListener(this.type,this.listener)}}},58196:(e,t,i)=>{"use strict";i.d(t,{NK:()=>o,TS:()=>r,br:()=>a,hj:()=>l,p$:()=>s});const n=e=>"propertyObservers"===e||"changeObservers"===e||"isObservable"===e||"childChangeFunctions"===e||"isObservableProxy"===e||"diffRoot"===e||"elementChangedHandlers"===e||"knownKeysMap"===e||"knownKeysList"===e||"isVector2"===e||"isVector3"===e||"isQuaternion"===e||"onPropertyChanged"===e||"removeOnPropertyChanged"===e||"onChanged"===e||"target"===e,s=(e,t=[])=>{if(void 0!==e){if(t.includes(e))return Array.isArray(e)||ArrayBuffer.isView(e)?[]:{};if(e instanceof Date)return new Date(e);if(null===e)return null;if(e.deepCopy)return e.deepCopy();if(e.isQuaternion)return{x:e.x,y:e.y,z:e.z,w:e.w};if(ArrayBuffer.isView(e))for(const t of[Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array])if(e instanceof t)return new t(e);if("object"==typeof e){const i=Array.isArray(e)||ArrayBuffer.isView(e)?[]:{};for(const r in e){if(n(r))continue;const a=e[r];a instanceof Date?i[r]=new Date(a):"function"!=typeof a&&(t.push(e),i[r]="object"==typeof a?s(a,t):a,t.pop())}return i}return e}},r=(e,t)=>{for(const i in t){if("function"==typeof t[i])continue;if(n(i)&&!e.hasOwnProperty(i))continue;const a=t[i];if(e.hasOwnProperty(i)){const t=e[i];(null===t?null:typeof t)!==(null===a?null:typeof a)?e[i]=s(a):"object"==typeof t?t instanceof Date?e[i]=new Date(a):r(t,a):e[i]=a}else e[i]=s(a)}},a=(e,t,i=!1)=>{const n={};for(const s in e){const r=e[s],l=t[s];o(r,l)&&(void 0===r||void 0===l||typeof r!=typeof l||"object"!=typeof r?n[s]=l:Array.isArray(l)?o(r,l)&&(n[s]=l):n[s]=i?l:a(r,l))}for(const i in t)i in e||(n[i]=t[i]);return n},o=(e,t)=>{if(null===e||"object"!=typeof e)return e!==t;if(!t)return!0;for(const i in t)if(!(i in e))return!0;for(const i in e)if(o(e[i],t[i]))return!0;return!1};function l(e){return"number"==typeof e}},50831:(e,t,i)=>{"use strict";i.d(t,{I:()=>s});var n=i(81396);class s{}s.MP_BRAND=new n.Color("rgb(255, 49, 88)"),s.MATTERTAG_BLUE=new n.Color("rgb(3, 104, 125)"),s.WHITE=new n.Color("rgb(255, 255, 255)"),s.BLACK=new n.Color("rgb(0, 0, 0)"),s.RED=new n.Color(16711680),s.GREEN=new n.Color(65280),s.BLUE=new n.Color(255),s.YELLOW=new n.Color(16776960),s.SINE=new n.Color(11908275),s.NEPTUNE=new n.Color("rgb(64, 91, 246)"),s.LENS_GRAY=new n.Color(4473924),s.MIRROR=new n.Color(14342874),s.PORTAL=new n.Color(2236962)},53952:(e,t,i)=>{"use strict";var n;i.d(t,{Z:()=>s}),function(e){e[e.GL_TEXTURE_CUBE_MAP_POSITIVE_X=0]="GL_TEXTURE_CUBE_MAP_POSITIVE_X",e[e.GL_TEXTURE_CUBE_MAP_NEGATIVE_X=1]="GL_TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.GL_TEXTURE_CUBE_MAP_POSITIVE_Y=2]="GL_TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.GL_TEXTURE_CUBE_MAP_NEGATIVE_Y=3]="GL_TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.GL_TEXTURE_CUBE_MAP_POSITIVE_Z=4]="GL_TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.GL_TEXTURE_CUBE_MAP_NEGATIVE_Z=5]="GL_TEXTURE_CUBE_MAP_NEGATIVE_Z"}(n||(n={}));const s=n},72803:(e,t,i)=>{"use strict";var n;i.d(t,{z:()=>n}),function(e){e[e.boundingSkybox=-100]="boundingSkybox",e[e.default=0]="default",e[e.panoMarker=4]="panoMarker",e[e.reticule=5]="reticule",e[e.grid=5]="grid",e[e.meshTrims=5]="meshTrims",e[e.pins360=6]="pins360",e[e.roomBounds=7]="roomBounds",e[e.portals=9]="portals",e[e.rotators=10]="rotators",e[e.pins=14]="pins",e[e.pinSelectedHalo=15]="pinSelectedHalo",e[e.lines=20]="lines",e[e.endpoints=21]="endpoints",e[e.labels=22]="labels",e[e.gizmos=23]="gizmos",e[e.ghostFloorDepthPrepass=50]="ghostFloorDepthPrepass",e[e.ghostFloor=51]="ghostFloor",e[e.transformGizmo=999]="transformGizmo",e[e.colorOverlay=1e3]="colorOverlay"}(n||(n={}))},89555:(e,t,i)=>{"use strict";var n;i.d(t,{C:()=>n}),function(e){e.TEXT="text",e.LINK="link",e.HASH="hash",e.USER="user"}(n||(n={}))},3835:(e,t,i)=>{"use strict";i.d(t,{Hk:()=>a,eD:()=>n,fU:()=>r});var n,s=i(81396);class r{}r.UP=new s.Vector3(0,1,0),r.DOWN=new s.Vector3(0,-1,0),r.LEFT=new s.Vector3(-1,0,0),r.RIGHT=new s.Vector3(1,0,0),r.FORWARD=new s.Vector3(0,0,-1),r.BACK=new s.Vector3(0,0,1),r.ZERO=new s.Vector3(0,0,0),r.UNIT=new s.Vector3(1,1,1),r.HORIZONTAL_PLANE=new s.Vector3(1,0,1),function(e){e.NONE="NONE",e.UP="UP",e.DOWN="DOWN",e.LEFT="LEFT",e.RIGHT="RIGHT",e.FORWARD="FORWARD",e.BACK="BACK",e.ZERO="ZERO",e.UNIT="UNIT",e.HORIZONTAL_PLANE="HORIZONTAL_PLANE"}(n||(n={}));class a{}a.DOWNWARD=new s.Quaternion(-Math.SQRT1_2,0,0,Math.SQRT1_2)},73943:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var n=i(26616);class s extends Error{constructor(e,t){super(e instanceof Error?e.message:e),this.name="BaseException",t&&(this.code=t),e instanceof Error&&(this.originalError=e,(0,n.Ad)(e)&&(this.isMock=!0))}}},98231:(e,t,i)=>{"use strict";i.d(t,{n:()=>s});var n=i(73943);class s extends n.y{constructor(e="Not implemented"){super(e),this.name="NotImplemented"}}},1147:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(73943);class s extends n.y{constructor(e="Out of range"){super(e),this.name="OutOfRangeException"}}},32332:(e,t,i)=>{"use strict";i.d(t,{f:()=>s});var n=i(73943);class s extends n.y{constructor(e="Unhandled Transition Exception"){super(e),this.name="TransitionException"}}},26616:(e,t,i)=>{"use strict";function n(e){return!!(e&&e instanceof Error&&e.code)}function s(e){return!!(e&&e instanceof Error&&e.originalError)}function r(e){return!!(e&&e instanceof Error&&e.isMock)}function a(e){return n(e)?e.code:""}function o(e){const t=[];let i=e;for(;i;)n(i)&&t.push(i.code),i=s(i)?i.originalError:void 0;return t}i.d(t,{Ad:()=>r,UX:()=>o,bh:()=>n,zg:()=>a})},93797:(e,t,i)=>{"use strict";i.d(t,{u:()=>l});var n=i(98231),s=i(3952),r=i(79978),a=i(1055),o=i(59491);class l{constructor(e){this.viewId=null,this.newDataCallbacks=new Set,this.refreshPromiseMap=new Map;const{baseUrl:t,viewId:i,server:n}=e;this.config=e,this.context=e.context,this.client=new s.w({baseUrl:t,server:n,apqEnabled:e.context.apqEnabled,caches:e.context.sharedCaches}),i&&(this.viewId=i)}dispose(){this.context.refreshableStores.delete(this)}async create(...e){throw new n.n}async read(e={}){throw new n.n}async update(...e){throw new n.n}async delete(...e){throw new n.n}onNewData(e){this.context.refreshableStores.add(this);return(0,o.k1)((()=>this.newDataCallbacks.add(e)),(()=>this.newDataCallbacks.delete(e)))}async refresh(e){const t=(null==e?void 0:e.modelId)||"default";let i=this.refreshPromiseMap.get(t);return i||(i=this.read(e).then((e=>this.newDataCallbacks.size>0?Promise.all(Array.from(this.newDataCallbacks.values()).map((t=>(t(e),e)))):[e])).then((([e])=>e)).finally((()=>{this.refreshPromiseMap.set(t,null)})),this.refreshPromiseMap.set(t,i)),i}async query(e,t,i={}){if(!this.getViewId())throw new r.SN("No model view specified for query");const n=Object.assign({fetchPolicy:"cache-first",prefetchKey:this.prefetchKey},i);return this.client.query(e,t,n)}async mutate(e,t,i){const{readonly:n}=this.config;if(n)throw new r.pp("Cannot mutate in read-only mode");if(!this.getViewId())throw new r.SN("Cannot mutate, no view was specified");return this.client.mutate(e,t,i).then((e=>{const t="53100"===(0,a.eY)("error","");if(!s.w.isOk(e)||t){const i=new r.w0(s.w.getErrorMessage(e));throw t&&(i.isMock=!0),i}return e}))}setStoreViewId(e){this.viewId=e}getViewId(){const e=this.viewId||this.context.currentViewId||this.context.baseViewId;if(!e)throw new Error("Invalid view id!");return e}getBaseViewId(){const e=this.context.baseViewId;if(!e)throw new Error("MdsStore baseViewId invalid!");return e}readLayerId(){return!!this.context.readLayerId}writeLayerId(e){return this.context.shouldWriteLayerId(e)}}},3952:(e,t,i)=>{"use strict";i.d(t,{w:()=>_,z:()=>O});var n=i(71439),s=i(23564),r=i(81707),a=i(80496);var o,l=i(90253),c=i(53257),d=i(39011),u=i(79978),h=i(10637),p=i(85661),m=i(10690);o||(o={});var f={disable:function(e){var t=e.graphQLErrors,i=e.operation;if(t&&t.some((function(e){return"PersistedQueryNotSupported"===e.message})))return!0;var n=i.getContext().response;return!(!n||!n.status||400!==n.status&&500!==n.status)},useGETForHashedQueries:!1};var g=Object.prototype.hasOwnProperty,v=new WeakMap,y=0,E=function(e){(0,m.kG)(e&&("function"==typeof e.sha256||"function"==typeof e.generateHash),24);var t=(0,a.oA)(f,e),i=t.sha256,n=t.generateHash,o=void 0===n?function(e){return Promise.resolve(i((0,d.S)(e)))}:n,l=t.disable,c=t.useGETForHashedQueries,u=!0,h="forLink"+y++,p=function(e){return new Promise((function(t){return t(o(e))}))};return new r.ApolloLink((function(e,t){(0,m.kG)(t,25);var i=e.query;return new a.y$((function(n){var r,a,o=!1,d=!1,m=function(i,n){var s=i.response,c=i.networkError;if(!o&&(s&&s.errors||c)){o=!0;var h={response:s,networkError:c,operation:e,graphQLErrors:s?s.errors:void 0};if(u=!l(h),s&&s.errors&&s.errors.some((function(e){return"PersistedQueryNotFound"===e.message}))||!u)return r&&r.unsubscribe(),e.setContext({http:{includeQuery:!0,includeExtensions:u}}),d&&e.setContext({fetchOptions:a}),void(r=t(e).subscribe(f))}n()},f={next:function(e){m({response:e},(function(){return n.next(e)}))},error:function(e){m({networkError:e},(function(){return n.error(e)}))},complete:n.complete.bind(n)};return e.setContext({http:{includeQuery:!u,includeExtensions:u}}),c&&u&&!function(e){return e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))}(e)&&(e.setContext((function(e){var t=e.fetchOptions,i=void 0===t?{}:t;return a=i,{fetchOptions:(0,s.pi)((0,s.pi)({},i),{method:"GET"})}})),d=!0),u?function(e){if(!e||"object"!=typeof e)return p(e);var t=v.get(e);return t||v.set(e,t=Object.create(null)),g.call(t,h)?t[h]:t[h]=p(e)}(i).then((function(i){e.extensions.persistedQuery={version:1,sha256Hash:i},r=t(e).subscribe(f)})).catch(n.error.bind(n)):r=t(e).subscribe(f),function(){r&&r.unsubscribe()}}))}))},b=i(69266);const S=new c.Z("model-api-client");const O=(e={})=>()=>new _(e);let T=!1;class _{constructor(e={}){var t,i;const o=e.baseUrl||window.location.origin,l=e.server||h.fH;this.graphUrl=e.url||`${o}${l}`,this.caches=e.caches,S.debug(`Initialized Model API client for ${this.graphUrl}`);let c=(d=(e,{headers:t={}})=>((0,p.m)(this.graphUrl,t),{headers:t}),new r.ApolloLink((function(e,t){var i=(0,s._T)(e,[]);return new a.y$((function(n){var s;return Promise.resolve(i).then((function(t){return d(t,e.getContext())})).then(e.setContext).then((function(){s=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),function(){s&&s.unsubscribe()}}))})));var d;if(e.apqEnabled)if(null===(i=null===(t=window.crypto)||void 0===t?void 0:t.subtle)||void 0===i?void 0:i.digest){const e=E({useGETForHashedQueries:!0,sha256:b.JQ});c=c.concat(new n.ApolloLink(((t,i)=>t.query.definitions.some((e=>"OperationDefinition"===e.kind&&"mutation"===e.operation))?i(t):e.request(t,i))))}else T||(S.warn("Crypto API not available in non-secure context; disabling APQ graphql optimization"),T=!0);c=c.concat((0,n.createHttpLink)({uri:this.graphUrl,fetch:(e,t)=>{if("POST"===t.method){const{operationName:i}=JSON.parse(t.body);return fetch(`${e}?operation=${i}`,t)}return fetch(e,t)}})),this.apollo=new n.ApolloClient({link:c,cache:new n.InMemoryCache})}async query(e,t,i={}){var n,s,r;if("no-cache"!==i.fetchPolicy&&this.caches)for(const n of this.caches){const s=await n.read(e,t,i);if(void 0!==s)return S.debug(`Using cached response for ${i.prefetchKey}`),s}const a=Object.assign(Object.assign({errorPolicy:"all"},i),{query:e,variables:t,fetchPolicy:"no-cache"});if(i.anonymous){(null!==(s=(r=null!==(n=a.context)&&void 0!==n?n:a.context={}).headers)&&void 0!==s?s:r.headers={})["x-apiauthmode"]="PUBLIC"}return this.apollo.query(a).then((e=>{const{data:t,errors:i}=e;return{data:t,errors:i}})).catch((e=>{throw S.error(e),new u.Zb(e,this.getApolloErrorCode(e))}))}async mutate(e,t,i={}){const n=Object.assign(Object.assign({errorPolicy:"all"},i),{mutation:e,variables:t});return this.apollo.mutate(n).then((e=>{const{data:t,errors:i}=e;return{data:t,errors:i}})).catch((e=>{throw S.error(e),new u.w0(e,this.getApolloErrorCode(e))}))}async upload(e,t,i,n,s){const r={};let a=0;(0,l.y)(i,((e,t,i)=>{if(e&&((n=e).filename&&n.blob&&n.blob instanceof Blob)){const n="file"+a++;r[n]=e,i[t]=`multipart:${n}`}var n}));const o=new FormData;for(const[e,t]of Object.entries(r))o.append(e,t.blob,t.filename);o.append("query",(0,d.S)(e)),o.append("operation",t),o.append("variables",JSON.stringify(i));const c=(0,p.m)(this.graphUrl,{});return this.uploadFormData(o,c,n,s).then((e=>{if(!_.isOk(e)){const t=_.getErrorCode(e)||"54200";throw new u.BR(_.getErrorMessage(e),t)}return e}))}getApolloErrorCode(e){var t;if(e instanceof n.ApolloError){const i=null===(t=e.networkError)||void 0===t?void 0:t.statusCode;if(i)return`61${i}`}return"61000"}async uploadFormData(e,t,i,n=new XMLHttpRequest){const s=`${this.graphUrl}${e.has("operation")?`?operation=${e.get("operation")}`:""}`;n.open("POST",s,!0),n.responseType="json",n.setRequestHeader("Accept","application/json"),i&&(n.upload.onprogress=i);for(const e in t)n.setRequestHeader(e,t[e]);return new Promise(((t,i)=>{n.onreadystatechange=()=>{4===n.readyState&&(200===n.status?t(n.response):0!==n.status&&i(new u.BR(`${n.status} ${n.statusText}`,`54${n.status}`)))},n.onerror=()=>{i(new u.BR("Network error","54002"))},n.onabort=()=>{S.info("upload canceled!")},n.send(e)}))}static isOk(e,t){if(t){const i=t.split(".");return 0===(e.errors||[]).filter((e=>{if(!e.path)return!0;for(let t=0;t<Math.min(e.path.length,i.length);t++)if(e.path[t]!==i[t])return!1;return!0})).length}return!(null==e?void 0:e.errors)||0===e.errors.length}static getErrorCode({errors:e}){var t;return(null==e?void 0:e.length)&&(null===(t=e[0].extensions)||void 0===t?void 0:t.code)||""}static getErrorMessage({errors:e}){let t="";return Array.isArray(e)&&e[0]&&(t=e[0].message||e[0].toString(),e.length>1&&(t+=` (+${e.length-1})`)),t}}_.version="2020.05.28"},83728:(e,t,i)=>{"use strict";var n;i.d(t,{h:()=>n}),function(e){e.CACHE="cache",e.PRELOAD="preload",e.NONE="none"}(n||(n={}))},79978:(e,t,i)=>{"use strict";i.d(t,{BR:()=>a,SN:()=>o,Zb:()=>s,pp:()=>l,w0:()=>r});var n=i(73943);class s extends n.y{constructor(e,t="62001"){super(e),this.name="MdsReadError",this.code=t}}class r extends n.y{constructor(e,t="63001"){super(e),this.name="MdsWriteError",this.code=t}}class a extends n.y{constructor(e,t="63002"){super(e),this.name="MdsUploadError",this.code=t}}class o extends n.y{constructor(e,t="52404"){super(e),this.name="InvalidView",this.code=t}}class l extends n.y{constructor(e,t="53001"){super(e),this.name="ReadOnly",this.code=t}}},80383:(e,t,i)=>{"use strict";var n,s,r,a,o,l,c,d,u,h,p,m,f,g,v,y,E,b,S,O,T,_,N,w,A,I,k,P,L,D,R,M,C,x,F,U,H,j,V,B,G,W,z,K,Y,q,$,Z,Q,X,J,ee,te,ie,ne,se,re,ae,oe,le,ce,de,ue,he,pe,me,fe,ge,ve,ye,Ee,be,Se,Oe,Te,_e,Ne,we,Ae,Ie,ke,Pe,Le,De,Re,Me,Ce,xe,Fe,Ue,He,je,Ve,Be,Ge,We,ze,Ke,Ye,qe,$e,Ze,Qe,Xe,Je;i.d(t,{Au:()=>we,BE:()=>Ie,EG:()=>Ne,EV:()=>g,J1:()=>He,L0:()=>Y,LU:()=>ge,Mk:()=>Se,PR:()=>R,Pb:()=>P,SF:()=>z,TS:()=>De,XR:()=>$,Y6:()=>Ee,Z1:()=>G,bW:()=>be,d7:()=>Le,eR:()=>q,gb:()=>pe,l5:()=>m,nL:()=>$e,rq:()=>te,ud:()=>Te,wO:()=>Qe,x6:()=>Q,y8:()=>Ye}),function(e){e.NAME="NAME",e.ROLE="ROLE",e.TYPE="TYPE",e.USER_EMAIL="USER_EMAIL",e.USER_GROUP_NAME="USER_GROUP_NAME"}(n||(n={})),function(e){e.EMPTY="empty",e.PARSED="parsed",e.RAW="raw",e.VERIFIED="verified"}(s||(s={})),function(e){e.FULL="full",e.NONE="none",e.PARTIAL="partial"}(r||(r={})),function(e){e.FOREVER="FOREVER",e.LAST_7_DAYS="LAST_7_DAYS",e.LAST_30_DAYS="LAST_30_DAYS"}(a||(a={})),function(e){e.ESTIMATE="estimate",e.EXACT="exact",e.TRUNCATED="truncated"}(o||(o={})),function(e){e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.OPENED="OPENED",e.PENDING="PENDING"}(l||(l={})),function(e){e.IMPRESSION="impression",e.MODELLOADED="modelLoaded"}(c||(c={})),function(e){e.LAST7DAYS="last7Days",e.LAST30DAYS="last30Days",e.LIFETIME="lifetime"}(d||(d={})),function(e){e.CREATED="created",e.IMPRESSIONS="impressions",e.NAME="name",e.UNIQUE_VISITORS="unique_visitors",e.VIEWS="views"}(u||(u={})),function(e){e.CAPTURE="capture",e.WORKSHOP="workshop"}(h||(h={})),function(e){e.LZMA="lzma",e.NONE="none"}(p||(p={})),function(e){e.AVAILABLE="available",e.LOCKED="locked",e.UNAVAILABLE="unavailable"}(m||(m={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload"}(f||(f={})),function(e){e.IMAGE="image",e.PDF="pdf",e.RICH="rich",e.VIDEO="video",e.ZIP="zip"}(g||(g={})),function(e){e.PROVISIONED="provisioned",e.UPLOADED="uploaded"}(v||(v={})),function(e){e.LOCKED="locked",e.UNAVAILABLE="unavailable",e.UNLOCKED="unlocked"}(y||(y={})),function(e){e.V1="v1",e.V2="v2"}(E||(E={})),function(e){e.COMPLETED="completed",e.FAILED="failed",e.INPROGRESS="inprogress",e.ORDERED="ordered",e.PLACED="placed",e.PREVIEWABLE="previewable"}(b||(b={})),function(e){e.UNAVAILABLE="unavailable",e.UNKNOWN="unknown",e.UNLOCKED="unlocked",e.UNLOCKING="unlocking"}(S||(S={})),function(e){e.DOLLHOUSE="dollhouse",e.FLOORPLAN="floorplan",e.OUTDOOR="outdoor",e.PANORAMA="panorama",e.TRANSITION="transition",e.UNKNOWN="unknown"}(O||(O={})),function(e){e.WALL="wall",e.WINDOW="window"}(T||(T={})),function(e){e.HANDHELD="handheld",e.OTHER="other",e.PRO="pro",e.SPHERICAL="spherical"}(_||(_={})),function(e){e.DUPLICATE="duplicate",e.FAIL="fail",e.REPLACE="replace",e.SKIP="skip"}(N||(N={})),function(e){e.CREATED="created",e.MODIFIED="modified"}(w||(w={})),function(e){e.FAST="fast",e.NORMAL="normal",e.URGENT="urgent"}(A||(A={})),function(e){e.ASPIRATIONAL="aspirational",e.CONVERSATIONAL="conversational",e.INFORMATIVE="informative"}(I||(I={})),function(e){e.KILOMETERS="kilometers",e.MILES="miles"}(k||(k={})),function(e){e.INVISIBLE="invisible",e.WALL="wall"}(P||(P={})),function(e){e.CSV="CSV"}(L||(L={})),function(e){e.MATTERTAGS="Mattertags",e.NOTECOMMENTS="NoteComments",e.NOTES="Notes"}(D||(D={})),function(e){e.BLOCKED="blocked",e.DISABLED="disabled",e.GATED="gated",e.UNLOCKED="unlocked"}(R||(R={})),function(e){e.MAY="may",e.MUST="must",e.MUST_NOT="must_not"}(M||(M={})),function(e){e.ALPHA="alpha",e.COLORED_ROOMS="colored_rooms",e.MEASUREMENTS="measurements",e.PHOTOGRAMY="photogramy",e.SCHEMATIC="schematic"}(C||(C={})),function(e){e.ADMIN="Admin",e.FOLDERCREATOR="FolderCreator",e.FOLDERSHARES="FolderShares",e.USERGROUPFOLDERSHARES="UserGroupFolderShares"}(x||(x={})),function(e){e.ADDRESS="address",e.INTERNALID="internalId",e.MLSID="mlsId",e.MLSNAME="mlsName",e.STANDARD="standard"}(F||(F={})),function(e){e.USEREMAIL="UserEmail",e.USERGROUPID="UserGroupId",e.USERID="UserId"}(U||(U={})),function(e){e.ALL="all",e.ID="id",e.NAME="name"}(H||(H={})),function(e){e.CREATED="created",e.MODIFIED="modified",e.NAME="name"}(j||(j={})),function(e){e.CLIENT="client",e.GSV="gsv",e.PROCESSING="processing",e.UNKNOWN="unknown"}(V||(V={})),function(e){e.COMPLETE="COMPLETE",e.ERROR="ERROR",e.PENDING="PENDING"}(B||(B={})),function(e){e.REEL="reel",e.STORY="story"}(G||(G={})),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.CREATED="created",e.FAILED="failed",e.INPROGRESS="inprogress"}(W||(W={})),function(e){e.ANCHORLOCATION="AnchorLocation",e.HIGHLIGHTREEL="HighlightReel",e.LABEL="Label",e.MATTERTAG="Mattertag",e.MEASUREMENTPATH="MeasurementPath",e.MODELFLOOR="ModelFloor",e.MODELROOM="ModelRoom",e.NOTE="Note",e.OBJECTANNOTATION="ObjectAnnotation",e.ORDEREDLIST="OrderedList",e.PANORAMICIMAGELOCATION="PanoramicImageLocation",e.PHOTO="Photo"}(z||(z={})),function(e){e.SHOWCASE="showcase"}(K||(K={})),function(e){e.PHOTO="photo",e.RICH="rich",e.VIDEO="video"}(Y||(Y={})),function(e){e.LINETYPE_2D="linetype_2D",e.LINETYPE_3D="linetype_3D"}(q||(q={})),function(e){e.DISABLED="disabled",e.MEASURE="measure",e.MEASUREANDVIEW="measureAndView"}($||($={})),function(e){e.FLOORS="floors",e.HIGHLIGHTREEL="highlightReel",e.IMAGE="image",e.LABELS="labels",e.MATTERTAGS="mattertags",e.MEASUREMENTPATHS="measurementPaths",e.ORDEREDLISTS="orderedLists",e.PLAYEROPTIONS="playerOptions",e.SWEEPS="sweeps"}(Z||(Z={})),function(e){e.FULL="full",e.PUBLIC="public",e.VIEWER="viewer"}(Q||(Q={})),function(e){e.ADMIN="Admin",e.MODELCREATOR="ModelCreator",e.MODELSHARES="ModelShares",e.USERGROUPMODELSHARES="UserGroupModelShares"}(X||(X={})),function(e){e.PASSWORD="password",e.PRIVATE="private",e.PUBLIC="public",e.UNLISTED="unlisted"}(J||(J={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived",e.FLAGGED="flagged",e.PENDING="pending"}(ee||(ee={})),function(e){e.BLACK="black",e.GREY="grey",e.WHITE="white"}(te||(te={})),function(e){e.DEFAULT="default",e.MLS="mls",e.UNBRANDED="unbranded"}(ie||(ie={})),function(e){e.DESCRIPTION="description",e.SUMMARY="summary"}(ne||(ne={})),function(e){e.ACTIVATION_STATE_CHANGED="activation_state_changed",e.BUNDLE_COMPLETED="bundle_completed",e.BUNDLE_REQUESTED="bundle_requested",e.BUNDLE_UPDATED="bundle_updated",e.CREATED="created",e.DELETED="deleted",e.DETAILS_CHANGED="details_changed",e.INSERTED="inserted",e.PROCESSED="processed",e.REPLACED="replaced",e.RESTORED="restored",e.TRANSFERRED_IN="transferred_in",e.TRANSFERRED_OUT="transferred_out",e.UPDATED="updated",e.UPLOADED="uploaded",e.VISIBILITY_CHANGED="visibility_changed"}(se||(se={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived"}(re||(re={})),function(e){e.ID="id",e.INTERNALID="internalId",e.MLSID="mlsId"}(ae||(ae={})),function(e){e.DEFAULT="default",e.VR="vr"}(oe||(oe={})),function(e){e.COMPLETED="completed",e.FAILED="failed",e.PROCESSING="processing",e.STAGING="staging"}(le||(le={})),function(e){e.USEREMAIL="UserEmail",e.USERGROUPID="UserGroupId",e.USERID="UserId"}(ce||(ce={})),function(e){e.ACCESSVISIBILITY="accessVisibility",e.ADDRESS="address",e.CAMERA="camera",e.CAMERAMANUFACTURER="cameraManufacturer",e.CAMERAMODEL="cameraModel",e.DESCRIPTION="description",e.EXTENSIONTAG="extensiontag",e.GEODISTANCE="geoDistance",e.GEOREGION="geoRegion",e.ID="id",e.INTERNALID="internalId",e.MLSID="mlsId",e.MLSNAME="mlsName",e.NAME="name",e.STANDARD="standard",e.SUMMARY="summary",e.VISIONVERSION="visionVersion"}(de||(de={})),function(e){e.CREATED="created",e.INTERNALID="internalId",e.LAST7IMPRESSIONSEVENTCOUNT="last7ImpressionsEventCount",e.LAST7MODELSLOADEDEVENTCOUNT="last7ModelsLoadedEventCount",e.LAST7MODELSLOADEDUSERCOUNT="last7ModelsLoadedUserCount",e.LAST30IMPRESSIONSEVENTCOUNT="last30ImpressionsEventCount",e.LAST30MODELSLOADEDEVENTCOUNT="last30ModelsLoadedEventCount",e.LAST30MODELSLOADEDUSERCOUNT="last30ModelsLoadedUserCount",e.LIFETIMEIMPRESSIONSEVENTCOUNT="lifetimeImpressionsEventCount",e.LIFETIMEMODELSLOADEDEVENTCOUNT="lifetimeModelsLoadedEventCount",e.LIFETIMEMODELSLOADEDUSERCOUNT="lifetimeModelsLoadedUserCount",e.MLSID="mlsId",e.MODIFIED="modified",e.NAME="name",e.POSTALCODE="postalCode",e.SCORE="score"}(ue||(ue={})),function(e){e.COPY="copy",e.DEMO="demo",e.PROCESSING="processing",e.TRANSFER="transfer",e.UNKNOWN="unknown"}(he||(he={})),function(e){e.ACTIVATING="activating",e.ACTIVATION_PENDING="activation_pending",e.ACTIVE="active",e.FAILED="failed",e.INACTIVATING="inactivating",e.INACTIVATION_PENDING="inactivation_pending",e.INACTIVE="inactive",e.PENDING="pending",e.PROCESSING="processing",e.STAGING="staging"}(pe||(pe={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(me||(me={})),function(e){e.COPY="copy",e.DEMO="demo",e.ORIGINAL="original"}(fe||(fe={})),function(e){e.PRIVATE="private",e.PUBLIC="public"}(ge||(ge={})),function(e){e.SERIAL="serial"}(ve||(ve={})),function(e){e.DOORWAY="doorway",e.OPENING="opening"}(ye||(ye={})),function(e){e.AUTO="auto",e.LEFT="left",e.RIGHT="right"}(Ee||(Ee={})),function(e){e.AUTO="auto",e.MANUAL="manual",e.UNPLACED="unplaced"}(be||(be={})),function(e){e.UPLOAD="upload",e.VISION="vision"}(Se||(Se={})),function(e){e.CYLINDRICAL="cylindrical",e.EQUIRECTANGULAR="equirectangular",e.SKYBOX="skybox"}(Oe||(Oe={})),function(e){e.COMMENT="comment",e.MATTERTAG="mattertag"}(Te||(Te={})),function(e){e.DISCOVER="discover",e.FOLDER="folder",e.GRANT="grant",e.MODEL="model",e.ORGANIZATION="organization",e.USAGE="usage",e.USER="user"}(_e||(_e={})),function(e){e.SNAPSHOT="snapshot",e.TOUR="tour"}(Ne||(Ne={})),function(e){e.USER="user",e.VISION="vision"}(we||(we={})),function(e){e.ICON="icon",e.ORIGINAL="original",e.PRESENTATION="presentation",e.PREVIEW="preview",e.THUMBNAIL="thumbnail",e.WEB="web"}(Ae||(Ae={})),function(e){e.EQUIRECTANGULAR="equirectangular",e.PHOTO2D="photo2D"}(Ie||(Ie={})),function(e){e.AVAILABILITY="availability",e.FLAG="flag",e.QUOTA="quota",e.VALUE="value"}(ke||(ke={})),function(e){e.COMPLETE="complete",e.FAILED="failed",e.INPROGRESS="inprogress",e.STAGING="staging"}(Pe||(Pe={})),function(e){e.OPEN="open",e.RESOLVED="resolved"}(Le||(Le={})),function(e){e.BOUNDARYEDGE="boundaryEdge",e.BOUNDARYVERTEX="boundaryVertex",e.ROOM="room"}(De||(De={})),function(e){e.ALIGNED="aligned",e.FAILED="failed",e.UNALIGNED="unaligned"}(Re||(Re={})),function(e){e.ANCHOR="anchor",e.ID="id",e.LOCATION="location"}(Me||(Me={})),function(e){e.MESH="mesh",e.PANO="pano",e.UNKNOWN="unknown"}(Ce||(Ce={})),function(e){e.FACE_BLURRING="face_blurring",e.FIDUCIAL_DETECTION="fiducial_detection",e.FIDUCIAL_REMOVAL="fiducial_removal"}(xe||(xe={})),function(e){e.ADDRESS="ADDRESS",e.ALL="ALL",e.CREATED_BY="CREATED_BY",e.INTERNAL_ID="INTERNAL_ID",e.MLS_ID="MLS_ID",e.MLS_NAME="MLS_NAME"}(Fe||(Fe={})),function(e){e.DEMO="demo",e.DISCOVERABLE="discoverable",e.FLAGGED="flagged",e.INACTIVE="inactive"}(Ue||(Ue={})),function(e){e.DEFAULT="default",e.DISABLED="disabled",e.ENABLED="enabled"}(He||(He={})),function(e){e.FOLDER="Folder",e.MODEL="Model",e.ORGANIZATION="Organization"}(je||(je={})),function(e){e.USER="USER",e.USER_GROUP="USER_GROUP"}(Ve||(Ve={})),function(e){e.ASC="asc",e.DESC="desc"}(Be||(Be={})),function(e){e.ACCEPTED="accepted",e.DISMISSED="dismissed",e.REJECTED="rejected",e.UNREVIEWED="unreviewed"}(Ge||(Ge={})),function(e){e.HIGH="high",e.LOW="low"}(We||(We={})),function(e){e.AFTERNOON="afternoon",e.DAWN="dawn",e.DUSK="dusk",e.MORNING="morning",e.NIGHT="night"}(ze||(ze={})),function(e){e.ACCEPTED="accepted",e.CANCELLED="cancelled",e.INVALID="invalid",e.PENDING="pending",e.REJECTED="rejected"}(Ke||(Ke={})),function(e){e.FADE_TO_BLACK="fade_to_black",e.INSTANT="instant",e.INTERPOLATE="interpolate"}(Ye||(Ye={})),function(e){e.CAMERAUNSUPPORTED="cameraUnsupported",e.ENABLEMENTEXPIRED="enablementExpired",e.FEATUREBLOCKED="featureBlocked",e.ORGSETTINGSDISABLED="orgSettingsDisabled",e.PERMISSIONMISSINGUNLOCK="permissionMissingUnlock",e.PERMISSIONMISSINGVIEW="permissionMissingView",e.QUOTAEXCEEDED="quotaExceeded"}(qe||(qe={})),function(e){e.IMPERIAL="imperial",e.METRIC="metric"}($e||($e={})),function(e){e.CREATED="created",e.EMAIL="email",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.MODIFIED="modified"}(Ze||(Ze={})),function(e){e.DOLLHOUSE="dollhouse",e.FLOORPLAN="floorplan",e.MESH="mesh",e.PANORAMA="panorama"}(Qe||(Qe={})),function(e){e.BASIC="basic",e.NONE="none",e.TOKEN="token"}(Xe||(Xe={})),function(e){e.CANCELED="Canceled",e.COMPLETED="Completed",e.CONTINUEDASNEW="ContinuedAsNew",e.FAILED="Failed",e.RUNNING="Running",e.TERMINATED="Terminated",e.TIMEDOUT="TimedOut",e.UNRECOGNIZED="Unrecognized",e.UNSPECIFIED="Unspecified"}(Je||(Je={}))},10637:(e,t,i)=>{"use strict";i.d(t,{SJ:()=>r,fH:()=>n,gi:()=>a,wO:()=>s});const n="/api/mp/models/graph",s="/api/mp/attachments/graph",r="data.model.views",a="aaaaaaaaaaaaaaaaaaaaaaaaa"},33382:(e,t,i)=>{"use strict";function n(e){return null!=e}i.d(t,{r:()=>n})},4763:(e,t,i)=>{"use strict";i.d(t,{$n:()=>ae,$q:()=>ce,A7:()=>ie,Aj:()=>je,An:()=>_e,Ay:()=>oe,B9:()=>k,Bq:()=>he,C3:()=>Le,Cm:()=>f,EK:()=>Pe,EX:()=>H,Go:()=>W,HC:()=>D,Hd:()=>ue,Hw:()=>fe,Kf:()=>A,LG:()=>xe,Lk:()=>E,Lx:()=>be,M4:()=>we,MH:()=>w,MI:()=>Ae,Mi:()=>o,Ng:()=>p,P4:()=>d,PZ:()=>I,Q_:()=>v,RR:()=>Oe,S:()=>Z,SM:()=>te,SP:()=>P,Sd:()=>Te,TU:()=>O,V6:()=>n,VN:()=>Ce,Ve:()=>B,Vg:()=>ve,Vs:()=>r,XT:()=>Fe,Y5:()=>Me,YP:()=>m,Yi:()=>X,Z4:()=>Ee,Ze:()=>Y,Zp:()=>S,_K:()=>s,bQ:()=>le,c3:()=>T,cf:()=>Q,d2:()=>Ue,dp:()=>y,e9:()=>M,eD:()=>Ie,ei:()=>h,ep:()=>He,f7:()=>K,fF:()=>re,fG:()=>C,fQ:()=>ne,gk:()=>ye,gx:()=>Re,hD:()=>ke,hi:()=>U,hn:()=>R,i0:()=>Ne,iM:()=>u,im:()=>F,jH:()=>g,kg:()=>c,l:()=>Se,lC:()=>ge,nI:()=>a,nn:()=>q,oz:()=>N,pw:()=>Ve,qc:()=>V,qp:()=>me,rL:()=>_,rt:()=>G,s6:()=>De,sw:()=>x,t2:()=>l,tA:()=>se,tg:()=>b,vF:()=>ee,wF:()=>j,wK:()=>pe,wR:()=>z,xQ:()=>J,xo:()=>de,zK:()=>L,zr:()=>$});const n=Symbol("analytics"),s=Symbol("annotations"),r=Symbol("apiv2"),a=Symbol("app-analytics"),o=Symbol("attachments"),l=Symbol("automation-support"),c=(Symbol("blur-data"),Symbol("camera")),d=Symbol("camera-start"),u=Symbol("canvas"),h=Symbol("container-data"),p=Symbol("controls-common"),m=Symbol("controls-dh"),f=Symbol("controls-fp"),g=Symbol("controls-inside"),v=Symbol("controls-zoom"),y=Symbol("current-pano"),E=Symbol("cursor-controller"),b=Symbol("cursors"),S=Symbol("cursor-mesh"),O=Symbol("dwell-analytics"),T=Symbol("raycast-fat"),_=Symbol("floors"),N=Symbol("floors-state"),w=Symbol("raycast-floor"),A=Symbol("gui"),I=Symbol("input"),k=Symbol("interaction"),P=Symbol("label-data"),L=Symbol("label-render"),D=Symbol("layers"),R=Symbol("lines"),M=Symbol("locale"),C=Symbol("login-redirect"),x=Symbol("mattertag-data"),F=Symbol("measurement-mode"),U=Symbol("mesh-query"),H=Symbol("mesh-api-fixup"),j=Symbol("mesh-trim-data"),V=Symbol("model-data"),B=Symbol("model-mesh"),G=Symbol("model-rating"),W=Symbol("mouse"),z=Symbol("navigation"),K=Symbol("notes"),Y=Symbol("object-tag-suggestions-data"),q=Symbol("ordered-lists"),$=Symbol("orthographic-controls"),Z=Symbol("pins"),Q=Symbol("plugin"),X=Symbol("plugin-config-data-module"),J=Symbol("plugin-ui"),ee=Symbol("policy"),te=Symbol("pre-renderer"),ie=Symbol("react-three-fiber-external"),ne=Symbol("raycaster"),se=Symbol("rtt"),re=Symbol("room-bound"),ae=Symbol("room-bound-data"),oe=Symbol("room-bound-renderer"),le=Symbol("rooms"),ce=(Symbol("room-selector"),Symbol("scan-info")),de=Symbol("scene"),ue=Symbol("scheduler"),he=Symbol("screenshots"),pe=Symbol("sdk-landing"),me=Symbol("search"),fe=Symbol("sensors"),ge=Symbol("ses"),ve=Symbol("skybox"),ye=Symbol("snapshots-editor"),Ee=Symbol("snapshots-data"),be=Symbol("storage"),Se=Symbol("sweep-data"),Oe=Symbol("pano"),Te=Symbol("pucks"),_e=Symbol("path"),Ne=Symbol("sweep-pin-mesh"),we=Symbol("sweep-pin"),Ae=Symbol("portal"),Ie=Symbol("portal-nav"),ke=Symbol("sweep-textures"),Pe=Symbol("sweep-viewdata"),Le=Symbol("tags"),De=Symbol("tours-controls"),Re=Symbol("tours-data"),Me=Symbol("tools"),Ce=(Symbol("transform-gizmo"),Symbol("users")),xe=Symbol("mode-change"),Fe=Symbol("mode"),Ue=Symbol("video"),He=Symbol("visible-mesh-bounds"),je=Symbol("webgl-renderer"),Ve=Symbol("webxr")},41865:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var n=i(67294),s=i(29707);function r(){const{analytics:e}=(0,n.useContext)(s.I);return e}},81137:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Analytics:()=>r,default:()=>o,useAnalytics:()=>a.z});var n=i(933),s=i(28721);class r extends n.Y{constructor(){super(...arguments),this.name="analytics",this.endpoints=[],this.loaded=!1,this.bufferedData=[],this.options={}}async load(e,t,i){this.loaded=!1,Object.assign(this.options,t);for(const t of e)await t.init(this.options,i),this.endpoints.push(t),this.loaded=!0;return this.loaded&&this.flushBufferedData(),this.loaded}setOptions(e){Object.assign(this.options,e),this.endpoints.forEach((t=>{t.setOptions(e)}))}setUser(e){if(e&&e.loggedIn)for(const t of this.endpoints)t.identify(e)}track(e,t,i){return this.loaded?(0,s.gw)(0).then((()=>{this.endpoints.forEach((n=>{n.track(e,t,i)}))})):(this.bufferedData.push({event:e,data:t}),Promise.resolve())}trackAsync(e,t,i){this.loaded?this.endpoints.forEach((n=>{n.trackAsync(e,t,i)})):this.bufferedData.push({event:e,data:t})}trackFeatures(...e){this.options.ab_tests||(this.options.ab_tests=[]);const t=this.options.ab_tests;t.push(...e);const i=new Map(t.map((e=>e.split(":")))),n={ab_tests:Array.from(i,(([e,t])=>`${e}:${t}`))};this.endpoints.forEach((e=>{e.setOptions(n)}))}flushBufferedData(){for(const e of this.bufferedData)this.endpoints.forEach((t=>{t.track(e.event,e.data,e.intercom)}));this.bufferedData.length=0}}var a=i(41865);const o=r},27944:(e,t,i)=>{"use strict";i.d(t,{F$:()=>l,FW:()=>m,bC:()=>v,vx:()=>f});var n=i(42238),s=i(51352),r=i(61173),a=i(12520);const o=e=>`${e}_3.0`,l=e=>e,c=e=>{var t,i;return{pme:null!==(i=(null!==(t=window.MP_PLATFORM_METADATA)&&void 0!==t?t:{}).pme)&&void 0!==i&&i}},d=e=>({height:e.innerHeight,width:e.innerWidth}),u=e=>({width:e.screen.width,height:e.screen.height,density:e.devicePixelRatio}),h=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return""}},p=()=>{const e=(new n.UAParser).getResult();let t=e.os.name,i=e.browser.name;const s=Object.assign({},e.device);return(0,r._1)()&&(t="iPadOS",s.vendor="Apple",s.model="iPad",s.type="tablet","Safari"===i&&(i="Mobile Safari")),{browser:{name:i,major:e.browser.major,version:e.browser.version,language:navigator.language||"",languages:navigator.languages?navigator.languages.join(", "):""},os:{name:t,version:e.os.version},device:{vendor:s.vendor,model:s.model,type:s.type}}};function m(e){var t;const i=window,n=i.parent!==i,s="1"===e.play||"true"===e.play;return Object.assign({model_id:e.model||e.m||"",language_tag:null!==(t=e.lang)&&void 0!==t?t:null,quickstart:"1"===e.qs,is_mobile:(0,r.tq)(),iframe:n,session_id:(0,a.D)(),platform:p(),pme:c(),authTokenProvided:!!e.auth||!!e.connectauth},f(s))}function f(e){const t=window,i=t.innerWidth/t.innerHeight,n=t.parent!==t;return{start_source:e?"autoplay":n?"click":"fullpage",autoplay:e,aspect_ratio:isFinite(i)?i:1,window:d(t)}}function g(e,t){const i=window;return{app:{name:o(t),version:"24.11.2_webgl-798-gf42d1db434"},locale:e,screen:u(i),timezone:h(),location:{}}}function v(e,t,i){const n=g(t,i);return(0,s.Z)(e).then((e=>{n.location={city:e.city,country:e.country_name,region:e.region}})),n}},12925:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(42141),s=i(72961),r=i(85726);class a extends n.V{constructor(){super(),this.name="annotations-view-data",this.dockedAnnotationObservable=(0,r.Y)(null),this.billboardAnnotationObservable=(0,r.Y)(null),this.billboardSelectedObservable=(0,r.Y)(!1),this.capabilities=new Map}setDockedAnnotation(e,t){const i=e&&t?{id:e,annotationType:t}:null;this.isEqual(i,this.dockedAnnotation)||this.atomic((()=>{this.dockedAnnotationObservable.value=i,i&&this.billboardSelected&&(this.billboardSelectedObservable.value=!1)}))}get dockedAnnotation(){return this.dockedAnnotationObservable.value}onDockedAnnotationChanged(e){return this.dockedAnnotationObservable.onChanged(e)}setBillboardAnnotation(e,t,i){const n=e&&t?{id:e,annotationType:t}:null;this.atomic((()=>{this.isEqual(n,this.billboardAnnotation)||(this.billboardAnnotationObservable.value=n),void 0===i&&n||(this.billboardSelectedObservable.value=!!i,i&&this.dockedAnnotation&&(this.dockedAnnotationObservable.value=null))}))}get billboardAnnotation(){return this.billboardAnnotationObservable.value}get billboardSelected(){return this.billboardSelectedObservable.value}get selectedAnnotation(){return this.billboardSelected?this.billboardAnnotation:null}updateCapabilities(e,t){const i=this.getCapabilities(e);i.atomic((()=>{i.dock=t.dock,i.preview=t.preview,i.share=t.share}))}getCapabilities(e){const t={dock:!0,preview:!0,select:!0,share:!0};this.capabilities.has(e)||this.capabilities.set(e,(0,s.$)(t));return this.capabilities.get(e)||(0,s.$)(t)}isEqual(e,t){return(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.annotationType)===(null==t?void 0:t.annotationType)}}},73515:(e,t,i)=>{"use strict";i.d(t,{Aj:()=>d,G5:()=>o,JD:()=>l,Kw:()=>a,bd:()=>s,oM:()=>r,yL:()=>c});var n=i(56063);class s extends n.m{constructor(e,t,i=!1){super(),this.payload={id:e,annotationType:t,force:i}}}s.id="ANNOTATION_DOCK";class r extends n.m{constructor(e,t,i=!1){super(),this.payload={id:e,annotationType:t,force:i}}}r.id="ANNOTATION_SELECT";class a extends n.m{constructor(e,t){super(),this.payload={id:e,annotationType:t}}}a.id="ANNOTATION_PREVIEW";class o extends n.m{}o.id="ANNOTATIONS_CLOSE_BILLBOARD";class l extends n.m{}l.id="ANNOTATIONS_CLOSE_DOCKED_ANNOTATION";class c extends n.m{constructor(e,t){super(),this.payload={exceptType:e,exceptId:t}}}c.id="ANNOTATIONS_CLOSE_ALL";class d extends n.m{constructor(e,t){super(),this.payload={id:e,annotationType:t}}}d.id="ANNOTATION_CLOSE"},7555:(e,t,i)=>{"use strict";i.d(t,{i:()=>r,q:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t,i){super(),this.annotationType=e,this.id=t,this.attachmentId=i}}class r extends n.v0{constructor(e,t,i){super(),this.block=i,this.id=t,this.annotationType=e}}},35229:(e,t,i)=>{"use strict";var n;i.d(t,{X:()=>n}),function(e){e.ACCESS_TOKEN_REQUIRED="object.access.token.required",e.FORBIDDEN="spaces.public.access.password.forbidden",e.INVALID_PASSWORD="spaces.public.access.invalid_password",e.TOO_MANY_ATTEMPTS="spaces.public.access.too_many_attempts",e.UNAUTHORIZED="user.unauthorized",e.NOT_FOUND="not.found",e.PASSWORD_REQUIRED="model.unauthorized"}(n||(n={}))},17790:(e,t,i)=>{"use strict";var n;i.d(t,{s:()=>n}),function(e){e.INVALID_CREDENTIALS="invalidcredentials",e.TOO_MANY_ATTEMPTS="toomanyattempts",e.UNKNOWN="unknown"}(n||(n={}))},86965:(e,t,i)=>{"use strict";i.d(t,{r:()=>s});var n=i(1055);class s{constructor(){const e=(0,n.eY)("auth","");this.authenticate(e)}isAuthenticated(){return!!s.token}authenticate(e){return!(!e||"string"!=typeof e)&&(s.token=e.replace(","," "),!0)}getAuthorizationHeader(){return s.token?s.token:""}}},31599:(e,t,i)=>{"use strict";i.d(t,{L:()=>l});var n=i(53257),s=i(17790),r=i(35229),a=i(85661);const o=new n.Z("mp-password-authentication");class l{constructor(e=window.location.origin){this.baseUrl=e,this.errorType=s.s.UNKNOWN}async authenticate(e,t){if(!e.match(/[a-zA-Z0-9]+/))return o.error(`Invalid Model ID ${e}`),!1;const i=`${this.baseUrl}/api/v2/models/${e}/public-access/`;return this.fetchToken(i,t).then((async e=>{let t={};return e&&(t=await e.json(),e.ok&&t.token)?(this.login(t.token),!0):(this.errorType=l.getErrorType(t.code),this.logout(),!1)}))}isAuthenticated(){return void 0!==l.token}login(e){l.token=e}logout(){l.token=void 0}getAuthorizationHeader(){return l.token?`Matterport-Object-Access ${l.token}`:""}async fetchToken(e,t){const i=JSON.stringify({password:t}),n={"Content-Type":"application/json"};return(0,a.m)(e,n),fetch(e,{method:"POST",cache:"no-cache",headers:n,body:i})}static getErrorType(e){switch(e){case r.X.TOO_MANY_ATTEMPTS:return s.s.TOO_MANY_ATTEMPTS;case r.X.INVALID_PASSWORD:return s.s.INVALID_CREDENTIALS}return s.s.UNKNOWN}}},84030:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});class n{static setToken(e){n.token="Bearer "+e}isAuthenticated(){return!!n.token}authenticate(e){return!(!e||"string"!=typeof e)}getAuthorizationHeader(){return n.token?n.token:""}}},7516:(e,t,i)=>{"use strict";var n,s;i.d(t,{AB:()=>s,Qf:()=>a,SL:()=>n,eE:()=>r}),function(e){e.BASE="base",e.STANDARD="standard",e.HIGH="high",e.ULTRAHIGH="ultrahigh"}(n||(n={})),function(e){e[e.BASE=512]="BASE",e[e.STANDARD=1024]="STANDARD",e[e.HIGH=2048]="HIGH",e[e.ULTRAHIGH=4096]="ULTRAHIGH"}(s||(s={}));const r={[n.BASE]:s.BASE,[n.STANDARD]:s.STANDARD,[n.HIGH]:s.HIGH,[n.ULTRAHIGH]:s.ULTRAHIGH},a={[s.BASE]:n.BASE,[s.STANDARD]:n.STANDARD,[s.HIGH]:n.HIGH,[s.ULTRAHIGH]:n.ULTRAHIGH}},9263:(e,t,i)=>{"use strict";i.d(t,{af:()=>c,gx:()=>n});var n,s=i(42141),r=i(64831),a=i(62680),o=i(65919),l=i(25396);class c extends s.V{constructor(e={}){super(),this.name="player-options",this.options=new d(e)}resetDefaultTourOptions(){this.options.fast_transitions=l.LI,this.options.transition_speed=l.p$,this.options.transition_time=l.rd,this.options.pan_speed=l.tu,this.options.dollhouse_pan_speed=l.nr,this.options.zoom_duration=l.we,this.options.pan_angle=l.Cj,this.options.pan_direction=l.y6,this.options.commit()}}class d extends r.T{constructor(e){super(),this.defurnish_view=!0,this.presented_by=!1,this.highlight_reel=!0,this.floor_plan=!0,this.tour_buttons=!0,this.room_bounds=!1,this.labels=!0,this.labels_dh=!0,this.floor_select=!0,this.space_search=!0,this.measurements=!0,this.measurements_saved=!0,this.dollhouse=!0,this.contact_email=!1,this.address=!1,this.contact_name=!1,this.model_summary=!1,this.contact_phone=!1,this.model_name=!1,this.external_url=!1,this.unit_type=o.M.IMPERIAL,this.background_color=a.z.default,this.fast_transitions=l.LI,this.transition_speed=l.p$,this.transition_time=l.rd,this.pan_speed=l.tu,this.dollhouse_pan_speed=l.nr,this.zoom_duration=l.we,this.pan_angle=l.Cj,this.pan_direction=l.y6,e&&this.copy(e)}copy(e){this.presented_by=!!e.presented_by,this.highlight_reel=!!e.highlight_reel,this.floor_plan=!!e.floor_plan,this.room_bounds=!!e.room_bounds,this.tour_buttons=!!e.tour_buttons,this.labels=!!e.labels,this.space_search=!!e.space_search,this.dollhouse=!!e.dollhouse,this.fast_transitions=!!e.fast_transitions,this.contact_email=!!e.contact_email,this.address=!!e.address,this.contact_name=!!e.contact_name,this.model_summary=!!e.model_summary,this.contact_phone=!!e.contact_phone,this.model_name=!!e.model_name,this.external_url=!!e.external_url,this.defurnish_view=!!e.defurnish_view,void 0!==e.measurements&&(this.measurements=e.measurements),void 0!==e.labels_dh&&(this.labels_dh=e.labels_dh),void 0!==e.floor_select&&(this.floor_select=e.floor_select),void 0!==e.measurements_saved&&(this.measurements_saved=e.measurements_saved),void 0!==e.unit_type&&(this.unit_type=e.unit_type),void 0!==e.background_color&&void 0!==a.z[e.background_color]&&(this.background_color=e.background_color),void 0!==e.transition_speed&&(this.transition_speed=e.transition_speed),void 0!==e.transition_time&&(this.transition_time=e.transition_time),void 0!==e.pan_speed&&(this.pan_speed=e.pan_speed),void 0!==e.dollhouse_pan_speed&&(this.dollhouse_pan_speed=e.dollhouse_pan_speed),void 0!==e.zoom_duration&&(this.zoom_duration=e.zoom_duration),void 0!==e.pan_angle&&(this.pan_angle=e.pan_angle),void 0!==e.pan_direction&&(this.pan_direction=e.pan_direction)}}!function(e){e.DefurnishView="defurnish_view",e.PresentedBy="presented_by",e.HighlightReel="highlight_reel",e.FloorPlan="floor_plan",e.RoomBounds="room_bounds",e.TourButtons="tour_buttons",e.Labels="labels",e.LabelsDollhouse="labels_dh",e.Measurements="measurements",e.FloorSelect="floor_select",e.SavedMeasurements="measurements_saved",e.Dollhouse="dollhouse",e.InstantTransitions="fast_transitions",e.TransitionSpeed="transition_speed",e.TransitionTime="transition_time",e.PanSpeed="pan_speed",e.DollhousePanSpeed="dollhouse_pan_speed",e.ZoomDuration="zoom_duration",e.PanAngle="pan_angle",e.PanDirection="pan_direction",e.Units="unit_type",e.DetailsEmail="contact_email",e.DetailsAddress="address",e.DetailsName="contact_name",e.DetailsSummary="model_summary",e.DetailsPhone="contact_phone",e.DetailsModelName="model_name",e.DetailsExternalUrl="external_url",e.BackgroundColor="background_color",e.SpaceSearch="space_search"}(n||(n={}))},62680:(e,t,i)=>{"use strict";i.d(t,{K:()=>s,z:()=>r});const n={bgPrimary:"#0F1011",bgSecondary:"#1e2023",gridPrimary:"#2d3035",gridSecondary:"#171a1c"},s={black:n,grey:{bgPrimary:"#c9cbcc",bgSecondary:"#9d9d9e",gridPrimary:"#c9cbcc",gridSecondary:"#b0b1b1"},white:{bgPrimary:"#fcfdff",bgSecondary:"#ced0d3",gridPrimary:"#fcfdff",gridSecondary:"#e2e3e5"},default:n};var r;!function(e){e.black="black",e.grey="grey",e.white="white",e.default="black"}(r||(r={}))},97725:(e,t,i)=>{"use strict";i.d(t,{Fx:()=>c,GT:()=>r,LJ:()=>d,TR:()=>o,V2:()=>a,Zh:()=>p,aJ:()=>u,iE:()=>l,pi:()=>h});var n=i(73943);class s extends n.y{constructor(e="Api Exception"){super(e),this.name="ApiException"}}class r extends s{constructor(e="Unauthorized"){super(e),this.name="Unauthorized"}}class a extends s{constructor(e="Forbidden"){super(e),this.name="Forbidden"}}class o extends s{constructor(e="Not Found"){super(e),this.name="NotFound"}}class l extends s{constructor(e="Model Processing"){super(e),this.name="ModelProcessing",this.code="unavailable.processing"}}class c extends s{constructor(e="Model Failed"){super(e),this.name="ModelFailed",this.code="model.failed"}}class d extends s{constructor(e="Model Archived"){super(e),this.name="ModelArchived",this.code="unavailable.archived"}}class u extends s{constructor(e="Model Pending"){super(e),this.name="ModelPending",this.code="unavailable.pending"}}class h extends s{constructor(e="Model Deleted"){super(e),this.name="ModelDeleted",this.code="unavailable.gone"}}class p extends s{constructor(e="Model Compliance"){super(e),this.name="ModelCompliance",this.code="unavailable.compliance"}}},51352:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(27067),s=i(10765);async function r(e){return(0,s.mM)(window.location.href)?e.get("https://static.matterport.com/geoip/",{responseType:"json",priority:n.ru.LOW}):{city:"",country_code:"",country_name:"",region:""}}},70482:(e,t,i)=>{"use strict";i.d(t,{P8:()=>r,PT:()=>o,gM:()=>a});var n=i(26529);let s=null;const r=e=>{s=e},a=()=>s,o=(e,t)=>(s&&(0,n.S)(e)&&(t["x-matterport-application-key"]=s),t)},86237:(e,t,i)=>{"use strict";i.d(t,{I:()=>a,l:()=>r});var n=i(26529);let s=null;const r=e=>{s=e},a=(e,t)=>(s&&(0,n.S)(e)&&(t["x-matterport-application-name"]=s),t)},16883:(e,t,i)=>{"use strict";i.d(t,{X:()=>a,t:()=>r});var n=i(26529);let s=null;const r=e=>{s=e},a=(e,t)=>(s&&(0,n.S)(e)&&(t["x-matterport-application-version"]=s),t)},85661:(e,t,i)=>{"use strict";i.d(t,{m:()=>h});var n=i(86237),s=i(16883),r=i(70482),a=i(31599),o=i(86965),l=i(84030);const c=[new o.r,new l.w,new a.L];var d=i(26529);const u=[(e,t,i=c)=>{const n=i.map((e=>e.getAuthorizationHeader())).find(Boolean);return n&&(0,d.S)(e)&&(t.authorization=n),t},n.I,s.X,r.PT],h=(e,t,i=u)=>(i.forEach((i=>i(e,t))),t)},26529:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});const n=["matterport.com","matterportvr.cn","localhost"],s=["/api/"],r=e=>{let t;try{t=new URL(e.toLowerCase())}catch(e){return!1}const{hostname:i,pathname:r}=t,a=n.some((e=>i===e||i.endsWith(`.${e}`))),o=s.some((e=>r.startsWith(e)));return a&&o}},18209:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>R});var n=i(53257),s=i(27067),r=i(35229),a=i(97725);class o{constructor(e){this.blurEnabled=!1,e&&Object.assign(this,e)}}var l,c=i(51352),d=i(1055);!function(e){e.USER="user",e.ADMIN="admin"}(l||(l={}));class u{constructor(e){this.loggedIn=!1,this.flags=new Set,this.memberships=[],e&&Object.assign(this,e)}getFlags(e=""){if(this.memberships){const e=(0,d.eY)("organization","");for(const t of this.memberships)if(""===e||t.organizationId===e)for(const e of t.flags)this.flags.add(e)}const t=new Set;return this.flags.forEach((i=>{if(0===i.indexOf(e)){const n=i.replace(e,"");t.add(n)}})),t}hasFlag(e,t="showcase"){return this.getFlags().has(`${t}/${e}`)}isOrganizationAdmin(e){const t=this.getMembership(e);return!!(null==t?void 0:t.roles.includes(l.ADMIN))}getMembershipFlags(e){const t=this.getMembership(e);return t?t.flags:[]}getMembership(e){return this.memberships.find((t=>t.organizationId===e))}hasMembershipFlag(e,t){return this.getMembershipFlags(e).includes(t)}getMembershipFeature(e,t){const i=this.getMembership(e);return(null==i?void 0:i.features[t])||!1}hasMembership(e){return this.memberships.some((t=>t.organizationId===e))}}class h{constructor(e){this.features={},e&&Object.assign(this,e)}}var p=i(77609);const m=new n.Z("user.serializers");function f(e,t="24.11.2_webgl-798-gf42d1db434"){const i=[];for(let n of e){const e=n.match(/^.*\-(\d+(?:\.\d+)*)$/);if(e&&e[1]){if(n=n.replace(/-(\d+(?:\.\d+)*)$/,""),p.o.lt(t,e[1])){m.debug(`Dropping feature flag ${n}, version >= ${e[1]} required`);continue}m.debug(`Enabled versioned feature flag ${n}`)}i.push(n)}return i}var g=i(85661),v=i(61173);const y=new n.Z("ImageBitmapSupport"),E=(0,d.eY)("imageBitmap",null);let b=null;function S(){return"1"===E||(null===b&&function(){if(b=!1,(0,v.vU)()){const e=(0,v.rI)();e.major<=95&&(y.error(`Firefox/${e.major} issue, Disabling ImageBitmap support, upgrade to 96 for better performance.`),b=!0)}}(),!b&&("createImageBitmap"in window?"0"!==E:"1"===E))}var O=i(86965),T=i(3952),_=i(10960),N=i(58196);class w{constructor(e,t,i){this.query=e,this.variables=t,this.response=i}read(e,t,i){return e!==this.query||(0,N.NK)(t,this.variables)?Promise.resolve(void 0):Promise.resolve(this.response)}}var A=i(80383),I=i(90404),k=i(27545);const P=new n.Z("api");class L{constructor(e=new s.gO,t=new s.gO,i=window.location.origin,n){this.apiQueue=e,this.storeQueue=t,this.baseUrl=i,this.mdsContext=n,this._configCache={},this._userCache={},this._organizationCache={}}async init(e){this.user=this.getUser(),e&&await this.getConfigs(e)}getOnStoreQueue(e,t={}){return this.get(e,t,this.storeQueue)}get(e,t={},i=this.apiQueue){const{headers:n={}}=t;return t.headers=(0,g.m)(e,n),i.get(e,t).then((e=>{if(null===e)throw Error("Data from get was null, possibly unparsable JSON");return e}))}getImage(e,t){return this.get(e,Object.assign(Object.assign({},t),{responseType:"image"}))}async getImageBitmap(e,t,i,n={}){if(S()){const s=-1!==e.indexOf("?"),r=e+(s?"&":"?")+"imgopt=1",a=await this.get(r,Object.assign(Object.assign({},n),{responseType:"blob"}));return createImageBitmap(a,0,0,t,i,{imageOrientation:n.flipY?"flipY":"none"})}return this.getImage(e,n)}async getConfigs(e){if(e=e.toLowerCase(),this._configCache[e])return this._configCache[e];let t=k.t.config;if(!t){const i=this.baseUrl+`/api/v2/config/${e}`;try{t=await this.get(i,{responseType:"json"})}catch(e){P.warn(`Failed to load config from ${i}, ignoring`)}}return this._configCache[e]=t||{},t||{}}async getAppKey(e,t){if(""===e||""===t)return null;const i=await this.getConfigs(e);return i.hasOwnProperty(t)?i[t]:null}async getGeoIpLocation(){return(0,c.Z)(this.apiQueue)}async modelExists(e,t={ignorePrefetch:!1}){var i,n,s,o,l,c,d;const{ignorePrefetch:u}=t;if(!u){const t=k.t.getQuery("GetModelPrefetch"),o=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.model;if(!(null==o?void 0:o.id)&&k.t.hasPassword)throw new a.GT("Model requires a password");if(!(new O.r).isAuthenticated()){const t=k.t.modelErrorCode,i=null==o?void 0:o.state;if(t===I.Mb.MODEL_COMPLIANCE)throw new a.Zh;if(t===I.Mb.MODEL_DELETED)throw new a.pi;if(t===I.Mb.MODEL_PROCESSING||i===A.gb.PROCESSING)throw new a.iE;if(t===I.Mb.MODEL_FAILED||i===A.gb.FAILED)throw new a.Fx;if(t===I.Mb.MODEL_ARCHIVED||i===A.gb.INACTIVE)throw new a.LJ;if(t===I.Mb.MODEL_PENDING||i===A.gb.PENDING)throw new a.aJ;const l=null===(n=k.t.getQueryErrors("GetModelPrefetch"))||void 0===n?void 0:n.find((e=>{var t;return(null===(t=null==e?void 0:e.path)||void 0===t?void 0:t.length)&&"model"===(null==e?void 0:e.path[0])}));if((null===(s=null==l?void 0:l.extensions)||void 0===s?void 0:s.code)===r.X.NOT_FOUND)throw new a.TR("Model not found (404)");if(o&&(null==o?void 0:o.id)!==e)throw new a.V2("Access denied (403)")}}const h=await this.modelQuery(e);if(null===(o=h.errors)||void 0===o?void 0:o.length){switch(null===(l=h.errors[0].extensions)||void 0===l?void 0:l.code){case r.X.PASSWORD_REQUIRED:throw new a.GT("Access token required (401)");case r.X.NOT_FOUND:throw new a.TR("Model not found (404)");default:throw new a.V2("Access denied (403)")}}else if((null===(d=null===(c=h.data)||void 0===c?void 0:c.model)||void 0===d?void 0:d.id)!==e)throw new a.V2("Access denied (403)")}async getOrganization(e){if(e in this._organizationCache)return this._organizationCache[e];const t=`${this.baseUrl}/api/v2/organizations/${e}`,i=await this.get(t,{responseType:"json"}).catch((e=>{P.error(e)}));let n=null;return i&&(n=new o({id:i.sid,name:i.company_name||"",blurEnabled:!!i.manual_blur})),this._organizationCache[e]=n,n}async getUser(e){if(e&&e in this._userCache)return this._userCache[e];const t=`${this.baseUrl}/api/v2/users/${e||"current"}`,i=function(e){if(!e)return new u;const t=(e.memberships||[]).map((t=>new h({userId:e.user_sid,organizationId:t.organization_sid,name:t.name,flags:f(t.flags||[]),roles:t.roles||[],features:t.features||{}})));return new u({id:e.user_sid,firstName:e.first_name,lastName:e.last_name,email:e.email,loggedIn:e.is_authenticated,flags:new Set(f(e.flags)),memberships:t})}(await this.get(t,{responseType:"json"}).catch((e=>{P.error(e)})));return i.id&&(this._userCache[i.id]=i),i}async modelQuery(e){var t,i;const n=null===(t=this.mdsContext)||void 0===t?void 0:t.sharedCaches,s=new T.w({baseUrl:this.baseUrl,apqEnabled:null===(i=this.mdsContext)||void 0===i?void 0:i.apqEnabled,caches:n}),r=await s.query(_.GetModelPolicies,{modelId:e}),a=(r.errors||[]).filter((e=>{var t;return 1===(null===(t=e.path)||void 0===t?void 0:t.length)&&"model"===e.path[0]}));return 0===a.length&&n&&(this.modelDetailCache&&n.delete(this.modelDetailCache),this.modelDetailCache=new w(_.GetModelPolicies,{modelId:e},r),n.add(this.modelDetailCache)),{data:r.data,errors:a}}}var D=i(933);class R extends D.Y{constructor(){super(...arguments),this.name="api-client"}async init(e,t){this.api=await this.initApi(e)}async initApi(e){const t=new L(e.apiQueue,e.storeQueue,e.baseUrl,e.mdsContext);return await t.init(e.preloadConfig),t}getApi(){return this.api}}},25396:(e,t,i)=>{"use strict";i.d(t,{Cj:()=>h,LI:()=>a,gj:()=>r,nr:()=>d,p$:()=>o,rd:()=>l,tu:()=>c,we:()=>u,y6:()=>p});var n=i(30629),s=i(90129);const r="TransitionType",a=!0,o=s.Mk,l=s.mL,c=s.pn,d=s.su,u=s.i7,h=s.BA,p=n.kw.Auto},37250:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var n=i(64831),s=i(12437);class r extends n.T{constructor(e){super(),this.category=s.G$.EXTERNAL,this.mediaType=s.DD.IMAGE,this.mimeType="",this.src="",this.height=0,this.width=0,e&&Object.assign(this,e)}copy(e){return this.id=e.id,this.src=e.src,this.url=e.url,this.thumbnailUrl=e.thumbnailUrl,this.height=e.height,this.width=e.width,this.created=e.created,this.category=e.category,this.mediaType=e.mediaType,this.parentId=e.parentId||"",this.parentType=e.parentType,this.filename=e.filename,this.bytes=e.bytes,this.mimeType=e.mimeType||"",this}}},25629:(e,t,i)=>{"use strict";i.d(t,{$T:()=>h,It:()=>a,Rh:()=>p,ZT:()=>m,Ze:()=>c,iu:()=>o,sE:()=>l,st:()=>r,wu:()=>s,x9:()=>d,xW:()=>u});var n=i(56063);class s extends n.m{constructor(e,t,i){super(),this.payload={parentId:e,parentType:t,src:i}}}s.id="EMBED_MEDIA";class r extends n.m{constructor(e){super(),this.payload={attachment:e}}}r.id="LOAD_ATTACHMENT_EMBED";class a extends n.m{constructor(e,t,i){super(),this.payload={parentId:e,parentType:t,files:i}}}a.id="UPLOAD_ATTACHMENTS";class o extends n.m{constructor(e,t,i){super(),this.payload={parentId:e,parentType:t,prevParentId:i}}}o.id="CONFIRM_ATTACHMENT_CHANGES";class l extends n.m{constructor(e){super(),this.payload={uploadId:e}}}l.id="CANCEL_ATTACHMENT_UPLOAD";class c extends n.m{}c.id="CANCEL_ATTACHMENT_CHANGES";class d extends n.m{constructor(){super()}}d.id="ATTACHMENTS_RESET_DATA";class u extends n.m{constructor(e,t,i){super(),this.payload={open:e,attachments:t,attachmentId:i}}}u.id="TOGGLE_VIEW_ATTACHMENTS";class h extends n.m{constructor(e){super(),this.payload={attachment:e}}}h.id="ATTACHMENT_REMOVE";class p extends n.m{constructor(e){super(),this.payload={id:e}}}p.id="ATTACHMENT_REMOVE_FAILED_UPLOAD";class m extends n.m{constructor(e){super(),this.payload={id:e}}}m.id="ATTACHMENT_DELETE"},12437:(e,t,i)=>{"use strict";var n,s,r,a;i.d(t,{DD:()=>r,G$:()=>a,_V:()=>s,kV:()=>n}),function(e){e.FILE_TOO_LARGE="oversize",e.EMPTY_FILE="empty",e.OVER_QUOTA="overQuota",e.UPLOAD_FAILED="failed",e.PERMISSION_DENIED="permission"}(n||(n={})),function(e){e.EMBED_FAIL="embedFail",e.EMBED_SUCCESS="success"}(s||(s={})),function(e){e.IMAGE="image",e.PDF="pdf",e.VIDEO="video",e.RICH="rich",e.ZIP="zip",e.TEXT="text",e.AUDIO="audio",e.MODEL="model",e.APPLICATION="application"}(r||(r={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload",e.SANDBOX="sandbox"}(a||(a={}))},39786:(e,t,i)=>{"use strict";i.d(t,{Aw:()=>r,t8:()=>a,yk:()=>n,z6:()=>s});const n=25,s=524288e3,r=["image/gif","image/png","image/jpeg","image/webp","image/bmp"],a=["image/gif","image/png","image/jpeg","image/webp"]},15352:(e,t,i)=>{"use strict";i.d(t,{d:()=>d,n:()=>u});var n=i(53257),s=i(96544),r=i(38256),a=i(39262),o=i(37250),l=i(12437);const c=new n.Z("external-attachment-deserializer");class d{constructor(){}deserialize(e){if(!e||!this.validate(e))return c.debug("Deserialized invalid external attachment data from MDS",e),null;const t=new o.P;return t.id=e.id,t.created=(0,r.p)(e.created),t.src=e.url||"",t.thumbnailUrl=new s.n(e.thumbnailUrl||"",(0,r.p)(e.validUntil,null)),t.url=new s.n(e.url||"",(0,r.p)(e.validUntil,null)),e.mediaType&&(t.mediaType=(0,a.bY)(e.mediaType)),t.category=l.G$.EXTERNAL,e.width&&(t.width=e.width),e.height&&(t.height=e.height),t.parentType=e.parentDetails.type,t.parentId=e.parentDetails.parent.id,t}validate(e){if(!e)return!1;const t=["id","created","modified","mediaType","parentDetails"].filter((t=>!(t in e))),i=0===t.length;return i||c.debug("Attachment invalid:",{missingFields:t}),i}}const u=function(){return new d}},47994:(e,t,i)=>{"use strict";i.d(t,{O:()=>d,f:()=>u});var n=i(53257),s=i(38256),r=i(39262),a=i(37250),o=i(12437),l=i(96544);const c=new n.Z("file-attachment-deserializer");class d{constructor(){}deserialize(e){if(!e||!this.validate(e))return c.debug("Deserialized invalid file attachment data from MDS",e),null;const t=new a.P;return t.id=e.id,t.created=(0,s.p)(e.created),e.mimeType&&(t.mimeType=e.mimeType,t.mediaType=(0,r.id)(e.mimeType)),t.category=o.G$.UPLOAD,t.thumbnailUrl=new l.n(e.url||"",(0,s.p)(e.validUntil,null)),t.url=new l.n(e.url||"",(0,s.p)(e.validUntil,null)),t.filename=e.filename||"",t.bytes=e.bytes||0,t.width=e.imageWidth||0,t.height=e.imageHeight||0,t}validate(e){if(!e)return!1;return["id","created","url","mimeType","filename"].every((t=>t in e))}}const u=function(){return new d}},39262:(e,t,i)=>{"use strict";i.d(t,{Ug:()=>l,Uq:()=>a,VV:()=>p,ae:()=>c,bY:()=>u,id:()=>d,lV:()=>o,m:()=>h});var n=i(12437),s=i(39786),r=i(80383);function a(e){return!(e.category!==n.G$.UPLOAD||!e.mimeType)&&s.t8.includes(e.mimeType)}function o(e){return e.category===n.G$.EXTERNAL||e.category===n.G$.SANDBOX||!!e.mimeType&&s.Aw.includes(e.mimeType)}function l(e){return e.filter((e=>o(e)))}function c(e){return e.filter((e=>!o(e)))}function d(e){return e.startsWith("image")?n.DD.IMAGE:e.startsWith("video")?n.DD.VIDEO:e.startsWith("audio")?n.DD.AUDIO:e.startsWith("model")?n.DD.MODEL:e.startsWith("text")?n.DD.TEXT:"application/pdf"===e?n.DD.PDF:n.DD.APPLICATION}function u(e){switch(e){case r.EV.IMAGE:return n.DD.IMAGE;case r.EV.PDF:return n.DD.PDF;case r.EV.VIDEO:return n.DD.VIDEO;case r.EV.RICH:return n.DD.RICH;case r.EV.ZIP:return n.DD.ZIP;default:throw Error(`Unknown attachment media type ${e}`)}}function h(e){switch(e){case n.DD.IMAGE:return r.EV.IMAGE;case n.DD.PDF:return r.EV.PDF;case n.DD.VIDEO:return r.EV.VIDEO;case n.DD.RICH:return r.EV.RICH;case n.DD.ZIP:return r.EV.ZIP;default:throw Error(`Unknown media type ${e}`)}}function p(e){if(!e)return"0";const t=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),3),i=["B","kB","MB","GB"][t];return`${Number((e/Math.pow(1e3,t)).toFixed(1))}${i}`}},21170:(e,t,i)=>{"use strict";i.d(t,{B:()=>m});var n=i(91524),s=i(26059),r=i(81396),a=i(64831),o=i(3835),l=i(43627),c=i(5829),d=i(86743),u=i(11250),h=i(56574),p=i(59452);class m extends a.T{constructor(e){super(),this.position=new r.Vector3,this.rotation=new r.Quaternion,this.focalDistance=-1,this._autoOrthoApplied=!1,this._shouldAutoOrtho=!1,this._frustum=new r.Frustum,this.fovCorrectedPosition=(()=>{const e=new r.Vector3;return()=>(e.copy(o.fU.FORWARD).applyQuaternion(this.rotation).multiplyScalar(this.fovCorrectionOffset()).add(this.position),e)})(),this.fovCorrectionOffsetVec=(()=>{const e=new r.Vector3;return()=>(e.copy(o.fU.FORWARD).applyQuaternion(this.rotation).multiplyScalar(-this.fovCorrectionOffset()),e)})(),this.focalPoint=(()=>{const e=new r.Vector3,t=new r.Vector3;return()=>(e.copy(o.fU.FORWARD).applyQuaternion(this.rotation).multiplyScalar(this.focalDistance),t.copy(this.position).add(e),t)})(),this.forward=(()=>{const e=new r.Vector3;return()=>(e.copy(o.fU.FORWARD).applyQuaternion(this.rotation),e)})(),this.pitchFactor=(()=>{const e=(0,d.z6)(.6,0,.88,.5);return()=>{const t=(0,l.ZY)(this.phi()),i=(0,l.ZY)(p.Ok),n=Math.max((t-i)/(90-i),0),s=e(n),r=1-s,a=1-Math.round(s);return Math.abs(r-a)<=.001?a:r}})(),this.projection=(0,n.AN)(e),this.isPitchFactorOrtho=new h.Y((()=>(0,u.Eb)(this.pitchFactor())),[this.onChanged.bind(this)]),this.isProjectionOrtho=new h.Y((()=>(0,s.Pp)(this.projection)),[this.onChanged.bind(this)]),this.worldspaceFrustum=new h.Y((()=>(0,u.jE)(this,this._frustum)),[this.onChanged.bind(this)]),this.isPitchFactorTransitionActive=new h.Y((()=>{const e=Math.abs(this.pitchFactor());return e>0&&e<1}),[this.onChanged.bind(this)])}setAutoOrtho(e){this._shouldAutoOrtho=e}get autoOrtho(){return this._shouldAutoOrtho}get autoOrthoApplied(){return this._autoOrthoApplied}fovCorrectedFocalDistance(){return this.focalDistance/this.fovDistanceScale()}fovCorrectionOffset(){return this.focalDistance-this.fovCorrectedFocalDistance()}aspect(){return this.projection.elements[5]/this.projection.elements[0]}halfHeight(){return this.fovCorrectedFocalDistance()*Math.tan((0,l.Id)(n.oR.fov/2))}fovDistanceScale(e){const{minFov:t}=n.oR,i=null!=e?Math.max(e,t):this.isOrtho()?t:(0,l.ZY)(this.fovY());return Math.tan((0,l.Id)(n.oR.fov/2))/Math.tan((0,l.Id)(i)/2)}phi(){return(0,u.yn)(this.rotation)}clone(e=new m(this.aspect())){return e.position.copy(this.position),e.rotation.copy(this.rotation),e.focalDistance=this.focalDistance,e.projection.copy(this.projection),e._autoOrthoApplied=this.autoOrthoApplied,e._shouldAutoOrtho=this.autoOrtho,e}applyPhiBasedFovSquish(){if(!this._shouldAutoOrtho)return;const e=(0,c.t)(0,n.oR.fov,this.pitchFactor()),t=this.aspect(),i=this.fovCorrectedFocalDistance()*this.fovDistanceScale(e),{near:s,far:r}=(0,n.oW)(i);if(e>n.oR.minFov)this.projection.makePerspectiveFov(e,t,s,r);else{const e=this.halfHeight(),t=this.aspect()*e;this.projection.makeOrthographic(-t,t,e,-e,s,r)}this.focalDistance=i,this.position.add(this.fovCorrectionOffsetVec()),this._autoOrthoApplied=!0}unapplyPhiBasedFovSquish(){if(!this._autoOrthoApplied)return;const e=this.fovCorrectedPosition().clone(),t=this.fovCorrectedFocalDistance();this.position.copy(e),this.focalDistance=t,this.resetProjMatrix(),this._autoOrthoApplied=!1}copy(e){return this.position.copy(e.position),this.rotation.copy(e.rotation),this.focalDistance=e.focalDistance,this.projection.copy(e.projection),this._autoOrthoApplied=e.autoOrthoApplied,this._shouldAutoOrtho=e.autoOrtho,this.commit(),this}isOrtho(){return(0,s.Pp)(this.projection)}fovX(){return 2*Math.atan(1*this.aspect()/this.projection.elements[5])}fovY(){return 2*Math.atan(1/this.projection.elements[5])}resetProjMatrix(){this.projection.makePerspectiveFov(n.oR.fov,this.aspect(),n.oR.near,n.oR.far)}}},57793:(e,t,i)=>{"use strict";i.d(t,{M:()=>v,r:()=>f});var n=i(91524),s=i(42141);const r=(e,t)=>e&&t?e.equals(t):e===t;var a=i(26059),o=i(53462),l=i(43627),c=i(21170),d=i(90288),u=i(63926),h=i(81396),p=i(64831);class m extends p.T{constructor(){super(...arguments),this.startTime=0,this.duration=0,this.active=!1,this.autoOrtho=!1,this.type=null,this.progress=new u.z(0),this.blackoutProgress=new u.z(0),this.from={position:new h.Vector3,rotation:new h.Quaternion,projection:new o.M},this.to={position:new h.Vector3,rotation:new h.Quaternion,projection:new o.M},this.rotationDelay=0,this.rotationDuration=1,this.matrixDelay=0,this.matrixDuration=1,this.activeInternal=!1,this.promise=null,this.orbitTarget=null,this.orbitStartPhi=0,this.orbitStartDistance=0,this.instantOrbit=!1,this.fadeToBlackSubType=d.bR.Full}}const f=(e,t,i=!0)=>{t.position=g(e.position,t.position,i),t.rotation=g(e.rotation,t.rotation,i),t.projection=g(e.projection,t.projection,i),t.focalDistance=e.focalDistance},g=(e,t,i=!0)=>(e&&!t?t=e.clone():e&&t?t.copy(e):i&&(t=void 0),t);class v extends s.V{constructor(e,t){super(),this._width=e,this._height=t,this.name="camera",this._baseProjection=new o.M,this._orthoMatrix=new o.M,this._lastOrthoZoom=1,this._perspectiveMatrix=new o.M,this._metersPerPx=null,this.pose=new c.B(e/t),this.transition=new m,this.setCameraDimensions(e,t),this._baseFovY=l.Ue*n.oR.fov,this.pose.onChanged((()=>this._metersPerPx=null))}setCameraDimensions(e,t){if(isNaN(e)||0===e||isNaN(t)||0===t)return;this._width=e,this._height=t,this._metersPerPx=null;const i=e/t,{near:s,far:r}=(0,n.oW)(this.pose.focalDistance),o=this.isOrtho()?(0,n.aH)(e,t,t/(2*this.orthoZoom()),1,s,r,this._orthoMatrix):this._perspectiveMatrix.makePerspectiveFov(l.MN*this.fovY(),i,s,r);if(this.pose.projection.copy(o),this.transition.active&&this.transition.to.projection)if((0,a.Pp)(this.transition.to.projection)){const i=(0,a.S3)(this.transition.to.projection);this.transition.to.projection.copy((0,n.aH)(e,t,t/(2*i),1))}else{const e=2*l.MN*Math.atan(1/this.transition.to.projection.elements[5]);this.transition.to.projection.makePerspectiveFov(e,i,n.oR.near,n.oR.far)}this.pose.commit()}setAutoOrtho(e){e!==this.pose.autoOrtho&&(this.pose.setAutoOrtho(e),e?this.pose.applyPhiBasedFovSquish():this.pose.unapplyPhiBasedFovSquish(),this.pose.commit())}setBaseProjection(e){this._baseProjection=e}get width(){return this._width}get height(){return this._height}get screenDiagonalPx(){return Math.sqrt(this.width*this.width+this.height*this.height)}get baseFovY(){return this._baseFovY}aspect(){return this.pose.aspect()}fovY(){return this.pose.fovY()}fovX(){return this.pose.fovX()}isOrtho(){return this.pose.isOrtho()}baseZoom(){return this.pose.projection.elements[0]/2}defaultZoom(){return(0,a.Pp)(this._baseProjection)?(0,a.S3)(this._baseProjection):this.perspectiveZoom()}zoom(){return this.isOrtho()?this.orthoZoom():this.perspectiveZoom()}orthoZoom(){const e=(0,a.S3)(this.pose.projection);return isNaN(e)?this._lastOrthoZoom:(this._lastOrthoZoom=e,e)}perspectiveZoom(){return this.baseFovY/this.fovY()}metersPerPx(){return null==this._metersPerPx?(this._metersPerPx=(0,a._U)(this.pose.focalDistance,this.pose.projection.asThreeMatrix4(),this.width),this._metersPerPx):this._metersPerPx}copyTransition(e){this.transition.active=e.active,this.transition.activeInternal=e.activeInternal,this.transition.type=e.type,this.transition.startTime=e.startTime,this.transition.duration=e.duration,this.transition.rotationDelay=e.rotationDelay,this.transition.rotationDuration=e.rotationDuration,this.transition.matrixDelay=e.matrixDelay,this.transition.matrixDuration=e.matrixDuration,this.transition.fadeToBlackSubType=e.fadeToBlackSubType,e.progress&&this.transition.progress.copy(e.progress),e.blackoutProgress&&this.transition.blackoutProgress.copy(e.blackoutProgress),e.from&&f(e.from,this.transition.from),e.to&&f(e.to,this.transition.to),this.transition.promise=e.promise}canTransition(){return!this.transition.active}clone(){const e=new v(this.width,this.height);return e.copy(this),e}copy(e){this.pose.copy(e.pose),this.pose.commit(),this._baseFovY=e.baseFovY,this.copyTransition(e.transition),this.transition.commit(),this._width=e.width,this._height=e.height}shallowIsEqual(e){return this.pose.position.equals(e.pose.position)&&this.pose.rotation.equals(e.pose.rotation)&&this.pose.projection.equals(e.pose.projection)&&this.pose.focalDistance===e.pose.focalDistance&&this.baseFovY===e.baseFovY}isEqual(e){return this.shallowIsEqual(e)&&this.transitionIsEqual(e.transition)}transitionIsEqual(e){return this.transition.active===e.active&&this.transition.type===e.type&&this.transition.progress.equals(e.progress)&&this.transition.blackoutProgress.equals(e.blackoutProgress)&&this.transition.rotationDelay===e.rotationDelay&&this.transition.rotationDuration===e.rotationDuration&&this.transition.matrixDelay===e.matrixDelay&&this.transition.matrixDuration===e.matrixDuration&&this.transition.activeInternal===e.activeInternal&&r(this.transition.from.position,e.from.position)&&r(this.transition.from.rotation,e.from.rotation)&&r(this.transition.from.projection,e.from.projection)&&r(this.transition.to.position,e.to.position)&&r(this.transition.to.rotation,e.to.rotation)&&r(this.transition.to.projection,e.to.projection)&&this.transition.startTime===e.startTime&&this.transition.duration===e.duration}}},91524:(e,t,i)=>{"use strict";i.d(t,{AN:()=>a,aH:()=>o,oR:()=>s,oW:()=>r});var n=i(53462);const s={fov:75,near:.1,far:3e3,minFov:1},r=e=>{const t=s.far-s.near,i=Math.max(s.near,e-t/2);return{near:i,far:i+t}},a=(e,t)=>(t||(t=new n.M),t.makePerspectiveFov(s.fov,e,s.near,s.far)),o=(e,t,i=1,r=1,a=s.near,o=s.far,l)=>{l||(l=new n.M);const c=e/2,d=t/2,u=l.makeOrthographic(-c,c,d,-d,a*r,o*r);return u.elements[0]*=i,u.elements[5]*=i,u}},82863:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TRANSITION_DISTANCE_MULTIPLIER:()=>R,baseTransitionSpeedKey:()=>M,default:()=>C});var n=i(81396);var s=i(5829),r=i(26059),a=i(15709),o=i(933),l=i(57793),c=i(8126);class d extends c.v0{constructor(e,t){super(),this.from=t,this.to=e,this.timestamp=Date.now()}}class u extends d{}var h=i(93827),p=i(86743),m=i(59452),f=i(64150),g=i(23998),v=i(96783),y=i(17785),E=i(90288),b=i(56063);class S extends b.m{}S.id="RESET_PITCH";class O extends b.m{}O.id="ENABLE_AUTO_ORTHO";class T extends b.m{}T.id="DISABLE_AUTO_ORTHO";var _=i(32332);class N extends _.f{constructor(e="Unhandled Camera Exception"){super(e),this.name="CameraTransitionException"}}class w extends _.f{constructor(e="Cannot move while the camera is already moving"){super(e),this.name="CameraTransitionException"}}var A=i(59491);class I{constructor(e,t){this.proxy=e,this.target=t}updateCameraPose(e){this.proxy.activeSession(this)&&this.target.updateCameraPose(e)}beginExternalTransition(){this.proxy.activeSession(this)&&this.target.beginExternalTransition()}endExternalTransition(){this.proxy.activeSession(this)&&this.target.endExternalTransition()}updateCameraPosition(e){this.proxy.activeSession(this)&&this.target.updateCameraPosition(e)}updateCameraRotation(e){this.proxy.activeSession(this)&&this.target.updateCameraRotation(e)}updateCameraFocus(e){this.proxy.activeSession(this)&&this.target.updateCameraFocus(e)}updateCameraProjection(e){this.proxy.activeSession(this)&&this.target.updateCameraProjection(e)}moveTo(e){return this.proxy.activeSession(this)?this.target.moveTo(e):h.Q.resolve()}}class k{constructor(e,t){this.controller=e,this.data=t,this.proxies=[]}get pose(){return this.data}activeSession(e){if(0===this.proxies.length)return!1;return this.proxies[this.proxies.length-1].controller===e}newSession(e){let t=null;if(-1!==this.proxies.findIndex((t=>t.requester===e)))throw new Error("Cannot create two sessions with the same requester");return(0,A.k1)((()=>{if(!t){if(this.proxies.length>0){const e=this.proxies[this.proxies.length-1];e.requester.onAccessRevoked(e.controller)}t=new I(this,this.controller),this.proxies.push({controller:t,requester:e}),e.onAccessGranted(t)}}),(()=>{if(t){const e=this.proxies.findIndex((e=>e.controller===t));if(-1!==e){const t=this.proxies[e],i=e===this.proxies.length-1;if(i&&t.requester.onAccessRevoked(t.controller),this.proxies.splice(e,1),this.proxies.length>0&&i){const e=this.proxies[this.proxies.length-1];e.requester.onAccessGranted(e.controller)}}}}))}}var P=i(11250),L=i(4763);const D={[E.nF.Instant]:{blackoutTime:0,transitionTime:0},[E.nF.FadeToBlack]:{blackoutTime:m.ZP.camera.transitionBlackoutTime,transitionTime:2*m.ZP.camera.transitionBlackoutTime},[E.nF.Interpolate]:{blackoutTime:0,transitionTime:m.ZP.camera.transitionFadeTime},[E.nF.MoveToBlack]:{blackoutTime:m.ZP.camera.transitionBlackoutTime,transitionTime:m.ZP.camera.transitionFadeTime},[E.nF.OrbitTo]:{blackoutTime:0,transitionTime:m.ZP.camera.transitionFadeTime}},R=166,M="Transition time";class C extends o.Y{constructor(){super(...arguments),this.name="camera-data",this.transitionSpeed=m.ZP.camera.transitionSpeed,this.baseTransitionTime=m.ZP.camera.baseTransitionTime,this.eulerCache=new n.Euler,this.quaternionCache=new n.Quaternion,this.computeOrbitDistance=()=>{if(this.visibleMeshBounds){const e=this.cameraData.pose,t=new n.Ray(e.position.clone(),e.forward().clone());return this.visibleMeshBounds.computeFocusPoint(t).distanceTo(e.position)/e.fovDistanceScale()}return this.cameraData.pose.fovCorrectedFocalDistance()}}async init(e,t){this.engine=t,this.market=t.market,this.canvas=await t.market.waitForData(g.W),this.cameraData=new l.M(this.canvas.width,this.canvas.height),this.market.register(this,l.M,this.cameraData),this.cameraPoseProxy=((e,t)=>new k(e,t))(this,this.cameraData.pose),t.market.waitForData(f.e).then((e=>{this.bindings.push(e.onPropertyChanged(M,(e=>{this.baseTransitionTime=e})),t.commandBinder.addBinding(O,(async()=>{this.cameraData.setAutoOrtho(!0)})),t.commandBinder.addBinding(T,(async()=>{this.cameraData.setAutoOrtho(!1)})))})),t.getModuleBySymbol(L.ep).then((e=>this.visibleMeshBounds=e)),this.bindings.push(t.commandBinder.addBinding(S,(async()=>this.resetPitch())),t.subscribe(a.a,(e=>this.cameraData.setCameraDimensions(e.width,e.height))))}onUpdate(e){}fromPose(e=!1){const t=this.cameraData.pose;return{position:e?t.fovCorrectedPosition().clone():t.position.clone(),rotation:t.rotation.clone(),projection:t.projection.clone(),focalDistance:e?t.fovCorrectedFocalDistance():t.focalDistance}}updateCameraPosition(e){this.cameraData.pose.position.copy(e),this.cameraData.pose.commit()}updateCameraProjection(e){this.cameraData.pose.projection.copy(e),this.cameraData.pose.commit()}updateCameraFocus(e){this.cameraData.pose.focalDistance=e,this.cameraData.pose.commit()}updateCameraRotation(e){this.cameraData.pose.rotation.copy(e),this.cameraData.pose.commit()}updateCameraPose(e){this.cameraData.pose.copy(e),this.cameraData.pose.commit()}resetPitch(){this.eulerCache.setFromQuaternion(this.cameraData.pose.rotation,"YXZ"),this.eulerCache.x=0,this.eulerCache.z=0,this.quaternionCache.setFromEuler(this.eulerCache),this.updateCameraRotation(this.quaternionCache)}canTransition(){return this.cameraData.canTransition()}moveTo(e){if(!this.canTransition())return h.Q.reject(new w("Tried to start transition while another transition was active"));const t=D[e.transitionType],i=e.pose.rotation,n=e.pose.position,s=null==e.fadeToBlackSubType?E.bR.Full:e.fadeToBlackSubType;let a=e.projection;e.autoOrtho?a=void 0:e.pose.zoom&&(a&&(0,r.Pp)(a)||this.cameraData.isOrtho())&&(a=this.adjustProjectionZoom(a||this.cameraData.pose.projection.clone(),e.pose.zoom));const o=void 0!==e.blackoutTime?e.blackoutTime:t.blackoutTime,l=e.transitionType,c=e.transitionSpeedMultiplier?1/e.transitionSpeedMultiplier:1;let m=l===E.nF.Instant?0:e.transitionTime;if(void 0===m)if(e.transitionType===E.nF.Interpolate&&n){const e=n.distanceTo(this.cameraData.pose.position);m=this.baseTransitionTime+Math.log2(1+e)*R*this.transitionSpeed*c}else m=t.transitionTime;const f=this.fromPose(!!e.autoOrtho),g=l===E.nF.OrbitTo?e.targetPhi:void 0,b=l===E.nF.OrbitTo?p.vG:e.easing;this.beginInternalTransition({transitionType:l,transitionTime:m,blackoutTime:o,pose:{position:n,rotation:i},autoOrtho:!!e.autoOrtho,projection:a,easing:b,rotationDelay:e.rotationDelay||0,rotationDuration:e.rotationDuration||1,matrixDelay:e.matrixDelay||0,matrixDuration:e.matrixDuration||1,focalDistance:e.focalDistance||f.focalDistance,targetPhi:g,fadeToBlackSubType:s});const S={position:e.pose.position?e.pose.position.clone():void 0,rotation:e.pose.rotation?e.pose.rotation.clone():void 0,projection:e.projection?e.projection.clone():void 0,focalDistance:e.focalDistance?e.focalDistance:void 0};this.engine.broadcast(new d(S,f));const O=this.cameraData.transition.promise;if(!O)return h.Q.reject(new N("Expected promise to have been created."));const T=this.progressInternalTransition.bind(this),_=this.shouldProgressInternalTransition.bind(this),A=this.endInternalTransition.bind(this),I=this;return O.notify(0),this.engine.startGenerator((function*(){let t=16;for(t>=I.cameraData.transition.duration&&(O.notify(.5),yield new y.Jj);_(t);){T(t,o);const e=(0,v.uZ)(t/I.cameraData.transition.duration,0,1);O.notify(e),yield new y.Jj,t=16+Date.now()-I.cameraData.transition.startTime}A(e.transitionType),I.cameraData.commit(),O.notify(1),O.resolve(),I.engine.broadcast(new u(S,f))})),O.promise()}get transitionActive(){return this.cameraData.transition.active}setBaseProjection(e){this.cameraData.setBaseProjection(e)}async cancelTransition(){if(this.cameraData.transition.active)return new Promise((e=>{(0,l.r)(this.cameraData.pose,this.cameraData.transition.to,!1);const t=Date.now()-this.cameraData.transition.startTime;this.cameraData.transition.duration=t,this.cameraData.transition.progress.stop(1),this.cameraData.pose.commit(),this.cameraData.transition.commit();const i=this.cameraData.transition.onPropertyChanged("active",(t=>{t||(i&&i.cancel(),e())}))}))}updateTransitionSpeed(e){if(this.cameraData.transition.active){const t=Date.now(),i=t-this.cameraData.transition.startTime,n=i/e,s=this.cameraData.transition.progress,r=(s.duration-i)/e+n;this.cameraData.transition.duration=r,this.cameraData.transition.startTime=t-n,s.modifyAnimation(s.value,s.endValue,r,s.easing,n),this.cameraData.transition.commit()}}beginExternalTransition(){this.cameraData.transition.activeInternal||(this.cameraData.transition.startTime=Date.now(),this.cameraData.transition.active=!0,this.cameraData.transition.promise=new h.Q,this.cameraData.transition.commit())}endExternalTransition(){var e;this.cameraData.transition.activeInternal||(this.cameraData.transition.active=!1,null===(e=this.cameraData.transition.promise)||void 0===e||e.resolve(),this.cameraData.transition.commit())}beginInternalTransition(e){const t=e.transitionTime||0;if(this.cameraData.transition.startTime=Date.now(),this.cameraData.transition.duration=t,this.cameraData.transition.active=!0,this.cameraData.transition.promise=new h.Q,this.cameraData.transition.activeInternal=!0,this.cameraData.transition.type=e.transitionType,this.cameraData.transition.progress.modifyAnimation(0,1,t,e.easing||p.to),this.cameraData.transition.rotationDelay=e.rotationDelay||0,this.cameraData.transition.rotationDuration=e.rotationDuration||1,this.cameraData.transition.matrixDelay=e.matrixDelay||0,this.cameraData.transition.matrixDuration=e.matrixDuration||1,this.cameraData.transition.autoOrtho=!!e.autoOrtho,this.cameraData.transition.fadeToBlackSubType=e.fadeToBlackSubType||E.bR.Full,e.transitionType===E.nF.FadeToBlack&&(this.cameraData.transition.blackoutProgress.modifyAnimation(0,1,e.blackoutTime,p.vG),this.cameraData.transition.fadeToBlackSubType===E.bR.BlackToClear&&this.cameraData.transition.blackoutProgress.updateAbsolute(e.blackoutTime)),e.transitionType===E.nF.MoveToBlack){const e=500;this.cameraData.transition.blackoutProgress.modifyAnimation(0,1,t-2*e,p.aB,0,e)}this.cameraData.transition.from=this.fromPose(!!e.autoOrtho),this.cameraData.transition.to.position=e.pose.position?e.pose.position.clone():void 0,this.cameraData.transition.to.rotation=e.pose.rotation?e.pose.rotation.clone():void 0,this.cameraData.transition.to.projection=e.projection?e.projection.clone():void 0,this.cameraData.transition.to.focalDistance=e.focalDistance?e.focalDistance:void 0,e.transitionType===E.nF.FadeToBlack&&this.cameraData.transition.fadeToBlackSubType===E.bR.BlackToClear&&(0,l.r)(this.cameraData.transition.to,this.cameraData.pose,!1),null!=e.targetPhi&&(this.cameraData.transition.orbitStartDistance=this.computeOrbitDistance(),this.cameraData.transition.orbitTarget=e.targetPhi,this.cameraData.transition.orbitStartPhi=this.cameraData.pose.phi(),this.cameraData.transition.instantOrbit=!(t>0),this.cameraData.pose.focalDistance=this.cameraData.transition.orbitStartDistance*this.cameraData.pose.fovDistanceScale()),this.cameraData.transition.commit()}shouldProgressInternalTransition(e){return this.cameraData.transition.type===E.nF.OrbitTo?this.cameraData.transition.progress.value<1:e<this.cameraData.transition.duration}progressInternalTransition(e,t){if(this.cameraData.transition.active){if(this.cameraData.transition.progress.updateAbsolute(e),this.cameraData.transition.type===E.nF.Interpolate)this.updateInterpolateTransition();else if(this.cameraData.transition.type===E.nF.FadeToBlack){let i=0;const n=this.cameraData.transition.duration;this.cameraData.transition.fadeToBlackSubType===E.bR.Full?e<=t?i=e:((0,l.r)(this.cameraData.transition.to,this.cameraData.pose,!1),i=e>=n-t?n-e:t):this.cameraData.transition.fadeToBlackSubType===E.bR.ClearToBlack?e<=t?i=e:((0,l.r)(this.cameraData.transition.to,this.cameraData.pose,!1),i=t):this.cameraData.transition.fadeToBlackSubType===E.bR.BlackToClear&&(i=e>=n-t?n-e:t),this.cameraData.transition.blackoutProgress.updateAbsolute(i),this.cameraData.transition.progress.updateAbsolute(e<=t?0:n)}else if(this.cameraData.transition.type===E.nF.MoveToBlack){const t=this.cameraData.transition.blackoutProgress;this.updateInterpolateTransition(),t.updateAbsolute(e-t.delay)}else this.cameraData.transition.type===E.nF.OrbitTo&&this.updateOrbitToTransition();this.cameraData.pose.commit(),this.cameraData.transition.commit()}}updateOrbitToTransition(){if(null!=this.cameraData.transition.orbitTarget){const e=(0,P.xL)(this.cameraData.pose,this.cameraData.transition.orbitTarget,this.cameraData.transition.orbitStartPhi,this.cameraData.transition.orbitStartDistance,this.cameraData.transition.instantOrbit,this.cameraData.pose);this.cameraData.transition.progress.updateProgress(e)}}updateInterpolateTransition(){const e=this.cameraData.transition.from,t=this.cameraData.transition.to;if(t.position&&e.position&&this.cameraData.pose.position.copy(e.position).lerp(t.position,this.cameraData.transition.progress.value),t.focalDistance&&e.focalDistance&&(this.cameraData.pose.focalDistance=(0,s.t)(e.focalDistance,t.focalDistance,this.cameraData.transition.progress.value)),t.rotation&&e.rotation){const i=(0,p.e3)(this.cameraData.transition.progress.easing,this.cameraData.transition.progress.value,this.cameraData.transition.progress.elapsed,this.cameraData.transition.progress.duration*this.cameraData.transition.rotationDuration,this.cameraData.transition.rotationDelay);this.cameraData.pose.rotation.copy(e.rotation).slerp(t.rotation,i)}if(this.cameraData.transition.autoOrtho)this.cameraData.pose.resetProjMatrix(),this.cameraData.pose.applyPhiBasedFovSquish();else if(t.projection&&e.projection){const i=(0,p.e3)(p.w2,this.cameraData.transition.progress.value,this.cameraData.transition.progress.elapsed,this.cameraData.transition.progress.duration*this.cameraData.transition.matrixDuration,this.cameraData.transition.matrixDelay);!function(e,t,i,n){const s=n.elements,r=e.elements,a=t.elements;for(let e=0;e<16;e++)s[e]=r[e]*(1-i)+a[e]*i}(e.projection,t.projection,i,this.cameraData.pose.projection)}}endInternalTransition(e){e!==E.nF.OrbitTo&&((0,l.r)(this.cameraData.transition.to,this.cameraData.pose,!1),this.cameraData.transition.autoOrtho&&(this.cameraData.pose.resetProjMatrix(),this.cameraData.pose.applyPhiBasedFovSquish())),this.cameraData.transition.type=null,this.cameraData.transition.active=!1,this.cameraData.transition.activeInternal=!1,this.cameraData.transition.progress.stop(1),e!==E.nF.FadeToBlack&&e!==E.nF.MoveToBlack||(this.cameraData.transition.fadeToBlackSubType===E.bR.ClearToBlack?this.cameraData.transition.blackoutProgress.stop(1):this.cameraData.transition.blackoutProgress.stop(0)),this.cameraData.pose.commit(),this.cameraData.transition.commit()}adjustProjectionZoom(e,t){const i=1/t;return e.elements[0]=i/this.canvas.aspectRatio,e.elements[5]=i,e}}},90288:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{Jh:()=>r,bR:()=>s,nF:()=>n}),function(e){e[e.Instant=0]="Instant",e[e.FadeToBlack=1]="FadeToBlack",e[e.Interpolate=2]="Interpolate",e[e.MoveToBlack=3]="MoveToBlack",e[e.OrbitTo=4]="OrbitTo"}(n||(n={})),function(e){e[e.Full=0]="Full",e[e.ClearToBlack=1]="ClearToBlack",e[e.BlackToClear=2]="BlackToClear"}(s||(s={})),function(e){e[e.Top=1]="Top",e[e.Bottom=2]="Bottom"}(r||(r={}))},59452:(e,t,i)=>{"use strict";i.d(t,{Ok:()=>c,ZP:()=>o,eC:()=>a,y4:()=>l});var n=i(30850),s=i(90288),r=i(43627);const a="dollhouse-peekaboo",o=Object.freeze({camera:{transitionBlackoutTime:300,transitionFadeTime:800,baseTransitionTime:200,transitionSpeed:3,autoOrbitMinVelocity:.002,autoOrbitMaxVelocity:.08,autoOrbitTransitionTIme:1e3,autoOrbitLowerPhiLimit:30*r.Ue,autoOrbitUpperPhiLimit:90*r.Ue}}),l={[n.s.Desktop]:s.nF.Interpolate,[n.s.Mobile]:s.nF.Interpolate,[n.s.VrOrientOnly]:s.nF.FadeToBlack,[n.s.VrWithController]:s.nF.FadeToBlack,[n.s.VrWithTrackedController]:s.nF.FadeToBlack},c=75*r.Ue},11250:(e,t,i)=>{"use strict";i.d(t,{D_:()=>h,Eb:()=>y,Kh:()=>g,bD:()=>u,fi:()=>v,jE:()=>b,q9:()=>d,st:()=>f,xL:()=>S,yn:()=>E,z5:()=>m});var n=i(81396),s=i(3835),r=i(21170),a=i(96783),o=i(5829),l=i(59452),c=i(90288);const d=(()=>{const e=new n.Matrix4,t=new n.Matrix4;return(i,s,r,a)=>(r=r||new n.Vector2,a=a||new n.Vector3,p(i.pose,t),e.copy(t),e.invert(),a.set(s.x,s.y,s.z).applyMatrix4(e).applyMatrix4(i.pose.projection.asThreeMatrix4()),v(i.width,i.height,a,r),{screenPosition:r,ndcPosition:a})})(),u=(()=>{const e=new n.Vector3,t=new n.Vector2;return(i,n,s,r,a,o)=>(e.copy(h(i,n,s,o)),v(r,a,e,t),t)})(),h=(()=>{const e=new n.Matrix4,t=new n.Matrix4,i=new n.Vector3;return(n,r,a,o)=>(e.compose(r,a,s.fU.UNIT),t.copy(e),t.invert(),i.copy(n).applyMatrix4(t).applyMatrix4(o),i)})(),p=(e,t)=>(t=t||new n.Matrix4).compose(e.position,e.rotation,s.fU.UNIT),m=(e,t,i,s,r)=>((r=r||new n.Vector2).x=e/i*2-1,r.y=-t/s*2+1,r),f=(e,t,i=.5,s)=>((s=s||new n.Vector3).x=t.x,s.y=t.y,s.z=i,g(e.pose,s)),g=(()=>{const e=new n.Matrix4,t=new n.Matrix4;return(i,s,r)=>((r=r||new n.Vector3).copy(s),t.copy(i.projection.asThreeMatrix4()),t.invert(),p(i,e),r.applyMatrix4(t).applyMatrix4(e))})(),v=(e,t,i,s)=>((s=s||new n.Vector2).set((i.x+1)*e/2,(1-i.y)*t/2),s),y=e=>Math.abs(e)<.1,E=(()=>{const e=new n.Vector3,t=new n.Vector3,i=new n.Vector3;return n=>{e.copy(s.fU.FORWARD).applyQuaternion(n).multiplyScalar(-1),t.copy(s.fU.UP).applyQuaternion(n);const r=t.dot(s.fU.UP)<=0;i.set(e.x,0,e.z);const a=r?-i.length():i.length(),o=e.y;return Math.atan2(o,a)}})(),b=(()=>{const e=new n.Vector3(-1,-1,-1),t=new n.Vector3,i=new n.Vector3(1,-1,-1),s=new n.Vector3,r=new n.Vector3(1,1,-1),a=new n.Vector3,o=new n.Vector3(-1,1,-1),l=new n.Vector3,c=new n.Vector3(-1,-1,1),d=new n.Vector3,u=new n.Vector3(1,-1,1),h=new n.Vector3,m=new n.Vector3(1,1,1),f=new n.Vector3,g=new n.Vector3(-1,1,1),v=new n.Vector3,y=new n.Matrix4,E=new n.Matrix4;return(b,S)=>(S=S||new n.Frustum,E.copy(b.projection.asThreeMatrix4()),E.invert(),p(b,y),t.copy(e),t.applyMatrix4(E).applyMatrix4(y),s.copy(i),s.applyMatrix4(E).applyMatrix4(y),a.copy(r),a.applyMatrix4(E).applyMatrix4(y),l.copy(o),l.applyMatrix4(E).applyMatrix4(y),d.copy(c),d.applyMatrix4(E).applyMatrix4(y),h.copy(u),h.applyMatrix4(E).applyMatrix4(y),f.copy(m),f.applyMatrix4(E).applyMatrix4(y),v.copy(g),v.applyMatrix4(E).applyMatrix4(y),S.planes[0].setFromCoplanarPoints(t,l,a),S.planes[1].setFromCoplanarPoints(d,h,f),S.planes[2].setFromCoplanarPoints(t,d,v),S.planes[3].setFromCoplanarPoints(t,s,h),S.planes[4].setFromCoplanarPoints(s,a,f),S.planes[5].setFromCoplanarPoints(a,l,v),S)})(),S=(()=>{const e=new n.Vector3,t=new n.Vector3,i=new n.Quaternion,o=new n.Vector3,d=new n.Quaternion;let u=null;return(n,h,p,m,f,g)=>{null==u&&(u=new r.B(1));const v=l.ZP.camera.autoOrbitUpperPhiLimit,y=l.ZP.camera.autoOrbitLowerPhiLimit,b=n;u.copy(b),u.unapplyPhiBasedFovSquish();const S=b.phi(),_=y-S,N=v-S,w=h===c.Jh.Top?N:_,A=f?w:O(S,p,h),I=(0,a.uZ)(A,_,N),k=v-S<1e-10,P=S-y<1e-10;if(h===c.Jh.Top?k:P)return 1;const L=m;e.copy(s.fU.FORWARD).applyQuaternion(b.rotation),e.setLength(L),e.addVectors(b.fovCorrectedPosition(),e),t.copy(s.fU.RIGHT),i.setFromAxisAngle(t.applyQuaternion(b.rotation),-I),o.copy(b.fovCorrectedPosition()).sub(e).applyQuaternion(i),d.copy(b.rotation).premultiply(i),o.add(e),d.normalize(),E(d)>=v&&T(d),u.position.copy(o),u.rotation.copy(d),u.focalDistance=L,u.applyPhiBasedFovSquish(),g.copy(u);const D=h===c.Jh.Top?v:y,R=Math.abs((g.phi()-p)/(D-p));return(0,a.uZ)(R,0,1)}})(),O=(e,t,i)=>{const n=i===c.Jh.Top?1:-1,s=i===c.Jh.Top?l.ZP.camera.autoOrbitUpperPhiLimit:l.ZP.camera.autoOrbitLowerPhiLimit,r=Math.abs((s-e)/(s-t));return n*(0,o.t)(l.ZP.camera.autoOrbitMinVelocity,l.ZP.camera.autoOrbitMaxVelocity,r)*2},T=(()=>{const e=s.fU.RIGHT.clone(),t=s.fU.UP.clone(),i=s.fU.BACK.clone(),r=new n.Matrix4;return n=>{e.copy(s.fU.RIGHT),t.copy(s.fU.UP),i.copy(s.fU.BACK),e.applyQuaternion(n),e.y=0,t.applyQuaternion(n),t.y=0,i.applyQuaternion(n),i.x=0,i.y=1,i.z=0,r.makeBasis(e,t,i),n.setFromRotationMatrix(r)}})()},8374:(e,t,i)=>{"use strict";i.d(t,{B:()=>a,O:()=>r});var n=i(43017),s=i(42141);class r extends s.V{constructor(e,t,i){super(),this.name="cam-start",this.moveCameraOnViewChange=!0,this.icon=e,this.thumb=t,this.pose=new a,i&&this.pose.copy(i)}copy(e,t=!1){var i;return this.icon=e.icon,t?e.thumb&&(null===(i=this.thumb)||void 0===i||i.refreshFrom(e.thumb)):this.thumb=e.thumb,this.pose.copy(e.pose),this}getStartingPose(){return this.deepLinkPose||this.pose}get hasCameraPose(){return this.pose&&this.pose.camera&&void 0!==this.pose.camera.position}}class a{constructor(e=n.Ey.Panorama,t,i,s,r,a){this.mode=e,this.camera={position:t||void 0,rotation:i||void 0,zoom:s||void 0},this.pano=r||{uuid:void 0},this.floorVisibility=a||void 0}copy(e){return this.camera.position=o(e.camera.position,this.camera.position),this.camera.rotation=o(e.camera.rotation,this.camera.rotation),this.camera.zoom=e.camera.zoom,this.pano.uuid=e.pano.uuid?e.pano.uuid.slice():void 0,this.mode=e.mode,this.floorVisibility=e.floorVisibility?e.floorVisibility.slice():void 0,this}}const o=(e,t)=>e&&t?t.copy(e):e&&!t?e.clone():void 0},50652:(e,t,i)=>{"use strict";i.d(t,{K:()=>p});var n=i(81396),s=i(43017),r=i(1055),a=i(53257),o=i(32197),l=i(2490),c=i(59452),d=i(10648);const u=new a.Z("navurl");class h extends Error{constructor(e,t){super(`view mode ${e} is invalid${t?` when ${t}`:""}`)}}class p{static encodeVector3(e,t=2){const{x:i,y:n,z:s}=e;return p.packFloats([i,n,s],t)}static decodeVector3(e){const t=p.unpackFloats(e,3);return t?new n.Vector3(...t):null}static encodeQuaternion(e,t=2){return p.packFloats([e.x,e.y,e.z,e.w],t)}static decodeQuaternion(e){const t=p.unpackFloats(e,4);return t&&!(0,l.mB)(t)?new n.Quaternion(...t):null}static encodeEuler(e,t=2){return p.packFloats([e.x,e.y,e.z],t)}static decodeEuler(e){const t=p.unpackFloats(e,3);return t?new n.Euler(t[0],t[1],t[2],"XYZ"):void 0}static packFloats(e,t=2){let i=e.map((e=>{const i=parseFloat(e.toFixed(t)).toString().replace(/^(\-)?0+.(\d+)/,"$1.$2");return"0"===i?"":i})).join(",");return i=i.replace(/,+$/,""),i}static unpackFloats(e,t=0){const i=e.split(",").map((e=>""===e?0:parseFloat(e)));if(!i||i.includes(NaN))return[];for(;i.length<t;)i.push(0);return i}static getQueryString(e,t=!0){return p.serialize(e,t).toString()}static serialize(e,t=!0){const i=p.removeNavigationKeys();try{if(t){const t=p.getShortPose(e);for(const[e,n]of Object.entries(t))i.set(e,n)}else{const t=p.getStartPose(e),n=JSON.stringify(t);i.set("start",n)}}catch(e){u.debug(e)}return i}static deserialize(e=window.location.href){try{const t=new URL(e.trim()).searchParams,i=t.get("start");return i?p.parseStartObject(i):p.parseShortUrl(t)}catch(e){u.debug(e)}return null}static removeNavigationKeys(){const e=(0,r.kD)();for(const t of p.navigationKeys)e.delete(t);return e}static get navigationKeys(){return new Set(["start","sm","sp","sq","sr","ss","sf","sz"])}static parseShortUrl(e){const t=e.get("sm"),i=e.get("sp"),r=e.get("sq"),a=e.get("sr"),l=e.get("ss"),c=e.get("sf"),d=e.get("sz"),m=p.parseViewmode(t),f=p.decodeEuler(a||"")||new n.Euler(0,0,0),g=p.decodeQuaternion(r||"")||new n.Quaternion(0,0,0,1),v=i?p.decodeVector3(i):void 0,y=l?parseInt(l,10)-1:void 0,E=c?p.unpackFloats(c,4):void 0,b=d?parseFloat(d):void 0;if((0,s.Bw)(m)&&void 0===y)throw new h(m,"sweep index not defined");if(!(0,s.Bw)(m)&&!v)throw new h(m,"position is falsy");let S=r?g:(new n.Quaternion).setFromEuler(f);(0,s.Bw)(m)&&(S=(0,o.Z)(S));const O={mode:m,quaternion:S,position:v||void 0,sweepIndex:y,floorVisibility:E,zoom:b};return u.debug("Parsed short URL pose data:",O),O}static parseStartObject(e){const t=JSON.parse(decodeURIComponent(e));if(!t.camera_quaternion)throw Error("Start override is missing camera_quaternion");if(!t.camera_position)throw Error("Start override is missing camera_position");const i=p.parseViewmode(t.camera_mode),s=(new n.Quaternion).copy(t.camera_quaternion),r={mode:i,panoId:t.scan_id,position:(new n.Vector3).copy(t.camera_position),quaternion:s,zoom:t.ortho_zoom,floorVisibility:t.floor_visibility};return u.debug("Parsed &start URL pose data:",r),r}static getShortPose({cameraData:e,viewmodeData:t,floorsViewData:i,sweepData:r,settingsData:a}){const o=(new n.Euler).setFromQuaternion(e.pose.rotation,"XYZ"),l=r.currentSweepIndex,h={};if(t.isInside())void 0!==l&&(h.ss=l+1),o.z=0,h.sr=p.encodeEuler(o),t.currentMode===s.Ey.Mesh&&(h.sm=p.validateViewmode(t.currentMode));else{const n=(null==a?void 0:a.tryGetProperty(c.eC,!1))||!1;let r=e.pose.position,l=t.currentMode;if(n){const s=(0,d.pG)(e,i,t,n);r=s.position,l=s.viewmode}h.sm=p.validateViewmode(l),h.sr=p.encodeEuler(o),h.sp=p.encodeVector3(r);const u=i.getFloorsVisibility();u.length&&i.totalFloors>1&&(h.sf=u),l===s.Ey.Floorplan&&(h.sz=parseFloat(e.zoom().toFixed(2)))}return h.sq=p.encodeQuaternion(e.pose.rotation),u.debug(`Short URL params for current location ${JSON.stringify(h)}`),delete h.sq,h}static getStartPose({cameraData:e,viewmodeData:t,floorsViewData:i,sweepData:n,settingsData:r}){const a={x:0,y:0,z:0,w:1};a.x=e.pose.rotation.x,a.y=e.pose.rotation.y,a.z=e.pose.rotation.z,a.w=e.pose.rotation.w;const o=(null==r?void 0:r.tryGetProperty(c.eC,!1))||!1,{position:l,viewmode:u}=(0,d.pG)(e,i,t,o),h={x:0,y:0,z:0};h.x=l.x,h.y=l.y,h.z=l.z;const m={camera_mode:p.validateViewmode(u),camera_position:h,camera_quaternion:a};return t.isInside()?m.scan_id=n.currentSweep:m.floor_visibility=i.getFloorsVisibility(),u===s.Ey.Floorplan&&(m.ortho_zoom=e.zoom()),m}static parseViewmode(e){let t=p.DEFAULT_VIEW_MODE;return null!=e&&(t=parseInt(e,10)),p.validateViewmode(t)}static validateViewmode(e){if(null===e||!p.VALID_URL_VIEW_MODES.includes(e))throw new h(e);return e}}p.DEFAULT_VIEW_MODE=s.Ey.Panorama,p.VALID_URL_VIEW_MODES=[s.Ey.Panorama,s.Ey.Dollhouse,s.Ey.Floorplan,s.Ey.Outdoor,s.Ey.Mesh]},11134:(e,t,i)=>{"use strict";i.d(t,{D:()=>r,n:()=>s});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={snapshotSid:e}}}s.id="SET_CAMERA_START";class r extends n.m{constructor(e){super(),this.payload={moveCamera:e}}}r.id="SET_MOVE_CAMERA_ON_VIEW_CHANGE"},73419:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>L});var n=i(90420),s=i(4763),r=i(8374),a=i(933),o=i(50652),l=i(43017),c=i(8126);class d extends c.v0{constructor(e){super(),this.is360=e}}var u=i(42141),h=i(42896);class p extends u.V{constructor(){super(),this.name="start-location-view-data",this.startLocationsObservable=(0,h.q)()}setStartLocations(e){this.atomic((()=>{this.startLocationsObservable.clear(),e.forEach((e=>{this.addStartLocationForView(e.sweepId,e.viewId)}))}))}getStartLocationsForSweep(e){return this.startLocationsObservable.get(e)||[]}isStartLocation(e){return this.startLocationsObservable.has(e)}isStartLocationForView(e,t){return this.getStartLocationsForSweep(e).includes(t)}onStartLocationSweepsChanged(e){return this.startLocationsObservable.onChanged(e)}addStartLocationForView(e,t){const i=this.startLocationsObservable.get(e);i?i.push(t):this.startLocationsObservable.set(e,[t])}}var m=i(92831),f=i(31740),g=i(32197),v=i(35659),y=i(37137),E=i(93797),b=i(64927),S=i(90314),O=i(53257),T=i(18889);class _{serialize(e){return{image:e.sid}}}const N=new O.Z("mds-camera-start-store");class w extends E.u{constructor(e,t){super(e),this.baseModelId=t,this.serializer=new _,this.prefetchKey="data.model.image",this.deserializer=new T.f(this.getViewId.bind(this))}async read(e){var t,i;const n={modelId:this.getViewId()},s=await this.query(b.GetModelImage,n,e),r=null===(i=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.image;return{image:(null==r?void 0:r.id)||"",snapshot:this.deserializer.deserialize(r)}}async update(e){const t=this.getViewId(),i=this.serializer.serialize(e);if(0===Object.keys(i).length)throw new Error("No data to update?");return this.mutate(S.PatchModel,{modelId:t,patch:i}).then((e=>{N.debug(e)}))}async getStartLocationSweeps(){var e,t;const i={modelId:this.baseModelId},n=null===(t=null===(e=(await this.query(b.GetStartLocations,i,{fetchPolicy:"no-cache"})).data)||void 0===e?void 0:e.model)||void 0===t?void 0:t.views,s=[];return n&&n.forEach((e=>{var t,i,n,r;const a=null===(r=null===(n=null===(i=null===(t=e.model)||void 0===t?void 0:t.image)||void 0===i?void 0:i.snapshotLocation)||void 0===n?void 0:n.anchor)||void 0===r?void 0:r.id;a&&s.push({viewId:e.id,sweepId:a})})),s}}var A=i(11134),I=i(96544),k=i(22925),P=i(35575);class L extends a.Y{constructor(){super(...arguments),this.name="camera-start",this.store=null,this.duplicateViewData=new r.O(void 0,new I.n("",new Date)),this.processData=async e=>{var t,i,n;let s,a;const o=e.image,l=e.snapshot;if(l?(s=this.buildCameraStart(l),a=l.thumbnailUrl):o&&(await this.snapshotDataLoadPromise,s=null!==(t=this.getIconStartPose(o))&&void 0!==t?t:void 0,a=this.getIconThumbnail(o)),s||(s=null!==(i=this.getStartFallback())&&void 0!==i?i:void 0),null===(n=null==s?void 0:s.pano)||void 0===n?void 0:n.uuid){const e=this.sweepData.getSweep(s.pano.uuid);e&&!e.enabled&&(this.log.warn(`Enabled hidden start sweep ${s.pano.uuid}`),e.enabled=!0,e.commit())}this.data.atomic((()=>{this.data.icon=o,a&&this.data.thumb?this.data.thumb.refreshFrom(a):(this.data.thumb=a,a&&(a.onStale=async()=>{var e;await(null===(e=this.store)||void 0===e?void 0:e.refresh())})),this.data.pose.copy(null!=s?s:new r.B)})),this.data.commit()},this.beforeViewDuplicate=async()=>{this.duplicateViewData.copy(this.data,!0)},this.afterViewDuplicate=async()=>{this.data.copy(this.duplicateViewData,!0),this.data.commit(),await this.save()}}async init(e,t){const{readonly:i,baseUrl:a,baseModelId:l}=e,{commandBinder:c,market:d}=t,[u,h,g]=await Promise.all([t.getModuleBySymbol(s.Lx),d.waitForData(f.Z),d.waitForData(k.R)]);this.storage=u,this.sweepData=h,this.data=new r.O,this.engine=t,this.snapshotDataLoadPromise=d.waitForData(n.P).then((e=>{this.snapshotsData=e}));const y=o.K.deserialize();if(y){const e=(0,m.J)(y,this.sweepData);(0,m.l)(e,this.sweepData)?(this.data.deepLinkPose=new r.B,this.data.deepLinkPose.copy(e),this.log.debug("Starting Camera Pose",this.data.deepLinkPose)):this.log.error("Invalid start pose",e)}this.bindings.push(c.addBinding(A.n,(async e=>this.updateStartLocationFromSnapshot(e.snapshotSid))),c.addBinding(A.D,(async e=>{this.data.moveCameraOnViewChange=e.moveCamera,this.data.commit()}))),this.store=new w({context:g.mdsContext,readonly:i,baseUrl:a},l),this.store.onNewData(this.processData),await this.store.refresh(),i||this.bindings.push(this.storage.onSave((()=>this.save()),{dataType:v.g.START_LOCATION})),this.duplicateViewHelper={beforeDuplicate:this.beforeViewDuplicate,afterDuplicate:this.afterViewDuplicate},c.issueCommand(new P.Ch(this.duplicateViewHelper)),t.market.register(this,r.O,this.data),this.startLocationViewData=new p,i?t.market.register(this,p,this.startLocationViewData):this.fetchAllStartLocations().then((()=>{t.market.register(this,p,this.startLocationViewData)}))}dispose(e){e.commandBinder.issueCommand(new P.EO(this.duplicateViewHelper))}async updateStartLocationFromSnapshot(e){const t=this.snapshotsData.get(e),i=this.buildCameraStart(t),n=new r.O(t.sid,t.thumbnailUrl,i);this.data.copy(n,!0),this.data.commit(),this.engine.broadcast(new d(t.is360)),await this.engine.commandBinder.issueCommand(new y.V({dataTypes:[v.g.START_LOCATION]}))}async fetchAllStartLocations(){if(this.store){const e=await this.store.getStartLocationSweeps();this.startLocationViewData.setStartLocations(e)}}async save(){const e=this.data.icon;if(!e||!this.store)return void this.log.warn("Unable to save start location");const t=this.snapshotsData.get(e);this.store.update(t).then((()=>{this.fetchAllStartLocations()}))}buildCameraStart(e){const t={mode:e.metadata.cameraMode,camera:{position:e.metadata.cameraPosition,rotation:e.metadata.cameraQuaternion,zoom:e.metadata.orthoZoom},pano:{}};return(0,l.Bw)(t.mode)&&(t.pano={uuid:e.metadata.scanId}),t.floorVisibility=e.metadata.floorVisibility,t}defaultCameraStart(e){return{mode:l.Ey.Panorama,camera:{position:e.position,rotation:(0,g.Z)(e.rotation),zoom:0},pano:{uuid:e.id}}}getStartFallback(){const e=this.sweepData.getFirstAlignedSweep()||this.sweepData.getFirstSweep();return void 0===e?null:this.defaultCameraStart(e)}getIconStartPose(e){let t=null;return e&&e in this.snapshotsData.collection&&(t=(new r.B).copy(this.buildCameraStart(this.snapshotsData.get(e)))),(0,m.l)(t,this.sweepData)||(t=null),t}getIconThumbnail(e){if(e&&e in this.snapshotsData.collection)return this.snapshotsData.get(e).thumbnailUrl}}},92831:(e,t,i)=>{"use strict";i.d(t,{J:()=>r,l:()=>a});var n=i(43017);const s=new(i(53257).Z)("camera-start-util");function r(e,t){const{mode:i,quaternion:n,position:r,floorVisibility:a,sweepIndex:o,zoom:l}=e;let{panoId:c}=e;if(c&&!t.containsSweep(c)){const e=t.getSweepByUuid(c);e&&(c=e.id)}if(!c&&void 0!==o){const e=t.getSweepByIndex(o);e?c=e.id:s.debug(`Failed to load sweep index ${o}`)}return{mode:i,camera:{position:r,rotation:n,zoom:l},pano:{uuid:c},floorVisibility:a}}function a(e,t){return!!e&&(!(0,n.Bw)(e.mode)||!!e.pano.uuid&&t.containsSweep(e.pano.uuid))}},51804:(e,t,i)=>{"use strict";i.d(t,{M:()=>r,P:()=>n});var n,s=i(56063);!function(e){e.left="left",e.top="top",e.width="width",e.height="height"}(n||(n={}));class r extends s.m{constructor(e){super(),this.name="resize-canvas",this.payload=Object.assign({},e)}}r.id="RESIZE_CANVAS"},23998:(e,t,i)=>{"use strict";i.d(t,{W:()=>s});var n=i(42141);class s extends n.V{constructor(e,t,i){super(),this.name="canvas",this.x=0,this.y=0,this.width=e||0,this.height=t||0,this.canvas=i||null}get aspectRatio(){const e=this.width/this.height;return isFinite(e)?e:1}}},29945:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var n=i(933),s=i(23998),r=i(15709),a=i(8126);class o extends a.v0{constructor(e,t){super(),this.x=e,this.y=t}}var l=i(51804),c=i(93827),d=i(56063);class u extends d.m{constructor(e){super(),this.payload=Object.assign({},e)}}u.id="SCREEN_TO_CANVAS_POINT";var h=i(28721);class p extends d.m{constructor(e,t){super(),this.name="blur-canvas",this.payload={duration:e,pixelBlur:t}}}p.id="BLUR_CANVAS";var m=i(73943),f=i(53521),g=i(57793);class v extends m.y{}const y={[l.P.width]:"width",[l.P.height]:"height",[l.P.top]:"top",[l.P.left]:"left"};class E extends n.Y{constructor(){super(...arguments),this.name="canvas",this.getNewX=()=>0,this.getNewY=()=>0,this.getNewWidth=e=>e.width,this.getNewHeight=e=>e.height,this.activeTransitions=[],this.activeTransitionMap={left:null,top:null,width:null,height:null},this.onResize=e=>{e.propertyName in l.P&&(this.resolveActiveTransition(e.propertyName),this._canvas.style.transitionDuration=this.stringifyTransitionDurations())},this.onContainerResize=()=>{this.transitionDurations.left=this.transitionDurations.top=this.transitionDurations.width=this.transitionDurations.height="0s",this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this.applySize(),this.applyPosition(),this.activeTransitions.forEach(this.resolveActiveTransition.bind(this)),this._canvas.style.transitionDuration=this.stringifyTransitionDurations()},this.resizeCanvas=async e=>{if(0!==e.resizeDimensions.length)return this.cameraData&&!this.cameraData.canTransition()&&await this.cameraData.transition.promise,this.activeTransitions.forEach(this.resolveActiveTransition.bind(this)),e.resizeDimensions.forEach((e=>{const{property:t,setDimension:i,duration:n=0}=e,s=y[t],r=this._canvas.style[s];switch(t){case l.P.height:this.setHeight(i,n);break;case l.P.width:this.setWidth(i,n);break;case l.P.top:this.setY(i,n);break;case l.P.left:this.setX(i,n)}if(this._canvas.style[s]!==r&&n>0){const e=new c.Q;e.then((()=>{clearTimeout(i)}));const i=setTimeout((()=>{this.resolveActiveTransition(t)}),n+500);this.activeTransitionMap[t]=e,this.activeTransitions.push(t)}})),this.hasActiveTransitions()||(this.canvasBounds=this._canvas.getBoundingClientRect()),this.getTransitionPromise()}}async init(e,t){if(this.engine=t,!e.container)throw new v;this.container=e.container,this.container.appendChild(e.canvas),this.containerBounds=this.container.getBoundingClientRect(),this._canvas=e.canvas,this._canvas.style.position="absolute",this._canvas.style.left="0",this._canvas.style.top="0",this.transitionDurations={left:"0s",top:"0s",width:"0s",height:"0s",filter:"0.4s"},this._canvas.style.transitionProperty=Object.keys(this.transitionDurations).join(","),this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this.updateTransitions(),this.bindings.push(t.subscribe(f.B,this.onContainerResize),t.commandBinder.addBinding(l.M,this.resizeCanvas),this.makeTransitionEndSubscription(),t.commandBinder.addBinding(u,(async e=>this.screenToCanvasPoint(e.x,e.y))),t.commandBinder.addBinding(p,this.blur.bind(this)));for(const e of this.bindings)e.renew();this.canvasBounds=this._canvas.getBoundingClientRect(),this.containerBounds=this.container.getBoundingClientRect(),this.data=new s.W(this.canvasBounds.width,this.canvasBounds.height,this._canvas),t.market.register(this,s.W,this.data),this.cameraData=await this.engine.market.waitForData(g.M)}makeTransitionEndSubscription(){let e=!1;return{renew:()=>{e||(this.element.addEventListener("transitionend",this.onResize),e=!0)},cancel:()=>{e&&(this.element.removeEventListener("transitionend",this.onResize),e=!1)}}}dispose(e){super.dispose(e)}get element(){return this._canvas}get width(){return this.canvasBounds.width}get height(){return this.canvasBounds.height}get x(){return this.canvasBounds.left}get y(){return this.canvasBounds.top}onUpdate(){const e=this.container.getBoundingClientRect(),t=this.containerHasChanged(e);t&&(this.containerBounds=e,this.updateTransitions()),(t||this.hasActiveTransitions())&&(this.canvasBounds=this._canvas.getBoundingClientRect());const i=this.data.width!==this.width||this.data.height!==this.height,n=this.data.x!==this.x||this.data.y!==this.y;i&&(this.data.width=this.width,this.data.height=this.height,this.data.commit(),this.engine.broadcast(new r.a(this.width,this.height))),n&&(this.data.x=this.x,this.data.y=this.y,this.data.commit(),this.engine.broadcast(new o(this.x-this.containerBounds.left,this.y-this.containerBounds.top)))}containerHasChanged(e){return e.left!==this.containerBounds.left||e.top!==this.containerBounds.top||e.width!==this.containerBounds.width||e.height!==this.containerBounds.height}setX(e,t=0){this.getNewX="number"==typeof e?()=>e:e,this.transitionDurations.left=`${t}ms`,this.updateTransitions()}setY(e,t=0){this.getNewY="number"==typeof e?()=>e:e,this.transitionDurations.top=`${t}ms`,this.updateTransitions()}setWidth(e,t=0){this.getNewWidth="number"==typeof e?()=>e:e,this.transitionDurations.width=`${t}ms`,this.updateTransitions()}setHeight(e,t=0){this.getNewHeight="number"==typeof e?()=>e:e,this.transitionDurations.height=`${t}ms`,this.updateTransitions()}screenToCanvasPoint(e,t){return{x:e-this.x,y:t-this.y}}async blur(e){this.transitionDurations.filter=`${e.duration}ms`,this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this._canvas.style.filter=`blur(${e.pixelBlur}px)`,await(0,h.gw)(e.duration),0===e.pixelBlur&&(this._canvas.style.filter="")}getTransitionPromise(){return Promise.all(this.activeTransitions.map((e=>this.activeTransitionMap[e])).filter((e=>!!e)))}updateTransitions(){this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this.applySize(),this.applyPosition()}applySize(){this._canvas.style.width=`${this.getNewWidth(this.containerBounds)}px`,this._canvas.style.height=`${this.getNewHeight(this.containerBounds)}px`}applyPosition(){this._canvas.style.left=`${this.getNewX(this.containerBounds)}px`,this._canvas.style.top=`${this.getNewY(this.containerBounds)}px`}stringifyTransitionDurations(){return Object.keys(this.transitionDurations).map((e=>this.transitionDurations[e])).join(",")}resolveActiveTransition(e){this.canvasBounds=this._canvas.getBoundingClientRect();const t=this.activeTransitions.indexOf(e);-1!==t&&this.activeTransitions.splice(t,1);const i=this.activeTransitionMap[e];i&&i.resolve(),this.activeTransitionMap[e]=null,this.transitionDurations[e]="0s"}hasActiveTransitions(){return this.activeTransitions.length>0}}},99220:(e,t,i)=>{"use strict";i.d(t,{V:()=>a});var n=i(42141),s=i(47850),r=i(85726);class a extends n.V{constructor(e){super(),this.name="container",this.sizeObservable=new r.f({width:0,height:0}),this.orientation=s.t.LANDSCAPE,this.element=e,this.rootNode=e.getRootNode()}get size(){return this.sizeObservable.value}set size(e){this.sizeObservable.value=e}onPropertyChanged(e,t){return"size"===e?this.sizeObservable.onChanged(t):super.onPropertyChanged(e,t)}}},20510:(e,t,i)=>{"use strict";i.d(t,{O:()=>o,P:()=>l});var n=i(16996),s=i(99220),r=i(16824);const a={width:0,height:0};function o(e){return(0,n.v)(s.V,"size",e||a)}const l=(0,r.M)("containerSize",o)},24081:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(933),s=i(99220),r=i(47850),a=i(53521),o=i(91033);class l extends n.Y{constructor(){super(...arguments),this.name="container-data",this.onResize=()=>{const{clientWidth:e,clientHeight:t}=this.data.element;this.data.size={width:e,height:t},this.data.orientation=e>t?r.t.LANDSCAPE:r.t.PORTRAIT,this.data.commit()}}async init(e,t){this.data=new s.V(e.element),t.market.register(this,s.V,this.data),this.resizeObserver=new o.Z(this.onResize),this.resizeObserver.observe(e.element),this.onResize(),this.data.onPropertyChanged("size",(e=>{t.broadcast(new a.B(e.width,e.height))})),this.data.onPropertyChanged("orientation",(e=>{t.broadcast(new a.p(e))}))}dispose(e){e.market.unregister(this,s.V),this.resizeObserver.disconnect(),super.dispose(e)}}},47850:(e,t,i)=>{"use strict";var n;i.d(t,{t:()=>n}),function(e){e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE"}(n||(n={}))},53521:(e,t,i)=>{"use strict";i.d(t,{B:()=>s,p:()=>r});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.width=e,this.height=t}}class r extends n.v0{constructor(e){super(),this.orientation=e}}},86813:(e,t,i)=>{"use strict";i.d(t,{_Z:()=>n,ti:()=>s,zE:()=>r});const n="features/auto-defurnish",s="spaces.bundles.mp.defurnish";const r="overlayViews"},16567:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});var n=i(42141),s=i(93827);class r extends n.V{constructor(){super(...arguments),this.name="dollhouse-control-data",this.autoOrbitPromise=null,this._autoOrbitTarget="top"}get isAutoOrbitting(){return null!==this.autoOrbitPromise}get autoOrbitTarget(){return this._autoOrbitTarget}get targetState(){return this.isAutoOrbitting?this.autoOrbitTarget:null}startAutoOrbit(e="top"){return this._autoOrbitTarget=e,this.autoOrbitPromise=new s.Q,this.commit(),this.autoOrbitPromise.nativePromise()}stopAutoOrbit(){const e=this.autoOrbitPromise;this.autoOrbitPromise=null,this.commit(),null==e||e.resolve()}}},84906:(e,t,i)=>{"use strict";i.d(t,{Gu:()=>y,N2:()=>c,O8:()=>f,SI:()=>s,TD:()=>m,bC:()=>v,bp:()=>l,dG:()=>d,jX:()=>p,mP:()=>h,pj:()=>a,qj:()=>u,uQ:()=>r,v0:()=>g,zf:()=>o});var n=i(43627);const s=1e3/60,r=89*n.Ue,a=90*n.Ue,o=.001*n.Ue,l=10*n.Ue,c=20*n.Ue,d=30*n.Ue,u=.25,h=500,p=.1,m=.16,f=.08,g=Math.PI/1e3,v=.02,y=150},55981:(e,t,i)=>{"use strict";i.d(t,{O:()=>s});var n=i(8126);class s extends n.v0{}},76536:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload=Object.assign({},e)}}s.id="GET_FLOOR_INTERSECT"},33809:(e,t,i)=>{"use strict";i.d(t,{P:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.floorId=e,this.floorName=t}}},82076:(e,t,i)=>{"use strict";i.d(t,{S:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.from=e,this.to=t}}},17295:(e,t,i)=>{"use strict";i.d(t,{i:()=>o});var n=i(42141),s=i(59491),r=i(42896),a=i(97115);class o extends n.V{constructor(e){super(),this.name="floors",this.floors=(0,r.q)(e)}onNameChange(e){let t=[];return(0,s.k1)((()=>{this.getOrderedValues().forEach(((i,n)=>{t.push(i.onPropertyChanged("name",e))}))}),(()=>{t.forEach((e=>e.cancel())),t=[]}),!0)}addFloor(e){this.floors.set(e.id,e)}getFloor(e){if(!this.floors.has(e))throw new a.H;return this.floors.get(e)}hasFloor(e){return this.floors.has(e)}getFloorAtIndex(e){return this.floors.values.find((t=>t.index===e))}getFloorByMeshGroup(e){return this.floors.values.find((t=>t.meshGroup===e))}getFloorCount(){return this.floors.length}getCollection(){return this.floors}iterate(e){return this.getOrderedValues().forEach(e)}getTopFloor(){const e=this.getOrderedValues();if(!e.length)throw new a.H("Cannot get top floor, model has no floors");return e[e.length-1]}getBottomFloor(){const e=this.getOrderedValues();if(!e.length)throw new a.H("Cannot get bottom floor, model has no floors");return e[0]}getFloorAtHeight(e,t=!1){const i=this.getOrderedValues();t&&i.reverse();for(const t of i){const i=t.boundingBox;if(i.min.y<=e&&e<=i.max.y)return t}const n=this.getBottomFloor();return e<n.boundingBox.min.y?n:this.getTopFloor()}getClosestFloorAtHeight(e){let t,i=1/0;for(const n of this.floors){const s=Math.abs(n.medianSweepHeight()-e);i>s&&(i=s,t=n)}return t}rename(e,t){if(!this.floors.has(e))return;const i=this.floors.get(e);i.name=t,i.commit()}getOrderedValues(){return this.floors.values.sort(((e,t)=>e.index-t.index))}getFloorIdMap(e){const t={};for(const i of this.floors.values)e?t[String(i.index)]=i.id:t[i.id]=String(i.index);return t}}},97115:(e,t,i)=>{"use strict";i.d(t,{H:()=>s});var n=i(73943);class s extends n.y{constructor(e="Invalid Floor"){super(e),this.name="InvalidFloorException"}}},60937:(e,t,i)=>{"use strict";i.d(t,{c:()=>v});var n=i(63926),s=i(42141),r=i(7321),a=i(85726),o=i(84376),l=i(64831);class c extends l.T{constructor(){super(...arguments),this.hidden=!1,this.navigable=!0,this.hasEnabledAlignedSweeps=!1,this.hasEnabledUnalignedSweeps=!1}}var d=i(42896),u=i(53584),h=i(24938);class p{constructor(e,t,i,n,s){this.floors=e,this.viewmodeData=t,this.sweepData=i,this.applicationData=n,this.currentFloorObservable=s,this.bindings=[],this.states=new d.v,this._navigableFloorIds=new u.d,this.hasEnabledAlignedSweeps=!1,this.updateFloorSweepData=()=>{const e=this.sweepData;this.isEditMode()||(this.states.values.forEach((e=>{e.hasEnabledAlignedSweeps=!1,e.hasEnabledUnalignedSweeps=!1})),e.iterate((e=>{if(null!==e.floorId){let t=this.getState(e.floorId);t||(t=this.initializeFloorState(e.floorId)),e.alignmentType===o.z9.ALIGNED?t.hasEnabledAlignedSweeps||(t.hasEnabledAlignedSweeps=e.enabled):t.hasEnabledUnalignedSweeps||(t.hasEnabledUnalignedSweeps=e.enabled),t.commit(),this.hasEnabledAlignedSweeps||(this.hasEnabledAlignedSweeps=e.enabled)}}))),this.updateNavigable()},this.updateHidden=()=>{const e=!this.currentFloorId,t=this.isViewingAlignedPano();this.states.keys.forEach((i=>{const n=!!i&&i===this.currentFloorId,s=this.getState(i);s.hidden=!(e||n||t),s.commit()}))},this.updateNavigable=()=>{const e=this.isEditMode(),t=this.isViewingAlignedPano(),i=this.viewmodeData.isDollhouse()||this.viewmodeData.isFloorplan();this.states.keys.forEach((n=>{const s=this.getState(n);s.navigable=!!e||(t?s.hasEnabledAlignedSweeps:!!i||(s.hasEnabledAlignedSweeps||s.hasEnabledUnalignedSweeps)),s.commit()}));const n=[];this.floors.iterate((e=>{this.getState(e.id).navigable&&n.push(e.id)})),this._navigableFloorIds.replace(n)},this.bindings.push(t.makeModeChangeSubscription(this.updateHidden),i.makeSweepChangeSubscription(this.updateHidden),s.onChanged(this.updateHidden),t.makeModeChangeSubscription(this.updateNavigable),i.makeSweepChangeSubscription(this.updateNavigable),n.onPropertyChanged("application",this.updateFloorSweepData)),this.initializeFloorStates(),this.updateFloorSweepData(),this.updateHidden()}getState(e){return this.states.get(e)}get navigableFloorIds(){return this._navigableFloorIds.values()}onNavigableFloorIdsChanged(e){return this._navigableFloorIds.onChanged(e)}isViewingAlignedPano(){return this.viewmodeData.isInside()&&void 0!==this.sweepData.currentAlignedSweepObject}isEditMode(){return this.applicationData.application===h.Mx.WORKSHOP}get currentFloorId(){return this.currentFloorObservable.value?this.currentFloorObservable.value.id:null}initializeFloorStates(){this.floors.iterate((e=>this.initializeFloorState(e.id)))}initializeFloorState(e){const t=new c;return this.states.set(e,t),t}}var m=i(58340);function f(e,t){return e}const g={floorChangesEnabled:()=>!0};class v extends s.V{constructor(e,t,i,s,r,o){super(),this.name="floors-view",this.floorSelectable=!1,this.currentFloorObservable=new a.f(null),this.transitionObservable=new a.f({from:null,to:null,progress:new n.z(0),promise:Promise.resolve()}),this._observableFloorsSelectMode=new a.f(!1),this._observableRoomSelectMode=new a.f(!1),this._showFloorSelection=new a.f(!1),this.onlyShowActiveFloor=new a.f(!1),this.showAllFloorsOption=!0,this.floorSelectHoverEnabled=!0,this.getFloorMin=e=>{const t=e||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(t).bottom},this.getFloorMinPlane=e=>{const t=e||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(t).groundPlane},this.getFloorCentroid=(e,t)=>{const i=t||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(i).boundingBox.getCenter(e)},this.isHidden=e=>"string"==typeof e&&this.stateHelper.getState(e).hidden,this.isNavigable=e=>"string"==typeof e&&this.stateHelper.getState(e).navigable,this.updateViewData=()=>{this.floors.iterate((e=>{this.derivedData[e.id]={id:e.id,index:e.index,name:this.getFloorName(e.id)}})),this.commit()},this.getViewData=e=>{if(!this.derivedData[e]){const t=this.floors.getFloor(e);this.derivedData[e]={id:t.id,index:t.index,name:this.getFloorName(t.id)}}return this.derivedData[e]},this.getAllViewData=()=>{const e=[];return this.floors.iterate((t=>{e.push(this.getViewData(t.id))})),e},this.getFloor=e=>this.floors.getFloor(e),this.floors=e,this.config=null!=o?o:g,this.localize=null!=r?r:f,this.derivedData={},this.stateHelper=new p(e,t,i,s,this.currentFloorObservable),this.updateViewData()}isCurrentOrAllFloors(e){return!e||!this.currentFloorId||e===this.currentFloorId}isCurrentMeshGroupOrAllFloors(e){return this.currentFloorMeshGroup===m.eh||this.currentFloorMeshGroup===e}isCurrentFloorIndexOrAllFloors(e){return this.currentFloorIndex===e||this.currentFloorIndex===m.qE}makeFloorChangeSubscription(e){return this.currentFloorObservable.onChanged(e)}get currentFloor(){return this.currentFloorObservable.value}get currentFloorId(){var e;return(null===(e=this.currentFloorObservable.value)||void 0===e?void 0:e.id)||null}get currentFloorIndex(){return this.currentFloorObservable.value?this.currentFloorObservable.value.index:m.qE}get currentFloorMeshGroup(){return this.currentFloorObservable.value?this.currentFloorObservable.value.meshGroup:m.eh}getFloorIndexForMeshGroup(e){if(e===m.eh)return m.qE;const t=this.floors.getFloorByMeshGroup(e);return t?t.index:m.qE}get bottomFloorId(){return this.floors.getBottomFloor().id}get topFloorId(){return this.floors.getTopFloor().id}get singleFloor(){if(1===this.floors.getFloorCount())return this.floors.getFloorAtIndex(0)}isMultifloor(){return this.floors.getFloorCount()>1}get nearestFloorId(){return this.transitionActive?this.transition.progress.value>.5?this.transition.to:this.transition.from:this.currentFloorId}get nearestFloor(){const e=this.nearestFloorId;return e?this.floors.getFloor(e):void 0}get transitionActive(){return this.transition.progress.active}get transition(){return this.transitionObservable.value}transitionToFloorInstant(e){this.currentFloorObservable.value=e?this.floors.getFloor(e):null,this.commit()}transitionToFloor(e,t,i,n){const s=this.transitionObservable.value.progress;s.modifyAnimation(0,1,i),this.transitionObservable.value={from:e,to:t,progress:s,promise:n},this.commit(),n.then((()=>{this.transitionToFloorInstant(t)}))}get totalFloors(){return this.floorsEnabled?this.floors.getFloorCount():1}hasEnabledAlignedSweeps(e){return null!==e?this.stateHelper.getState(e).hasEnabledAlignedSweeps:this.stateHelper.hasEnabledAlignedSweeps}getNavigableFloorIds(){return this.stateHelper.navigableFloorIds}onNavigableFloorIdsChanged(e){return this.stateHelper.onNavigableFloorIdsChanged(e)}getHighestVisibleFloor(){return this.currentFloor?this.currentFloor:this.floors.getTopFloor()}getHighestVisibleFloorId(){return this.getHighestVisibleFloor().id}getFloorIdMap(){const e={};return this.iterate((t=>{e[t.id]={id:t.id,name:t.name,items:[]}})),e}iterate(e){this.floors.iterate((t=>{const i=this.getViewData(t.id);i&&e(i)}))}getFloorNames(){const e=[];return this.floorsEnabled?(this.floors.iterate((t=>{e[t.index]=this.getFloorName(t.id)})),e):e}getFloorName(e){if(!e)return this.localize(r.Z.FLOOR_ALL);const t=this.floors.getFloor(e);return void 0!==t.name&&""!==t.name?t.name:this.getDefaultFloorName(e)}getDefaultFloorName(e){const t=this.floors.getFloor(e);return this.localize(r.Z.SHOWCASE.FLOORS.DEFAULT_NAME,t.index+1)}getFloorsVisibility(){if(this.currentFloorId){const e=[];return this.floors.iterate((t=>{e[t.index]=t.id===this.currentFloorId?1:0})),e}return[]}get floorsEnabled(){return this.config.floorChangesEnabled()}get floorSelectModeActive(){return this._observableFloorsSelectMode.value}set floorSelectModeActive(e){const t=e&&this.floorsEnabled;t!==this._observableFloorsSelectMode.value&&(this._observableFloorsSelectMode.value=t,this.commit())}onFloorSelectModeChange(e){return this._observableFloorsSelectMode.onChanged(e)}get showFloorSelection(){return this._showFloorSelection.value}set showFloorSelection(e){e!==this._showFloorSelection.value&&(this._showFloorSelection.value=e,this.commit())}onShowFloorSelectionChanged(e){return this._showFloorSelection.onChanged(e)}get roomSelectModeActive(){return this._observableRoomSelectMode.value}set roomSelectModeActive(e){const t=e;t!==this._observableRoomSelectMode.value&&(this._observableRoomSelectMode.value=t,this.commit())}onRoomSelectModeChange(e){return this._observableRoomSelectMode.onChanged(e)}get isInAllFloorsMode(){return this.isMultifloor()&&this.currentFloorIndex===m.qE}}},29765:(e,t,i)=>{"use strict";i.d(t,{EU:()=>a,LW:()=>l,Md:()=>d,TS:()=>c,Vw:()=>s,h9:()=>r,tR:()=>o});var n=i(56063);class s extends n.m{constructor(e,t=!1,i,n){super(),this.payload={floorId:e,suppressCameraMovement:t,transitionTime:i,focusPoint:n}}}s.id="MOVETO_FLOOR";class r extends n.m{constructor(e,t=!1,i,n){super(),this.payload={floorIndex:e,suppressCameraMovement:t,transitionTime:i,focusPoint:n}}}r.id="MOVETO_FLOOR_NUMBER";class a extends n.m{constructor(e){super(),this.payload=e}}a.id="SHOW_ALL_FLOORS";class o extends n.m{}o.id="DISABLE_ALL_FLOORS_OPTION";class l extends n.m{}l.id="ENABLE_ALL_FLOORS_OPTION";class c extends n.m{}c.id="LOCK_FLOOR_NAV";class d extends n.m{}d.id="UNLOCK_FLOOR_NAV"},58340:(e,t,i)=>{"use strict";i.d(t,{cw:()=>r,eh:()=>s,qE:()=>n});const n=-1,s=-1,r=500},75921:(e,t,i)=>{"use strict";i.d(t,{I:()=>a});var n=i(38908),s=i(16824),r=i(60937);const a=(0,n.u)(r.c);(0,s.M)("floorsViewData",a)},57983:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});const n="features/floorselect"},45995:(e,t,i)=>{"use strict";i.d(t,{I:()=>s});var n=i(56063);class s extends n.m{constructor(e,t){super(),this.payload={messagePhraseKey:e,options:t}}}s.id="DEFAULT_ERROR"},53924:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var n=i(42141),s=i(42896);class r extends n.V{constructor(){super(),this.name="gui-view-data",this.collapsedAccordionGroupsObservable=(0,s.q)()}isAccordionGroupCollapsed(e){return this.collapsedAccordionGroupsObservable.get(e)}setAccordionGroupCollapsed(e,t){this.collapsedAccordionGroupsObservable.set(e,t)}getAccordionGroupCollapsedStates(){return this.collapsedAccordionGroupsObservable.deepCopy()}onAccordionCollapsedGroupsChanged(e){return this.collapsedAccordionGroupsObservable.onChanged(e)}}},13760:(e,t,i)=>{"use strict";i.d(t,{B:()=>s,r:()=>r});var n=i(56063);class s extends n.m{constructor(e,t){super(),this.payload={modal:e,open:t}}}s.id="TOGGLE_MODAL";class r extends n.m{constructor(){super()}}r.id="CLOSE_MODAL"},69757:(e,t,i)=>{"use strict";i.d(t,{o:()=>l});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(86388);function l({className:e,outerLeft:t,children:i,outerRight:r,small:l=!1}){const c=(0,s.useRef)(null);(0,o.Z)({ref:c});let d=!!t!=!!r;if(d&&c.current){const e=c.current.offsetWidth,t=l?40:55;c.current.children[1].offsetWidth+2*t+12>e&&(d=!1)}const u=a()("action-bar",e,{"fill-outer-space":d}),h=a()("action-bar-outer","action-bar-outer-left",{"action-bar-outer-large":!l}),p=a()("action-bar-outer","action-bar-outer-right",{"action-bar-outer-large":!l});return(0,n.jsx)("div",Object.assign({className:"overlay-action-bar"},{children:(0,n.jsxs)("div",Object.assign({ref:c,className:u},{children:[(0,n.jsx)("div",Object.assign({className:h},{children:t})),(0,n.jsx)("div",Object.assign({className:"action-bar-cta"},{children:i})),(0,n.jsx)("div",Object.assign({className:p},{children:r}))]}))}))}},98276:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var n=i(56063);class s extends n.m{constructor(e,t){super(),this.ids=e,this.value=t,this.payload={ids:e,value:t}}}s.id="CHANGE_PLUGIN_VISIBILITY_COMMAND"},49982:(e,t,i)=>{"use strict";i.d(t,{EW:()=>o,Rx:()=>s,Uc:()=>n});var n,s,r=i(56063);!function(e){e[e.CONFIRM=0]="CONFIRM",e[e.CLOSE=1]="CLOSE"}(n||(n={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.DISPLAY=1]="DISPLAY",e[e.UPDATE=2]="UPDATE"}(s||(s={}));const a={message:"",title:"",modalClass:"",cancellable:!0,closeButton:!0,confirmDisabled:!1};class o extends r.m{constructor(e,t){if(super(),e&&!t)throw new Error("Cannot open empty modal");this.payload={action:e,properties:Object.assign(Object.assign({},a),t)}}}o.id="CONFIRM_MODAL"},9993:(e,t,i)=>{"use strict";var n;i.d(t,{P:()=>n}),function(e){e.ADD_FROM_PHOTOS="add_from_photos",e.ATTACHMENT="attachmentViewer",e.CONFIRM="confirm",e.CTA="cta",e.DEFURNISH_AI="defunish_ai",e.HELP="help",e.HIGHLIGHT_EDITOR="highlight_editor",e.LAYER_ADD="layer_add",e.LINK_EDITOR="link_editor",e.MEASUREMENT_HELP="measurementModeHelp",e.MEDIA_EMBED_POPUP="mediaEmbedPopup",e.MODEL_VIEW_ADD="model_view_add",e.MODEL_VIEW_EDITOR="model_view_editor",e.MODEL_VIEW_DUPLICATE="model_view_duplicate",e.PHOTO_VIEWER="photo_viewer",e.RATING_THANK_YOU="rating_thank_you",e.SETTINGS="settings",e.SHARE="share",e.TERMS="terms",e.TOUR_SETTINGS="hlr_settings",e.VIEWS_INFO="views_info",e.VR_SELECT="vrSelect"}(n||(n={}))},79284:(e,t,i)=>{"use strict";i.d(t,{u:()=>a});var n=i(85893),s=i(94184),r=i.n(s);function a({children:e,className:t}){return(0,n.jsx)("div",Object.assign({className:r()("overlay-top-center",t)},{children:(0,n.jsx)("div",Object.assign({className:"overlay-info"},{children:e}))}))}},36010:(e,t,i)=>{"use strict";i.d(t,{L:()=>k});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(29707),l=i(92257),c=i(27163),d=i(34763),u=i(6704),h=i(27538),p=i(43226),m=i(20470),f=i(78897),g=i(7321),v=i(46261),y=i(80308);function E({analytic:e,children:t,className:i}){const s=(0,f.b)().t(g.Z.REUSABLES.HELP_BUTTON_TOOLTIP_MESSAGE);return(0,n.jsx)(v.P,Object.assign({icon:"help",tooltip:s,popupSize:"medium",analytic:`${e}_help_click`,className:a()("help-button",i),variant:y.Wu.TERTIARY},{children:t}))}var b=i(30939);const{EDIT_BAR:S}=g.Z.WORKSHOP;function O({tool:e}){const{helpHref:t,helpMessagePhraseKey:i}=e,s=(0,f.b)(),r=s.t(S.HELP_LINK);return(0,n.jsxs)("div",Object.assign({className:"tool-help"},{children:[i&&s.t(i),t&&(0,n.jsx)(b.r,Object.assign({href:t},{children:r}))]}))}function T({tool:e}){const{analytic:t,helpMessagePhraseKey:i}=e;return i?(0,n.jsx)(E,Object.assign({analytic:t,className:"tool-help-button"},{children:(0,n.jsx)(O,{tool:e})})):null}const _=({children:e,className:t})=>{if(!e)return null;const i=a()("panel-title",t);return(0,n.jsx)("div",Object.assign({className:i},{children:e}))};var N=i(38637);const{COLLAPSE_PANEL:w,EXPAND_PANEL:A}=g.Z.PANELS;function I(e){const{tool:t,title:i,titleNode:r,children:a,expandable:c,hideHelp:d,hideBadge:h,onTogglePanel:p}=e,m=(0,f.b)(),g=(0,u.E)(),{commandBinder:v}=(0,s.useContext)(o.I),E=!d,b=(0,s.useCallback)((()=>{v.issueCommand(new l.CH(t.id))}),[v,t]),S=(0,s.useCallback)((e=>{e&&e.stopPropagation();const t=!g;p&&p(t),v.issueCommand(new l.Fg(t))}),[v,g,p]),O=g?"dpad-up":"dpad-down",I=g?m.t(A):m.t(w);return(0,n.jsxs)("div",Object.assign({className:"panel-header",onClick:c?S:void 0},{children:[(0,n.jsxs)(_,{children:[(0,n.jsxs)("div",Object.assign({className:"panel-name"},{children:[c&&(0,n.jsx)(y.zx,{icon:O,label:i,tooltip:I,tooltipOptions:{placement:"bottom-start"},variant:y.Wu.TERTIARY,onClick:S}),!c&&i]})),t.badgePhraseKey&&!h&&(0,n.jsx)("span",Object.assign({className:"word-badge"},{children:m.t(t.badgePhraseKey)})),r||null]}),(0,n.jsxs)(y.hE,Object.assign({className:"panel-header-controls"},{children:[a,E&&(0,n.jsx)(T,{tool:t}),(0,n.jsx)(N.P,{tooltipOptions:{placement:"bottom"},onClose:b})]}))]}))}function k(e){const{closed:t,toolId:i,children:r,className:f,filmstrip:g,title:v,titleNode:y,subheader:E,hideHelp:b,hideBadge:S,footer:O,controls:T,subheaderCollapsedHeight:_}=e,{commandBinder:N}=(0,s.useContext)(o.I),w=(0,u.E)(),A=(0,h.T)(),k=(0,p.Q)(i),[P,L]=(0,s.useState)(w),[D,R]=(0,s.useState)(!1),M=(0,s.useRef)(void 0),C=(0,s.useCallback)((e=>{if(e){if(D||P)return;window.clearTimeout(M.current),R(!0),M.current=window.setTimeout((()=>{R(!1),L(!0)}),m.g)}else L(!1),window.clearTimeout(M.current)}),[R,L,D,P,M]);(0,s.useEffect)((()=>{!w&&P&&C(w)}),[C,w,P]),(0,s.useEffect)((()=>()=>{window.clearTimeout(M.current)}),[M]);const x=!!k&&!t,F=A===c.wS.BOTTOM_PANEL,U=!(P&&!D),H={closed:t,collapsed:P,collapsing:D,"filmstrip-panel":g},j=_&&(F&&P)?{height:_+m.oO}:void 0,V=E&&(_||!P),B=g||F;return(0,n.jsxs)(d.N,Object.assign({open:x,className:a()("list-panel",H,f),style:j,onKeyDown:function(e){"Escape"===e.code&&(e.stopPropagation(),N.issueCommand(new l.CH(i)))},focus:!0},{children:[k&&(0,n.jsx)(I,Object.assign({tool:k,title:v,titleNode:y,hideHelp:b,hideBadge:S,expandable:B,onTogglePanel:C},{children:T})),V&&E,U&&r,U&&O||null]}))}},71551:(e,t,i)=>{"use strict";i.d(t,{O:()=>K});var n=i(27067);const s=()=>{},r=()=>null,a=()=>!1,o=()=>Promise.reject(),l=()=>Promise.resolve(),c=()=>({}),d=()=>[],u=()=>({renew:s,cancel:s}),h={register:s,unregister:s,waitForData:o,tryGetData:r,getModuleNameFromData:()=>""},p={subscribe:u,unsubscribe:s,broadcast:s};var m=i(93752);class f extends m.B{constructor(){super(...arguments),this.addBinding=u,this.removeBinding=s,this.issueCommand=o,this.issueCommandWhenBound=o,this.hookCommand=s,this.resetHooks=s}}const g=new f;var v=i(20790),y=i(17147);const E={mask:0,addLayers:s,removeLayers:s,clone:()=>E},b=()=>E;const S={market:h,msgBus:p,commandBinder:g,generatorSpreader:new y.ZP,uniqueId:-1,diContainer:v.$2,getModuleBySymbol:o,getModuleBySymbolSync:function(){throw new Error("getModuleBySymbolSync not supported")},tryGetModuleBySymbolSync:r,addComponent:l,removeComponent:l,getComponentByType:r,getComponents:function*(){},claimRenderLayer:b,getRenderLayer:b,subscribe:u,unsubscribe:s,broadcast:s,disposeRenderLayer:s,startGenerator:s,stopGenerator:s,after:l,toggleRendering:s};const O=new class{constructor(){this.track=s,this.trackGuiEvent=s,this.trackToolGuiEvent=s}};var T=i(15777);class _ extends T.default{constructor(){super(...arguments),this.t=(e,t)=>`${e}${t&&Object.keys(t).length?JSON.stringify(t):""}`,this.T=e=>e,this.has=e=>!0}get languageCode(){return"en"}}const N=new _;var w=i(93355);const A=(0,i(60493).Q)(""),I=()=>A;class k extends w.m{constructor(){super(...arguments),this.getUserInfoByEmail=r,this.getUserInfoById=r,this.getUserDisplay=I,this.iterate=s,this.getUsersWhoMayNeedAccess=c,this.getKnownUsers=d,this.getCurrentUser=I,this.isLoggedIn=a,this.isOrgAdmin=a,this.isInviter=a,this.isEditor=a,this.isCommenter=a,this.getCurrentUserId=()=>A.id,this.onUsersChanged=u}}const P=new k(A,!1,!1);var L=i(70593),D=i(42896),R=i(59635),M=i(27163);const C={activate:l,deactivate:l},x=new R.U({id:M.w1.LABELS,namePhraseKey:"",panel:!1,panelLeft:!1,hidesAppBar:!1,icon:"",analytic:"labels",dimmed:!1,enabled:!1,manager:C,ui:{}}),F=new D.v;class U extends L.t{constructor(){super(...arguments),this.addTools=s,this.iterate=s,this.getTool=()=>x,this.removeTool=s,this.removeAllTools=s,this.setOpenAsset=s,this.onOpenAssetChanged=u,this.getActiveTool=r,this.activeToolName=null,this.previousToolName=null,this.openModal=null,this.toolChangeInProgress=!1,this.isPanelOpen=a,this.isToolCollapsedToBottom=a,this.toolPanelLayout=M.wS.NORMAL,this.softOpening=!1,this.toolCollapsed=!1}get toolsMap(){return F}get openAsset(){return null}}const H=new U;var j=i(64150);class V extends j.e{constructor(){super(...arguments),this.setProperty=s,this.setLocalStorageProperty=s,this.hasProperty=a,this.tryGetProperty=s,this.getProperty=s,this.getOverrideParam=s,this.iterate=s}}const B=new V;var G=i(44979);class W extends G.n{constructor(){super(...arguments),this.hasPolicy=a,this.getPolicy=()=>null}}const z=new W,K={editMode:!1,mainDiv:document.createElement("div"),queue:new n.gO,messageBus:p,userData:P,toolsData:H,settings:B,policyData:z,analytics:O,engine:S,market:h,commandBinder:g,locale:N,apiHost:"default"}},29707:(e,t,i)=>{"use strict";i.d(t,{I:()=>r});var n=i(67294),s=i(71551);const r=(0,n.createContext)(s.O)},38908:(e,t,i)=>{"use strict";i.d(t,{m:()=>a,u:()=>r});var n=i(67294),s=i(29707);function r(e){return()=>a(e)}function a(e){const{market:t}=(0,n.useContext)(s.I),[i,r]=(0,n.useState)(t.tryGetData(e));return(0,n.useEffect)((()=>{let n=!1;return i||t.waitForData(e).then((e=>{n||r(e)})),()=>{n=!0}}),[t,e,i]),i}},16824:(e,t,i)=>{"use strict";i.d(t,{M:()=>r});var n=i(85893),s=i(67294);function r(e,t){return i=>(0,s.forwardRef)(((s,r)=>{const a=t(),o=Object.assign(Object.assign({},s),{[e]:a});return(0,n.jsx)(i,Object.assign({},o,{ref:r}))}))}},16996:(e,t,i)=>{"use strict";i.d(t,{M:()=>r,v:()=>a});var n=i(67294),s=i(38908);function r(e,t,i){return()=>a(e,t,i)}function a(e,t,i){const r=(0,s.m)(e),[a,o]=(0,n.useState)(r?r[t]:i);return(0,n.useEffect)((()=>{if(!r)return()=>{};const e=r.onPropertyChanged(t,o);return o(r[t]),()=>{e&&e.cancel()}}),[r,t]),a}},71914:(e,t,i)=>{"use strict";i.d(t,{q:()=>u});var n=i(67294),s=i(38908),r=i(31740);const a=(0,s.u)(r.Z);var o=i(79970),l=i(80366),c=i(87549);function d(e,t){return!(!e||!t)&&(e.isInside()&&t.isSweepUnaligned(t.currentSweep))}function u(){const e=a(),t=(0,o.s)(),[i,s]=(0,n.useState)(d(t||void 0,e||void 0));function r(){e&&t&&s(d(t,e))}return(0,l.U)(c.Z,r),(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.makeSweepChangeSubscription(r);return r(),()=>t.cancel()}),[e]),i}},80366:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});var n=i(67294),s=i(29707);function r(e,t){const{messageBus:i}=(0,n.useContext)(s.I);(0,n.useEffect)((()=>{const n=i.subscribe(e,t);return()=>n.cancel()}),[i,e,t])}},49474:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var n=i(67294);function s(e){const[t,i]=(0,n.useState)(e.value);return(0,n.useEffect)((()=>{const t=e.onChanged(i);return i(e.value),()=>t.cancel()}),[e]),t}},77963:(e,t,i)=>{"use strict";i.d(t,{y:()=>r});var n=i(67294),s=i(29707);function r(e,t){const{settings:i}=(0,n.useContext)(s.I),[r,a]=(0,n.useState)(i.tryGetProperty(e,t));return(0,n.useEffect)((()=>{if(!i)return a(t),()=>{};const n=()=>{a(i.tryGetProperty(e,t))},s=i.onPropertyChanged(e,n);return n(),()=>null==s?void 0:s.cancel()}),[i,e,t]),r}},71392:(e,t,i)=>{"use strict";i.d(t,{O:()=>a});var n=i(66379),s=i(77963),r=i(65919);function a(){return(0,s.y)(n.F.UnitType,r.M.METRIC)}},43968:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>N});var n=i(933),s=i(4763),r=i(67294),a=i(20745),o=i(71551),l=i(29707),c=i(85893),d=i(45995),u=i(94184),h=i.n(u),p=i(53257),m=i(8126);class f extends m.v0{constructor(e){super(),this.open=e}}var g=i(38637),v=i(1795);const y=new p.Z("alert-notification");class E extends r.Component{constructor(e){super(e),this.throttledMessages=new Map,this.onClose=()=>{clearTimeout(this.alertTimer),this.setState({open:!1})},this.state={open:!1}}componentDidMount(){this.update()}componentWillUnmount(){this.state.open&&this.props.messageBus.broadcast(new f(!1))}UNSAFE_componentWillReceiveProps(e){this.update(e)}componentDidUpdate(e,t){this.state.open!==t.open&&this.props.messageBus.broadcast(new f(this.state.open))}update(e=this.props){const{show:t,timeout:i,message:n,throttle:s,type:r}=e,{analytics:a}=this.context;if(t){if(s>0){if(this.throttledMessages.has(n)&&this.throttledMessages.get(n)>Date.now())return void y.debug(`Suppressed alert dialog due to message throttling: ${n}`);this.throttledMessages.set(n,Date.now()+1e3*s)}clearTimeout(this.alertTimer),this.setState({open:!0}),i>0&&(this.alertTimer=window.setTimeout(this.onClose,1e3*i)),a&&a.track("alert_gui",{alert_action:"show",alert_type:r,alert_message:n})}}render(){const{title:e,message:t,type:i}=this.props,{open:n}=this.state,s={active:n,[`notification-${i}`]:!0};return(0,c.jsxs)("aside",Object.assign({className:h()("alert-notification",s)},{children:[(0,c.jsxs)("div",Object.assign({className:"notification-body"},{children:[e&&(0,c.jsx)("h3",Object.assign({className:"notification-title"},{children:e})),(0,c.jsx)("p",Object.assign({className:"notification-text"},{children:t}))]})),n&&(0,c.jsx)(g.P,{theme:"dark",tooltip:"",onClose:this.onClose})]}))}}E.contextType=l.I,E.defaultProps={type:v.N.INFO,show:!1,timeout:10,throttle:0};var b=i(26616);class S extends r.Component{constructor(e){super(e),this.bindings=[],this.state={guiError:!1,errorMessagePhraseKey:""}}componentDidMount(){const{commandBinder:e}=this.context;this.bindings.push(e.addBinding(d.I,(async e=>{this.showErrorMessage(e.messagePhraseKey,e.options)})))}componentWillUnmount(){this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}componentDidUpdate(e,t){const{guiError:i}=this.state;i&&this.setState({guiError:!1})}showErrorMessage(e,t){this.setState({guiError:!0,errorMessagePhraseKey:e,errorOptions:t})}render(){const{messageBus:e,locale:t}=this.context,{guiError:i,errorMessagePhraseKey:n,errorOptions:s}=this.state;let r=n&&t.t(n);const{error:a}=s||{};return a&&(0,b.bh)(a)&&(r=`${r} (${a.code})`),(0,c.jsx)(E,Object.assign({messageBus:e,show:i,message:r},s))}}S.contextType=l.I;var O=i(64150),T=i(93355),_=i(53924);class N extends n.Y{constructor(){super(...arguments),this.name="gui",this.workshopApp=!1,this.onAppReadyChanged=(e,t)=>{this.workshopApp&&(t&&e?this.mainDiv.classList.add("edit-mode"):this.mainDiv.classList.remove("edit-mode"))}}async init(e,t){this.workshopApp=e.workshopApp,this.mainDiv=e.mainDiv,this.container=e.container,this.reactContainer=e.reactContainer,this.queue=e.queue,this.engine=t,this.messageBus=t,this.market=t.market,this.commandBinder=t.commandBinder;const i=t.getModuleBySymbol(s.e9),n=t.getModuleBySymbol(s.nI),r=t.market.waitForData(T.m),a=t.market.waitForData(O.e);this.apiHost=e.apiHost,this.mainArgs=await Promise.all([i,n,a,r]),this.loadErrorBar(this.mainArgs),this.guiViewData=new _.v,this.market.register(this,_.v,this.guiViewData)}async loadUi(e){let t=[];return t=t.concat(this.mainArgs),t=t.concat([this.mainDiv,this.reactContainer,this.engine,this.messageBus,this.market,this.commandBinder,this.onAppReadyChanged,this.queue,this.apiHost]),e.apply(this,t)}loadErrorBar(e){const{dispose:t}=((e,t,i,n,s,c,d)=>{const u=document.createElement("div");u.className="error-bar",n.insertBefore(u,n.firstElementChild);const h=Object.assign(Object.assign({},o.O),{messageBus:e,commandBinder:t,market:i,analytics:s,settings:c,locale:d}),p=(0,a.createRoot)(u);return p.render((0,r.createElement)(l.I.Provider,{value:h},[(0,r.createElement)(S,{key:"error-bar"})])),{dispose:()=>{p.unmount(),u.remove()}}})(this.engine,this.commandBinder,this.market,this.container,e[1],e[2],e[0]);this.bindings.push({renew:()=>{},cancel:t})}}},17545:(e,t,i)=>{"use strict";i.d(t,{SN:()=>o,Z_:()=>r,bN:()=>a,nV:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.modal=e,this.open=t}}class r extends n.v0{constructor(e){super(),this.isOpen=e}}class a extends n.v0{constructor(e){super(),this.suppress=e}}class o extends n.v0{constructor(e,t){super(),this.textElement=e,this.focused=t}}},72439:(e,t,i)=>{"use strict";i.d(t,{H:()=>u,d:()=>n});var n,s=i(85893),r=i(67294),a=i(94184),o=i.n(a),l=i(80308),c=i(51775),d=(i(94238),function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i});!function(e){e.ADD="plus",e.CANCEL="cancel",e.CONFIRM="checkmark"}(n||(n={}));const u=(0,r.forwardRef)(((e,t)=>{var{addIcon:i,className:a}=e,u=d(e,["addIcon","className"]);const h=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(()=>({dismissNudge:()=>{h.current&&h.current.dismissNudge()}})),[]);const p=i===n.CANCEL,m=p?n.ADD:i,f=o()("add-button",a,{"add-cancel":p});return(0,s.jsx)(c.L,Object.assign({},u,{ref:h,className:f,variant:l.Wu.FAB,icon:m,theme:"dark",featured:!0}))}))},37649:(e,t,i)=>{"use strict";i.d(t,{W:()=>O});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(29707),l=i(7321),c=i(78897),d=i(77963),u=i(56966),h=i(35575),p=i(7254),m=i(15187),f=i(18131),g=i(82441),v=i(80308);function y({layer:e,active:t,onClick:i}){const{id:s}=e,r=(0,m.K)(),a=(0,f.W)(s,r),o=t?"checkmark":void 0;return(0,n.jsx)(v.zx,{className:"layer-item",label:a,icon:o,active:t,variant:v.Wu.TERTIARY,size:v.qE.SMALL,onClick:()=>{i(s)}})}var E=i(72439),b=(i(94238),function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i});const{LAYERS:S}=l.Z.WORKSHOP,O=(0,s.forwardRef)(((e,t)=>{var{allowLayerChange:i,onChangeLayer:r}=e,l=b(e,["allowLayerChange","onChangeLayer"]);const O=(0,s.useRef)(null),T=(0,s.useRef)(null),_=(0,d.y)(u.Wp,!1),{editMode:N,commandBinder:w}=(0,s.useContext)(o.I),A=(0,p.LP)(),I=(0,m.K)(),k=(0,f.W)(null==A?void 0:A.id,I),P=(0,g.Y)(),L=(0,p.LP)(),D=(0,c.b)();(0,s.useImperativeHandle)(t,(()=>({dismissNudge:()=>{O.current&&O.current.dismissNudge()}})),[]);const R=(0,n.jsx)(E.H,Object.assign({ref:O},l));if(!_||!N||P.length<2)return R;const M=e=>{e!==(null==A?void 0:A.id)&&(w.issueCommand(new h.cq(e,!0)),r&&r(e))},C=A?k:D.t(S.UNLAYERED_LAYER_LABEL),x=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",Object.assign({className:"button-menu-label"},{children:D.t(S.LAYER_ADDING_TO_LABEL)})),(0,n.jsx)("div",Object.assign({className:"active-layer-name"},{children:C}))]}),F=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",Object.assign({className:"menu-title",onClick:e=>e.stopPropagation()},{children:D.t(S.LAYER_ADDING_TO_CHOICE_LABEL)})),(0,n.jsx)(v.zx,{icon:"close",variant:v.Wu.TERTIARY,size:v.qE.SMALL,onClick:()=>{T.current&&T.current.closeMenu()}})]});return(0,n.jsxs)("div",Object.assign({className:a()("layered-add-button",{"with-layer-menu":i})},{children:[R,(0,n.jsxs)(v.xz,Object.assign({ref:T,label:x,className:"add-menu-button",menuClassName:"add-button-layer-menu",menuPlacement:"top",variant:v.Wu.FAB,size:v.qE.SMALL,theme:"dark",caret:!0},{children:[F,P.map((e=>{const{id:t}=e,i=(null==L?void 0:L.id)===t;return(0,n.jsx)(y,{layer:e,onClick:M,active:i},t)}))]}))]}))}))},1795:(e,t,i)=>{"use strict";var n;i.d(t,{N:()=>n}),function(e){e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(n||(n={}))},37617:(e,t,i)=>{"use strict";i.d(t,{C:()=>n,X:()=>u});var n,s=i(85893),r=i(67294),a=i(94184),o=i.n(a),l=i(38772),c=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.FILTER=1]="FILTER"}(n||(n={}));let u=class extends r.Component{constructor(e){super(e),this.onChange=e=>{this.props.stopPropagation&&e.stopPropagation(),this.setState((e=>({checkedValue:!e.checkedValue})),(()=>{this.props.onChange&&this.props.onChange(this.checkboxElement,...this.props.onChangeArgs||[])}))},this.setCheckboxRef=e=>{this.checkboxElement=e},this.state={checkedValue:e.checked}}UNSAFE_componentWillReceiveProps(e){this.setState({checkedValue:e.checked})}render(){const{checkboxStyle:e=n.DEFAULT,className:t,dataValue:i,enabled:r,error:a,helpText:l,id:c,label:d}=this.props,{checkedValue:u}=this.state,h=!r;return(0,s.jsxs)("div",Object.assign({ref:this.setCheckboxRef,id:c,role:"checkbox","aria-checked":u?"true":"false","aria-disabled":h,"data-value":i,className:o()("checkbox-element",`checkbox-style-${n[e].toLowerCase()}`,{checked:u,disabled:h,error:a},t),onClick:this.onChange,tabIndex:0},{children:[e!==n.FILTER&&(0,s.jsx)("div",{className:"checkbox icon-checkmark"}),(0,s.jsx)("div",Object.assign({className:"checkbox-text"},{children:d})),l&&(0,s.jsx)("span",Object.assign({className:"help-text"},{children:l}))]}))}};u.defaultProps={enabled:!0,error:!1},u=c([l.Z,d("design:paramtypes",[Object])],u)},15811:(e,t,i)=>{"use strict";i.d(t,{$:()=>h});var n,s=i(85893),r=i(67294),a=i(94184),o=i.n(a),l=i(38772),c=i(96783),d=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let h=n=class extends r.Component{constructor(e){super(e),this.strokePattern=[0,100],this.strokeOffset=0,this.innerRadius=15.92,this.strokeWidth=1,this.drawRadius=this.innerRadius+this.strokeWidth/2,this.updateSvgAttributes(e),this.elementId=this.props.id||"circle-progress-"+n.id++}UNSAFE_componentWillReceiveProps(e){this.updateSvgAttributes(e)}updateSvgAttributes(e){this.strokeWidth=e.barWidth||this.strokeWidth,this.innerRadius=e.innerRadius||this.innerRadius,this.drawRadius=this.innerRadius+this.strokeWidth/2;const t=2*this.drawRadius*Math.PI;this.strokeOffset=t*(e.startPosition||this.strokeOffset),this.strokePattern[0]=t*(0,c.uZ)(e.progress,0,100)/100,this.strokePattern[1]=t-this.strokePattern[0]}render(){const{progressColor:e}=this.props,t=2*(this.innerRadius+this.strokeWidth),i=t/2;return(0,s.jsxs)("svg",Object.assign({id:this.elementId,className:o()("circular-progress",this.props.className),viewBox:`${-i} ${-i} ${t} ${t}`},{children:[(0,s.jsx)("circle",{className:"bar-bg",cx:"0",cy:"0",r:this.drawRadius,transform:"rotate(-90) "+(this.props.ccw?"scale(-1 1)":""),strokeDasharray:`${this.strokePattern[1]} ${this.strokePattern[0]}`,strokeDashoffset:this.strokeOffset-this.strokePattern[0],strokeWidth:this.strokeWidth,fill:"none"}),(0,s.jsx)("circle",{className:e?void 0:"progress",cx:"0",cy:"0",r:this.drawRadius,transform:"rotate(-90) "+(this.props.ccw?"scale(-1 1)":""),strokeDasharray:`${this.strokePattern[0]} ${this.strokePattern[1]}`,strokeWidth:this.strokeWidth,stroke:e,fill:"none"}),this.props.children]}))}};h.id=0,h=n=d([l.Z,u("design:paramtypes",[Object])],h)},53972:(e,t,i)=>{"use strict";i.d(t,{X:()=>o});var n=i(85893),s=i(94184),r=i.n(s),a=i(67294);function o({resource:e,className:t,children:i,onClick:s}){const[o]=function(e){var t;const[i,n]=(0,a.useState)(e.getCurrentValue()),[s,r]=(0,a.useState)(null===(t=e.validUntil)||void 0===t?void 0:t.getTime()),o=!!s&&s-Date.now()<=0;return(0,a.useEffect)((()=>{if(void 0===s)return()=>{};let t=!1;const i=s-Date.now(),a=()=>{e.get().then((i=>{var s;t||(n(i),r(null===(s=e.validUntil)||void 0===s?void 0:s.getTime()))}))};if(i<=0)return a(),()=>t=!0;const o=window.setTimeout(a,i);return()=>{t=!0,window.clearTimeout(o)}}),[e,s]),(0,a.useEffect)((()=>{n(e.getCurrentValue())}),[e]),[i,o]}(e),l=o?{backgroundImage:`url('${o}')`}:{};return(0,n.jsx)("div",Object.assign({className:r()(t),style:l,onClick:s},{children:i}))}},68738:(e,t,i)=>{"use strict";i.d(t,{Dd:()=>a,hU:()=>g,rm:()=>r,wr:()=>s});var n,s,r,a,o=i(85893),l=i(67294),c=i(94184),d=i.n(c),u=i(38772),h=i(61173),p=i(29707),m=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.ENABLED="enabled",e.DISABLED="disabled",e.DECORATIVE="decorative",e.DIMMED="dimmed",e.ACTIVE="active",e.BUSY="busy"}(s||(s={})),function(e){e[e.STANDARD=0]="STANDARD",e[e.MINI=1]="MINI",e[e.SMALL=2]="SMALL",e[e.LARGE=3]="LARGE"}(r||(r={})),function(e){e.CLEAR="clear",e.PLAIN="plain",e.OVERLAY="overlay",e.PRIMARY="primary",e.SOCIAL="social",e.TOOLBAR="toolbar"}(a||(a={}));let g=n=class extends l.Component{constructor(e){super(e),this.onClick=e=>{const t=this.props.buttonState;t!==s.BUSY&&t!==s.DISABLED&&this.props.onClick&&this.props.onClick(e)},this.onMouseDown=e=>{const{onMouseDown:t,onClick:i,buttonState:r}=this.props;if(t)t(e);else if(n.iMobile&&i&&r!==s.BUSY&&r!==s.DISABLED){const t=this.context.mainDiv.getRootNode().activeElement;t&&e.cancelable&&(t.blur(),e.preventDefault())}}}render(){const{ariaLabel:e,breakoutTooltip:t,buttonSize:i,buttonState:n,buttonStyle:l,children:c,className:u,dataValue:h,iconClass:p,id:m,onClick:f,onMouseUp:g,tooltipMsg:v,tooltipPersist:y,tooltipPreformatted:E}=this.props,b=n===s.DISABLED,S=n===s.BUSY,O=n===s.DECORATIVE,T=!b&&!S&&!O,_=v?!!E:void 0,N={"button-small":i===r.SMALL,"button-large":i===r.LARGE,"button-disabled":b,"button-dimmed":n===s.DIMMED,"button-active":n===s.ACTIVE,"button-busy":S,"button-interactive":T,"icon-button-primary":l===a.PRIMARY,"icon-button-overlay":l===a.OVERLAY,"icon-button-plain":l===a.PLAIN,"icon-button-social":l===a.SOCIAL,"icon-button-toolbar":l===a.TOOLBAR,"icon-button-breakout-tooltip":t},w={id:m,role:"button","aria-label":e||v,"aria-disabled":b,"data-value":h,className:d()("icon-button",N,u),onClick:f?this.onClick:void 0,onMouseUp:g,onMouseDown:this.onMouseDown},A={"data-balloon-pre":_,"data-balloon-persist":y};return t||Object.assign(w,A),(0,o.jsxs)("div",Object.assign({},w,{children:[t&&(0,o.jsx)("div",Object.assign({className:"icon-button-breakout-tooltip-container"},{children:(0,o.jsx)("div",Object.assign({className:"icon-button-breakout-tooltip-trigger"},A))})),p&&(0,o.jsx)("span",{className:`icon ${p}`}),c]}))}};g.contextType=p.I,g.iMobile=(0,h.Tt)()||(0,h._1)(),g=n=m([u.Z,f("design:paramtypes",[Object])],g)},30939:(e,t,i)=>{"use strict";i.d(t,{r:()=>o});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r);class o extends s.Component{render(){const{className:e,href:t,children:i,onClick:s}=this.props;return(0,n.jsx)("a",Object.assign({className:a()("link",{className:e}),href:t,target:"_blank",onClick:s},{children:i}))}}},77006:(e,t,i)=>{"use strict";i.d(t,{B:()=>o});var n=i(85893),s=i(67294),r=i(61173),a=i(15811);function o({progress:e,screenPosition:t}){if(!(0,s.useMemo)((()=>(0,r.Jm)()),[])||!t||0===e)return null;const i={left:t.x-66+"px",top:t.y-66+"px"};return(0,n.jsx)("div",Object.assign({className:"point-button-wrapper",style:i},{children:(0,n.jsx)(a.$,Object.assign({progress:100*e,innerRadius:132,barWidth:8},{children:(0,n.jsx)("circle",{className:"point",cx:"0",cy:"0",r:"22",transform:"rotate(-90)",fill:"#fff"})}))}))}},51775:(e,t,i)=>{"use strict";i.d(t,{L:()=>g});var n=i(67294),s=i(85893),r=i(94184),a=i.n(r),o=i(49627),l=i(29707),c=i(77963),d=i(80308),u=i(38637);function h({title:e,message:t,children:i,closeButton:n=!1,className:r,onClose:o}){return(0,s.jsxs)("div",Object.assign({className:a()("nudge",r)},{children:[(0,s.jsxs)("div",Object.assign({className:a()("nudge-header",{"nudge-with-title":!!e})},{children:[e&&(0,s.jsx)("div",Object.assign({className:"nudge-title"},{children:e})),n&&(0,s.jsx)(u.P,{className:"nudge-close-button",size:d.qE.SMALL,onClose:o})]})),t&&(0,s.jsx)("div",Object.assign({className:a()("nudge-message",{"nudge-message-with-title":e})},{children:t})),i]}))}var p=i(44558),m=i(24938),f=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const g=(0,n.forwardRef)(((e,t)=>{var{className:i,tooltip:r,children:u,onClick:g,closeButton:v,nudgeTitle:y,nudgeMessage:E,nudgeSize:b="medium",nudgeDisabled:S=!1,showTimeout:O=5e3,dismissTimeout:T=5e3,nudgeFeatureKey:_="",nudgeLocalStorage:N="",nudgeSessionKey:w="",onNudgeDismissed:A,featured:I=!1,tooltipOptions:k={}}=e,P=f(e,["className","tooltip","children","onClick","closeButton","nudgeTitle","nudgeMessage","nudgeSize","nudgeDisabled","showTimeout","dismissTimeout","nudgeFeatureKey","nudgeLocalStorage","nudgeSessionKey","onNudgeDismissed","featured","tooltipOptions"]);const{settings:L}=(0,n.useContext)(l.I),[D,R]=(0,n.useState)(!1),[M,C]=(0,o._)(N,!1),x=(0,c.y)(w,!1),F=(0,c.y)(_,!1),U=(0,n.useRef)(0),H=(0,n.useRef)(0),j=!(!y&&!E),V=(0,n.useCallback)((()=>{if(!j||D||S)return!1;return(!_||F)&&!(!!N&&M)&&!(!!w&&x)}),[j,D,S,_,F,N,M,w,x]),[B,G]=(0,o.h4)(),W=(0,p.W)(),z=(0,n.useCallback)((()=>{window.clearTimeout(U.current),U.current=0,window.clearTimeout(H.current),H.current=0}),[]),K=(0,n.useCallback)((()=>{z(),D&&(N&&C(!0),w&&L.setProperty(w,!0),A&&A(),R(!1))}),[z,D,N,w,A,C,L]),Y=(0,n.useCallback)((()=>{if(!j)return;const e=U.current||H.current;V()&&!e&&(U.current=window.setTimeout((()=>{U.current=0,V()&&R(!0)}),O))}),[O,j,V]);(0,n.useImperativeHandle)(t,(()=>({dismissNudge:()=>{K()}})),[K]),(0,n.useEffect)((()=>(S||W!==m.nh.PLAYING||0===G.height||0===G.width?z():Y(),()=>{z()})),[S,G,Y,z,W]),(0,n.useEffect)((()=>(D&&(H.current=window.setTimeout(K,T)),()=>{z()})),[D,K,T,z]);let q;if(j){const e=void 0!==v?v:!!y;q=(0,s.jsx)(h,{title:y,message:E,closeButton:e,className:I?"nudge-featured":void 0})}const $=D?q:r,Z=D?"static":"hover",Q=Object.assign(Object.assign({},k),{trigger:Z,onToggle:e=>{j&&(e||K())},theme:D?"light":"dark",size:D?b:"small",className:"nudge-button-tooltip"}),X=a()("nudge-button",i);return(0,n.createElement)(d.zx,Object.assign({},P,{key:`nudge-button-${r}`,onClick:e=>{K(),g&&g(e)},className:X,tooltip:$,tooltipOptions:Q,ref:B}),u)}))},15290:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(91033),l=i(7321),c=i(96783),d=i(15162),u=i(3989),h=i(88294),p=i(65703),m=i(84171),f=i(86743),g=i(80308),v=i(29707);class y extends s.Component{constructor(e,t){super(e,t),this.outerWrapperRef=(0,s.createRef)(),this.innerWrapperRef=(0,s.createRef)(),this.contentContainerRef=(0,s.createRef)(),this.dragStartScroll=0,this.listening=!1,this.animation=null,this.handlingPaused=!1,this.isDragging=!1,this.isUnmounting=!1,this.handleEvent=e=>{"mousedown"!==e.type&&"pointerdown"!==e.type&&"touchstart"!==e.type||(this.handlingPaused=!1),this.props.suppressDrag||this.handlingPaused||this.inputFilter.handleEvent(e)},this.getScrolledOffset=()=>{if(!this.innerWrapperRef.current||0===this.state.contentSize)return 0;const e=this.props.direction===u.Nm.vertical?"scrollTop":"scrollLeft";return this.innerWrapperRef.current[e]/this.state.contentSize},this.getScrollableContainer=()=>this.innerWrapperRef.current||void 0,this.pauseScrollHandling=()=>{this.handlingPaused=!0,this.toggleDownEventListening(!1)},this.scrollWithScrollBar=e=>{if(!this.props.suppressDrag){const t=this.getAxis();e.hasOwnProperty(t)&&this.scrollTo(e[t])}},this.scrollTo=e=>{void 0===e||isNaN(e)||(this.setScrollPosition(Math.max(Math.min(1,e)*this.state.contentSize,0)),this.setState({scrollOffset:this.getScrollPosition()}))},this.handleDragStart=()=>{this.setState({scrollCenter:null}),this.isDragging=!0},this.handlePressStart=()=>{this.dragStartScroll=this.getScrollPosition()},this.handlePressMove=e=>{if(!this.props.suppressDrag){const t=(e[this.getAxis()]+this.dragStartScroll)/this.state.contentSize;this.scrollTo(t)}},this.handleWheelEvent=e=>{if(this.props.suppressDrag)return void e.preventDefault();this.props.direction===u.Nm.horizontal&&0===e.deltaX&&0!==e.deltaY?(this.handlePressStart(),this.handlePressMove({x:e.deltaY,y:0})):(this.setState({scrollCenter:null}),this.handleExternalChange())},this.handleClick=e=>{this.props.handleClick&&this.props.handleClick(e)},this.handleDragEnd=(e,t)=>{this.isDragging=!1;const i=e[this.getAxis()]/t,n=Math.min(u.UI,Math.abs(u.UI*i)),s=this.getScrollPosition(),r=i*n/2;this.animation=new p.Z({duration:n,startValue:s/this.state.contentSize,endValue:Math.max(0,Math.min((s+r)/this.state.contentSize,1)),easingFunction:f.hl})},this.handleResize=()=>{!this.isUnmounting&&this.innerWrapperRef.current&&this.contentContainerRef.current&&this.state.scrollCenter&&this.scrollToElement(this.state.scrollCenter)},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.onManualScroll=()=>{this.props.onScrolled&&this.props.onScrolled()},this.onButtonScroll=e=>{if(this.contentContainerRef.current&&this.props.steps){const t=this.props.direction===u.Nm.vertical?"offsetHeight":"offsetWidth",i=this.contentContainerRef.current[t]/this.props.steps,n=this.getScrollPosition();let s;s=e?(n+i)/this.state.contentSize:(n-i)/this.state.contentSize,this.scrollTo((0,c.uZ)(s,0,1))}},this.onScrollBack=()=>{this.onButtonScroll(!1)},this.onScrollForward=()=>{this.onButtonScroll(!0)},this.onHoldScrollBack=()=>{this.mouseInterval=window.setInterval(this.onScrollBack,300)},this.onHoldScrollForward=()=>{this.mouseInterval=window.setInterval(this.onScrollForward,300)},this.onScrollButtonUp=()=>{window.clearInterval(this.mouseInterval)},this.renderScrollBackButton=()=>{const e=this.getScrollPosition(),t=this.props.direction===u.Nm.vertical?"dpad-up":"dpad-left",i=this.context.locale.t(l.Z.SCROLLING.SCROLL_BUTTON_LABEL),s=0===e;return(0,n.jsx)(g.zx,{className:a()("scroll-button","scroll-back"),icon:t,ariaLabel:i,variant:g.Wu.TERTIARY,theme:"dark",disabled:s,onClick:this.onScrollBack,onPointerDown:this.onHoldScrollBack,onPointerUp:this.onScrollButtonUp})},this.renderScrollForwardButton=()=>{const e=this.contentContainerRef.current,t=this.innerWrapperRef.current;if(!e||!t)return null;const i=this.getScrollPosition(),s=this.props.direction===u.Nm.vertical?"offsetHeight":"offsetWidth",r=this.props.direction===u.Nm.vertical?"dpad-down":"dpad-right",o=this.context.locale.t(l.Z.SCROLLING.SCROLL_BUTTON_LABEL),c=e[s]-t[s]-i<=0;return(0,n.jsx)(g.zx,{className:a()("scroll-button","scroll-forward"),icon:r,ariaLabel:o,variant:g.Wu.TERTIARY,theme:"dark",disabled:c,onClick:this.onScrollForward,onPointerDown:this.onHoldScrollForward,onPointerUp:this.onScrollButtonUp})},this.state={scrollCenter:null,scrollOffset:0,innerSize:0,contentSize:0},this.resizeObserver=new o.Z(this.handleResize),this.inputFilter=new m.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd,handleClick:this.handleClick})}componentDidMount(){this.outerWrapperRef.current&&this.resizeObserver.observe(this.outerWrapperRef.current),this.props.thumbScrollingOnly?this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("click",this.handleClick):this.toggleDownEventListening(!0),this.toggleDragHandling(!0),this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("wheel",this.handleWheelEvent),this.inputFilter.setEnabled(!this.props.suppressDrag),this.handleExternalChange(!0)}componentWillUnmount(){this.isUnmounting=!0,this.resizeObserver.disconnect(),this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("wheel",this.handleWheelEvent),this.toggleDragHandling(!1),this.props.thumbScrollingOnly?this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("click",this.handleClick):this.toggleDownEventListening(!1)}UNSAFE_componentWillReceiveProps(e){e.thumbScrollingOnly&&!this.props.thumbScrollingOnly?(this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("click",this.handleClick),this.toggleDownEventListening(!1)):!e.thumbScrollingOnly&&this.props.thumbScrollingOnly&&(this.toggleDownEventListening(!0),this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("click",this.handleClick)),e.suppressDrag!==this.props.suppressDrag&&this.inputFilter.setEnabled(!e.suppressDrag)}componentDidUpdate(e,t){this.props.waitToUpdate||this.handleExternalChange();const i=this.animation;if(i)if(i.isAnimating){const e=i.getUpdatedValue();window.requestAnimationFrame((()=>{this.innerWrapperRef.current&&this.scrollTo(e)}))}else this.animation=null;t.scrollOffset!==this.state.scrollOffset&&this.props.onScrolled&&this.props.onScrolled()}toggleDownEventListening(e){const t=this.handleEvent;this.innerWrapperRef.current&&(e?window.PointerEvent?this.innerWrapperRef.current.addEventListener("pointerdown",t):(this.innerWrapperRef.current.addEventListener("mousedown",t),this.innerWrapperRef.current.addEventListener("touchstart",t)):window.PointerEvent?this.innerWrapperRef.current.removeEventListener("pointerdown",t):(this.innerWrapperRef.current.removeEventListener("mousedown",t),this.innerWrapperRef.current.removeEventListener("touchstart",t)))}toggleDragHandling(e){const t=this.handleEvent;!this.listening&&e?(this.listening=!0,window.PointerEvent?(window.addEventListener("pointermove",t),window.addEventListener("pointerup",t)):(window.addEventListener("mousemove",t),window.addEventListener("mouseleave",t),window.addEventListener("mouseup",t),window.addEventListener("touchmove",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t))):this.listening&&!e&&(this.listening=!1,window.PointerEvent?(window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",t)):(window.removeEventListener("mousemove",t),window.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",t),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t)))}getScrollPosition(){if(!this.innerWrapperRef.current)return 0;const e=this.props.direction===u.Nm.vertical?"scrollTop":"scrollLeft";return this.innerWrapperRef.current[e]}setScrollPosition(e){if(!this.innerWrapperRef.current)return;const t=this.props.direction===u.Nm.vertical?"scrollTop":"scrollLeft";this.innerWrapperRef.current[t]=e}getAxis(){return this.props.direction===u.Nm.vertical?"y":"x"}scrollToPercentage(e,t){this.animation=new p.Z({duration:t,startValue:this.getScrolledOffset(),endValue:Math.max(0,Math.min(1,e))})}scrollToElement(e){const t=this.innerWrapperRef.current,i=this.outerWrapperRef.current;if(!e||!t||!i)return;if(!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINS))return;const n=this.props.direction===u.Nm.vertical;this.setState({scrollCenter:e});const s=n?"offsetTop":"offsetLeft",r=n?"offsetHeight":"offsetWidth";let a=e[s]+e[r]/2,o=e;for(;o.parentElement&&o!==t;)o=o.parentElement,a+=o[s];const l=(a-i.parentElement[r]/2)/this.state.contentSize;this.animation=new p.Z({duration:u.UI,startValue:this.getScrollPosition()/this.state.contentSize,endValue:Math.max(0,Math.min(1,l))})}handleExternalChange(e){if(this.isUnmounting||!this.innerWrapperRef.current||!this.contentContainerRef.current)return;const t=this.props.direction===u.Nm.vertical?"clientHeight":"clientWidth",i={innerSize:Number(this.innerWrapperRef.current&&this.innerWrapperRef.current[t])||1,contentSize:Number(this.contentContainerRef.current&&this.contentContainerRef.current[t])||1,scrollOffset:this.innerWrapperRef.current&&this.getScrollPosition()};(0,d.g)(this.state,i)&&(e?this.setState(i):this.debouncedSetState(i))}needScrolling(){if(!this.contentContainerRef.current||!this.outerWrapperRef.current)return!1;const e=this.props.direction===u.Nm.vertical?"offsetHeight":"offsetWidth";return this.contentContainerRef.current[e]>this.outerWrapperRef.current[e]}render(){const{hideScrollbar:e,children:t,onScrollableChanged:i,scrollButtons:s,steps:r,onScrollPositionChange:o,direction:l,className:c}=this.props,{innerSize:d,contentSize:u,scrollOffset:p}=this.state,m=s&&!!r&&this.needScrolling();return(0,n.jsxs)("div",Object.assign({className:a()("outerScrollbarWrapper",[l],[c],{"button-scrolling":m}),ref:this.outerWrapperRef},{children:[m&&this.renderScrollBackButton(),(0,n.jsx)("div",Object.assign({className:"innerScrollbarWrapper",ref:this.innerWrapperRef},{children:(0,n.jsx)("div",Object.assign({className:"paddingScrollbarWrapper",ref:this.contentContainerRef},{children:t}))})),(0,n.jsx)(h.L,{direction:l,wrapperLength:d,childLength:u,scrollOffset:p,scrollTo:this.scrollWithScrollBar,forceHidden:!!e,onVisibilityChange:i,onScrollPositionChange:o,onThumbDrag:this.onManualScroll}),m&&this.renderScrollForwardButton()]}))}}y.contextType=v.I},8334:(e,t,i)=>{"use strict";i.d(t,{L:()=>s,Q:()=>r});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload=e}}s.id="SHOW_TOASTR";class r extends n.m{}r.id="HIDE_TOASTR"},46261:(e,t,i)=>{"use strict";i.d(t,{P:()=>u});var n=i(67294),s=i(61173),r=i(29707),a=i(17106),o=i(27538),l=i(80308),c=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const d=(0,s.Jm)();function u(e){const{ariaLabel:t,tooltip:i,tooltipPlacement:s="bottom",preventOverflow:u,analytic:h,children:p,popupSize:m,onOpenPopup:f}=e,g=c(e,["ariaLabel","tooltip","tooltipPlacement","preventOverflow","analytic","children","popupSize","onOpenPopup"]),{analytics:v}=(0,n.useContext)(r.I),[y,E]=(0,n.useState)(!1),b=(0,a.e)(),S=(0,o.T)();(0,n.useEffect)((()=>{y&&E(!1)}),[S]);const O=!(!y||!p),T=d||O?"static":"hover";let _;O?_=p:d&&!y||(_=i);const N={placement:s,preventOverflow:O?u:void 0,onToggle:e=>{e||E(e)},trigger:T,theme:O?"light":"dark",size:O?m:"small"},w=`button-tooltip-${i}-${T}`,A=t||g.label||i;return(0,n.createElement)(l.zx,Object.assign({},g,{key:w,ariaLabel:A,onClick:e=>{e.stopPropagation(),y||(h&&v.trackGuiEvent(h,{tool:b}),f&&f()),E(!y)},tooltip:_,tooltipOptions:N}))}},34763:(e,t,i)=>{"use strict";i.d(t,{N:()=>u});var n,s=i(85893),r=i(67294),a=i(94184),o=i.n(a),l=i(38772),c=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.OPEN="open",e.UNLOADING="unloading",e.CLOSED="closed"}(n||(n={}));let u=class extends r.Component{constructor(e){super(e),this.ref=(0,r.createRef)(),this.closeTimeout=0,this.onTransitionCancel=e=>{e.target===e.currentTarget&&this.state.phase===n.UNLOADING&&(window.clearTimeout(this.closeTimeout),this.setState({phase:n.CLOSED,activeChild:null}))},this.onTransitionEnd=e=>{e.target===e.currentTarget&&this.state.phase===n.UNLOADING&&(window.clearTimeout(this.closeTimeout),this.setState({phase:n.CLOSED,activeChild:null}))},this.state={phase:e.open?n.OPEN:n.CLOSED,activeChild:e.selectChild&&e.childKey||null}}componentDidMount(){this.ref.current&&this.ref.current.addEventListener("transitioncancel",this.onTransitionCancel),this.props.focus&&this.focus()}componentWillUnmount(){window.clearTimeout(this.closeTimeout),this.ref.current&&this.ref.current.removeEventListener("transitioncancel",this.onTransitionCancel)}UNSAFE_componentWillReceiveProps(e){const{open:t,childKey:i}=this.props;t&&!e.open?(this.setState({phase:n.UNLOADING}),window.clearTimeout(this.closeTimeout),this.closeTimeout=window.setTimeout((()=>{this.state.phase===n.UNLOADING&&this.setState({phase:n.CLOSED,activeChild:null})}),1e3)):!t&&e.open?(window.clearTimeout(this.closeTimeout),this.setState({phase:n.OPEN,activeChild:e.selectChild&&e.childKey||null})):i!==e.childKey&&this.setState({activeChild:e.selectChild&&e.childKey||null})}focus(){this.ref.current&&this.ref.current.focus()}renderChildren(){const{children:e,selectChild:t}=this.props,{phase:i,activeChild:s}=this.state;return i===n.CLOSED||t&&!s?null:t?e&&Array.isArray(e)&&e.length&&e.find((e=>e&&e.key===s))||null:e}render(){const{className:e,firstChild:t,style:i,onKeyDown:r,onPointerDown:a,onPointerUp:l,onClick:c,focus:d}=this.props,{phase:u}=this.state,h=o()({unloading:u===n.UNLOADING},e);return(0,s.jsxs)("div",Object.assign({ref:this.ref,className:h,style:i,onTransitionEnd:this.onTransitionEnd,onClick:c,onPointerDown:a,onPointerUp:l,onKeyDown:r,tabIndex:d?0:void 0,"aria-live":this.props["aria-live"],"aria-atomic":this.props["aria-atomic"]},{children:[t||null,this.renderChildren()]}))}};u=c([l.Z,d("design:paramtypes",[Object])],u)},38637:(e,t,i)=>{"use strict";i.d(t,{P:()=>u});var n=i(85893),s=i(94184),r=i.n(s),a=i(7321),o=i(78897),l=i(80308),c=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const{CLOSE_BUTTON_TOOLTIP_MESSAGE:d}=a.Z.REUSABLES;function u(e){var{variant:t=l.Wu.TERTIARY,tooltip:i,onClose:s,className:a}=e,u=c(e,["variant","tooltip","onClose","className"]);const h=(0,o.b)(),p=u.label||h.t(d),m=u.label?void 0:p,f=u.icon||"close";return(0,n.jsx)(l.zx,Object.assign({className:r()("close-button",a),icon:f,ariaLabel:p,tooltip:m,variant:t,onKeyDown:function(e){s&&"Escape"===e.code&&(e.stopPropagation(),s())},onClick:s},u))}},3989:(e,t,i)=>{"use strict";i.d(t,{Ij:()=>u,Nm:()=>a,O1:()=>l,RD:()=>o,Sv:()=>r,UC:()=>c,UI:()=>n,cL:()=>s,uG:()=>d,w5:()=>h});const n=250,s=()=>({wrapperLength:1,childLength:1,scrollOffset:1,isVisible:!1}),r=()=>({scrollbar:null,animation:null,dragStartScroll:0});var a,o;!function(e){e.horizontal="horizontal",e.vertical="vertical"}(a||(a={})),function(e){e.x="x",e.y="y"}(o||(o={}));const l=e=>{switch(e){case a.horizontal:return o.x;case a.vertical:return o.y}throw Error()},c=e=>{switch(e){case o.x:return a.horizontal;case o.y:return a.vertical}throw Error()},d={[a.horizontal]:{scrollOffset:"scrollLeft",offsetLength:"offsetWidth",clientLength:"clientWidth",positionOffset:"offsetLeft",lengthName:"width",offsetName:"left",eventPosition:"clientX",delta:o.x},[a.vertical]:{scrollOffset:"scrollTop",offsetLength:"offsetHeight",clientLength:"clientHeight",positionOffset:"offsetTop",lengthName:"height",offsetName:"top",eventPosition:"clientY",delta:o.y}};var u;!function(e){e.Beginning="Beginning",e.Middle="Middle",e.End="End",e.None="None"}(u||(u={}));const h=(e,t)=>t?e<.01?u.Beginning:1-e<.01?u.End:u.Middle:u.None},88294:(e,t,i)=>{"use strict";i.d(t,{L:()=>d});var n=i(85893),s=i(67294),r=i(15162),a=i(84171),o=i(3989),l=i(20510);class c extends s.Component{constructor(e){super(e),this.state={visible:!1,trackLength:1,thumbLength:1,thumbOffset:0},this.direction=o.uG[e.direction],this.handlePressStart=this.handlePressStart.bind(this),this.handlePressMove=this.handlePressMove.bind(this),this.handleTrackClick=this.handleTrackClick.bind(this),this.inputFilter=new a.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove}),window.PointerEvent||(window.addEventListener("mousemove",this.inputFilter.handleEvent),window.addEventListener("mouseleave",this.inputFilter.handleEvent),window.addEventListener("mouseup",this.inputFilter.handleEvent)),window.addEventListener("pointermove",this.inputFilter.handleEvent),window.addEventListener("pointerup",this.inputFilter.handleEvent)}componentWillUnmount(){window.PointerEvent||(window.removeEventListener("mousemove",this.inputFilter.handleEvent),window.removeEventListener("mouseleave",this.inputFilter.handleEvent),window.removeEventListener("mouseup",this.inputFilter.handleEvent)),window.removeEventListener("pointermove",this.inputFilter.handleEvent),window.removeEventListener("pointerup",this.inputFilter.handleEvent)}getTrackLength(){return Number(this.thumbTrack&&this.thumbTrack[this.direction.clientLength]||this.props.containerSize.width)}handleTrackClick(e){if(e.target!==this.thumbTrack)return;const t=this.direction.eventPosition,i=this.thumbTrack.getBoundingClientRect()[this.direction.offsetName],n=e[t]<i+this.state.thumbOffset,s=this.getTrackLength();let r=0;r=n?Math.max(0,(this.state.thumbOffset-this.state.thumbLength)/s):Math.min(s,(this.state.thumbOffset+this.state.thumbLength)/s),this.props.scrollTo({[(0,o.O1)(this.props.direction)]:r})}handlePressStart(e){this.dragStartThumbOffset=this.state.thumbOffset}handlePressMove(e){const t=this.getTrackLength(),i=(this.dragStartThumbOffset-e[this.direction.delta])/t;this.props.scrollTo({[(0,o.O1)(this.props.direction)]:i}),this.props.onThumbDrag&&this.props.onThumbDrag()}componentDidUpdate(){const{wrapperLength:e,childLength:t,scrollOffset:i}=this.props;if(e>0&&t>0){const n=this.getTrackLength(),s=e/t*n,a={thumbLength:s,visible:t>e,thumbOffset:Math.min(i/t*n,n-s)};if((0,r.g)(this.state,a)){const e=this.state.visible!==a.visible;e&&this.props.onVisibilityChange&&this.props.onVisibilityChange(a.visible);const t=(0,o.w5)(a.thumbOffset/(n-s),a.visible);(t!==this.scrollPosition||e)&&(this.scrollPosition=t,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(t)),this.setState(a)}}}render(){const e={[`${this.direction.lengthName}`]:this.state.thumbLength+"px",[`${this.direction.offsetName}`]:this.state.thumbOffset+"px"},t=this.inputFilter.handleEvent,i=window.PointerEvent,s=i?t:void 0,r=i?void 0:t,a=i?void 0:t;return(0,n.jsx)("div",{children:this.state.visible&&!this.props.forceHidden&&(0,n.jsx)("div",Object.assign({className:"scrollbarTrack "+this.props.direction,onClick:this.handleTrackClick,ref:e=>{this.thumbTrack=e}},{children:(0,n.jsx)("div",{className:"scrollbarThumb",style:e,onPointerDown:s,onMouseDown:a,onTouchStart:r})}))})}}const d=(0,l.P)(c)},24160:(e,t,i)=>{"use strict";i.d(t,{T:()=>m});var n=i(85893),s=i(67294),r=i(38772),a=i(94184),o=i.n(a),l=i(91033),c=i(96937),d=i(84171),u=i(86743),h=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let m=class extends s.Component{constructor(e){super(e),this.usePointerEvents=window.PointerEvent,this.scrollerRef=(0,s.createRef)(),this.trackRef=(0,s.createRef)(),this.thumbRef=(0,s.createRef)(),this.focusedSelector=null,this.listening=!1,this.startY=0,this.onThumb=!1,this.scrollTop=0,this.isUnmounting=!1,this.handleResize=()=>{this.isUnmounting||(this.computeStateValues(),this.focusedSelector&&this.scrollToSelector(this.focusedSelector))},this.handleWheelEvent=e=>{this.props.disabled||(this.onThumb=!1,this.focusedSelector=null,this.scrollBy(e.deltaY))},this.handleEvent=e=>{if(this.scrollerRef.current&&!this.props.disabled){this.scrollVelocityPixelsMS=0;if("mousedown"===e.type||"pointerdown"===e.type||"touchstart"===e.type){const t=e.target;this.onThumb=t&&t.classList.contains("scroller-thumb")}this.focusedSelector=null,this.inputFilter.handleEvent(e)}},this.handlePressStart=e=>{this.onThumb?this.startY=this.getThumbTop():this.startY=this.getScrollTop()},this.handlePressMove=e=>{const{trackHeight:t,contentsHeight:i}=this.state;let n;this.onThumb?(n=(this.startY-e.y)/t,this.scrollToPercent(n)):(n=(e.y+this.startY)/i,this.scrollToPercent(n))},this.handleDragStart=()=>{},this.handleDragEnd=(e,t)=>{this.scrollVelocityPixelsMS=e.y/t,this.lastScrollTimeMS=void 0,Math.abs(this.scrollVelocityPixelsMS)<1?this.scrollVelocityPixelsMS=0:this.animateScroll()},this.onTrackClick=e=>{const t=this.trackRef.current;if(e.target!==t||!t)return;const i=this.getThumbHeight(),n=this.getThumbTop(),s=t.getBoundingClientRect().top,r=this.state.trackHeight;let a;a=e.clientY<s+n?Math.max(0,(n-i)/r):Math.min(r,(n+i)/r),this.scrollToPercent(a)},this.scrollToPercent=e=>{this.isOverflowing()&&this.scrollerRef.current&&!isNaN(e)&&this.setScrollPosition(Math.max(Math.min(1,e)*this.state.contentsHeight,0))},this.scrollBy=e=>{this.isOverflowing()&&this.scrollerRef.current&&!isNaN(e)&&this.setScrollPosition(Math.max(this.scrollerRef.current.scrollTop+e,0))},this.computeStateValues=()=>{if(this.props.disabled)return;const e=this.scrollerRef.current,t=this.trackRef.current,i=Number(e&&e.clientHeight)||1,n=Number(t&&t.clientHeight)||i,s=Number(this.contents&&this.contents.clientHeight)||1,r=Number(this.contents&&this.contents.offsetTop)||0;this.debouncedSetState({scrollerHeight:i,contentsHeight:s,trackHeight:n,offsetTop:r})},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.setContentsRef=e=>{e?(this.contents=e,this.resizeObserver.observe(this.contents)):this.contents&&this.resizeObserver.unobserve(this.contents)},this.setContainerRef=e=>{e?(this.container=e,this.resizeObserver.observe(e)):this.container&&this.resizeObserver.unobserve(this.container)},this.state={scrollerHeight:1,contentsHeight:1,trackHeight:1,offsetTop:0},this.resizeObserver=new l.Z(this.handleResize),this.inputFilter=new d.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd})}componentDidMount(){this.toggleEventHandling(!0),this.computeStateValues()}componentWillUnmount(){this.isUnmounting=!0,this.toggleEventHandling(!1),this.resizeObserver&&this.resizeObserver.disconnect()}componentDidUpdate(e,t){this.scrollerRef.current&&e.disabled!==this.props.disabled&&(this.props.disabled?this.toggleEventHandling(!1):this.toggleEventHandling(!0))}resetScrollTop(){this.focusedSelector=null,this.setScrollPosition(0)}getScroller(){return this.scrollerRef.current}getScrollHeight(){return Number(this.contents&&this.contents.clientHeight)||0}scrollToElement(e,t="center",i){const n=this.scrollerRef.current;if(!e||!n)return;if(!(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINS))return;if(!this.isOverflowing())return;const{contentsHeight:s,scrollerHeight:r,offsetTop:a}=this.state;let o=e.offsetTop;if(!i){let t=e;for(;t.parentElement&&(t=t.parentElement,o+=t.offsetTop,t.offsetParent!==this.contents););}let l=a+o;"center"===t&&(l+=e.offsetHeight/2-r/2),l=Math.max(Math.min(s,l),0);const c=n.scrollTop,d=l-c;let h=0;const p=e=>{h||(h=e);const t=e-h,i=(0,u.hN)(t,c,d,500);n.scrollTo(0,i),t<500?window.requestAnimationFrame(p):this.setScrollPosition(l)};window.requestAnimationFrame(p)}scrollToSelector(e,t="center",i){const n=this.scrollerRef.current;if(!n)return;const s=n.querySelector(e);s?(this.focusedSelector=e,this.scrollToElement(s,t,i)):this.focusedSelector=null}setScrollPosition(e){const t=this.scrollerRef.current;if(t){const i=t.scrollTop;t.scrollTop=e,this.scrollTop=this.getScrollTop(),this.props.onScrolled&&i!==this.scrollTop&&this.props.onScrolled(this.scrollTop);const n=this.thumbRef.current;n&&(n.style.height=`${this.getThumbHeight()}px`,n.style.top=`${this.getThumbTop()}px`)}}toggleEventHandling(e){const t=this.scrollerRef.current,i=this.handleEvent,n=c.h?{passive:!0}:void 0;!this.listening&&e&&t?(t.addEventListener("wheel",this.handleWheelEvent,n),this.usePointerEvents?(t.addEventListener("pointerdown",i,n),window.addEventListener("pointermove",i,n),window.addEventListener("pointerup",i,n)):(t.addEventListener("touchstart",i,n),t.addEventListener("mousedown",i,n),window.addEventListener("mousemove",i,n),window.addEventListener("mouseleave",i,n),window.addEventListener("mouseup",i,n),window.addEventListener("touchmove",i,n),window.addEventListener("touchend",i,n),window.addEventListener("touchcancel",i,n))):this.listening&&!e&&t&&(t.removeEventListener("wheel",this.handleWheelEvent),this.usePointerEvents?(t.removeEventListener("pointerdown",i),window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",i)):(t.removeEventListener("touchstart",i),t.removeEventListener("mousedown",i),window.removeEventListener("mousemove",i),window.removeEventListener("mouseleave",i),window.removeEventListener("mouseup",i),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",i),window.removeEventListener("touchcancel",i)))}animateScroll(){window.requestAnimationFrame((e=>{void 0===this.lastScrollTimeMS&&(this.lastScrollTimeMS=e);let t=e-this.lastScrollTimeMS;if(t>0){this.scrollBy(this.scrollVelocityPixelsMS*t);const e=this.scrollVelocityPixelsMS>0?-1:1;for(;t>0;)this.scrollVelocityPixelsMS+=this.scrollVelocityPixelsMS*this.scrollVelocityPixelsMS*.01*e,t-=1}Math.abs(this.scrollVelocityPixelsMS)>.001&&this.animateScroll()}))}getThumbTop(){const{contentsHeight:e,trackHeight:t}=this.state;return Math.min(this.scrollTop/e*t,t-this.getThumbHeight())}getThumbHeight(){const{scrollerHeight:e,contentsHeight:t,trackHeight:i}=this.state;return e/t*i}getScrollTop(){return this.scrollerRef.current?this.scrollerRef.current.scrollTop:0}isOverflowing(){const{contentsHeight:e,scrollerHeight:t,offsetTop:i}=this.state;return e+i>t}renderTrack(){const e={height:`${this.getThumbHeight()}px`,top:`${this.getThumbTop()}px`};return(0,n.jsx)("div",Object.assign({ref:this.trackRef,className:"scroller-track",onClick:this.onTrackClick},{children:(0,n.jsx)("div",{ref:this.thumbRef,className:"scroller-thumb",style:e,onPointerDown:this.usePointerEvents?this.handleEvent:void 0,onMouseDown:this.usePointerEvents?void 0:this.handleEvent,onTouchStart:this.usePointerEvents?void 0:this.handleEvent})}))}render(){const{children:e,className:t,hideThumb:i,disabled:s}=this.props,r=!s&&this.isOverflowing();return(0,n.jsxs)("div",Object.assign({ref:this.setContainerRef,className:o()("scroller-container",t)},{children:[(0,n.jsx)("div",Object.assign({className:"scroller-scroller",ref:this.scrollerRef},{children:(0,n.jsx)("div",Object.assign({className:"scroller-contents",ref:this.setContentsRef},{children:e}))})),!i&&r&&this.renderTrack()]}))}};m=h([r.Z,p("design:paramtypes",[Object])],m)},69634:(e,t,i)=>{"use strict";i.d(t,{S:()=>m});var n=i(85893),s=i(94184),r=i.n(s),a=i(89555),o=i(75287),l=i(67294);function c(e){const{text:t,keyPrefix:i,markers:s}=e,[r,a]=s,o=[];let c=t,d=c.search(`${r}|${a}`),u=c.search(r);for(;d>-1;){const e=d===u,s=c.slice(0,d),h=t.length-c.length,p=`${i},${h}-${h+d}`;e?o.push((0,n.jsx)(l.Fragment,{children:s},p)):o.push((0,n.jsx)("span",Object.assign({"data-blocktype":"marker"},{children:s}),p)),c=c.slice(d+(e?r.length:a.length),c.length),d=c.search(`${r}|${a}`),u=c.search(r)}if(c.length){const e=`${i},${t.length-c.length}-${t.length}`;o.push((0,n.jsx)(l.Fragment,{children:c},e))}return 0===o.length?(0,n.jsx)(n.Fragment,{children:t}):(0,n.jsx)(n.Fragment,{children:o})}function d(e){const{block:t,children:i,onClick:s}=e;return s?(0,n.jsx)("a",Object.assign({className:`link-annotation ${o.o.USER}`,onClick:s,"data-id":t.id||void 0,"data-value":t.value||void 0,"data-blocktype":t.blockType},{children:i})):(0,n.jsx)("span",Object.assign({"data-blocktype":t.blockType},{children:i}))}function u(e){const{block:t,children:i,onClick:s}=e;return s?(0,n.jsx)("a",Object.assign({className:`link-annotation ${o.o.USER}`,onClick:s,"data-blocktype":t.blockType},{children:i})):(0,n.jsx)("span",Object.assign({"data-blocktype":t.blockType},{children:i}))}function h(e){const{block:t,children:i,linksActive:s,onClick:r}=e;return r||s?(0,n.jsx)("a",Object.assign({href:`${t.value}`,target:"_blank",className:`link-annotation ${o.o.LINK}`,onClick:r,"data-blocktype":t.blockType,"data-value":t.value},{children:i})):(0,n.jsx)("span",Object.assign({"data-blocktype":t.blockType,"data-value":t.value},{children:i}))}function p(e){const{block:t,keyPrefix:i,markers:s}=e,{blockType:r,text:o}=t,l=s?(0,n.jsx)(c,{keyPrefix:i,text:o,markers:s}):(0,n.jsx)(n.Fragment,{children:o});return r===a.C.USER?(0,n.jsx)(d,Object.assign({},e,{children:l})):r===a.C.HASH?(0,n.jsx)(u,Object.assign({},e,{children:l})):r===a.C.LINK&&t.value?(0,n.jsx)(h,Object.assign({},e,{children:l})):l}function m(e){const t=e.textParser.parse(e.text),i=r()("text-box-text",e.className);return(0,n.jsx)("div",Object.assign({className:i},{children:t.map(((t,i)=>(0,n.jsx)(p,{keyPrefix:`${t.blockType}${i}`,block:t,linksActive:!!e.linksActive,onClick:e.onClick,markers:e.markers},`${t.blockType}${i}`)))}))}},75287:(e,t,i)=>{"use strict";i.d(t,{o:()=>n,v:()=>a});var n,s=i(89555),r=i(61173);!function(e){e.TEXT="",e.LINK="link-url",e.HASH="link-hashtag",e.USER="link-user"}(n||(n={}));class a{constructor(e){this.serialize=e=>{const t=[],i=[].slice.call(e.childNodes);for(const e of i)switch(e.nodeName){case"#text":t.push(this.serializeText(e));break;case"A":t.push(this.serializeAnchor(e));break;case"P":case"DIV":t.push(this.serializeElement(e,!0));break;case"SPAN":t.push(this.serializeElement(e,!1));break;case"BR":break;default:t.push(this.serialize(e))}return t.join("")},this.deserialize=(e,t,i,n=this.markers)=>{const s=this.parse(e).map((e=>this.createNode(e,t,i)));return n?this.parseMarkers(s,n):s},this.serializeText=e=>{let t=this.sanitizeText(e.textContent||"");if(this.links){const e=new RegExp(/https?:\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?/gi),i=document.createElement("a");t=t.replace(e,(e=>(i.href=e,`[${e}](${i.href})`))),i.remove()}return this.hashtags&&(t=t.replace(/(#\w*)/,(e=>`[${e}]`))),t.replace(/\<\s*br\s*\/?>/gi,"\n")},this.serializeAnchor=e=>{const t=e.dataset.blocktype,i=this.sanitizeText(e.innerText||e.textContent||"");let n=i;switch(t){case s.C.HASH:n=`[${i}]`;break;case s.C.USER:if(this.users){let t=e.dataset.id||"",i=e.dataset.value||"";if(!t&&!i&&(i="@"===n[0]?n.substr(1):n,i)){const e=this.users.getUserInfoByEmail(i);e&&(t=e.id)}(t||this.validateEmail(i))&&(n=`[@${t}](${i})`)}break;case s.C.LINK:const t=e.dataset.value||e.href;t&&(n=`[${i}](${t})`);break;default:e.href&&(n=`[${i}](${e.href})`)}return n},this.serializeElement=(e,t)=>{let i=t?"\n":" ";return e.childNodes.length>0&&(i+=this.serialize(e)),i},this.validateEmail=(()=>{const e=/\S+@\S+\.\S+/,t=document.createElement("input");return t.type="email",t.required=!0,i=>(t.value=i,"function"==typeof t.checkValidity?t.checkValidity():e.test(i))})();const{links:t,hashtags:i,users:n,markers:r}=e;this.links=t||!1,this.hashtags=i||!1,this.users=n,this.markers=r}parseMarkers(e,t){const[i,n]=t;let s=!1;const r=new RegExp(i+"|"+n);for(let t=0;t<e.length;t++){const i=e[t],{nodeType:n,textContent:a}=i,o=3===n;if(!a)continue;o?e.splice(t,1):i.textContent=null;const l=a.split(r);l.forEach(((n,r)=>{if(""!==n){let r;if(s){const e=document.createElement("span");e.setAttribute("data-blocktype","marker"),r=e,r.textContent=n}else r=document.createTextNode(n);o?e.splice(t++,0,r):i.appendChild(r)}r<l.length-1&&(s=!s)})),o&&t--}return e}createNode(e,t,i){switch(e.blockType){case s.C.USER:const r=document.createElement(i?"a":"span");if(r.setAttribute("data-blocktype",e.blockType),i){const t=r;t.className=`link-annotation ${n.USER}`,t.removeAttribute("href"),i&&(t.onclick=i);const s=e.id||"",a=e.value||"";s&&t.setAttribute("data-id",s),a&&t.setAttribute("data-value",a)}return r.textContent=`${e.text}`,r;case s.C.HASH:const a=document.createElement(i?"a":"span");if(a.setAttribute("data-blocktype",e.blockType),i){const e=a;e.className=`link-annotation ${n.HASH}`,e.removeAttribute("href"),i&&(e.onclick=i)}return a.textContent=`${e.text}`,a;case s.C.LINK:if(e.value){const s=document.createElement(i||t?"a":"span");if(s.setAttribute("data-blocktype",e.blockType),s.setAttribute("data-value",e.value),i||t){const r=s;t&&(r.href=`${e.value}`),r.target="_blank",r.className=`link-annotation ${n.LINK}`,i&&(r.onclick=i)}return s.textContent=`${e.text}`,s}}return document.createTextNode(""+e.text)}parse(e){const t=[];if(!e)return[];const i=e.split("[").map(((e,t)=>0===t?e:"["+e));let n=0;for(;n<i.length;){const e=this.parseIntoBlocks(i[n],t);e&&i.splice(n+1,0,e),n++}return t}getPlainText(e){return this.parse(e).map((e=>e.text)).join("")}searchMarkdown(e,t){let i=-1,n=0,s=0;const r=this.parse(e).map((e=>{let r;return this.matchTextBlock(e,t)?(s++,-1===i&&(i=n),r=e.markdown):r=e.text,n+=e.text.length,r}));return-1===i?null:{markdown:r.join(""),matchIndex:i,textLength:n,numMatches:s}}getUserMentions(e){return this.parse(e).filter((e=>e.blockType===s.C.USER&&e.value)).map((e=>e.value||""))}matchTextBlock(e,t){if(e.blockType===t.blockType)if(e.blockType===s.C.USER){if(e.id===t.id)return!0;if(e.value===t.value)return!0}else if(e.blockType===s.C.HASH)return e.text===t.text;return!1}parseIntoBlocks(e,t){if(this.users){const i=this.getUserBlock(e);if(i)return t.push(i),e.slice(i.markdown.length)}if(this.links){const i=this.getLinkBlock(e);if(i&&i.value&&!/javascript:/i.test(i.value))return t.push(i),e.slice(i.markdown.length)}if(this.hashtags){const i=this.getHashBlock(e);if(i)return t.push(i),e.slice(i.markdown.length)}const i=this.getTextBlock(e);return i&&t.push(i),null}getTextBlock(e){return 0===e.length?null:{blockType:s.C.TEXT,text:e,markdown:e}}getHashBlock(e){const t=e.match(a.hashRegex);return!t||t.length<2?null:{blockType:s.C.HASH,markdown:t[0],text:t[1]}}getUserBlock(e){if(!this.users)return null;const t=e.match(a.userRegex);if(!t||t.length<3)return null;let i=t[1].substr(1),n=t[2];const r=n?this.users.getUserInfoByEmail(n):this.users.getUserInfoById(i),o=r?r.name:"";return i=r?r.id:i,n=r?r.email:n,{blockType:s.C.USER,markdown:t[0],id:i,value:n,text:`@${o||n}`}}getLinkBlock(e){const t=e.match(a.linkRegEx);if(!t)return null;const i=t[2];let n=1,r=0;for(;r<i.length&&("("===i[r]?n++:")"===i[r]&&n--,0!==n);)r++;const o=i.length-r;let l=this.conditionallyEncode(t[2].substring(0,r));return-1===l.indexOf("://")&&(l="http://"+l),{blockType:s.C.LINK,markdown:t[0].substring(0,t[0].length-o),text:t[1],value:l}}conditionallyEncode(e){const t=e.trim();return this.needsEncoding(t)?encodeURI(t):t}needsEncoding(e){if(e.match(r.jx))return!0;let t=e;try{t=decodeURI(e)}catch(e){}return!1}sanitizeText(e){return e.replace(/\]\(/g,"]&zwnj;(").replace(/[\u200B]/g,"").replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"')}}a.hashRegex=/\[(#(\w|-)*)\]/,a.userRegex=/\[(@\w*)\]\(([^\)\(\[\]]*)\)/,a.linkRegEx=/\[([^\]]*)\]\((.*)\)/},20470:(e,t,i)=>{"use strict";i.d(t,{Eb:()=>s,El:()=>c,Ii:()=>d,LH:()=>r,MN:()=>n,g:()=>l,oO:()=>a,vH:()=>o});const n=767,s=576,r=375,a=55,o=70,l=500,c=750,d=3},65703:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(86743);class s{constructor(e){this.isAnimating=!0,this.duration=e.duration,this.startValue=e.startValue,this.changeValue=e.endValue-this.startValue,this.easingFunction=e.easingFunction||n.to}getUpdatedValue(){this.startTime||(this.startTime=Date.now());const e=Date.now()-this.startTime;return e>this.duration&&(this.isAnimating=!1),this.easingFunction(Math.min(e,this.duration),this.startValue,this.changeValue,this.duration)}}},15162:(e,t,i)=>{"use strict";i.d(t,{g:()=>n});const n=(e,t)=>{for(const i in t)if(e[i]!==t[i])return!0;return!1}},84171:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(70338),s=i(43718);class r{constructor(e){this.couldBeDrag=!1,this.isDragging=!1,this.shouldHandleEvents=!0,this.handleEvent=e=>{if(this.shouldHandleEvents)switch(e.stopPropagation(),e.type){case"mousedown":case"touchstart":case"pointerdown":this.onPressStart(e);break;case"mousemove":case"pointermove":case"touchmove":this.onPressMove(e);break;case"mouseup":case"pointerup":case"mouseleave":case"touchend":case"touchcancel":case"pointercancel":case"pointerleave":this.onPressEnd(e)}},this.callbacks=e}setEnabled(e){this.shouldHandleEvents=e,this.couldBeDrag=this.couldBeDrag&&e}getPosition(e){return(0,n.z6)(e)?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}onPressStart(e){this.couldBeDrag=!0,this.dragEvents=[],this.dragStart=this.getPosition(e),this.callbacks.handlePressStart&&this.callbacks.handlePressStart(this.getPosition(e))}onPressMove(e){if(!this.couldBeDrag)return;const t=this.getPosition(e);this.addDragEvent(t),this.isDragging||Math.sqrt(Math.pow(t.x-this.dragStart.x,2)+Math.pow(t.y-this.dragStart.y,2))>s.JU&&(this.isDragging=!0,this.callbacks.handleDragStart&&this.callbacks.handleDragStart()),this.callbacks.handlePressMove&&this.callbacks.handlePressMove({x:this.dragStart.x-t.x,y:this.dragStart.y-t.y})}onPressEnd(e){if(this.couldBeDrag){if(this.couldBeDrag=!1,this.isDragging){if(!this.dragEvents||!this.dragEvents[0])return;const e=this.dragEvents[0],t=this.dragEvents[this.dragEvents.length-1];if(this.callbacks.handleDragEnd){const i={x:0,y:0};Date.now()-t.timestamp<r.dragMoveTimeout&&(i.x=e.position.x-t.position.x,i.y=e.position.y-t.position.y),this.callbacks.handleDragEnd(i,t.timestamp-e.timestamp)}}else this.callbacks.handleClick&&this.callbacks.handleClick(e);this.isDragging=!1}}addDragEvent(e){this.dragEvents.push({position:e,timestamp:Date.now()}),this.dragEvents.length>10&&this.dragEvents.shift()}}r.dragMoveTimeout=100},69173:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});const n=({width:e,height:t})=>e<487||t<487},86210:(e,t,i)=>{"use strict";i.d(t,{A:()=>r,z:()=>s});var n=i(3673);class s extends n.G{constructor(e){super(),this.nativeEvent=e,this.type="hover"}}class r extends n.G{constructor(e){super(),this.nativeEvent=e,this.type="unhover"}}},3673:(e,t,i)=>{"use strict";i.d(t,{G:()=>n});class n{constructor(){this.eventType="input",this._propagationStopped=!1,this._defaultPrevented=!1}stopPropagation(){this._propagationStopped=!0}get propagationStopped(){return this._propagationStopped}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}},67781:(e,t,i)=>{"use strict";i.d(t,{U:()=>r,t:()=>s});var n=i(56063);class s extends n.m{}s.id="GUTTER_TOUCH_SCROLL_DISABLE";class r extends n.m{}r.id="GUTTER_TOUCH_SCROLL_ENABLE"},79242:(e,t,i)=>{"use strict";i.d(t,{Rd:()=>a,TQ:()=>s,bN:()=>o});var n=i(52551);class s extends n.C{constructor(e,t){super(),this.position=e,this.buttons=t}}class r extends n.C{constructor(e,t){super(),this.position=e,this.button=t}}class a extends r{}class o extends r{}},95840:(e,t,i)=>{"use strict";i.d(t,{E0:()=>s,Zv:()=>l,_R:()=>a,_t:()=>r,u4:()=>o});var n=i(52551);class s extends n.C{constructor(e,t,i,n,s=0){super(),this.position=e,this.buttons=t,this.device=i,this.ctrlKey=n,this.pointerId=s}}class r extends n.C{constructor(e,t,i,n,s,r=0){super(),this.ctrlKey=!1,this.position=e,this.clientPosition=n,this.delta=t,this.buttons=i,this.device=s,this.pointerId=r}}class a extends n.C{constructor(e,t,i,n,s,r,a=0){super(),this.ctrlKey=!1,this.position=e,this.delta=t,this.buttons=i,this.timeSinceLastMove=n,this.fullDelta=s,this.device=r,this.pointerId=a}}class o extends n.C{constructor(e,t){super(),this.position=e,this.pointer=t}}class l extends n.C{constructor(e,t){super(),this.position=e,this.fullDelta=t}}},52551:(e,t,i)=>{"use strict";i.d(t,{C:()=>s});var n=i(3673);class s extends n.G{}},11798:(e,t,i)=>{"use strict";i.d(t,{$b:()=>o,DG:()=>s,PC:()=>r,Vh:()=>a,pt:()=>l});var n=i(52551);class s extends n.C{constructor(e,t,i,n){super(),this.position=e,this.clientPosition=t,this.delta=i,this.buttons=n}}class r extends n.C{constructor(e,t,i,n,s){super(),this.position=e,this.clientPosition=t,this.delta=i,this.buttons=n,this.progress=s}}class a extends n.C{constructor(e,t,i){super(),this.position=e,this.clientPosition=t,this.buttons=i}}class o extends n.C{constructor(e,t){super(),this.position=e,this.clientPosition=t}}class l extends n.C{constructor(e,t,i){super(),this.position=e,this.clientPosition=t,this.cancelled=i}}},12216:(e,t,i)=>{"use strict";i.d(t,{d:()=>s,h:()=>r});var n=i(52551);class s extends n.C{constructor(e,t,i){super(),this.pointerCount=e,this.position=Object.assign({},t),this.delta=Object.assign({},i)}}class r extends n.C{constructor(e,t,i,n){super(),this.pointerCount=e,this.position=Object.assign({},t),this.delta=Object.assign({},i),this.timeSinceLastMove=n}}},58724:(e,t,i)=>{"use strict";i.d(t,{G:()=>s,i:()=>r});var n=i(52551);class s extends n.C{constructor(e){super(),this.pinchDelta=e}}class r extends n.C{constructor(e,t){super(),this.pinchDelta=e,this.timeSinceLastMove=t}}},92015:(e,t,i)=>{"use strict";i.d(t,{h:()=>s});var n=i(52551);class s extends n.C{constructor(e){super(),this.pointers=e}}},41200:(e,t,i)=>{"use strict";i.d(t,{D:()=>s,u:()=>r});var n=i(52551);class s extends n.C{constructor(e){super(),this.rotateDelta=e}}class r extends n.C{constructor(e,t){super(),this.rotateDelta=e,this.timeSinceLastMove=t}}},68720:(e,t,i)=>{"use strict";i.d(t,{a:()=>s});var n=i(52551);class s extends n.C{constructor(e,t){super(),this.position=e,this.delta=t}}},26202:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>re});var n=i(933),s=i(67070),r=i(70338),a=i(40333);const o=e=>{const t=a.r[a.M[e]];return"number"==typeof t?t:void 0},l=e=>{const t=a.M[a.r[e]];return"number"==typeof t?t:void 0};var c=i(59228),d=i(900),u=i(96937),h=i(28721),p=i(61173),m=i(12047),f=i(47426);class g{constructor(e,t,i,n,s){if(this.config=e,this.canvasData=i,this.gutterScrollEnabled=s,this.handledTouchesAsPointer=0,this.lastTouchEnd=0,this.scrollGutterStart=!1,this.bindings=[],this.activeButtons=a.r.NONE,this.preventDoubleTap=e=>{e.cancelable&&e.timeStamp-this.lastTouchEnd<=g.doubleTapThreshold&&e.preventDefault(),this.lastTouchEnd=e.timeStamp},this.preventMultiTouchGesture=e=>{const t=e.touches&&e.touches.length>1,i="scale"in e&&1!==e.scale;(t||i)&&e.cancelable&&e.preventDefault()},this.onEventCallback=n,window.PointerEvent||this.bindings.push(new m.r(t,"mousedown",(e=>this.onMouseDown(e))),new m.r(t,"mouseup",(e=>this.onMouseUp(e))),new m.r(t,"mousemove",(e=>this.onMouseMove(e))),new m.r(t,"mouseenter",(e=>this.onMouseEnter(e)))),this.bindings.push(new m.r(t,"contextmenu",(e=>e.preventDefault())),new m.r(t,"touchstart",(e=>this.onTouchStart(e))),new m.r(t,"touchend",(e=>this.onTouchEnd(e))),new m.r(t,"touchmove",(e=>this.onTouchMove(e))),new m.r(t,"touchcancel",(e=>this.onTouchEnd(e))),new m.r(t,"pointerdown",(e=>this.onPointerDown(e))),new m.r(t,"pointerup",(e=>this.onPointerUp(e))),new m.r(t,"pointermove",(e=>this.onPointerMove(e))),new m.r(t,"pointercancel",(e=>this.onPointerUp(e))),new m.r(t,"pointerenter",(e=>this.onMouseEnter(e)))),(0,p.Tt)()||(0,p._1)()){const e=u.h?{passive:!1}:void 0;this.bindings.push(new m.r(t,"touchmove",this.preventMultiTouchGesture,e),new m.r(t,"touchend",this.preventDoubleTap,e))}}dispose(){for(const e of this.bindings)e.cancel();this.bindings.length=0}toggleTouchScrolling(e){this.gutterScrollEnabled=e}onMouseDown(e){e.currentTarget.focus(),this.tryPreventDefault(e);const t=e.button;if((0,p.cF)()&&this.isMouseHeld())return;this.activeButtons|=1<<t;const{ndc:i,client:n}=this.getPointerPosition(e);this.onEventCallback(new c.er(this.getPointerId(e),i,n,t,!0,d._.MOUSE,e))}onMouseUp(e){this.tryPreventDefault(e);const t=l(this.activeButtons),i=(0,p.cF)()&&null!=t?t:e.button;this.activeButtons&=~(1<<i);const{ndc:n,client:s}=this.getPointerPosition(e);this.onEventCallback(new c.er(this.getPointerId(e),n,s,i,!1,d._.MOUSE,e))}onMouseMove(e){this.tryPreventDefault(e);const{ndc:t,client:i}=this.getPointerPosition(e);this.onEventCallback(new c.mE(this.getPointerId(e),t,i,this.activeButtons,d._.MOUSE,e))}onMouseEnter(e){this.checkMissingButtons(e)}isMouseHeld(){return this.activeButtons!==a.r.NONE}checkMissingButtons(e){const t=(0,h.lY)(e.buttons,a.M.MIDDLE,a.M.SECONDARY),i=(this.activeButtons^t)&~t;for(let t=a.M.PRIMARY;t<a.M.COUNT;++t){const n=o(t);if(n&&(i&n)>0){const{ndc:i,client:n}=this.getPointerPosition(e);this.onEventCallback(new c.er(this.getPointerId(e),i,n,t,!1,d._.MOUSE,e))}}this.activeButtons=t}onTouchStart(e){if(this.scrollGutterStart=this.isScrollGutter(e),e.currentTarget.focus(),this.scrollGutterStart||this.tryPreventDefault(e),this.handledTouchesAsPointer)--this.handledTouchesAsPointer;else for(let t=0;t<e.changedTouches.length;t++){const i=e.changedTouches.item(t),{ndc:n,client:s}=this.getTouchPosition(i);this.onEventCallback(new c.er(i.identifier,n,s,a.M.PRIMARY,!0,d._.TOUCH,e))}}onTouchEnd(e){if(this.scrollGutterStart?this.scrollGutterStart=!1:this.tryPreventDefault(e),this.handledTouchesAsPointer)--this.handledTouchesAsPointer;else for(let t=0;t<e.changedTouches.length;t++){const i=e.changedTouches.item(t),{ndc:n,client:s}=this.getTouchPosition(i);this.onEventCallback(new c.er(i.identifier,n,s,a.M.PRIMARY,!1,d._.TOUCH,e))}}onTouchMove(e){if(this.scrollGutterStart&&(this.isScrollGutter(e)||(this.scrollGutterStart=!1)),this.scrollGutterStart||this.tryPreventDefault(e),this.handledTouchesAsPointer)--this.handledTouchesAsPointer;else for(let t=0;t<e.changedTouches.length;t++){const i=e.changedTouches.item(t),{ndc:n,client:s}=this.getTouchPosition(i),r=new c.mE(i.identifier,n,s,a.r.PRIMARY,d._.TOUCH,e);this.onEventCallback(r)}}onPointerDown(e){const{ndc:t,client:i}=this.getPointerPosition(e);switch(this.scrollGutterStart=this.isScrollGutter(e),this.scrollGutterStart||this.tryPreventDefault(e),e.pointerType){case d._.MOUSE:this.onMouseDown(e);break;case d._.GAMEPAD:case d._.TOUCH:++this.handledTouchesAsPointer,this.onEventCallback(new c.er(e.pointerId,t,i,a.M.PRIMARY,!0,e.pointerType,e))}}onPointerUp(e){switch(this.scrollGutterStart?this.scrollGutterStart=!1:this.tryPreventDefault(e),e.pointerType){case d._.MOUSE:this.onMouseUp(e);break;case d._.GAMEPAD:case d._.TOUCH:++this.handledTouchesAsPointer;const{ndc:t,client:i}=this.getPointerPosition(e);this.onEventCallback(new c.er(e.pointerId,t,i,a.M.PRIMARY,!1,e.pointerType,e))}}onPointerMove(e){switch(this.scrollGutterStart&&(this.isScrollGutter(e)||(this.scrollGutterStart=!1)),this.scrollGutterStart||this.tryPreventDefault(e),e.pointerType){case d._.MOUSE:-1!==e.button?this.activeButtons<e.buttons?this.onMouseDown(e):this.activeButtons>e.buttons&&this.onMouseUp(e):this.onMouseMove(e);break;case d._.GAMEPAD:case d._.TOUCH:++this.handledTouchesAsPointer;const{ndc:t,client:i}=this.getPointerPosition(e);this.onEventCallback(new c.mE(e.pointerId,t,i,a.r.PRIMARY,e.pointerType,e))}}getPointerId(e){return(0,r.bX)(e)?e.pointerId:0}getPointerPosition(e){return{ndc:this.normalizePosition(e.clientX,e.clientY),client:{x:e.clientX-this.canvasData.x,y:e.clientY-this.canvasData.y}}}getTouchPosition(e){return{ndc:this.normalizePosition(e.clientX,e.clientY),client:{x:e.clientX-this.canvasData.x,y:e.clientY-this.canvasData.y}}}normalizePosition(e,t){return{x:2*(e-this.canvasData.x)/this.canvasData.width-1,y:-2*(t-this.canvasData.y)/this.canvasData.height+1}}isScrollGutter(e){if(!this.gutterScrollEnabled)return!1;let t;if(!(e instanceof PointerEvent)){if(1!==e.changedTouches.length)return!1;const i=e.changedTouches.item(0);t=this.getTouchPosition(i).client.x}else{if(e.pointerType!==d._.TOUCH)return!1;t=this.getPointerPosition(e).client.x}return(0,f.y)(t,e.currentTarget)}tryPreventDefault(e){if(!e.cancelable)return;(!(e instanceof MouseEvent||e instanceof PointerEvent)||this.config.pointerPreventDefault)&&e.preventDefault()}}g.doubleTapThreshold=300;var v,y=i(20360),E=i(69947),b=i(31971);!function(e){e[e.SEMICOLON=59]="SEMICOLON",e[e.PLUSEQUALS=61]="PLUSEQUALS",e[e.DASHUNDERSCORE=173]="DASHUNDERSCORE"}(v||(v={}));const S=[y.R.TAB,y.R.RETURN,y.R.SPACE,y.R.ESCAPE];class O{constructor(e,t){this.rootNode=e,this.keysDown={},this.bindings=[],this.onEventCallback=t,this.bindHandlers()}dispose(){for(const e of this.bindings)e.cancel();this.bindings.length=0}isKeyHeld(e){return!!this.keysDown[e]}bindHandlers(){const e=this.rootNode;this.bindings.push(new m.r(e,"focusout",(({relatedTarget:e})=>{e&&e instanceof Node&&this.rootNode.contains(e)||Object.keys(this.keysDown).forEach((e=>this.keysDown[e]=!1))})),new m.r(e,"keydown",(e=>{if(e.ctrlKey||e.metaKey)return void(this.keysDown[this.translateFirefoxKeys(e.which||e.keyCode)]=!0);S.includes(e.keyCode)||(e.preventDefault(),e.stopPropagation());const t=this.translateFirefoxKeys(e.which||e.keyCode);this.keysDown[t]=!0,this.onEventCallback(new b.e(t,E.M.DOWN,e))})),new m.r(e,"keyup",(e=>{const t=this.translateFirefoxKeys(e.which||e.keyCode);e.ctrlKey||e.metaKey?this.keysDown[t]=!1:(S.includes(e.keyCode)||(e.preventDefault(),e.stopPropagation()),this.keysDown[t]&&this.onEventCallback(new b.e(t,E.M.PRESSED,e)),this.keysDown[t]=!1,this.onEventCallback(new b.e(t,E.M.UP,e)))})))}translateFirefoxKeys(e){switch(e){case v.SEMICOLON:return y.R.SEMICOLON;case v.PLUSEQUALS:return y.R.PLUSEQUALS;case v.DASHUNDERSCORE:return y.R.DASHUNDERSCORE}return e}}var T,_=i(81396);!function(e){e[e.WAITING=0]="WAITING",e[e.WAITINGTOEXCEEDTHRESHOLD=1]="WAITINGTOEXCEEDTHRESHOLD",e[e.GESTURING=2]="GESTURING"}(T||(T={}));var N=i(79242);class w{constructor(e=.04,t=300){this.dragLimit=e,this.holdLimit=t,this.startPosition=new _.Vector2,this.pointerDelta=new _.Vector2,this.activeButtons=a.r.NONE,this.state=T.WAITING}start(e){if(this.state===T.WAITING&&this.startPosition.copy(e.position),0==(e.buttons&e.buttons-1))this.startTime=Date.now(),this.activeButtons=e.buttons,this.state=T.WAITINGTOEXCEEDTHRESHOLD;else if(this.activeButtons)return this.state=T.GESTURING,new N.TQ(e.position,this.activeButtons)}stop(){let e;return this.state===T.WAITINGTOEXCEEDTHRESHOLD&&Date.now()-this.startTime<this.holdLimit&&(e=new N.Rd(this.startPosition.add(this.pointerDelta),l(this.activeButtons)),this.pointerDelta.set(0,0)),this.state=T.WAITING,e}onMove(e){if(this.state===T.WAITINGTOEXCEEDTHRESHOLD&&(this.pointerDelta.copy(e.position).sub(this.startPosition),this.pointerDelta.length()>this.dragLimit))return this.state=T.GESTURING,new N.TQ(e.position,e.buttons)}compareState(e){return e===this.state}}class A{constructor(e=.04){this.dragLimit=e,this.lastClick=null,this.lastClickButton=null,this.lastClickPosition={x:0,y:0}}checkForDoubleClick(e){const t=()=>{this.lastClick=performance.now(),this.lastClickButton=e.button,this.lastClickPosition.x=e.position.x,this.lastClickPosition.y=e.position.y};if(this.lastClick){const i=performance.now()-this.lastClick,n=this.lastClickPosition.x-e.position.x,s=this.lastClickPosition.y-e.position.y,r=n*n+s*s;if(!(i>500||r>this.dragLimit||e.button!==this.lastClickButton))return this.lastClick=null,new N.bN(e.position,e.button);t()}else t()}}var I=i(95840);class k{constructor(e,t=.04){this.onEventCallback=e,this.startPosition=new _.Vector2,this.previousPosition=new _.Vector2,this.pointerDelta=new _.Vector2,this.lastPointerMove=Date.now(),this.state=T.WAITING,this.pointerId=0,this.threshold=t,this.device=null}start(e){return this.state===T.WAITING&&(this.startPosition.copy(e.position),this.previousPosition.copy(this.startPosition),this.state=T.WAITINGTOEXCEEDTHRESHOLD,this.device=e.device,this.pointerId=e.id),new I.E0(e.position,e.buttons,e.device,!!e.ctrlKey,e.id)}stop(){const e=(new _.Vector2).copy(this.previousPosition).sub(this.startPosition);this.state===T.GESTURING&&this.onEventCallback(new I.Zv(this.startPosition,e)),this.state===T.WAITING&&this.pointerDelta.set(0,0),this.state=T.WAITING;const t=Date.now()-this.lastPointerMove,i=this.device;if(this.device=null,!i)throw new Error("Cannot stop a drag gesture without a device that was tracked at the start");return new I._R(this.previousPosition,this.pointerDelta,a.r.NONE,t,e,i,this.pointerId)}onMove(e){let t;return this.state===T.WAITINGTOEXCEEDTHRESHOLD&&(this.pointerDelta.copy(e.position).sub(this.startPosition),this.pointerDelta.length()>this.threshold&&(this.state=T.GESTURING,this.onEventCallback(new I.u4(this.startPosition,e)))),this.state===T.GESTURING&&(this.pointerDelta.copy(e.position).sub(this.previousPosition),this.device=e.device,this.pointerDelta.length()>0&&(t=new I._t(this.previousPosition,this.pointerDelta,e.buttons,e.clientPosition,e.device,e.id))),this.previousPosition.copy(e.position),this.lastPointerMove=Date.now(),t}compareState(e){return e===this.state}compareStartPoint(e){return e.equals(this.startPosition)}compareDelta(e){return e.equals(this.pointerDelta)}}var P=i(52551);class L extends P.C{constructor(e){super(),this.scrollY=e}}class D{constructor(e,t,i=3){this.gutterScrollEnabled=e,this.canvas=t,this.threshold=i,this.state=T.WAITING}toggleTouchScrolling(e){this.gutterScrollEnabled=e}start(e){this.gutterScrollEnabled&&(0,f.y)(e.clientPosition.x,this.canvas)&&this.state===T.WAITING&&(this.startPosition=Object.assign({},e.clientPosition),this.previousY=e.clientPosition.y,this.state=T.WAITINGTOEXCEEDTHRESHOLD)}stop(){this.gutterScrollEnabled&&(this.state=T.WAITING)}onMove(e){if(!this.gutterScrollEnabled)return;const{x:t,y:i}=e.clientPosition,n=(0,f.y)(t,this.canvas);if(n&&this.state===T.WAITINGTOEXCEEDTHRESHOLD){const e=Math.abs(t-this.startPosition.x),n=Math.abs(i-this.startPosition.y);n>e&&n>this.threshold&&(this.state=T.GESTURING)}const s=i-this.previousY;if(this.previousY=i-s,n&&this.state===T.GESTURING)return new L(-s);!n&&[T.GESTURING,T.WAITINGTOEXCEEDTHRESHOLD].includes(this.state)&&(this.state=T.WAITING)}}var R=i(58724);class M{constructor(e=new _.Vector2,t=new _.Vector2,i=0){this.lastPosition=e,this.velocity=t,this.samePositionTicks=i}start(e){this.lastPosition.copy(e),this.velocity.set(0,0),this.samePositionTicks=0}update(e){if(this.lastPosition.distanceTo(e)<=.01){if(this.samePositionTicks++,this.samePositionTicks<2)return}else this.samePositionTicks=0;this.velocity.copy(this.lastPosition).sub(e),this.lastPosition.copy(e)}stationary(){return this.samePositionTicks>=2||this.velocity.length()<.01}}const C=2*Math.SQRT2;class x{constructor(e=.04){this.threshold=e,this.startDistance=0,this.previousDistance=0,this.pointerDelta=new _.Vector2,this.lastPointerMove=Date.now(),this.pinchDelta=0,this.state=T.WAITING,this.pointerMovement1=new M,this.pointerMovement2=new M}start(e,t){this.state===T.WAITING&&(this.restart(e,t),this.pointerMovement1.start(e.position),this.pointerMovement2.start(t.position))}stop(){this.state=T.WAITING;const e=Date.now()-this.lastPointerMove;return new R.i(this.pinchDelta,e)}onMove(e,t){this.pointerMovement1.update(e.position),this.pointerMovement2.update(t.position);if(!(this.pointerMovement1.stationary()||this.pointerMovement2.stationary()||this.pointerMovement1.velocity.dot(this.pointerMovement2.velocity)<0))return void this.restart(e,t);this.pointerDelta.copy(e.position).sub(t.position);const i=this.pointerDelta.length()/C;if(this.state===T.WAITINGTOEXCEEDTHRESHOLD){const e=i-this.startDistance;Math.abs(e)>this.threshold&&(this.state=T.GESTURING)}let n;if(this.state===T.GESTURING){const e=i-this.previousDistance;Math.abs(e)>0&&(this.pinchDelta=e,n=new R.G(e))}return this.previousDistance=i,this.lastPointerMove=Date.now(),n}restart(e,t){this.state=T.WAITINGTOEXCEEDTHRESHOLD,this.startDistance=e.position.distanceTo(t.position)/C,this.previousDistance=this.startDistance}}var F=i(96783),U=i(41200);class H{constructor(e=.1){this.startPointerDelta=new _.Vector2,this.previousPointerDelta=new _.Vector2,this.pointerDelta=new _.Vector2,this.lastPointerMove=Date.now(),this.angleWithDirection=0,this.state=T.WAITING,this.threshold=e}start(e,t){this.state===T.WAITING&&(this.state=T.WAITINGTOEXCEEDTHRESHOLD,this.startPointerDelta.copy(e.position).sub(t.position).normalize(),this.pointerDelta.copy(this.startPointerDelta),this.previousPointerDelta.copy(this.pointerDelta))}stop(){this.state=T.WAITING;const e=Date.now()-this.lastPointerMove;return new U.u(this.angleWithDirection,e)}onMove(e,t){if(this.pointerDelta.copy(e.position).sub(t.position).normalize(),this.state===T.WAITINGTOEXCEEDTHRESHOLD){Math.acos((0,F.uZ)(this.pointerDelta.dot(this.startPointerDelta),-1,1))>this.threshold&&(this.state=T.GESTURING)}let i;if(this.state===T.GESTURING){const e=Math.acos((0,F.uZ)(this.pointerDelta.dot(this.previousPointerDelta),-1,1));if(e>0){const t=this.previousPointerDelta.x*this.pointerDelta.y-this.previousPointerDelta.y*this.pointerDelta.x;this.angleWithDirection=t>=0?e:-e,i=new U.D(this.angleWithDirection)}}return this.previousPointerDelta.copy(this.pointerDelta),this.lastPointerMove=Date.now(),i}compareState(e){return e===this.state}}const j=function(e,t){if(t.setLength(0),0===e.length)return t;let i=0;for(const n of e)t.add(n),i++;return t.divideScalar(i),t};var V=i(12216);class B{constructor(e=.04){this.startEpicenter=new _.Vector2,this.previousEpicenter=new _.Vector2,this.deltaEpicenter=new _.Vector2,this.currentEpicenter=new _.Vector2,this.pointerCount=0,this.lastPointerMove=Date.now(),this.state=T.WAITING,this.pointerMovements=[],this.threshold=e}start(e){this.state===T.WAITING&&(this.restart(e),this.pointerMovements=e.map((e=>new M)),e.forEach(((e,t)=>{this.pointerMovements[t].start(e.position)})))}stop(){this.state=T.WAITING;const e=this.pointerCount;this.pointerCount=0;const t=Date.now()-this.lastPointerMove;return new V.h(e,this.currentEpicenter,this.deltaEpicenter,t)}onMove(e){j(this.getPointerPositions(e),this.currentEpicenter),e.forEach(((e,t)=>{this.pointerMovements[t].update(e.position)}));if(this.pointerMovements.find((e=>e.stationary())))return void this.restart(e);const t=this.pointerMovements[0].velocity;if(this.pointerMovements.find((e=>t.dot(e.velocity)<0)))return void this.restart(e);if(this.state===T.WAITINGTOEXCEEDTHRESHOLD){this.currentEpicenter.distanceTo(this.startEpicenter)>this.threshold&&(this.state=T.GESTURING)}let i;return this.state===T.GESTURING&&(this.deltaEpicenter.copy(this.currentEpicenter).sub(this.previousEpicenter),i=new V.d(e.length,this.currentEpicenter,this.deltaEpicenter)),this.previousEpicenter.copy(this.currentEpicenter),this.lastPointerMove=Date.now(),i}getPointerPositions(e){return e.map((e=>e.position))}restart(e){j(this.getPointerPositions(e),this.startEpicenter),this.previousEpicenter.copy(this.startEpicenter),this.currentEpicenter.copy(this.previousEpicenter),this.state=T.WAITINGTOEXCEEDTHRESHOLD,this.pointerCount=e.length}}var G=i(68720),W=i(11798);const z=new(i(53257).Z)("longpress");var K;!function(e){e[e.IDLE=0]="IDLE",e[e.WAITING=1]="WAITING",e[e.STARTED=2]="STARTED",e[e.SUCCESSFUL=3]="SUCCESSFUL"}(K||(K={}));class Y{constructor(e,t=500){this.onEventCallback=e,this.state=K.IDLE,this.ndcStartPosition=new _.Vector2,this.pointerDelta=new _.Vector2,this.ndcPosition=new _.Vector2,this.clientPosition=new _.Vector2,this.pressConfirmThreshold=this.pressStartThreshold=Math.max(t,1e-4)}start(e){this.state!==K.IDLE&&this.stop(),this.state===K.IDLE&&0==(e.buttons&e.buttons-1)&&(this.ndcStartPosition.copy(e.position),this.state=K.WAITING,this.buttons=e.buttons,this.pointerDelta.set(0,0),this.ndcPosition.copy(e.position),this.clientPosition.copy(e.clientPosition),this.holdTimeout=window.setTimeout((()=>{this.state=K.STARTED,z.debug("STARTED"),this.startTime=Date.now(),this.progress(0),this.onEventCallback(new W.Vh(e.position,e.clientPosition,e.buttons)),this.successTimeout=window.setTimeout((()=>{z.debug("SUCCESSFUL"),this.state=K.SUCCESSFUL,this.progress(1),this.onEventCallback(new W.$b(this.ndcPosition,this.clientPosition))}),this.pressConfirmThreshold)}),this.pressStartThreshold))}stop(){const e=this.state;if(this.state=K.IDLE,window.clearTimeout(this.holdTimeout),window.clearTimeout(this.successTimeout),e>K.WAITING){z.debug("DONE, cancelled:",e<K.SUCCESSFUL);const t=e<K.SUCCESSFUL;this.onEventCallback(new W.pt(this.ndcPosition,this.clientPosition,t))}}onMove(e){const t=this.state===K.STARTED||this.state===K.WAITING,i=this.state===K.STARTED||this.state===K.SUCCESSFUL;(t||i)&&(this.ndcPosition.copy(e.position),this.clientPosition.copy(e.clientPosition),this.pointerDelta.copy(this.ndcPosition).sub(this.ndcStartPosition)),t&&this.pointerDelta.length()>.1?this.stop():i&&this.onEventCallback(new W.DG(this.ndcPosition,this.clientPosition,this.pointerDelta,this.buttons))}tick(){if(this.state===K.STARTED){const e=1-(this.pressStartThreshold-(Date.now()-this.startTime))/this.pressStartThreshold;this.progress(Math.min(1,e))}}progress(e){this.onEventCallback(new W.PC(this.ndcPosition,this.clientPosition,this.pointerDelta,this.buttons,e))}}var q=i(92015),$=i(34608);class Z{constructor(){this.displayTouches=!1,this.touches=new Map}async init(e){const[t]=await Promise.all([e.getModuleBySymbol($.Ak)]);t.registerMenuButton({header:"Input",buttonName:"Toggle pointer visualization",callback:()=>{this.displayTouches=!this.displayTouches}})}addPointer(e,t){this.displayTouches&&(this.touches.set(e,this.createPointer(t)),this.movePointer(e,t))}removePointer(e){const t=this.touches.get(e);t&&(document.body.removeChild(t),this.touches.delete(e))}movePointer(e,t){const i=this.touches.get(e);i&&(i.style.left=t.x-25+"px",i.style.top=t.y-25+"px")}createPointer(e){const t=document.createElement("div");return t.style.position="fixed",t.style.backgroundColor="#aa11aa",t.style.width="50px",t.style.height="50px",t.style.zIndex="99999",t.style.pointerEvents="none",t.style.touchAction="none",t.style.borderRadius="50px",document.body.appendChild(t),t}}var Q,X=i(4763);!function(e){e[e.NONE=0]="NONE",e[e.CLICK_DRAG_LONGPRESS=1]="CLICK_DRAG_LONGPRESS",e[e.PINCH_ROTATE=2]="PINCH_ROTATE",e[e.MULTI_SWIPE_ONLY=3]="MULTI_SWIPE_ONLY"}(Q||(Q={}));class J{constructor(){this.activeGesture=Q.NONE,this.pointers=[],this.couldBeClick=!1,this.isScrolling=!1,this.bindings=[]}async init(e,t,i){this.onEventCallback=t;const n=await i.getModuleBySymbol(X.iM);this.clicker=new w(e.dragThreshold),this.doubleClicker=new A(e.dragThreshold),this.longPress=new Y(t,e.holdThreshold),this.dragger=new k(t,e.dragThreshold),this.pincher=new x(e.pinchThreshold),this.rotater=new H(e.rotateThreshold),this.multiswiper=new B(e.dragThreshold);const s=(0,p.yL)()&&(0,p.Jm)();this.scroller=new D(s,n.element,e.scrollThreshold),e.disableWheel||this.bindWheelHandlers(n.element),this.inputDebug=new Z,this.inputDebug.init(i)}dispose(){for(const e of this.bindings)null==e||e.cancel();this.bindings=[]}get activePointers(){return this.pointers.length}onPointerChange(e){this.isMoveEvent(e)?this.onPointerMove(e):this.onPointerButton(e)}toggleTouchScrolling(e){this.scroller.toggleTouchScrolling(e)}isMoveEvent(e){return!e.hasOwnProperty("down")}onPointerMove(e){this.movePointer(e),this.inputDebug.movePointer(e.id,e.clientPosition)}onPointerButton(e){e.down?(this.addPointer(e),this.inputDebug.addPointer(e.id,e.clientPosition)):(this.removePointer(e),this.inputDebug.removePointer(e.id))}bindWheelHandlers(e){this.bindings.push(new m.r(e,"wheel",(t=>{(0,p.yL)()&&(0,f.y)(t.clientX,e)||(t.preventDefault(),this.onEventCallback(new G.a({x:t.clientX,y:t.clientY},{x:this.normalizeWheelDelta(t.deltaMode,t.deltaX),y:this.normalizeWheelDelta(t.deltaMode,t.deltaY)})))})))}normalizeWheelDelta(e,t){if(e===WheelEvent.DOM_DELTA_LINE){return.7*t*t*t+13*t}return t}addPointer(e){const{id:t,button:i,position:n,clientPosition:s,device:r}=e,a=o(i);if(!a)return;const l=this.getPointer(t);l&&0==(l.buttons&a)?(l.buttons|=a,l.activeButtons++,l.device=r):this.pointers.push({id:t,position:new _.Vector2(n.x,n.y),clientPosition:new _.Vector2(s.x,s.y),buttons:a,activeButtons:1,device:r,ctrlKey:e.nativeEvent.ctrlKey}),this.toggleGestures(e)}removePointer(e){const{id:t,button:i}=e,n=o(i);if(!n)return;const s=this.getPointerIndex(t);if(-1!==s){const t=this.pointers[s];0!=(t.buttons&n)&&(t.buttons&=~n,t.activeButtons--),t.activeButtons||this.pointers.splice(s,1),this.toggleGestures(e)}}movePointer(e){const{id:t,position:i,clientPosition:n,buttons:s}=e,r=this.getPointer(t);if(r)switch(r.position.copy(i),r.clientPosition.copy(n),r.buttons!==s?this.updateOffscreenPointer(r,e):this.onEventCallback(new q.h(this.pointers)),this.activeGesture){case Q.CLICK_DRAG_LONGPRESS:const e=this.scroller.onMove(r);this.isScrolling=!!e;const t=this.clicker.onMove(r);t&&this.onEventCallback(t);const i=this.dragger.onMove(r);i&&!this.isScrolling&&this.onEventCallback(i),this.longPress.onMove(r);break;case Q.PINCH_ROTATE:const n=this.pincher.onMove(this.pointers[0],this.pointers[1]),s=this.rotater.onMove(this.pointers[0],this.pointers[1]);n&&this.onEventCallback(n),s&&this.onEventCallback(s);case Q.MULTI_SWIPE_ONLY:const a=this.multiswiper.onMove(this.pointers);a&&this.onEventCallback(a)}}getPointer(e){const t=this.getPointerIndex(e);if(-1!==t)return this.pointers[t]}toggleGestures(e){this.onEventCallback(new q.h(this.pointers));const t=this.activeGesture;if(this.activeGesture=this.pointers.length,t===Q.CLICK_DRAG_LONGPRESS&&this.activeGesture===Q.NONE&&this.couldBeClick){const e=this.clicker.stop();if(e&&!this.isScrolling){this.onEventCallback(e);const t=this.doubleClicker.checkForDoubleClick(e);t&&this.onEventCallback(t)}}if(this.couldBeClick=t===Q.NONE&&this.activeGesture===Q.CLICK_DRAG_LONGPRESS,this.activeGesture===Q.CLICK_DRAG_LONGPRESS){const t=this.clicker.start(this.pointers[0]);if(t&&this.onEventCallback(t),!e.defaultPrevented){this.scroller.start(this.pointers[0]);const e=this.dragger.start(this.pointers[0]);e&&this.onEventCallback(e),this.longPress.start(this.pointers[0])}}else if(t===Q.CLICK_DRAG_LONGPRESS){const e=this.dragger.stop();this.scroller.stop(),this.isScrolling=!1,this.longPress.stop(),this.onEventCallback(e)}this.activeGesture===Q.PINCH_ROTATE?(this.pincher.start(this.pointers[0],this.pointers[1]),this.rotater.start(this.pointers[0],this.pointers[1]),this.multiswiper.start(this.pointers)):t===Q.PINCH_ROTATE&&(this.onEventCallback(this.pincher.stop()),this.onEventCallback(this.rotater.stop()),this.onEventCallback(this.multiswiper.stop())),this.activeGesture===Q.MULTI_SWIPE_ONLY?this.multiswiper.start(this.pointers):t===Q.MULTI_SWIPE_ONLY&&this.onEventCallback(this.multiswiper.stop())}getPointerIndex(e){for(let t=0;t<this.pointers.length;t++){if(this.pointers[t].id===e)return t}return-1}updateOffscreenPointer(e,t){if(e.buttons=t.buttons,0===t.buttons){const i=this.getPointerIndex(e.id);this.pointers.splice(i,1),this.toggleGestures(t)}}tick(){this.longPress.tick()}}var ee=i(25541),te=i(86210),ie=i(23998),ne=i(67781);class se{constructor(e,t,i){this._renew=e,this._cancel=t,this.active=i}renew(){this.active()||this._renew()}cancel(){this.active()&&this._cancel()}}class re extends n.Y{constructor(){super(...arguments),this.name="input-ini",this.fallbackHandlerMap={},this.meshHandlerMap={},this.priorityHandlerMap={},this.unfilteredHandlerMap={},this.captureHandlerMap={},this.gesturing=!1,this.gestureCapture=new ee.Z((e=>e.object.id)),this.activeIntersections=new ee.Z((e=>e.object.id)),this.eventTypeLookup=new s.cj,this.meshTypeLookup=new s.cj,this.hoveredMesh={object:null,instanceId:void 0,index:void 0},this.registerUnfilteredHandler=(e,t)=>{this.insertHandler(e,this.unfilteredHandlerMap,t);const i=this.eventTypeLookup.getKeyByType(e);return new se((()=>this.registerUnfilteredHandler(e,t)),(()=>this.unregisterUnfilteredHandler(e,t)),(()=>-1!==this.unfilteredHandlerMap[i].indexOf(t)))},this.registerMesh=(e,t,i)=>{this.raycaster.targets.addTarget(e,t,i)},this.unregisterMesh=e=>{this.raycaster.targets.removeTarget(e)},this.onPointerEvent=e=>{const t=!e.hasOwnProperty("down"),i=!t&&e.down,n=!i&&!t;this.raycaster.pointer.updatePointer(e.position),this.activeIntersections.clear();for(const e of this.raycaster.pointer.cast())this.activeIntersections.add(e);if(t||i){if(!this.gesturing){this.gestureCapture.clear();for(const e of this.activeIntersections)this.gestureCapture.add(e);this.updateHoveredMesh(e)}i&&(this.gesturing=!0),this.onEvent(e)}n&&this.onEvent(e),this.inputGesture.onPointerChange(e),0===this.inputGesture.activePointers&&(this.activeIntersections.clear(),this.gestureCapture.clear(),this.gesturing&&this.updateHoveredMesh(e),this.gesturing=!1)},this.onEvent=e=>{const t=this.eventTypeLookup.getKeyByInstance(e),i=this.captureHandlerMap[t];if(i&&i.length>0){for(const t of i)t(e);return void(i.length=0)}const n=this.unfilteredHandlerMap[t];if(n)for(const t of n)t(e);const s=this.iterateMeshCallbacks(e,this.gesturing?this.gestureCapture:this.activeIntersections),r=this.fallbackHandlerMap[t];if(!s&&r)for(const t of r)t(e)}}async init(e,t){const i={disableWheel:!!e.disableWheel},n=(0,p.yL)()&&(0,p.Jm)();this.bindings.push(t.commandBinder.addBinding(ne.U,(async()=>{n&&(this.inputGesture.toggleTouchScrolling(!0),this.inputPointer.toggleTouchScrolling(!0))})),t.commandBinder.addBinding(ne.t,(async()=>{n&&(this.inputGesture.toggleTouchScrolling(!1),this.inputPointer.toggleTouchScrolling(!1))})));const s=await t.getModuleBySymbol(X.iM),r=await t.market.waitForData(ie.W);this.raycaster=await t.getModuleBySymbol(X.fQ),this.inputPointer=new g({pointerPreventDefault:e.pointerPreventDefault},s.element,r,this.onPointerEvent,n),this.keyboardState=new O(e.rootNode,this.onEvent),this.inputGesture=new J,this.inputGesture.init(i,this.onEvent,t)}dispose(e){super.dispose(e),this.inputPointer.dispose(),this.keyboardState.dispose(),this.inputGesture.dispose()}registerHandler(e,t){this.insertHandler(e,this.fallbackHandlerMap,t);const i=this.eventTypeLookup.getKeyByType(e,!0);return new se((()=>this.registerHandler(e,t)),(()=>this.unregisterHandler(e,t)),(()=>-1!==this.fallbackHandlerMap[i].indexOf(t)))}unregisterHandler(e,t){this.removeHandler(e,this.fallbackHandlerMap,t)}registerMeshHandler(e,t,i,n){return this._registerMeshHandler(e,{comparator:t,callback:i,default:null==n?void 0:n.default})}_registerMeshHandler(e,t){var i;const n=this.eventTypeLookup.getKeyByType(e,!0);this.meshHandlerMap[n]||(this.meshHandlerMap[n]=[]);const s=this.meshHandlerMap[n];let r=s.length;if(!t.default)for(;null===(i=s[r-1])||void 0===i?void 0:i.default;)r--;return s.splice(r,0,t),new se((()=>this._registerMeshHandler(e,t)),(()=>this.unregisterMeshHandler(e,t)),(()=>-1!==s.indexOf(t)))}unregisterMeshHandler(e,t){const i=this.eventTypeLookup.getKeyByType(e,!0);if(this.meshHandlerMap[i]){const e=this.meshHandlerMap[i],n=e.indexOf(t);n>-1&&e.splice(n,1)}}registerPriorityHandler(e,t,i){const n=this.eventTypeLookup.getKeyByType(e,!0),r=this.meshTypeLookup.getKeyByType(t,!0);this.priorityHandlerMap[n]||(this.priorityHandlerMap[n]={});const a=this.priorityHandlerMap[n];if(a[r]){const i=(0,s.z$)(e),n=(0,s.z$)(t);throw Error(`${i} already has a priority handler registered for mesh type: ${n}`)}return a[r]=i,new se((()=>this.registerPriorityHandler(e,t,i)),(()=>this.unregisterPriorityHandler(e,t,i)),(()=>void 0!==a[r]))}unregisterPriorityHandler(e,t,i){const n=this.eventTypeLookup.getKeyByType(e),s=this.priorityHandlerMap[n];if(s){const e=this.meshTypeLookup.getKeyByType(t),n=s[e];n&&i===n&&delete s[e]}}unregisterUnfilteredHandler(e,t){this.removeHandler(e,this.unfilteredHandlerMap,t)}captureNext(e,t){return this.insertHandler(e,this.captureHandlerMap,t),t}removeCaptureHandler(e,t){this.removeHandler(e,this.captureHandlerMap,t)}registerSnappingMeshGeometry(e,t,i,n){this.raycaster.snapping.addMeshGeometry(e,t,i,n)}unregisterSnappingMeshGeometry(e){this.raycaster.snapping.removeMeshGeometry(e)}getCurrentPointerRay(){return this.raycaster.pointer.pointerRay.clone()}getCurrentRayHits(){return this.activeIntersections.copyToList([])}updateHoveredMesh(e){const t=this.activeIntersections.getByIndex(0),i=t&&t.object===this.hoveredMesh.object&&t.instanceId===this.hoveredMesh.instanceId&&t.index===this.hoveredMesh.index;let n=!1;if(this.hoveredMesh.object&&(void 0===t||!i)){const i=this.getMeshHandler(te.A,(0,s.oL)(this.hoveredMesh.object),this.priorityHandlerMap);if(i&&(n=i(new te.A(e.nativeEvent),this.hoveredMesh.object,t)||!1),!n){const i=this.meshHandlerMap[this.eventTypeLookup.getKeyByType(te.A)];if(i)for(const n of i)n.comparator.compare(this.hoveredMesh.object)&&n.callback(new te.A(e.nativeEvent),this.hoveredMesh.object,t)}}let r=!1;if(t&&!i){const i=this.getMeshHandler(te.z,(0,s.oL)(t.object),this.priorityHandlerMap);if(i&&(r=i(new te.z(e.nativeEvent),t.object,t)||!1),!r){const i=this.meshHandlerMap[this.eventTypeLookup.getKeyByType(te.z)];if(i)for(const n of i)n.comparator.compare(t.object)&&n.callback(new te.z(e.nativeEvent),t.object,t)}}this.hoveredMesh.object=t&&t.object||null,this.hoveredMesh.instanceId=null==t?void 0:t.instanceId,this.hoveredMesh.index=null==t?void 0:t.index}iterateMeshCallbacks(e,t){let i=!1;const n=this.eventTypeLookup.getKeyByInstance(e);for(let s=0;s<t.count();s++){const r=t.getByIndex(s);if(!r)continue;if(i)break;const a=r.object,o=this.activeIntersections.get(a.id)||r;for(const t in this.priorityHandlerMap[n])if(r.object instanceof this.meshTypeLookup.getTypeByKey(t)){const s=this.priorityHandlerMap[n]&&this.priorityHandlerMap[n][t];if(s&&(i=!0,s(e,a,o)||e.propagationStopped))return!0}const l=this.meshHandlerMap[n];if(l)for(const t of l)if(t.comparator.compare(a)&&(!t.default||!e.defaultPrevented)){const n=t.callback(e,a,o);(n||void 0===n||e.propagationStopped)&&(i=!0)}}return i}insertHandler(e,t,i){const n=this.eventTypeLookup.getKeyByType(e,!0);t[n]||(t[n]=[]),t[n].push(i)}removeHandler(e,t,i){const n=t[this.eventTypeLookup.getKeyByType(e)];if(n)for(let e=0;e<n.length;e++)if(n[e]===i){n.splice(e,1);break}}getMeshHandler(e,t,i){const n=i[this.eventTypeLookup.getKeyByType(e)];if(n){return n[this.meshTypeLookup.getKeyByType(t)]}return null}onUpdate(){this.inputGesture.tick()}}},31971:(e,t,i)=>{"use strict";i.d(t,{e:()=>s});var n=i(3673);class s extends n.G{constructor(e,t,i){super(),this.key=e,this.state=t,this.modifiers=i}}},59228:(e,t,i)=>{"use strict";i.d(t,{er:()=>r,mE:()=>a});var n=i(3673);class s extends n.G{}class r extends s{constructor(e,t,i,n,s,r,a){super(),this.id=e,this.position=t,this.clientPosition=i,this.button=n,this.down=s,this.device=r,this.nativeEvent=a}}class a extends s{constructor(e,t,i,n,s,r){super(),this.id=e,this.position=t,this.clientPosition=i,this.buttons=n,this.device=s,this.nativeEvent=r}}},47426:(e,t,i)=>{"use strict";i.d(t,{_:()=>r,y:()=>a});var n=i(79242),s=i(40333);const r=e=>e instanceof n.Rd?e.button===s.M.PRIMARY:e.buttons===s.r.PRIMARY,a=(e,t)=>{var i;const n=(null===(i=t.parentElement)||void 0===i?void 0:i.clientWidth)||0,s=t.offsetLeft,r=t.offsetWidth,a=Math.max(60,Math.min(90,.08*r));return 0===s&&e>0&&e<a||!(s+r<n)&&e>n-a}},30850:(e,t,i)=>{"use strict";var n,s;i.d(t,{f:()=>s,s:()=>n}),function(e){e.Desktop="desktop",e.Mobile="mobile",e.VrOrientOnly="xr.orientonly",e.VrWithController="xr.controller",e.VrWithTrackedController="xr.trackedcontroller"}(n||(n={})),function(e){e.None="interaction.none",e.Direct="interaction.direct",e.Key="interaction.key",e.Gui="interaction.gui",e.Mouse="interaction.mouse",e.Touch="interaction.touch",e.Pen="interaction.pen",e.XRController="interaction.xr.controller",e.XRGaze="interaction.xr.gaze",e.XRScreen="interaction.xr.screen"}(s||(s={}))},55574:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(42141),s=i(30850);class r extends n.V{constructor(){super(...arguments),this.name="interaction",this._source=r.defaultSource,this._mode=r.defaultMode}static get defaultMode(){return s.s.Desktop}static get defaultSource(){return s.f.None}get mode(){return this._mode}get source(){return this._source}updateSource(e){this._source=e}updateMode(e){this._mode=e}hasController(e=this.mode){return e===s.s.VrWithController||e===s.s.VrWithTrackedController}isVR(e=this.mode){return e===s.s.VrOrientOnly||e===s.s.VrWithController||e===s.s.VrWithTrackedController}isMobile(e=this.mode){return e===s.s.Mobile}}},3999:(e,t,i)=>{"use strict";i.d(t,{a:()=>r,m:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.mode=e,this.fromMode=t}}class r extends n.v0{constructor(e){super(),this.source=e}}},29638:(e,t,i)=>{"use strict";i.d(t,{D:()=>o});var n=i(42141),s=i(42896),r=i(28721);const a=new(i(53257).Z)("label-data");class o extends n.V{constructor(e){super(),this.name="label",this.has=e=>this.map.has(e),this.getLabel=e=>this.map.get(e),this.map=(0,s.q)(e||{})}getCount(){return this.map.length}add(e){let t=e.sid;return this.map.has(t)&&a.warn("Label already tracked:",{sid:t,label:e,existing:this.getLabel(t)}),t=t||this.generateSid(),e.sid=t,e.commit(),this.map.set(e.sid,e),t}generateSid(){let e="";for(;!e||this.map.has(e);)e=(0,r.O1)(11);return e}remove(e){return!!this.map.has(e)&&(this.map.delete(e),!0)}clear(){this.map.clear()}replace(e){this.map.replace(e)}getCollection(){return this.map}iterate(e){for(const t of this.map.keys)e(this.map.get(t),t)}isEqual(e){if(this.map.length!==e.map.length)return!1;for(const t of this.map){const i=e.map.get(t.sid);if(!i||!o.labelsAreEqual(t,i))return!1}return!0}static labelsAreEqual(e,t){return e.floorId===t.floorId&&e.roomId===t.roomId&&e.position.x===t.position.x&&e.position.y===t.position.y&&e.position.z===t.position.z&&e.sid===t.sid&&e.text===t.text&&e.floorId===t.floorId&&e.roomId===t.roomId&&e.visible===t.visible}getLabelsForRoom(e){const t=[];return this.iterate((i=>{i.roomId===e&&t.push(i)})),t}}},82196:(e,t,i)=>{"use strict";i.d(t,{Cu:()=>s,Nj:()=>n});const n="features/labels",s="features/3d_labels_enabled"},87055:(e,t,i)=>{"use strict";i.d(t,{W:()=>s});var n=i(64831);class s extends n.T{constructor(e={}){super(),this.transactions=new Set,Object.assign(this,e)}onApply(e){return this.transactions.add(e),{delete:()=>{this.transactions.delete(e)}}}async applyTransactions(){for(const e of this.transactions)await e()}}},22925:(e,t,i)=>{"use strict";i.d(t,{R:()=>g});var n=i(42141),s=i(53257),r=i(53584),a=i(79978),o=i(10637),l=i(44303),c=i(99935),d=i(87055),u=i(49095),h=i(20348),p=i(59491),m=i(28721);const f=new s.Z("layers-data");class g extends n.V{constructor(e,t){super(),this.commonInMemoryLayers=new r.d,this.inMemoryLayers=new r.d,this.layerObservers=new Set,this.layerVisibilityCache=new Map,this.layerToggledCache=new Map,this.currentViewId="",this.initialViewId="",this.layersEnabled=!1,this.initialViewId=t.id,this.viewsObservable=(0,r.C)([t]),this.mdsContext=e}setCurrentView(e){if(e===this.currentViewId)return;const t=this.getView(e);if(!t)throw new a.SN("Model View not found");this.aggregateLayerObserver&&this.aggregateLayerObserver.cancel(),f.debug(`Active view set to ${e} (${t.viewType})`),this.currentViewId=e,this.commit();const i=()=>{this.refreshLayerCaches(),this.layerObservers.forEach((e=>e()))};this.aggregateLayerObserver=new h.V(this.getCurrentView().layers.onChanged(i),this.inMemoryLayers.onChanged(i)),i()}getCurrentView(){const e=this.getView(this.currentViewId);if(!e)throw new a.SN("Missing current model view");return e}getInitialView(){const e=this.getView(this.initialViewId);if(!e)throw new a.SN("Missing initial model view");return e}addView(e){this.viewsObservable.push(e)}canDeleteView(e){const t=this.getView(e);return!!t&&((0,u.ys)(t)||(0,u.Gl)(t))}canDisableView(e){const t=this.getView(e);return!!t&&((0,u.ys)(t)||(0,u.Gl)(t)||(0,u.eU)(t))}canDuplicateView(e){const t=this.getView(e);return!!t&&((0,u.ys)(t)||(0,u.AI)(t))}canBatchDeleteInActiveView(){return this.isModelLayered()||!(0,u.AI)(this.getCurrentView())}validateViewName(e){return e.length>0&&e.length<=c.ty}setViews(e){this.viewsObservable.replace(e)}getView(e){const t=this.viewsObservable.find((t=>t.id===e));if(!t)throw new a.SN(`Model View not found: ${e}`);return t}deleteView(e){const t=this.viewsObservable.findIndex((t=>t.id===e));-1!==t&&this.viewsObservable.remove(t)}hasUserViews(){return!!this.viewsObservable.find((e=>(0,u.ys)(e)))}getOrderedModelViews({includeDefurnish:e=!1,includeDisabled:t=!1,includeInsights:i=!1}={}){const n=this.viewsObservable.values().slice().filter((n=>(t||n.enabled)&&((0,u.ys)(n)||i&&(0,u.Gl)(n)||e&&(0,u.eU)(n)))).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{numeric:!0}))),s=this.getBaseModelView();return s&&n.unshift(s),n}onModelViewsChanged(e){return this.viewsObservable.onChanged(e)}onCurrentLayersChanged(e){return(0,p.k1)((()=>this.layerObservers.add(e)),(()=>this.layerObservers.delete(e)))}currentLayers(){return this.getCurrentView().layers.values().concat(this.commonInMemoryLayers.values())}viewLayers(){const e=this.currentLayers();return this.filterUserFacingLayers(e)}filterUserFacingLayers(e){const t=[l.s0.VIEW_DATA_LAYER,l.s0.USER_LAYER,l.s0.IN_MEMORY,l.s0.COMMON_USER_LAYER,l.s0.OTHER];return!!e.find((e=>e.layerType===l.s0.VIEW_DATA_LAYER))||t.push(l.s0.BASE_LAYER),e.filter((e=>t.includes(e.layerType)))}getLayer(e){return this.currentLayers().find((t=>t.id===e))}findLayer(e){return[...this.getCurrentView().layers.values(),...this.inMemoryLayers.values()].find((t=>t.id===e))}getActiveLayer(){return this.getLayer(this.activeLayerId)}getBaseLayerId(){const e=this.currentLayers().find((e=>e.layerType===l.s0.BASE_LAYER));return(null==e?void 0:e.id)||o.gi}getViewLayerId(){const e=this.currentLayers().find((e=>e.layerType===l.s0.VIEW_DATA_LAYER));return null==e?void 0:e.id}getProxyLayerId(){const e=this.currentLayers().find((e=>e.layerType===l.s0.PROXY_LAYER));return null==e?void 0:e.id}getViewLayerIdForBaseView(){const e=this.getBaseModelView();let t;return e&&(t=e.layers.find((e=>e.layerType===l.s0.VIEW_DATA_LAYER))),null==t?void 0:t.id}getCurrentUserLayers(){return this.currentLayers().filter((e=>e.visible&&[l.s0.USER_LAYER,l.s0.COMMON_USER_LAYER].includes(e.layerType)))}setActiveCurrentLayer(e){if(e===this.activeLayerId)return;if(!this.currentLayers().find((t=>t.id===e)))throw new Error("Invalid layer id!");this.activeLayerId=e,this.commit()}layerVisible(e){return!e||!this.layersEnabled||!!this.layerVisibilityCache.get(e)}layerToggled(e){return!e||!this.layersEnabled||!!this.layerVisible(e)&&!!this.layerToggledCache.get(e)}toggleLayer(e,t){const i=this.getLayer(e);if(!i)throw new Error("Attempt to toggle unknown layer!");this.layerToggledCache.set(e,t),i.toggled=t,i.commit()}isInMemoryLayer(e){return this.layersEnabled&&(!e||!!this.inMemoryLayers.find((t=>t.id===e)))}addInMemoryLayer(e){var t,i;let n=(0,m.O1)(11);for(;this.inMemoryLayers.find((e=>e.id===n));)n=(0,m.O1)(11);const s=new d.W(Object.assign(Object.assign({},e),{id:n,layerType:l.s0.IN_MEMORY,toggled:null!==(t=e.toggled)&&void 0!==t&&t,visible:null!==(i=e.visible)&&void 0!==i&&i}));return e.common&&this.commonInMemoryLayers.push(s),this.inMemoryLayers.push(s),s}removeInMemoryLayer(e){const t=this.inMemoryLayers.findIndex((t=>t.id===e));if(-1===t)throw new Error("In memory layer not found!");this.inMemoryLayers.splice(t,1);const i=this.inMemoryLayers.findIndex((t=>t.id===e));t>-1&&this.commonInMemoryLayers.splice(i,1)}validateLayerName(e){return e.length>0&&e.length<=c.Pd}replaceBackendLayers(e,t){for(const t of e.keys)this.isInMemoryLayer(e.get(t).layerId)||e.delete(t);for(const i of Object.keys(t))e.set(i,t[i])}setBaseLayerOnly(){this.commonInMemoryLayers.push(new d.W({id:o.gi,layerType:l.s0.BASE_LAYER}))}getWorkshopSessionView(){return this.viewsObservable.find((e=>e.viewType===l.XZ.SESSION))}isWorkshopSessionView(){var e;return(null===(e=this.getWorkshopSessionView())||void 0===e?void 0:e.id)===this.currentViewId}isWorkshopSessionViewEnabled(){var e;return(null===(e=this.getWorkshopSessionView())||void 0===e?void 0:e.enabled)||!1}getBaseModelView(){return this.viewsObservable.find((e=>(0,u.AI)(e)))}getBaseModelId(){var e;return(null===(e=this.getBaseModelView())||void 0===e?void 0:e.id)||this.initialViewId}isModelLayered(){const e=this.getBaseModelView();return!!e&&(0,u.dW)(e)}isCurrentViewLayered(){const e=this.getCurrentView(),{viewType:t}=e;return t===l.XZ.LAYERED_BASE||t===l.XZ.USER||t===l.XZ.INSIGHTS}getNonworkshopViewId(){const e=this.getCurrentView();return e.viewType!==l.XZ.SESSION?e.id:this.getBaseModelId()}getWorkshopOrBaseId(){const e=this.getCurrentView();return e.viewType===l.XZ.SESSION?e.id:this.getBaseModelId()}getDefurnishOrBaseId(){const e=this.getCurrentView();return e.viewType===l.XZ.DEFURNISH?e.id:this.getBaseModelId()}getNotesLayerId(e){if(e&&this.layersEnabled)return this.activeLayerId;const t=this.getViewLayerId();if(t)return t;const i=this.getCurrentView();if((0,u.AI)(i))return this.getBaseLayerId();if(this.layersEnabled)throw new Error("No View Layer in User View");return this.activeLayerId}getOrderedListsLayerId(){if(!this.layersEnabled)return;const e=this.getViewLayerId();if(e)return e;const t=this.getCurrentView();if((0,u.AI)(t))return this.getBaseLayerId();throw new Error("No View Layer in User View")}refreshLayerCaches(){this.layerToggledCache.clear(),this.layerVisibilityCache.clear();const e=this.currentLayers();for(const t of e)this.layerToggledCache.set(t.id,t.toggled),this.layerVisibilityCache.set(t.id,t.visible)}}},11552:(e,t,i)=>{"use strict";i.d(t,{H:()=>r});var n=i(53584),s=i(64831);class r extends s.T{constructor(e={}){super(),this.name="",this.viewType=null,this.rawViewType="",this.enabled=!0,this.layers=new n.d,Object.assign(this,e)}}},35575:(e,t,i)=>{"use strict";i.d(t,{Ap:()=>k,BK:()=>w,Bv:()=>d,Ch:()=>g,EO:()=>v,GD:()=>E,Go:()=>I,Ib:()=>_,Ld:()=>T,MV:()=>D,Qz:()=>O,Tj:()=>A,Wb:()=>y,Wx:()=>N,bR:()=>h,cj:()=>b,cq:()=>L,d:()=>m,dL:()=>u,fk:()=>a,iS:()=>S,mU:()=>p,oS:()=>l,vM:()=>f,vO:()=>o,wG:()=>c,wQ:()=>P});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={viewId:e}}}class r extends n.m{constructor(e,t){super(),this.payload={viewId:e,name:t}}}class a extends n.m{}a.id="MODEL_TO_LAYERED_COMMAND";class o extends n.m{}o.id="CHECK_FOR_PROXY_LAYER_COMMAND";class l extends n.m{}l.id="DISABLE_WORKSHOP_SESSION_COMMAND";class c extends s{}c.id="MODEL_VIEW_SET_COMMAND";class d extends n.m{constructor(e){super(),this.payload={name:e}}}d.id="USER_VIEW_ADD_COMMAND";class u extends s{}u.id="VIEW_DELETE_COMMAND";class h extends r{}h.id="VIEW_RENAME_COMMAND";class p extends n.m{constructor(e,t){super(),this.payload={viewId:e,enabled:t}}}p.id="VIEW_TOGGLE_ENABLE_COMMAND";class m extends r{}m.id="VIEW_DUPLICATE_COMMAND";class f extends n.m{constructor(e){super(),this.payload={confirmViewChange:e}}}f.id="REGISTER_CONFIRM_VIEW_CHANGE";class g extends n.m{constructor(e){super(),this.payload=e}}g.id="REGISTER_DUPLICATE_VIEW_HELPER_COMMAND";class v extends n.m{constructor(e){super(),this.payload=e}}v.id="UNREGISTER_DUPLICATE_VIEW_HELPER_COMMAND";class y extends n.m{constructor(e,t){super(),this.payload={layerId:e,items:t}}}y.id="LAYER_ITEMS_COPY_COMMAND";class E extends n.m{constructor(e,t){super(),this.payload={name:e,items:t}}}E.id="LAYER_ITEMS_COPY_NEW_COMMAND";class b extends n.m{constructor(e,t){super(),this.payload={layerId:e,items:t}}}b.id="LAYER_ITEMS_MOVE_COMMAND";class S extends n.m{constructor(e){super(),this.payload={items:e}}}S.id="VIEW_ITEMS_DELETE_COMMAND";class O extends n.m{constructor(e,t){super(),this.payload={label:e,common:t}}}O.id="ADD_LAYER_COMMAND";class T extends n.m{constructor(e){super(),this.payload={layerProps:e}}}T.id="ADD_INMEMORY_LAYER_COMMAND";class _ extends n.m{constructor(e,t){super(),this.payload={layerId:e,label:t}}}_.id="DATA_LAYER_DUPLICATE_COMMAND";class N extends n.m{constructor(e){super(),this.payload={layerId:e}}}N.id="DELETE_LAYER_COMMAND";class w extends n.m{constructor(e){super(),this.payload={layerId:e}}}w.id="REMOVE_LAYER_COMMAND";class A extends n.m{constructor(e,t){super(),this.payload={layerId:e,label:t}}}A.id="RENAME_LAYER_COMMAND";class I extends n.m{constructor(e,t){super(),this.payload={layerId:e,visible:t}}}I.id="LAYER_TOGGLE_VISIBLE_COMMAND";class k extends n.m{constructor(e,t){super(),this.payload={layerId:e,common:t}}}k.id="LAYER_TOGGLE_COMMON_COMMAND";class P extends n.m{constructor(e,t){super(),this.payload={layerId:e,position:t}}}P.id="SET_LAYER_POSITION_COMMAND";class L extends n.m{constructor(e,t){super(),this.payload={layerId:e,selected:t}}}L.id="LAYER_SELECT_COMMAND";class D extends n.m{constructor(e,t){super(),this.payload={layerId:e,on:t}}}D.id="LAYER_TOGGLE_COMMAND"},44303:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{HH:()=>r,XZ:()=>n,s0:()=>s}),function(e){e.BASE="base",e.LAYERED_BASE="layered-base",e.INSIGHTS="insights",e.TRUEPLAN="trueplan",e.SESSION="session",e.USER="user",e.DEFURNISH="defurnish",e.OTHER="other"}(n||(n={})),function(e){e.BASE_LAYER="matterport.base",e.VIEW_DATA_LAYER="matterport.user.data",e.USER_LAYER="matterport.user.data.ext",e.IN_MEMORY="matterport.in-memory",e.WORKSHOP="matterport.workshop.jsonstore",e.COMMON_USER_LAYER="matterport.user.data.common",e.OVERLAY_ASSETS_LAYER="matterport.overlay.assets",e.PROXY_LAYER="matterport.proxy.common",e.OTHER="other layer type"}(s||(s={})),function(e){e.TYPE="type",e.FLOOR="floor",e.ROOM="room",e.LAYER="layer",e.DATE="date"}(r||(r={}))},56966:(e,t,i)=>{"use strict";i.d(t,{Eo:()=>l,N$:()=>o,Od:()=>c,Pe:()=>s,Uo:()=>r,Wp:()=>a,lr:()=>d,uB:()=>h,vK:()=>u});var n=i(1055);const s="model-views-feature",r="views",a="data-layers-feature",o="layers",l="spaces.webgl.layers.mode";var c;!function(e){e.DISABLED="disabled",e.VIEWS_OPTIONAL_OPT_IN="user_views",e.VIEWS_ENABLED="views_enabled",e.VIEWS_AND_LAYERS="views_layers",e.LAYERS_ONLY="layers"}(c||(c={}));const d="layers";var u;function h(e){const t=function(){switch((0,n.FU)()[d]){case u.DISABLED:return c.DISABLED;case u.VIEWS_ENABLED:return c.VIEWS_ENABLED;case u.VIEWS_AND_LAYERS:return c.VIEWS_AND_LAYERS;case u.LAYERS_ONLY:return c.LAYERS_ONLY}}();if(void 0!==t)return t;const i=e.getPolicy(l);return i&&i.value?i.value===c.VIEWS_OPTIONAL_OPT_IN?c.VIEWS_AND_LAYERS:i.value:c.DISABLED}!function(e){e.DISABLED="0",e.VIEWS_ENABLED="2",e.VIEWS_AND_LAYERS="3",e.LAYERS_ONLY="4"}(u||(u={}))},7254:(e,t,i)=>{"use strict";i.d(t,{LP:()=>o});var n=i(16996),s=i(67294),r=i(67951),a=i(22925);(0,n.M)(a.R,"activeLayerId","");function o(){const e=(0,r._)(),[t,i]=(0,s.useState)(null==e?void 0:e.getActiveLayer());return(0,s.useEffect)((()=>{if(!e)return()=>{};function t(){i(null==e?void 0:e.getActiveLayer())}const n=e.onPropertyChanged("activeLayerId",t);return t(),()=>n.cancel()}),[e]),t}},15187:(e,t,i)=>{"use strict";i.d(t,{K:()=>r});var n=i(67294),s=i(67951);function r(){const e=(0,s._)(),[t,i]=(0,n.useState)((null==e?void 0:e.getCurrentView())||void 0);return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){i((null==e?void 0:e.getCurrentView())||void 0)}const n=e.onPropertyChanged("currentViewId",t);return t(),()=>n.cancel()}),[e]),t}(0,i(16824).M)("activeModelView",r)},18131:(e,t,i)=>{"use strict";i.d(t,{W:()=>h});var n=i(67294),s=i(7321),r=i(78897),a=i(28721),o=i(44303),l=i(67951),c=i(99935);const{LAYERS:d}=s.Z.WORKSHOP;function u(e,t,i,n){const s=i?null==e?void 0:e.getLayer(i):null;let r=null==s?void 0:s.name;if(!r){r=t.t(d.UNTITLED_LAYER_PLACEHOLDER);const e=null==s?void 0:s.layerType;(null==n?void 0:n.viewType)===o.XZ.TRUEPLAN&&e===o.s0.OTHER?r=t.t(d.TRUEPLAN_LAYER_LABEL):e!==o.s0.BASE_LAYER&&e!==o.s0.VIEW_DATA_LAYER||(r=t.t(d.UNLAYERED_LAYER_LABEL))}return(0,a.aS)(r,c.Pd)}function h(e,t){const i=(0,l._)(),s=(0,r.b)(),[a,o]=(0,n.useState)(u(i,s,e,t));return(0,n.useEffect)((()=>{if(!i)return()=>{};function n(){o(u(i,s,e,t))}const r=i.onCurrentLayersChanged(n);return n(),()=>r.cancel()}),[i,e,t,s]),a}},67951:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var n=i(38908),s=i(22925);const r=(0,n.u)(s.R)},82441:(e,t,i)=>{"use strict";i.d(t,{Y:()=>a});var n=i(67294),s=i(67951);function r(e){if(!e)return[];const t=e.viewLayers();return t.length>1&&t.unshift(t.splice(t.length-1,1)[0]),t}function a(){const e=(0,s._)(),[t,i]=(0,n.useState)(r(e));return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){i(r(e))}const n=e.onCurrentLayersChanged(t);return t(),()=>n.cancel()}),[e]),t}},75171:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AddInMemoryLayerCommand:()=>n.Ld,AddUserLayerCommand:()=>n.Qz,AddUserViewCommand:()=>n.Bv,AnnotationGrouping:()=>s.HH,CheckForProxyLayerCommand:()=>n.vO,ConvertModelToLayeredCommand:()=>n.fk,CopyItemsToLayerCommand:()=>n.Wb,CopyItemsToNewLayerCommand:()=>n.GD,DataLayer:()=>u.W,DataLayerType:()=>s.s0,DeleteItemsFromViewCommand:()=>n.iS,DeleteLayerCommand:()=>n.Wx,DeleteViewCommand:()=>n.dL,DisableWorkshopSessionCommand:()=>n.oS,DuplicateLayerCommand:()=>n.Ib,DuplicateViewCommand:()=>n.d,LAYERS_POLICY:()=>o.Eo,LAYERS_SUPPORT_PAGE_URL:()=>l.fB,LAYERS_URL_PARAM:()=>o.lr,LayerAddedMessage:()=>c.ue,LayersBatchItemsCompleteMessage:()=>c.WG,LayersData:()=>h.R,LayersModule:()=>j,LayersPolicy:()=>o.Od,LayersUrlParam:()=>o.vK,LayersViewError:()=>a,MAX_LAYER_NAME_LENGTH:()=>l.Pd,MAX_VIEW_NAME_LENGTH:()=>l.ty,ModelView:()=>T.H,ModelViewChangeCompleteMessage:()=>c.YB,ModelViewType:()=>s.XZ,MoveItemsToLayerCommand:()=>n.cj,RegisterConfirmViewChangeCommand:()=>n.vM,RegisterDuplicateViewHelperCommand:()=>n.Ch,RemoveLayerCommand:()=>n.BK,RenameLayerCommand:()=>n.Tj,RenameViewCommand:()=>n.bR,SETTING_DATA_LAYERS_ANALYTIC:()=>o.N$,SETTING_DATA_LAYERS_FEATURE:()=>o.Wp,SETTING_MODEL_VIEWS_FEATURE:()=>o.Pe,SETTING_USER_VIEWS_ANALYTIC:()=>o.Uo,SelectLayerCommand:()=>n.cq,SetActiveModelViewCommand:()=>n.wG,SetLayerPositionCommand:()=>n.wQ,SetViewEnabledCommand:()=>n.mU,ToggleLayerAsCommonCommand:()=>n.Ap,ToggleLayerCommand:()=>n.MV,ToggleLayerVisibleCommand:()=>n.Go,UnregisterDuplicateViewHelperCommand:()=>n.EO,VIEWS_SUPPORT_PAGE_URL:()=>l.dS,VIEW_SELECTOR_PARAM:()=>l.Sw,VIEW_SELECTOR_STANDALONE:()=>l.RF,default:()=>j,getViewsPolicy:()=>o.uB,hasOverlayAssets:()=>d.W1,isBaseView:()=>d.AI,isDefurnishView:()=>d.eU,isInsightsView:()=>d.Gl,isLayeredBaseView:()=>d.dW,isUserView:()=>d.ys,makeGetModelViewsQuery:()=>V.q,makeModelViewDeserializer:()=>A.Q});var n=i(35575),s=i(44303),r=i(73943);class a extends r.y{constructor(e,t="80001"){super(e),this.name="LayersViewError",this.code=t}}var o=i(56966),l=i(99935),c=i(34014),d=i(49095),u=i(87055),h=i(22925),p=i(933),m=i(4763),f=i(20348),g=i(44979),v=i(64150),y=i(10637),E=i(83728),b=i(80383),S=i(38386),O=i(73191),T=i(11552),_=i(93797),N=i(79978),w=i(53257),A=i(51476),I=i(54232);const k=new w.Z("MdsModelViewStore");class P extends _.u{constructor(e){super(e),this.prefetchKey=y.SJ,this.deserializer=new A.L}async read(e){var t,i;if(!this.viewId)throw new N.SN("Cannot read Views, no initial view configured");const n=null===(i=null===(t=(await this.query(I.GetViews,{modelId:this.viewId},e).catch((e=>{throw new N.Zb(e)}))).data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.views,s=[];if(n)for(const e of n){const t=this.deserializer.deserialize(e);t&&s.push(t)}return s.sort(((e,t)=>e.created.getTime()-t.created.getTime())),s}async readView(e){var t,i;const n=null===(i=null===(t=(await this.query(I.GetView,{viewId:e}).catch((e=>{throw new N.Zb(e)}))).data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.views;if(!n||1!==n.length)throw new N.SN("GetView failed");const s=this.deserializer.deserialize(n[0]);if(!s)throw new N.SN("Cannot read view");return s}async create(e){const t=this.getBaseViewId();return this.mutate(I.AddUserView,{modelId:t,name:e}).then((e=>{var t;return this.deserializer.deserialize(null===(t=e.data)||void 0===t?void 0:t.addView)}))}async delete(e,t){var i;const n=this.getBaseViewId();if(e===n)throw new N.SN("Cannot delete the base view");const s=!!(null===(i=(await this.mutate(I.DeleteView,{modelId:n,viewId:e,deleteLayersIfOrphaned:t})).data)||void 0===i?void 0:i.deleteView);return s||k.error("View deletion failed!"),s}async copyItemsToLayer(e,t,i){var n;const s=!!(null===(n=(await this.mutate(I.CopyViewDataToLayer,{viewId:e,layerId:t,copyDataFrom:i})).data)||void 0===n?void 0:n.copyViewData);return s||k.error("CopyViewData failed!"),s}async moveItemsToLayer(e,t,i){var n;const s=!!(null===(n=(await this.mutate(I.MoveViewDataToLayer,{viewId:e,layerId:t,viewSelections:i})).data)||void 0===n?void 0:n.moveViewData);return s||k.error("MoveViewDataToLayer failed!"),s}async deleteItemsFromView(e,t){var i;if(t.find((e=>!e.ids||0===e.ids.length)))return k.error("deleteItemsFromView fails without list of ids"),!1;const n=!!(null===(i=(await this.mutate(I.DeleteFromView,{viewId:e,viewSelections:t})).data)||void 0===i?void 0:i.deleteFromView);return n||k.error("DeleteFromView failed!"),n}async rename(e,t){var i,n;const s=null===(n=null===(i=(await this.mutate(I.RenameView,{viewId:e,name:t})).data)||void 0===i?void 0:i.patchView)||void 0===n?void 0:n.name;if(null==s)throw new N.w0("Unable to rename view!");return s}async setEnabled(e,t){var i,n;const s=null===(n=null===(i=(await this.mutate(I.SetViewEnabled,{viewId:e,enabled:t})).data)||void 0===i?void 0:i.patchView)||void 0===n?void 0:n.enabled;if(null==s)throw new N.w0("Unable to enable/disable view!");return s}async convertModelToLayered(e){var t;const i=null===(t=(await this.mutate(I.ConvertRootViewToLayered,{modelId:e})).data)||void 0===t?void 0:t.convertRootViewToLayered;if(null==i)throw new N.w0("Unable to convert model to layered!");const n=this.deserializer.deserialize(i);if(!n)throw new N.SN("Cannot read converted view");return n}async convertModelToLegacy(e){var t;const i=null===(t=(await this.mutate(I.ConvertRootViewToLegacy,{modelId:e})).data)||void 0===t?void 0:t.convertRootViewToLegacy;if(null==i)throw new N.w0("Unable to convert model to legacy!");const n=this.deserializer.deserialize(i);if(!n)throw new N.SN("Cannot read converted view");return n}async duplicate(e,t,i,n){var s;const r=await this.mutate(I.DuplicateView,{modelId:e,viewId:t,name:i,enabled:n});return this.deserializer.deserialize(null===(s=r.data)||void 0===s?void 0:s.addView)}async hasWorkshopChanges(e){var t,i,n;const s=null===(n=null===(i=null===(t=(await this.client.query(I.GetMergeDiff,{viewId:e}).catch((e=>{throw new N.Zb(e)}))).data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.mergeDiff)||void 0===n?void 0:n.typesModified;return!!s&&s.length>0}}var L=i(69430),D=i(15018);class R extends _.u{constructor(){super(...arguments),this.deserializer=new D.m,this.prefetchKey="data.view.layers"}async read(){return this.readLayersForView(this.getViewId())}async readLayersForView(e,t=!0){var i,n;const s={viewId:e,modelId:e},r={prefetchKey:t?this.prefetchKey:void 0,fetchPolicy:t?"cache-first":"no-cache"},a=null===(n=null===(i=(await this.query(L.GetLayers,s,r).catch((e=>{throw new N.Zb(e)}))).data)||void 0===i?void 0:i.view)||void 0===n?void 0:n.layers;if(!a)throw new Error("No layers to read for view!");const o=[];for(const e of a){const t=this.deserializer.deserialize(e);t&&o.push(t)}return o}async addLayer(e,t,i,n,s=!0){var r,a;const o={viewId:this.getViewId(),label:e,writable:t,position:i,copyDataFrom:n,generateIds:s},l=null===(a=null===(r=(await this.mutate(L.AddLayer,o).catch((e=>{throw new N.w0(e)}))).data)||void 0===r?void 0:r.layer)||void 0===a?void 0:a.id;if(!l)throw new Error("Unable to get id for new layer");return l}async addCommonLayer(e,t){var i,n;const s={viewId:this.getViewId(),label:e,position:t},r=null===(n=null===(i=(await this.mutate(L.AddCommonLayer,s).catch((e=>{throw new N.w0(e)}))).data)||void 0===i?void 0:i.layer)||void 0===n?void 0:n.id;if(!r)throw new Error("Unable to get id for new common layer");return await this.refresh(),r}async duplicateLayer(e,t,i){var n,s;const r={viewId:this.getViewId(),label:e,visible:t,copyDataFrom:i},a=null===(s=null===(n=(await this.mutate(L.DuplicateLayer,r).catch((e=>{throw new N.w0(e)}))).data)||void 0===n?void 0:n.layer)||void 0===s?void 0:s.id;if(!a)throw new Error("Unable to duplicate layer");return await this.refresh(),a}async convertLayerToCommon(e,t,i){var n,s;const r={viewId:this.getViewId(),layerId:e,visible:t,position:i};if(!(null===(s=null===(n=(await this.mutate(L.ConvertToCommonLayer,r).catch((e=>{throw new N.w0(e)}))).data)||void 0===n?void 0:n.convertToCommonLayer)||void 0===s?void 0:s.id))throw new Error("Unable to convert layer to common");await this.refresh()}async convertLayerToDedicated(e){var t,i;const n={viewId:this.getViewId(),layerId:e};if(!(null===(i=null===(t=(await this.mutate(L.ConvertToDedicatedLayer,n).catch((e=>{throw new N.w0(e)}))).data)||void 0===t?void 0:t.convertToDedicatedLayer)||void 0===i?void 0:i.id))throw new Error("Unable to convert layer to dedicated");await this.refresh()}async patchLayer(e,t,i,n,s){var r,a;const o={viewId:this.getViewId(),layerId:e,layerLabel:t,writable:i,position:n,visible:s};if(!(null===(a=null===(r=(await this.mutate(L.PatchLayer,o).catch((e=>{throw new N.w0(e)}))).data)||void 0===r?void 0:r.patchLayer)||void 0===a?void 0:a.id))throw new Error("No data returned by patch");null===i&&null===n&&null===s||await this.refresh()}async patchLayerViews(e,t,i,n){var s,r;const a=t.map((e=>({viewId:e,visible:i,remove:n}))),o={viewId:this.getViewId(),layerId:e,views:a};if(!(null===(r=null===(s=(await this.mutate(L.PatchLayerViews,o).catch((e=>{throw new N.w0(e)}))).data)||void 0===s?void 0:s.patchLayerViews)||void 0===r?void 0:r.id))throw new Error("No data returned by patchLayerViews");await this.refresh()}async deleteLayer(e){const t={viewId:this.getViewId(),layerId:e};await this.mutate(L.DeleteLayer,t).catch((e=>{throw new N.w0(e)}))}async convertToProxiedLayering(){const e={modelId:this.getBaseViewId()};await this.mutate(L.ConvertToProxiedLayering,e)}}var M=i(70890),C=i(82591),x=i(37137),F=i(35659),U=i(61173),H=i(1055);class j extends p.Y{constructor(){super(...arguments),this.name="layers",this.viewChangeConfirmers=[],this.duplicateHelpers=new Set,this.onHistoryPop=()=>{if(this.data.getCurrentView().viewType===s.XZ.SESSION)return;const e=(0,H.kD)(),t=e.get("m")||e.get("model");t&&t!==this.data.currentViewId&&this.setActiveModelView(t)},this.layerModelAndUpdate=this.modifyInsideSaveCommand((()=>{let e;return async()=>{e||(e=new Promise((async e=>{const t=this.data.getBaseModelView();if(t&&!(0,d.dW)(t)){const e=await this.viewStore.convertModelToLayered(t.id),i=await this.layerStore.readLayersForView(this.data.getBaseModelId(),!1);this.updateViewDetails(t,e),t.layers.replace(i)}e()}))),await e}})()),this.checkForProxyLayer=this.modifyInsideSaveCommand((async()=>{if(this.data.isWorkshopSessionView())throw new Error("Workshop session view not supported!");const e=this.data.getBaseModelView();if(!e)return;if(!this.data.getProxyLayerId()){await this.layerStore.convertToProxiedLayering();const t=await this.layerStore.readLayersForView(this.data.getBaseModelId(),!1);if(!e)throw new Error("Expected base view when converting to proxied layer!!");e.layers.replace(t);const i=this.data.getCurrentView();if(i!==e){const e=await this.layerStore.readLayersForView(i.id,!1);i.layers.replace(e)}}}))}async init(e,t){var i;const{baseUrl:r,readonly:a,viewId:l,mdsContext:c}=e,{commandBinder:d,market:u}=t,[p,m]=await Promise.all([t.market.waitForData(v.e),t.market.waitForData(g.n)]);this.data=new h.R(c,new T.H({id:l})),this.settingsData=p,this.config=e,this.viewStore=new P({context:c,readonly:a,baseUrl:r,viewId:l}),this.engine=t,await this.loadViews();const E=await this.getInitialViewId(),b=E===(null===(i=this.data.getWorkshopSessionView())||void 0===i?void 0:i.id),S=(0,o.uB)(m),O=!b&&this.isViewsPolicyEnabled(S);this.setViewsFeatureSetting(O);const _=!b&&this.isDataLayersPolicyEnabled(S);if(this.setLayersFeatureSetting(_),c.baseViewId=this.data.getBaseModelId(),this.layerStore=new R({context:c,readonly:a,baseUrl:r}),_&&this.layerStore.onNewData((async e=>{const t=e.filter((e=>e.layerType!==s.s0.WORKSHOP)).sort(((e,t)=>e.position-t.position));if(!t.length)throw new Error("No layers available!!");const i=this.data.getCurrentView(),n=i.layers.filter((e=>e.layerType===s.s0.IN_MEMORY));for(const e of n)t.push(e);i.layers.replace(t);const r=this.data.activeLayerId;if(!r||!t.find((e=>e.id===r))){const e=this.data.filterUserFacingLayers(t);this.data.setActiveCurrentLayer(e[0].id)}})),this.data.currentViewId!==this.data.getBaseModelId()||!_){const e=await this.layerStore.readLayersForView(this.data.getBaseModelId(),!1),t=this.data.getBaseModelView();t&&t.layers.replace(e)}c.autoProvisionLayerCheckCallback=async e=>{this.data.getLayer(e)||await this.layerStore.refresh()},await this.setActiveModelView(E),this.updateMdsContext(),_||(this.data.setBaseLayerOnly(),this.data.setActiveCurrentLayer(y.gi)),window.addEventListener("popstate",this.onHistoryPop),this.config.readonly||(this.bindings.push(d.addBinding(n.oS,this.modifyInsideSaveCommand((()=>this.disableWorkshopSession()))),d.addBinding(n.fk,(()=>this.convertModelToLayered())),d.addBinding(n.vO,(()=>this.checkForProxyLayer()))),O&&(this.editViewHandlers=new f.V(d.addBinding(n.Bv,this.modifyInsideSaveCommand((e=>this.addUserView(e.name)))),d.addBinding(n.dL,this.modifyInsideSaveCommand((e=>this.deleteView(e.viewId)))),d.addBinding(n.bR,this.modifyInsideSaveCommand((e=>this.renameView(e.viewId,e.name)))),d.addBinding(n.mU,this.modifyInsideSaveCommand((e=>this.setViewEnabled(e.viewId,e.enabled)))),d.addBinding(n.d,this.modifyInsideSaveCommand((e=>this.duplicateView(e.viewId,e.name))))),O||this.editViewHandlers.cancel()),_&&(this.editLayerHandlers=new f.V(d.addBinding(n.Qz,this.modifyInsideSaveCommand((e=>this.addLayer(e.label,e.common)))),d.addBinding(n.Ib,this.modifyInsideSaveCommand((e=>this.duplicateLayer(e.layerId,e.label)))),d.addBinding(n.Wx,this.modifyInsideSaveCommand((e=>this.deleteLayer(e.layerId)))),d.addBinding(n.Ap,this.modifyInsideSaveCommand((e=>this.toggleLayerAsCommon(e.layerId,e.common)))),d.addBinding(n.Go,this.modifyInsideSaveCommand((e=>this.toggleLayerVisible(e.layerId,e.visible)))),d.addBinding(n.Tj,this.modifyInsideSaveCommand((e=>this.renameLayer(e.layerId,e.label)))),d.addBinding(n.wQ,this.modifyInsideSaveCommand((e=>this.setLayerPosition(e.layerId,e.position)))),d.addBinding(n.Wb,this.modifyInsideSaveCommand((e=>this.copyItemsToLayer(e.items,e.layerId)))),d.addBinding(n.GD,this.modifyInsideSaveCommand((e=>this.copyItemsToLayer(e.items,null,e.name)))),d.addBinding(n.cj,this.modifyInsideSaveCommand((e=>this.moveItemsToLayer(e.items,e.layerId)))),d.addBinding(n.iS,this.modifyInsideSaveCommand((e=>this.deleteItemsFromView(e.items))))),_||this.editLayerHandlers.cancel())),_&&this.bindings.push(d.addBinding(n.MV,(e=>this.toggleLayer(e.layerId,e.on)))),O&&_&&this.bindings.push(this.data.onPropertyChanged("currentViewId",(()=>this.updateMdsContext()))),this.bindings.push(d.addBinding(n.Ld,(async e=>this.addInMemoryLayer(e.layerProps))),d.addBinding(n.wG,(e=>this.setActiveModelView(e.viewId))),d.addBinding(n.vM,(async e=>this.registerConfirmViewChange(e.confirmViewChange))),d.addBinding(n.Ch,(async e=>this.duplicateHelpers.add(e))),d.addBinding(n.EO,(async e=>this.duplicateHelpers.delete(e))),d.addBinding(n.cq,(e=>this.selectLayer(e.layerId,e.selected)))),u.register(this,h.R,this.data);let N=this.onInMemoryLayerChanges();this.data.onPropertyChanged("currentViewId",(()=>{N&&N.cancel(),N=this.onInMemoryLayerChanges()}))}dispose(e){var t,i;super.dispose(e),null===(t=this.editViewHandlers)||void 0===t||t.cancel(),null===(i=this.editLayerHandlers)||void 0===i||i.cancel(),window.removeEventListener("popstate",this.onHistoryPop)}async getInitialViewId(){const{viewId:e,inWorkshop:t}=this.config,i=this.data.getBaseModelView();if(t&&i&&i.id===e&&!(0,d.dW)(i)){const e=this.data.getWorkshopSessionView();if(e&&e.enabled){if(await this.viewStore.hasWorkshopChanges(e.id))return e.id}}return e}isDataLayersPolicyEnabled(e){return[o.Od.LAYERS_ONLY,o.Od.VIEWS_AND_LAYERS].includes(e)}isViewsPolicyEnabled(e){return[o.Od.VIEWS_OPTIONAL_OPT_IN,o.Od.VIEWS_ENABLED,o.Od.VIEWS_AND_LAYERS].includes(e)}setViewsFeatureSetting(e){this.settingsData.setProperty(o.Pe,e),this.engine.getModuleBySymbol(m.V6).then((t=>{t.trackFeatures(`${o.Uo}:${e}`)}))}setLayersFeatureSetting(e){this.data.layersEnabled=e,this.data.commit(),this.settingsData.setProperty(o.Wp,e),this.engine.getModuleBySymbol(m.V6).then((t=>{t.trackFeatures(`${o.N$}:${e}`)}))}async loadViews(){let e=await this.viewStore.read();if(!e.find((e=>e.id===this.config.viewId))){const t=await this.engine.getModuleBySymbol(m.Vs),{loggedIn:i}=await t.getApi().user;i&&(e=await this.viewStore.read({anonymous:!1,fetchPolicy:"no-cache"}))}e.length>0&&(this.data.setViews(e),this.log.debug("Loaded views",e))}async setActiveModelView(e){const{currentViewId:t}=this.data;if(e===t||!await this.canChangeView())return;const i=this.data.getView(e);if(i){const e=t;this.log.debug(`Switching to view: ${i.id} (${i.viewType}), from: ${e}`),this.data.setCurrentView(i.id),await this.refreshView(i,e)}else this.log.warn(`Missing model view '${e}'`)}async refreshView(e,t){const{mdsContext:i}=this.config,n=this.settingsData.tryGetProperty(o.Wp,!1),r=new M.R({baseUrl:this.config.baseUrl,prefetchPolicy:E.h.PRELOAD,query:C.GetModelViewPrefetch,variables:{modelId:e.id,includeDisabled:!this.config.readonly,includeLayers:n&&this.viewSupportsLayers()},apqEnabled:this.data.mdsContext.apqEnabled,initialData:void 0});i.sharedCaches.add(r),await r.preload()?(n&&(this.layerStore.setStoreViewId(e.id),await this.layerStore.refresh()),await i.setCurrentViewId(e.id),this.updateBrowserOnViewChange(e),t?(i.sharedCaches.delete(r),this.engine.broadcast(new c.YB)):this.config.modulesLoadedPromise.then((()=>{i.sharedCaches.delete(r)}))):t&&this.data.setCurrentView(t);for(const e of this.data.commonInMemoryLayers)await e.applyTransactions();for(const t of e.layers)t.layerType===s.s0.IN_MEMORY&&await t.applyTransactions()}async canChangeView(){for(const e of this.viewChangeConfirmers)if(!await e())return!1;return!0}registerConfirmViewChange(e){this.viewChangeConfirmers.push(e)}updateBrowserOnViewChange(e){if(e.viewType===s.XZ.SESSION)return;const t=(0,H.kD)(),i=t.get("m")||t.get("model");e.id!==i&&(t.has("model")?t.set("model",e.id):t.has("m")&&t.set("m",e.id),(0,U.Vf)(t.toString(),!0))}async disableWorkshopSession(){const e=this.data.getWorkshopSessionView();if(!e)return void this.log.debug("No Workshop Session View to disable.");if(!e.enabled)return;const t=await this.viewStore.setEnabled(e.id,!1);e.enabled=t,e.commit()}async addUserView(e){if(!this.data.validateViewName(e))throw new a("Invalid view name!");const t=await this.viewStore.create(e);t&&(this.data.addView(t),this.log.debug("Added new view"),await this.setActiveModelView(t.id))}async deleteView(e){if(!this.data.canDeleteView(e))throw new a("Cannot delete model view");const t=this.data.getView(e);if(!t)throw new a("Cannot delete missing view");const i=e===this.data.currentViewId,n=!(0,d.Gl)(t);await this.viewStore.delete(e,n)&&this.data.atomic((()=>{if(this.data.deleteView(e),this.log.debug("Deleted user view"),i){const e=this.data.getBaseModelId();if(!e)throw new a("No base view");this.setActiveModelView(e)}}))}async copyItemsToLayer(e,t,i){const{currentViewId:n}=this.data,s={},r=[];e.forEach((e=>{if(e.supportsLayeredCopyMove()){s[e.typeId]||(s[e.typeId]=[]);const t=e.parentId||e.id;s[e.typeId].push(t),r.push(e)}}));const o=[];for(const e in s)o.push({viewId:n,type:e,ids:s[e]});let l;if(t)l=await this.viewStore.copyItemsToLayer(n,t,o);else{if(!i)throw new a("No layer id or name for copy");l=await this.addLayer(i,!1,o)}l&&(this.data.mdsContext.refreshLayeredStores(o.map((e=>e.type))),this.engine.broadcast(new c.WG(r)))}async moveItemsToLayer(e,t){const{currentViewId:i}=this.data,n={},s=[];e.forEach((e=>{if(e.supportsLayeredCopyMove()){n[e.typeId]||(n[e.typeId]=[]);const t=e.parentId||e.id;n[e.typeId].push(t),s.push(e)}}));const r=[];for(const e in n)r.push({type:e,ids:n[e],all:!1});await this.viewStore.moveItemsToLayer(i,t,r)&&(this.data.mdsContext.refreshLayeredStores(r.map((e=>e.type))),this.engine.broadcast(new c.WG(s)))}async deleteItemsFromView(e){if(!this.data.canBatchDeleteInActiveView())return void this.log.debug("Cannot batch delete items in non-layered model");const{currentViewId:t}=this.data,i={},n=[];e.forEach((e=>{if(e.supportsBatchDelete()){i[e.typeId]||(i[e.typeId]=[]);const t=e.parentId||e.id;i[e.typeId].push(t),n.push(e)}}));const s=[];for(const e in i)s.push({type:e,ids:i[e]});await this.viewStore.deleteItemsFromView(t,s)&&(this.data.mdsContext.refreshLayeredStores(s.map((e=>e.type))),this.engine.broadcast(new c.WG(n)))}getLayerTypesToDuplicate(){const e=[b.SF.LABEL,b.SF.MEASUREMENTPATH,b.SF.MATTERTAG];this.settingsData.tryGetProperty(S.IA,!1)&&e.push(b.SF.NOTE);return this.settingsData.tryGetProperty(O.QA,!1)&&e.push(b.SF.OBJECTANNOTATION),e}async duplicateLayer(e,t){const i=this.data.getLayer(e);if(!i)throw new a("Unable to find layer to duplicate");const n=i.layerType===s.s0.BASE_LAYER,r=i.layerType===s.s0.VIEW_DATA_LAYER;if(n||r)return void this.log.debug("Duplicate not supported on base or view layer");const o=this.getLayerTypesToDuplicate(),l=this.data.getCurrentView().id,c=o.map((t=>({viewId:l,layerId:e,type:t})));await this.layerStore.duplicateLayer(t,i.visible,c)&&this.data.mdsContext.refreshLayeredStores(o)}async renameView(e,t){const i=this.data.getView(e);if(!i)throw new a("View does not exist");if(!this.data.validateViewName(t))throw new a("Invalid view name!");const n=await this.viewStore.rename(e,t);i.name=n,i.commit()}async setViewEnabled(e,t){const i=this.data.getView(e);if(!i)throw new a("View does not exist");if(!this.data.canDisableView(e))throw new a("Unable to enable/disable view");const n=await this.viewStore.setEnabled(e,t);i.enabled=n,i.commit()}async duplicateView(e,t){const i=this.data.getView(e);if(!i)throw new a("Cannot duplicate, view does not exist");if(!this.data.canDuplicateView(e))throw new a("Duplicate not supported on this view");const n=Array.from(this.duplicateHelpers.keys());await Promise.all(n.map((e=>e.beforeDuplicate())));const s=await this.viewStore.duplicate(this.data.getBaseModelId(),e,t,i.enabled);if(!s)throw new a("Unable to duplicate view!");this.data.addView(s),await this.setActiveModelView(s.id),await Promise.all(n.map((e=>e.afterDuplicate())))}viewSupportsLayers(){return this.data.getCurrentView().viewType!==s.XZ.SESSION}updateMdsContext(){const e=this.viewSupportsLayers(),t=this.settingsData.tryGetProperty(o.Wp,!1),i=this.data.isCurrentViewLayered();this.data.mdsContext.readLayerId=e;const n=e&&t&&i;this.data.mdsContext.toggleNonBaseLayeredWrites(n)}updateViewDetails(e,t){Object.assign(e,{viewType:t.viewType,rawViewType:t.rawViewType,name:t.name,enabled:t.enabled,modified:t.modified}),e.commit(),this.updateMdsContext()}async convertModelToLayered(){if(this.data.isWorkshopSessionView())return;const e=this.data.getBaseModelView();e&&!(0,d.dW)(e)&&await this.layerModelAndUpdate()}async addLayer(e,t,i=[]){let n;n=t?await this.layerStore.addCommonLayer(e,0):await this.layerStore.addLayer(e,!0,0,i);const s=this.data.getCurrentView();if((0,d.AI)(s)&&!(0,d.dW)(s)){const e=await this.viewStore.readView(s.id);this.updateViewDetails(s,e)}return await this.layerStore.refresh(),this.selectLayer(n,!0),this.engine.broadcast(new c.ue(n)),n}addInMemoryLayer(e){return this.data.addInMemoryLayer(e)}onInMemoryLayerChanges(){const e=this.data.getCurrentView(),t={onAdded:e=>{e.layerType===s.s0.IN_MEMORY&&e.applyTransactions()},onRemoved:t=>{t.layerType===s.s0.IN_MEMORY&&this.refreshView(e)}};return e.layers.onElementChanged(t)}async toggleLayerAsCommon(e,t){const i=this.data.getLayer(e);if(!i)throw new a("Unable to find layer to toggle common");t?await this.layerStore.convertLayerToCommon(e,i.visible,0):await this.layerStore.convertLayerToDedicated(e)}async toggleLayerVisible(e,t){const i=this.data.getLayer(e);if(!i)throw new a("Unable to find layer to toggle visibility");if(i.layerType===s.s0.COMMON_USER_LAYER){const i=this.data.getOrderedModelViews({includeInsights:!0}).map((e=>e.id));await this.layerStore.patchLayerViews(e,i,t)}else await this.layerStore.patchLayer(e,null,null,null,t)}async renameLayer(e,t){const i=this.data.getLayer(e);if(!i)throw new a("Unable to find layer to rename");await this.layerStore.patchLayer(e,t,null,null,null),i.name=t,i.commit()}async setLayerPosition(e,t){await this.layerStore.patchLayer(e,null,null,t,null)}async deleteLayer(e){if(!this.data.getLayer(e))throw new a("Unable to find layer to delete");await this.layerStore.deleteLayer(e),this.refreshView(this.data.getCurrentView())}async selectLayer(e,t){const i=this.data.getViewLayerId(),n=this.data.getBaseLayerId(),s=e===i||e===n,r=i||n;let o;if(t)o=s?r:e;else{if(s)throw new a("Cannot deselect a system layer!");o=r}if(!o)throw new a("No Active layer to set");o!==this.data.activeLayerId&&this.data.setActiveCurrentLayer(o)}async toggleLayer(e,t){this.data.toggleLayer(e,t)}modifyInsideSaveCommand(e){return async(...t)=>{await this.engine.commandBinder.issueCommand(new x.V({dataTypes:[F.g.LAYERS],onCallback:()=>e(...t),skipDirtyUpdate:!0}))}}}var V=i(16072)},34014:(e,t,i)=>{"use strict";i.d(t,{WG:()=>r,YB:()=>s,ue:()=>a});var n=i(8126);class s extends n.v0{}class r extends n.v0{constructor(e){super(),this.items=e}}class a extends n.v0{constructor(e){super(),this.layerId=e}}},15018:(e,t,i)=>{"use strict";i.d(t,{m:()=>c});var n=i(38256),s=i(53257),r=i(44303),a=i(87055),o=i(81746);const l=new s.Z("mds-modelview-deserializer");class c{deserialize(e){return e&&e.layer.id&&e.layer.type?new a.W({id:e.layer.id,name:e.layer.label||"",visible:e.visible,position:e.position,toggled:!0,layerType:this.getLayerType(e.layer.type),created:(0,n.p)(e.layer.created),modified:(0,n.p)(e.layer.modified)}):(l.debug("Invalid layer data from MDS"),null)}getLayerType(e){return(0,o.p)(r.s0,e)?e:r.s0.OTHER}}},51476:(e,t,i)=>{"use strict";i.d(t,{L:()=>c,Q:()=>d});var n=i(53257),s=i(38256),r=i(11552),a=i(44303),o=i(15018);const l=new n.Z("mds-modelview-deserializer");class c{constructor(){this.deserializer=new o.m}deserialize(e){if(!e||!e.id||!e.type)return l.debug("Deserialized invalid ModelView data from MDS",e),null;const t=new r.H({viewType:this.getModelViewType(e),rawViewType:e.type,name:e.name||"",enabled:!!e.enabled,created:(0,s.p)(e.created),modified:(0,s.p)(e.modified),id:e.id});return this.getDataLayers(e).forEach((e=>t.layers.push(e))),t}getModelViewType(e){const t={"matterport.workshop.session":a.XZ.SESSION,"matterport.model.default":a.XZ.BASE,"matterport.model.layered":a.XZ.LAYERED_BASE,"matterport.user.insights":a.XZ.INSIGHTS,"matterport.user.view":a.XZ.USER,"trueplan.session":a.XZ.TRUEPLAN,"matterport.model.defurnished":a.XZ.DEFURNISH};return e.type in t?t[e.type]:a.XZ.OTHER}getDataLayers(e){const t=[];for(const i of e.layers||[]){const e=this.deserializer.deserialize(i);e&&t.push(e)}return t}}const d=function(){return new c}},99935:(e,t,i)=>{"use strict";i.d(t,{Pd:()=>s,RF:()=>a,Sw:()=>r,dS:()=>o,fB:()=>l,ty:()=>n});const n=50,s=50,r="views",a="0",o="https://support.matterport.com/s/article/Create-and-Share-Views",l="https://support.matterport.com/s/article/Working-with-Layers"},16072:(e,t,i)=>{"use strict";i.d(t,{q:()=>s});var n=i(54232);const s=function(e,t){return i=>async function(i){var s,r;const a={modelId:i},o=await e.query(n.GetViews,a,{}),l=null===(r=null===(s=null==o?void 0:o.data)||void 0===s?void 0:s.model)||void 0===r?void 0:r.views;if(!l||!Array.isArray(l))return[];const c=[];for(const e of l){const i=t.deserialize(e);i&&c.push(i)}return c}(i)}},49095:(e,t,i)=>{"use strict";i.d(t,{AI:()=>r,Gl:()=>o,W1:()=>c,dW:()=>s,eU:()=>l,ys:()=>a});var n=i(44303);function s(e){return e.viewType===n.XZ.LAYERED_BASE}function r(e){return s(e)||e.viewType===n.XZ.BASE}function a(e){return e.viewType===n.XZ.USER}function o(e){return e.viewType===n.XZ.INSIGHTS}function l(e){return e.viewType===n.XZ.DEFURNISH}function c(e){return e.layers.some((e=>e.layerType===n.s0.OVERLAY_ASSETS_LAYER))}},7321:(e,t,i)=>{"use strict";var n;i.d(t,{Z:()=>s}),function(e){e.LOADING="LOADING",e.PRESENTED_BY_CAPS="PRESENTED_BY_CAPS",e.EXPLORE_3D_SPACE="EXPLORE_3D_SPACE",e.POWERED_BY="POWERED_BY",e.SC_LOCKOUT_MESSAGE="SC_LOCKOUT_MESSAGE",e.SC_LOCKOUT_TITLE="SC_LOCKOUT_TITLE",e.SC_PASSWORD_TITLE="SC_PASSWORD_TITLE",e.SC_PASSWORD_INVALID="SC_PASSWORD_INVALID",e.SC_PASSWORD_PLACEHOLDER="SC_PASSWORD_PLACEHOLDER",e.SC_PASSWORD_SUBMIT="SC_PASSWORD_SUBMIT",e.VIEW_INSIDE="VIEW_INSIDE",e.VIEW_INSIDE_MESH="VIEW_INSIDE_MESH",e.VIEW_DOLLHOUSE="VIEW_DOLLHOUSE",e.VIEW_FLOORPLAN="VIEW_FLOORPLAN",e.VIEW_FULLSCREEN="VIEW_FULLSCREEN",e.EXIT_FULLSCREEN="EXIT_FULLSCREEN",e.OPEN_HIGHLIGHTS="OPEN_HIGHLIGHTS",e.CLOSE_HIGHLIGHTS="CLOSE_HIGHLIGHTS",e.PAUSE="PAUSE",e.SOCIAL_SHARING="SOCIAL_SHARING",e.VIEW_IN_VR="VIEW_IN_VR",e.HOTKEY_VIEW_INSIDE="HOTKEY_VIEW_INSIDE",e.HOTKEY_VIEW_DOLLHOUSE="HOTKEY_VIEW_DOLLHOUSE",e.HOTKEY_VIEW_FLOORPLAN="HOTKEY_VIEW_FLOORPLAN",e.FLOOR_NAME="FLOOR_NAME",e.FLOOR_ALL="FLOOR_ALL",e.PLUGIN_VISIBILITY="PLUGIN_VISIBILITY",e.PLUGIN_CHANGE_ALL="PLUGIN_CHANGE_ALL",e.PLUGIN_V_TOGGLE_LABEL="PLUGIN_V_TOGGLE_LABEL",e.PRESENTED_BY="PRESENTED_BY",e.MORE="MORE",e.LESS="LESS",e.LEARN_MORE="LEARN_MORE",e.DEFURN_AI_WARNING="DEFURN_AI_WARNING",e.FEEDBACK="FEEDBACK",e.TERMS="TERMS",e.HELP="HELP",e.ALT_MATTERPORT_LOGO="ALT_MATTERPORT_LOGO",e.TERMS_FAIL="TERMS_FAIL",e.HELP_NAVIGATION_TAB="HELP_NAVIGATION_TAB",e.HELP_MORE_HELP_TAB="HELP_MORE_HELP_TAB",e.HELP_DESKTOP_360_2A="HELP_DESKTOP_360_2A",e.HELP_DESKTOP_360_2B="HELP_DESKTOP_360_2B",e.HELP_DESKTOP_DOLLHOUSE_1A="HELP_DESKTOP_DOLLHOUSE_1A",e.HELP_DESKTOP_DOLLHOUSE_1B="HELP_DESKTOP_DOLLHOUSE_1B",e.HELP_DESKTOP_DOLLHOUSE_2A="HELP_DESKTOP_DOLLHOUSE_2A",e.HELP_DESKTOP_DOLLHOUSE_3A="HELP_DESKTOP_DOLLHOUSE_3A",e.HELP_DESKTOP_FLOORPLAN_1A="HELP_DESKTOP_FLOORPLAN_1A",e.HELP_DESKTOP_FLOORPLAN_2A="HELP_DESKTOP_FLOORPLAN_2A",e.HELP_DESKTOP_FLOORPLAN_2B="HELP_DESKTOP_FLOORPLAN_2B",e.HELP_DESKTOP_FLOORPLAN_3A="HELP_DESKTOP_FLOORPLAN_3A",e.HELP_DESKTOP_FLOORPLAN_3B="HELP_DESKTOP_FLOORPLAN_3B",e.HELP_DESKTOP_MORE_360_B="HELP_DESKTOP_MORE_360_B",e.HELP_DESKTOP_MORE_DOLLHOUSE_B="HELP_DESKTOP_MORE_DOLLHOUSE_B",e.HELP_DESKTOP_MORE_FLOORS_B="HELP_DESKTOP_MORE_FLOORS_B",e.HELP_DESKTOP_MORE_FULLSCREEN_B="HELP_DESKTOP_MORE_FULLSCREEN_B",e.HELP_DESKTOP_MORE_HLR_B="HELP_DESKTOP_MORE_HLR_B",e.HELP_DESKTOP_MORE_INSIDE_B="HELP_DESKTOP_MORE_INSIDE_B",e.HELP_DESKTOP_MORE_MATTERTAG_B="HELP_DESKTOP_MORE_MATTERTAG_B",e.HELP_DESKTOP_MORE_TOUR_B="HELP_DESKTOP_MORE_TOUR_B",e.HELP_DESKTOP_MORE_VR_B="HELP_DESKTOP_MORE_VR_B",e.HELP_DESKTOP_MORE_ZOOM_B="HELP_DESKTOP_MORE_ZOOM_B",e.HELP_DESKTOP_PANORAMA_1A="HELP_DESKTOP_PANORAMA_1A",e.HELP_DESKTOP_PANORAMA_1B="HELP_DESKTOP_PANORAMA_1B",e.HELP_DESKTOP_PANORAMA_2A="HELP_DESKTOP_PANORAMA_2A",e.HELP_DESKTOP_PANORAMA_2B="HELP_DESKTOP_PANORAMA_2B",e.HELP_DESKTOP_PANORAMA_3A="HELP_DESKTOP_PANORAMA_3A",e.HELP_DESKTOP_PANORAMA_3B="HELP_DESKTOP_PANORAMA_3B",e.HELP_MOBILE_3="HELP_MOBILE_3",e.HELP_MOBILE_360_2="HELP_MOBILE_360_2",e.HELP_MOBILE_DOLLHOUSE_1="HELP_MOBILE_DOLLHOUSE_1",e.HELP_MOBILE_DOLLHOUSE_2="HELP_MOBILE_DOLLHOUSE_2",e.HELP_MOBILE_FLOORPLAN_1="HELP_MOBILE_FLOORPLAN_1",e.HELP_MOBILE_FLOORPLAN_2="HELP_MOBILE_FLOORPLAN_2",e.HELP_MOBILE_MORE_360_B="HELP_MOBILE_MORE_360_B",e.HELP_MOBILE_MORE_DOLLHOUSE_B="HELP_MOBILE_MORE_DOLLHOUSE_B",e.HELP_MOBILE_MORE_INSIDE_B="HELP_MOBILE_MORE_INSIDE_B",e.HELP_MOBILE_MORE_MATTERTAG_B="HELP_MOBILE_MORE_MATTERTAG_B",e.HELP_MOBILE_MORE_VR_B="HELP_MOBILE_MORE_VR_B",e.HELP_MOBILE_PANORAMA_1="HELP_MOBILE_PANORAMA_1",e.HELP_MOBILE_PANORAMA_2="HELP_MOBILE_PANORAMA_2",e.HELP_MORE_360_A="HELP_MORE_360_A",e.HELP_MORE_DOLLHOUSE_A="HELP_MORE_DOLLHOUSE_A",e.HELP_MORE_FLOORS_A="HELP_MORE_FLOORS_A",e.HELP_MORE_FLOORPLAN_A="HELP_MORE_FLOORPLAN_A",e.HELP_MORE_FULLSCREEN_A="HELP_MORE_FULLSCREEN_A",e.HELP_MORE_HLR_A="HELP_MORE_HLR_A",e.HELP_MORE_INSIDE_A="HELP_MORE_INSIDE_A",e.HELP_MORE_MATTERTAG_A="HELP_MORE_MATTERTAG_A",e.HELP_MORE_TOUR_A="HELP_MORE_TOUR_A",e.HELP_MORE_VR_A="HELP_MORE_VR_A",e.HELP_MORE_ZOOM_A="HELP_MORE_ZOOM_A",e.HELP_MORE_EXTRAS_A="HELP_MORE_EXTRAS_A",e.VR_ENTER="VR_ENTER",e.VR_LEARN_MORE_CAPS="VR_LEARN_MORE_CAPS",e.VR_QUEST="VR_QUEST",e.VR_META_LINK="VR_META_LINK",e.VR_RECOMMENDED="VR_RECOMMENDED",e.VR_SUPPORTS="VR_SUPPORTS",e.VR_VIEW_SPACE="VR_VIEW_SPACE",e.CTA_TOUR_COMPLETE="CTA_TOUR_COMPLETE",e.CTA_EXPLORE_SPACE="CTA_EXPLORE_SPACE",e.CTA_RESTART_TOUR="CTA_RESTART_TOUR",e.CTA_SHARE="CTA_SHARE",e.DESKTOP_SHORT_CTA="DESKTOP_SHORT_CTA",e.MOBILE_SHORT_CTA="MOBILE_SHORT_CTA",e.ROTATE="ROTATE",e.MOVE="MOVE",e.PLAY="PLAY",e.NEXT="NEXT",e.PREVIOUS="PREVIOUS",e.INSIDE="INSIDE",e.ZOOM="ZOOM",e.MEASUREMENT="MEASUREMENT",e.MEASUREMENT_START_ADDING="MEASUREMENT_START_ADDING",e.MEASUREMENT_CONTINUOUS_LINES="MEASUREMENT_CONTINUOUS_LINES",e.MEASUREMENT_SNAPPING="MEASUREMENT_SNAPPING",e.MEASUREMENT_UNITS="MEASUREMENT_UNITS",e.MEASUREMENT_IMPERIAL="MEASUREMENT_IMPERIAL",e.MEASUREMENT_METRIC="MEASUREMENT_METRIC",e.MEASUREMENT_SETTINGS="MEASUREMENT_SETTINGS",e.MEASUREMENT_HELP_CLICK_ANYWHERE="MEASUREMENT_HELP_CLICK_ANYWHERE",e.MEASUREMENT_HELP_ESCAPE="MEASUREMENT_HELP_ESCAPE",e.MEASUREMENT_HELP_PRESS_START="MEASUREMENT_HELP_PRESS_START",e.MEASUREMENT_HELP_DRAG_EDIT="MEASUREMENT_HELP_DRAG_EDIT",e.MEASUREMENT_HELP_PRESS_END="MEASUREMENT_HELP_PRESS_END",e.MEASUREMENT_MODE="MEASUREMENT_MODE",e.MEASUREMENT_HELP_MODAL_SUB_HEADER="MEASUREMENT_HELP_MODAL_SUB_HEADER",e.MEASUREMENT_HELP_MODAL_BODY_1="MEASUREMENT_HELP_MODAL_BODY_1",e.MEASUREMENT_HELP_MODAL_BODY_2="MEASUREMENT_HELP_MODAL_BODY_2",e.MEASUREMENT_NUDGE_TITLE="MEASUREMENT_NUDGE_TITLE",e.MEASUREMENT_NUDGE_MESSAGE="MEASUREMENT_NUDGE_MESSAGE",e.MEASUREMENT_ADD_LABEL="MEASUREMENT_ADD_LABEL",e.MEASUREMENT_CANCEL_LABEL="MEASUREMENT_CANCEL_LABEL",e.MEASUREMENT_SAVE_LABEL="MEASUREMENT_SAVE_LABEL",e.NOTES_MODE="NOTES_MODE",e.NOTES_NUDGE_TITLE="NOTES_NUDGE_TITLE",e.NOTES_NUDGE_MESSAGE="NOTES_NUDGE_MESSAGE",e.CLOSE="CLOSE",e.SHOW="SHOW",e.HIDE="HIDE",e.MORE_OPTIONS="MORE_OPTIONS",e.COPY="COPY",e.COPY_URL="COPY_URL",e.COPY_LINK="COPY_LINK",e.SHARE="SHARE",e.SHARE_COPIED="SHARE_COPIED",e.SHARE_CURRENT_LOCATION="SHARE_CURRENT_LOCATION",e.SHARE_DEFAULT_LOCATION="SHARE_DEFAULT_LOCATION",e.SHARE_ERROR_SWEEP_DISABLED="SHARE_ERROR_SWEEP_DISABLED",e.SHARE_EXPLORE="SHARE_EXPLORE",e.SHARE_LINK_TO_LOCATION="SHARE_LINK_TO_LOCATION",e.SHARE_AT="SHARE_AT",e.SHARE_WITH="SHARE_WITH",e.SHARE_3D="SHARE_3D",e.SHARE_MODAL_TITLE="SHARE_MODAL_TITLE",e.SHARE_MAIL="SHARE_MAIL",e.SHARE_FACEBOOK="SHARE_FACEBOOK",e.SHARE_TWITTER="SHARE_TWITTER",e.SHARE_LINKEDIN="SHARE_LINKEDIN",e.SHARE_PINTEREST="SHARE_PINTEREST",e.SHARED_TITLE="SHARED_TITLE",e.SHARED_MESSAGE="SHARED_MESSAGE",e.SHARED_MESSAGE_HASHTAG="SHARED_MESSAGE_HASHTAG",e.DOLLHOUSE_NUDGE_TITLE="DOLLHOUSE_NUDGE_TITLE",e.DOLLHOUSE_NUDGE_MESSAGE="DOLLHOUSE_NUDGE_MESSAGE",e.FLOOR_PLAN_NUDGE_MESSAGE="FLOOR_PLAN_NUDGE_MESSAGE"}(n||(n={})),function(e){let t,i,n,s,r,a,o,l,c,d,u,h,p,m,f,g;!function(e){e.NEW_MESSAGE="GENERIC.NEW_MESSAGE",e.READ_MORE="GENERIC.READ_MORE",e.SETTING_OFF="GENERIC.SETTING_OFF",e.SETTING_ON="GENERIC.SETTING_ON"}(t=e.GENERIC||(e.GENERIC={})),function(e){e.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE="ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE",e.UNAUTHORIZED_ERROR_MESSAGE="ERRORS.UNAUTHORIZED_ERROR_MESSAGE"}(i=e.ERRORS||(e.ERRORS={})),function(e){e.COLLAPSE="ACCORDIONS.COLLAPSE",e.EXPAND="ACCORDIONS.EXPAND"}(n=e.ACCORDIONS||(e.ACCORDIONS={})),function(e){e.INVITED_MESSAGE="LOGIN.INVITED_MESSAGE",e.CREATE_ACCOUNT="LOGIN.CREATE_ACCOUNT",e.HAVE_ACCOUNT="LOGIN.HAVE_ACCOUNT",e.SIGN_IN="LOGIN.SIGN_IN"}(s=e.LOGIN||(e.LOGIN={})),function(e){e.COLLAPSE_PANEL="PANELS.COLLAPSE_PANEL",e.EXPAND_PANEL="PANELS.EXPAND_PANEL"}(r=e.PANELS||(e.PANELS={})),function(e){e.CLOSE_BUTTON_TOOLTIP_MESSAGE="REUSABLES.CLOSE_BUTTON_TOOLTIP_MESSAGE",e.HELP_BUTTON_TOOLTIP_MESSAGE="REUSABLES.HELP_BUTTON_TOOLTIP_MESSAGE",e.EMOJI_ALT_DISAPPOINTED="REUSABLES.EMOJI_ALT_DISAPPOINTED",e.EMOJI_ALT_UNSATISFIED="REUSABLES.EMOJI_ALT_UNSATISFIED",e.EMOJI_ALT_NEUTRAL="REUSABLES.EMOJI_ALT_NEUTRAL",e.EMOJI_ALT_SATISFIED="REUSABLES.EMOJI_ALT_SATISFIED",e.EMOJI_ALT_HAPPY="REUSABLES.EMOJI_ALT_HAPPY",e.FEEDBACK_LINK_LABEL="REUSABLES.FEEDBACK_LINK_LABEL",e.BETA_FEEDBACK_LINK_LABEL="REUSABLES.BETA_FEEDBACK_LINK_LABEL"}(a=e.REUSABLES||(e.REUSABLES={})),function(e){e.SCROLL_BUTTON_LABEL="SCROLLING.SCROLL_BUTTON_LABEL"}(o=e.SCROLLING||(e.SCROLLING={})),function(e){e.PINK="COLORS.PINK",e.PLUM="COLORS.PLUM",e.PURPLE="COLORS.PURPLE",e.COBALT="COLORS.COBALT",e.CERULEAN="COLORS.CERULEAN",e.TEAL="COLORS.TEAL",e.FOG="COLORS.FOG",e.IRON="COLORS.IRON",e.FOREST="COLORS.FOREST",e.EMERALD="COLORS.EMERALD",e.MINT="COLORS.MINT",e.OCEAN="COLORS.OCEAN",e.LIME="COLORS.LIME",e.CANARY="COLORS.CANARY",e.SUNFLOWER="COLORS.SUNFLOWER",e.TANGERINE="COLORS.TANGERINE",e.SUNSET="COLORS.SUNSET",e.SIERRA="COLORS.SIERRA",e.MAGENTA="COLORS.MAGENTA"}(l=e.COLORS||(e.COLORS={})),function(e){e.GENERIC_HELPTEXT="OOPS.GENERIC.HELPTEXT",e.GENERIC_TITLE="OOPS.GENERIC.TITLE",e.MODEL_ARCHIVED_TITLE="OOPS.MODEL_ARCHIVED.TITLE",e.MODEL_ARCHIVED_HELPTEXT="OOPS.MODEL_ARCHIVED.HELPTEXT",e.MODEL_COMPLIANCE_TITLE="OOPS.MODEL_COMPLIANCE.TITLE",e.MODEL_COMPLIANCE_HELPTEXT="OOPS.MODEL_COMPLIANCE.HELPTEXT",e.MODEL_DELETED_TITLE="OOPS.MODEL_DELETED.TITLE",e.MODEL_FAILED_TITLE="OOPS.MODEL_FAILED.TITLE",e.MODEL_FAILED_HELPTEXT="OOPS.MODEL_FAILED.HELPTEXT",e.MODEL_PENDING_TITLE="OOPS.MODEL_PENDING.TITLE",e.MODEL_PENDING_HELPTEXT="OOPS.MODEL_PENDING.HELPTEXT",e.MODEL_PROCESSING_TITLE="OOPS.MODEL_PROCESSING.TITLE",e.MODEL_PROCESSING_HELPTEXT="OOPS.MODEL_PROCESSING.HELPTEXT",e.SIGNED_IN_AS="OOPS.SIGNED_IN_AS",e.WEBGL_CONTEXT_LOST_HELPTEXT="OOPS.WEBGL_CONTEXT_LOST.HELPTEXT",e.WEBGL_CONTEXT_LOST_TITLE="OOPS.WEBGL_CONTEXT_LOST.TITLE",e.WEBGL_GENERIC_HELPTEXT="OOPS.WEBGL_GENERIC.HELPTEXT",e.WEBGL_GENERIC_TITLE="OOPS.WEBGL_GENERIC.TITLE",e.WEBGL_UNSUPPORTED_HELPTEXT="OOPS.WEBGL_UNSUPPORTED.HELPTEXT",e.WEBGL_UNSUPPORTED_TITLE="OOPS.WEBGL_UNSUPPORTED.TITLE"}(c=e.OOPS||(e.OOPS={})),function(e){e.AWAITING="SDK.AWAITING"}(d=e.SDK||(e.SDK={})),function(e){let t,i,n,s,r,a,o,l,c,d,u,h,p,m,f,g,v,y;!function(e){e.UPLOAD_TOOLTIP="SHOWCASE.ANNOTATIONS.UPLOAD_TOOLTIP",e.EMBED_TOOLTIP="SHOWCASE.ANNOTATIONS.EMBED_TOOLTIP",e.MAX_ATTACHMENTS_TOOLTIP="SHOWCASE.ANNOTATIONS.MAX_ATTACHMENTS_TOOLTIP",e.LINK_TOOLTIP="SHOWCASE.ANNOTATIONS.LINK_TOOLTIP",e.ADD_CTA="SHOWCASE.ANNOTATIONS.ADD_CTA",e.SAVE_CTA="SHOWCASE.ANNOTATIONS.SAVE_CTA",e.CANCEL_CTA="SHOWCASE.ANNOTATIONS.CANCEL_CTA",e.CONTENT_DELETED="SHOWCASE.ANNOTATIONS.CONTENT_DELETED",e.READ_MORE_MESSAGE="SHOWCASE.ANNOTATIONS.READ_MORE_MESSAGE"}(t=e.ANNOTATIONS||(e.ANNOTATIONS={})),function(e){e.ERROR_UPLOAD_FAIL="SHOWCASE.ATTACHMENTS.ERROR_UPLOAD_FAIL",e.ERROR_FILE_TOO_LARGE="SHOWCASE.ATTACHMENTS.ERROR_FILE_TOO_LARGE",e.ERROR_EMPTY_FILE="SHOWCASE.ATTACHMENTS.ERROR_EMPTY_FILE",e.ERROR_OVER_QUOTA="SHOWCASE.ATTACHMENTS.ERROR_OVER_QUOTA",e.ERROR_PERMISSION_DENIED="SHOWCASE.ATTACHMENTS.ERROR_PERMISSION_DENIED",e.REMOVE_TOOLTIP="SHOWCASE.ATTACHMENTS.REMOVE_TOOLTIP",e.CLOSE_TOOLTIP="SHOWCASE.ATTACHMENTS.CLOSE_TOOLTIP",e.DELETE_ATTACHMENT_TOOLTIP="SHOWCASE.ATTACHMENTS.DELETE_ATTACHMENT_TOOLTIP",e.DOWNLOAD_TOOLTIP="SHOWCASE.ATTACHMENTS.DOWNLOAD_TOOLTIP",e.EXPAND_ATTACHMENT_TOOLTIP="SHOWCASE.ATTACHMENTS.EXPAND_ATTACHMENT_TOOLTIP",e.VIEWER_INDEX_COUNT="SHOWCASE.ATTACHMENTS.VIEWER_INDEX_COUNT",e.FAILED_TO_LOAD_MESSAGE="SHOWCASE.ATTACHMENTS.FAILED_TO_LOAD_MESSAGE",e.MORE_ATTACHMENT="SHOWCASE.ATTACHMENTS.MORE_ATTACHMENT",e.ERROR_200_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_200_MESSAGE",e.ERROR_401_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_401_MESSAGE",e.ERROR_403_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_403_MESSAGE",e.ERROR_404_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_404_MESSAGE",e.ERROR_429_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_429_MESSAGE",e.ERROR_4XX_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_4XX_MESSAGE",e.ERROR_5XX_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_5XX_MESSAGE"}(i=e.ATTACHMENTS||(e.ATTACHMENTS={})),function(e){e.TITLE="SHOWCASE.DEFURNISH_AI_MODAL.TITLE",e.TEXT1="SHOWCASE.DEFURNISH_AI_MODAL.TEXT1",e.TEXT2="SHOWCASE.DEFURNISH_AI_MODAL.TEXT2"}(n=e.DEFURNISH_AI_MODAL||(e.DEFURNISH_AI_MODAL={})),function(e){let t,i;!function(e){e.OR="SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.OR",e.DESKTOP="SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.DESKTOP"}(t=e.ROTATE_PROMPT||(e.ROTATE_PROMPT={})),function(e){e.DESKTOP="SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.DESKTOP",e.TOUCH="SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.TOUCH"}(i=e.INSIDE_PROMPT||(e.INSIDE_PROMPT={}))}(s=e.DOLLHOUSE||(e.DOLLHOUSE={})),function(e){e.DEFAULT_NAME="SHOWCASE.FLOORS.DEFAULT_NAME"}(r=e.FLOORS||(e.FLOORS={})),function(e){e.ALT_GESTURE_DRAG="SHOWCASE.HELP.ALT_GESTURE_DRAG",e.ALT_GESTURE_DRAGTWOFINGER="SHOWCASE.HELP.ALT_GESTURE_DRAGTWOFINGER",e.ALT_GESTURE_DRAGTWOFINGER_VERT="SHOWCASE.HELP.ALT_GESTURE_DRAGTWOFINGER_VERT",e.ALT_GESTURE_POSITION="SHOWCASE.HELP.ALT_GESTURE_POSITION",e.ALT_GESTURE_PINCH="SHOWCASE.HELP.ALT_GESTURE_PINCH",e.ALT_GESTURE_TOUCH_ROTATE="SHOWCASE.HELP.ALT_GESTURE_TOUCH_ROTATE",e.ALT_GESTURE_PLAY="SHOWCASE.HELP.ALT_GESTURE_PLAY",e.ALT_GESTURE_POSITIONTWOFINGER="SHOWCASE.HELP.ALT_GESTURE_POSITIONTWOFINGER",e.ALT_GESTURE_TAP="SHOWCASE.HELP.ALT_GESTURE_TAP",e.ALT_GESTURE_TAPINSIDE="SHOWCASE.HELP.ALT_GESTURE_TAPINSIDE",e.ALT_KEYBOARD_ALL="SHOWCASE.HELP.ALT_KEYBOARD_ALL",e.ALT_KEYBOARD_INSIDE="SHOWCASE.HELP.ALT_KEYBOARD_INSIDE",e.ALT_KEYBOARD_LEFTRIGHT="SHOWCASE.HELP.ALT_KEYBOARD_LEFTRIGHT",e.ALT_KEYBOARD_UPDOWN="SHOWCASE.HELP.ALT_KEYBOARD_UPDOWN",e.ALT_KEYBOARD_ZOOM="SHOWCASE.HELP.ALT_KEYBOARD_ZOOM",e.ALT_MOUSE_CLICK="SHOWCASE.HELP.ALT_MOUSE_CLICK",e.ALT_MOUSE_CLICKINSIDE="SHOWCASE.HELP.ALT_MOUSE_CLICKINSIDE",e.ALT_MOUSE_DRAGLEFT="SHOWCASE.HELP.ALT_MOUSE_DRAGLEFT",e.ALT_MOUSE_DRAGRIGHT="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT",e.ALT_MOUSE_DRAGRIGHT_HORIZ="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT_HORIZ",e.ALT_MOUSE_DRAGRIGHT_VERT="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT_VERT",e.ALT_MOUSE_PLAY="SHOWCASE.HELP.ALT_MOUSE_PLAY",e.ALT_MOUSE_POSITIONLEFT="SHOWCASE.HELP.ALT_MOUSE_POSITIONLEFT",e.ALT_MOUSE_POSITIONRIGHT="SHOWCASE.HELP.ALT_MOUSE_POSITIONRIGHT",e.ALT_MOUSE_ZOOM="SHOWCASE.HELP.ALT_MOUSE_ZOOM",e.NAV_DOLLHOUSE_TITLE="SHOWCASE.HELP.NAV_DOLLHOUSE_TITLE",e.NAV_FLOORPLAN_TITLE="SHOWCASE.HELP.NAV_FLOORPLAN_TITLE",e.NAV_INSIDE_TITLE="SHOWCASE.HELP.NAV_INSIDE_TITLE",e.DESKTOP_DOLLHOUSE_PAN_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_PAN_HEADER",e.DESKTOP_DOLLHOUSE_PAN="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_PAN",e.DESKTOP_DOLLHOUSE_ROTATE_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ROTATE_HEADER",e.DESKTOP_DOLLHOUSE_ROTATE="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ROTATE",e.DESKTOP_DOLLHOUSE_ZOOM_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ZOOM_HEADER",e.DESKTOP_DOLLHOUSE_ZOOM="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ZOOM",e.DESKTOP_DOLLHOUSE_2D3D_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_2D3D_HEADER",e.DESKTOP_DOLLHOUSE_2D3D="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_2D3D",e.DESKTOP_INSIDE_LOOK_HEADER="SHOWCASE.HELP.DESKTOP_INSIDE_LOOK_HEADER",e.DESKTOP_INSIDE_LOOK="SHOWCASE.HELP.DESKTOP_INSIDE_LOOK",e.DESKTOP_INSIDE_MOVE_HEADER="SHOWCASE.HELP.DESKTOP_INSIDE_MOVE_HEADER",e.DESKTOP_INSIDE_MOVE="SHOWCASE.HELP.DESKTOP_INSIDE_MOVE",e.DESKTOP_INSIDE_ZOOM_HEADER="SHOWCASE.HELP.DESKTOP_INSIDE_ZOOM_HEADER",e.DESKTOP_INSIDE_ZOOM="SHOWCASE.HELP.DESKTOP_INSIDE_ZOOM",e.TOUCH_DOLLHOUSE_PAN="SHOWCASE.HELP.TOUCH_DOLLHOUSE_PAN",e.TOUCH_DOLLHOUSE_ROTATE="SHOWCASE.HELP.TOUCH_DOLLHOUSE_ROTATE",e.TOUCH_DOLLHOUSE_ZOOM="SHOWCASE.HELP.TOUCH_DOLLHOUSE_ZOOM",e.TOUCH_DOLLHOUSE_2D3D="SHOWCASE.HELP.TOUCH_DOLLHOUSE_2D3D",e.TOUCH_INSIDE_LOOK="SHOWCASE.HELP.TOUCH_INSIDE_LOOK",e.TOUCH_INSIDE_MOVE="SHOWCASE.HELP.TOUCH_INSIDE_MOVE",e.TOUCH_INSIDE_ZOOM="SHOWCASE.HELP.TOUCH_INSIDE_ZOOM"}(a=e.HELP||(e.HELP={})),function(e){e.EMPTY_REEL_TITLE="SHOWCASE.HLR.EMPTY_REEL_TITLE",e.EMPTY_REEL_MESSAGE="SHOWCASE.HLR.EMPTY_REEL_MESSAGE",e.EMPTY_REEL_LEARN_MORE="SHOWCASE.HLR.EMPTY_REEL_LEARN_MORE"}(o=e.HLR||(e.HLR={})),function(e){e.SEARCH_GROUP_HEADER="SHOWCASE.LABELS.SEARCH_GROUP_HEADER"}(l=e.LABELS||(e.LABELS={})),function(e){e.TOGGLE_LAYERS="SHOWCASE.LAYERS.TOGGLE_LAYERS"}(c=e.LAYERS||(e.LAYERS={})),function(e){e.SEARCH_GROUP_HEADER="SHOWCASE.MEASUREMENTS.SEARCH_GROUP_HEADER"}(d=e.MEASUREMENTS||(e.MEASUREMENTS={})),function(e){e.TODAY="SHOWCASE.NOTES.TODAY",e.YESTERDAY="SHOWCASE.NOTES.YESTERDAY",e.THIS_WEEK="SHOWCASE.NOTES.THIS_WEEK",e.ONE_WEEK_AGO="SHOWCASE.NOTES.ONE_WEEK_AGO",e.TWO_WEEKS_AGO="SHOWCASE.NOTES.TWO_WEEKS_AGO",e.THREE_WEEKS_AGO="SHOWCASE.NOTES.THREE_WEEKS_AGO",e.OLDER="SHOWCASE.NOTES.OLDER",e.NO_MATCHES="SHOWCASE.NOTES.NO_MATCHES",e.HAVE_NONE="SHOWCASE.NOTES.HAVE_NONE",e.HAVE_NONE_OPEN="SHOWCASE.NOTES.HAVE_NONE_OPEN",e.HAVE_NONE_RESOLVED="SHOWCASE.NOTES.HAVE_NONE_RESOLVED",e.CONTENT_DELETED="SHOWCASE.NOTES.CONTENT_DELETED",e.RESULTS="SHOWCASE.NOTES.RESULTS",e.NUM_ATTACHMENTS="SHOWCASE.NOTES.ATTACHMENTS",e.COMMENTS="SHOWCASE.NOTES.COMMENTS",e.NOTES="SHOWCASE.NOTES.NOTES",e.REPLIES="SHOWCASE.NOTES.REPLIES",e.FILTER="SHOWCASE.NOTES.FILTER",e.FILTER_RESOLVED="SHOWCASE.NOTES.FILTER_RESOLVED",e.FILTER_UNRESOLVED="SHOWCASE.NOTES.FILTER_UNRESOLVED",e.FILTER_ALL="SHOWCASE.NOTES.FILTER_ALL",e.FILTER_BY="SHOWCASE.NOTES.FILTER_BY",e.CANCEL="SHOWCASE.NOTES.CANCEL",e.DELETE="SHOWCASE.NOTES.DELETE",e.EDIT="SHOWCASE.NOTES.EDIT",e.ADD_NOTE_MESSAGE="SHOWCASE.NOTES.ADD_NOTE_MESSAGE",e.MARK_AS_RESOLVED="SHOWCASE.NOTES.MARK_AS_RESOLVED",e.UNRESOLVE="SHOWCASE.NOTES.UNRESOLVE",e.FEEDBACK="SHOWCASE.NOTES.FEEDBACK",e.NAV_BACK="SHOWCASE.NOTES.NAV_BACK",e.NAV_CLOSE="SHOWCASE.NOTES.NAV_CLOSE",e.REPLY_PLACEHOLDER="SHOWCASE.NOTES.REPLY_PLACEHOLDER",e.EDIT_LIST_ITEM_OPTION_CTA="SHOWCASE.NOTES.EDIT_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="SHOWCASE.NOTES.DELETE_LIST_ITEM_OPTION_CTA",e.MISSING_MESSAGE="SHOWCASE.NOTES.MISSING_MESSAGE",e.ADD_CTA_TOOLTIP="SHOWCASE.NOTES.ADD_CTA_TOOLTIP",e.ADD_TOOLTIP="SHOWCASE.NOTES.ADD_TOOLTIP",e.CANCEL_TOOLTIP="SHOWCASE.NOTES.CANCEL_TOOLTIP",e.COLOR_STEM_TOOLTIP="SHOWCASE.NOTES.COLOR_STEM_TOOLTIP",e.DELETE_TOOLTIP="SHOWCASE.NOTES.DELETE_TOOLTIP",e.OVERLAY_ADD_TOUCH="SHOWCASE.NOTES.OVERLAY_ADD_TOUCH",e.OVERLAY_ADD_CLICK="SHOWCASE.NOTES.OVERLAY_ADD_CLICK",e.OVERLAY_PLACE_TOUCH="SHOWCASE.NOTES.OVERLAY_PLACE_TOUCH",e.OVERLAY_PLACE_CLICK="SHOWCASE.NOTES.OVERLAY_PLACE_CLICK",e.SEARCH_GROUP_HEADER="SHOWCASE.NOTES.SEARCH_GROUP_HEADER",e.SEARCH_GROUP_HEADER_NOTES="SHOWCASE.NOTES.SEARCH_GROUP_HEADER_NOTES",e.SELECTED_NOTES="SHOWCASE.NOTES.SELECTED_NOTES",e.SELECTED_COMMENTS="SHOWCASE.NOTES.SELECTED_COMMENTS"}(u=e.NOTES||(e.NOTES={})),function(e){e.BACK="SHOWCASE.ROOMS.BACK",e.CLOSE="SHOWCASE.ROOMS.CLOSE",e.DEFAULT_NAME="SHOWCASE.ROOMS.DEFAULT_NAME",e.DEFAULT_ROOM="SHOWCASE.ROOMS.DEFAULT_ROOM",e.DOORWAY_TYPE="SHOWCASE.ROOMS.DOORWAY_TYPE",e.DOORWAY_TYPE_DOOR="SHOWCASE.ROOMS.DOORWAY_TYPE_DOOR",e.DOORWAY_TYPE_OPENING="SHOWCASE.ROOMS.DOORWAY_TYPE_OPENING",e.LIST_PANEL_TITLE="SHOWCASE.ROOMS.LIST_PANEL_TITLE",e.LIST_PANEL_EDIT="SHOWCASE.ROOMS.LIST_PANEL_EDIT",e.QUANTITY_IN_UNITS="SHOWCASE.ROOMS.QUANTITY_IN_UNITS",e.ROOM_AREA="SHOWCASE.ROOMS.ROOM_AREA",e.ROOM_BOUNDS_TOGGLES_TITLE="SHOWCASE.ROOMS.ROOM_BOUNDS_TOGGLES_TITLE",e.ROOM_BOUNDS_WALL_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_WALL_TOGGLE_LABEL",e.ROOM_BOUNDS_ROOM_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_ROOM_TOGGLE_LABEL",e.ROOM_BOUNDS_DIMENSION_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_DIMENSION_TOGGLE_LABEL",e.ROOM_BOUNDS_MODEL_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_MODEL_TOGGLE_LABEL",e.ROOM_DIMENSIONS="SHOWCASE.ROOMS.ROOM_DIMENSIONS",e.ROOM_HEIGHT="SHOWCASE.ROOMS.ROOM_HEIGHT",e.ROOM_INFORMATION="SHOWCASE.ROOMS.ROOM_INFORMATION",e.ROOM_PERIMETER="SHOWCASE.ROOMS.ROOM_PERIMETER",e.ROOM_TYPE="SHOWCASE.ROOMS.ROOM_TYPE",e.SEARCH_GROUP_HEADER="SHOWCASE.ROOMS.SEARCH_GROUP_HEADER",e.SETTINGS="SHOWCASE.ROOMS.SETTINGS",e.WALL_THICKNESS="SHOWCASE.ROOMS.WALL_THICKNESS",e.WALL_TYPE="SHOWCASE.ROOMS.WALL_TYPE",e.WALL_TYPE_SOLID="SHOWCASE.ROOMS.WALL_TYPE_SOLID",e.WALL_TYPE_DIVIDER="SHOWCASE.ROOMS.WALL_TYPE_DIVIDER"}(h=e.ROOMS||(e.ROOMS={})),function(e){e.CLOSE_TAG_LABEL="SHOWCASE.TAGS.CLOSE_TAG_LABEL",e.DOCK_TAG_LABEL="SHOWCASE.TAGS.DOCK_TAG_LABEL",e.EDIT_TAG_LABEL="SHOWCASE.TAGS.EDIT_TAG_LABEL",e.MISSING_MESSAGE="SHOWCASE.TAGS.MISSING_MESSAGE",e.SEARCH_GROUP_HEADER="SHOWCASE.TAGS.SEARCH_GROUP_HEADER",e.SHARE_TAG_LABEL="SHOWCASE.TAGS.SHARE_TAG_LABEL",e.UNDOCK_TAG_LABEL="SHOWCASE.TAGS.UNDOCK_TAG_LABEL",e.NAV_BACK_LABEL="SHOWCASE.TAGS.NAV_BACK_LABEL",e.OVERLAY_ADD_TOUCH="SHOWCASE.TAGS.OVERLAY_ADD_TOUCH",e.OVERLAY_ADD_CLICK="SHOWCASE.TAGS.OVERLAY_ADD_CLICK",e.OVERLAY_PLACE_TOUCH="SHOWCASE.TAGS.OVERLAY_PLACE_TOUCH",e.OVERLAY_PLACE_CLICK="SHOWCASE.TAGS.OVERLAY_PLACE_CLICK"}(p=e.TAGS||(e.TAGS={})),function(e){e.QUERY_PLACEHOLDER="SHOWCASE.SEARCH.QUERY_PLACEHOLDER",e.SEARCH_IN_TOOL_PLACEHOLDER="SHOWCASE.SEARCH.SEARCH_IN_TOOL_PLACEHOLDER",e.CLEAR_SEARCH="SHOWCASE.SEARCH.CLEAR_SEARCH",e.FILTER_SEARCH="SHOWCASE.SEARCH.FILTER_SEARCH",e.FILTER_SEARCH_LABEL="SHOWCASE.SEARCH.FILTER_SEARCH_LABEL",e.FILTER_SEARCH_ALL="SHOWCASE.SEARCH.FILTER_SEARCH_ALL",e.FILTER_SEARCH_REMOVE="SHOWCASE.SEARCH.FILTER_SEARCH_REMOVE",e.FILTER_SEARCH_SELECTED="SHOWCASE.SEARCH.FILTER_SEARCH_SELECTED",e.GROUP_DATE="SHOWCASE.SEARCH.GROUP_DATE",e.GROUP_DATE_SELECTED="SHOWCASE.SEARCH.GROUP_DATE_SELECTED",e.GROUP_FLOOR="SHOWCASE.SEARCH.GROUP_FLOOR",e.GROUP_FLOOR_SELECTED="SHOWCASE.SEARCH.GROUP_FLOOR_SELECTED",e.GROUP_LAYER="SHOWCASE.SEARCH.GROUP_LAYER",e.GROUP_LAYER_SELECTED="SHOWCASE.SEARCH.GROUP_LAYER_SELECTED",e.GROUP_ROOM="SHOWCASE.SEARCH.GROUP_ROOM",e.GROUP_ROOM_SELECTED="SHOWCASE.SEARCH.GROUP_ROOM_SELECTED",e.GROUP_TYPE="SHOWCASE.SEARCH.GROUP_TYPE",e.GROUP_TYPE_SELECTED="SHOWCASE.SEARCH.GROUP_TYPE_SELECTED",e.ITEMS="SHOWCASE.SEARCH.ITEMS",e.EMPTY_LIST_MESSAGE="SHOWCASE.SEARCH.EMPTY_LIST_MESSAGE",e.VALIDATION_MESSAGE="SHOWCASE.SEARCH.VALIDATION_MESSAGE"}(m=e.SEARCH||(e.SEARCH={})),function(e){e.BANNER_CTA_LINK_TEXT="SHOWCASE.SUBSCRIBER_PROMPT.BANNER_CTA_LINK_TEXT",e.POPUP_CTA_HEADING="SHOWCASE.SUBSCRIBER_PROMPT.POPUP_CTA_HEADING",e.POPUP_CTA_LINK_TEXT="SHOWCASE.SUBSCRIBER_PROMPT.POPUP_CTA_LINK_TEXT"}(f=e.SUBSCRIBER_PROMPT||(e.SUBSCRIBER_PROMPT={})),function(e){e.HEADING="SHOWCASE.SUMMARY.HEADING",e.LABEL_ADDRESS="SHOWCASE.SUMMARY.LABEL_ADDRESS",e.LABEL_CONTACT="SHOWCASE.SUMMARY.LABEL_CONTACT",e.LABEL_DESCRIPTION="SHOWCASE.SUMMARY.LABEL_DESCRIPTION",e.LABEL_INFORMATION="SHOWCASE.SUMMARY.LABEL_INFORMATION",e.LABEL_LOCATION="SHOWCASE.SUMMARY.LABEL_LOCATION",e.LABEL_LEARN_MORE="SHOWCASE.SUMMARY.LABEL_LEARN_MORE"}(g=e.SUMMARY||(e.SUMMARY={})),function(e){e.TOUR_BUTTON_LABEL="SHOWCASE.TOURS.TOUR_BUTTON_LABEL",e.TOUR_CONTROLS_TITLE="SHOWCASE.TOURS.TOUR_CONTROLS_TITLE",e.TOUR_CONTROLS_CTA="SHOWCASE.TOURS.TOUR_CONTROLS_CTA"}(v=e.TOURS||(e.TOURS={})),function(e){e.VIEW_SELECTOR_START_LOCATION_TOOLTIP="SHOWCASE.VIEWS.VIEW_SELECTOR_START_LOCATION_TOOLTIP"}(y=e.VIEWS||(e.VIEWS={}))}(u=e.SHOWCASE||(e.SHOWCASE={})),function(e){e.AD_DEFURNISH="TOOLS.AD_DEFURNISH",e.AD_DEFURNISH_HELP_MESSAGE="TOOLS.AD_DEFURNISH_HELP_MESSAGE",e.BLUR="TOOLS.BLUR",e.BLUR_HELP_MESSAGE="TOOLS.BLUR_HELP_MESSAGE",e.HLR="TOOLS.HLR",e.HLR_HELP_MESSAGE="TOOLS.HLR_HELP_MESSAGE",e.LABELS="TOOLS.LABELS",e.LABELS_HELP_MESSAGE="TOOLS.LABELS_HELP_MESSAGE",e.LAYERS="TOOLS.LAYERS",e.LAYERS_HELP_MESSAGE="TOOLS.LAYERS_HELP_MESSAGE",e.MATTERTAGS="TOOLS.MATTERTAGS",e.MATTERTAGS_HELP_MESSAGE="TOOLS.MATTERTAGS_HELP_MESSAGE",e.MEASUREMENTS="TOOLS.MEASUREMENTS",e.MEASUREMENTS_SETTINGS="TOOLS.MEASUREMENTS_SETTINGS",e.MEASUREMENTS_HELP_MESSAGE="TOOLS.MEASUREMENTS_HELP_MESSAGE",e.MESH_TRIM="TOOLS.MESH_TRIM",e.MESH_TRIM_HELP_MESSAGE="TOOLS.MESH_TRIM_HELP_MESSAGE",e.NOTES="TOOLS.NOTES",e.NOTES_HELP_MESSAGE="TOOLS.NOTES_HELP_MESSAGE",e.PHOTOS="TOOLS.PHOTOS",e.PHOTOS_HELP_MESSAGE="TOOLS.PHOTOS_HELP_MESSAGE",e.PLUGIN_CONFIG="TOOLS.PLUGIN_CONFIG",e.PLUGIN_CONFIG_HELP_MESSAGE="TOOLS.PLUGIN_CONFIG_HELP_MESSAGE",e.ROOMPLAN="TOOLS.ROOMPLAN",e.ROOMPLAN_HELP_MESSAGE="TOOLS.ROOMPLAN_HELP_MESSAGE",e.SCANS_3D="TOOLS.SCANS_3D",e.SCANS_3D_HELP_MESSAGE="TOOLS.SCANS_3D_HELP_MESSAGE",e.SETTINGS_PANEL="TOOLS.SETTINGS_PANEL",e.START_LOCATION="TOOLS.START_LOCATION",e.START_LOCATION_HELP_MESSAGE="TOOLS.START_LOCATION_HELP_MESSAGE",e.SUMMARY="TOOLS.SUMMARY",e.TAGS="TOOLS.TAGS",e.TAGS_HELP_MESSAGE="TOOLS.TAGS_HELP_MESSAGE",e.TOURS="TOOLS.TOURS",e.TOURS_HELP_MESSAGE="TOOLS.TOURS_HELP_MESSAGE",e.VIEW_360="TOOLS.VIEW_360",e.VIEW_360_HELP_MESSAGE="TOOLS.VIEW_360_HELP_MESSAGE",e.VR_PATH="TOOLS.VR_PATH",e.VR_PATH_HELP_MESSAGE="TOOLS.VR_PATH_HELP_MESSAGE",e.SEARCH="TOOLS.SEARCH",e.UNSAVED_CHANGES_TITLE="TOOLS.UNSAVED_CHANGES_TITLE",e.UNSAVED_CHANGES_MESSAGE="TOOLS.UNSAVED_CHANGES_MESSAGE",e.UNSAVED_CHANGES_CONFIRM="TOOLS.UNSAVED_CHANGES_CONFIRM",e.UNSAVED_CHANGES_CANCEL="TOOLS.UNSAVED_CHANGES_CANCEL"}(h=e.TOOLS||(e.TOOLS={})),function(e){e.INVITE_USER="USERS.INVITE_USER",e.INVITE_USER_FAILED="USERS.INVITE_USER_FAILED",e.INVITE_BUTTON="USERS.INVITE_BUTTON",e.INVITE_USERS="USERS.INVITE_USERS",e.INVITE_USERS_FAILED="USERS.INVITE_USERS_FAILED",e.INVITE_VISIBLE_MSG="USERS.INVITE_VISIBLE_MSG",e.UNKNOWN_USER="USERS.UNKNOWN_USER",e.UNKNOWN_USERS="USERS.UNKNOWN_USERS"}(p=e.USERS||(e.USERS={})),function(e){e.FEET_SYMBOL="UNITS_DISPLAY.FEET_SYMBOL",e.INCHES_SYMBOL="UNITS_DISPLAY.INCHES_SYMBOL",e.HALF_SPACE="UNITS_DISPLAY.HALF_SPACE",e.FEET="UNITS_DISPLAY.FEET",e.INCHES="UNITS_DISPLAY.INCHES",e.METERS="UNITS_DISPLAY.METERS",e.SQUARE_FEET="UNITS_DISPLAY.SQUARE_FEET",e.SQUARE_METERS="UNITS_DISPLAY.SQUARE_METERS",e.DIMENSIONS_SEPARATOR="UNITS_DISPLAY.DIMENSIONS_SEPARATOR"}(m=e.UNITS_DISPLAY||(e.UNITS_DISPLAY={})),function(e){let t,i,n,s,r,a,o,l,c,d,u,h,p,m,f,g,v,y,E,b,S,O,T,_,N,w;!function(e){e.DELETE_SELECTED_CTA="WORKSHOP.ACCORDION.DELETE_SELECTED_CTA",e.SELECT_ALL_CTA="WORKSHOP.ACCORDION.SELECT_ALL_CTA",e.ENTER_SELECT_MODE_CTA="WORKSHOP.ACCORDION.ENTER_SELECT_MODE_CTA",e.EXIT_SELECT_MODE_CTA="WORKSHOP.ACCORDION.EXIT_SELECT_MODE_CTA",e.DELETE_FOOTER_CTA="WORKSHOP.ACCORDION.DELETE_FOOTER_CTA",e.TOGGLE_VISIBILITY_FOOTER_CTA="WORKSHOP.ACCORDION.TOGGLE_VISIBILITY_FOOTER_CTA",e.BATCH_DELETE_MODAL_TITLE="WORKSHOP.ACCORDION.BATCH_DELETE_MODAL_TITLE",e.BATCH_DELETE_MODAL_MESSAGE="WORKSHOP.ACCORDION.BATCH_DELETE_MODAL_MESSAGE",e.BATCH_ITEMS_TYPE="WORKSHOP.ACCORDION.BATCH_ITEMS_TYPE",e.BATCH_COPY_LABEL="WORKSHOP.ACCORDION.BATCH_COPY_LABEL",e.BATCH_MOVE_LABEL="WORKSHOP.ACCORDION.BATCH_MOVE_LABEL",e.BATCH_DELETE_LABEL="WORKSHOP.ACCORDION.BATCH_DELETE_LABEL",e.RENAME_HEADER_OPTION_CTA="WORKSHOP.ACCORDION.RENAME_HEADER_OPTION_CTA"}(t=e.ACCORDION||(e.ACCORDION={})),function(e){e.CHANGES_SAVED_MESSAGE="WORKSHOP.APP_SWITCH.CHANGES_SAVED_MESSAGE",e.SAVING_CHANGES_MESSAGE="WORKSHOP.APP_SWITCH.SAVING_CHANGES_MESSAGE",e.PROCESSING_MESSAGE="WORKSHOP.APP_SWITCH.PROCESSING_MESSAGE",e.CHANGES_SAVED_AUTOSAVE_MESSAGE="WORKSHOP.APP_SWITCH.CHANGES_SAVED_AUTOSAVE_MESSAGE",e.EDIT_CTA="WORKSHOP.APP_SWITCH.EDIT_CTA",e.UNSUPPORTED_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.UNSUPPORTED_TOOLTIP_MESSAGE",e.UNSUPPORTED_TOOLTIP_TITLE="WORKSHOP.APP_SWITCH.UNSUPPORTED_TOOLTIP_TITLE",e.FLOORS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.FLOORS_CHECKBOX_LABEL",e.MEASUREMENTS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.MEASUREMENTS_CHECKBOX_LABEL",e.MATTERTAGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.MATTERTAGS_CHECKBOX_LABEL",e.TAGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.TAGS_CHECKBOX_LABEL",e.LABELS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.LABELS_CHECKBOX_LABEL",e.HIGHLIGHTS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.HIGHLIGHTS_CHECKBOX_LABEL",e.START_LOCATION_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.START_LOCATION_CHECKBOX_LABEL",e.SETTINGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.SETTINGS_CHECKBOX_LABEL",e.SWEEPS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.SWEEPS_CHECKBOX_LABEL",e.BLURS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.BLURS_CHECKBOX_LABEL",e.EXIT_EDIT_MODE_CTA="WORKSHOP.APP_SWITCH.EXIT_EDIT_MODE_CTA",e.EXIT_EDIT_MODE_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.EXIT_EDIT_MODE_TOOLTIP_MESSAGE",e.PREVIEW_CHANGES_CTA="WORKSHOP.APP_SWITCH.PREVIEW_CHANGES_CTA",e.NO_EDIT_PERMS_TITLE="WORKSHOP.APP_SWITCH.NO_EDIT_PERMS_TITLE",e.NO_EDIT_PERMS_MESSAGE="WORKSHOP.APP_SWITCH.NO_EDIT_PERMS_MESSAGE"}(i=e.APP_SWITCH||(e.APP_SWITCH={})),function(e){e.ACCEPT_ALL_SUGGESTIONS="WORKSHOP.BLURS.ACCEPT_ALL_SUGGESTIONS",e.ACCEPT_SUGGESTION_TOOLTIP="WORKSHOP.BLURS.ACCEPT_SUGGESTION_TOOLTIP",e.ALREADY_PROCESSING_ALERT_MESSAGE="WORKSHOP.BLURS.ALREADY_PROCESSING_ALERT_MESSAGE",e.ALREADY_PROCESSING_ALERT_TITLE="WORKSHOP.BLURS.ALREADY_PROCESSING_ALERT_TITLE",e.APPLY_BLURS_CTA="WORKSHOP.BLURS.APPLY_BLURS_CTA",e.APPLYING="WORKSHOP.BLURS.APPLYING",e.APPLY_MODAL_CONFIRM="WORKSHOP.BLURS.APPLY_MODAL_CONFIRM",e.APPLY_MODAL_NUDGE_CANCEL="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_CANCEL",e.APPLY_MODAL_MESSAGE="WORKSHOP.BLURS.APPLY_MODAL_MESSAGE",e.APPLY_MODAL_NUDGE_MESSAGE="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_MESSAGE",e.APPLY_MODAL_RETRY="WORKSHOP.BLURS.APPLY_MODAL_RETRY",e.APPLY_MODAL_TITLE="WORKSHOP.BLURS.APPLY_MODAL_TITLE",e.APPLY_MODAL_NUDGE_TITLE="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_TITLE",e.APPLY_MODAL_TRUNCATED="WORKSHOP.BLURS.APPLY_MODAL_TRUNCATED",e.APPLY_MODAL_WARNING="WORKSHOP.BLURS.APPLY_MODAL_WARNING",e.BANNER_WARNING="WORKSHOP.BLURS.BANNER_WARNING",e.DEFURNISH_WARNING="WORKSHOP.BLURS.DEFURNISH_WARNING",e.BATCH_SELECT="WORKSHOP.BLURS.BATCH_SELECT",e.BLUR_STATUS="WORKSHOP.BLURS.BLUR_STATUS",e.BLUR_STATUS_ALL="WORKSHOP.BLURS.BLUR_STATUS_ALL",e.BLUR_STATUS_APPLIED="WORKSHOP.BLURS.BLUR_STATUS_APPLIED",e.BLUR_STATUS_FAILED="WORKSHOP.BLURS.BLUR_STATUS_FAILED",e.BLUR_STATUS_PENDING="WORKSHOP.BLURS.BLUR_STATUS_PENDING",e.BLUR_STATUS_PROCESSING="WORKSHOP.BLURS.BLUR_STATUS_PROCESSING",e.BLUR_STATUS_SUGGESTED="WORKSHOP.BLURS.BLUR_STATUS_SUGGESTED",e.BRUSH_TOOLTIP_MESSAGE="WORKSHOP.BLURS.BRUSH_TOOLTIP_MESSAGE",e.BRUSH_TOOLTIP_TITLE="WORKSHOP.BLURS.BRUSH_TOOLTIP_TITLE",e.CLOSE_SUGGESTIONS="WORKSHOP.BLURS.CLOSE_SUGGESTIONS",e.CREATE_TOOLTIP_MESSAGE="WORKSHOP.BLURS.CREATE_TOOLTIP_MESSAGE",e.CREATE_TOOLTIP_TITLE="WORKSHOP.BLURS.CREATE_TOOLTIP_TITLE",e.DEFAULT_ALERT_CONFIRMATION="WORKSHOP.BLURS.DEFAULT_ALERT_CONFIRMATION",e.DEFAULT_ALERT_TITLE="WORKSHOP.BLURS.DEFAULT_ALERT_TITLE",e.DEFAULT_BLUR_NAME="WORKSHOP.BLURS.DEFAULT_BLUR_NAME",e.DELETE_BLUR_CTA="WORKSHOP.BLURS.DELETE_BLUR_CTA",e.GROUP_BY="WORKSHOP.BLURS.GROUP_BY",e.GROUP_BY_FLOOR="WORKSHOP.BLURS.GROUP_BY_FLOOR",e.GROUP_BY_SCAN="WORKSHOP.BLURS.GROUP_BY_SCAN",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.BLURS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.BLURS.MULTI_FLOOR_EMPTY_MESSAGE",e.NO_BLURS="WORKSHOP.BLURS.NO_BLURS",e.NO_SUGGESTIONS="WORKSHOP.BLURS.NO_SUGGESTIONS",e.NO_SUGGESTIONS_ON_FLOOR="WORKSHOP.BLURS.NO_SUGGESTIONS_ON_FLOOR",e.NUM_BLUR_SUGGESTIONS="WORKSHOP.BLURS.NUM_BLUR_SUGGESTIONS",e.NUM_TYPE="WORKSHOP.BLURS.NUM_TYPE",e.OTHER_GROUP_LABEL="WORKSHOP.BLURS.OTHER_GROUP_LABEL",e.OVERLAY_MESSAGE="WORKSHOP.BLURS.OVERLAY_MESSAGE",e.OVERLAY_MESSAGE_TOUCH="WORKSHOP.BLURS.OVERLAY_MESSAGE_TOUCH",e.REJECT_ALL_SUGGESTIONS="WORKSHOP.BLURS.REJECT_ALL_SUGGESTIONS",e.REJECT_SUGGESTION_TOOLTIP="WORKSHOP.BLURS.REJECT_SUGGESTION_TOOLTIP",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.BLURS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.BLURS.SINGLE_FLOOR_EMPTY_MESSAGE",e.SORT="WORKSHOP.BLURS.SORT",e.SORT_CREATED_ASC="WORKSHOP.BLURS.SORT_CREATED_ASC",e.SORT_CREATED_DESC="WORKSHOP.BLURS.SORT_CREATED_DESC",e.STATUS="WORKSHOP.BLURS.STATUS",e.SUGGESTED_BLUR="WORKSHOP.BLURS.SUGGESTED_BLUR",e.SUGGESTIONS_AVAILABLE_MESSAGE="WORKSHOP.BLURS.SUGGESTIONS_AVAILABLE_MESSAGE",e.SUGGESTIONS_FOUND_MESSAGE="WORKSHOP.BLURS.SUGGESTIONS_FOUND_MESSAGE",e.TYPE="WORKSHOP.BLURS.TYPE",e.VIEW_SUGGESTIONS="WORKSHOP.BLURS.VIEW_SUGGESTIONS"}(n=e.BLURS||(e.BLURS={})),function(e){e.TYPE="WORKSHOP.SUGGESTIONS.TYPE"}(s=e.SUGGESTIONS||(e.SUGGESTIONS={})),function(e){e.HELP_LINK="WORKSHOP.EDIT_BAR.HELP_LINK",e.BETA_TAG="WORKSHOP.EDIT_BAR.BETA_TAG",e.COLLAPSE_LIST_TOOLTIP_MESSAGE="WORKSHOP.EDIT_BAR.COLLAPSE_LIST_TOOLTIP_MESSAGE",e.EXPAND_LIST_TOOLTIP_MESSAGE="WORKSHOP.EDIT_BAR.EXPAND_LIST_TOOLTIP_MESSAGE",e.NEW_BADGE="WORKSHOP.EDIT_BAR.NEW_BADGE"}(r=e.EDIT_BAR||(e.EDIT_BAR={})),function(e){e.APPLY_CTA="WORKSHOP.EMBED.APPLY_CTA",e.HELP_CTA="WORKSHOP.EMBED.HELP_CTA",e.ERROR_MESSAGE="WORKSHOP.EMBED.ERROR_MESSAGE",e.LOADING_MESSAGE="WORKSHOP.EMBED.LOADING_MESSAGE",e.INVALID_URL_MESSAGE="WORKSHOP.EMBED.INVALID_URL_MESSAGE",e.SUPPORTED_FORMATS_MESSAGE="WORKSHOP.EMBED.SUPPORTED_FORMATS_MESSAGE",e.MEDIA_LINK_LABEL="WORKSHOP.EMBED.MEDIA_LINK_LABEL",e.PROVIDER_NOT_SUPPORTED_MESSAGE="WORKSHOP.EMBED.PROVIDER_NOT_SUPPORTED_MESSAGE",e.LINK_TYPE_NOT_SUPPORTED_MESSAGE="WORKSHOP.EMBED.LINK_TYPE_NOT_SUPPORTED_MESSAGE",e.MEDIA_EMBED_PLACEHOLDER="WORKSHOP.EMBED.MEDIA_EMBED_PLACEHOLDER"}(a=e.EMBED||(e.EMBED={})),function(e){e.ADD_FROM_PHOTOS_TOOLTIP_MESSAGE="WORKSHOP.HLR.ADD_FROM_PHOTOS_TOOLTIP_MESSAGE",e.ADD_HIGHLIGHT_CTA="WORKSHOP.HLR.ADD_HIGHLIGHT_CTA",e.ADD_HIGHLIGHT_DISABLED_CTA="WORKSHOP.HLR.ADD_HIGHLIGHT_DISABLED_CTA",e.ADD_HIGHLIGHT_INSTRUCTIONS="WORKSHOP.HLR.ADD_HIGHLIGHT_INSTRUCTIONS",e.APPLY_TO_ALL_CTA="WORKSHOP.HLR.APPLY_TO_ALL_CTA",e.CLEAR_HLR_MODAL_MESSAGE="WORKSHOP.HLR.CLEAR_HLR_MODAL_MESSAGE",e.CLEAR_HLR_MODAL_TITLE="WORKSHOP.HLR.CLEAR_HLR_MODAL_TITLE",e.CLEAR_REEL_CTA="WORKSHOP.HLR.CLEAR_REEL_CTA",e.CLOSE_SETTINGS_CTA="WORKSHOP.HLR.CLOSE_SETTINGS_CTA",e.DELETE_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.DELETE_HIGHLIGHT_TOOLTIP_MESSAGE",e.DISMISS_TOOLTIP_CTA="WORKSHOP.HLR.DISMISS_TOOLTIP_CTA",e.DOLLHOUSE_ROTATION_SPEED_SETTING_LABEL="WORKSHOP.HLR.DOLLHOUSE_ROTATION_SPEED_SETTING_LABEL",e.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE",e.EDIT_SETTINGS_TOOLTIP_MESSAGE="WORKSHOP.HLR.EDIT_SETTINGS_TOOLTIP_MESSAGE",e.HIGHLIGHT_CAPTION_HINT="WORKSHOP.HLR.HIGHLIGHT_CAPTION_HINT",e.HIGHLIGHT_CAPTION_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_CAPTION_PLACEHOLDER",e.HIGHLIGHT_DESCRIPTION_HINT="WORKSHOP.HLR.HIGHLIGHT_DESCRIPTION_HINT",e.HIGHLIGHT_DESCRIPTION_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_DESCRIPTION_PLACEHOLDER",e.HIGHLIGHT_SCENE_HINT="WORKSHOP.HLR.HIGHLIGHT_SCENE_HINT",e.HIGHLIGHT_SCENE_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_SCENE_PLACEHOLDER",e.HIGHLIGHT_TITLE_HINT="WORKSHOP.HLR.HIGHLIGHT_TITLE_HINT",e.HIGHLIGHT_TITLE_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_TITLE_PLACEHOLDER",e.INDIVIDUAL_PAN_DIRECTION_SETTING_LABEL="WORKSHOP.HLR.INDIVIDUAL_PAN_DIRECTION_SETTING_LABEL",e.INDIVIDUAL_TRANSITION_SETTING_LABEL="WORKSHOP.HLR.INDIVIDUAL_TRANSITION_SETTING_LABEL",e.NUM_TYPE="WORKSHOP.HLR.NUM_TYPE",e.PANNING_SETTINGS_TAB_TITLE="WORKSHOP.HLR.PANNING_SETTINGS_TAB_TITLE",e.PAN_DIRECTION_SETTING_AUTO="WORKSHOP.HLR.PAN_DIRECTION_SETTING_AUTO",e.PAN_DIRECTION_SETTING_LABEL="WORKSHOP.HLR.PAN_DIRECTION_SETTING_LABEL",e.PAN_DIRECTION_SETTING_LEFT="WORKSHOP.HLR.PAN_DIRECTION_SETTING_LEFT",e.PAN_DIRECTION_SETTING_RIGHT="WORKSHOP.HLR.PAN_DIRECTION_SETTING_RIGHT",e.PANEL_COLLAPSE="WORKSHOP.HLR.PANEL_COLLAPSE",e.PANEL_EXPAND="WORKSHOP.HLR.PANEL_EXPAND",e.PREVIEW_SETTINGS_CTA="WORKSHOP.HLR.PREVIEW_SETTINGS_CTA",e.PRESENTATION_SETTINGS_TAB_TITLE="WORKSHOP.HLR.PRESENTATION_SETTINGS_TAB_TITLE",e.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE",e.RESTORE_DEFAULTS_CTA="WORKSHOP.HLR.RESTORE_DEFAULTS_CTA",e.ROTATION_ANGLE_SETTING_LABEL="WORKSHOP.HLR.ROTATION_ANGLE_SETTING_LABEL",e.ROTATION_SPEED_SETTING_LABEL="WORKSHOP.HLR.ROTATION_SPEED_SETTING_LABEL",e.SCAN_GENERIC_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_GENERIC_HIDDEN_TOOLTIP_TITLE",e.SCAN_NOT_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_NOT_HIDDEN_TOOLTIP_TITLE",e.SCAN_NUMBER_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_NUMBER_HIDDEN_TOOLTIP_TITLE",e.SEARCH_HIGHLIGHT_DEFAULTNAME="WORKSHOP.HLR.SEARCH_HIGHLIGHT_DEFAULTNAME",e.SEARCH_ITEM_DELETE="WORKSHOP.HLR.SEARCH_ITEM_DELETE",e.SEARCH_ITEM_EDIT="WORKSHOP.HLR.SEARCH_ITEM_EDIT",e.SEARCH_TOUR_HEADER="WORKSHOP.HLR.SEARCH_TOUR_HEADER",e.SETTINGS_MODAL_TITLE="WORKSHOP.HLR.SETTINGS_MODAL_TITLE",e.SLIDESHOW_SPEED_SETTING_LABEL="WORKSHOP.HLR.SLIDESHOW_SPEED_SETTING_LABEL",e.SPEED_SETTING_FAST="WORKSHOP.HLR.SPEED_SETTING_FAST",e.SPEED_SETTING_MEDIUM="WORKSHOP.HLR.SPEED_SETTING_MEDIUM",e.SPEED_SETTING_SLOW="WORKSHOP.HLR.SPEED_SETTING_SLOW",e.TOAST_ERROR_CTA="WORKSHOP.HLR.TOAST_ERROR_CTA",e.TOAST_ERROR_MESSAGE="WORKSHOP.HLR.TOAST_ERROR_MESSAGE",e.TOUR_EDITOR_BEHAVIORS_TAB="WORKSHOP.HLR.TOUR_EDITOR_BEHAVIORS_TAB",e.TOUR_EDITOR_LABELS_TAB="WORKSHOP.HLR.TOUR_EDITOR_LABELS_TAB",e.TOUR_EDITOR_EMPTY_MESSAGE="WORKSHOP.HLR.TOUR_EDITOR_EMPTY_MESSAGE",e.TOUR_EDITOR_EMPTY_TITLE="WORKSHOP.HLR.TOUR_EDITOR_EMPTY_TITLE",e.TOUR_EDITOR_TITLE_DESCRIPTION_HELPER="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_HELPER",e.TOUR_EDITOR_TITLE_DESCRIPTION_TIP="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_TIP",e.TOUR_EDITOR_TITLE_DESCRIPTION_TIP_LINK="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_TIP_LINK",e.TOUR_SETTINGS_LABEL="WORKSHOP.HLR.TOUR_SETTINGS_LABEL",e.TOUR_SETTINGS_MOVED_HEADER="WORKSHOP.HLR.TOUR_SETTINGS_MOVED_HEADER",e.TOUR_SETTINGS_MOVED_MESSAGE="WORKSHOP.HLR.TOUR_SETTINGS_MOVED_MESSAGE",e.TRANSITION_AFTER_360_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_AFTER_360_DISABLED_MESSAGE",e.TRANSITION_EDITOR_TITLE="WORKSHOP.HLR.TRANSITION_EDITOR_TITLE",e.TRANSITION_IS_360_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_IS_360_DISABLED_MESSAGE",e.TRANSITION_NO_ROTATION_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_NO_ROTATION_DISABLED_MESSAGE",e.TRANSITION_SAME_SWEEP_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_SAME_SWEEP_DISABLED_MESSAGE",e.TRANSITION_SETTINGS_TAB_TITLE="WORKSHOP.HLR.TRANSITION_SETTINGS_TAB_TITLE",e.TRANSITION_SETTING_LABEL="WORKSHOP.HLR.TRANSITION_SETTING_LABEL",e.TRANSITION_SETTING_SLIDESHOW="WORKSHOP.HLR.TRANSITION_SETTING_SLIDESHOW",e.TRANSITION_SETTING_WALKTHROUGH="WORKSHOP.HLR.TRANSITION_SETTING_WALKTHROUGH",e.TYPE="WORKSHOP.HLR.TYPE",e.WALKTHROUGH_SPEED_SETTING_LABEL="WORKSHOP.HLR.WALKTHROUGH_SPEED_SETTING_LABEL",e.ZOOM_SPEED_SETTING_LABEL="WORKSHOP.HLR.ZOOM_SPEED_SETTING_LABEL"}(o=e.HLR||(e.HLR={})),function(e){e.TYPE="WORKSHOP.LABELS.TYPE",e.NUM_TYPE="WORKSHOP.LABELS.NUM_TYPE",e.SELECTED_LABELS="WORKSHOP.LABELS.SELECTED_LABELS",e.EDIT_TEXT_CANCEL_CTA="WORKSHOP.LABELS.EDIT_TEXT_CANCEL_CTA",e.EDIT_TEXT_DONE_CTA="WORKSHOP.LABELS.EDIT_TEXT_DONE_CTA",e.INPUT_PLACEHOLDER="WORKSHOP.LABELS.INPUT_PLACEHOLDER",e.MOBILE_OVERLAY_MESSAGE="WORKSHOP.LABELS.MOBILE_OVERLAY_MESSAGE",e.ADD_LABEL_TOOLTIP_MESSAGE="WORKSHOP.LABELS.ADD_LABEL_TOOLTIP_MESSAGE",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.LABELS.RENAME_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.LABELS.DELETE_LIST_ITEM_OPTION_CTA",e.DEPRECATION_WARNING="WORKSHOP.LABELS.DEPRECATION_WARNING",e.OPEN_PROPERTY_TOOL_LABEL="WORKSHOP.LABELS.OPEN_PROPERTY_TOOL_LABEL",e.BOTH_LABELS_AND_RB_ENABLED="WORKSHOP.LABELS.BOTH_LABELS_AND_RB_ENABLED",e.TURN_OFF_LABELS="WORKSHOP.LABELS.TURN_OFF_LABELS",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.LABELS.LIST_ITEM_INPUT_PLACEHOLDER",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.LABELS.MULTI_FLOOR_EMPTY_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.LABELS.SINGLE_FLOOR_EMPTY_MESSAGE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.LABELS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.LABELS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.EDIT_LABEL="WORKSHOP.LABELS.EDIT_LABEL"}(l=e.LABELS||(e.LABELS={})),function(e){e.BACKYARD="WORKSHOP.LABEL_SUGGESTIONS.BACKYARD",e.BALCONY="WORKSHOP.LABEL_SUGGESTIONS.BALCONY",e.BASEMENT="WORKSHOP.LABEL_SUGGESTIONS.BASEMENT",e.BATHROOM="WORKSHOP.LABEL_SUGGESTIONS.BATHROOM",e.BEDROOM="WORKSHOP.LABEL_SUGGESTIONS.BEDROOM",e.BONUS_ROOM="WORKSHOP.LABEL_SUGGESTIONS.BONUS_ROOM",e.BREAK_ROOM="WORKSHOP.LABEL_SUGGESTIONS.BREAK_ROOM",e.CLOSET="WORKSHOP.LABEL_SUGGESTIONS.CLOSET",e.CONFERENCE_ROOM="WORKSHOP.LABEL_SUGGESTIONS.CONFERENCE_ROOM",e.DEN="WORKSHOP.LABEL_SUGGESTIONS.DEN",e.DINING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.DINING_ROOM",e.DRIVEWAY="WORKSHOP.LABEL_SUGGESTIONS.DRIVEWAY",e.ELEVATOR="WORKSHOP.LABEL_SUGGESTIONS.ELEVATOR",e.ENTRANCE="WORKSHOP.LABEL_SUGGESTIONS.ENTRANCE",e.ESCALATOR="WORKSHOP.LABEL_SUGGESTIONS.ESCALATOR",e.EXERCISE_ROOM="WORKSHOP.LABEL_SUGGESTIONS.EXERCISE_ROOM",e.EXTERIOR="WORKSHOP.LABEL_SUGGESTIONS.EXTERIOR",e.FACADE="WORKSHOP.LABEL_SUGGESTIONS.FACADE",e.FAMILY_ROOM="WORKSHOP.LABEL_SUGGESTIONS.FAMILY_ROOM",e.FRONT_YARD="WORKSHOP.LABEL_SUGGESTIONS.FRONT_YARD",e.GAME_ROOM="WORKSHOP.LABEL_SUGGESTIONS.GAME_ROOM",e.GARAGE="WORKSHOP.LABEL_SUGGESTIONS.GARAGE",e.GARDEN="WORKSHOP.LABEL_SUGGESTIONS.GARDEN",e.GREAT_ROOM="WORKSHOP.LABEL_SUGGESTIONS.GREAT_ROOM",e.GYM="WORKSHOP.LABEL_SUGGESTIONS.GYM",e.HALLWAY="WORKSHOP.LABEL_SUGGESTIONS.HALLWAY",e.KITCHEN="WORKSHOP.LABEL_SUGGESTIONS.KITCHEN",e.LAUNDRY="WORKSHOP.LABEL_SUGGESTIONS.LAUNDRY",e.LIBRARY="WORKSHOP.LABEL_SUGGESTIONS.LIBRARY",e.LIVING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.LIVING_ROOM",e.LOBBY="WORKSHOP.LABEL_SUGGESTIONS.LOBBY",e.LOFT="WORKSHOP.LABEL_SUGGESTIONS.LOFT",e.LUNCH_ROOM="WORKSHOP.LABEL_SUGGESTIONS.LUNCH_ROOM",e.MEDIA_ROOM="WORKSHOP.LABEL_SUGGESTIONS.MEDIA_ROOM",e.MEETING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.MEETING_ROOM",e.OFFICE="WORKSHOP.LABEL_SUGGESTIONS.OFFICE",e.OTHER="WORKSHOP.LABEL_SUGGESTIONS.OTHER",e.PANTRY="WORKSHOP.LABEL_SUGGESTIONS.PANTRY",e.PATIO="WORKSHOP.LABEL_SUGGESTIONS.PATIO",e.POOL="WORKSHOP.LABEL_SUGGESTIONS.POOL",e.PRIMARY_BATHROOM="WORKSHOP.LABEL_SUGGESTIONS.PRIMARY_BATHROOM",e.PRIMARY_BEDROOM="WORKSHOP.LABEL_SUGGESTIONS.PRIMARY_BEDROOM",e.RECEPTION="WORKSHOP.LABEL_SUGGESTIONS.RECEPTION",e.SAUNA="WORKSHOP.LABEL_SUGGESTIONS.SAUNA",e.SPA="WORKSHOP.LABEL_SUGGESTIONS.SPA",e.STAIRCASE="WORKSHOP.LABEL_SUGGESTIONS.STAIRCASE",e.STAIRWAY="WORKSHOP.LABEL_SUGGESTIONS.STAIRWAY",e.STORAGE="WORKSHOP.LABEL_SUGGESTIONS.STORAGE",e.STUDY="WORKSHOP.LABEL_SUGGESTIONS.STUDY",e.UNFURNISHED="WORKSHOP.LABEL_SUGGESTIONS.UNFURNISHED",e.UTILITY_ROOM="WORKSHOP.LABEL_SUGGESTIONS.UTILITY_ROOM",e.VOID="WORKSHOP.LABEL_SUGGESTIONS.VOID",e.WORKSHOP_ROOM="WORKSHOP.LABEL_SUGGESTIONS.WORKSHOP_ROOM"}(c=e.LABEL_SUGGESTIONS||(e.LABEL_SUGGESTIONS={})),function(e){e.ADD_LAYER_BUTTON_LABEL="WORKSHOP.LAYERS.ADD_LAYER_BUTTON_LABEL",e.ADD_VIEW_ITEM="WORKSHOP.LAYERS.ADD_VIEW_ITEM",e.ADD_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.ADD_VIEW_MODAL_TITLE",e.APPLY_TO_ALL_VIEWS_BLURS="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_BLURS",e.APPLY_TO_ALL_VIEWS_SCANS_3D="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_SCANS_3D",e.APPLY_TO_ALL_VIEWS_TRIM="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_TRIM",e.APPLY_TO_ALL_VIEWS_VIEW_360="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_VIEW_360",e.BATCH_NEW_LAYER="WORKSHOP.LAYERS.BATCH_NEW_LAYER",e.COMMON_LAYER="WORKSHOP.LAYERS.COMMON_LAYER",e.COMMON_LAYER_DESCRIPTION="WORKSHOP.LAYERS.COMMON_LAYER_DESCRIPTION",e.COMMON_LAYER_ITEM="WORKSHOP.LAYERS.COMMON_LAYER_ITEM",e.COPY_LAYER_ITEM="WORKSHOP.LAYERS.COPY_LAYER_ITEM",e.DEDICATED_LAYER="WORKSHOP.LAYERS.DEDICATED_LAYER",e.DEDICATED_LAYER_DESCRIPTION="WORKSHOP.LAYERS.DEDICATED_LAYER_DESCRIPTION",e.DEDICATED_LAYER_ITEM="WORKSHOP.LAYERS.DEDICATED_LAYER_ITEM",e.DEFAULT_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_VIEW_NAME",e.DEFAULT_INSIGHTS_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_INSIGHTS_VIEW_NAME",e.DEFAULT_TRUEPLAN_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_TRUEPLAN_VIEW_NAME",e.DEFAULT_DEFURNISH_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_DEFURNISH_VIEW_NAME",e.DELETE_COMMON_LAYER_CONFIRMATION_MESSAGE="WORKSHOP.LAYERS.DELETE_COMMON_LAYER_CONFIRMATION_MESSAGE",e.DELETE_COMMON_LAYER_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_COMMON_LAYER_MODAL_TITLE",e.DELETE_LAYER_CONFIRMATION_MESSAGE="WORKSHOP.LAYERS.DELETE_LAYER_CONFIRMATION_MESSAGE",e.DELETE_LAYER_ITEM="WORKSHOP.LAYERS.DELETE_LAYER_ITEM",e.DELETE_LAYER_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_LAYER_MODAL_TITLE",e.DELETE_VIEW_ITEM="WORKSHOP.LAYERS.DELETE_VIEW_ITEM",e.DELETE_VIEW_MODAL_MESSAGE="WORKSHOP.LAYERS.DELETE_VIEW_MODAL_MESSAGE",e.DELETE_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_VIEW_MODAL_TITLE",e.DUPLICATE_LAYER_ITEM="WORKSHOP.LAYERS.DUPLICATE_LAYER_ITEM",e.DUPLICATE_LAYER_PLACEHOLDER="WORKSHOP.LAYERS.DUPLICATE_LAYER_PLACEHOLDER",e.DUPLICATE_LAYER_TITLE="WORKSHOP.LAYERS.DUPLICATE_LAYER_TITLE",e.DUPLICATE_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.DUPLICATE_VIEW_MODAL_TITLE",e.EDIT_LAYER_TITLE="WORKSHOP.LAYERS.EDIT_LAYER_TITLE",e.EDIT_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.EDIT_VIEW_MODAL_TITLE",e.HIDDEN_LAYER_ITEM_TOOLTIP="WORKSHOP.LAYERS.HIDDEN_LAYER_ITEM_TOOLTIP",e.HIDE_LAYER="WORKSHOP.LAYERS.HIDE_LAYER",e.LAYER_ADDING_TO_CHOICE_LABEL="WORKSHOP.LAYERS.LAYER_ADDING_TO_CHOICE_LABEL",e.LAYER_ADDING_TO_LABEL="WORKSHOP.LAYERS.LAYER_ADDING_TO_LABEL",e.LAYER_TYPE_LABEL="WORKSHOP.LAYERS.LAYER_TYPE_LABEL",e.LAYER_NAME_PLACEHOLDER="WORKSHOP.LAYERS.LAYER_NAME_PLACEHOLDER",e.MOVE_LAYER_ITEM="WORKSHOP.LAYERS.MOVE_LAYER_ITEM",e.NEW_LAYER_LABEL="WORKSHOP.LAYERS.NEW_LAYER_LABEL",e.NEW_LAYER_TITLE="WORKSHOP.LAYERS.NEW_LAYER_TITLE",e.NEW_VIEW_NAME_PLACEHOLDER="WORKSHOP.LAYERS.NEW_VIEW_NAME_PLACEHOLDER",e.SHARE_THIS_VIEW="WORKSHOP.LAYERS.SHARE_THIS_VIEW",e.SHARED_ENABLED_VIEWS="WORKSHOP.LAYERS.SHARED_ENABLED_VIEWS",e.SHOW_LAYER="WORKSHOP.LAYERS.SHOW_LAYER",e.SWITCH_TO_VIEWS_LEARN_MORE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LEARN_MORE",e.SWITCH_TO_VIEWS_LIST_HEADER="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_HEADER",e.SWITCH_TO_VIEWS_LIST_ITEM_1="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_1",e.SWITCH_TO_VIEWS_LIST_ITEM_2="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_2",e.SWITCH_TO_VIEWS_LIST_ITEM_3="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_3",e.SWITCH_TO_VIEWS_LIST_ITEM_4="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_4",e.SWITCH_TO_VIEWS_TITLE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_TITLE",e.SWITCH_TO_VIEWS_USE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_USE",e.SELECTED_ITEMS="WORKSHOP.LAYERS.SELECTED_ITEMS",e.UNLAYERED_LAYER_LABEL="WORKSHOP.LAYERS.UNLAYERED_LAYER_LABEL",e.TRUEPLAN_LAYER_LABEL="WORKSHOP.LAYERS.TRUEPLAN_LAYER_LABEL",e.UNTITLED_LAYER_PLACEHOLDER="WORKSHOP.LAYERS.UNTITLED_LAYER_PLACEHOLDER",e.VIEW_DISABLED_MESSAGE="WORKSHOP.LAYERS.VIEW_DISABLED_MESSAGE",e.VIEW_DUPLICATE="WORKSHOP.LAYERS.VIEW_DUPLICATE",e.VIEW_DUPLICATE_NAME_SUFFIX="WORKSHOP.LAYERS.VIEW_DUPLICATE_NAME_SUFFIX",e.VIEW_ENABLED_MESSAGE="WORKSHOP.LAYERS.VIEW_ENABLED_MESSAGE",e.VIEW_HIDE_MESSAGE="WORKSHOP.LAYERS.VIEW_HIDE_MESSAGE",e.VIEW_PLACEHOLDER="WORKSHOP.LAYERS.VIEW_PLACEHOLDER",e.VIEW_PREVIEW="WORKSHOP.LAYERS.VIEW_PREVIEW",e.VIEW_PREVIEW_NARROW="WORKSHOP.LAYERS.VIEW_PREVIEW_NARROW",e.VIEW_RENAME="WORKSHOP.LAYERS.VIEW_RENAME",e.VIEW_SHOW_MESSAGE="WORKSHOP.LAYERS.VIEW_SHOW_MESSAGE",e.VIEWS_HELP="WORKSHOP.LAYERS.VIEWS_HELP"}(d=e.LAYERS||(e.LAYERS={})),function(e){e.ADD="WORKSHOP.MATTERTAGS.ADD",e.ADD_FILE="WORKSHOP.MATTERTAGS.ADD_FILE",e.ADD_MATTERTAG_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.ADD_MATTERTAG_TOOLTIP_MESSAGE",e.ADD_TAG_NUDGE="WORKSHOP.MATTERTAGS.ADD_TAG_NUDGE",e.ADD_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.ADD_TAG_TOOLTIP",e.ATTACHMENTS_LABEL="WORKSHOP.MATTERTAGS.ATTACHMENTS_LABEL",e.APPEARANCE_LABEL="WORKSHOP.MATTERTAGS.APPEARANCE_LABEL",e.BACK="WORKSHOP.MATTERTAGS.BACK",e.CANCEL_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.CANCEL_TAG_TOOLTIP",e.COLOR_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.COLOR_TOOLTIP_MESSAGE",e.DEFAULT_LIST_ITEM_TEXT="WORKSHOP.MATTERTAGS.DEFAULT_LIST_ITEM_TEXT",e.DEFAULT_TAG_TITLE="WORKSHOP.MATTERTAGS.DEFAULT_TAG_TITLE",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.MATTERTAGS.DELETE_LIST_ITEM_OPTION_CTA",e.DELETE_MATTERTAGS_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DELETE_MATTERTAGS_MODAL_MESSAGE",e.DELETE_MATTERTAGS_MODAL_TITLE="WORKSHOP.MATTERTAGS.DELETE_MATTERTAGS_MODAL_TITLE",e.DELETE_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.DELETE_TAG_TOOLTIP",e.DELETE_TAGS_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DELETE_TAGS_MODAL_MESSAGE",e.DELETE_TAGS_MODAL_TITLE="WORKSHOP.MATTERTAGS.DELETE_TAGS_MODAL_TITLE",e.DESCRIPTION_PLACEHOLDER="WORKSHOP.MATTERTAGS.DESCRIPTION_PLACEHOLDER",e.DISCARD_MATTERTAG_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DISCARD_MATTERTAG_MODAL_MESSAGE",e.DISCARD_MATTERTAG_MODAL_TITLE="WORKSHOP.MATTERTAGS.DISCARD_MATTERTAG_MODAL_TITLE",e.DROP_FILES_MESSAGE="WORKSHOP.MATTERTAGS.DROP_FILES_MESSAGE",e.EDIT_BILLBOARD_CANCEL_CTA="WORKSHOP.MATTERTAGS.EDIT_BILLBOARD_CANCEL_CTA",e.EDIT_BILLBOARD_DONE_CTA="WORKSHOP.MATTERTAGS.EDIT_BILLBOARD_DONE_CTA",e.EDIT_LIST_ITEM_OPTION_CTA="WORKSHOP.MATTERTAGS.EDIT_LIST_ITEM_OPTION_CTA",e.EDIT_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.EDIT_TAG_TOOLTIP",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.HIDE_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.HIDE_TOOLTIP_MESSAGE",e.KEYWORDS_HELP_MESSAGE="WORKSHOP.MATTERTAGS.KEYWORDS_HELP_MESSAGE",e.KEYWORDS_LABEL="WORKSHOP.MATTERTAGS.KEYWORDS_LABEL",e.KEYWORDS_MAXIMUM_TOKENS_MESSAGE="WORKSHOP.MATTERTAGS.KEYWORDS_MAXIMUM_TOKENS_MESSAGE",e.KEYWORDS_PLACEHOLDER="WORKSHOP.MATTERTAGS.KEYWORDS_PLACEHOLDER",e.LINK_DISABLED_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.LINK_DISABLED_TOOLTIP_MESSAGE",e.LINK_EDITOR_APPLY_CTA="WORKSHOP.MATTERTAGS.LINK_EDITOR_APPLY_CTA",e.LINK_EDITOR_INVALID_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_INVALID_TIP",e.LINK_EDITOR_LINK_ADD_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_LINK_ADD_LABEL",e.LINK_EDITOR_LINK_EDIT_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_LINK_EDIT_LABEL",e.LINK_EDITOR_MAX_LENGTH_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_MAX_LENGTH_TIP",e.LINK_EDITOR_PREVIEW_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_PREVIEW_TIP",e.LINK_EDITOR_REMOVE_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_REMOVE_TIP",e.LINK_EDITOR_TEXT_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_TEXT_LABEL",e.LINK_EDITOR_TEXT_PLACEHOLDER="WORKSHOP.MATTERTAGS.LINK_EDITOR_TEXT_PLACEHOLDER",e.LINK_EDITOR_TIP_TEXT="WORKSHOP.MATTERTAGS.LINK_EDITOR_TIP_TEXT",e.LINK_EDITOR_URL_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_URL_LABEL",e.LINK_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.LINK_TOOLTIP_MESSAGE",e.LIST_BY_FLOOR_ALPHABETICAL_LABEL="WORKSHOP.MATTERTAGS.LIST_BY_FLOOR_ALPHABETICAL_LABEL",e.LIST_BY_FLOOR_ORDERED_LABEL="WORKSHOP.MATTERTAGS.LIST_BY_FLOOR_ORDERED_LABEL",e.LIST_IN_TAG_ORDER_LABEL="WORKSHOP.MATTERTAGS.LIST_IN_TAG_ORDER_LABEL",e.LIST_IN_TAG_TITLE_ORDER_LABEL="WORKSHOP.MATTERTAGS.LIST_IN_TAG_TITLE_ORDER_LABEL",e.LIST_SORT_TAG_ORDER="WORKSHOP.MATTERTAGS.LIST_SORT_TAG_ORDER",e.LIST_SORT_TAG_TITLE="WORKSHOP.MATTERTAGS.LIST_SORT_TAG_TITLE",e.MAX_ATTACHMENTS_MESSAGE="WORKSHOP.MATTERTAGS.MAX_ATTACHMENTS_MESSAGE",e.MEDIA_LINK_APPLY_CTA="WORKSHOP.MATTERTAGS.MEDIA_LINK_APPLY_CTA",e.MEDIA_LINK_ERROR_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_ERROR_MESSAGE",e.MEDIA_LINK_HELP_LINK="WORKSHOP.MATTERTAGS.MEDIA_LINK_HELP_LINK",e.MEDIA_LINK_INVALID_URL_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_INVALID_URL_MESSAGE",e.MEDIA_LINK_LABEL="WORKSHOP.MATTERTAGS.MEDIA_LINK_LABEL",e.MEDIA_LINK_LOADING_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_LOADING_MESSAGE",e.MEDIA_LINK_SUPPORTED_FORMATS_LINK="WORKSHOP.MATTERTAGS.MEDIA_LINK_SUPPORTED_FORMATS_LINK",e.MEDIA_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_TOOLTIP_MESSAGE",e.MOBILE_OVERLAY_MESSAGE="WORKSHOP.MATTERTAGS.MOBILE_OVERLAY_MESSAGE",e.MOBILE_REORDER_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.MOBILE_REORDER_MODAL_MESSAGE",e.MOBILE_REORDER_MODAL_TITLE="WORKSHOP.MATTERTAGS.MOBILE_REORDER_MODAL_TITLE",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.MATTERTAGS.MULTI_FLOOR_EMPTY_MESSAGE",e.NUM_TYPE="WORKSHOP.MATTERTAGS.NUM_TYPE",e.SAVE="WORKSHOP.MATTERTAGS.SAVE",e.SAVE_PROCESSING="WORKSHOP.MATTERTAGS.SAVE_PROCESSING",e.SAVE_INVALID="WORKSHOP.MATTERTAGS.SAVE_INVALID",e.SELECTED_TAGS="WORKSHOP.MATTERTAGS.SELECTED_TAGS",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_STEM_LABEL="WORKSHOP.MATTERTAGS.SHOW_STEM_LABEL",e.SHOW_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.SHOW_TOOLTIP_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.MATTERTAGS.SINGLE_FLOOR_EMPTY_MESSAGE",e.STEM_SLIDER_RESET_CTA="WORKSHOP.MATTERTAGS.STEM_SLIDER_RESET_CTA",e.STEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.STEM_TOOLTIP_MESSAGE",e.SUPPORTED_FORMATS_MESSAGE="WORKSHOP.MATTERTAGS.SUPPORTED_FORMATS_MESSAGE",e.TAG_NUM_TYPE="WORKSHOP.MATTERTAGS.TAG_NUM_TYPE",e.TAG_REORDER_ENTER_LABEL="WORKSHOP.MATTERTAGS.TAG_REORDER_ENTER_LABEL",e.TAG_REORDER_EXIT_LABEL="WORKSHOP.MATTERTAGS.TAG_REORDER_EXIT_LABEL",e.TAG_RESET_ORDER="WORKSHOP.MATTERTAGS.TAG_RESET_ORDER",e.TAG_TYPE="WORKSHOP.MATTERTAGS.TAG_TYPE",e.TAGS_EMPTY_MULTI_FLOOR_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_EMPTY_MULTI_FLOOR_MESSAGE",e.TAGS_EMPTY_SINGLE_FLOOR_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_EMPTY_SINGLE_FLOOR_MESSAGE",e.TAGS_HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.TAGS_ORDERED_BY_CUSTOM_LABEL="WORKSHOP.MATTERTAGS.TAGS_ORDERED_BY_CUSTOM_LABEL",e.TAGS_ORDERED_BY_LOCATION_LABEL="WORKSHOP.MATTERTAGS.TAGS_ORDERED_BY_LOCATION_LABEL",e.TAGS_RESET_MODAL_BODY="WORKSHOP.MATTERTAGS.TAGS_RESET_MODAL_BODY",e.TAGS_RESET_MODAL_TITLE="WORKSHOP.MATTERTAGS.TAGS_RESET_MODAL_TITLE",e.TAGS_SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.TITLE_DESC_LABEL="WORKSHOP.MATTERTAGS.TITLE_DESC_LABEL",e.TITLE_PLACEHOLDER="WORKSHOP.MATTERTAGS.TITLE_PLACEHOLDER",e.TYPE="WORKSHOP.MATTERTAGS.TYPE",e.UPLOAD_FILE="WORKSHOP.MATTERTAGS.UPLOAD_FILE",e.UPLOAD_IN_PROGRESS="WORKSHOP.MATTERTAGS.UPLOAD_IN_PROGRESS"}(u=e.MATTERTAGS||(e.MATTERTAGS={})),function(e){e.TYPE="WORKSHOP.MEASUREMENTS.TYPE",e.NUM_TYPE="WORKSHOP.MEASUREMENTS.NUM_TYPE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.OTHER_GROUP_LABEL="WORKSHOP.MEASUREMENTS.OTHER_GROUP_LABEL",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.MEASUREMENTS.RENAME_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.MEASUREMENTS.DELETE_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.MEASUREMENTS.LIST_ITEM_INPUT_PLACEHOLDER",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.MEASUREMENTS.MULTI_FLOOR_EMPTY_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.MEASUREMENTS.SINGLE_FLOOR_EMPTY_MESSAGE",e.SELECTED_MEASUREMENTS="WORKSHOP.MEASUREMENTS.SELECTED_MEASUREMENTS"}(h=e.MEASUREMENTS||(e.MEASUREMENTS={})),function(e){e.ERROR_TITLE="WORKSHOP.MODAL.ERROR_TITLE",e.SAVING_ERROR_TITLE="WORKSHOP.MODAL.SAVING_ERROR_TITLE",e.SAVING_ERROR_MESSAGE="WORKSHOP.MODAL.SAVING_ERROR_MESSAGE",e.NO="WORKSHOP.MODAL.NO",e.YES="WORKSHOP.MODAL.YES",e.CANCEL="WORKSHOP.MODAL.CANCEL",e.OK="WORKSHOP.MODAL.OK",e.DISCARD="WORKSHOP.MODAL.DISCARD",e.DELETE="WORKSHOP.MODAL.DELETE",e.SAVE="WORKSHOP.MODAL.SAVE"}(p=e.MODAL||(e.MODAL={})),function(e){e.HAPPINESS_TITLE="WORKSHOP.MODEL_RATING.HAPPINESS_TITLE",e.HAPPINESS_BODY="WORKSHOP.MODEL_RATING.HAPPINESS_BODY",e.QUALITY_ISSUES_TITLE="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_TITLE",e.QUALITY_ISSUES_LIGHTING="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_LIGHTING",e.QUALITY_ISSUES_3D_MESH="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_3D_MESH",e.QUALITY_ISSUES_COLORING="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_COLORING",e.QUALITY_ISSUES_IMAGE_QUALITY="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_IMAGE_QUALITY",e.NAVIGATION_ISSUES_TITLE="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_TITLE",e.NAVIGATION_ISSUES_BLOCKED_DOORWAYS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_BLOCKED_DOORWAYS",e.NAVIGATION_ISSUES_OBSTRUCTIONS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_OBSTRUCTIONS",e.NAVIGATION_ISSUES_MISALIGNED_SCANS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_MISALIGNED_SCANS",e.NAVIGATION_ISSUES_FLOOR_SEPARATION="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_FLOOR_SEPARATION",e.NAVIGATION_ISSUES_DISAPPEARING_FLOORS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_DISAPPEARING_FLOORS",e.FEEDBACK_TITLE="WORKSHOP.MODEL_RATING.FEEDBACK_TITLE",e.FEEDBACK_LABEL="WORKSHOP.MODEL_RATING.FEEDBACK_LABEL",e.THANK_YOU_HEADING="WORKSHOP.MODEL_RATING.THANK_YOU_HEADING",e.THANK_YOU_BODY="WORKSHOP.MODEL_RATING.THANK_YOU_BODY",e.THANK_YOU_CTA="WORKSHOP.MODEL_RATING.THANK_YOU_CTA",e.THANK_YOU_CTA_LINK_TEXT="WORKSHOP.MODEL_RATING.THANK_YOU_CTA_LINK_TEXT",e.SAVE="WORKSHOP.MODEL_RATING.SAVE",e.NEXT="WORKSHOP.MODEL_RATING.NEXT",e.PROGRESS="WORKSHOP.MODEL_RATING.PROGRESS"}(m=e.MODEL_RATING||(e.MODEL_RATING={})),function(e){e.SEARCH_GROUP_HEADER="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_HEADER",e.SEARCH_GROUP_HIDE_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_HIDE_ALL",e.SEARCH_GROUP_SHOW_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_SHOW_ALL",e.SEARCH_GROUP_DELETE_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_DELETE_ALL",e.SEARCH_ITEM_HIDE_TOOLTIP="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_HIDE_TOOLTIP",e.SEARCH_ITEM_SHOW_TOOLTIP="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_SHOW_TOOLTIP",e.SEARCH_ITEM_EDIT="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_EDIT",e.SEARCH_ITEM_DELETE="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_DELETE",e.SHOW_ONLY_IN_SEARCH="WORKSHOP.OBJECT_TAG_SUGGESTION.SHOW_ONLY_IN_SEARCH"}(f=e.OBJECT_TAG_SUGGESTION||(e.OBJECT_TAG_SUGGESTION={})),function(e){e.TYPE="WORKSHOP.PHOTOS.TYPE",e.NUM_TYPE="WORKSHOP.PHOTOS.NUM_TYPE",e.ADD_PHOTOS_CTA="WORKSHOP.PHOTOS.ADD_PHOTOS_CTA",e.ADDING_PHOTOS_CTA="WORKSHOP.PHOTOS.ADDING_PHOTOS_CTA",e.CATURE_PHOTO="WORKSHOP.PHOTOS.CATURE_PHOTO",e.BACK_TO_PHOTOS="WORKSHOP.PHOTOS.BACK_TO_PHOTOS",e.MODAL_TITLE="WORKSHOP.PHOTOS.MODAL_TITLE",e.NUM_SELECTED="WORKSHOP.PHOTOS.NUM_SELECTED",e.SELECT_ALL_CTA="WORKSHOP.PHOTOS.SELECT_ALL_CTA",e.UNSELECT_ALL_CTA="WORKSHOP.PHOTOS.UNSELECT_ALL_CTA",e.UPDATED_TOAST_MESSAGE="WORKSHOP.PHOTOS.UPDATED_TOAST_MESSAGE",e.SAVING_TOAST_MESSAGE="WORKSHOP.PHOTOS.SAVING_TOAST_MESSAGE",e.SAVED_TOAST_MESSAGE="WORKSHOP.PHOTOS.SAVED_TOAST_MESSAGE",e.SAVED_TOAST_CTA="WORKSHOP.PHOTOS.SAVED_TOAST_CTA",e.ERROR_MODAL_TITLE="WORKSHOP.PHOTOS.ERROR_MODAL_TITLE",e.ERROR_MODAL_MESSAGE="WORKSHOP.PHOTOS.ERROR_MODAL_MESSAGE",e.CAMERA_PITCH_RESET_MESSAGE="WORKSHOP.PHOTOS.CAMERA_PITCH_RESET_MESSAGE",e.ZOOM_RESET_MESSAGE="WORKSHOP.PHOTOS.ZOOM_RESET_MESSAGE",e.ZOOM_IN_MESSAGE="WORKSHOP.PHOTOS.ZOOM_IN_MESSAGE",e.ZOOM_OUT_MESSAGE="WORKSHOP.PHOTOS.ZOOM_OUT_MESSAGE",e.CANNOT_SAVE_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_MESSAGE",e.CANNOT_SAVE_SCAN_NUMBER_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_SAVE_SCAN_NUMBER_TOOLTIP_MESSAGE",e.CANNOT_SAVE_TOOLTIP_TITLE="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_TITLE",e.CANNOT_SAVE_TOOLTIP_CTA="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_CTA",e.CAN_TAKE_2D_PHOTO_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CAN_TAKE_2D_PHOTO_TOOLTIP_MESSAGE",e.CAN_TAKE_360_PHOTO_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CAN_TAKE_360_PHOTO_TOOLTIP_MESSAGE",e.CANNOT_TAKE_360_PHOTO_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_TAKE_360_PHOTO_TOOLTIP_MESSAGE",e.PANO_CTA="WORKSHOP.PHOTOS.PANO_CTA",e.SETTINGS_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.SETTINGS_TOOLTIP_MESSAGE",e.ASSETS_SETTING_LABEL="WORKSHOP.PHOTOS.ASSETS_SETTING_LABEL",e.SHOW_GRID_SETTING_LABEL="WORKSHOP.PHOTOS.SHOW_GRID_SETTING_LABEL",e.SNAPSHOT_ERROR_TOAST_MESSAGE="WORKSHOP.PHOTOS.SNAPSHOT_ERROR_TOAST_MESSAGE",e.SNAPSHOT_ERROR_TOAST_CTA="WORKSHOP.PHOTOS.SNAPSHOT_ERROR_TOAST_CTA",e.PHOTO_VIEWER="WORKSHOP.PHOTOS.PHOTO_VIEWER",e.NO_PHOTOS="WORKSHOP.PHOTOS.NO_PHOTOS",e.VIEW_PHOTOS="WORKSHOP.PHOTOS.VIEW_PHOTOS",e.UPDATE_NAME="WORKSHOP.PHOTOS.UPDATE_NAME",e.PHOTO_NAME="WORKSHOP.PHOTOS.PHOTO_NAME"}(g=e.PHOTOS||(e.PHOTOS={})),function(e){e.COLOR_NO_SELECTION_TEXT="WORKSHOP.PINS.COLOR_NO_SELECTION_TEXT",e.COLOR_STEM_EDITOR_TITLE="WORKSHOP.PINS.COLOR_STEM_EDITOR_TITLE",e.ICON_GROUP_RECENT="WORKSHOP.PINS.ICON_GROUP_RECENT",e.ICON_GROUP_IN_SPACE="WORKSHOP.PINS.ICON_GROUP_IN_SPACE",e.ICON_GROUP_PEOPLE="WORKSHOP.PINS.ICON_GROUP_PEOPLE",e.ICON_GROUP_FURNITURE="WORKSHOP.PINS.ICON_GROUP_FURNITURE",e.ICON_GROUP_BUILDINGS="WORKSHOP.PINS.ICON_GROUP_BUILDINGS",e.ICON_GROUP_OBJECTS="WORKSHOP.PINS.ICON_GROUP_OBJECTS",e.ICON_GROUP_SYMBOLS="WORKSHOP.PINS.ICON_GROUP_SYMBOLS",e.ICON_GROUP_CHARACTERS="WORKSHOP.PINS.ICON_GROUP_CHARACTERS",e.ICON_PLACEHOLDER="WORKSHOP.PINS.ICON_PLACEHOLDER",e.SEARCH_NO_RESULTS="WORKSHOP.PINS.SEARCH_NO_RESULTS",e.SEARCH_PLACEHOLDER="WORKSHOP.PINS.SEARCH_PLACEHOLDER"}(v=e.PINS||(e.PINS={})),function(e){e.NUM_TYPE="WORKSHOP.PLUGINS.NUM_TYPE",e.PANEL_TITLE="WORKSHOP.PLUGINS.PANEL_TITLE",e.SAVE_CONFIG="WORKSHOP.PLUGINS.SAVE_CONFIG",e.BACK_TO_ALL="WORKSHOP.PLUGINS.BACK_TO_ALL",e.ENABLED="WORKSHOP.PLUGINS.ENABLED",e.SAVE="WORKSHOP.PLUGINS.SAVE",e.CLOSE="WORKSHOP.PLUGINS.CLOSE"}(y=e.PLUGINS||(e.PLUGINS={})),function(e){e.ADD_LABEL="WORKSHOP.ROOMS.ADD_LABEL",e.APPLY_TO_ALL_VIEWS_ROOMS="WORKSHOP.ROOMS.APPLY_TO_ALL_VIEWS_ROOMS",e.DELETE="WORKSHOP.ROOMS.DELETE",e.AREA_IS_OUTDOORS="WORKSHOP.ROOMS.AREA_IS_OUTDOORS",e.AREA_IS_OUTDOORS_TOOLTIP="WORKSHOP.ROOMS.AREA_IS_OUTDOORS_TOOLTIP",e.ROOM_BOUNDS_SETTINGS="WORKSHOP.ROOMS.ROOM_BOUNDS_SETTINGS",e.ROOM_INACCESSIBLE_INFO="WORKSHOP.ROOMS.ROOM_INACCESSIBLE_INFO",e.ROOM_INCLUDE_IN_AREA="WORKSHOP.ROOMS.ROOM_INCLUDE_IN_AREA",e.ROOM_INCLUDE_IN_AREA_TOOLTIP="WORKSHOP.ROOMS.ROOM_INCLUDE_IN_AREA_TOOLTIP",e.ROOM_MISSING_DIMENSIONS="WORKSHOP.ROOMS.ROOM_MISSING_DIMENSIONS",e.ROOM_MISSING_HEIGHT="WORKSHOP.ROOMS.ROOM_MISSING_HEIGHT",e.ROOM_MISSING_INFO="WORKSHOP.ROOMS.ROOM_MISSING_INFO",e.LABEL="WORKSHOP.ROOMS.LABEL",e.RESET_TO_DEFAULT="WORKSHOP.ROOMS.RESET_TO_DEFAULT",e.SELECT="WORKSHOP.ROOMS.SELECT",e.UNDO="WORKSHOP.ROOMS.UNDO"}(E=e.ROOMS||(e.ROOMS={})),function(e){e.TYPE="WORKSHOP.SCANS.TYPE",e.NUM_TYPE="WORKSHOP.SCANS.NUM_TYPE",e.BATCH_SHOW_CTA="WORKSHOP.SCANS.BATCH_SHOW_CTA",e.BATCH_HIDE_CTA="WORKSHOP.SCANS.BATCH_HIDE_CTA",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.LIST_ITEM_TEXT="WORKSHOP.SCANS.LIST_ITEM_TEXT",e.FLOOR_EMPTY_MESSAGE="WORKSHOP.SCANS.FLOOR_EMPTY_MESSAGE",e.NO_HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.NO_HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.HLR_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.HLR_LIST_ITEM_TOOLTIP_MESSAGE",e.HLR_IN_OTHER_VIEWS="WORKSHOP.SCANS.HLR_IN_OTHER_VIEWS",e.START_LOCATION_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.START_LOCATION_LIST_ITEM_TOOLTIP_MESSAGE",e.START_LOCATION_SCAN_IN_OTHER_VIEWS="WORKSHOP.SCANS.START_LOCATION_SCAN_IN_OTHER_VIEWS",e.OVERLAY_HIDE_CTA="WORKSHOP.SCANS.OVERLAY_HIDE_CTA",e.OVERLAY_SHOW_CTA="WORKSHOP.SCANS.OVERLAY_SHOW_CTA",e.OVERLAY_HIDE_SCAN_CTA="WORKSHOP.SCANS.OVERLAY_HIDE_SCAN_CTA",e.OVERLAY_SHOW_SCAN_CTA="WORKSHOP.SCANS.OVERLAY_SHOW_SCAN_CTA",e.OVERLAY_PANORAMA_INFO="WORKSHOP.SCANS.OVERLAY_PANORAMA_INFO",e.OVERLAY_INFO="WORKSHOP.SCANS.OVERLAY_INFO",e.START_LOCATION_TOOLTIP_TITLE="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_TITLE",e.START_LOCATION_TOOLTIP_MESSAGE="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_MESSAGE",e.START_LOCATION_TOOLTIP_CTA="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_CTA",e.REMOVE_HLR_MODAL_TITLE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_TITLE",e.REMOVE_HLR_MODAL_MESSAGE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_MESSAGE",e.REMOVE_HLR_MODAL_BATCH_MESSAGE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_BATCH_MESSAGE",e.REMOVE_HLR_MODAL_WARNING="WORKSHOP.SCANS.REMOVE_HLR_MODAL_WARNING",e.REMOVE_SCANS_FROM_HLR_MODAL_TITLE="WORKSHOP.SCANS.REMOVE_SCANS_FROM_HLR_MODAL_TITLE",e.REMOVE_SCAN_FROM_HLR_MODAL_MESSAGE="WORKSHOP.SCANS.REMOVE_SCAN_FROM_HLR_MODAL_MESSAGE",e.REMOVE_BATCH_FROM_HLR_MODAL_SCANS_MESSAGE="WORKSHOP.SCANS.REMOVE_BATCH_FROM_HLR_MODAL_SCANS_MESSAGE",e.REMOVE_BATCH_FROM_HLR_MODAL_HIGHLIGHTS_MESSAGE="WORKSHOP.SCANS.REMOVE_BATCH_FROM_HLR_MODAL_HIGHLIGHTS_MESSAGE"}(b=e.SCANS||(e.SCANS={})),function(e){e.ADVANCED_SPACE_SEARCH_LABEL="WORKSHOP.SETTINGS.ADVANCED_SPACE_SEARCH_LABEL",e.ADVANCED_SPACE_SEARCH_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_SPACE_SEARCH_MESSAGE",e.ADVANCED_DOLLHOUSE_LABEL="WORKSHOP.SETTINGS.ADVANCED_DOLLHOUSE_LABEL",e.ADVANCED_DOLLHOUSE_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_DOLLHOUSE_MESSAGE",e.ADVANCED_FLOORPLAN_LABEL="WORKSHOP.SETTINGS.ADVANCED_FLOORPLAN_LABEL",e.ADVANCED_FLOORPLAN_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_FLOORPLAN_MESSAGE",e.ADVANCED_FLOOR_SELECTION_LABEL="WORKSHOP.SETTINGS.ADVANCED_FLOOR_SELECTION_LABEL",e.ADVANCED_FLOOR_SELECTION_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_FLOOR_SELECTION_MESSAGE",e.ADVANCED_HEADER="WORKSHOP.SETTINGS.ADVANCED_HEADER",e.ADVANCED_MEASUREMENT_MODE_LABEL="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_LABEL",e.ADVANCED_MEASUREMENT_MODE_MENU_LABEL="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_MENU_LABEL",e.ADVANCED_MEASUREMENT_MODE_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_MESSAGE",e.ADVANCED_ROOM_LABELS_LABEL="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_LABEL",e.ADVANCED_ROOM_LABELS_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_MESSAGE",e.ADVANCED_ROOM_LABELS_MENU_LABEL="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_MENU_LABEL",e.HIDE_LABELS_IN_DOLLHOUSE_OPTION="WORKSHOP.SETTINGS.HIDE_LABELS_IN_DOLLHOUSE_OPTION",e.HIDE_SAVED_MEASUREMENTS_OPTION="WORKSHOP.SETTINGS.HIDE_SAVED_MEASUREMENTS_OPTION",e.HLR_OPTION_LABEL="WORKSHOP.SETTINGS.HLR_OPTION_LABEL",e.HLR_OPTION_MESSAGE="WORKSHOP.SETTINGS.HLR_OPTION_MESSAGE",e.NAV_OPTION_ADVANCED="WORKSHOP.SETTINGS.NAV_OPTION_ADVANCED",e.NAV_OPTION_PRESENTATION="WORKSHOP.SETTINGS.NAV_OPTION_PRESENTATION",e.NAV_OPTION_TOUR_HLR="WORKSHOP.SETTINGS.NAV_OPTION_TOUR_HLR",e.NAV_OPTION_UNITS="WORKSHOP.SETTINGS.NAV_OPTION_UNITS",e.SHOW_SAVED_MEASUREMENTS_OPTION="WORKSHOP.SETTINGS.SHOW_SAVED_MEASUREMENTS_OPTION",e.SHOW_LABELS_IN_DOLLHOUSE_OPTION="WORKSHOP.SETTINGS.SHOW_LABELS_IN_DOLLHOUSE_OPTION",e.PRESENTATION_BACKGROUND_BLACK_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_BLACK_LABEL",e.PRESENTATION_BACKGROUND_GREY_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_GREY_LABEL",e.PRESENTATION_BACKGROUND_HEADER="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_HEADER",e.PRESENTATION_BACKGROUND_SUBHEADER="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_SUBHEADER",e.PRESENTATION_BACKGROUND_WHITE_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_WHITE_LABEL",e.PRESENTATION_HEADER="WORKSHOP.SETTINGS.PRESENTATION_HEADER",e.PRESENTATION_INFORMATION_EVERYTHING_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_EVERYTHING_LABEL",e.PRESENTATION_INFORMATION_EVERYTHING_MESSAGE="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_EVERYTHING_MESSAGE",e.PRESENTATION_INFORMATION_COMPACT_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_COMPACT_LABEL",e.PRESENTATION_INFORMATION_COMPACT_MESSAGE="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_COMPACT_MESSAGE",e.PRESENTATION_INFORMATION_HEADER="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_HEADER",e.PRESENTATION_INFORMATION_NONE_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_NONE_LABEL",e.ROOM_BOUNDS_TOGGLE_LABEL="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_LABEL",e.ROOM_BOUNDS_TOGGLE_MESSAGE_INFO="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_MESSAGE_INFO",e.ROOM_BOUNDS_TOGGLE_MESSAGE_DISCOVER="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_MESSAGE_DISCOVER",e.ROOM_BOUND_TOGGLE_IN_TOOL="WORKSHOP.SETTINGS.ROOM_BOUND_TOGGLE_IN_TOOL",e.TOUR_AND_HLR_HEADER="WORKSHOP.SETTINGS.TOUR_AND_HLR_HEADER",e.TOUR_DEFAULT_SETTING_LOCATION="WORKSHOP.SETTINGS.TOUR_DEFAULT_SETTING_LOCATION",e.TOUR_MODE_LEGACY_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_LEGACY_LABEL",e.TOUR_MODE_LEGACY_MESSAGE="WORKSHOP.SETTINGS.TOUR_MODE_LEGACY_MESSAGE",e.TOUR_MODE_NONE_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_NONE_LABEL",e.TOUR_MODE_STORY_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_STORY_LABEL",e.TOUR_MODE_STORY_MESSAGE="WORKSHOP.SETTINGS.TOUR_MODE_STORY_MESSAGE",e.TOUR_OPTION_LABEL="WORKSHOP.SETTINGS.TOUR_OPTION_LABEL",e.TOUR_OPTION_MESSAGE="WORKSHOP.SETTINGS.TOUR_OPTION_MESSAGE",e.UNITS_HEADER="WORKSHOP.SETTINGS.UNITS_HEADER",e.UNITS_SUBHEADER="WORKSHOP.SETTINGS.UNITS_SUBHEADER"}(S=e.SETTINGS||(e.SETTINGS={})),function(e){e.ENABLED_TOOLTIP_TITLE="WORKSHOP.START_LOCATION.ENABLED_TOOLTIP_TITLE",e.DISABLED_TOOLTIP_TITLE="WORKSHOP.START_LOCATION.DISABLED_TOOLTIP_TITLE",e.HIDDEN_SWEEP_MESSAGE="WORKSHOP.START_LOCATION.HIDDEN_SWEEP_MESSAGE",e.UNPLACED_360_MESSAGE="WORKSHOP.START_LOCATION.UNPLACED_360_MESSAGE",e.ENABLED_MESSAGE="WORKSHOP.START_LOCATION.ENABLED_MESSAGE",e.TOOLTIP_CTA="WORKSHOP.START_LOCATION.TOOLTIP_CTA",e.SET_NEW_LOCATION_CTA="WORKSHOP.START_LOCATION.SET_NEW_LOCATION_CTA",e.SETTING_NEW_LOCATION_CTA="WORKSHOP.START_LOCATION.SETTING_NEW_LOCATION_CTA",e.THUMBNAIL_PREVIEW_CTA="WORKSHOP.START_LOCATION.THUMBNAIL_PREVIEW_CTA",e.TAG_ORDER_RESET_TITLE="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_TITLE",e.TAG_ORDER_RESET_MESSAGE="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_MESSAGE",e.TAG_ORDER_RESET_HELP_LINK="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_HELP_LINK",e.TAG_ORDER_RESET_CONFIRM="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_CONFIRM",e.TAG_ORDER_RESET_CANCEL="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_CANCEL"}(O=e.START_LOCATION||(e.START_LOCATION={})),function(e){e.NUM_TYPE="WORKSHOP.TRIM.NUM_TYPE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.TRIM.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.TRIM.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.TRIM.DELETE_LIST_ITEM_OPTION_CTA",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.TRIM.RENAME_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.TRIM.LIST_ITEM_INPUT_PLACEHOLDER",e.DEFAULT_NAME="WORKSHOP.TRIM.DEFAULT_NAME",e.ALL_FLOORS="WORKSHOP.TRIM.ALL_FLOORS",e.EMPTY_FLOOR_MESSAGE="WORKSHOP.TRIM.EMPTY_FLOOR_MESSAGE",e.SIDE_POSE_CTA="WORKSHOP.TRIM.SIDE_POSE_CTA",e.TOP_POSE_CTA="WORKSHOP.TRIM.TOP_POSE_CTA",e.PERSPECTIVE_POSE_CTA="WORKSHOP.TRIM.PERSPECTIVE_POSE_CTA",e.SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.SIDE_POSE_TOOLTIP",e.LEFT_SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.LEFT_SIDE_POSE_TOOLTIP",e.RIGHT_SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.RIGHT_SIDE_POSE_TOOLTIP",e.TOP_POSE_TOOLTIP="WORKSHOP.TRIM.TOP_POSE_TOOLTIP",e.PERSPECTIVE_POSE_TOOLTIP="WORKSHOP.TRIM.PERSPECTIVE_POSE_TOOLTIP",e.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE="WORKSHOP.TRIM.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE",e.ADD_INDIVIDUAL_FLOOR_TRIM_TOOLTIP="WORKSHOP.TRIM.ADD_INDIVIDUAL_FLOOR_TRIM_TOOLTIP",e.ADD_ALL_FLOORS_TRIM_TOOLTIP="WORKSHOP.TRIM.ADD_ALL_FLOORS_TRIM_TOOLTIP",e.MAX_INDIVIDUAL_FLOOR_TRIMS_TOOLTIP="WORKSHOP.TRIM.MAX_INDIVIDUAL_FLOOR_TRIMS_TOOLTIP",e.MAX_ALL_FLOORS_TRIMS_TOOLTIP="WORKSHOP.TRIM.MAX_ALL_FLOORS_TRIMS_TOOLTIP",e.MAX_TRIMS_ERROR_MESSAGE="WORKSHOP.TRIM.MAX_TRIMS_ERROR_MESSAGE",e.KEEP_TOGGLE="WORKSHOP.TRIM.KEEP_TOGGLE",e.REMOVE_TOGGLE="WORKSHOP.TRIM.REMOVE_TOGGLE",e.TOOL_ROTATION_CTA="WORKSHOP.TRIM.TOOL_ROTATION_CTA",e.TOOL_POSITION_CTA="WORKSHOP.TRIM.TOOL_POSITION_CTA",e.TOOL_SCALE_CTA="WORKSHOP.TRIM.TOOL_SCALE_CTA",e.TOOL_ROTATION_TOOLTIP="WORKSHOP.TRIM.TOOL_ROTATION_TOOLTIP",e.TOOL_POSITION_TOOLTIP="WORKSHOP.TRIM.TOOL_POSITION_TOOLTIP",e.TOOL_SCALE_TOOLTIP="WORKSHOP.TRIM.TOOL_SCALE_TOOLTIP",e.DELETE_TRIM="WORKSHOP.TRIM.DELETE_TRIM",e.COMPLETE_TRIM="WORKSHOP.TRIM.COMPLETE_TRIM",e.ADD_TRIM="WORKSHOP.TRIM.ADD_TRIM",e.RESET_ROTATION="WORKSHOP.TRIM.RESET_ROTATION",e.HIDE_PANO_LIST_ITEM_TOOLTIP="WORKSHOP.TRIM.HIDE_PANO_LIST_ITEM_TOOLTIP",e.SHOW_PANO_LIST_ITEM_TOOLTIP="WORKSHOP.TRIM.SHOW_PANO_LIST_ITEM_TOOLTIP",e.MOVE_TRIM_ALL_FLOORS="WORKSHOP.TRIM.MOVE_TRIM_ALL_FLOORS"}(T=e.TRIM||(e.TRIM={})),function(e){e.NUM_TYPE="WORKSHOP.VIEWS_360.NUM_TYPE",e.START_LOCATION_REMOVAL_MESSAGE="WORKSHOP.VIEWS_360.START_LOCATION_REMOVAL_MESSAGE",e.START_LOCATION_MARKER_MESSAGE="WORKSHOP.VIEWS_360.START_LOCATION_MARKER_MESSAGE",e.START_LOCATION_IN_OTHER_VIEWS="WORKSHOP.VIEWS_360.START_LOCATION_IN_OTHER_VIEWS",e.DEFAULT_NAME="WORKSHOP.VIEWS_360.DEFAULT_NAME",e.OVERLAY_MESSAGE="WORKSHOP.VIEWS_360.OVERLAY_MESSAGE",e.OVERLAY_INFO_MISSING_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_MISSING_SWEEP",e.OVERLAY_INFO_CURRENT_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_CURRENT_SWEEP",e.OVERLAY_INFO_SELECTED_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_SELECTED_SWEEP",e.ROTATE_TOOLTIP_TITLE="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_TITLE",e.ROTATE_TOOLTIP_MESSAGE="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_MESSAGE",e.ROTATE_TOOLTIP_CTA="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_CTA",e.UNPLACED_CARD_MESSAGE="WORKSHOP.VIEWS_360.UNPLACED_CARD_MESSAGE",e.RENAME_ITEM_OPTION_CTA="WORKSHOP.VIEWS_360.RENAME_ITEM_OPTION_CTA",e.REMOVE_ITEM_OPTION_CTA="WORKSHOP.VIEWS_360.REMOVE_ITEM_OPTION_CTA",e.NO_VIEWS_MESSAGE="WORKSHOP.VIEWS_360.NO_VIEWS_MESSAGE"}(_=e.VIEWS_360||(e.VIEWS_360={})),function(e){e.TOAST_MESSAGE="WORKSHOP.VR.TOAST_MESSAGE",e.TOAST_CTA="WORKSHOP.VR.TOAST_CTA"}(N=e.VR||(e.VR={})),function(e){e.DEFURN_BULLET1="DEFURN_BULLET1",e.DEFURN_BULLET2="DEFURN_BULLET2",e.DEFURN_BULLET3="DEFURN_BULLET3",e.DEFURN_BULLET4="DEFURN_BULLET4",e.DEFURN_COMPLETE_TEXT1="DEFURN_COMPLETE_TEXT1",e.DEFURN_COMPLETE_TEXT2="DEFURN_COMPLETE_TEXT2",e.DEFURN_COMPLETE_TITLE="DEFURN_COMPLETE_TITLE",e.DEFURN_CONTACT_SUPPORT="DEFURN_CONTACT_SUPPORT",e.DEFURN_ERR_CONTACT="DEFURN_ERR_CONTACT",e.DEFURN_ERR_PERMS="DEFURN_ERR_PERMS",e.DEFURN_ERR_QUOTA="DEFURN_ERR_QUOTA",e.DEFURN_ERR_SETTINGS="DEFURN_ERR_SETTINGS",e.DEFURN_ERR_TITLE="DEFURN_ERR_TITLE",e.DEFURN_ERR_UNKNOWN="DEFURN_ERR_UNKNOWN",e.DEFURN_ERR_MODEL_VERSION_UNSUPPORTED="DEFURN_ERR_MODEL_VERSION_UNSUPPORTED",e.DEFURN_FEEDBACK="DEFURN_FEEDBACK",e.DEFURN_RATING_TITLE="DEFURN_RATING_TITLE",e.DEFURN_RATING_CONTENT="DEFURN_RATING_CONTENT",e.DEFURN_LOCKED_CTA="DEFURN_LOCKED_CTA",e.DEFURN_LOCKED_QUOTA="DEFURN_LOCKED_QUOTA",e.DEFURN_LOCKED_QUOTA2="DEFURN_LOCKED_QUOTA2",e.DEFURN_MODE_BUTTON="DEFURN_MODE_BUTTON",e.DEFURN_MODE_BUTTON_ACTIVE="DEFURN_MODE_BUTTON_ACTIVE",e.DEFURN_MORE="DEFURN_MORE",e.DEFURN_NEXT_TEXT1="DEFURN_NEXT_TEXT1",e.DEFURN_NEXT_TEXT2="DEFURN_NEXT_TEXT2",e.DEFURN_NEXT_TEXT3="DEFURN_NEXT_TEXT3",e.DEFURN_NEXT_TEXT4="DEFURN_NEXT_TEXT4",e.DEFURN_NEXT_TEXT5="DEFURN_NEXT_TEXT5",e.DEFURN_NEXT_TITLE="DEFURN_NEXT_TITLE",e.DEFURN_NUDGE_NEW="DEFURN_NUDGE_NEW",e.DEFURN_NUDGE_TEXT="DEFURN_NUDGE_TEXT",e.DEFURN_NUDGE_TITLE="DEFURN_NUDGE_TITLE",e.DEFURN_SETTINGS="DEFURN_SETTINGS",e.DEFURN_SETTINGS_VIEW="DEFURN_SETTINGS_VIEW",e.DEFURN_TEXT1="DEFURN_TEXT1",e.DEFURN_TEXT2="DEFURN_TEXT2",e.DEFURN_TITLE="DEFURN_TITLE",e.DEFURN_TOOL_HEADER="DEFURN_TOOL_HEADER",e.DEFURN_UNLOCKED_CANCEL="DEFURN_UNLOCKED_CANCEL",e.DEFURN_UNLOCKED_CTA="DEFURN_UNLOCKED_CTA",e.DEFURN_UNLOCKED_NOTIFY="DEFURN_UNLOCKED_NOTIFY"}(w=e.DEFURNISH||(e.DEFURNISH={}))}(f=e.WORKSHOP||(e.WORKSHOP={})),function(e){let t,i,n,s,r;!function(e){e.BETA_LABEL="GIZMO.PROJECT_PANEL.BETA_LABEL",e.BETA_FEEDBACK_LABEL="GIZMO.PROJECT_PANEL.BETA_FEEDBACK_LABEL",e.HEADER_LABEL="GIZMO.PROJECT_PANEL.HEADER_LABEL",e.HELP_LABEL="GIZMO.PROJECT_PANEL.HELP_LABEL",e.MODELS_HEADER_LABEL="GIZMO.PROJECT_PANEL.MODELS_HEADER_LABEL"}(t=e.PROJECT_PANEL||(e.PROJECT_PANEL={})),function(e){e.LOCK="GIZMO.MODEL_ACTIONS.LOCK",e.UNLOCK="GIZMO.MODEL_ACTIONS.UNLOCK",e.HIDE="GIZMO.MODEL_ACTIONS.HIDE",e.SHOW="GIZMO.MODEL_ACTIONS.SHOW",e.GROUP="GIZMO.MODEL_ACTIONS.GROUP",e.UNGROUP="GIZMO.MODEL_ACTIONS.UNGROUP",e.SNAP="GIZMO.MODEL_ACTIONS.SNAP"}(i=e.MODEL_ACTIONS||(e.MODEL_ACTIONS={})),function(e){e.ZOOM_IN_LABEL="GIZMO.ZOOM_CONTROL.ZOOM_IN_LABEL",e.ZOOM_OUT_LABEL="GIZMO.ZOOM_CONTROL.ZOOM_OUT_LABEL",e.ZOOM_FIT_LABEL="GIZMO.ZOOM_CONTROL.ZOOM_FIT_LABEL",e.ZOOM_100_LABEL="GIZMO.ZOOM_CONTROL.ZOOM_100_LABEL",e.ZOOM_50_LABEL="GIZMO.ZOOM_CONTROL.ZOOM_50_LABEL"}(n=e.ZOOM_CONTROL||(e.ZOOM_CONTROL={})),function(e){e.ADD_TOOLTIP="GIZMO.TOOLBAR.ADD_TOOLTIP",e.MANUAL_ALIGN_TOOLTIP="GIZMO.TOOLBAR.MANUAL_ALIGN_TOOLTIP",e.MAGNET_TOOLTIP="GIZMO.TOOLBAR.MAGNET_TOOLTIP",e.MERGE_BUTTON_LABEL="GIZMO.TOOLBAR.MERGE_BUTTON_LABEL",e.MERGE_TOOLTIP="GIZMO.TOOLBAR.MERGE_TOOLTIP",e.MERGING_BUTTON_LABEL="GIZMO.TOOLBAR.MERGING_BUTTON_LABEL",e.MERGE_ERROR_BUTTON_LABEL="GIZMO.TOOLBAR.MERGE_ERROR_BUTTON_LABEL",e.REDO_TOOLTIP="GIZMO.TOOLBAR.REDO_TOOLTIP",e.SNAP_TOOLTIP="GIZMO.TOOLBAR.SNAP_TOOLTIP",e.THREE_POINT_ALIGN_TOOLTIP="GIZMO.TOOLBAR.THREE_POINT_ALIGN_TOOLTIP",e.UNDO_TOOLTIP="GIZMO.TOOLBAR.UNDO_TOOLTIP"}(s=e.TOOLBAR||(e.TOOLBAR={})),function(e){e.COMMENT_LABEL="GIZMO.FEEDBACK.COMMENT_LABEL",e.HEADER="GIZMO.FEEDBACK.HEADER",e.SUBMIT="GIZMO.FEEDBACK.SUBMIT",e.RATING_LABEL="GIZMO.FEEDBACK.RATING_LABEL",e.COMMENT_PROMPT="GIZMO.FEEDBACK.COMMENT_PROMPT"}(r=e.FEEDBACK||(e.FEEDBACK={}))}(g=e.GIZMO||(e.GIZMO={}))}(n||(n={}));const s=n},65919:(e,t,i)=>{"use strict";var n;function s(e){return e.match(/us|mm|lr$/i)?n.IMPERIAL:n.METRIC}i.d(t,{M:()=>n,z:()=>s}),function(e){e.IMPERIAL="imperial",e.METRIC="metric"}(n||(n={}))},99657:(e,t,i)=>{"use strict";i.d(t,{i:()=>s,y:()=>r});var n=i(33477);function s(e){if(!e)return n.k$;if(r(e))return e;const t=e.toLocaleLowerCase();if(t in n.Xy)return n.Xy[t];const[i]=t.split("-");return i in n.Xy?n.Xy[i]:(n.E7.find((e=>e.startsWith(t))),n.k$)}function r(e){return n.E7.includes(e)}},78897:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var n=i(67294),s=i(29707);function r(){const{locale:e}=(0,n.useContext)(s.I);return e}},15777:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Ge});var n=i(933),s=i(34608),r=i(54078),a=i.n(r),o=i(33477);function l(e){return null==e}var c={isNothing:l,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:l(e)?[]:[e]},repeat:function(e,t){var i,n="";for(i=0;i<t;i+=1)n+=e;return n},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var i,n,s,r;if(t)for(i=0,n=(r=Object.keys(t)).length;i<n;i+=1)e[s=r[i]]=t[s];return e}};function d(e,t){var i="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(i+='in "'+e.mark.name+'" '),i+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(i+="\n\n"+e.mark.snippet),n+" "+i):n}function u(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=d(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.toString=function(e){return this.name+": "+d(this,e)};var h=u;function p(e,t,i,n,s){var r="",a="",o=Math.floor(s/2)-1;return n-t>o&&(t=n-o+(r=" ... ").length),i-n>o&&(i=n+o-(a=" ...").length),{str:r+e.slice(t,i).replace(/\t/g,"→")+a,pos:n-t+r.length}}function m(e,t){return c.repeat(" ",t-e.length)+e}var f=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var i,n=/\r?\n|\r|\0/g,s=[0],r=[],a=-1;i=n.exec(e.buffer);)r.push(i.index),s.push(i.index+i[0].length),e.position<=i.index&&a<0&&(a=s.length-2);a<0&&(a=s.length-1);var o,l,d="",u=Math.min(e.line+t.linesAfter,r.length).toString().length,h=t.maxLength-(t.indent+u+3);for(o=1;o<=t.linesBefore&&!(a-o<0);o++)l=p(e.buffer,s[a-o],r[a-o],e.position-(s[a]-s[a-o]),h),d=c.repeat(" ",t.indent)+m((e.line-o+1).toString(),u)+" | "+l.str+"\n"+d;for(l=p(e.buffer,s[a],r[a],e.position,h),d+=c.repeat(" ",t.indent)+m((e.line+1).toString(),u)+" | "+l.str+"\n",d+=c.repeat("-",t.indent+u+3+l.pos)+"^\n",o=1;o<=t.linesAfter&&!(a+o>=r.length);o++)l=p(e.buffer,s[a+o],r[a+o],e.position-(s[a]-s[a+o]),h),d+=c.repeat(" ",t.indent)+m((e.line+o+1).toString(),u)+" | "+l.str+"\n";return d.replace(/\n$/,"")},g=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],v=["scalar","sequence","mapping"];var y=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===g.indexOf(t))throw new h('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(i){e[i].forEach((function(e){t[String(e)]=i}))})),t}(t.styleAliases||null),-1===v.indexOf(this.kind))throw new h('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function E(e,t){var i=[];return e[t].forEach((function(e){var t=i.length;i.forEach((function(i,n){i.tag===e.tag&&i.kind===e.kind&&i.multi===e.multi&&(t=n)})),i[t]=e})),i}function b(e){return this.extend(e)}b.prototype.extend=function(e){var t=[],i=[];if(e instanceof y)i.push(e);else if(Array.isArray(e))i=i.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new h("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof y))throw new h("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new h("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new h("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),i.forEach((function(e){if(!(e instanceof y))throw new h("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var n=Object.create(b.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(i),n.compiledImplicit=E(n,"implicit"),n.compiledExplicit=E(n,"explicit"),n.compiledTypeMap=function(){var e,t,i={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(e){e.multi?(i.multi[e.kind].push(e),i.multi.fallback.push(e)):i[e.kind][e.tag]=i.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return i}(n.compiledImplicit,n.compiledExplicit),n};var S=b,O=new y("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),T=new y("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),_=new y("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),N=new S({explicit:[O,T,_]});var w=new y("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var A=new y("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function I(e){return 48<=e&&e<=55}function k(e){return 48<=e&&e<=57}var P=new y("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,i,n=e.length,s=0,r=!1;if(!n)return!1;if("-"!==(t=e[s])&&"+"!==t||(t=e[++s]),"0"===t){if(s+1===n)return!0;if("b"===(t=e[++s])){for(s++;s<n;s++)if("_"!==(t=e[s])){if("0"!==t&&"1"!==t)return!1;r=!0}return r&&"_"!==t}if("x"===t){for(s++;s<n;s++)if("_"!==(t=e[s])){if(!(48<=(i=e.charCodeAt(s))&&i<=57||65<=i&&i<=70||97<=i&&i<=102))return!1;r=!0}return r&&"_"!==t}if("o"===t){for(s++;s<n;s++)if("_"!==(t=e[s])){if(!I(e.charCodeAt(s)))return!1;r=!0}return r&&"_"!==t}}if("_"===t)return!1;for(;s<n;s++)if("_"!==(t=e[s])){if(!k(e.charCodeAt(s)))return!1;r=!0}return!(!r||"_"===t)},construct:function(e){var t,i=e,n=1;if(-1!==i.indexOf("_")&&(i=i.replace(/_/g,"")),"-"!==(t=i[0])&&"+"!==t||("-"===t&&(n=-1),t=(i=i.slice(1))[0]),"0"===i)return 0;if("0"===t){if("b"===i[1])return n*parseInt(i.slice(2),2);if("x"===i[1])return n*parseInt(i.slice(2),16);if("o"===i[1])return n*parseInt(i.slice(2),8)}return n*parseInt(i,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!c.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),L=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var D=/^[-+]?[0-9]+e/;var R=new y("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!L.test(e)||"_"===e[e.length-1])},construct:function(e){var t,i;return i="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===i?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:i*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||c.isNegativeZero(e))},represent:function(e,t){var i;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(c.isNegativeZero(e))return"-0.0";return i=e.toString(10),D.test(i)?i.replace("e",".e"):i},defaultStyle:"lowercase"}),M=N.extend({implicit:[w,A,P,R]}),C=M,x=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),F=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var U=new y("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==x.exec(e)||null!==F.exec(e))},construct:function(e){var t,i,n,s,r,a,o,l,c=0,d=null;if(null===(t=x.exec(e))&&(t=F.exec(e)),null===t)throw new Error("Date resolve error");if(i=+t[1],n=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(i,n,s));if(r=+t[4],a=+t[5],o=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(d=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(d=-d)),l=new Date(Date.UTC(i,n,s,r,a,o,c)),d&&l.setTime(l.getTime()-d),l},instanceOf:Date,represent:function(e){return e.toISOString()}});var H=new y("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var V=new y("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,i,n=0,s=e.length,r=j;for(i=0;i<s;i++)if(!((t=r.indexOf(e.charAt(i)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,i,n=e.replace(/[\r\n=]/g,""),s=n.length,r=j,a=0,o=[];for(t=0;t<s;t++)t%4==0&&t&&(o.push(a>>16&255),o.push(a>>8&255),o.push(255&a)),a=a<<6|r.indexOf(n.charAt(t));return 0===(i=s%4*6)?(o.push(a>>16&255),o.push(a>>8&255),o.push(255&a)):18===i?(o.push(a>>10&255),o.push(a>>2&255)):12===i&&o.push(a>>4&255),new Uint8Array(o)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,i,n="",s=0,r=e.length,a=j;for(t=0;t<r;t++)t%3==0&&t&&(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[63&s]),s=(s<<8)+e[t];return 0===(i=r%3)?(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[63&s]):2===i?(n+=a[s>>10&63],n+=a[s>>4&63],n+=a[s<<2&63],n+=a[64]):1===i&&(n+=a[s>>2&63],n+=a[s<<4&63],n+=a[64],n+=a[64]),n}}),B=Object.prototype.hasOwnProperty,G=Object.prototype.toString;var W=new y("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,i,n,s,r,a=[],o=e;for(t=0,i=o.length;t<i;t+=1){if(n=o[t],r=!1,"[object Object]"!==G.call(n))return!1;for(s in n)if(B.call(n,s)){if(r)return!1;r=!0}if(!r)return!1;if(-1!==a.indexOf(s))return!1;a.push(s)}return!0},construct:function(e){return null!==e?e:[]}}),z=Object.prototype.toString;var K=new y("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,i,n,s,r,a=e;for(r=new Array(a.length),t=0,i=a.length;t<i;t+=1){if(n=a[t],"[object Object]"!==z.call(n))return!1;if(1!==(s=Object.keys(n)).length)return!1;r[t]=[s[0],n[s[0]]]}return!0},construct:function(e){if(null===e)return[];var t,i,n,s,r,a=e;for(r=new Array(a.length),t=0,i=a.length;t<i;t+=1)n=a[t],s=Object.keys(n),r[t]=[s[0],n[s[0]]];return r}}),Y=Object.prototype.hasOwnProperty;var q=new y("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,i=e;for(t in i)if(Y.call(i,t)&&null!==i[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),$=C.extend({implicit:[U,H],explicit:[V,W,K,q]}),Z=Object.prototype.hasOwnProperty,Q=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,X=/[\x85\u2028\u2029]/,J=/[,\[\]\{\}]/,ee=/^(?:!|!!|![a-z\-]+!)$/i,te=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ie(e){return Object.prototype.toString.call(e)}function ne(e){return 10===e||13===e}function se(e){return 9===e||32===e}function re(e){return 9===e||32===e||10===e||13===e}function ae(e){return 44===e||91===e||93===e||123===e||125===e}function oe(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function le(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function ce(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var de=new Array(256),ue=new Array(256),he=0;he<256;he++)de[he]=le(he)?1:0,ue[he]=le(he);function pe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||$,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function me(e,t){var i={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return i.snippet=f(i),new h(t,i)}function fe(e,t){throw me(e,t)}function ge(e,t){e.onWarning&&e.onWarning.call(null,me(e,t))}var ve={YAML:function(e,t,i){var n,s,r;null!==e.version&&fe(e,"duplication of %YAML directive"),1!==i.length&&fe(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]))&&fe(e,"ill-formed argument of the YAML directive"),s=parseInt(n[1],10),r=parseInt(n[2],10),1!==s&&fe(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=r<2,1!==r&&2!==r&&ge(e,"unsupported YAML version of the document")},TAG:function(e,t,i){var n,s;2!==i.length&&fe(e,"TAG directive accepts exactly two arguments"),n=i[0],s=i[1],ee.test(n)||fe(e,"ill-formed tag handle (first argument) of the TAG directive"),Z.call(e.tagMap,n)&&fe(e,'there is a previously declared suffix for "'+n+'" tag handle'),te.test(s)||fe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch(t){fe(e,"tag prefix is malformed: "+s)}e.tagMap[n]=s}};function ye(e,t,i,n){var s,r,a,o;if(t<i){if(o=e.input.slice(t,i),n)for(s=0,r=o.length;s<r;s+=1)9===(a=o.charCodeAt(s))||32<=a&&a<=1114111||fe(e,"expected valid JSON character");else Q.test(o)&&fe(e,"the stream contains non-printable characters");e.result+=o}}function Ee(e,t,i,n){var s,r,a,o;for(c.isObject(i)||fe(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,o=(s=Object.keys(i)).length;a<o;a+=1)r=s[a],Z.call(t,r)||(t[r]=i[r],n[r]=!0)}function be(e,t,i,n,s,r,a,o,l){var c,d;if(Array.isArray(s))for(c=0,d=(s=Array.prototype.slice.call(s)).length;c<d;c+=1)Array.isArray(s[c])&&fe(e,"nested arrays are not supported inside keys"),"object"==typeof s&&"[object Object]"===ie(s[c])&&(s[c]="[object Object]");if("object"==typeof s&&"[object Object]"===ie(s)&&(s="[object Object]"),s=String(s),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(r))for(c=0,d=r.length;c<d;c+=1)Ee(e,t,r[c],i);else Ee(e,t,r,i);else e.json||Z.call(i,s)||!Z.call(t,s)||(e.line=a||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,fe(e,"duplicated mapping key")),"__proto__"===s?Object.defineProperty(t,s,{configurable:!0,enumerable:!0,writable:!0,value:r}):t[s]=r,delete i[s];return t}function Se(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):fe(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Oe(e,t,i){for(var n=0,s=e.input.charCodeAt(e.position);0!==s;){for(;se(s);)9===s&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(t&&35===s)do{s=e.input.charCodeAt(++e.position)}while(10!==s&&13!==s&&0!==s);if(!ne(s))break;for(Se(e),s=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position)}return-1!==i&&0!==n&&e.lineIndent<i&&ge(e,"deficient indentation"),n}function Te(e){var t,i=e.position;return!(45!==(t=e.input.charCodeAt(i))&&46!==t||t!==e.input.charCodeAt(i+1)||t!==e.input.charCodeAt(i+2)||(i+=3,0!==(t=e.input.charCodeAt(i))&&!re(t)))}function _e(e,t){1===t?e.result+=" ":t>1&&(e.result+=c.repeat("\n",t-1))}function Ne(e,t){var i,n,s=e.tag,r=e.anchor,a=[],o=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),n=e.input.charCodeAt(e.position);0!==n&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,fe(e,"tab characters must not be used in indentation")),45===n)&&re(e.input.charCodeAt(e.position+1));)if(o=!0,e.position++,Oe(e,!0,-1)&&e.lineIndent<=t)a.push(null),n=e.input.charCodeAt(e.position);else if(i=e.line,Ie(e,t,3,!1,!0),a.push(e.result),Oe(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===i||e.lineIndent>t)&&0!==n)fe(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!o&&(e.tag=s,e.anchor=r,e.kind="sequence",e.result=a,!0)}function we(e){var t,i,n,s,r=!1,a=!1;if(33!==(s=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&fe(e,"duplication of a tag property"),60===(s=e.input.charCodeAt(++e.position))?(r=!0,s=e.input.charCodeAt(++e.position)):33===s?(a=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&62!==s);e.position<e.length?(n=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):fe(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==s&&!re(s);)33===s&&(a?fe(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),ee.test(i)||fe(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),J.test(n)&&fe(e,"tag suffix cannot contain flow indicator characters")}n&&!te.test(n)&&fe(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch(t){fe(e,"tag name is malformed: "+n)}return r?e.tag=n:Z.call(e.tagMap,i)?e.tag=e.tagMap[i]+n:"!"===i?e.tag="!"+n:"!!"===i?e.tag="tag:yaml.org,2002:"+n:fe(e,'undeclared tag handle "'+i+'"'),!0}function Ae(e){var t,i;if(38!==(i=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&fe(e,"duplication of an anchor property"),i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!re(i)&&!ae(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&fe(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Ie(e,t,i,n,s){var r,a,o,l,d,u,h,p,m,f=1,g=!1,v=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,r=a=o=4===i||3===i,n&&Oe(e,!0,-1)&&(g=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),1===f)for(;we(e)||Ae(e);)Oe(e,!0,-1)?(g=!0,o=r,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):o=!1;if(o&&(o=g||s),1!==f&&4!==i||(p=1===i||2===i?t:t+1,m=e.position-e.lineStart,1===f?o&&(Ne(e,m)||function(e,t,i){var n,s,r,a,o,l,c,d=e.tag,u=e.anchor,h={},p=Object.create(null),m=null,f=null,g=null,v=!1,y=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=h),c=e.input.charCodeAt(e.position);0!==c;){if(v||-1===e.firstTabInLine||(e.position=e.firstTabInLine,fe(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),r=e.line,63!==c&&58!==c||!re(n)){if(a=e.line,o=e.lineStart,l=e.position,!Ie(e,i,2,!1,!0))break;if(e.line===r){for(c=e.input.charCodeAt(e.position);se(c);)c=e.input.charCodeAt(++e.position);if(58===c)re(c=e.input.charCodeAt(++e.position))||fe(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(be(e,h,p,m,f,null,a,o,l),m=f=g=null),y=!0,v=!1,s=!1,m=e.tag,f=e.result;else{if(!y)return e.tag=d,e.anchor=u,!0;fe(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return e.tag=d,e.anchor=u,!0;fe(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(v&&(be(e,h,p,m,f,null,a,o,l),m=f=g=null),y=!0,v=!0,s=!0):v?(v=!1,s=!0):fe(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=n;if((e.line===r||e.lineIndent>t)&&(v&&(a=e.line,o=e.lineStart,l=e.position),Ie(e,t,4,!0,s)&&(v?f=e.result:g=e.result),v||(be(e,h,p,m,f,g,a,o,l),m=f=g=null),Oe(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===r||e.lineIndent>t)&&0!==c)fe(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&be(e,h,p,m,f,null,a,o,l),y&&(e.tag=d,e.anchor=u,e.kind="mapping",e.result=h),y}(e,m,p))||function(e,t){var i,n,s,r,a,o,l,c,d,u,h,p,m=!0,f=e.tag,g=e.anchor,v=Object.create(null);if(91===(p=e.input.charCodeAt(e.position)))a=93,c=!1,r=[];else{if(123!==p)return!1;a=125,c=!0,r={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=r),p=e.input.charCodeAt(++e.position);0!==p;){if(Oe(e,!0,t),(p=e.input.charCodeAt(e.position))===a)return e.position++,e.tag=f,e.anchor=g,e.kind=c?"mapping":"sequence",e.result=r,!0;m?44===p&&fe(e,"expected the node content, but found ','"):fe(e,"missed comma between flow collection entries"),h=null,o=l=!1,63===p&&re(e.input.charCodeAt(e.position+1))&&(o=l=!0,e.position++,Oe(e,!0,t)),i=e.line,n=e.lineStart,s=e.position,Ie(e,t,1,!1,!0),u=e.tag,d=e.result,Oe(e,!0,t),p=e.input.charCodeAt(e.position),!l&&e.line!==i||58!==p||(o=!0,p=e.input.charCodeAt(++e.position),Oe(e,!0,t),Ie(e,t,1,!1,!0),h=e.result),c?be(e,r,v,u,d,h,i,n,s):o?r.push(be(e,null,v,u,d,h,i,n,s)):r.push(d),Oe(e,!0,t),44===(p=e.input.charCodeAt(e.position))?(m=!0,p=e.input.charCodeAt(++e.position)):m=!1}fe(e,"unexpected end of the stream within a flow collection")}(e,p)?v=!0:(a&&function(e,t){var i,n,s,r,a,o=1,l=!1,d=!1,u=t,h=0,p=!1;if(124===(r=e.input.charCodeAt(e.position)))n=!1;else{if(62!==r)return!1;n=!0}for(e.kind="scalar",e.result="";0!==r;)if(43===(r=e.input.charCodeAt(++e.position))||45===r)1===o?o=43===r?3:2:fe(e,"repeat of a chomping mode identifier");else{if(!((s=48<=(a=r)&&a<=57?a-48:-1)>=0))break;0===s?fe(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?fe(e,"repeat of an indentation width identifier"):(u=t+s-1,d=!0)}if(se(r)){do{r=e.input.charCodeAt(++e.position)}while(se(r));if(35===r)do{r=e.input.charCodeAt(++e.position)}while(!ne(r)&&0!==r)}for(;0!==r;){for(Se(e),e.lineIndent=0,r=e.input.charCodeAt(e.position);(!d||e.lineIndent<u)&&32===r;)e.lineIndent++,r=e.input.charCodeAt(++e.position);if(!d&&e.lineIndent>u&&(u=e.lineIndent),ne(r))h++;else{if(e.lineIndent<u){3===o?e.result+=c.repeat("\n",l?1+h:h):1===o&&l&&(e.result+="\n");break}for(n?se(r)?(p=!0,e.result+=c.repeat("\n",l?1+h:h)):p?(p=!1,e.result+=c.repeat("\n",h+1)):0===h?l&&(e.result+=" "):e.result+=c.repeat("\n",h):e.result+=c.repeat("\n",l?1+h:h),l=!0,d=!0,h=0,i=e.position;!ne(r)&&0!==r;)r=e.input.charCodeAt(++e.position);ye(e,i,e.position,!1)}}return!0}(e,p)||function(e,t){var i,n,s;if(39!==(i=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=s=e.position;0!==(i=e.input.charCodeAt(e.position));)if(39===i){if(ye(e,n,e.position,!0),39!==(i=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,s=e.position}else ne(i)?(ye(e,n,s,!0),_e(e,Oe(e,!1,t)),n=s=e.position):e.position===e.lineStart&&Te(e)?fe(e,"unexpected end of the document within a single quoted scalar"):(e.position++,s=e.position);fe(e,"unexpected end of the stream within a single quoted scalar")}(e,p)||function(e,t){var i,n,s,r,a,o,l;if(34!==(o=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;0!==(o=e.input.charCodeAt(e.position));){if(34===o)return ye(e,i,e.position,!0),e.position++,!0;if(92===o){if(ye(e,i,e.position,!0),ne(o=e.input.charCodeAt(++e.position)))Oe(e,!1,t);else if(o<256&&de[o])e.result+=ue[o],e.position++;else if((a=120===(l=o)?2:117===l?4:85===l?8:0)>0){for(s=a,r=0;s>0;s--)(a=oe(o=e.input.charCodeAt(++e.position)))>=0?r=(r<<4)+a:fe(e,"expected hexadecimal character");e.result+=ce(r),e.position++}else fe(e,"unknown escape sequence");i=n=e.position}else ne(o)?(ye(e,i,n,!0),_e(e,Oe(e,!1,t)),i=n=e.position):e.position===e.lineStart&&Te(e)?fe(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}fe(e,"unexpected end of the stream within a double quoted scalar")}(e,p)?v=!0:!function(e){var t,i,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!re(n)&&!ae(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&fe(e,"name of an alias node must contain at least one character"),i=e.input.slice(t,e.position),Z.call(e.anchorMap,i)||fe(e,'unidentified alias "'+i+'"'),e.result=e.anchorMap[i],Oe(e,!0,-1),!0}(e)?function(e,t,i){var n,s,r,a,o,l,c,d,u=e.kind,h=e.result;if(re(d=e.input.charCodeAt(e.position))||ae(d)||35===d||38===d||42===d||33===d||124===d||62===d||39===d||34===d||37===d||64===d||96===d)return!1;if((63===d||45===d)&&(re(n=e.input.charCodeAt(e.position+1))||i&&ae(n)))return!1;for(e.kind="scalar",e.result="",s=r=e.position,a=!1;0!==d;){if(58===d){if(re(n=e.input.charCodeAt(e.position+1))||i&&ae(n))break}else if(35===d){if(re(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&Te(e)||i&&ae(d))break;if(ne(d)){if(o=e.line,l=e.lineStart,c=e.lineIndent,Oe(e,!1,-1),e.lineIndent>=t){a=!0,d=e.input.charCodeAt(e.position);continue}e.position=r,e.line=o,e.lineStart=l,e.lineIndent=c;break}}a&&(ye(e,s,r,!1),_e(e,e.line-o),s=r=e.position,a=!1),se(d)||(r=e.position+1),d=e.input.charCodeAt(++e.position)}return ye(e,s,r,!1),!!e.result||(e.kind=u,e.result=h,!1)}(e,p,1===i)&&(v=!0,null===e.tag&&(e.tag="?")):(v=!0,null===e.tag&&null===e.anchor||fe(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===f&&(v=o&&Ne(e,m))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&fe(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),l=0,d=e.implicitTypes.length;l<d;l+=1)if((h=e.implicitTypes[l]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(Z.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,l=0,d=(u=e.typeMap.multi[e.kind||"fallback"]).length;l<d;l+=1)if(e.tag.slice(0,u[l].tag.length)===u[l].tag){h=u[l];break}h||fe(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&fe(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):fe(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||v}function ke(e){var t,i,n,s,r=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(s=e.input.charCodeAt(e.position))&&(Oe(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(a=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!re(s);)s=e.input.charCodeAt(++e.position);for(n=[],(i=e.input.slice(t,e.position)).length<1&&fe(e,"directive name must not be less than one character in length");0!==s;){for(;se(s);)s=e.input.charCodeAt(++e.position);if(35===s){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&!ne(s));break}if(ne(s))break;for(t=e.position;0!==s&&!re(s);)s=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==s&&Se(e),Z.call(ve,i)?ve[i](e,i,n):ge(e,'unknown document directive "'+i+'"')}Oe(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Oe(e,!0,-1)):a&&fe(e,"directives end mark is expected"),Ie(e,e.lineIndent-1,4,!1,!0),Oe(e,!0,-1),e.checkLineBreaks&&X.test(e.input.slice(r,e.position))&&ge(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Te(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Oe(e,!0,-1)):e.position<e.length-1&&fe(e,"end of the stream or a document separator is expected")}function Pe(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var i=new pe(e,t),n=e.indexOf("\0");for(-1!==n&&(i.position=n,fe(i,"null byte is not allowed in input")),i.input+="\0";32===i.input.charCodeAt(i.position);)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)ke(i);return i.documents}var Le={loadAll:function(e,t,i){null!==t&&"object"==typeof t&&void 0===i&&(i=t,t=null);var n=Pe(e,i);if("function"!=typeof t)return n;for(var s=0,r=n.length;s<r;s+=1)t(n[s])},load:function(e,t){var i=Pe(e,t);if(0!==i.length){if(1===i.length)return i[0];throw new h("expected a single document in the stream, but found more")}}};Object.prototype.toString,Object.prototype.hasOwnProperty;function De(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Re=Le.load;De("safeLoad","load"),De("safeLoadAll","loadAll"),De("safeDump","dump");async function Me(e,t,i="./",n="json"){const s=function(e,t="./",i="json"){return e===o.k$?`${t}locale/strings.${i}`:`${t}locale/messages/strings_${e}.${i}`}(e,i,n),r=await t.get(s);return"json"===n?JSON.parse(r):Re(r)}var Ce=i(61173),xe=i(22251),Fe=i(1055),Ue=i(99657);var He=i(64150);var je=i(49668),Ve=i(7321);const Be=e=>e.replace(/-/g,"_").toUpperCase();class Ge extends n.Y{constructor(){super(...arguments),this.name="locale"}async init(e,t){const i=await t.market.waitForData(He.e);this._languageCode=function(e,t=(0,Fe.eY)("lang","")){const i=(0,Ce.ht)(),n=(0,xe.$)("SESSvl",""),s=null!=n?n:"",r=""===s||-1!==s.search(/^en/),a=t||(e?r?i:s:i);return(0,Ue.i)(a)}(e.isLoggedIn,i.getOverrideParam("lang",""));const n=this._languageCode.substr(0,2);this.polyglot=new(a())({locale:n,interpolation:{prefix:"%{",suffix:"}"},onMissingKey:e=>(this.log.warn("Missing phrase key:"+e),Ge.missingPrefix+e)});const r=(await t.getModuleBySymbol(s.Ak)).getProperty("assetBasePath"),l=await async function(e,t,i="./",n="json"){const s=await Me(e,t,i,n);if(e===o.k$)return s;const r=await Me(o.k$,t,i,n);return Object.assign(Object.assign({},r),s)}(this._languageCode,e.queue,r);this.polyglot.extend(l),this.localizeUnitsDisplay(),this.registerSettings(t)}t(e,t){return this.polyglot.t(e,t)}T(e,t,i="PLUGIN_KEYS",n){const s=t?`${i}.${Be(t)}.${e}`:`${i}.${Be(e)}`;return this.has(s)?this.t(s,n):t?t.replace(/-/g," ").split(" ").filter((e=>e.length>0)).map((e=>e[0].toUpperCase()+e.substr(1).toLowerCase())).join(" "):this.t(s,n)}has(e){return this.polyglot.has(e)}get languageCode(){return this._languageCode}localizeUnitsDisplay(){(0,je.cL)({unitsDisplayFeetSymbol:this.t(Ve.Z.UNITS_DISPLAY.FEET_SYMBOL),unitsDisplayInchesSymbol:this.t(Ve.Z.UNITS_DISPLAY.INCHES_SYMBOL),unitsDisplayHalfSpace:this.t(Ve.Z.UNITS_DISPLAY.HALF_SPACE),unitsDisplayFeet:this.t(Ve.Z.UNITS_DISPLAY.FEET),unitsDisplayInches:this.t(Ve.Z.UNITS_DISPLAY.INCHES),unitsDisplayMeters:this.t(Ve.Z.UNITS_DISPLAY.METERS),unitsDisplaySquareFeet:this.t(Ve.Z.UNITS_DISPLAY.SQUARE_FEET),unitsDisplaySquareMeters:this.t(Ve.Z.UNITS_DISPLAY.SQUARE_METERS),dimensionsSeparator:this.t(Ve.Z.UNITS_DISPLAY.DIMENSIONS_SEPARATOR)})}async registerSettings(e){(await e.getModuleBySymbol(s.Ak)).registerSetting("Locale",o.Zs,this.languageCode,!1)}}Ge.missingPrefix="FIX-"},33477:(e,t,i)=>{"use strict";i.d(t,{E7:()=>n,Xy:()=>r,Zs:()=>a,k$:()=>s});const n=["en-US","es","fr","de","ru","ja","zh-CN","zh-TW","ko","nl","it","pt"],s="en-US",r=Object.assign(Object.assign({},n.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.toLowerCase()]:t})),{})),{en:"en-US",zh:"zh-CN",cn:"zh-CN",jp:"ja"}),a="language_code"},7856:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var n=i(67294),s=i(20745),r=i(933),a=i(93827),o=i(85893),l=i(94184),c=i.n(l),d=i(7321);const u=i.p+"images/login-screen-background.jpg";var h=i(80308);const{INVITED_MESSAGE:p,CREATE_ACCOUNT:m,HAVE_ACCOUNT:f,SIGN_IN:g}=d.Z.LOGIN;class v extends n.Component{constructor(e){super(e),this.signup=()=>{window.top&&(window.top.location.href=this.props.registerUrl)}}render(){const{loginUrl:e,backgroundUrl:t,locale:i}=this.props,n=t||u;return(0,o.jsx)("div",Object.assign({className:"login-redirect-screen",style:{backgroundImage:`url(${n})`}},{children:(0,o.jsx)("div",Object.assign({className:c()("login-redirect",{skrim:!!t})},{children:(0,o.jsxs)("div",Object.assign({className:"login-redirect-body"},{children:[(0,o.jsx)("h1",Object.assign({className:"login-redirect-title"},{children:i.t(p)})),(0,o.jsx)("div",Object.assign({className:"login-redirect-create"},{children:(0,o.jsx)(h.zx,{variant:h.Wu.PRIMARY,size:"large",theme:"dark",onClick:this.signup,label:i.t(m)})})),(0,o.jsxs)("div",Object.assign({className:"login-redirect-link"},{children:[i.t(f),(0,o.jsx)("a",Object.assign({className:"link",href:e},{children:i.t(g)}))]}))]}))}))}))}}var y=i(4763);class E extends r.Y{constructor(){super(...arguments),this.name="login-redirect",this.authenticated=!1}async init(e,t){this.config=e,this.engine=t}async loadUi(){var e;const{container:t,loginUrl:i,registerUrl:r}=this.config,o=await this.engine.getModuleBySymbol(y.e9),l=encodeURIComponent((null===(e=window.top)||void 0===e?void 0:e.location.href)||"");return this.reactContainer=document.createElement("div"),this.reactContainer.id="login-redirect-container",t.appendChild(this.reactContainer),this.reactRoot=(0,s.createRoot)(this.reactContainer),this.reactRoot.render((0,n.createElement)(v,{locale:o,backgroundUrl:this.getBackground(),loginUrl:`${i}?target=${l}`,registerUrl:`${r}?target=${l}`})),new a.Q}async unloadUi(){return!!this.reactContainer&&(this.reactRoot.unmount(),this.reactContainer.remove(),delete this.reactContainer,!0)}getBackground(){const{baseUrl:e,modelId:t}=this.config;if(!t||!e)return;const i=window.devicePixelRatio||1;return`${e}/api/v1/player/models/${t}/thumb?width=${Math.max(this.config.container.clientWidth,400)}&dpr=${i}&disable=upscale`}}},79146:(e,t,i)=>{"use strict";var n;i.d(t,{U:()=>n}),function(e){e[e.NAVIGATION=0]="NAVIGATION",e[e.MODEL=1]="MODEL",e[e.EXT_LINK=2]="EXT_LINK"}(n||(n={}));n.NAVIGATION,n.MODEL,n.EXT_LINK},89072:(e,t,i)=>{"use strict";i.d(t,{U:()=>c});var n=i(81396),s=i(50831),r=i(86172),a=i(52803),o=i(64831),l=i(53584);class c extends o.T{constructor(e){super(),this.sid="",this.layerId="",this.created=new Date,this.modified=new Date,this.enabled=!0,this.label="",this.description="",this.parsedDescription=[],this.anchorPosition=new n.Vector3,this.anchorNormal=new n.Vector3(0,1,0),this.stemVector=new n.Vector3(0,0,(0,a._F)(1)),this.stemHeight=(0,a._F)(1),this.stemVisible=!0,this.fileAttachments=new l.d,this.externalAttachments=new l.d,this.sandboxAttachments=new l.d,this.color=s.I.MATTERTAG_BLUE.clone(),this.mediaType=r.z.none,this.mediaSrc="",this.keywords=[],e&&Object.assign(this,e)}copy(e){this.anchorNormal.copy(e.anchorNormal),this.anchorPosition.copy(e.anchorPosition),this.color.copy(e.color),this.created.setTime(e.created.getTime()),this.description=e.description,this.enabled=e.enabled,this.layerId=e.layerId,this.floorId=e.floorId,this.roomId=e.roomId,this.label=e.label,this.mediaType=e.mediaType,this.mediaSrc=e.mediaSrc,this.modified.setTime(e.modified.getTime()),this.sid=e.sid,this.stemVector.copy(e.stemVector),this.stemHeight=e.stemHeight,this.stemVisible=e.stemVisible,this.fileAttachments=e.fileAttachments,this.externalAttachments=e.externalAttachments,this.sandboxAttachments=e.sandboxAttachments,this.objectAnnotationId=e.objectAnnotationId,this.keywords=e.keywords,this.icon=e.icon,this.parsedDescription=[];for(const t of e.parsedDescription)this.parsedDescription.push({link:t.link&&{label:t.link.label.slice(),url:t.link.url.slice(),type:t.link.type,navigationData:t.link.navigationData&&{floorVisibility:t.link.navigationData.floorVisibility,mode:t.link.navigationData.mode,sweepIndex:t.link.navigationData.sweepIndex,panoId:t.link.navigationData.panoId,position:t.link.navigationData.position&&t.link.navigationData.position.clone(),quaternion:t.link.navigationData.quaternion.clone(),zoom:t.link.navigationData.zoom}},text:t.text,type:t.type});return this.commit(),this}clone(){return(new c).copy(this)}refresh(e){this.fileAttachments.forEach((t=>{const i=e[t.id];i&&(t.thumbnailUrl.refreshFrom(i.thumbnailUrl),t.url.refreshFrom(i.url))}))}getPin(){const{anchorPosition:e,color:t,stemVisible:i,floorId:n,roomId:s,stemVector:r,stemHeight:a,icon:o}=this;return{anchorPosition:e,color:`#${t.getHexString()}`,icon:o,floorId:n,roomId:s,stemEnabled:i,stemNormal:r,stemLength:a}}updateFromOptions(e,t,i){void 0!==e.color&&(this.color=new n.Color(e.color.r,e.color.g,e.color.b)),void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.stemHeight&&(this.stemHeight=e.stemHeight,this.stemVector.copy(this.anchorNormal).setLength(e.stemHeight)),void 0!==e.stemVisible&&(this.stemVisible=e.stemVisible),void 0!==e.label&&(this.label=e.label.slice()),void 0!==e.description&&(this.description=e.description,this.parsedDescription=t.parse(this.description,i)),void 0!==e.floorId&&(this.floorId=e.floorId),void 0!==e.roomId&&(this.roomId=e.roomId),void 0!==e.normal&&(this.anchorNormal.copy(e.normal).normalize(),this.stemVector.copy(e.normal).setLength(this.stemHeight)),void 0!==e.position&&this.anchorPosition.copy(e.position),void 0!==e.keywords&&(this.keywords=e.keywords.slice()),Object.prototype.hasOwnProperty.call(e,"icon")&&(this.icon=e.icon),void 0!==e.objectAnnotationId&&(this.objectAnnotationId=e.objectAnnotationId)}}},86172:(e,t,i)=>{"use strict";var n;i.d(t,{z:()=>n}),function(e){e.text="text",e.link="link",e.photo="photo",e.video="video",e.rich="rich",e.none="none",e.error="error"}(n||(n={})),function(e){e.parse=t=>null!==t&&t in e?e[t]:e.none}(n||(n={}))},58642:(e,t,i)=>{"use strict";i.d(t,{V:()=>n,s:()=>o});var n,s=i(10163),r=i(78989),a=i(86172);!function(e){e.OVERLAY="overlay",e.HOVER="hover",e.OPEN="open",e.DOCKED="docked"}(n||(n={}));class o{constructor(){this.visitedTags={},this.viewedTags=0,this.handlers=[{msgType:r.QY,func:(e,t,i)=>{const n=i.tryGetData(s.n);if(!n)return;const r=n.getTagCount(),o=this.getNumTagsVisited(),l=this.getViewedTagCount(),c=n.getTag(t.sid);c&&e.track("tag_opened",{tag_count:r,tag_id:t.sid,tags_visited:o,tag_view_count:l,has_media:c.mediaType!==a.z.none})}},{msgType:r.dJ,func:(e,t,i)=>{const n=i.tryGetData(s.n);if(!n)return;this.visitTag(t.sid);const r=n.getTagCount(),a=this.getNumTagsVisited(),o=this.getViewedTagCount(),l=n.getTag(t.sid);if(l){const i={mattertag_sid:t.sid,mattertag_view:t.view,mattertag_media:l.mediaType,mattertags_count:r,mattertags_total_views:o,mattertags_visited:a};e.track("mattertag_view",i)}}}]}visitTag(e){this.viewedTags++,this.visitedTags[e]=1}getViewedTagCount(){return this.viewedTags}getNumTagsVisited(){return this.visitedTags.length}}},10306:(e,t,i)=>{"use strict";i.d(t,{Ek:()=>o,Fz:()=>r,Gn:()=>a,Mm:()=>l,cH:()=>s,qq:()=>c});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={tags:e}}}s.id="MATTERTAG_DISC_POSITIONS";class r extends n.m{constructor(e){super(),this.payload=e}}r.id="ADD_MATTERTAG";class a extends n.m{constructor(e){super(),this.payload={sid:e}}}a.id="DELETE_MATTERTAG";class o extends n.m{constructor(e,t,i,n){super(),this.payload={sid:e,standardOptions:t,mediaOptions:i,positionOptions:n}}}o.id="MATTERTAG_EDIT";class l extends n.m{constructor(e,t,i=[],n){super(),this.payload={id:e,properties:t,fileAttachments:i,embed:n}}}l.id="MATTERTAG_NEW_SAVE";class c extends n.m{constructor(e,t,i=[],n=[],s){super(),this.payload={id:e,properties:t,pendingAttachments:i,removedAttachments:n,embed:s}}}c.id="MATTERTAG_SAVE"},10163:(e,t,i)=>{"use strict";i.d(t,{n:()=>a});var n=i(42141),s=i(42896),r=i(96544);class a extends n.V{constructor(e){if(super(),this.name="tag",this.mattertags=(0,s.q)(),e)for(const t of e)this.mattertags.set(t.sid,t);this.commit()}clear(){for(const e of this.mattertags.keys)this.removeTag(e)}clone(){return(new a).copy(this)}copy(e){return a.copyTagCollection(this,e),this}static copyTagCollection(e,t){const i=e.mattertags,n=t.mattertags;for(const t of i.keys)n.has(t)||e.removeTag(t);for(const t of n)e.addTag(t)}get collection(){return this.mattertags}addTag(e){this.mattertags.has(e.sid)?this.mattertags.get(e.sid).copy(e):this.mattertags.set(e.sid,e.clone())}removeTag(e){return this.mattertags.delete(e)}getTag(e){return this.mattertags.get(e)}getTagList(){return this.mattertags.keys}getTagCount(){return this.mattertags.length}getTagKeywords(){let e=[];return this.iterate((t=>{t.enabled&&t.keywords.length&&(e=e.concat(t.keywords))})),e}iterate(e){for(const t of this.mattertags)e(t)}*[Symbol.iterator](){for(const e of this.mattertags)yield e}set onStale(e){this.hydrate=e}updateOnStaleCallbacks(e){if(!this.hydrate)return;const t=e?this.getTag(e):this.mattertags;(0,r.s)(t,(async()=>{const e=await this.hydrate();this.iterate((t=>{t.refresh(e)}))}))}}},78989:(e,t,i)=>{"use strict";i.d(t,{Ik:()=>r,QY:()=>s,dJ:()=>a});var n=i(8126);class s extends n.v0{constructor(e){super(),this.sid=e}}class r extends n.v0{constructor(e){super(),this.url=e}}class a extends n.v0{constructor(e,t){super(),this.sid=e,this.view=t}}},30922:(e,t,i)=>{"use strict";i.d(t,{lc:()=>s,re:()=>n});const n="features/mattertags",s="embedlyKey"},56932:(e,t,i)=>{"use strict";i.d(t,{a:()=>g,d:()=>f});var n=i(80383),s=i(38256),r=i(53257),a=i(32197),o=i(81396),l=i(24650),c=i(89072),d=i(49518),u=i(33382),h=i(47994),p=i(15352);const m=new r.Z("mds-mattertag-serializer");class f{constructor(e,t){this.fileAttachmentDeserializer=e,this.externalAttachmentDeserializer=t}deserialize(e){var t,i;if(!e||!this.validate(e))return m.debug("Deserialized invalid Mattertag data from MDS",e),null;const n=e.anchorPosition?a.ep.fromVisionVector(e.anchorPosition):void 0,r=e.stemNormal?a.ep.fromVisionVector(e.stemNormal):void 0,h=new c.U;if(h.sid=e.id,h.layerId=(null===(t=e.layer)||void 0===t?void 0:t.id)||"",h.label=e.label||"",h.description=e.description||"",h.enabled=!!e.enabled,e.color&&(h.color=new o.Color(e.color)),h.created=(0,s.p)(e.created),h.modified=(0,s.p)(e.modified),e.floor&&e.floor.id&&(h.floorId=e.floor.id),e.room&&e.room.id&&(h.roomId=e.room.id),n&&(h.anchorPosition=n),e.media&&(h.mediaSrc=e.media),e.mediaType&&(h.mediaType=(0,l.m7)(e.mediaType)),h.fileAttachments.replace(this.getFileAttachments(h,e)),h.externalAttachments.replace(this.getExternalAttachments(h,e)),(0,d.hj)(e.stemLength)&&(h.stemHeight=e.stemLength),r&&r instanceof o.Vector3){const t=r.clone().setLength(h.stemHeight);h.anchorNormal=r,h.stemVector=t,h.stemVisible=!!e.stemEnabled}else h.stemVector=new o.Vector3(0,0,0),h.stemVisible=!!e.stemEnabled;return h.objectAnnotationId=null===(i=e.objectAnnotation)||void 0===i?void 0:i.id,h.keywords=e.keywords||[],(0,u.r)(e.icon)&&(h.icon=e.icon),h}validate(e){if(!e)return!1;return["id","created","modified","enabled"].every((t=>t in e))}getFileAttachments(e,t){return this.fileAttachmentDeserializer?this.deserializeFileAttachments(t).sort(((e,t)=>e.created.getTime()-t.created.getTime())):[]}getExternalAttachments(e,t){if(!this.externalAttachmentDeserializer)return[];const i=this.deserializeExternalAttachments(t);if(t.media&&t.mediaType){const n=(0,l.Nc)(e.sid,t.media,t.mediaType);n&&i.push(n)}return i.sort(((e,t)=>e.created.getTime()-t.created.getTime()))}deserializeExternalAttachments(e){const t=e.externalAttachments||[],i=[];return t.forEach((t=>{var s;const r=null===(s=this.externalAttachmentDeserializer)||void 0===s?void 0:s.deserialize(t);r&&(r.parentId=e.id,r.parentType=n.ud.MATTERTAG,i.push(r))})),i}deserializeFileAttachments(e){const t=e.fileAttachments||[],i=[];return t.forEach((t=>{var s;const r=null===(s=this.fileAttachmentDeserializer)||void 0===s?void 0:s.deserialize(t);r&&(r.parentId=e.id,r.parentType=n.ud.MATTERTAG,i.push(r))})),i}}const g=function(){const e=(0,h.f)(),t=(0,p.n)();return new f(e,t)}},24650:(e,t,i)=>{"use strict";i.d(t,{F5:()=>d,Nc:()=>p,gj:()=>u,m7:()=>c});var n=i(86172),s=i(12437),r=i(37250),a=i(25589),o=i(96544),l=i(80383);function c(e){const t={[l.L0.VIDEO]:n.z.video,[l.L0.PHOTO]:n.z.photo,[l.L0.RICH]:n.z.rich};return e in t?t[e]:n.z.none}function d(e){switch(e){case s.DD.VIDEO:return n.z.video;case s.DD.IMAGE:return n.z.photo;case s.DD.RICH:return n.z.rich}return n.z.none}function u(e){switch(e){case n.z.video:return l.L0.VIDEO;case n.z.photo:return l.L0.PHOTO;case n.z.rich:return l.L0.RICH}return null}function h(e){return{[l.L0.VIDEO]:s.DD.VIDEO,[l.L0.PHOTO]:s.DD.IMAGE,[l.L0.RICH]:s.DD.RICH}[e]}function p(e,t,i){return t?new r.P({id:(0,a.fV)(),created:new Date,parentId:e,parentType:l.ud.MATTERTAG,mediaType:h(i),src:t,url:new o.n(t,null),thumbnailUrl:new o.n(t,null),category:s.G$.EXTERNAL}):null}},44288:(e,t,i)=>{"use strict";i.d(t,{X:()=>o});var n=i(42141),s=i(60580),r=i(85726),a=i(59491);class o extends n.V{constructor(){super(...arguments),this.name="measure-mode",this._groups=[],this._groupMap={},this.onDataChangedCallbacks=new Set,this._editingGroupId=null,this._creatingGroupId=null,this.phase=s.au.CLOSED,this.pressProgress=-1,this.selectedGroupIndexObservable=new r.f(-1),this.pointPositionObservable=new r.f(null),this.idVisibility=new Set}onPhaseChanged(e){return this.onPropertyChanged("phase",e)}onDataChanged(e){return(0,a.k1)((()=>this.onDataChangedCallbacks.add(e)),(()=>this.onDataChangedCallbacks.delete(e)),!0)}onPointPositionChanged(e){return this.pointPositionObservable.onChanged(e)}onSelectedGroupIndexChanged(e){return this.selectedGroupIndexObservable.onChanged(e)}modeActive(){return this.phase!==s.au.CLOSED}isEditingOrCreating(){return this.phase>=s.au.EDITING}*groups(){for(const e of this._groups)yield e}get selectedGroupSid(){const e=this.selectedGroupInfo;return e&&e.info.sid?e.info.sid:null}get selectedGroupInfo(){return-1===this.selectedGroupIndex?null:this.getGroupInfo(this.selectedGroupIndex)}get creatingGroupId(){return this._creatingGroupId}set creatingGroupId(e){this._creatingGroupId=e}get editingGroupId(){return this._editingGroupId}set editingGroupId(e){this._editingGroupId=e}get groupCount(){return this._groups.length}get pointPosition(){return this.pointPositionObservable.value}get selectedGroupIndex(){return this.selectedGroupIndexObservable.value}getGroupInfo(e){return e<0||e>=this._groups.length?null:this._groups[e]}getGroupInfoBySid(e){return e?this._groupMap[e]:null}setPhase(e){this.phase!==e&&(this.phase=e,this.commit())}notifyDataChanged(){this.onDataChangedCallbacks.forEach((e=>e()))}setPointPosition(e){this.pointPositionObservable.value=e}setSelectedGroupIndex(e){this.selectedGroupIndexObservable.value=e}repopulate(e){this.clear();for(const t of e){const e=t.clone();this._groups.push(e),this._groupMap[t.info.sid]=e}this.notifyDataChanged()}clear(){this._groups=[],this._groupMap={}}}},60580:(e,t,i)=>{"use strict";var n;i.d(t,{Ph:()=>r,Pj:()=>s,WN:()=>o,au:()=>n,q8:()=>a}),function(e){e[e.CLOSED=0]="CLOSED",e[e.IDLE=1]="IDLE",e[e.EDITING=2]="EDITING",e[e.CREATING=3]="CREATING",e[e.POINT_PLACED=4]="POINT_PLACED",e[e.CREATING_NEXT_POINT=5]="CREATING_NEXT_POINT",e[e.CONFIRMING_POINT=6]="CONFIRMING_POINT"}(n||(n={}));const s={mobile:{[n.POINT_PLACED]:!0,[n.EDITING]:!0},desktop:{[n.CREATING]:!0,[n.CREATING_NEXT_POINT]:!0,[n.EDITING]:!0}},r={mobile:{[n.CREATING_NEXT_POINT]:!0,[n.POINT_PLACED]:!0,[n.EDITING]:!0},desktop:{[n.CREATING]:!0,[n.CREATING_NEXT_POINT]:!0,[n.EDITING]:!0}},a={[n.IDLE]:!0,[n.EDITING]:!0},o={[n.IDLE]:!0,[n.EDITING]:!0}},99244:(e,t,i)=>{"use strict";i.d(t,{Ev:()=>s,JM:()=>a,Tn:()=>r});var n=i(56063);class s extends n.m{}s.id="MEASUREMENT_DELETE_SELECTED";class r extends n.m{constructor(e){super(),this.payload={index:e}}}r.id="MEASUREMENT_DELETE";class a extends n.m{constructor(...e){super(),this.payload={sids:e}}}a.id="MEASUREMENT_LIST_DELETION"},53310:(e,t,i)=>{"use strict";i.d(t,{O:()=>s});var n=i(56063);class s extends n.m{constructor(e,t,i=!0){super(),this.payload={on:e,dimWhileActive:void 0!==t?t:e,editable:i}}}s.id="MEASURE_MODE_TOGGLE"},94936:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var n=i(56063);class s extends n.m{}s.id="MEASURE_START"},92164:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={index:e}}}s.id="MEASUREMENT_SELECT"},47615:(e,t,i)=>{"use strict";i.d(t,{B:()=>s});var n=i(56063);class s extends n.m{}s.id="MEASURE_STOP"},8899:(e,t,i)=>{"use strict";i.d(t,{J:()=>r});var n=i(38908),s=i(44288);const r=(0,n.u)(s.X)},65834:(e,t,i)=>{"use strict";i.d(t,{l:()=>r});var n=i(67294),s=i(8899);function r(e){const t=(0,s.J)(),[i,r]=(0,n.useState)((null==t?void 0:t.getGroupInfoBySid(e))||null);return(0,n.useEffect)((()=>{if(!t)return()=>{};function i(){r((null==t?void 0:t.getGroupInfoBySid(e))||null)}const n=t.onDataChanged(i);return i(),()=>n.cancel()}),[t,e]),i}},77855:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});var n=i(67294),s=i(8899);function r(){const e=(0,s.J)(),[t,i]=(0,n.useState)(e?e.selectedGroupSid:null);return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){e&&i(e.selectedGroupSid)}const n=e.onSelectedGroupIndexChanged(t);return t(),()=>n.cancel()}),[e]),t}},4153:(e,t,i)=>{"use strict";i.d(t,{$Z:()=>c,$n:()=>u,av:()=>d,ff:()=>a,mM:()=>l,rf:()=>s,ty:()=>o,u6:()=>r});var n=i(8126);class s extends n.v0{constructor(e){super(),this.data=e}}class r extends n.v0{constructor(e){super(),this.data=e}}class a extends n.v0{}class o extends n.v0{constructor(e,t){super(),this.sid=e,this.text=t}}class l extends n.v0{constructor(e,t,i){super(),this.sid=e,this.oldText=t,this.newText=i}}class c extends n.v0{constructor(e){super(),this.data=e}}class d extends n.v0{constructor(e){super(),this.data=e}}class u extends n.v0{constructor(e,t,i){super(),this.opened=e,this.viewmode=t,this.count=i}}},50485:(e,t,i)=>{"use strict";i.d(t,{b:()=>n});const n="features/measurements-nudge"},24511:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.sid=e,this.vrSupported=t}}},52893:(e,t,i)=>{"use strict";i.d(t,{T:()=>a});var n=i(42141),s=i(37008),r=i(42896);class a extends n.V{constructor(){super(),this.name="model",this.models=new r.v}get model(){return this.getModel()}addModel(e,t){this.activeModelId||(this.activeModelId=e),this.models.set(e,t)}getModel(e=this.activeModelId){return this.models.get(e)}hasModel(e){return this.models.has(e)}hasDiscoverUrl(){return[s.LU.PUBLIC,s.LU.UNLISTED].includes(this.getModel().visibility)}}},37008:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{LU:()=>n,qU:()=>r,vz:()=>s}),function(e){e.PUBLIC="public",e.UNLISTED="unlisted",e.PASSWORD="password",e.PRIVATE="private",e.UNKNOWN="unknown"}(n||(n={})),function(e){e.MAX="max",e.LOD0="lod0",e.LOD1="lod1",e.LOD2="lod2",e.LOD3="lod3"}(s||(s={})),function(e){e.custom="custom",e.basic1="basic1",e.medium1="medium1"}(r||(r={}))},41890:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>D});var n=i(933),s=i(34608),r=i(4763),a=i(33315),o=i(22925),l=i(96544),c=i(89056),d=i(52893),u=i(24511),h=i(64927),p=i(93797),m=i(38256),f=i(53257);class g{constructor(){this.lastPublished=null}key(){var e,t,i,n,s,r;return null!==(r=null!==(s=null!==(t=null===(e=this.tileset)||void 0===e?void 0:e.s3LocationKey)&&void 0!==t?t:null===(n=null===(i=this.meshUrls)||void 0===i?void 0:i[0])||void 0===n?void 0:n.s3LocationKey)&&void 0!==s?s:this.uuid)&&void 0!==r?r:this.sid}refresh(e){var t;this.sid=e.sid,this.details=e.details,this.uuid=e.uuid;for(const t in this.textures)e.textures[t]&&this.textures[t].refreshFrom(e.textures[t]);null===(t=this.meshUrls)||void 0===t||t.forEach(((t,i)=>{var n,s;const r=null===(s=null===(n=e.meshUrls)||void 0===n?void 0:n[i])||void 0===s?void 0:s.url;t.url&&r&&t.url.refreshFrom(r)})),this.tileset&&e.tileset&&(this.tileset.urlTemplate.refreshFrom(e.tileset.urlTemplate),this.tileset.s3LocationKey=e.tileset.s3LocationKey,this.tileset.maxLOD=e.tileset.maxLOD,this.tileset.rootFilename=e.tileset.rootFilename,this.tileset.tilesetVersion=e.tileset.tilesetVersion)}assetsEqual(e){return this.tileset&&e.tileset?this.tileset.s3LocationKey===e.tileset.s3LocationKey:!(!this.meshUrls||!e.meshUrls)&&this.meshUrls[0].s3LocationKey===e.meshUrls[0].s3LocationKey}}var v=i(80383),y=i(91774),E=i(1055),b=i(73943);class S extends b.y{constructor(e,t){super(e),this.name="ModelLoadException",this.code=t}}var O=i(77609),T=i(37008),_=i(27545),N=i(33382);const w=new f.Z("mds-model-serializer");class A{deserialize(e){var t,i,n,s,r,a,o,c,d,u;if(!(e&&this.validate(e)&&e.publication&&e.assets))return w.debug("Deserialized invalid model data from MDS",e),null;const h=null!==(t=e.state)&&void 0!==t?t:v.gb.ACTIVE;if(h!==v.gb.ACTIVE)throw w.error(`model unavailable, status: ${h}`,e),new S("model unavailable",h);const p=e.publication,f=p.contact||{name:"",email:"",phoneNumber:""},y=e.options,E=new g;E.sid=e.id,E.details={sid:e.id,name:e.name||"",presentedBy:p.presentedBy||"",summary:p.summary||"",description:p.description||"",formattedAddress:p.address||"",contact:{email:f.email||"",name:f.name||"",phone:f.phoneNumber||"",formattedPhone:f.phoneNumber||""},externalUrl:p.externalUrl||""},E.options={urlBranding:null===(i=null==y?void 0:y.urlBrandingEnabled)||void 0===i||i,socialSharing:!!(null==y?void 0:y.socialSharingEnabled),isPublic:!!p.published,isVR:!!(null==y?void 0:y.vrEnabled)},p.lastPublished&&(E.lastPublished=(0,m.p)(p.lastPublished,null));const b=k(e.assets.textures.filter((e=>"high"===e.quality))[0]),O=k(e.assets.textures.filter((e=>"low"===e.quality))[0]);E.textures={},b&&(E.textures.high=new l.n(b,(0,m.p)(b.validUntil,null))),O&&(E.textures.low=new l.n(O,(0,m.p)(O.validUntil,null)));const T=this.getDamFileUrls(e);(null==T?void 0:T.length)&&(E.meshUrls=T);const _=null===(n=e.assets.tilesets)||void 0===n?void 0:n[0];if(this.validateTileset(_)&&(E.tileset=this.getTileset(_,e.lod),E.textures.max=this.getTilesetTextures(_)),!E.meshUrls&&!E.tileset)throw w.error("No DAM or tileset info found for model",E),new S("No DAM or tileset info found for model",h);return E.uuid=(null===(s=null==T?void 0:T[0])||void 0===s?void 0:s.uuid)||"",E.visibility=this.getModelVisibility(e),E.baseModelId=null!==(c=null!==(a=null===(r=null==e?void 0:e.baseView)||void 0===r?void 0:r.model.id)&&void 0!==a?a:null===(o=null==e?void 0:e.legacyBaseView)||void 0===o?void 0:o.model.id)&&void 0!==c?c:"",E.overlayActive=!(null===(u=null===(d=null==e?void 0:e.overlayLayers)||void 0===d?void 0:d.length)||void 0===u||!u),E.overlayAvailable=((null==e?void 0:e.defurnishViews)||[]).some((e=>null==e?void 0:e.model.id))?"defurnish":void 0,E}validate(e){return["id","assets","publication"].every((t=>t in e))}getDamFileUrls(e){var t;return((null===(t=e.assets)||void 0===t?void 0:t.meshes)||[]).reduce(((e,t)=>{var i;if(t.status===v.l5.AVAILABLE&&t.url){const n=new RegExp(/[a-f0-9]{8}[a-f0-9]{4}4[a-f0-9]{3}(:?8|9|A|B)[a-f0-9]{3}[a-f0-9]{12}/gi),s=new URL(t.url).pathname.matchAll(n);let r="";for(const e of s)r+=r?","+e[0]:e[0];const a=(null===(i=t.filename)||void 0===i?void 0:i.replace(".dam","").replace("_50k",""))||"unknown",o={url:new l.n(t.url,(0,m.p)(t.validUntil,null)),s3LocationKey:r,uuid:a};"50k"===t.resolution?e.unshift(o):e.push(o)}return e}),[])}validateTileset(e){var t;if(!e)return!1;const i=O.o.lt(null!==(t=e.tilesetVersion)&&void 0!==t?t:"0","1.0.0");return e&&e.status===v.l5.AVAILABLE&&!i}getTileset(e,t){var i;const n=this.getTilesetMaxLOD(e,t),s=this.getRootTilesetFilename(e,t),r=this.getUrlTemplate(e),a=new URLSearchParams(r).get("k")+"/";return{maxLOD:n,rootFilename:s,urlTemplate:new l.n(r,(0,m.p)(e.validUntil,null)),tilesetVersion:null!==(i=e.tilesetVersion)&&void 0!==i?i:"0",s3LocationKey:a}}getTilesetMaxLOD(e,t){var i,n,s;let r=2;const a=O.o.gte(null!==(i=e.tilesetVersion)&&void 0!==i?i:"0","1.2.0"),o=!a&&e.tilesetPreset===T.qU.basic1,l=e.tilesetPreset===T.qU.custom,c=e.tilesetDepth;if(I(c)&&(a||l||!o))return c;switch(null===(n=null==t?void 0:t.options)||void 0===n?void 0:n[0]){case T.vz.MAX:r=I(c)?c:4,O.o.lt(null!==(s=e.tilesetVersion)&&void 0!==s?s:"0","1.1.0")&&(r=3);break;case T.vz.LOD3:r=3;break;case T.vz.LOD2:r=2;break;case T.vz.LOD1:r=1;break;case T.vz.LOD0:r=0}return 1===(0,E.eY)("debugTiles",0)&&(0,E.eY)("maxLOD",r)!==r&&(r=(0,E.eY)("maxLOD",r)),r}getRootTilesetFilename(e,t){if(1===(0,E.eY)("debugTiles",0)&&""!==(0,E.eY)("tilesetroot",""))return(0,E.eY)("tilesetroot","");if(e.tilesetPreset===T.qU.custom)return"tileset.json";return`${this.getTilesetMaxLOD(e,t)}.json`}getTilesetTextures(e){const t=this.getUrlTemplate(e);return new l.n({filename:null,id:"tiled",resolution:"*",quality:"max",format:"jpg",urlTemplate:t.replace(y.d_.urlTemplateToken,"<folder>/<texture>.jpg"),validUntil:e.validUntil},(0,m.p)(e.validUntil,null))}getUrlTemplate(e){var t;return y.d_.urlTemplateOverride?y.d_.urlTemplateOverride+y.d_.urlTemplateToken+"?t=fake":null!==(t=e.urlTemplate)&&void 0!==t?t:y.d_.urlTemplateToken}getModelVisibility(e){return _.t.hasPassword?T.LU.PASSWORD:(0,N.r)(e.visibility)&&e.visibility!==v.LU.PUBLIC?e.visibility===v.LU.PRIVATE?T.LU.PRIVATE:T.LU.UNKNOWN:e.discoverable?T.LU.PUBLIC:T.LU.UNLISTED}}function I(e){return(0,N.r)(e)&&!isNaN(e)}function k(e){var t;return(null==e?void 0:e.id)&&e.resolution&&e.quality&&e.urlTemplate?{id:e.id,filename:null!==(t=e.filename)&&void 0!==t?t:null,format:e.format,validUntil:e.validUntil||"",resolution:e.resolution,quality:e.quality,urlTemplate:e.urlTemplate}:null}class P extends p.u{constructor(){super(...arguments),this.serializer=new A,this.prefetchKey="data.model.name"}async read(e){var t,i;const n={modelId:null!==(t=null==e?void 0:e.modelId)&&void 0!==t?t:this.getViewId()},s=await this.query(h.GetModelDetails,n,e),r=this.serializer.deserialize(null===(i=null==s?void 0:s.data)||void 0===i?void 0:i.model);return r&&!r.baseModelId&&(r.baseModelId=this.getBaseViewId()),r}async refresh(e){return super.refresh(Object.assign({fetchPolicy:"no-cache"},e))}}async function L(e,t,i){var n;(await i.getModuleBySymbol(r.V6)).setOptions({model_id:null!==(n=e.baseModelId)&&void 0!==n?n:e.sid,model_mesh_type:e.tileset&&t.tiledMeshEnabled?"streamed":"dam",overlay_active:e.overlayActive,overlay_available:e.overlayAvailable})}class D extends n.Y{constructor(){super(...arguments),this.name="model-data",this.data=new d.T}async init(e,t){this.engine=t;const{baseUrl:i,readonly:n}=e,s=await t.market.waitForData(o.R);this.store=new P({context:s.mdsContext,readonly:n,baseUrl:i}),s.onPropertyChanged("currentViewId",(e=>{const t=this.data.getModel(e);this.log.debugInfo("view change",e,t),t&&this.setActiveModel(t)})),this.store.onNewData((async e=>{if(e){const t=this.data.getModel(e.sid);this.log.debugInfo("data change",e.sid,void 0!==t?"refresh":"add"),t?t.refresh(e):(this.addModel(e),this.setActiveModel(e))}})),t.getModuleBySymbol(r.Ve).then((i=>{let n=this.data.getModel();i.isolateMesh(this.data.getModel()),this.data.onPropertyChanged("activeModelId",(async s=>{const r=this.data.getModel(s);L(r,e,t),(!n||r&&!r.assetsEqual(n))&&(i.isolateMesh(r),n=r)}))})),await this.store.refresh({modelId:s.currentViewId,fetchPolicy:"cache-first"}),t.market.register(this,d.T,this.data),this.registerSettings(this.data.getModel()),L(this.data.getModel(),e,t),t.market.waitForData(a.Q).then((e=>{var t;const i=null===(t=this.data.getModel())||void 0===t?void 0:t.lastPublished;i&&(e.lastPublished=i.getTime())}))}queryModel(e){return this.store.read({modelId:e})}setActiveModel(e){this.data.activeModelId=e.sid,this.data.commit()}addModel(e){if(!this.data.hasModel(e.sid)){const t=this.data.getModel();this.data.addModel(e.sid,e),(0,l.s)(e,(async()=>{await this.store.refresh({modelId:e.sid})})),(!t||t&&!t.assetsEqual(e))&&this.engine.broadcast(new u.Z(e.sid,e.vrSupported))}}async registerSettings(e){var t;const i=await this.engine.getModuleBySymbol(s.Ak),n="Model Options",{urlBranding:r=!0,socialSharing:a,isPublic:o,isVR:l}=e.options||{};i.registerSetting(n,y.Yo,a),i.registerSetting(n,"is_public",o),i.registerSetting(n,"is_vr",l);const d=!r||!!i.settingsData.getOverrideParam("brand",!0),u=r?i.settingsData.getOverrideParam("mls","0"):"0",h=r?i.settingsData.getOverrideParam("title","1"):"1",p=null!==(t=i.settingsData.getOverrideParam("tagNav","1"))&&void 0!==t?t:"1";i.registerSetting(n,y.Zz,"0"!==h&&"2"!==u),i.registerSetting(n,y.DU,"0"!==h&&"2"!==h),i.registerSetting(n,y.L,d),i.registerSetting(n,y.sX,"1"===u||"2"===u),i.registerSetting(n,c.ek,"0"!==p)}}},91774:(e,t,i)=>{"use strict";i.d(t,{DU:()=>o,L:()=>r,Yo:()=>s,Zz:()=>l,d_:()=>d,r4:()=>c,sX:()=>a});var n=i(1055);const s="social_sharing",r="branding_enabled",a="presentation_mls_mode",o="presentation_title",l="presentation_about",c="discover_space_url",d={urlTemplateToken:"<file>",urlTemplateOverride:(0,n.eY)("tiledtemplate",null)}},49940:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var n=i(72803),s=i(81396);class r extends s.Mesh{constructor(){super(...arguments),this.isModelMesh=!0,this.raycastEnabled=!0}get2DPickingPriority(){return n.z.default}}},81378:(e,t,i)=>{"use strict";var n;i.d(t,{l:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.RAYCAST=1]="RAYCAST"}(n||(n={}))},67108:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var n=i(42141),s=i(81396);const r=[-5,-5,-5,5,5,5];class a extends n.V{constructor(e=r,t=r,i=new s.Vector3){super(),this.name="mesh-data",this.extendedBounds=new s.Box3,this.extendedSize=new s.Vector3,this.meshBounds=new s.Box3,this.meshCenter=new s.Vector3,this.centerOfMass=new s.Vector3,this.meshSize=new s.Vector3,this.meshRadius=0,this.maxPlacementRadius=0,this._meshGroups={floors:new Map,rooms:new Map,roomsByFloor:new Map},this.meshSubGroupsFromPoint=e=>{const t=[];for(const[i,n]of this.meshGroups.rooms)n.boundingBox.containsPoint(e)&&t.push(i);return t},this.meshBounds.setFromArray(e),this.meshBounds.getCenter(this.meshCenter),this.meshBounds.getSize(this.meshSize),this.meshRadius=this.meshSize.clone().multiplyScalar(.5).length(),this.maxPlacementRadius=3*this.meshRadius,this.extendedBounds.setFromArray(t),this.extendedBounds.getSize(this.extendedSize),this.centerOfMass.copy(i)}get meshGroups(){return this._meshGroups}}},43846:(e,t,i)=>{"use strict";var n;i.d(t,{S:()=>n}),function(e){e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=3]="HIGH",e[e.ULTRA=4]="ULTRA"}(n||(n={}))},41513:(e,t,i)=>{"use strict";i.d(t,{Nr:()=>o,Pv:()=>a,T0:()=>r});var n=i(49940);const s=e=>e instanceof n.S,r=e=>s(e),a=e=>s(e)&&e.raycastEnabled&&e.visible,o=e=>{let t=e.visible;t&&e.traverseAncestors((e=>{t&&(t=e.visible)}));return!r(e)&&t||a(e)}},37332:(e,t,i)=>{"use strict";var n;i.d(t,{h:()=>n}),function(e){e.PanoTexture="PANO_TEXTURE",e.PanoTextureTransition="PANO_TEXTURE_TRANSITION",e.MeshTexture="MESH_TEXTURE",e.ColorOverlay="COLOR_OVERLAY",e.MeshPreviewSphere="MESH_PREVIEW_SPHERE",e.Wireframe="WIREFRAME",e.FlatShading="FLAT_SHADING",e.PanoOverlay="PANO_OVERLAY",e.PanoOverlayTransition="PANO_OVERLAY_TRANSITION",e.MeshTrimVertex="MESH_TRIM_VERTEX",e.MeshTrimPixel="MESH_TRIM_PIXEL",e.FloorTrimVertex="FLOOR_TRIM_VERTEX",e.FloorTrimPixel="FLOOR_TRIM_PIXEL"}(n||(n={}))},71180:(e,t,i)=>{"use strict";i.d(t,{$m:()=>r,WQ:()=>a,Zb:()=>s,_I:()=>o});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.loaded=e,this.total=t}}class r extends n.v0{}class a extends n.v0{}class o extends n.v0{}},56620:(e,t,i)=>{"use strict";i.d(t,{EJ:()=>s,Kb:()=>c,Lp:()=>a,NR:()=>l,ZP:()=>r,iT:()=>o,xx:()=>d});var n=i(1055);const s={flipDownload:(0,n.eY)("flipDownload",!0),flipUpload:(0,n.eY)("flipUpload",!0),debugLOD:(0,n.eY)("debuglod",!1),debugRttQuality:(0,n.eY)("debugQuality",!1),debugRttScores:(0,n.eY)("debugScores",!1),debugRttClear:(0,n.eY)("debuglodrtt",!0),debugPauseTexStream:(0,n.eY)("textureStreamPause",!1),sightingMaxAge:(0,n.eY)("meshSightingMaxAge",600),textureTileSize:(0,n.eY)("chunkTileSize",512)},r=s,a="wireframeEnabled",o="features/tiled_mesh",l="Trim floor by(%)",c=0,d={FADE_OPAQUE:1,FADE_ABOVE:.05,FADE_BELOW:.2,FADE_TILE_VISIBLE_THRESHOLD:.6,FADE_CLICKABLE_THRESHOLD:.051,FADE_IN_VALUE:.2,FADE_IN_END_ANGLE:55,FADE_IN_START_ANGLE:35,FADE_IN_HOVER_BOOST_VALUE:.3,FADE_BELOW_START:0,FADE_BELOW_MULT:1}},28730:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w,t:()=>N});var n=i(81396),s=i(37332),r=i(34912),a=i.n(r),o=i(66367),l=i.n(o),c=i(67230),d=i.n(c),u=i(88880),h=i.n(u),p=i(82981),m=i.n(p),f=i(56547),g=i.n(f),v=i(23059),y=i.n(v),E=i(73209),b=i.n(E),S=i(62397),O=i.n(S),T=i(65849),_=i.n(T);const N=10,w={cube:{uniforms:{map:{type:"t",value:null},opacity:{type:"f",value:1}},vertexShader:a(),fragmentShader:l()},blurCube:{uniforms:{map:{type:"t",value:null},opacity:{type:"f",value:1},dir:{type:"v2",value:new n.Vector2(0,0)}},vertexShader:d(),fragmentShader:h()},modelChunk:{uniforms:{[s.h.MeshTexture]:{map:{type:"t",value:null},meshOpacity:{type:"f",value:0},opacity:{type:"f",value:1}},[s.h.MeshTrimVertex]:{meshTrimMatrices:{type:"mat4array",value:[]},meshTrimsDiscardContents:{type:"barray",value:new Array(N).fill(!0)},hasKeepVolume:{type:"b",value:!1}},[s.h.MeshTrimPixel]:{meshTrimMatrices:{type:"mat4array",value:[]},meshTrimsDiscardContents:{type:"barray",value:new Array(N).fill(!0)},hasKeepVolume:{type:"b",value:!1}},[s.h.FloorTrimVertex]:{floorHeightMin:{type:"f",value:0},floorHeightMax:{type:"f",value:1},floorTrimHeight:{type:"f",value:1}},[s.h.FloorTrimPixel]:{floorHeightMin:{type:"f",value:0},floorHeightMax:{type:"f",value:1},floorTrimHeight:{type:"f",value:1}},[s.h.PanoTexture]:{pano0Map:{type:"t",value:null},pano0Position:{type:"v3",value:new n.Vector3},pano0Matrix1:{type:"m4",value:new n.Matrix4},pano0Matrix2:{type:"m4",value:new n.Matrix4},panoOpacity:{type:"f",value:1}},[s.h.PanoTextureTransition]:{progress:{type:"f",value:0},pano1Map:{type:"t",value:null},pano1Position:{type:"v3",value:new n.Vector3},pano1Matrix1:{type:"m4",value:new n.Matrix4},pano1Matrix2:{type:"m4",value:new n.Matrix4}},[s.h.PanoOverlay]:{overlay0Map:{type:"t",value:null},overlay0Matrix:{type:"m4",value:new n.Matrix4}},[s.h.PanoOverlayTransition]:{overlay1Map:{type:"t",value:null},overlay1Matrix:{type:"m4",value:new n.Matrix4}},[s.h.ColorOverlay]:{colorOverlay:{type:"v4",value:null}},[s.h.MeshPreviewSphere]:{meshPreviewCenter:{type:"v3",value:null},meshPreviewSize:{type:"f",value:.3}},[s.h.Wireframe]:{time:{type:"f",value:0},fill:{type:"c",value:new n.Color(16711680)},stroke:{type:"c",value:new n.Color(16777215)},dualStroke:{type:"b",value:!1},fillEnabled:{type:"b",value:!1},insideAltColor:{type:"b",value:!1},thickness:{type:"f",value:.1},secondThickness:{type:"f",value:.1},dashEnabled:{type:"b",value:!1},dashRepeats:{type:"f",value:10},dashOverlap:{type:"b",value:!1},dashLength:{type:"f",value:.1,range:[0,1]},dashAnimate:{type:"b",value:!1},squeeze:{type:"b",value:!1},squeezeMin:{type:"f",value:.1},squeezeMax:{type:"f",value:1},wireframeOpacity:{type:"f",value:1,range:[0,1]}}},vertexShader:m(),fragmentShader:g()},modelOutside:{uniforms:{map:{type:"t",value:null},opacity:{type:"f",value:1},colorOverlay:{type:"v4",value:new n.Vector4(0,0,0,0)}},vertexShader:y(),fragmentShader:b()},depth:{uniforms:{opacity:{type:"f",value:1},maxDistance:{type:"f",value:20}},vertexShader:O(),fragmentShader:_()}}},22816:(e,t,i)=>{"use strict";i.d(t,{P:()=>s});var n=i(42141);class s extends n.V{constructor(){super(),this.name="model-rating-view-data",this.isDialogVisible=!1,this.setDialogVisible=e=>{this.isDialogVisible=void 0!==e?e:!this.isDialogVisible,this.commit()}}}},27691:(e,t,i)=>{"use strict";i.d(t,{M:()=>r,m:()=>s});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={toVisible:e}}}s.id="TOGGLE_MODEL_RATING_DIALOG";class r extends n.m{constructor(e,t=!1){super(),this.payload={rating:e,didFinish:t}}}r.id="SUBMIT_MODEL_RATING"},3807:(e,t,i)=>{"use strict";i.d(t,{E:()=>s});var n=i(8126);class s extends n.v0{constructor(e){super(),this.rating=e}}},30108:(e,t,i)=>{"use strict";i.d(t,{i:()=>n,j:()=>s});const n="features/model-rating-dialog",s="features/model-rating-dialog-prompt"},38063:(e,t,i)=>{"use strict";i.d(t,{Cs:()=>c,L4:()=>u,Lp:()=>r,OR:()=>o,SG:()=>d,ZK:()=>s,ju:()=>l,zs:()=>a});var n=i(56063);class s extends n.m{constructor(){super()}}s.id="LOCK_NAVIGATION";class r extends n.m{constructor(){super()}}r.id="UNLOCK_NAVIGATION";class a extends n.m{constructor(e){super(),this.payload=e}}a.id="FOCUS_ON_POINT_INSIDE";class o extends n.m{constructor(e){super(),this.payload=e}}o.id="FOCUS_ON_PIN_INSIDE";class l extends n.m{constructor(e){super(),this.payload=Object.assign({},e)}}l.id="MOVE_TO_SWEEP";class c extends n.m{constructor(e){super(),this.payload=e}}c.id="NAVIGATE_TO_LABEL";class d extends n.m{constructor(e){super(),this.payload={room:e}}}d.id="NAVIGATE_TO_ROOM";class u extends n.m{constructor(e){super(),this.payload={pose:e}}}u.id="NAVIGATE_TO_POSE"},18510:(e,t,i)=>{"use strict";i.d(t,{Df:()=>b,FB:()=>c,GV:()=>_,Gx:()=>T,RO:()=>y,Uw:()=>S,VI:()=>l,_N:()=>u,df:()=>m,gc:()=>d,kd:()=>h,mH:()=>O,oE:()=>f,oH:()=>p,sG:()=>v,vn:()=>r,x4:()=>E,yK:()=>a,yP:()=>o,yp:()=>g});var n=i(56063),s=i(90288);class r extends n.m{}r.id="REGISTER_NOTES_TOOLS";class a extends n.m{constructor(e){super(),this.payload={opened:e}}}a.id="NOTES_MODE_TOGGLE";class o extends n.m{constructor(e,t,i,n,r=s.nF.FadeToBlack){super(),this.payload={noteId:e,dock:t,edit:i,commentId:n,transition:r}}}o.id="NOTES_OPEN_NOTE_COMMENT";class l extends n.m{constructor(){super()}}l.id="NOTE_START_ADD";class c extends n.m{constructor(e){super(),this.payload={text:e}}}c.id="NOTE_ADD";class d extends n.m{constructor(){super()}}d.id="NOTE_CANCEL_ADD";class u extends n.m{constructor(){super()}}u.id="NOTE_CLOSE";class h extends n.m{constructor(e,t){super(),this.payload={noteId:e,text:t}}}h.id="NOTE_SAVE_CHANGES";class p extends n.m{}p.id="COMMENT_CANCEL_CHANGES";class m extends n.m{constructor(e){super(),this.payload={opened:e}}}m.id="NOTE_POPUP_EDITOR_TOGGLE";class f extends n.m{constructor(e,t){super(),this.payload={noteId:e,properties:t}}}f.id="NOTE_APPEARANCE_SAVE";class g extends n.m{constructor(e,t){super(),this.payload={noteId:e,resolved:t}}}g.id="NOTE_RESOLVE";class v extends n.m{constructor(e){super(),this.payload={noteId:e}}}v.id="NOTE_DELETE";class y extends n.m{constructor(e,t){super(),this.payload={filter:e,enabled:t}}}y.id="NOTES_TOGGLE_FILTER";class E extends n.m{constructor(e){super(),this.payload={id:e}}}E.id="NOTE_COMMENT_EDIT";class b extends n.m{constructor(e,t,i){super(),this.payload={noteId:e,text:t,replyId:i}}}b.id="COMMENT_ADD";class S extends n.m{constructor(e,t,i){super(),this.payload={noteId:e,commentId:t,text:i}}}S.id="COMMENT_UPDATE";class O extends n.m{constructor(e,t){super(),this.payload={noteId:e,commentId:t}}}O.id="COMMENT_DELETE";class T extends n.m{constructor(e){super(),this.payload={ids:e}}}T.id="FILTER_VISIBLE_NOTES_COMMAND";class _ extends n.m{constructor(e){super(),this.payload={enabled:e}}}_.id="NOTES_VISIBILITY_FILTER_ENABLED"},38386:(e,t,i)=>{"use strict";i.d(t,{$p:()=>r,IA:()=>s});var n=i(40475);const s="features/notes-mode";function r(e,t,i,r,a){if(!e)return!1;let o=!1;const l=t.hasPolicy("spaces.notes"),c=i.isCommenter();return o=l&&c,o&&(r.setProperty(s,o),r.setProperty(n.Mp,o),r.setProperty(n.pE,o&&a.has(n.pE))),o}},40475:(e,t,i)=>{"use strict";i.d(t,{AT:()=>l,E8:()=>o,GR:()=>a,Ko:()=>d,Mp:()=>s,Rn:()=>u,TM:()=>c,ZP:()=>h,pE:()=>r});var n=i(80383);const s="features/notes",r="features/notes-nudge",a=30,o=15,l=n.x6.VIEWER,c=500,d=500,u="#5c7fff",h=Object.freeze({noteMesh:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100}},colors:["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#5c7fff","#03a9f4","#417505","#00bcd4","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"],stem:{length:.23,width:1,opacity:1,transparent:!1,color:"white",alphaTest:.05},anchor:{size:.1},navigation:{anyDistance:!0,visibleDistance:8,cameraClearance:.1,tiltTolerance:25}})},73191:(e,t,i)=>{"use strict";i.d(t,{QA:()=>s,yQ:()=>r});var n=i(43814);const s="object-insights-feature";function r(e,t,i,r){const a=t.getModelOrganizationId(),o=(0,n._W)(i),l=(0,n.tP)(e,null!=a?a:null),c=!!a&&e.hasMembershipFlag(a,"showcase/objects_beta_access"),d=r.getOverrideParam("objectAnnotations",-1),u=!(0===d)&&(o&&l&&c||1===d);return r.setProperty(s,u),u}},43718:(e,t,i)=>{"use strict";i.d(t,{Ct:()=>c,Gu:()=>a,JU:()=>l,N4:()=>m,O8:()=>r,SI:()=>s,TD:()=>u,Tm:()=>d,bC:()=>o,jX:()=>p,mP:()=>h});var n=i(61173);const s=1e3/60,r=.05,a=.1/60,o=.02,l=25,c=3,d=3,u=.16,h=(0,n.V5)()?45:(0,n.Kr)()?20:35,p=.01,m=2},86425:(e,t,i)=>{"use strict";i.d(t,{z:()=>c});var n=i(72803),s=i(53257),r=i(81396),a=i(59916),o=i(84373);const l=new s.Z("InstancedPinHeads");class c extends r.InstancedMesh{constructor(e,t,i,s){const l=new r.PlaneGeometry(o.l,o.l),c=new r.InstancedBufferAttribute(new Float32Array(e),1);l.setAttribute("instanceAlpha",c);const d=new r.InstancedBufferAttribute(new Float32Array(4*e),4),u=new r.InstancedBufferAttribute(new Float32Array(e),1);l.setAttribute("instanceMaskRect",d),l.setAttribute("instanceStrokeWidth",u);const h=s&&i?new a.Vp(t,i):new a.m0(t,!0);super(l,h,e),this.updateMaskTexture=e=>{if(this.material&&this.material instanceof a.Vp){const t=this.material.uniforms;t.mask.value!==e&&(t.mask.value=e,this.material.uniformsNeedUpdate=!0)}},this.material=h,this.maxCount=e,this.opacityAttrib=c,this.maskRectAttrib=d,this.strokeWidthAttrib=u,this.setColorAt(0,new r.Color),this.renderedPins=[],this.renderOrder=n.z.pins}update(e){let t=0;this.renderedPins.length=0;for(const i of e){if(!i.visible)continue;if(t>=this.maxCount){l.error("Instance count is too small!");continue}this.setMatrixAt(t,i.pinHeadMatrix),this.setColorAt(t,i.pinColor),this.opacityAttrib.setX(t,i.opacity*i.opacityAnimation.value*i.opacityScale),this.strokeWidthAttrib.setX(t,i.pinStrokeWidth);const e=i.pinIconUVRect;e&&this.maskRectAttrib.setXYZW(t,e.minU,e.minV,e.maxU,e.maxV),t++,this.renderedPins.push(i)}this.count=t,this.visible=this.count>0,this.instanceMatrix.needsUpdate=!0,this.opacityAttrib.needsUpdate=!0,this.maskRectAttrib.needsUpdate=!0,this.strokeWidthAttrib.needsUpdate=!0,this.instanceColor?(this.instanceColor.needsUpdate=!0,this.computeBoundingSphere()):l.error("Instance color should be defined")}}},25525:(e,t,i)=>{"use strict";i.d(t,{$:()=>o});var n=i(72803),s=i(81396),r=i(84373),a=i(26059);class o extends s.Mesh{constructor(e,t,i,r){super(t,i),this.geomScale=new s.Vector3(1,1,1),this.userData.sid=e,this.worldPosition=new s.Vector3,this.layers.mask=r.mask,this.renderOrder=n.z.pins,this.scale.set(.01,.01,.01)}dispose(){this.material.dispose(),this.geometry.dispose()}updatePosition(e){this.position.copy(e.stemNormal).setLength(Math.max(e.stemLength,.01))}update(e,t,i){this.quaternion.copy(e.quaternion);const n=r.Z.pinHeadMesh.scale;this.getWorldPosition(this.worldPosition);const s=(0,a.W3)(this.worldPosition,e,t,i,n);this.scale.set(s*this.geomScale.x,s*this.geomScale.y,s*this.geomScale.z)}}},59916:(e,t,i)=>{"use strict";i.d(t,{Vp:()=>O,uW:()=>S,m0:()=>T,Nv:()=>E,Dx:()=>_,l0:()=>b});var n=i(81396),s=i(84373),r=i(27670),a=i.n(r),o=i(72742),l=i.n(o),c=i(24819),d=i.n(c),u=i(79652),h=i.n(u),p=i(50929),m=i.n(p),f=i(747),g=i.n(f);const v={pinHead:{uniforms:{alpha:{type:"f",value:1},color:{type:"c",value:new n.Color},bg:{type:"t",value:null},mask:{type:"t",value:null}},vertexShader:a(),fragmentShader:l()},pinStem:{uniforms:{pinHeadMatrix:{value:new n.Matrix4},resolution:{value:new n.Vector2},alpha:{value:1}},vertexShader:d(),fragmentShader:h()},pinSelected:{vertexShader:m(),fragmentShader:g()}};var y=i(44850);class E extends n.RawShaderMaterial{constructor(e,t,i,s){const r=n.UniformsUtils.clone(v.pinHead.uniforms);r.bg.value=t,r.mask.value=i,r.color.value.copy(e),r.alpha.value=s,super({fragmentShader:v.pinHead.fragmentShader,vertexShader:v.pinHead.vertexShader,uniforms:r,name:"PinHeadMaterial",transparent:!0})}}class b extends n.RawShaderMaterial{constructor(){const e=n.UniformsUtils.clone(v.pinStem.uniforms);super({fragmentShader:v.pinStem.fragmentShader,vertexShader:v.pinStem.vertexShader,uniforms:e,name:"PinStemMaterial",linewidth:s.Z.stem.width,opacity:s.Z.stem.opacity,transparent:s.Z.stem.transparent,alphaTest:s.Z.stem.opacity*s.Z.stem.alphaTest})}}class S extends n.RawShaderMaterial{constructor(){const e=n.UniformsUtils.clone(v.pinStem.uniforms);super({defines:{INSTANCED:!0},fragmentShader:v.pinStem.fragmentShader,vertexShader:v.pinStem.vertexShader,uniforms:e,name:"InstancedPinStemMaterial",linewidth:s.Z.stem.width,opacity:s.Z.stem.opacity,transparent:s.Z.stem.transparent,alphaTest:s.Z.stem.opacity*s.Z.stem.alphaTest})}}class O extends n.RawShaderMaterial{constructor(e,t){const i=n.UniformsUtils.clone(v.pinHead.uniforms);i.bg.value=e,i.mask.value=t,super({defines:{INSTANCED:!0},fragmentShader:v.pinHead.fragmentShader,vertexShader:v.pinHead.vertexShader,uniforms:i,name:"InstancedPinHeadMaterial",transparent:!0})}}class T extends n.RawShaderMaterial{constructor(e,t){super({defines:{INSTANCED:t},vertexShader:y.Z.basicTextured.vertexShader,fragmentShader:y.Z.basicTextured.fragmentShader,uniforms:{alpha:{value:1},tDiffuse:{value:e}},name:"InstancedPinHeadCustomMaterial",transparent:!0})}}class _ extends n.RawShaderMaterial{constructor(){super({depthTest:!0,depthWrite:!1,transparent:!0,side:n.DoubleSide,vertexShader:v.pinSelected.vertexShader,fragmentShader:v.pinSelected.fragmentShader})}}},83730:(e,t,i)=>{"use strict";i.d(t,{B:()=>o});var n=i(42141),s=i(85726),r=i(46629),a=i(42896);class o extends n.V{constructor(){super(),this.name="pins-view-data",this.pins=new a.v,this.creatingPin=!1,this.pinEditorStateObservable=(0,s.Y)(r.V8.IDLE),this.selectedPinObservable=(0,s.Y)(null),this.focusedPinObservable=(0,s.Y)(null),this.editableObservable=(0,s.Y)(!1),this.progressObservable=(0,s.Y)(-1),this.screenPositionObservable=(0,s.Y)(null),this.canPlaceObservable=(0,s.Y)(!0),this.canAddObservable=(0,s.Y)(!0),this.iteratePins=e=>{this.pins.forEach(e)}}onPinUpdate(e){return this.pins.onElementChanged(e)}updatePin(e){this.pins.set(e.id,e)}getPin(e){return this.pins.get(e)}removePin(e){this.pins.get(e)&&this.pins.delete(e)}removePinsByType(e){this.pins.forEach(((t,i)=>{t.pinType===e&&this.pins.delete(t.id)}))}get creatingNewPin(){return this.creatingPin}setSelectedPinId(e){this.selectedPinObservable.value=e}get selectedPinId(){return this.selectedPinObservable.value}onSelectedPinChanged(e){return this.selectedPinObservable.onChanged(e)}setFocusedPin(e){this.focusedPinObservable.value=e}get focusedPin(){return this.focusedPinObservable.value}onFocusedPinChanged(e){return this.focusedPinObservable.onChanged(e)}setPinEditorState(e){switch(e){case r.V8.IDLE:this.creatingPin=!1;break;case r.V8.CREATING:this.creatingPin=!0}this.pinEditorStateObservable.value=e}get pinEditorState(){return this.pinEditorStateObservable.value}onPinEditorStateChanged(e){return this.pinEditorStateObservable.onChanged(e)}setProgress(e){this.progressObservable.value=e}get progress(){return this.progressObservable.value}onProgressChanged(e){const t=this.progressObservable.onChanged(e);return t.renew(),t}get screenPosition(){return this.screenPositionObservable.value}setScreenPosition(e){this.screenPositionObservable.value=e}onScreenPositionChanged(e){return this.screenPositionObservable.onChanged(e)}get isPinEditable(){return this.editableObservable.value}setEditablePin(e){this.editableObservable.value=e}onPinEditableChanged(e){return this.editableObservable.onChanged(e)}get canAdd(){return this.canAddObservable.value}setCanAdd(e){this.canAddObservable.value=e}onCanAddChanged(e){return this.canAddObservable.onChanged(e)}get canPlace(){return this.canPlaceObservable.value}setCanPlace(e){this.canPlaceObservable.value=e}onCanPlaceChanged(e){return this.canPlaceObservable.onChanged(e)}}},94989:(e,t,i)=>{"use strict";i.d(t,{Ar:()=>r,I$:()=>O,Ki:()=>s,OL:()=>c,RH:()=>a,_Y:()=>g,fM:()=>o,iK:()=>E,ic:()=>p,ik:()=>m,ip:()=>S,kb:()=>y,mE:()=>u,nP:()=>v,qN:()=>f,tE:()=>h,tT:()=>l,yR:()=>b,zM:()=>d});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={enabled:e}}}s.id="ENABLE_PIN_CREATION";class r extends n.m{constructor(e,t,i){super(),this.payload={id:e,pinType:t,editable:i}}}r.id="SELECT_PIN";class a extends n.m{constructor(e,t){super(),this.payload={id:e,pinType:t}}}a.id="UNSELECT_PIN";class o extends n.m{constructor(e,t,i,n){super(),this.payload={id:e,pin:t,pinType:i,backgroundTexture:n}}}o.id="CREATE_PIN";class l extends n.m{constructor(e,t){super(),this.payload={id:e,pinType:t}}}l.id="PIN_CREATION_CANCEL";class c extends n.m{constructor(e,t){super(),this.payload={id:e,pinType:t}}}c.id="REMOVE_PIN";class d extends n.m{constructor(e){super(),this.payload={pinType:e}}}d.id="REMOVE_PIN_TYPE";class u extends n.m{constructor(e){super(),this.payload={pinViews:e}}}u.id="UPDATE_PIN_VIEWS";class h extends n.m{constructor(e,t,i){super(),this.payload={id:e,pinType:t,properties:i}}}h.id="UPDATE_PIN";class p extends n.m{constructor(e,t=!1){super(),this.payload={id:e,editable:t}}}p.id="TOGGLE_PIN_EDITING";class m extends n.m{constructor(e,t,i){super(),this.payload={id:e,pinType:t,visible:i}}}m.id="CHANGE_PIN_VISIBILITY";class f extends n.m{constructor(e,t){super(),this.payload={pinType:e,visible:t}}}f.id="CHANGE_PIN_TYPE_VISIBILITY";class g extends n.m{constructor(e,t,i){super(),this.payload={id:e,pinType:t,opacity:i}}}g.id="CHANGE_PIN_OPACITY";class v extends n.m{constructor(e,t,i){super(),this.payload={id:e,pinType:t,scale:i}}}v.id="CHANGE_PIN_OPACITY_SCALE";class y extends n.m{constructor(e,t,i=[]){super(),this.payload={pinType:e,opacity:t,skipIds:i}}}y.id="CHANGE_PIN_TYPE_OPACITY";class E extends n.m{}E.id="PIN_SELECTION_CLEAR";class b extends n.m{constructor(){super()}}b.id="PIN_CLICK_ELSEWHERE";class S extends n.m{constructor(){super()}}S.id="PLACE_PIN";class O extends n.m{constructor(e,t,i){super(),this.payload={id:e,pos:t,previousPos:i}}}O.id="MOVE_PIN"},46629:(e,t,i)=>{"use strict";var n;i.d(t,{Er:()=>n,K_:()=>r,Od:()=>o,Qk:()=>s,V8:()=>a}),function(e){e.MATTERTAG="mattertag",e.NOTE="note",e.OBJECT="object"}(n||(n={}));const s={[n.MATTERTAG]:"simple-tag-pin",[n.NOTE]:"comment-large",[n.OBJECT]:"simple-tag-small"};var r,a,o;!function(e){e.DEFAULT="default",e.HIGHLIGHTED="highlighted",e.DIMMED="dimmed"}(r||(r={})),function(e){e.IDLE="idle",e.CREATING="creating",e.PRESSING="pressing",e.PLACING="placing",e.PLACED="placed"}(a||(a={})),function(e){e.UP="up",e.UP_LEFT="up-left",e.UP_RIGHT="up-right",e.DOWN="down",e.DOWN_LEFT="down-left",e.DOWN_RIGHT="down-right",e.LEFT="left",e.RIGHT="right"}(o||(o={}))},44009:(e,t,i)=>{"use strict";i.d(t,{F7:()=>r,b0:()=>a,bV:()=>c,cd:()=>o,hu:()=>d,pe:()=>l,tP:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t,i){super(),this.id=e,this.hovering=t,this.pinType=i}}class r extends n.v0{constructor(e,t){super(),this.id=e,this.pinType=t}}class a extends n.v0{constructor(e,t,i){super(),this.id=e,this.pinType=t,this.pinPos=i}}class o extends n.v0{}class l extends n.v0{}class c extends n.v0{constructor(e,t,i,n){super(),this.id=e,this.pinType=t,this.pinPos=i,this.previousPos=n}}class d extends n.v0{constructor(e,t){super(),this.id=e,this.pinType=t}}},84373:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s,l:()=>n});const n=1,s=Object.freeze({anchor:{size:1},selection:{size:1},stem:{length:.23,width:1,opacity:1,transparent:!0,color:"white",alphaTest:.05},pinHeadMesh:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100}}})},43822:(e,t,i)=>{"use strict";i.d(t,{u6:()=>f,iU:()=>g,OC:()=>m});var n=i(85726),s=i(53584),r=i(42896),a=i(42141),o=i(93797),l=i(44055),c=i(47994);const d=new(i(53257).Z)("mds-plugin-config-deserializer");class u{constructor(){this.fileAttachmentDeserializer=new c.O}deserialize(e){if(!e)return d.debug("Deserialized invalid Plugin data from MDS",e),null;const t=e.fileAttachments.map((e=>this.fileAttachmentDeserializer.deserialize(e))).filter((e=>null!==e));return{name:e.name,id:e.id,attachments:t}}}class h extends o.u{constructor(e){super(e),this.deserializer=new u}async read(e){const t={modelId:this.getViewId(),prefetchKey:this.prefetchKey,includeLayers:this.readLayerId()};return this.query(l.GetPlugins,t,e).then((e=>{var t,i;const n=null===(i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.sdkPlugins;if(!n||!Array.isArray(n))return[];return n.map((e=>this.deserializer.deserialize(e))).filter((e=>null!==e))}))}async update(e){const t={};void 0!==e.version&&(t.currentVersion=e.version),void 0!==e.attachments&&(t.fileAttachments=e.attachments);const i={modelId:this.getViewId(),name:e.name,patch:t};await this.mutate(l.UpdatePlugin,i).catch((e=>{e.message.includes("Version for plugin does not exist")}))}async delete(e){if(!e)return;const t={modelId:this.getViewId(),name:e};return this.mutate(l.DeletePlugin,t).then((()=>{}))}}var p=i(1055);const m="/api/v1/plugins";var f;!function(e){e[e.None=0]="None",e[e.AnonymousFetch=1]="AnonymousFetch",e[e.UserFetch=2]="UserFetch"}(f||(f={}));class g extends a.V{constructor(){super(),this.name="available-plugin-data",this.availablePlugins=new r.v,this.lastSavedConfiguration=new s.d,this.currentlyConfiguring=new n.f(null),this.defaultStrict=(0,p.eY)("sesStrict",null,"boolean"),this.defaultFetchLevel=f.None,this.disabled=(0,p.eY)("noPlugins",!1),this.manifestUrl=(0,p.eY)("manifestUrl"),this.pluginVersion=(0,p.eY)("pluginVersion"),this.preventLiveEdit=(0,p.eY)("preventWorkshopPluginPreview",!1),this.eventTarget=new r.v,this._isSetup=!1}get mdsIsSetup(){return this._isSetup}add(e){this.availablePlugins.set(e.name,e)}setupConfigStore(e,t,i){this._mdsStore=new h({context:e,readonly:t,includeDisabled:!t,baseUrl:i}),this._isSetup=!0,this.commit()}getMdsResult(){var e,t;return null!==(t=null===(e=this._mdsStore)||void 0===e?void 0:e.read())&&void 0!==t?t:Promise.resolve([])}updateMds(e){var t;null===(t=this._mdsStore)||void 0===t||t.update(e)}deleteMdsById(e){var t;null===(t=this._mdsStore)||void 0===t||t.delete(e)}}},5885:(e,t,i)=>{"use strict";i.d(t,{I:()=>s,r:()=>r});var n=i(8126);class s extends n.v0{constructor(e,t,i){super(),this.name=e,this.version=t,this.loadTime=i}}class r{constructor(){this.handlers=[{msgType:s,func:(e,t,i)=>{e.track("plugin_loaded",{name:t.name,version:t.version,time:t.loadTime})}}]}}},39260:(e,t,i)=>{"use strict";i.d(t,{Gi:()=>s,LN:()=>r,Xz:()=>a,uE:()=>n});const n="spaces.plugins",s="spaces.plugins.config",r="spaces.plugins.debug",a="spaces.plugins.groups"},73754:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var n=i(42141),s=i(42896);const r=function(e){return`${e.applicationKey}.${e.id}`};class a extends n.V{constructor(){super(...arguments),this.plugins=(0,s.q)(),this.visibilityData=new s.v}get(e){const t=r(e);return this.plugins.get(t)}set(e,t,i){const n=r(e);this.plugins.set(n,{applicationKey:e.applicationKey,module:t,id:e.id,dispose:i})}delete(e){const t=r(e);this.plugins.delete(t)}}},44979:(e,t,i)=>{"use strict";i.d(t,{n:()=>s});var n=i(42141);class s extends n.V{constructor(e=[]){super(),this.policies=e,this.name="policy-data"}hasPolicy(e){return!!this.getPolicy(e)}getPolicy(e){return this.policies.find((t=>t.name===e))||null}}},52672:(e,t,i)=>{"use strict";i.r(t),i.d(t,{PolicyData:()=>l.n,WORKSHOP_EDIT_POLICY:()=>d,default:()=>u});var n=i(933),s=i(93797),r=i(10960),a=i(80383);class o extends s.u{constructor(e){super(e)}async fetchModelPolicies(){const e=this.getViewId();return this.query(r.GetModelPolicies,{modelId:e}).then((e=>{var t,i;return((null===(i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.policies)||[]).filter((e=>{switch(e.__typename){case"PolicyFlag":return e.enabled;case"PolicyValue":return null!==e.value;case"PolicyOptions":return e.options&&e.options.length>0;case"PolicyFeature":return e.availability===a.PR.UNLOCKED;default:return!1}})).map((e=>({name:e.name,value:e.value,options:e.options})))}))}}var l=i(44979);class c extends n.Y{constructor(){super(...arguments),this.name="policy-module"}async init(e,t){this.store=new o({context:e.mdsContext,readonly:!0,baseUrl:e.baseUrl,viewId:e.viewId});const i=await this.store.fetchModelPolicies();this.policyData=new l.n(i),t.market.register(this,l.n,this.policyData)}dispose(e){super.dispose(e),e.market.unregister(this,l.n)}}const d="perm.spaces.workshop.edit",u=c},43814:(e,t,i)=>{"use strict";i.d(t,{ID:()=>r,_W:()=>n,tP:()=>s});function n(e){return!!e.getPolicy("spaces.elements")}function s(e,t){return!!t&&e.hasMembershipFlag(t,"cloud_ui/elements_beta_access")}function r(e,t){e.trackFeatures(`elements:${n(t)}`)}},22594:(e,t,i)=>{"use strict";var n;i.d(t,{e:()=>n}),function(e){e[e.RoomLabels=0]="RoomLabels",e[e.Normal=1]="Normal"}(n||(n={}))},65897:(e,t,i)=>{"use strict";i.d(t,{n:()=>S,x:()=>O});var n=i(3655),s=i(81396);class r{constructor(){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[],[]],this.boundingBox=null,this.boundingSphere=null}}class a{constructor(e,t,i,n,r,a=0){this.a=e,this.b=t,this.c=i,this.materialIndex=a,this.a=e,this.b=t,this.c=i,this.normal=n&&!Array.isArray(n)&&n.isVector3?n:new s.Vector3,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&!Array.isArray(r)&&r.isColor?r:new s.Color,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=a}clone(){return new a(this.a,this.b,this.c,this.normal,this.color).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}var o=i(53257),l=i(43627);const c=new o.Z("surface-edge-finder"),d=new s.Triangle,u=["a","b","c"];class h extends a{constructor(e,t,i,n){super(e.a,e.b,e.c,e.normal),this.va=t,this.vb=i,this.vc=n,this.area=d.set(this.va.vector,this.vb.vector,this.vc.vector).getArea(),this.midpoint=d.getMidpoint(new s.Vector3),this.vertices=[this.va,this.vb,this.vc],t.faces.push(this),i.faces.push(this),n.faces.push(this)}}class p{constructor(e){this.vector=e,this.faces=[]}}class m{constructor(){this.area=0,this.normal=new s.Vector3,this.midpoint=new s.Vector3,this.faces=[],this.normalSum=new s.Vector3,this.midpointSum=new s.Vector3}add(e){e.surface&&e.surface.remove(e),this.faces.push(e),this.area+=e.area,this.midpointSum.add(e.midpoint),this.normalSum.add(e.normal),this.recalcFromSums(),e.surface=this}remove(e){e.surface&&(this.faces.splice(this.faces.indexOf(e),1),this.area-=e.area,this.midpointSum.sub(e.midpoint),this.normalSum.sub(e.normal),this.recalcFromSums()),e.surface=null}recalcFromSums(){this.normal.copy(this.normalSum).normalize(),this.midpoint.copy(this.midpointSum).divideScalar(this.faces.length)}mergeSurfaces(e){for(const t of e.faces)t.surface=this,this.faces.push(t);this.area+=e.area,this.normalSum.add(e.normalSum),this.midpointSum.add(e.midpointSum),this.recalcFromSums(),e.faces=[],e.area=0,e.normal.set(0,0,0),e.normalSum.set(0,0,0),e.midpointSum.set(0,0,0),e.midpoint.set(0,0,0)}getEdges(){const e={},t={};for(const t of this.faces)for(let i=0;i<3;i++){const n=t[u[i]],s=t[u[(i+1)%3]],r=Math.min(n,s)+","+Math.max(n,s);if(void 0===e[r]){const t={edge1:n,edge2:s,isEdge:!0};e[r]=t}else e[r].isEdge=!1}for(const{edge1:i,edge2:n,isEdge:s}of Object.values(e))s&&(t[i]||(t[i]=[]),t[i].push(n),t[n]||(t[n]=[]),t[n].push(i));return t}getCircularPaths(e){const t=this.getEdges(),i=new Set,n=[],s=Object.keys(t).map((e=>parseInt(e,10)));let r;for(;r=s.pop();){const s=[];for(;r;){let n;s.push(e[r]);let a=0;for(const s of t[r]){const t=Math.min(r,s)+","+Math.max(r,s);if(i.has(t))continue;const o=e[r].vector.distanceToSquared(this.midpoint);(void 0===n||o>a)&&(n=s,a=o)}if(!n)break;{const e=Math.min(r,n)+","+Math.max(r,n);i.add(e),r=n}}s.length>2&&n.push(s)}return n}}class f{constructor(){this.surfaces=new Set,this.lines=[],this.points=[]}*run(e,t=[1,5,10],i=.2,o=.01,d=20){const u=function(e){const t=new r,i=null!==e.index?e.index:void 0,n=e.attributes;if(void 0===n.position)throw Error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.");const o=n.position,l=n.normal,c=n.color,d=n.uv,u=n.uv2;void 0!==u&&(t.faceVertexUvs[1]=[]);for(let e=0;e<o.count;e++)t.vertices.push((new s.Vector3).fromBufferAttribute(o,e)),void 0!==c&&t.colors.push((new s.Color).fromBufferAttribute(c,e));function h(e,i,n,r=0){const o=void 0===c?[]:[t.colors[e].clone(),t.colors[i].clone(),t.colors[n].clone()],h=void 0===l?[]:[(new s.Vector3).fromBufferAttribute(l,e),(new s.Vector3).fromBufferAttribute(l,i),(new s.Vector3).fromBufferAttribute(l,n)],p=new a(e,i,n,h,o,r);t.faces.push(p),void 0!==d&&t.faceVertexUvs[0].push((new s.Vector2).fromBufferAttribute(d,e),(new s.Vector2).fromBufferAttribute(d,i),(new s.Vector2).fromBufferAttribute(d,n)),void 0!==u&&t.faceVertexUvs[1].push((new s.Vector2).fromBufferAttribute(u,e),(new s.Vector2).fromBufferAttribute(u,i),(new s.Vector2).fromBufferAttribute(u,n))}const p=e.groups;if(p.length>0)for(let e=0;e<p.length;e++){const t=p[e],n=t.start;for(let e=n,s=n+t.count;e<s;e+=3)void 0!==i?h(i.getX(e),i.getX(e+1),i.getX(e+2),t.materialIndex):h(e,e+1,e+2,t.materialIndex)}else if(void 0!==i)for(let e=0;e<i.count;e+=3)h(i.getX(e),i.getX(e+1),i.getX(e+2));else for(let e=0;e<o.count;e+=3)h(e,e+1,e+2);return t}(e),f=u.vertices.map((e=>new p(e))),g=[];for(const e of u.faces)g.push(new h(e,f[e.a],f[e.b],f[e.c])),yield;for(let e=0,t=g.length;e<t;e++){const t=g[e];(new m).add(t)}for(const e of t)yield*this.mergeSurfacesByNormal(g,e);for(const e of g)this.surfaces.add(e.surface);let v=0;const y=[];for(const e of this.surfaces){if(e.area<=i)continue;const t=e.getCircularPaths(f);for(const e of t)this.cullPath(e,((e,t)=>{if(e.length()<o||t.length()<o)return v++,!1;const i=e.angleTo(t)*l.MN;return!(i<d||i>180-d)||(v++,!1)})),e.length>2&&y.push(e);yield}c.debug(`Culled ${v} path points`);const E=new Set,b=new Set,S=e=>`${e.x.toFixed(3)},${e.y.toFixed(3)},${e.z.toFixed(3)}`,O=e=>`${S(e.start)}:${S(e.end)}`,T=e=>`${S(e.end)}:${S(e.start)}`;for(const e of y)for(let t=0;t<e.length;t++){const i=e[t].vector,s=e[(t+1)%e.length].vector,r=new n.FM(i,s),a=O(r),o=T(r),l=S(i);b.has(a)||b.has(o)||(b.add(a),b.add(o),this.lines.push(r)),E.has(l)||(E.add(l),this.points.push(new n.UQ(i)))}yield}cullPath(e,t){const i=new s.Vector3,n=new s.Vector3;let r=!0;for(;r;){r=!1;for(let s=0;s<e.length&&e.length>2;s++){const a=e[0===s?e.length-1:s-1].vector,o=e[s].vector,l=e[(s+1)%e.length].vector;i.copy(a).sub(o),n.copy(l).sub(o),t(i,n)||(e.splice(s,1),r=!0,s--)}}}*mergeSurfacesByNormal(e,t,i=5){let n=-1,s=0;for(;0!==n&&s++<i;){c.debug(`Merging surfaces by normal angle threshold: ${t}`);const i=Math.cos(l.Ue*t);n=0;let s=0;for(const t of e){s++%1e3==0&&(yield);for(const e of t.vertices)for(const s of e.faces){const e=s.surface;t.surface!==e&&t.surface.normal.dot(e.normal)>=i&&(t.surface.faces.length>e.faces.length?t.surface.mergeSurfaces(e):e.mergeSurfaces(t.surface),n++)}}n&&c.debug(`Merged ${n} surfaces by normal...`)}}}var g=i(83464),v=i(25565),y=i(8126);const E=new o.Z("snapcaster");var b;!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.WORKING=1]="WORKING",e[e.READY=2]="READY"}(b||(b={}));class S{constructor(e,t){this.cameraData=e,this.engine=t,this.meshes=new Map,this.newMeshes=new Set,this.raycaster=new s.Raycaster,this.filterSnapFeature=e=>{var t,i;const{meshName:n}=e;return!n||!1!==(null===(i=null===(t=this.meshes.get(n))||void 0===t?void 0:t.filter)||void 0===i?void 0:i.call(t,e))},this.cast=(e,t,i,r)=>{let a;i&&r&&(a=(new s.Plane).setFromNormalAndCoplanarPoint(r,i)),this.raycaster.set(e.origin,e.direction);const o=this.snappingOctree.raycast(this.raycaster,t,this.filterSnapFeature)||[],l=e=>{let t=(1+e.distance)*(1+e.distanceToRay)**2;return e.object instanceof n.UQ&&(t/=10),a&&a.distanceToPoint(e.point)<-.2&&(t+=10),t};return o.sort(((e,t)=>l(e)-l(t))),o},this.add=(...e)=>{for(const t of e)this.snappingOctree.add(t)},this.remove=(...e)=>{for(const t of e)this.snappingOctree.remove(t)}}dispose(){this.meshes.clear(),this.newMeshes.clear(),this._snappingOctree.clear()}get snappingOctree(){return this.preloadMeshSnapping(),this._snappingOctree}setupOctree(e){this._snappingOctree=new n.ZP(e)}async preloadMeshSnapping(){var e;!this.populateProcess&&this.newMeshes.size&&(this.populateProcess=await this.engine.commandBinder.issueCommand(new g.S("snapping",this.buildSnappingForMeshes(),6e4)),await(null===(e=this.populateProcess)||void 0===e?void 0:e.promise),this.populateProcess=null)}*buildSnappingForMeshes(){const e=new s.Vector3;for(;;){let t=null;for(const i of this.newMeshes){const n=this.meshes.get(i);if(n){const{geometry:s}=n;if(!s){E.error("No mesh to generate snapping information from!"),n.status=b.READY;continue}const r=(0,v.A5)(s).getCenter(e).distanceTo(this.cameraData.pose.position);(!t||r<t.distance)&&(t={meshName:i,geometry:s,distance:r,info:n})}}if(!t)break;this.newMeshes.delete(t.meshName),t.info.status=b.WORKING,yield*this.buildSnappingForGeometry(t.geometry,t.info),t.info.status=b.READY,t.info.geometry=null,yield}E.info(`Snapping found ${this._snappingOctree.pointCount} points and ${this._snappingOctree.lineCount} lines`)}*buildSnappingForGeometry(e,t){e.computeVertexNormals(),yield;const i=new f;yield*i.run(e),E.debug(`Mesh done, added ${i.points.length} points and ${i.lines.length} lines`);for(const e of i.points)e.meshName=t.meshName,e.meta=t.meta,this._snappingOctree.add(e);for(const e of i.lines)e.meshName=t.meshName,e.meta=t.meta,this._snappingOctree.add(e);this.engine.broadcast(new O(i))}forEachSnapFeature(e,t=!1){this.snappingOctree.traverse((i=>{t&&!this.filterSnapFeature(i)||e(i)}))}addMeshGeometry(e,t,i,n){this.meshes.has(e)||(this.meshes.set(e,{meshName:e,geometry:t,status:b.UNINITIALIZED,meta:i,filter:n}),this.newMeshes.add(e))}removeMeshGeometry(e){const t=this.meshes.get(e);t&&t.status===b.UNINITIALIZED&&(this.meshes.delete(e),this.newMeshes.delete(e))}}class O extends y.v0{constructor(e){super(),this.edgeFinder=e}}},33716:(e,t,i)=>{"use strict";i.d(t,{E:()=>a,P:()=>r});var n=i(81396),s=i(42141);class r extends s.V{constructor(){super(...arguments),this.name="pointer",this.hit=null,this.hits=[],this.pointerNdcPosition=new n.Vector2,this.pointerScreenPosition=new n.Vector2,this.pointerOrigin=new n.Vector3,this.pointerDirection=new n.Vector3,this.pointerRay=new n.Ray}}class a{constructor(e,t,i,n){this.point=e,this.normal=t,this.object=i,this.intersection=n,this.face={normal:t}}}},55457:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>k});var n=i(933),s=i(4763),r=i(81396);function a(e){return"excludeFromOctree"in e}var o=i(32197),l=i(25565);const c=new r.Vector3;class d{constructor(){this.parent=null,this.raycastDistance=1/0,this.distance=1/0}updateRaycastDistance(e){this.raycastDistance=this.bounds.distanceToPoint(e)}updateDistanceToBounds(e){this.distance=this.bounds.distanceToPoint(e)}}class u extends d{constructor(e){super(),this.mesh=e,this.bounds=(0,l.A5)(this.mesh.geometry).clone().applyMatrix4(this.mesh.matrixWorld),this.center=this.bounds.getCenter(new r.Vector3)}raycast(e,t){this.mesh.visible&&this.mesh.raycast(e,t)}nearestPointOnGeometry(e){const t=e.clone().applyMatrix4((new r.Matrix4).copy(this.mesh.matrixWorld).invert());let i;const n=this.mesh.geometry.boundsTree;return i=n?n.closestPointToPoint(t):(0,l.GO)(this.mesh.geometry,t),i?(i.point.applyMatrix4(this.mesh.matrixWorld),{object:this.mesh,point:i.point,distance:i.point.distanceTo(e),faceIndex:i.faceIndex}):null}}class h extends d{constructor(e,t,i){super(),this.level=t,this.leafMinSize=i,this.childNodes=[],this.children=[],this.listeners={},this.bounds=e.clone(),this.size=e.getSize(new r.Vector3),this.center=e.getCenter(new r.Vector3)}get depth(){return this.level}*addMeshes(e){e.updateMatrixWorld(!0);const t=[];e.traverse((e=>{!(e instanceof r.Mesh&&e.geometry)||a(e)&&e.excludeFromOctree||t.push(e)}));for(const e of t)this.addMesh(new u(e))}removeMeshes(e){let t=!1;for(let i=0;i<this.children.length;i++){const n=this.children[i];n instanceof u&&n.mesh.id===e.id&&(n.parent=null,this.children.splice(i,1),this.emit("removed",this,n),t=!0)}if(!t)throw new Error("Mesh that is being attempted removed does not exist in this node.")}addMesh(e){this.parent||this.expandToFit(e);let t=!1;if(this.size.length()>this.leafMinSize){0===this.childNodes.length&&this.buildChildNodes();for(const i of this.childNodes)i.bounds.containsBox(e.bounds)&&(t=!0,i.addMesh(e))}t||this.add(e)}add(e){if(e.parent)throw new Error("ColliderNode already has a parent, remove before trying to add in another node");e.parent=this,this.children.push(e),this.emit("added",this,e)}expandToFit(e){let t=!1;for(;!this.bounds.containsBox(e.bounds);){const{bounds:i,size:n,center:s,children:r,childNodes:a}=this,o=s.clone();this.children=[],this.childNodes=[],n.multiplyScalar(2),s.set(i[e.center.x>s.x?"max":"min"].x,i[e.center.y>s.y?"max":"min"].y,i[e.center.z>s.z?"max":"min"].z),i.setFromCenterAndSize(s,n),this.buildChildNodes();for(const e of this.childNodes)if(e.center.distanceToSquared(o)<1e-10){e.children=r,e.childNodes=a,r.forEach((t=>{this.emit("removed",t.parent,t),t.parent=e,this.emit("added",e,t)}));break}t=!0}t&&this.traverse((e=>{e.parent&&(e.level=e.parent.level+1)}))}traverse(e){e(this);for(const t of this.childNodes)t.traverse(e)}clear(){this.childNodes.length=0,this.children.length=0}buildChildNodes(){const e=c.copy(this.size).multiplyScalar(.5);for(let t=0;t<2;t++)for(let i=0;i<2;i++)for(let n=0;n<2;n++){const s=this.bounds.min.x+e.x*n,a=s+e.x,o=this.bounds.min.y+e.y*t,l=o+e.y,c=this.bounds.min.z+e.z*i,d=c+e.z,u=new r.Box3(new r.Vector3(s,o,c),new r.Vector3(a,l,d)),p=new h(u,this.level+1,this.leafMinSize);this.childNodes.push(p),this.add(p)}}raycast(e,t){if(!0===e.ray.intersectsBox(this.bounds))for(const i of this.children)i.raycast(e,t)}pick(e,t,i,n=null){if(!e.ray.intersectsBox(this.bounds))return t;for(const t of this.children)t.updateRaycastDistance(e.ray.origin);this.children.sort(((e,t)=>e.raycastDistance-t.raycastDistance));for(const s of this.children){if(t&&t.distance<s.raycastDistance)break;if(i(s))if(s instanceof h)t=s.pick(e,t,i,n);else{const i=[];s.raycast(e,i);for(const e of i)t&&!(t.distance>e.distance)||n&&!n(e)||(t=e)}}return t}nearestTo(e,t,i=null){for(const t of this.children)t.updateDistanceToBounds(e);this.children.sort(((e,t)=>e.distance-t.distance));for(const n of this.children){if(0!==n.distance&&i&&i.distance<n.distance)break;if(t(n))if(n instanceof h)i=n.nearestTo(e,t,i);else if(n instanceof u){const t=n.nearestPointOnGeometry(e);if(t){(!i||i.distance>t.distance)&&(i=t)}}}return i}getAllBounds(e,t=0,i=1/0,n=!1){for(const s of this.children)this.level>=t&&this.level<=i&&(n||e.push(s.bounds.clone())),s instanceof h&&s.getAllBounds(e,t,i,n)}emit(e,...t){const i=this.listeners[e]||[];for(const e of i)e(...t);this.parent&&this.parent.emit(e,...t)}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}}class p{constructor(e,t){this.meshToNodes={},this._depth=0;const i=(0,o.rj)(e);this.root=new h(i,0,t),this.root.on("added",((e,t)=>{e.depth>this._depth&&(this._depth=e.depth),t instanceof u&&(this.meshToNodes[t.mesh.id]||(this.meshToNodes[t.mesh.id]=[]),this.meshToNodes[t.mesh.id].push(t))})),this.root.on("removed",((e,t)=>{if(t instanceof u){const e=this.meshToNodes[t.mesh.id];for(let i=0;i<e.length;i++)e[i]===t&&e.splice(i,1)}}))}get depth(){return this._depth}*addMeshesAsync(e){yield*this.root.addMeshes(e)}addMeshes(e){for(const t of this.root.addMeshes(e));}removeMeshes(e){e.traverse((e=>{const t=this.meshToNodes[e.id]||[];for(const i of t)i.parent&&i.parent.removeMeshes(e)}))}clear(){this.root.clear(),this.meshToNodes={}}raycast(e){const t=[];return this.root.raycast(e,t),t}getAllBounds(e=0,t=1/0,i=!1){const n=[];return this.root.getAllBounds(n,e,t,i),n}pick(e,t,i=null){const n=e.firstHitOnly;e.firstHitOnly=!i;const s=this.root.pick(e,null,(e=>!(t&&e instanceof u)||t(e.mesh)),i);return e.firstHitOnly=n,s}nearestMeshTo(e,t){const i=this.root.bounds.clampPoint(e,new r.Vector3);return this.root.nearestTo(i,(e=>!(t&&e instanceof u)||t(e.mesh)))}getDebugBoundsMesh(e=16777215,t=0,i=1/0,n=!1){const s=this.getAllBounds(t,i,n),a=new r.LineBasicMaterial({color:e});if(s.length>0){const e=[];for(const t of s){const i=new r.Box3Helper(t);i.updateMatrixWorld(!0),i.geometry.applyMatrix4(i.matrixWorld),e.push(i.geometry)}const t=(0,l.qf)(e);return new r.LineSegments(t,a)}return new r.LineSegments(new r.BufferGeometry,a)}}var m=i(22594),f=i(49940);class g{constructor(e,t,i,n){this.camera=e,this.cameraData=t,this.defaultRaycastFilter=i,this.intersectionFilter=n,this.meshes={},this.octreeEnabledMeshes={},this.meshFilters=new Map,this.raycaster=new r.Raycaster,this.prevRay=new r.Ray,this._hitCache=[],this.hitCacheValid=!0,this.getOctree=()=>this.octree}init(){this.raycaster=new r.Raycaster,this.raycaster.camera=this.camera,this.raycaster.params.Line&&(this.raycaster.params.Line.threshold=.1)}dispose(){this.octree.clear(),this._hitCache.length=0,this.meshes={}}updateIntersectionFilter(e){this.intersectionFilter=e}cast(e,t,i){if(e&&t&&(this.prevRay.copy(this.raycaster.ray),this.raycaster.set(e,t)),!i&&this.prevRay.equals(this.raycaster.ray)&&this.hitCacheValid)return this._hitCache;if(this.hitCacheValid=!0,this.raycaster.layers.mask=this.camera.layers.mask,this._hitCache.length=0,this.octree){const e=this.getRaycastFilter(E.OctreeMeshes,i),t=this.octree.pick(this.raycaster,e,this.intersectionFilter);t&&this._hitCache.push(t)}const n=this.getRaycastFilter(E.DynamicMeshes,i);for(const e in this.meshes){const t=this.meshes[e];if(n(t)){const e=this.raycaster.intersectObject(t,!0);this._hitCache=this._hitCache.concat(e)}}const s=this.cameraData.isOrtho()?y:v;return this._hitCache.sort(((e,t)=>s(e,t))),this.prevRay.copy(this.raycaster.ray),this._hitCache}pick(e,t,i){var n;this.raycaster.set(e,t);const s=this.getRaycastFilter(E.OctreeMeshes,i);return null===(n=this.octree)||void 0===n?void 0:n.pick(this.raycaster,s,this.intersectionFilter)}nearest(e,t){return this.octree.nearestMeshTo(e,this.getRaycastFilter(E.OctreeMeshes,t))}setupOctree(e){this.octree=new p(e,.5);for(const e of Object.keys(this.meshes))if(this.octreeEnabledMeshes[e]){const t=this.meshes[e];this.octree.addMeshes(t)}return this.octree}addTarget(e,t,i){const n=e,s=n.collider?n.collider:e;this.meshes[e.id]=s,i&&this.meshFilters.set(s,i),this.octreeEnabledMeshes[e.id]=t,this.octree&&t&&(this.octree.addMeshes(e),e.traverse((e=>{!(e instanceof r.Mesh)||a(e)&&e.excludeFromOctree||(this.octreeEnabledMeshes[e.id]=t,i&&this.meshFilters.set(e,i))}))),this.hitCacheValid=!1}removeTarget(e){this.octree&&this.octreeEnabledMeshes[e.id]&&(this.octree.removeMeshes(e),this.octreeEnabledMeshes[e.id]=!1,e.traverse((e=>{e instanceof r.Mesh&&(this.octreeEnabledMeshes[e.id]=!1,this.meshFilters.delete(e))})));const t=this.meshes[e.id];t&&(this.meshFilters.delete(t),delete this.meshes[e.id]),this.hitCacheValid=!1}getRaycastFilter(e,t){const i=t||this.defaultRaycastFilter,n=t=>{const i=this.octreeEnabledMeshes[t.id];switch(e){case E.DynamicMeshes:return!i;case E.OctreeMeshes:return i}};return e=>n(e)&&i(e)&&this.checkMeshSpecificFilter(e)}checkMeshSpecificFilter(e){const t=this.meshFilters.get(e);return!t||t(e)}render(){}activate(){}deactivate(){}}function v(e,t){var i,n;const s=(null!==(i=e.object.intersectionPriority)&&void 0!==i?i:m.e.Normal)-(null!==(n=t.object.intersectionPriority)&&void 0!==n?n:m.e.Normal);return 0!==s?s:e.object.hasIntersectionPriorityWithRespectTo&&e.object.hasIntersectionPriorityWithRespectTo(t)?-1:t.object.hasIntersectionPriorityWithRespectTo&&t.object.hasIntersectionPriorityWithRespectTo(e)?1:e.distance-t.distance}function y(e,t){const i=e.object instanceof f.S?e.object.get2DPickingPriority():e.object.renderOrder,n=t.object instanceof f.S?t.object.get2DPickingPriority():t.object.renderOrder;return i>n?-1:i<n?1:v(e,t)}var E;!function(e){e[e.OctreeMeshes=0]="OctreeMeshes",e[e.DynamicMeshes=1]="DynamicMeshes"}(E||(E={}));var b=i(33716),S=i(65897),O=i(11250);class T{constructor(e,t){this.raycaster=e,this.cameraData=t,this.currentRay=new r.Ray,this.pointer=new r.Vector2(-2,-2),this.origin=new r.Vector3,this.direction=new r.Vector3,this.cast=e=>{const t=this.pointerRay;return this.raycaster.cast(t.origin,t.direction,e).slice()},this.updatePointer=e=>{this.pointer.distanceToSquared(e)>2e-5&&this.pointer.set(e.x,e.y)}}get pointerRay(){const{origin:e,direction:t}=this.updateDirections();return this.currentRay.set(e,t)}get ndcPosition(){return this.pointer}updateDirections(){return(0,O.Kh)(this.cameraData.pose,this.origin.set(this.pointer.x,this.pointer.y,-1),this.origin),(0,O.Kh)(this.cameraData.pose,this.direction.set(this.pointer.x,this.pointer.y,1),this.direction),this.direction.sub(this.origin).normalize(),{origin:this.origin,direction:this.direction}}}class _{constructor(e,t,i){this.raycaster=e,this.data=t,this.cameraData=i,this.cache={normal4:new r.Vector4,normal:new r.Vector3,rotationMatrix:new r.Matrix4,ndc3:new r.Vector3}}beforeRender(){if(this.raycaster.pointer.pointerRay.equals(this.data.pointerRay))return;this.data.pointerRay.copy(this.raycaster.pointer.pointerRay),this.data.pointerOrigin.copy(this.data.pointerRay.origin),this.data.pointerDirection.copy(this.data.pointerRay.direction);const e=this.raycaster.pointer.cast();if(this.data.hits.length=0,this.data.hits.push(...e),this.data.pointerNdcPosition.copy(this.raycaster.pointer.ndcPosition),this.cache.ndc3.set(this.data.pointerNdcPosition.x,this.data.pointerNdcPosition.y,.5),this.data.pointerScreenPosition.copy((0,O.fi)(this.cameraData.width,this.cameraData.height,this.cache.ndc3)),e.length>0){const t=e[0];if(t&&t.face){const e=t.face.normal;this.cache.normal4.set(e.x,e.y,e.z,0),this.cache.rotationMatrix.extractRotation(t.object.matrixWorld),this.cache.normal4.applyMatrix4(this.cache.rotationMatrix),this.cache.normal.set(this.cache.normal4.x,this.cache.normal4.y,this.cache.normal4.z),this.data.hit=new b.E(t.point.clone(),this.cache.normal.clone(),t.object,t)}}else this.data.hit=null;this.data.commit()}init(){}render(){}dispose(){this.data.hit=null,this.data.hits.length=0,this.data.commit()}activate(){}deactivate(){}}var N=i(57793),w=i(41513),A=i(7721),I=i(29956);class k extends n.Y{constructor(){super(...arguments),this.name="raycaster",this.raycasterPointerData=new b.P,this.overridePointer=null,this.setOverridePointer=e=>{this.overridePointer=e}}async init(e,t){t.market.register(this,b.P,this.raycasterPointerData);const[i,n]=await Promise.all([t.getModuleBySymbol(s.Aj),t.market.waitForData(N.M)]),r=i.getCamera();this.raycaster=new g(r,n,w.Nr,null),t.addComponent(this,this.raycaster),this.defaultPointer=new T(this.raycaster,n),this.snapcaster=new S.n(n,t);const a=new _(this,this.raycasterPointerData,n);t.addComponent(this,a),t.broadcast(new A.em(I.Y.Raycaster)),t.broadcast(new A.em(I.Y.Octree)),t.broadcast(new A.em(I.Y.Snapping))}dispose(e){super.dispose(e),this.raycaster.dispose(),this.snapcaster.dispose()}setupOctree(e){this.raycaster.setupOctree(e),this.snapcaster.setupOctree(e)}setIntersectionFilter(e){this.raycaster.updateIntersectionFilter(e)}getOctree(){return this.raycaster.getOctree()}get pointer(){return null!==this.overridePointer?this.overridePointer:this.defaultPointer}get targets(){return this.raycaster}get picking(){return this.raycaster}get snapping(){return this.snapcaster}get data(){return this.raycasterPointerData}}},9832:(e,t,i)=>{"use strict";i.d(t,{fZ:()=>l,oM:()=>s,sH:()=>r,sp:()=>o,vU:()=>a});var n=i(56063);class s extends n.m{}s.id="RequestRenderTargetCommand";class r extends n.m{constructor(e,t){super(),this.payload={renderTarget:e,context:t}}}r.id="CONTEXT2D_CAPTURE";class a extends n.m{constructor(e,t,i){super(),this.payload={renderTarget:e,sceneObject:t,camera:i}}}a.id="SCREEN_CAPTURE";class o extends n.m{constructor(e,t,i){super(),this.payload={renderTarget:e,sceneObject:t,camera:i}}}o.id="RENDER_TO_CUBEMAP";class l extends n.m{constructor(e,t,i=0){super(),this.payload={renderTarget:e,texture:t,heading:i}}}l.id="EQUIRECTANGULAR_CAPTURE"},29433:(e,t,i)=>{"use strict";i.d(t,{Xk:()=>a,fY:()=>l,jJ:()=>o,vP:()=>r});var n=i(28721);let s=null;const r=async(e,t)=>{const n=new Uint8Array(e.width*e.height*4);if(e.readRenderTargetData(n),!s){const e=await Promise.all([i.e(764),i.e(548),i.e(718)]).then(i.bind(i,10548));s=e.createJpegEncodeWorker()}const r=n.buffer,a=await s.exec({data:r,width:e.width,height:e.height,options:{exif:t,quality:85,flipY:!0}},[r]);return new Uint8Array(a.data)},a=e=>new Blob([e],{type:"image/jpeg"}),o=e=>"data:image/jpg;base64,"+(0,n.$B)(e),l=(e,t,i,n)=>'http://ns.adobe.com/xap/1.0/\0<?xpacket begin="ï»¿" id="W5M0MpCehiHzreSzNTczkc9d"?><x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:GPano="http://ns.google.com/photos/1.0/panorama/"><GPano:CroppedAreaImageHeightPixels>'+t+"</GPano:CroppedAreaImageHeightPixels><GPano:CroppedAreaImageWidthPixels>"+e+"</GPano:CroppedAreaImageWidthPixels><GPano:CroppedAreaLeftPixels>0</GPano:CroppedAreaLeftPixels><GPano:CroppedAreaTopPixels>0</GPano:CroppedAreaTopPixels><GPano:FullPanoHeightPixels>"+t+"</GPano:FullPanoHeightPixels><GPano:FullPanoWidthPixels>"+e+"</GPano:FullPanoWidthPixels><GPano:ProjectionType>equirectangular</GPano:ProjectionType><GPano:UsePanoramaViewer>True</GPano:UsePanoramaViewer><GPano:InitialViewHeadingDegrees>"+i+"</GPano:InitialViewHeadingDegrees><GPano:InitialViewPitchDegrees>"+n+'</GPano:InitialViewPitchDegrees><GPano:CaptureSoftware>Matterport Camera</GPano:CaptureSoftware><GPano:StitchingSoftware>Matterport Cloud</GPano:StitchingSoftware></rdf:Description></rdf:RDF></x:xmpmeta><?xpacket end="w"?>'},54048:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ve});var n=i(67540),s=i(25589),r=i(24826),a=i(81396),o=i(76074);class l{constructor(e,t,i,n){this.rbushBbox={minX:0,minY:0,maxX:1,maxY:1},this.overlapsCircle=(()=>{const e=new a.Vector3;return(t,i)=>{const n=this.getVec3(e).distanceTo(t);return n<=i+.3?n:null}})(),this.overlapsLine=(()=>{const e=new a.Vector3,t=new a.Vector3,i=new a.Vector3;return(n,s)=>{const r=e.subVectors(s,n),a=this.getVec3(i),o=t.subVectors(a,n),l=o.dot(r)/r.length(),c=o.length();return Math.sqrt(c*c-l*l)<.3?[{entity:this,t:l/r.length()}]:[]}})(),this.id=e,this.floorId=t,this.x=i,this.z=n}getEntityAnalytic(){return"node"}getPoint(){return{x:this.x,z:this.z}}getVec3(e){const t=e||new a.Vector3;return t.set(this.x,0,this.z),t}getVec2(e){const t=e||new a.Vector2;return t.set(this.x,this.z),t}getViewCenter(e=new a.Vector3){return this.getVec3(e)}getSnapshot(){return{x:this.x,y:-this.z}}distanceTo(e){const t=this.x-e.x,i=this.z-e.z;return Math.sqrt(t*t+i*i)}updateRBushBBox(){this.rbushBbox={minX:this.x-o.dt,minY:this.z-o.dt,maxX:this.x+o.dt,maxY:this.z+o.dt}}get minX(){return this.rbushBbox.minX}get maxX(){return this.rbushBbox.maxX}get minY(){return this.rbushBbox.minY}get maxY(){return this.rbushBbox.maxY}}var c=i(83607);class d{constructor(e){this.afterAction=e,this.actions=[]}run(){for(const e of this.actions)e.run(),this.afterAction()}invert(){for(let e=this.actions.length-1;e>=0;e--){this.actions[e].invert(),this.afterAction()}}merge(e){if(0===this.actions.length)this.actions.push(e);else{const t=this.actions[this.actions.length-1];t&&t.merge(e)||this.actions.push(e)}return!0}logInfo(){return this.actions.map((e=>Object.assign({undo:!0},e.logInfo())))}lastAction(){return this.actions.length?this.actions[this.actions.length-1]:null}}var u=i(53257),h=i(85726);const p=new u.Z("undo-stack");class m{constructor(e){this.afterAction=e,this.undoBuffer=new c.P(50),this.finalized=!1,this.length=new h.f(0)}push(e){(this.undoBuffer.isEmpty()||this.finalized)&&(this.undoBuffer.push(new d(this.afterAction)),this.finalized=!1,this.length.value=this.undoBuffer.count);const t=this.undoBuffer.peek();t&&t.merge(e)}pushUndoStep(e){this.undoBuffer.isEmpty()||this.finalized||(p.warn("Adding an UndoStep when the previous step is not finalized."),this.finalize()),this.undoBuffer.push(e),this.length.value=this.undoBuffer.count}pop(){const e=this.undoBuffer.pop();return this.length.value=this.undoBuffer.count,e}peek(){const e=this.undoBuffer.peek();return this.length.value=this.undoBuffer.count,e}finalize(){this.finalized=!0}clear(){this.undoBuffer.clear(),this.length.value=this.undoBuffer.count}}var f=i(59491),g=i(69137),v=i(17516);class y{constructor(){this.data=new Map,this.addedObservers=new Set,this.updatedObservers=new Set,this.childUpdatedObservers=new Set,this.deletedObservers=new Set}clear(){this.data.clear()}get(e){return this.data.get(e)}set(e,t){this.data.set(e,t)}delete(e){this.data.delete(e)}has(e){return this.data.has(e)}get size(){return this.data.size}onChanged(e){return(0,f.k1)((()=>{e.onAdded&&this.addedObservers.add(e.onAdded),e.onUpdated&&this.updatedObservers.add(e.onUpdated),e.onChildUpdated&&this.childUpdatedObservers.add(e.onChildUpdated),e.onRemoved&&this.deletedObservers.add(e.onRemoved)}),(()=>{e.onAdded&&this.addedObservers.delete(e.onAdded),e.onUpdated&&this.updatedObservers.delete(e.onUpdated),e.onChildUpdated&&this.childUpdatedObservers.delete(e.onChildUpdated),e.onRemoved&&this.deletedObservers.delete(e.onRemoved)}),!0)}}var E=i(43517),b=i(82582),S=i.n(b);class O{constructor(e,t){this.data=e,this.inputs=t,this._outputCache=null}onRun(e){throw new Error("Method not implemented.")}onInvert(e,t){throw new Error("Method not implemented.")}run(){this._outputCache=this.onRun(this.inputs)}invert(){if(!this._outputCache)throw new Error("Attempted to inverse a data action before running it");this.onInvert(this._outputCache,this.inputs),this._outputCache=null}merge(e){return!1}get output(){if(this._outputCache)return this._outputCache;throw new Error("Tried to read output of an action before it was run")}logInfo(){return Object.assign({name:this.name()},this.inputs)}}class T extends O{onRun(e){const t=this.data.getNode(e.nodeId),i={x:t.x,z:t.z};return this.data._updateNode(e.nodeId,e.newPos),this.data._updateDependentsForNodes(t),{prevPos:i}}onInvert(e,t){this.data._updateNode(t.nodeId,e.prevPos);const i=this.data.getNode(t.nodeId);this.data._updateDependentsForNodes(i)}merge(e){return e instanceof T&&e.inputs.nodeId===this.inputs.nodeId&&(this.inputs.newPos=e.inputs.newPos,!0)}name(){return"MoveNode"}}class _ extends O{onRun(e){const t=this.data._createNode(e.from,e.floorId),i=this.data._createNode(e.to,e.floorId),n=this.data._createWall(e.type,t,i,e.width,[],.5);return{fromId:t.id,toId:i.id,wall:n.id}}onInvert(e,t){this.data._deleteWall(e.wall),this.data._deleteNode(e.fromId),this.data._deleteNode(e.toId)}merge(e){return!!(e instanceof T&&this._outputCache&&e.inputs.nodeId===this._outputCache.toId)&&(this.inputs.to=e.inputs.newPos,!0)}name(){return"AddFloatingEdge"}}class N extends O{onRun(e){const t=this.data.getWall(e.wallId),i=t.from.getPoint(),n=t.to.getPoint();return this.data._updateNode(t.from.id,e.newFromPos),this.data._updateNode(t.to.id,e.newToPos),this.data._updateDependentsForNodes(t.from,t.to),{prevFromPos:i,prevToPos:n}}onInvert(e,t){const i=this.data.getWall(t.wallId);this.data._updateNode(i.from.id,e.prevFromPos),this.data._updateNode(i.to.id,e.prevToPos),this.data._updateDependentsForNodes(i.from,i.to)}merge(e){return e instanceof N&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.newFromPos=e.inputs.newFromPos,this.inputs.newToPos=e.inputs.newToPos,!0)}name(){return"MoveEdge"}}class w extends O{onRun(e){const t=this.data.getNode(e.fromId),i=this.data._createNode(e.to,t.floorId),n=this.data._createWall(e.type,t,i,e.width,[],.5);return{toId:i.id,wall:n.id}}onInvert(e,t){this.data._deleteWall(e.wall),this.data._deleteNode(e.toId)}merge(e){return!!(e instanceof T&&this._outputCache&&e.inputs.nodeId===this._outputCache.toId)&&(this.inputs.to=e.inputs.newPos,!0)}name(){return"AddTrailingEdgeToNode"}}var A=i(17467);function I(e){return function(e){const t=e[0],i=e[e.length-1];return t[0]===i[0]&&t[1]===i[1]}(e)?e:[...e,e[0]]}var k=i(5696);function P(e,t){const[[i,n],[s,r]]=e,[[a,o],[l,c]]=t;if(i===a&&n===o)return!0;if(s===l&&r===c)return!0;if((0,k.s8)(e[0],t)||(0,k.s8)(e[1],t))return!0;if((0,k.s8)(t[0],e)||(0,k.s8)(t[1],e))return!0;const d=(c-o)*(s-i)-(l-a)*(r-n);if(0===d)return!1;const u=n-o,h=i-a,p=((l-a)*u-(c-o)*h)/d,m=((s-i)*u-(r-n)*h)/d;return p>0&&p<1&&m>0&&m<1}function L(e,t){let i=!1;const n=I(t);for(let t=0,s=n.length-1;t<s;t++){const s=n[t],r=n[t+1];if(P(e,[s,r])||(0,k.s8)(s,e)&&(0,k.s8)(r,e)){i=!0;break}}return i}var D=i(95360);function R(e,t){let i=!0;const n=I(e);for(let e=0,s=n.length-1;e<s;e++){const s=n[e];if(!(0,D.O)(s,t)){i=!1;break}if(L([s,n[e+1]],t)){i=!1;break}}return i}class M extends O{run(){super.run(),this.computeRooms(),this._outputCache&&this._outputCache.updateNodeDependencies.length&&this.data._updateDependentsForNodes(...this._outputCache.updateNodeDependencies.map((e=>this.data.getNode(e))))}onInvert(e,t){throw new Error("Method not implemented.")}invert(){let e;if(!this._outputCache)throw new Error("Attempted to inverse a data action before running it");e=this.onInvert(this._outputCache,this.inputs),this._outputCache=null;for(const e of this.modificationRecord.createdRooms)this.data._deleteRoom(e.id);const t=e=>({points:e.points.map((e=>this.data.getNode(e.id))),walls:new Set(Array.from(e.walls.values()).map((e=>this.data.getWall(e.id)))),holesCW:e.holesCW.map((e=>e.map((e=>this.data.getNode(e.id))))),holes:e.holes.map((e=>new Set(Array.from(e.values()).map((e=>this.data.getWall(e.id))))))});for(const e of this.modificationRecord.updatedRooms){const{points:i,walls:s,holesCW:r,holes:a}=t(e),o=new n.JJ({id:e.id,name:e.name,points:i,walls:s,holesCW:r,holes:a,location:e.location,includeInAreaCalc:e.includeInAreaCalc,hide:e.hide,keywords:e.keywords.slice(),classifications:e.classifications.slice(),height:e.height,ceiling:e.ceiling});this.data._updateRoom(e.id,o)}for(const e of this.modificationRecord.deletedRooms){const{points:i,walls:n,holesCW:s,holes:r}=t(e);this.data._createRoom({id:e.id,name:"",points:i,walls:n,holesCW:s,holes:r,location:e.location,includeInAreaCalc:e.includeInAreaCalc,hide:e.hide,keywords:e.keywords.slice(),classifications:e.classifications.slice(),height:e.height,ceiling:e.ceiling})}if(e){const t=e.map((e=>this.data.getNode(e)));this.data._updateDependentsForNodes(...t)}}wallsForLoop(e){const t=new Set;for(let i=0;i<e.length;i++)t.add(this.data.getWallForNodes(e[i].id,e[(i+1)%e.length].id));return t}computeRooms(){var e;this.modificationRecord={createdRooms:[],updatedRooms:[],deletedRooms:[]};const{regions:t,holes:i}=this.findEnclosedRegionsAndHoles(),r=this.mapHolesToRegions(i,t),a=r.map((e=>e.map((e=>this.wallsForLoop(e))))),o=t.map((e=>new Set(this.wallsForLoop(e)))),l=new Array;for(const e of this.data.rooms.values())for(let t=0;t<o.length;t++){const i=o[t],n=Array.from(e.walls.values()).reduce(((e,t)=>i.has(t)?e+1:e),0);n>0&&l.push({score:n/Math.max(i.size,e.walls.size),newWalls:i.size-n,oldRoomId:e.id,oldRoomClassifications:e.classifications,newRoomIndex:t})}const c=new Set,d=new Array(t.length),u=new Array(t.length);l.sort(((e,t)=>{var i,n;return t.score-e.score||((null===(i=this.data.rooms.get(t.oldRoomId))||void 0===i?void 0:i.area)||0)-((null===(n=this.data.rooms.get(e.oldRoomId))||void 0===n?void 0:n.area)||0)}));for(const{oldRoomId:e,newRoomIndex:t,oldRoomClassifications:i,newWalls:n}of l)c.has(e)||d[t]||(d[t]=e,c.add(e)),!u[t]&&n<=2&&(u[t]=i);for(let e=0;e<t.length;e++)d[e]||(d[e]=(0,s._r)());for(let i=0;i<t.length;i++){const s=d[i],o=t[i],l=new Set;for(let e=0;e<o.length;e++){const t=o[e],i=o[(e+1)%o.length],n=this.data.getWallForNodes(t.id,i.id);l.add(n)}const c=this.data.rooms.get(s);if(c){const e=new n.JJ({id:s,name:"",points:t[i],walls:l,holesCW:r[i],holes:a[i],location:c.location,includeInAreaCalc:c.includeInAreaCalc,hide:c.hide,keywords:c.keywords.slice(),classifications:c.classifications.slice(),height:c.height,ceiling:c.ceiling});(0,A.nb)(c.walls,e.walls)&&(0,A.nb)((0,A.dW)(...c.holes),(0,A.dW)(...e.holes))||(this.data._updateRoom(s,e),this.modificationRecord.updatedRooms.push(c))}else{const o=null!==(e=u[i])&&void 0!==e?e:[],c=(0,n.Rd)(o,n.GS.OUTDOOR)?n.Lh.OUTDOOR:n.Lh.INDOOR,d=!(0,n.Rd)(o,n.GS.NON_AREA),h=(0,n.Rd)(o,n.GS.HIDE),p=this.data._createRoom({id:s,name:"",points:t[i],walls:l,holesCW:r[i],holes:a[i],classifications:o.slice(),location:c,includeInAreaCalc:d,hide:h,keywords:[],height:NaN,ceiling:null});this.modificationRecord.createdRooms.push(p)}}const h=new Set(d);for(const e of this.data.rooms.values())h.has(e.id)||(this.data._deleteRoom(e.id),this.modificationRecord.deletedRooms.push(e))}findEnclosedRegionsAndHoles(){const e=new Array,t=new Array,i=new Set,n=new Set,s=(s,r)=>{const a=`${s.id}/${r.id}`,o=this.data.traceWallsFromTo(s,r),l=e=>{if(e.has(a))return!0;for(let t=0;t<o.length;t++){const i=o[t],n=o[(t+1)%o.length],s=`${i.id}/${n.id}`;e.add(s)}return!1},c=(0,g.SV)(o,!0);c>=.01?l(i)||e.push((0,g.xS)(o)):c<=-.01&&(l(n)||t.push((0,g.xS)(o).reverse()))};for(const e of this.data.walls.values())s(e.from,e.to),s(e.to,e.from);return{regions:e,holes:t}}mapHolesToRegions(e,t){const i=t.map((e=>[])),n=t.map((e=>(0,g.SV)(e))),s=t.map((e=>e.map((e=>[e.x,e.z]))));for(const r of e){const e=(0,g.SV)(r);let a=9999999,o=-1;const l=r.map((e=>[e.x,e.z]));for(let i=0;i<t.length;i++){const c=n[i];e>=c||r[0].floorId!==t[i][0].floorId||R(l,s[i])&&c<a&&(a=c,o=i)}o>=0&&i[o].push(r)}return i}}function C(e,t){const i=e.getWall(t.wallId).clone(),n=e.getEdgeCountForNode(i.from),s=e.getEdgeCountForNode(i.to);e._deleteWall(t.wallId);let r="none";1===n&&1===s?(r="both",e._deleteNode(i.from.id),e._deleteNode(i.to.id)):1===n?(r="from",e._deleteNode(i.from.id)):1===s?(r="to",e._deleteNode(i.to.id)):r="none";const a=[];switch(r){case"from":a.push(i.to.id);break;case"to":a.push(i.from.id);break;case"none":a.push(i.from.id,i.to.id)}return{deletedWall:i,deletedNodes:r,updateNodeDependencies:a}}function x(e,t){const i=t.deletedWall;let n,s;switch(t.deletedNodes){case"both":n=e._createNode({x:i.from.x,z:i.from.z},i.floorId,i.from.id),s=e._createNode({x:i.to.x,z:i.to.z},i.floorId,i.to.id),e._createWall(i.type,n,s,i.width,i.openings,i.bias,i.id);break;case"none":e._createWall(i.type,i.from,i.to,i.width,i.openings,i.bias,i.id);break;case"from":n=e._createNode({x:i.from.x,z:i.from.z},i.floorId,i.from.id),e._createWall(i.type,n,i.to,i.width,i.openings,i.bias,i.id);break;case"to":s=e._createNode({x:i.to.x,z:i.to.z},i.floorId,i.to.id),e._createWall(i.type,i.from,s,i.width,i.openings,i.bias,i.id);break;default:throw new Error(`${t.deletedNodes} is an invalid value`)}switch(t.deletedNodes){case"from":return[i.to.id];case"to":return[i.from.id];case"none":return[i.from.id,i.to.id];case"both":return[]}}class F extends M{onRun(e){return C(this.data,e)}onInvert(e,t){return x(this.data,e)}name(){return"DeleteEdge"}}function U(e,t,i){if(0===e.openings.length)return;const n=new a.Line3(e.from.getVec3(),e.to.getVec3()),s=t.map((e=>({wall:e,line:new a.Line3(e.from.getVec3(),e.to.getVec3())}))),r=(e,t)=>{const i=e.closestPointToPointParameter(t,!1);if(!(i<0||i>1))return i};for(const t of e.openings){const{type:e,width:o,relativePos:l,id:c}=t,d=n.at(l,new a.Vector3);for(const{wall:t,line:n}of s){const s=r(n,d);if(void 0!==s){i._createWallOpening(t,e,s,o,c);break}}}}function H(e,t){return t._createWall(e.type,e.from,e.to,e.width,e.openings,e.bias,e.id)}class j extends M{onRun(e){const t=this.data.getWall(e.fromWallId).clone(),i=t.getDirection().normalize().multiplyScalar(e.along),n=t.from.getVec3().add(i);this.data._deleteWall(e.fromWallId);const s=this.data._createNode({x:n.x,z:n.z},t.floorId),r=this.data._createNode(e.to,t.floorId),a=this.data._createWall(e.type,s,r,e.width,[],.5),o=this.data._createWall(t.type,t.from,s,t.width,[],t.bias),l=this.data._createWall(t.type,s,t.to,t.width,[],t.bias);return U(t,[o,l],this.data),{deletedWall:t,newTrailingWall:a,newLeftWall:o,newRightWall:l,newNodeToId:r.id,updateNodeDependencies:[]}}onInvert(e,t){const{deletedWall:i,newTrailingWall:n,newLeftWall:s,newRightWall:r}=e;return this.data._deleteWall(n.id),this.data._deleteWall(s.id),this.data._deleteWall(r.id),this.data._deleteNode(n.from.id),this.data._deleteNode(n.to.id),H(i,this.data),[]}merge(e){return!!(e instanceof T&&this._outputCache&&e.inputs.nodeId===this._outputCache.newTrailingWall.to.id)&&(this.inputs.to=e.inputs.newPos,!0)}name(){return"AddTrailingEdgeToEdge"}}class V extends O{onRun({wallId:e,props:t}){const i=this.data.getWall(e),n={};for(const e of Object.keys(t))n[e]=i[e];return this.data._setEdgeProps(e,t),{wallId:e,props:n}}onInvert({wallId:e,props:t},i){this.data._setEdgeProps(e,t)}merge(e){return e instanceof V&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.props.width=e.inputs.props.width,this.inputs.props.bias=e.inputs.props.bias,!0)}name(){return"SetEdgeProps"}}class B extends M{onRun(e){const t=this.data.getWall(e.wallId),i=[],n=[],s=[],r={originalFromPos:t.from.getPoint(),originalToPos:t.to.getPoint(),deletedWalls:n,createdWalls:i,originalWallId:e.wallId,createdNodes:s,updateNodeDependencies:[]};return e.fromNode&&this.createJoint(t.from,t,n,i,s),e.toNode&&this.createJoint(t.to,t,n,i,s),r}onInvert(e,t){for(const t of e.createdWalls)this.data._deleteWall(t.id);for(const t of e.deletedWalls)H(t,this.data);for(const t of e.createdNodes)this.data._deleteNode(t.id);const i=this.data.getWall(this.inputs.wallId);return this.data._updateNode(i.from.id,e.originalFromPos),this.data._updateNode(i.to.id,e.originalToPos),[i.from.id,i.to.id]}merge(e){return e instanceof N&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.fromPos=e.inputs.newFromPos,this.inputs.toPos=e.inputs.newToPos,!0)}createJoint(e,t,i,n,s){const r=this.data._createNode({x:e.x,z:e.z},e.floorId),a=this.data.getWallsForNode(e);for(const s of a){const a=s.clone();if(a.id!==t.id){const t=a.getOtherNode(e);i.push(a),this.data._deleteWall(a.id);const s=a.from===t?this.data._createWall(a.type,t,r,a.width,[],a.bias):this.data._createWall(a.type,r,t,a.width,[],a.bias);U(a,[s],this.data),n.push(s)}}s.push(r);const o=t.from===e?this.data._createWall(t.type,r,t.from,t.width,[],t.bias):this.data._createWall(t.type,t.to,r,t.width,[],t.bias);n.push(o)}name(){return"AddJointToNode"}}class G extends M{onRun(e){const t=this.data.getNode(e.nodeId),i=Array.from(this.data.getWallsForNode(t).values());if(2!==i.length)throw new Error("Can only delete nodes with two edges on it");const n=i[0].clone(),s=n.getOtherNode(t),r=i[1].clone(),a=r.getOtherNode(t);this.data._deleteWall(n.id),this.data._deleteWall(r.id),this.data._deleteNode(t.id);const o=this.data.newWallWouldIntersect({n0:s,n1:a})?null:this.data._createWall(n.type,s,a,(n.width+r.width)/2,[],(n.bias+r.bias)/2);return o&&(U(n,[o],this.data),U(r,[o],this.data)),{deletedNode:t,deletedWall1:n,deletedWall2:r,createdWall:o,updateNodeDependencies:[]}}onInvert(e,t){const{createdWall:i,deletedNode:n,deletedWall1:s,deletedWall2:r}=e;i&&this.data._deleteWall(i.id),this.data._createNode(n.getPoint(),n.floorId,n.id);for(const e of[s,r])H(e,this.data);return[]}name(){return"DeleteNode"}}class W extends M{onRun(e){const t=this.data.getNode(e.fromId),i=this.data.getNode(e.toId);return{wall:this.data._createWall(e.type,t,i,e.width,[],.5).id,updateNodeDependencies:[]}}onInvert(e,t){return this.data._deleteWall(e.wall),[]}name(){return"AddBridgingEdge"}}class z extends O{onRun(e){const{id:t}=e,i=this.data.getOpening(t),{type:n,relativePos:s,width:r}=i;return this.data._setOpeningDetails(t,e),{id:t,type:n,relativePos:s,width:r}}onInvert(e,t){const{id:i}=e;this.data._setOpeningDetails(i,e)}name(){return"EditOpeningDetails"}}class K extends O{onRun(e){const{openingId:t}=e,i=this.data.getOpening(t);return this.data._deleteWallOpening(t),{deletedOpening:i}}onInvert(e,t){const{id:i,wallId:n,type:s,relativePos:r,width:a}=e.deletedOpening,o=this.data.getWall(n);this.data._createWallOpening(o,s,r,a,i)}name(){return"DeleteWallOpening"}}class Y extends O{onRun(e){const{wallId:t,type:i,relativePos:n,width:s}=e,r=this.data.getWall(t);return{openingId:this.data._createWallOpening(r,i,n,s).id}}onInvert(e,t){const{openingId:i}=e;this.data._deleteWallOpening(i)}name(){return"AddOpeningAction"}}function q(e,t,i,n){const s=t.getOtherNode(i);return s!==n&&!e.hasWallBetween(s,n)}function $(e,t){const i=[],n=[],s=[],r=[],a=new Set;for(const o of t){const t=[],{mergeId:l,keepId:c}=o;a.add(c);const d=e.getNode(l),u=e.getNode(c),h=e.getWallsForNode(u),p=u.getPoint();n.push(d),s.push(c),r.push(p),e._updateNode(u.id,d.getPoint());const m=e.getWallsForNode(d);for(const i of m){const n=i.clone(),s=i.getOtherNode(d),r=i.width;e._deleteWall(i.id);let a=null;q(e,i,d,u)&&(e.hasWallBetween(s,u)||(a=e._createWall(i.type,s,u,r,[],i.bias),U(n,[a],e),h.add(a))),t.push({deleted:n,created:a}),h.delete(i)}e._deleteNode(d.id),0===h.size&&(e._deleteNode(u.id),n.push(u)),i.push(t)}return{deletedNodes:n,wallDiffs:i,oldKeepNodeIds:s,oldKeepNodePositions:r,updateNodeDependencies:a}}function Z(e,t){const i=[];for(let n=t.deletedNodes.length-1;n>=0;n--){const s=t.deletedNodes[n],r=t.wallDiffs[n],a=e._createNode(s.getPoint(),s.floorId,s.id);i.push(a.id);for(const t of r){t.created&&e._deleteWall(t.created.id);let i=a,n=t.deleted.getOtherNode(s);if(a.id!==t.deleted.from.id){const e=i;i=n,n=e}e._createWall(t.deleted.type,i,n,t.deleted.width,t.deleted.openings,t.deleted.bias,t.deleted.id)}e._updateNode(t.oldKeepNodeIds[n],t.oldKeepNodePositions[n])}return t.oldKeepNodeIds}function Q(e,t){const i=[],n=new Set;for(const s of t){const t=e.getNode(s),a=e.getAttachedEntities(t),o=e.findNodeOrWallForPosition(t.getVec3(),t.floorId,a);if(o&&o instanceof r.c){const r=o.getProjection(t.getVec3()),a=o.clone(),l={x:t.x,z:t.z},c=a.getDirection().normalize().multiplyScalar(r),d=a.from.getVec3().add(c);e._deleteWall(a.id),e._updateNode(s,{x:d.x,z:d.z});const u=e.hasWallBetween(a.from,t)?null:e._createWall(a.type,a.from,t,a.width,[],a.bias),h=e.hasWallBetween(t,a.to)?null:e._createWall(a.type,t,a.to,a.width,[],a.bias);U(a,[u,h].filter((e=>!!e)),e),i.push({deletedWall:a,newLeftWall:u,newRightWall:h,prevNodePos:l,nodeId:t.id}),n.add(t.id)}}return{splitDiffs:i,updateNodeDependencies:n}}function X(e,t){for(let i=t.splitDiffs.length-1;i>=0;i--){const{newLeftWall:n,newRightWall:s,deletedWall:r,prevNodePos:a,nodeId:o}=t.splitDiffs[i];n&&e._deleteWall(n.id),s&&e._deleteWall(s.id),e._updateNode(o,a),H(r,e)}return t.splitDiffs.map((e=>e.nodeId))}function J(e,t){const i=[],n=function(e){const t=[];for(const i of e){if(2!==i.length)throw new Error("Can only merge co-linear overlaps");if(0===t.length){t.push(i);continue}const e=t[t.length-1],n=e[1];if(i[0].t<n.t+.001){const s=i[1];s.t>=n.t&&(t[t.length-1]=[e[0],s])}else t.push(i)}return t}(t);if(n[0][0].t>0){const t=n[0][0].entity;i.push([e.from,t])}for(let e=0;e<n.length-1;e++){const t=n[e],s=n[e+1],r=t[1].entity,a=s[0].entity;i.push([r,a])}if(n[n.length-1][1].t<1){const t=n[n.length-1][1].entity;i.push([t,e.to])}return i}class ee extends M{onRun(e){return ie(e,this.data)}onInvert(e,t){return ne(e,this.data)}name(){return"MergeOverlappingEntities"}}class te extends M{onRun(e){const t={},i=[];for(const e of this.data.getFloorsWithNodes()){const n=this.data.getNodesByFloor(e);if(n.size>0){const s=Array.from(n.values())[0],r=this.data.findOverlappingEntities(s);if(r){const n=ie({movedEntity:s,nodeOverlaps:r.nodeOverlaps,nodeWallOverlaps:r.nodeWallOverlaps,collinearWall:r.collinearWall,intersectingWall:r.intersectingWall},this.data);t[e]=n,i.push(...n.updateNodeDependencies)}}}return{overlapsByFloor:t,updateNodeDependencies:i}}onInvert(e,t){const i=[];for(const t in e.overlapsByFloor){const n=ne(e.overlapsByFloor[t],this.data);i.push(...n)}return i}name(){return"ValidateGraphAndComputeRooms"}}function ie(e,t){const i=function(e,t,i){const n=[],s=new Set;let r=t,a=0;for(;(r.nodeOverlaps.length>0||r.nodeWallOverlaps.length>0)&&a<10;){const t=$(e,r.nodeOverlaps);for(const e of t.updateNodeDependencies)s.add(e);const o=Q(e,r.nodeWallOverlaps);for(const e of o.updateNodeDependencies)s.add(e);n.push({nodeMergeInvertInfo:t,nodeWallInvertInfo:o}),r=e.findOverlappingNodePairs(i),a++}for(const e of n){const t=e.nodeMergeInvertInfo.deletedNodes;for(const e of t)s.delete(e.id)}return{nodeMergeBatches:n,updateNodeDependencies:Array.from(s)}}(t,{nodeOverlaps:e.nodeOverlaps,nodeWallOverlaps:e.nodeWallOverlaps},e.movedEntity);let n=[];e.collinearWall&&(n=function(e,t){const i=[];let n=e.findWallWithWorstOverlaps(t,"colinear"),s=0;for(;null!=n&&s<10;){const r=n.wall;e._deleteWall(r.id);const a=J(n.wall,n.overlaps).filter((t=>!e.hasWallBetween(t[0],t[1]))).map((t=>e._createWall(r.type,t[0],t[1],r.width,[],r.bias)));i.push({deletedWall:r,createdWalls:a}),n=e.findWallWithWorstOverlaps(t,"colinear"),s++}return i}(t,e.collinearWall.floorId));let s=[];return e.intersectingWall&&(s=function(e,t){const i=[];let n=e.findWallWithWorstOverlaps(t,"intersection"),s=0;for(;null!=n&&s<10;){const r=[],a=[],o=[],l=n.wall.clone();if(r.push(l),e._deleteWall(n.wall.id),null!=n){let s=n.wall.from;const c=n.wall.getDirection();for(const i of n.overlaps){if(1!==i.length)throw new Error("possible bug in RoomBoundData.findWallWithWorstOverlaps, it should only return walls intersecting at ONE point");const d=i[0],u=d.entity.clone();r.push(u),e._deleteWall(d.entity.id);const h=n.wall.from.getVec3().addScaledVector(c,i[0].t),p=i[0].entity,m=e._createNode(h,t);a.push(m);const f=e._createWall(n.wall.type,s,m,n.wall.width,[],n.wall.bias);s=m,o.push(f),U(l,[f],e);const g=e._createWall(p.type,p.from,m,p.width,[],p.bias);o.push(g);const v=e._createWall(p.type,p.to,m,p.width,[],p.bias);o.push(v),U(u,[g,v],e)}const d=e._createWall(n.wall.type,s,n.wall.to,n.wall.width,[],n.wall.bias);o.push(d),U(l,[d],e),i.push({createdWalls:o,createdNodes:a,deletedWalls:r})}n=e.findWallWithWorstOverlaps(t,"intersection"),s++}return i}(t,e.intersectingWall.floorId)),{nodeOverlapInvertInfo:i,intersectionSplitInvertInfo:s,collinearOverlapInvertInfo:n,updateNodeDependencies:i.updateNodeDependencies}}function ne(e,t){!function(e,t){for(let i=t.length-1;i>=0;i--){const n=t[i];for(const t of n.createdWalls)e._deleteWall(t.id);for(const t of n.createdNodes)e._deleteNode(t.id);for(const t of n.deletedWalls)H(t,e)}}(t,e.intersectionSplitInvertInfo),function(e,t){for(let i=t.length-1;i>=0;i--){const n=t[i],s=n.deletedWall;n.createdWalls.forEach((t=>e._deleteWall(t.id))),H(s,e)}}(t,e.collinearOverlapInvertInfo);return function(e,t){const i=[];for(let n=t.nodeMergeBatches.length-1;n>=0;n--){const{nodeMergeInvertInfo:s,nodeWallInvertInfo:r}=t.nodeMergeBatches[n],a=X(e,r),o=Z(e,s);i.push(...a,...o)}return i}(t,e.nodeOverlapInvertInfo)}var se=i(61077),re=i(80383);class ae extends O{onRun({roomId:e,name:t,roomTypeIds:i,location:n,includeInAreaCalc:s,hide:r,keywords:a,showDimensions:o,showHeight:l}){const c=this.data.getRoom(e),d={roomId:e,name:c.name,roomTypeIds:c.roomTypeIds.slice(),includeInAreaCalc:c.includeInAreaCalc,hide:c.hide,keywords:c.keywords.slice(),showDimensions:c.showDimensions,showHeight:c.showHeight};return this.data._updateRoomDetails(e,{name:t,roomTypeIds:i,location:n,includeInAreaCalc:s,hide:r,keywords:a,showDimensions:o,showHeight:l}),d}onInvert({roomId:e,name:t,roomTypeIds:i,location:n,includeInAreaCalc:s,hide:r,showDimensions:a,showHeight:o},l){this.data._updateRoomDetails(e,{name:t,roomTypeIds:i,location:n,includeInAreaCalc:s,hide:r,showDimensions:a,showHeight:o})}name(){return"SetRoomDetails"}}var oe=i(43627),le=i(96783),ce=i(87389),de=i(71369),ue=i(3835);class he extends M{onRun({roomId:e}){const t={deletedEdges:[],updateNodeDependencies:[]},i=this.data.getRoom(e);for(const e of i.walls){if(1===Array.from(this.data.getRoomsForWall(e)).filter((t=>t.walls.has(e))).length){const i=C(this.data,{wallId:e.id});t.deletedEdges.push(i),t.updateNodeDependencies.push(...i.updateNodeDependencies)}}for(const e of t.deletedEdges){const i=[];switch(e.deletedNodes){case"from":i.push(e.deletedWall.from.id);break;case"to":i.push(e.deletedWall.to.id);break;case"both":i.push(e.deletedWall.from.id,e.deletedWall.to.id)}t.updateNodeDependencies=t.updateNodeDependencies.filter((e=>-1===i.indexOf(e)))}return t}onInvert(e,t){let i=[];for(const t of e.deletedEdges.reverse())i=i.concat(x(this.data,t));return i}name(){return"DeleteRoom"}}var pe=i(49668),me=i(28721);const fe=new Set;var ge;!function(e){e[e.CREATE=0]="CREATE",e[e.UPDATE=1]="UPDATE",e[e.DELETE=2]="DELETE"}(ge||(ge={}));class ve{constructor(e,t={},i=(()=>{})){this.roomClassifications=t,this.broadcast=i,this.name="wall-graph",this.version=0,this.legacyRoomIds=[],this.raycast=null,this.calcCeilings=null,this.onActionError=e=>{this.logger.error(e)},this._nodes=new y,this._walls=new y,this._rooms=new y,this._wallOpenings=new y,this.undoBuffer=new m(this.commit.bind(this)),this._nodeToWallMap=new Map,this._nodesByFloor=new Map,this._wallToRoomMap=new Map,this._wallsByFloor=new Map,this._wallsByCompositeKey=new Map,this._observerQueue=[],this._deleteSet=new Set,this._anythingChangeObservers=new Set,this._afterFinalizeObservers=new Set,this.logger=new u.Z("wall-graph"),this.isLoading=!1,this.spatialIndex=new Map,this.actionList=[],this._roomsNeedingCeilingCalc=new Set,this._inFlightRoomCeilingsCalc=new Set,this.getRelativeAngle=(()=>{const e=new a.Vector2,t=new a.Vector2,i=new a.Vector2,n=(t,i)=>{if(0===t.lengthSq()){const n=this.getNodeNeighbors(i);if(0===n.size)return;const s=Array.from(n.values())[0];t.set(s.x,s.z).sub(e)}};return(s,r,a)=>{if(r===a)return 2*Math.PI;e.set(s.x,s.z),t.set(r.x,r.z).sub(e),n(t,r),i.set(a.x,a.z).sub(e),n(i,a);const o=Math.atan2(t.y,t.x);let l=-(Math.atan2(i.y,i.x)-o);return l<0&&(l+=2*Math.PI),l}})(),this.newWallWouldIntersect=(()=>{const e=new a.Vector2,t=new a.Vector2,i=new a.Vector2,n=new a.Vector2,s=new a.Vector2,r=new a.Vector2,o=new a.Vector2,l=new a.Vector2;return({n0:a,n1:c,n0OverridePos:d,n1OverridePos:u,wallToIgnore:h})=>{if(this.hasWallBetween(a,c)){if(!h)return!0;if(this.getWallForNodes(a.id,c.id)!==h)return!0}const p=e=>Math.round(1e3*e)/1e3,m=(e,t)=>{e===a&&d?t.copy(d):e===c&&u?t.copy(u):e.getVec2(t)};if(m(a,e),m(c,t),i.subVectors(e,t).length()<1e-4)return!1;const f=[[p(e.x),p(e.y)],[p(t.x),p(t.y)]],v=[[0,0],[0,0]];for(const e of this._walls.data.values()){if(a.floorId!==e.floorId||e===h)continue;if(m(e.from,n),m(e.to,s),i.subVectors(n,s).length()<1e-4)continue;if(v[0][0]=p(n.x),v[0][1]=p(n.y),v[1][0]=p(s.x),v[1][1]=p(s.y),(0,g.OH)(f,v))return!0;const t=e.to===a||e.from===a?a:e.to===c||e.from===c?c:void 0;if(t){const i=e.getOtherNode(t),n=t===a?c:a;m(t,r),m(i,o),m(n,l),o.sub(r),l.sub(r);const s=Math.atan2(o.y,o.x);let d=-(Math.atan2(l.y,l.x)-s);d<0&&(d+=2*Math.PI);const u=d,h=2*Math.PI/180;if(u<h||u>2*Math.PI-h)return!0}}return!1}})(),this._updateDependentsForNodes=(()=>{const e=new Set,t=new Set;return(...i)=>{e.clear(),t.clear();const n=i=>{if(!e.has(i)){this.removeFromSpatialIndex(i),this.insertIntoSpatialIndex(i),this._scheduleUpdate(this._walls,i,!0);const n=this._wallToRoomMap.get(i);if(n)for(const e of n.values())t.has(e)||(this._scheduleUpdate(this._rooms,e,!0),e.pointsMoved(),this.calculateRoomInsights(e),t.add(e));for(const e of i.openings)this._scheduleUpdate(this._wallOpenings,e,!0);e.add(i)}};for(const e of i){const t=this._nodeToWallMap.get(e);if(null!=t)for(const i of t){n(i);const t=i.getOtherNode(e),s=this._nodeToWallMap.get(t);if(null!=s)for(const e of s)n(e)}}}})(),this.lowDiscrepancySampleTriangle=(()=>{const e=new a.Vector2(1,0),t=new a.Vector2(0,1),i=new a.Vector2(0,0),n=new a.Vector2,s=new a.Vector2,r=new a.Vector2,o=new a.Vector2,l=new a.Vector3;return(a,c)=>{e.set(1,0),t.set(0,1),i.set(0,0);for(let o=0;o<c;o++){switch(a>>2*o&3){case 0:n.addVectors(t,i).multiplyScalar(.5),s.addVectors(e,i).multiplyScalar(.5),r.addVectors(e,t).multiplyScalar(.5);break;case 1:n.copy(e),s.addVectors(e,t).multiplyScalar(.5),r.addVectors(e,i).multiplyScalar(.5);break;case 2:n.addVectors(t,e).multiplyScalar(.5),s.copy(t),r.addVectors(t,i).multiplyScalar(.5);break;case 3:n.addVectors(i,e).multiplyScalar(.5),s.addVectors(i,t).multiplyScalar(.5),r.copy(i)}e.copy(n),t.copy(s),i.copy(r)}return o.addVectors(e,t).add(i).multiplyScalar(1/3),l.set(o.x,o.y,1-o.x-o.y),l}})(),e&&(this.version=e.version,this.load(e))}load(e){var t,i;this.isLoading=!0;for(const e of Array.from(this.rooms.values()))this._deleteRoom(e.id);for(const e of Array.from(this.walls.values()))this._deleteWall(e.id);for(const e of Array.from(this.nodes.values()))this._deleteNode(e.id);for(const[e,t]of this.spatialIndex)t.clear();this.commit();for(const s in e.floors){const a=e.floors[s],l=a.vertices,c=new(S());this.spatialIndex.set(s,c);const d=[];for(const e in l){const t=l[e],i=this._createNode({x:t.x,z:-t.y},s,e);i.updateRBushBBox(),d.push(i)}c.load(d);const u=[];for(const e in a.edges){const n=a.edges[e],[s,l]=null!==(t=n.vertices)&&void 0!==t?t:e.split(":"),c=n.thickness,d=this.getNode(s),h=this.getNode(l),p=n.type===re.Pb.INVISIBLE,m=this._createWall(p?r.d.DIVIDER:r.d.SOLID,d,h,p?o.kM:c,[],null!==(i=n.bias)&&void 0!==i?i:.5,e);if(m.bias=1-m.bias,m.updateRBushBBox(),u.push(m),!p)for(const e in n.openings){const{relativePos:t,type:i,width:s}=n.openings[e];this._createWallOpening(m,i,t,s,e)}}if(c.load(u),a.rooms)for(const e in a.rooms){const t=a.rooms[e],i=t.edges||[],s=t.holes||[];if(!i.length&&t.vertices)for(let e=0;e<t.vertices.length;e++){const n=t.vertices[e],s=t.vertices[(e+1)%t.vertices.length];i.push(this.getWallForNodes(n,s).id)}if(0===i.length){this.legacyRoomIds.push(e),this.logger.info("Skipping room with zero vertices",e);continue}const r=this.getWall(i[0]),o=new Set(i.map((e=>this.getWall(e)))),l=this.traceWallsFromTo(r.from,r.to,o),c=this.traceWallsFromTo(r.to,r.from,o),d=l.length>c.length?l:c;if(0===d.length){this.logger.warn("No node loop found for room: ",e);continue}(0,g.xS)(d);const u=new Set;for(const e of o)u.add(e.from),u.add(e.to);(0,A.nb)(new Set(d),u)||this.logger.warn("Traced room does not match edge list!",e,d,u);const h=[],p=[];for(const e of s){if(0===e.length)continue;const t=new Set(e.map((e=>this.getWall(e))));p.push(t);const i=this.getWall(e[0]),n=this.traceWallsFromTo(i.from,i.to,t);(0,g.xS)(n).reverse(),h.push(n)}const{location:m,includeInAreaCalc:f,hide:v,keywords:y}=(0,n.Ci)(t.keywords||[]),E=this._createRoom({id:e,name:t.label||"",points:d,walls:o,holesCW:h,holes:p,classifications:this.translateClassificationLabels(t.classifications),location:m,includeInAreaCalc:f,hide:v,keywords:y,height:t.height||NaN,ceiling:t.ceiling||null}),b=null!=t.width&&0===t.width;null!=t.length&&0===t.length&&b&&(E.showDimensions=!1),E.showHeight=null===t.height||0!==t.height,t.width&&!Number.isNaN(t.width)&&Math.abs(t.width-E.width)>.001&&this.logger.debug(`Room ${e} has width of ${t.width} on MDS but calculated as ${E.width} locally`),t.length&&!Number.isNaN(t.length)&&Math.abs(t.length-E.length)>.001&&this.logger.debug(`Room ${e} has length of ${t.length} on MDS but calculated as ${E.length} locally`),t.area&&!Number.isNaN(t.area)&&Math.abs(t.area-E.area)>=.01&&this.logger.debug(`Room ${e} has area of ${t.area} on MDS but calculated as ${E.area} locally`)}}this.lastSolidWallWidth=void 0,this.isLoading=!1}get walls(){return this._walls.data}get nodes(){return this._nodes.data}get rooms(){return this._rooms.data}get wallOpenings(){return this._wallOpenings.data}getNode(e){const t=this._nodes.get(e);if(t)return t;this.logAndThrow(new Error("WallNode does not exist in WallGraphData"))}getWall(e){const t=this._walls.get(e);if(t)return t;this.logAndThrow(new Error("Wall does not exist in WallGraphData"))}hasRoom(e){return!!this._rooms.get(e)}hasRooms(){return this._rooms.size>0}getRoom(e){const t=this._rooms.get(e);return t||this.logAndThrow(new Error("Room id is invalid!")),t}getOpening(e){const t=this._wallOpenings.get(e);return t||this.logAndThrow(new Error("Opening id is invalid")),t}getEntity(e){const t=this._walls.get(e)||this._nodes.get(e)||this._rooms.get(e)||this._wallOpenings.get(e);return t||this.logAndThrow(new Error("No entity for id.")),t}tryGetEntity(e){return this._walls.get(e)||this._nodes.get(e)||this._rooms.get(e)||this._wallOpenings.get(e)||null}getEdgeCountForNode(e){var t;return(null===(t=this._nodeToWallMap.get(e))||void 0===t?void 0:t.size)||0}getWallsForNode(e){const t=this._nodeToWallMap.get(e);if(t&&t.size>0)return t;this.logAndThrow(new Error("WallNode has no associate walls, this should not happen unless inside an action"))}getFloorsWithNodes(){return Array.from(this._nodesByFloor.keys())}getWallsForFloor(e){const t=this._wallsByFloor.get(e);return t&&t.size>0?t:null}getNodesByFloor(e){const t=this._nodesByFloor.get(e),i=new Set;return t||(this._nodesByFloor.set(e,i),i)}getRoomsForWall(e){return this._wallToRoomMap.get(e)||new Set}getWallNeighbors(e,t){const i=e[t],n=this.getEdgeCountForNode(i);if(1===n)return null;if(2!==n){const n=(()=>{const e=new a.Vector2;return(t,i)=>{const n=i.getOtherNode(t);e.set(n.x-t.x,n.z-t.z).normalize();return e.angle()}})(),s=this._nodeToWallMap.get(i);if(!s||0===s.size)return null;const r=Array.from(s).sort(((e,t)=>n(i,e)-n(i,t))),o=r.indexOf(e);let l=(o+1)%r.length,c=o-1<0?r.length-1:o-1;if("from"===t){const e=c;c=l,l=e}return{left:r[l],right:r[c]}}{const t=this._nodeToWallMap.get(i);if(!t||0===t.size)return null;for(const i of t)if(i.id!==e.id)return{left:i,right:i}}this.logAndThrow(new Error("Not finding both neighbors should never happen"))}getLastWallWidth(e){return e===r.d.SOLID&&this.lastSolidWallWidth?this.lastSolidWallWidth:this.getMostCommonWallWidth(e)}getMostCommonWallWidth(e){if(e===r.d.DIVIDER)return o.kM;const t={};for(const e of this._walls.data.values()){const i=e.width.toFixed(2);t[i]=t[i]?t[i]+1:1}let i=o.Oz,n=0;for(const[e,s]of Object.entries(t))s>n&&Number(e)>o.kM&&(n=s,i=Number(e));return i}findRoomIdForPosition(e,t,i){const n={x:e.x,y:e.z},s=this._rooms.get(i||"");if(s&&i){const e=s.points.map((e=>({x:e.x,y:e.z})));if((0,se.L)(n,e))return i}for(const e of this._rooms.data.values()){if(e.floorId!==t)continue;const i=e.points.map((e=>({x:e.x,y:e.z})));if((0,se.L)(n,i))return e.id}return null}findNodeOrWallForPosition(e,t,i,n=o.et){const s=this.spatialIndex.get(t);if(s){const t=s.search({minX:e.x-n,minY:e.z-n,maxX:e.x+n,maxY:e.z+n});let a=null,o=null,c=Number.MAX_VALUE,d=Number.MAX_VALUE;for(const s of t){const t=s.overlapsCircle(e,n);null==t||i.has(s.id)||(s instanceof r.c&&t<c&&(a=s,c=t),s instanceof l&&t<d&&(o=s,d=t))}return o||a}return null}findNodeAndWallsOverlappingLine(e,t,i,n=(()=>!0)){const s=this.spatialIndex.get(i),r=.05,a=[];if(s){const i=s.search({minX:Math.min(e.x,t.x)-r,minY:Math.min(e.z,t.z)-r,maxX:Math.max(e.x,t.x)+r,maxY:Math.max(e.z,t.z)+r});for(const s of i)if(n(s)){const i=s.overlapsLine(e,t);i.length>0&&a.push(i)}}return a}findOverlappingNodePairs(e){const t=e.floorId,i=[],n=new Set,s=new Set,a=[],o=this.getNodesByFloor(t);for(const c of o){const o=this.getAttachedEntities(c),d=this.findNodeOrWallForPosition(c.getVec3(),t,o);if(d)if(d instanceof l){const t=[c.id,d.id].sort().join(":");if(!n.has(t)){let r=c.id,a=d.id;if(a===e.id){const e=a;a=r,r=e}s.has(a)||s.has(r)||(i.push({keepId:r,mergeId:a}),n.add(t),s.add(a))}}else d instanceof r.c&&(s.has(c.id)||a.push(c.id))}return{nodeOverlaps:i,nodeWallOverlaps:a}}findWallWithWorstOverlaps(e,t){let i=[],n=null;const s=this.getWallsForFloor(e),a="colinear"===t?2:1;if(s)for(const e of s){const s="intersection"===t?this.getAttachedEntities(e.from):fe,o="intersection"===t?this.getAttachedEntities(e.to):fe,l=this.findNodeAndWallsOverlappingLine(e.from.getVec3(),e.to.getVec3(),e.floorId,(t=>t instanceof r.c&&t.id!==e.id&&!s.has(t.id)&&!o.has(t.id))).filter((e=>e.length===a));l.length>0&&l.length>i.length&&(i=l,n=e)}return null!=n?{wall:n,overlaps:i.sort(((e,t)=>e[0].t-t[0].t))}:null}findOverlappingEntities(e){const t=e.floorId,{nodeOverlaps:i,nodeWallOverlaps:n}=this.findOverlappingNodePairs(e),s=this.findWallWithWorstOverlaps(t,"colinear"),r=this.findWallWithWorstOverlaps(t,"intersection");if(i.length>0||n.length>0||r||s){return{nodeOverlaps:i,nodeWallOverlaps:n,intersectingWall:r?r.wall:void 0,collinearWall:s?s.wall:void 0}}return null}getSortedRoomClassifications(){return Object.values(this.roomClassifications).sort(((e,t)=>e.label.localeCompare(t.label)))}hasWallBetween(e,t){const i=r.c.getCompositeKey(e.id,t.id);return this._wallsByCompositeKey.has(i)}getWallForNodes(e,t){const i=r.c.getCompositeKey(e,t),n=this._wallsByCompositeKey.get(i);return n||this.logAndThrow(new Error("getWallForNodes: No wall exists for these nodes!")),n}canDeleteEntity(e){if(null!=e){const t=this.getEntity(e);if(t instanceof l){if(2!==this.getEdgeCountForNode(t))return!1;let e;for(const i of this.getWallsForNode(t).values()){if(void 0!==e&&i.type!==e)return!1;e=i.type}return!0}if(t instanceof n.JJ){return!!Array.from(t.walls).find((e=>1===Array.from(this.getRoomsForWall(e)).filter((t=>t.walls.has(e))).length))}return t instanceof r.c||t instanceof v.E}return!1}undo(){const e=this.undoBuffer.pop();if(e){try{this.actionList.push(e.logInfo()),e.invert()}catch(e){return void this.onActionError(e)}this.commit(),this._triggerFinalizeObservers()}}availableUndos(){return this.undoBuffer.length.value}clearUndoBuffer(){this.undoBuffer.clear()}resetHistory(){this.clearUndoBuffer(),this._observerQueue.length=0,this._deleteSet.clear()}finalizeHistory(){this.undoBuffer.finalize(),this._triggerFinalizeObservers()}getAndClearActionList(){const e=this.actionList.slice();return this.actionList.length=0,e}triggerAction(e){var t,i;try{e.run()}catch(e){return this._observerQueue.length=0,this._deleteSet.clear(),void this.onActionError(e)}const n=null===(t=this.undoBuffer.peek())||void 0===t?void 0:t.lastAction();this.undoBuffer.push(e),n!==(null===(i=this.undoBuffer.peek())||void 0===i?void 0:i.lastAction())&&this.actionList.push(e.logInfo()),this.commit()}onNodesChanged(e){return this._nodes.onChanged(e)}onWallsChanged(e){return this._walls.onChanged(e)}onRoomsChanged(e){return this._rooms.onChanged(e)}onOpeningsChanged(e){return this._wallOpenings.onChanged(e)}validateGraph(){this._recomputeRooms()&&(this.commit(),this.finalizeHistory())}commit(){const e=this._observerQueue.length;if(this._flushObserverQueue(),e>0)for(const e of this._anythingChangeObservers)e(void 0)}onPropertyChanged(e,t){const i=this["_"+e];if(i instanceof y){const n=i,s=()=>{n.addedObservers.add(t),n.updatedObservers.add(t),n.deletedObservers.add(t)},r=()=>this.removeOnPropertyChanged(e,t);return(0,f.k1)(s,r,!0,e)}this.logAndThrow(new Error(`Property: ${e} does not exist on wall-data`))}removeOnPropertyChanged(e,t){const i=this["_"+e];if(i instanceof y){const e=i;e.addedObservers.delete(t),e.updatedObservers.delete(t),e.deletedObservers.delete(t)}else this.logAndThrow(new Error(`Property: ${e} does not exist on wall-data`))}onChanged(e){if(this._anythingChangeObservers.has(e))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,f.k1)((()=>this._anythingChangeObservers.add(e)),(()=>this.removeOnChanged(e)),!0)}removeOnChanged(e){this._anythingChangeObservers.delete(e)}afterFinalize(e){this._afterFinalizeObservers.has(e)&&this.logAndThrow(new Error("Already subscribed!"));return(0,f.k1)((()=>this._afterFinalizeObservers.add(e)),(()=>this._afterFinalizeObservers.delete(e)),!0)}addFloatingEdge(e,t,i,n,s){const r=new _(this,{from:t,to:i,width:n,floorId:s,type:e});return this.triggerAction(r),r.output}addBridgingEdge(e,t,i,n){const s=new W(this,{fromId:t,toId:i,width:n,type:e});return this.triggerAction(s),s.output}addTrailingEdgeToNode(e,t,i,n){const s=new w(this,{fromId:t,to:i,width:n,type:e});return this.triggerAction(s),s.output}addTrailingEdgeToEdge(e,t,i,n,s){const r=new j(this,{fromWallId:t,along:i,to:n,width:s,type:e});return this.triggerAction(r),r.output}canMoveNode(e,t){const i=this.getNode(e),n=this.getWallsForNode(i);for(const e of n){if(0===e.openings.length)continue;const n=e.getOtherNode(i),s=n.x-t.x,r=n.z-t.z,a=Math.sqrt(s*s+r*r);if(!(a>e.length))for(const t of e.openings){const e=t.relativePos*a,i=.5*t.width;if(e+i>a||e-i<0)return!1}}return!0}moveNode(e,t){const i={nodeId:e,newPos:t};this.triggerAction(new T(this,i))}moveWall(e,t,i){const n={wallId:e,newFromPos:t,newToPos:i};this.triggerAction(new N(this,n))}deleteEntity(e){if(this.canDeleteEntity(e)){const t=this.getEntity(e);if(t instanceof l){const t={nodeId:e};this.triggerAction(new G(this,t))}else if(t instanceof r.c){const t={wallId:e};this.triggerAction(new F(this,t))}else if(t instanceof v.E){const t={openingId:e};this.triggerAction(new K(this,t))}else if(t instanceof n.JJ){const t={roomId:e};this.triggerAction(new he(this,t))}}}setEdgeProperties(e,t){const i={wallId:e,props:t};this.triggerAction(new V(this,i))}addWallOpening(e){const t=new Y(this,e);return this.triggerAction(t),t.output.openingId}editWallOpeningDetails(e,t){this.triggerAction(new z(this,Object.assign(Object.assign({},t),{id:e})))}addWallJoint(e,t,i){const n={wallId:e,fromNode:t,toNode:i};this.triggerAction(new B(this,n))}setRoomDetails(e,t){this.triggerAction(new ae(this,Object.assign({roomId:e},t)))}mergeOverlappingEntities(e,t,i,n,s){const r={movedEntity:e,nodeOverlaps:t,nodeWallOverlaps:i,collinearWall:n,intersectingWall:s};this.triggerAction(new ee(this,r))}getRoomTypeName(e,t){var i;const n=this.getRoom(e);if(n||this.logAndThrow(new Error("Room does not exist")),n.classifications&&n.classifications.length>0){return(0,ce.ZJ)(n.classifications.map((e=>e.id))).map((e=>{var i;return(null===(i=this.roomClassifications[e])||void 0===i?void 0:i.label)||t})).join(o.X9)}return(null===(i=this.roomClassifications[o.ub])||void 0===i?void 0:i.label)||t}getRoomLabel(e,t){const i=this.getRoom(e);return i||this.logAndThrow(new Error("Room does not exist")),i.name?i.name:this.getRoomTypeName(e,t)}getPotentialRoomCanvasLabels(e,t,i,n,s){const r=(...e)=>e.filter((e=>e.length>0)).join("\n"),a=this.getRoom(e),o=n&&(!a.isOther()||a.name),l=s&&!a.hide,c=o?this.getRoomLabel(e,t):"",d=l?(0,pe.dO)(i,a.getArea(i)).area:"",u=l?a.getMeasurementText(i):"",h=[];for(let e=c.length;e>=0;e--)h.push(r((0,me.aS)(c,e),d,u),r((0,me.aS)(c,e),d));for(let e=c.length;e>=0&&c.length>0;e--)h.push((0,me.aS)(c,e));return 0===c.length&&h.push("..."),h}getAttachedEntities(e){const t=new Set;t.add(e.id);const i=this.getNode(e.id),n=this.getWallsForNode(i);for(const e of n){t.add(e.id);const n=e.getOtherNode(i);1===this.getEdgeCountForNode(i)&&1===this.getEdgeCountForNode(n)&&t.add(n.id)}return t}translateClassificationLabels(e){return e?e.map((e=>{const t=this.roomClassifications[e.id];return t?Object.assign(Object.assign({},e),{label:t.label}):e})):[]}traceWallsFromTo(e,t,i){const n=[e,t];let s=!1;for(;s=!this.hasLoop(n);){const e=n[n.length-1],t=n[n.length-2],s=this.getNodeNeighbors(e,i);let r,a=4*Math.PI;for(const i of s){const n=this.getRelativeAngle(e,t,i);n<a&&(a=n,r=i)}if(r||this.logAndThrow(new Error("Expected a neighbor")),e===n[0]&&r===n[1]){n.pop();break}n.push(r)}return s?n:[]}getNodeNeighbors(e,t){const i=new Set,n=this.getWallsForNode(e);n||this.logAndThrow(new Error("Expecting node to wall map to be valid"));for(const s of n.values())t&&!t.has(s)||i.add(s.getOtherNode(e));return i}hasLoop(e){if(0===e.length||e.length%100!=0)return!1;const t=[];for(let i=e.length-1;i>=0;i--){t.unshift(e[i]);const n=e.length-2*t.length;if(n<0)return!1;let s=!0;for(let i=0;i<t.length;i++)e[n+i]!==t[i]&&(s=!1);if(s)return this.logger.error("Found infinite loop!",t.map((e=>e.id)),"in sequence",e.map((e=>e.id))),!0}return!1}_createNode(e,t,i){const n=new l(i||(0,s._r)(),t,e.x,e.z);return this._nodes.set(n.id,n),this._addToDictHelper(t,n,this._nodesByFloor),this.insertIntoSpatialIndex(n),this._scheduleObserver({observers:this._nodes.addedObservers,param:n,type:ge.CREATE}),n}_updateNode(e,t){const i=this._nodes.get(e);i?(this.removeFromSpatialIndex(i),i.x=t.x,i.z=t.z,this.insertIntoSpatialIndex(i),this._scheduleUpdate(this._nodes,i)):this.logAndThrow(new Error("Attempted to update WallNode that does not exist"))}_deleteNode(e){const t=this._nodes.get(e);t?(this.getEdgeCountForNode(t)>0&&this.logAndThrow(new Error("Attempted to delete a node which has wall references still!")),this._nodes.delete(e),this._removeFromDictHelper(t.floorId,t,this._nodesByFloor),this.removeFromSpatialIndex(t),this._scheduleDelete(this._nodes,t)):this.logAndThrow(new Error("Attempted to delete WallNode that does not exist"))}_createRoom(e){this._validateRoomDetails(e.points,e.holesCW,e.walls,e.holes);const t=new n.JJ(e);this.rooms.set(t.id,t);for(const e of t.allWalls()){const i=this._wallToRoomMap.get(e)||new Set;i.add(t),this._wallToRoomMap.set(e,i)}return this._scheduleObserver({observers:this._rooms.addedObservers,param:t,type:ge.CREATE}),this.calculateRoomInsights(t),t}_updateRoom(e,t,i=!0){this._validateRoomDetails(t.points,t.holesCW,t.walls,t.holes),this._inFlightRoomCeilingsCalc.has(e)&&this._roomsNeedingCeilingCalc.add(e);const n=this._rooms.get(e);if(n){for(const e of n.allWalls()){const t=this._wallToRoomMap.get(e);t&&t.delete(n)}t.name=n.name,t.classifications=n.classifications?[...n.classifications]:[],this.rooms.set(e,t);for(const e of t.allWalls().values()){const i=this._wallToRoomMap.get(e)||new Set;i.add(t),this._wallToRoomMap.set(e,i)}this._scheduleUpdate(this._rooms,t),i&&this.calculateRoomInsights(t)}else this.logAndThrow(new Error("Attempted to update Room that does not exist"))}_validateRoomDetails(e,t,i,n){const s=e[0].floorId;for(const i of e.concat(t.flat()))i.floorId!==s&&this.logAndThrow(new Error("Room nodes have mismatching floor ids!"))}logAndThrow(e){throw this.broadcast(new de.x(e)),e}_updateRoomDetails(e,t){const{name:i,roomTypeIds:n,location:s,includeInAreaCalc:r,hide:a,keywords:o,showDimensions:l,showHeight:c}=t,d=this.getRoom(e);d.name=null!=i?i:d.name,n&&(d.classifications=n.map((e=>({id:e,label:this.roomClassifications[e].label})))),d.location=null!=s?s:d.location,d.includeInAreaCalc=null!=r?r:d.includeInAreaCalc,d.hide=null!=a?a:d.hide,d.keywords=null!=o?o:d.keywords,d.showDimensions=null!=l?l:d.showDimensions,d.showHeight=null!=c?c:d.showHeight,this._scheduleUpdate(this._rooms,d)}_deleteRoom(e){const t=this._rooms.get(e);if(t){this._rooms.delete(t.id);for(const e of t.allWalls().values()){const i=this._wallToRoomMap.get(e);null==i||i.delete(t)}this._scheduleDelete(this._rooms,t)}else this.logAndThrow(new Error("Attempted to delete Room that does not exist"))}_createWall(e,t,i,n,a,o,l=(0,s._r)()){t.id===i.id&&this.logAndThrow(new Error("Cannot create wall where the from node is the same as the to node.")),t.floorId!==i.floorId&&this.logAndThrow(new Error("Cannot create a wall between nodes on different floors.")),this.hasWallBetween(t,i)&&this.logAndThrow(new Error("Wall already exists between start and end nodes.")),this._walls.has(l)&&this.logAndThrow(new Error("Wall already exists!"));const c=this.getNode(t.id),d=this.getNode(i.id),u=new r.c(l,e,c,d,n,o);this._walls.set(u.id,u),this._addToWallDicts(u),this._scheduleObserver({observers:this._walls.addedObservers,param:u,type:ge.CREATE});for(const e of a){const{type:t,relativePos:i,width:n,id:s}=e;this._createWallOpening(u,t,i,n,s)}return this.insertIntoSpatialIndex(u),u}_deleteWall(e){const t=this.getWall(e);for(const e of t.openings.slice())this._deleteWallOpening(e.id);this._walls.delete(e),this._removeFromWallDicts(t),this.removeFromSpatialIndex(t),this._scheduleDelete(this._walls,t)}_setEdgeProps(e,t){const{width:i,bias:n,type:s}=t,a=this.getWall(e);void 0!==s&&(a.type=s),void 0!==i&&(a.width=i,a.type===r.d.SOLID&&(this.lastSolidWallWidth=i)),void 0!==n&&(a.bias=n),this._scheduleUpdate(this._walls,a),this._updateDependentsForNodes(a.from,a.to)}_createWallOpening(e,t,i,n,r=(0,s._r)()){const a=new v.E(r,e.id,t,i,n);return this._wallOpenings.set(a.id,a),e.openings.push(a),this._scheduleObserver({observers:this._wallOpenings.addedObservers,param:a,type:ge.CREATE}),a}_setOpeningDetails(e,t){var i,n,s;const r=this.getOpening(e);r.type=null!==(i=t.type)&&void 0!==i?i:r.type,r.relativePos=null!==(n=t.relativePos)&&void 0!==n?n:r.relativePos,r.width=null!==(s=t.width)&&void 0!==s?s:r.width,this._scheduleUpdate(this._wallOpenings,r)}_deleteWallOpening(e){const t=this.getOpening(e),i=this.getWall(t.wallId),n=i.openings.findIndex((t=>t.id===e));-1!==n?i.openings.splice(n,1):this.logAndThrow(new Error("Expected opening to exist in wall array!")),this._wallOpenings.delete(e),this._scheduleDelete(this._wallOpenings,t)}_addToWallDicts(e){this._addToDictHelper(e.from,e,this._nodeToWallMap),this._addToDictHelper(e.to,e,this._nodeToWallMap),this._addToDictHelper(e.floorId,e,this._wallsByFloor),this._wallsByCompositeKey.set(r.c.getCompositeKey(e.from.id,e.to.id),e)}_addToDictHelper(e,t,i){let n=i.get(e);null!=n?n.add(t):(n=new Set,n.add(t),i.set(e,n))}_removeFromDictHelper(e,t,i){const n=i.get(e);null!=n&&(n.delete(t),0===n.size&&i.delete(e))}_removeFromWallDicts(e){this._removeFromDictHelper(e.from,e,this._nodeToWallMap),this._removeFromDictHelper(e.to,e,this._nodeToWallMap),this._removeFromDictHelper(e.floorId,e,this._wallsByFloor),this._wallToRoomMap.delete(e),this._wallsByCompositeKey.delete(r.c.getCompositeKey(e.from.id,e.to.id))}_scheduleObserver(e){this._observerQueue.push(e)}_scheduleUpdate(e,t,i=!1){this._observerQueue.find((i=>i.observers===e.addedObservers&&i.param===t))||this._scheduleObserver({observers:i?e.childUpdatedObservers:e.updatedObservers,param:t,type:ge.UPDATE})}_scheduleDelete(e,t){this._scheduleObserver({observers:e.deletedObservers,param:t,type:ge.DELETE}),this._deleteSet.add(t)}_flushObserverQueue(){const e=new Set;for(const t of this._observerQueue)if(t.type!==ge.UPDATE||!this._deleteSet.has(t.param))if(t.type===ge.CREATE&&this._deleteSet.has(t.param))e.add(t.param);else if(t.type!==ge.DELETE||!e.has(t.param))for(const e of t.observers){const i=t.param;e(i,i.id)}this._observerQueue.length=0,this._deleteSet.clear()}_triggerFinalizeObservers(){for(const e of this._afterFinalizeObservers.values())e()}getSnapshot(){const e={version:this.version,floors:{}},t=t=>{e.floors[t]||(e.floors[t]={edges:{},vertices:{},rooms:{}})};for(const[i,n]of this._nodes.data){t(n.floorId);e.floors[n.floorId].vertices[n.id]=n.getSnapshot()}for(const[i,n]of this._walls.data){t(n.floorId);e.floors[n.floorId].edges[n.id]=n.getSnapshot()}for(const[i,n]of this._rooms.data){t(n.floorId);e.floors[n.floorId].rooms[n.id]=n.getSnapshot()}return e}insertIntoSpatialIndex(e){if(this.isLoading)return;this.spatialIndex.has(e.floorId)||this.spatialIndex.set(e.floorId,new(S()));const t=this.spatialIndex.get(e.floorId);e.updateRBushBBox(),t.insert(e)}removeFromSpatialIndex(e){if(this.isLoading)return;const t=this.spatialIndex.get(e.floorId);null!=t&&t.remove(e)}_recomputeRooms(){return new te(this,{}).run(),this._observerQueue.length>0}calculateRoomInsights(e){this.calculateRoomArea(e),this.calculateRoomPerimeter(e),this.calculateRoomMeasurements(e),this.isLoading||(this.calculateRoomHeight(e),this.scheduleCeilingComputation(e))}calculateRoomArea(e){const t=new Array(new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3);t.push(t[0]);const i=e=>{let i=0;for(let n=0;n<e.length;n++){e[n].getVec3(t[0]),e[(n+1)%e.length].getVec3(t[1]),(0,g.A2)(e,n,!0,this,t[2]),(0,g.A2)(e,n,!1,this,t[3]);i+=(0,E.m)(t.map((e=>[e.x,e.z])))}return i},n=i(e.getCWPoints());let s=0;for(const t of e.holesCW)s+=(0,g.SV)(t),s+=i(t.slice().reverse());const r=(0,g.SV)(e.points);e.area=Math.max(r-n-s,0)}calculateRoomPerimeter(e){e.minimalInnerLoop=e.calculateMinimalInnerLoop(),e.minimalInnerEdges=e.calculateMinimalInnerEdges();let t=0;for(const i of e.minimalInnerEdges)t+=i.start.distanceTo(i.end);e.perimeter=t}calculateRoomMeasurements(e){const{edges:t,thickness:i}=(0,g.B7)(e,this);let n=0,s=[new a.Vector2,new a.Vector2],r=[new a.Vector2,new a.Vector2],l=new a.Vector2(0,0);for(let e=0;e<2;e++){let c=0;for(let d=0;d<t.length;d++){const u=t[d],h=t[(d+1)%t.length];for(let p=0;p<t.length;p++){if(d===p)continue;const m=t[p],f=t[(p+1)%t.length],v=(0,g.bX)([u,h],new a.Vector2),y=(0,g.bX)([m,f],new a.Vector2);if(v.dot(y)>Math.cos(Math.PI-o.S2))continue;const E=(new a.Vector2).subVectors(v,y).normalize();if(e>0&&Math.abs(E.dot(l))>Math.cos(Math.PI/2-o.LW))continue;const b=(new a.Vector2).addVectors(m.getVec2(),f.getVec2()).multiplyScalar(.5);if((0,g.jH)(v,u.getVec2(),b)<0)continue;const S=new a.Vector2,O=new a.Vector2,T=(0,g.IQ)([u.getVec2().addScaledVector(v,i[d]),h.getVec2().addScaledVector(v,i[d])],[m.getVec2().addScaledVector(y,i[p]),f.getVec2().addScaledVector(y,i[p])],S,O);T>c&&(c=T,0===e?(s=[S,O],l=v,n=1):(r=[S,O],n=2))}}}if(2===n){const e=(s[1].y-s[0].y)/(s[1].x-s[0].x),t=(r[1].y-r[0].y)/(r[1].x-r[0].x);if(Math.abs(e)<Math.abs(t)){const e=s;s=r,r=e}}e.length=NaN,e.width=NaN,n>=2&&(e.length=(new a.Vector2).subVectors(s[0],s[1]).length(),e.l1=s[0].clone(),e.l2=s[1].clone(),e.width=(new a.Vector2).subVectors(r[0],r[1]).length(),e.w1=r[0].clone(),e.w2=r[1].clone(),this.isRectangularIsh(e)||(e.length=NaN,e.width=NaN))}isRectangularIsh(e){if(isNaN(e.length)||isNaN(e.width))return!1;const t=e.getCWPoints();return(0,g.t)(t,[e.l1,e.l2],[e.w1,e.w2],this)>.9}async calculateRoomCeilings(e){const t=this.tryGetEntity(e);if(t&&t instanceof n.JJ)return!this.calcCeilings||t.area<=1e-4?Promise.resolve():(this._inFlightRoomCeilingsCalc.add(t.id),this.calcCeilings(t).then((e=>{this._inFlightRoomCeilingsCalc.delete(t.id),!this._roomsNeedingCeilingCalc.has(t.id)&&this.rooms.has(t.id)&&(t.ceiling=e,this._scheduleUpdate(this._rooms,t))})))}clearAllCeilings(){for(const e of this.rooms.values())e.ceiling=null,this._scheduleUpdate(this._rooms,e);this._flushObserverQueue()}scheduleCeilingComputation(e){this._roomsNeedingCeilingCalc.add(e.id)}async recalculateCeilings(e=!1){if(e)for(const e of this.rooms.keys())this._roomsNeedingCeilingCalc.add(e);for(;;){const e=[];for(const t of this._roomsNeedingCeilingCalc)e.push(this.calculateRoomCeilings(t));if(this._roomsNeedingCeilingCalc.clear(),await Promise.all(e),0===this._roomsNeedingCeilingCalc.size)break}return this._flushObserverQueue(),Promise.resolve()}calculateRoomHeight(e){if(!this.raycast||e.area<=1e-4)return;const t=(0,oe.Id)(10),i=.01;let n=0;const s=new a.Vector3,r=[],o=new a.Vector3,l=new a.Vector3,c=this.getRoomSamplePoints(e);for(const i of c){s.copy(i.position),s.y=1e5,n+=i.area;const a=this.raycast(s,e.floorId);let c=1e5,d=-1e5;for(const{face:e,point:t}of a){const i=null==e?void 0:e.normal;if(!i)continue;const n=i.dot(ue.fU.UP);n<0&&t.y>d&&(d=t.y,l.copy(i)),n>0&&t.y<c&&(c=t.y,o.copy(i))}if(c>=d)continue;const u=Math.acos(o.dot(ue.fU.UP)),h=Math.acos(l.dot(ue.fU.DOWN));if(u<t&&h<t){const e=(1-u/t)*(1-h/t)/(1/i.area);r.push({height:d-c,weight:e})}}if(r.length<10)return void(e.height=NaN);const d=r.reduce(((e,t)=>Math.max(e,t.height)),0),u=1+Math.floor((d+.005)/i),h=new Array(u).fill(0);for(const{height:e,weight:t}of r){h[Math.floor((e+.005)/i)]+=t}const p=new Array(u).fill(0);for(let e=0;e<h.length;e++)0===e?p[e]=(h[e]+h[e+1])/2:e===h.length-1?p[e]=(h[e]+h[e-1])/2:p[e]=(h[e-1]+h[e]+h[e+1])/3;const m=p.reduce(((e,t,i)=>p[e]<t?i:e),0)*i;let f=0;for(const{weight:e,height:t}of r)Math.abs(t-m)<.05&&(f+=e);f+=.5,e.height=m>0&&n>0&&f/n>=.3?m:NaN}*getRoomSamplePoints(e){const{points:t,faces:i}=e.getGeometry(),n=[];for(const e of i){const i=e.map((e=>new a.Vector3(t[e].x,0,t[e].y)));n.push(new a.Triangle(i[0],i[1],i[2]))}const s=n.reduce(((e,t)=>e+t.getArea()),0),r=(0,le.uZ)(1*s,10,200),o=new a.Vector3;for(const e of n){const t=e.getArea(),i=Math.ceil(r*(t/s)),n=Math.ceil(Math.log2(i)/2);for(let s=0;s<i;s++){const r=this.lowDiscrepancySampleTriangle(s,n);o.set(0,0,0),o.addScaledVector(e.a,r.x).addScaledVector(e.b,r.y).addScaledVector(e.c,r.z),yield{position:o,area:t/i}}}}}},67540:(e,t,i)=>{"use strict";i.d(t,{JJ:()=>v,GS:()=>o,Lh:()=>a,Rd:()=>y,Ci:()=>b,Hc:()=>S});var n=i(4061),s=i.n(n);class r{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"==typeof this.onEviction)for(const[t,i]of e)this.onEviction(t,i.value)}_deleteIfExpired(e,t){return"number"==typeof t.expiry&&t.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){if(!1===this._deleteIfExpired(e,t))return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const i=t.get(e);return this._getItemValue(e,i)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,i]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,i)&&(yield e)}}for(const e of this.cache){const[t,i]=e;!1===this._deleteIfExpired(t,i)&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:i=(this.maxAge===Number.POSITIVE_INFINITY?void 0:Date.now()+this.maxAge)}={}){this.cache.has(e)?this.cache.set(e,{value:t,maxAge:i}):this._set(e,{value:t,expiry:i})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],i=t.length-e;i<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(i>0&&this._emitEvictions(t.slice(0,i)),this.oldCache=new Map(t.slice(i)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,i]=e;!1===this._deleteIfExpired(t,i)&&(yield[t,i.value])}for(const e of this.oldCache){const[t,i]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,i)&&(yield[t,i.value])}}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const i=e[t],[n,s]=i;!1===this._deleteIfExpired(n,s)&&(yield[n,s.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const i=e[t],[n,s]=i;if(!this.cache.has(n)){!1===this._deleteIfExpired(n,s)&&(yield[n,s.value])}}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}var a,o,l=i(81396),c=i(65919),d=i(52803),u=i(49668),h=i(17467),p=i(24826),m=i(76074),f=i(66091),g=i(95360);!function(e){e.INDOOR="indoor",e.OUTDOOR="outdoor"}(a||(a={})),function(e){e.INDOOR="indoor",e.OUTDOOR="outdoor",e.NON_AREA="nonArea",e.HIDE="hide"}(o||(o={}));class v{constructor(e){this.area=NaN,this.length=NaN,this.l1=new l.Vector2,this.l2=new l.Vector2,this.width=NaN,this.w1=new l.Vector2,this.w2=new l.Vector2,this.height=NaN,this.ceiling=null,this.minimalInnerEdges=[],this.minimalInnerLoop=[],this.classifications=[],this.showDimensions=!0,this.showHeight=!0,this._viewCenterCache={},this._containsPointCache=new r({maxSize:10}),this.wallsCCW=[],this.holeWallsCW=[],this.cornerStraight=(()=>{const e=new l.Vector3,t=new l.Vector3;return(i,n)=>{const s=i.end.distanceTo(n.start)<.02;e.subVectors(i.start,i.end).normalize(),t.subVectors(n.end,n.start).normalize();const r=Math.abs(Math.abs(e.dot(t))-1)<.01;return s&&r}})(),Object.assign(this,e),this.initCCWWalls()}getEntityAnalytic(){return"room"}get roomTypeIds(){return 0===this.classifications.length?[m.ub]:this.classifications.map((e=>e.id))}get floorHeight(){if(null!=this.ceiling&&this.ceiling.planes.length>0){const e=this.ceiling.planes[0].measurements;if(e.length>0)return e[0].bottom.y}return NaN}accessible(){return!(this.hide&&!this.includeInAreaCalc)}isOther(){const e=this.roomTypeIds;return 1===e.length&&e[0]===m.ub}get floorId(){return this.points[0].floorId}getMaxCeilingDatum(){if(this.isFlatCeiling())return null;let e=Number.MIN_SAFE_INTEGER,t=null;const i=new l.Vector3;if(null!=this.ceiling)for(const n of this.ceiling.planes)for(const s of n.measurements)s.height>=e&&(e=s.height,t=i.set(s.bottom.x,s.bottom.y,s.bottom.z));return null!=t?{position:t,height:e}:null}getMinCeilingHeight(){let e=Number.MAX_SAFE_INTEGER,t=!1;if(null!=this.ceiling)for(const i of this.ceiling.planes)for(const n of i.measurements)n.height<e&&n.height>=m.Ed&&(e=n.height,t=!0);return t?e:isNaN(this.height)?NaN:this.height}isFlatCeiling(){return null!=this.ceiling&&Math.abs(this.ceiling.maxHeight-this.ceiling.minHeight)<=1e-8}getSnapshot(){return{height:this.height,source:"frontend",vertices:this.points.map((e=>e.id)),holes:this.holesCW.map((e=>e.map((e=>e.id)))),label:this.name}}pointsMoved(){this._bbox=null,this._geometry=null,this._viewCenterCache={},this._containsPointCache.clear()}get bbox(){return this._bbox||(this._bbox=(new l.Box2).setFromPoints(this.points.map((e=>e.getVec2())))),this._bbox}getViewCenter(e=new l.Vector3,t=1){const i=t.toFixed(1),n=this._viewCenterCache[i];if(null!=n)return e.copy(n.center),e;{const n=this.points.map((e=>[e.x/t,e.z]));n.push([this.points[0].x/t,this.points[0].z]);const r=[n].concat(this.holesCW.map((e=>e.map((e=>[e.x/t,e.z])).reverse()))),a=s()(r,.1),o=a.distance,c=new l.Vector3(a[0]*t,0,a[1]);return this._viewCenterCache[i]={center:c,distance:o},e.copy(c),e}}getViewCenterDistance(e=1){this.getViewCenter(void 0,e);const t=e.toFixed(1);if(null==this._viewCenterCache[t])throw new Error("View center should have been precached");return this._viewCenterCache[t].distance}getArea(e){let t=this.area,i=1;return e===c.M.IMPERIAL?t=(0,d.Nv)(t):e===c.M.METRIC&&(i=10),Math.round(t*i)/i}getMeasurementText(e){return this.canDisplayDimensions()?[(0,u.up)(this.width,e),(0,u.up)(this.length,e)].join(` ${u.RQ} `):""}canDisplayDimensions(){return!(isNaN(this.length)||isNaN(this.width)||this.length<=0||this.width<=0||!this.showDimensions)}canDisplayHeight(){return(!isNaN(this.height)||null!=this.ceiling)&&this.showHeight}getPerimeterText(e){return(0,u.up)(this.perimeter,e)}getCWPoints(){return this.points.slice().reverse()}allWalls(){return(0,h.dW)(this.walls,...this.holes)}allKeywords(){const e=this.keywords.slice();return this.hide&&e.push(o.HIDE),this.includeInAreaCalc||e.push(o.NON_AREA),e.push(this.location===a.OUTDOOR?o.OUTDOOR:o.INDOOR),e}initCCWWalls(){const e=new Map;for(const t of this.allWalls())e.set(p.c.getCompositeKey(t.from.id,t.to.id),t);const t=t=>{const i=[],n=t.length;for(let s=0;s<n;s++){const r=t[s],a=t[(s+1)%n],o=p.c.getCompositeKey(r.id,a.id),l=e.get(o);if(l){const e=r.id===l.to.id;i.push({wall:l,flipped:e})}}return i};this.wallsCCW.length=0,this.wallsCCW.push(...t(this.points)),this.holeWallsCW.length=0;for(const e of this.holesCW)this.holeWallsCW.push(t(e))}getGeometry(){if(!this._geometry){const e=this.points.map((e=>e.getVec2())),t=this.holesCW.map((e=>e.map((e=>e.getVec2())))),i=l.ShapeUtils.triangulateShape(e,t);this._geometry={faces:i,points:e.concat(t.flat(1))}}return this._geometry}calculateInnerLoop(e=0){const t=[],i=i=>{t.push([]);const n=i.length;for(let s=0;s<n;s++){const r=i[(s+n-1)%n],a=i[s],o=i[(s+1)%n],l=(0,f.T)(a.wall,r.wall,o.wall,a.flipped,e),c=t[t.length-1],d=c[c.length-1],u=l.start.clone();(!d||d&&d.distanceTo(u)>.01)&&c.push(u),c.push(l.end.clone())}};i(this.wallsCCW);for(const e of this.holeWallsCW)i(e);return t}calculateMinimalInnerLoop(e=0){const t=[],i=this.calculateInnerLoop(e);for(const e of i){const i=e.length,n=[];for(let t=0;t<i;t++){const s=e[(t+i-1)%i],r=e[t],a=e[(t+1)%i];this.cornerStraight({start:s,end:r},{start:r,end:a})||n.push(r)}t.push(n)}return t}calculateMinimalInnerEdges(){const e=[],t=this.minimalInnerLoop;for(const i of t){const t=i.length;for(let n=0;n<t;n++){const s=i[n],r=i[(n+1)%t];e.push({start:s,end:r})}}return e}containsPoint(e,t){const i=`${1e3*e|0}|${1e3*t|0}`,n=this._containsPointCache.get(i);if(null!=n)return n;{const n=this.minimalInnerLoop[0].map((e=>[e.x,e.z])),s=this.minimalInnerLoop.slice(1,this.minimalInnerLoop.length).map((e=>e.reverse().map((e=>[e.x,e.z])))),r=(0,g.O)([e,t],n)&&!s.some((i=>(0,g.O)([e,t],i)));return this._containsPointCache.set(i,r),r}}}function y(e,t){var i;return e.length>0&&(null!==(i=e[0].defaultKeywords)&&void 0!==i?i:[]).includes(t)}function E(e){return e.filter((e=>!Object.values(o).includes(e)))}function b(e){return{location:e.includes(o.OUTDOOR)?a.OUTDOOR:a.INDOOR,includeInAreaCalc:!e.includes(o.NON_AREA),hide:e.includes(o.HIDE),keywords:E(e)}}function S(e){const t=new Set;for(const i of e)(0,h.Jt)(t,i.defaultKeywords||[]);return t.has(o.INDOOR)&&t.has(o.OUTDOOR)&&t.delete(o.OUTDOOR),Array.from(t.values())}},68184:(e,t,i)=>{"use strict";i.d(t,{e:()=>l});var n=i(42141),s=i(67540),r=i(30419),a=i(24938),o=i(27163);class l extends n.V{constructor(e,t,i,n){super(),this.data=e,this.applicationData=t,this.toolsData=i,this.visibleInShowcase=n,this.name="room-bound-view-data",this.roomBoundsVisible=!1,this._roomNamesVisible=r.Rw,this._roomWallsVisible=r.Rw,this.applicationData.onChanged((()=>{this.commit()})),this.toolsData.onPropertyChanged("activeToolName",(()=>{this.commit()}))}setEditorState(e){this.editorState=e,this.commit()}getSelectedRoom(e){if(!e)return null;const t=this.data.getEntity(e);return t instanceof s.JJ?t:null}setRoomBoundVisible(e){this.roomBoundsVisible=e,this.commit()}get roomNamesVisible(){return this.applicationData.application!==a.Mx.SHOWCASE||this._roomNamesVisible}setRoomNamesVisible(e){this._roomNamesVisible=e,this.commit()}get roomWallsVisible(){return this.applicationData.application!==a.Mx.SHOWCASE||this._roomWallsVisible}setRoomWallsVisible(e){this._roomWallsVisible=e,this.commit()}get roomDimensionsVisible(){return this.applicationData.application===a.Mx.SHOWCASE&&this.toolsData.activeToolName===o.w1.MEASUREMENTS||this.applicationData.application===a.Mx.WORKSHOP}}},24826:(e,t,i)=>{"use strict";i.d(t,{c:()=>l,d:()=>n});var n,s=i(81396),r=i(80383),a=i(76074),o=i(32197);!function(e){e.SOLID="solid-wall",e.DIVIDER="invisible-wall"}(n||(n={}));class l{constructor(e,t,i,n,r,a){this.bias=.5,this.openings=[],this._t1=new s.Vector3,this._t2=new s.Vector3,this._rbushBbox={minX:0,minY:0,maxX:1,maxY:1},this.overlapsCircle=(()=>{const e=new s.Vector3,t=new s.Vector3,i=new s.Vector3,n=new s.Vector3,r=new s.Vector3;return(s,a)=>{const o=this.getBiasAdjustmentVec(e),l=this.from.getVec3(t).add(o),c=this.to.getVec3(i).add(o),d=n.subVectors(c,l),u=d.length(),h=r.subVectors(s,l),p=h.length(),m=d.dot(h)/u,f=Math.sqrt(Math.max(p*p-m*m,0));return f<=this.width/2+a&&m>=-a&&m<=u+a?Math.min(m,f):null}})(),this.overlapsLine=(()=>{const e=new s.Vector3,t=new s.Vector3,i=new s.Vector3,n=new s.Vector3,r=new s.Vector3,a=new s.Vector3,l=new s.Vector3,c=new s.Vector3,d=new s.Vector3,u=1e-4;function h(e,t,i){return d.subVectors(t,e).dot(i)/i.lengthSq()}return(s,d)=>{const p=this.getBiasAdjustmentVec(e),m=this.from.getVec3(t).add(p),f=this.to.getVec3(i).add(p),g=n.subVectors(f,m),v=a.copy(g).normalize(),y=r.subVectors(d,s),E=l.copy(y).normalize(),b=v.dot(E);if(Math.abs(Math.abs(b)-1)<u){const e=c.subVectors(s,m),t=e.length(),i=e.dot(v);if(Math.sqrt(Math.abs(t*t-i*i))<.05){const e=u,t=.9999,i=h(s,m,y),n=h(s,f,y),r=i>t&&n>t;if(!(i<e&&n<e)&&!r)return[{entity:this.from,t:i},{entity:this.to,t:n}].sort(((e,t)=>e.t-t.t))}}else{const e=(0,o._B)(s.x,s.z,d.x,d.z,m.x,m.z,f.x,f.z,u);if(null!=e)return[{entity:this,t:e}]}return[]}})(),this.id=e,this.type=t,this.from=i,this.to=n,this.width=r,this.bias=a}static getCompositeKey(e,t){const i=[e,t].sort();return`${i[0]}:${i[1]}`}getEntityAnalytic(){return this.type}get floorId(){return this.from.floorId}get compositeKey(){return l.getCompositeKey(this.from.id,this.to.id)}getOtherNode(e){if(e===this.from)return this.to;if(e===this.to)return this.from;throw new Error("WallNode does not belong to edge.")}hasNodes(e,t){const{from:i,to:n}=this;return!(e!==i&&e!==n||t!==i&&t!==n)}getBiasAdjustmentVec(e=new s.Vector3){this.getNormal(e);const t=(this.bias-.5)*this.width;return e.multiplyScalar(t),e}getNormal(e=new s.Vector3){return this.getDirection(e),e.normalize(),e.set(-e.z,0,e.x),e}getDirection(e){const t=e||new s.Vector3;return t.set(this.to.x-this.from.x,0,this.to.z-this.from.z),t}getEdgeWidth(e,t){const i=this.from===e&&this.to===t?this.bias:1-this.bias;return this.width*i}getEdgeNormal(e,t,i=new s.Vector3){return this.getNormal(i),this.from===e&&this.to===t||i.multiplyScalar(-1),i}getLine3(e){const t=e||new s.Line3;return this.from.getVec3(t.start),this.to.getVec3(t.end),t}getProjection(e){const t=this._t1.copy(e).sub(this.from.getVec3(this._t2)),i=this.getDirection(this._t2);return t.dot(i)/i.length()}getSnapshot(){const e={thickness:this.width,vertices:[this.from.id,this.to.id],type:this.type===n.SOLID?r.Pb.WALL:r.Pb.INVISIBLE};if(this.openings.length){const t={};for(const e of this.openings)t[e.id]=e.getSnapshot();e.openings=t}return e}getViewCenter(e=new s.Vector3){return e.addVectors(this.to.getVec3(),this.from.getVec3()).multiplyScalar(.5)}get length(){return this.from.distanceTo(this.to)}get minX(){return this._rbushBbox.minX}get maxX(){return this._rbushBbox.maxX}get minY(){return this._rbushBbox.minY}get maxY(){return this._rbushBbox.maxY}updateRBushBBox(){this._rbushBbox={minX:Math.min(this.from.x,this.to.x)-2*this.width-a.dt,minY:Math.min(this.from.z,this.to.z)-2*this.width-a.dt,maxX:Math.max(this.from.x,this.to.x)+2*this.width+a.dt,maxY:Math.max(this.from.z,this.to.z)+2*this.width+a.dt}}clone(){const e=new l(this.id,this.type,this.from,this.to,this.width,this.bias);return e.openings.push(...this.openings),e}}},17516:(e,t,i)=>{"use strict";i.d(t,{E:()=>r,u:()=>n});var n,s=i(81396);!function(e){e.DOOR="doorway",e.OPENING="opening"}(n||(n={}));class r{constructor(e,t,i,n,s){this.id=e,this.wallId=t,this.type=i,this.relativePos=n,this.width=s}getEntityAnalytic(){return this.type}get floorId(){return""}getViewCenter(e=new s.Vector3){return e.set(0,0,0)}getSnapshot(){const{type:e,relativePos:t,width:i}=this;return{lowerElevation:0,height:0,type:e,relativePos:t,width:i}}}},3626:(e,t,i)=>{"use strict";i.d(t,{A0:()=>a,G:()=>l,PQ:()=>c,_h:()=>o,hW:()=>r});var n=i(43814),s=i(9263);const r="showcase-room-bounds",a="room_bounds",o="room_bound_user_view_error";function l(e){const t=e.tryGetProperty(s.gx.RoomBounds,!1),i=e.tryGetProperty(s.gx.FloorPlan,!1)||e.tryGetProperty(s.gx.Dollhouse,!1);return t&&i}function c(e,t,i){return!!(0,n._W)(e)&&(!t.tryGetProperty(o,!1)&&(l(t)||i))}},83847:(e,t,i)=>{"use strict";i.d(t,{q:()=>a});var n=i(67294),s=i(15376);function r(e){return e?Array.from(e.rooms.values()):[]}function a(){const e=(0,s.S)(),[t,i]=(0,n.useState)(r(e));return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=()=>i(r(e)),n=e.onRoomsChanged({onRemoved:e=>t,onUpdated:e=>t,onChildUpdated:e=>t,onAdded:e=>t});return t(),()=>{n.cancel()}}),[e]),t}},15376:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var n=i(38908),s=i(54048);const r=(0,n.u)(s.Z)},71369:(e,t,i)=>{"use strict";i.d(t,{$:()=>r,x:()=>s});var n=i(8126);class s extends n.v0{constructor(e){super(),this.error=e}}class r extends n.v0{constructor(e,t=(new Error).stack){super(),this.message=e,this.stack=t}}},66091:(e,t,i)=>{"use strict";i.d(t,{T:()=>c,b:()=>l});var n=i(3835),s=i(81396),r=i(32197),a=i(43627);class o{constructor(){this.primary=new s.Vector3,this.bevel=new s.Vector3}set(e,t,i){this.primary.set(e,t,i),this.bevel.set(e,t,i)}copy(e,t){this.primary.copy(e),t?this.bevel.copy(t):this.bevel.copy(e)}}const l=(()=>{const e={fromLeft:new o,fromRight:new o,toLeft:new o,toRight:new o};return(t,i)=>{h(t,e);const n=i.getWallNeighbors(t,"from"),s=i.getWallNeighbors(t,"to");return n&&(d(t,n.left,"from","left",e.fromLeft),d(t,n.right,"from","right",e.fromRight)),s&&(d(t,s.left,"to","left",e.toLeft),d(t,s.right,"to","right",e.toRight)),e}})(),c=(()=>{const e={start:new s.Vector3,end:new s.Vector3},t={fromLeft:new o,fromRight:new o,toLeft:new o,toRight:new o};return(i,n,s,r,a=0)=>{let o,l,c,u,p;return r?(o="right",l="to",c="from",u=t.toRight,p=t.fromRight):(o="left",l="from",c="to",u=t.fromLeft,p=t.toLeft),h(i,t,a),i.id!==n.id&&d(i,n,l,o,u,a),d(i,s,c,o,p,a),e.start.copy(u.primary),e.end.copy(p.primary),e}})(),d=(()=>{const e=new s.Vector3,t=new s.Vector3,i=new s.Vector3,o=new s.Vector3,l=new s.Vector3,c=new s.Vector3,d=new s.Vector3,h=new s.Vector2,m=new s.Vector2,f=new s.Vector2,g=new s.Vector3,v=new s.Vector3;return(s,y,E,b,S,O=0)=>{const T=s.getDirection(e).normalize(),_=s[E],N="from"===E?-1:1,w=y.getOtherNode(_).getVec3(t).sub(_.getVec3(i)).normalize().multiplyScalar(N),A=T.dot(w);if(Math.acos(A)*a.MN<5)return;s.getBiasAdjustmentVec(g),y.getBiasAdjustmentVec(v);const I="left"===b?Math.PI/2:-Math.PI/2,k=T.applyAxisAngle(n.fU.UP,I).multiplyScalar(s.width/2+O).add(g),P=w.applyAxisAngle(n.fU.UP,I).multiplyScalar(y.width/2+O).add(v);s.from.getVec3(o).add(k),s.to.getVec3(l).add(k),y.from.getVec3(c).add(P),y.to.getVec3(d).add(P);if((0,r.cB)(o.x,o.z,l.x,l.z,c.x,c.z,d.x,d.z,h)){const e=u(_,s,y,h,f),t=e.x>0&&e.y>0,i=e.x<0&&e.y<0;if(e.x<s.length&&e.y<y.length)if(t)S.set(h.x,0,h.y);else{m.set(_.x+g.x+v.x,_.z+g.z+v.z).distanceTo(h)>1.2*Math.max(s.width,y.width)&&i?p(_,s,y,k,P,S):S.set(h.x,0,h.y)}}}})(),u=(()=>{const e=new s.Vector3,t=new s.Vector3,i=new s.Vector3,n=new s.Vector3;return(s,r,a,o,l)=>{let c=r.getOtherNode(s);return s.getVec3(i),c.getVec3(e).sub(i),c=a.getOtherNode(s),c.getVec3(t).sub(i),n.set(o.x,0,o.y).sub(i),l.set(e.dot(n)/e.length(),t.dot(n)/t.length()),l}})(),h=(()=>{const e=new s.Vector3,t=new s.Vector3,i=new s.Vector3,n=new s.Vector3;return(s,r,a=0)=>{const o=s.width+2*a;s.getBiasAdjustmentVec(i),s.getNormal(e).multiplyScalar(-o/2).add(i),s.getNormal(t).multiplyScalar(o/2).add(i);const l=s.from.getVec3(n).add(t);r.fromRight.copy(l);const c=s.to.getVec3(n).add(t);r.toRight.copy(c);const d=s.to.getVec3(n).add(e);r.toLeft.copy(d);const u=s.from.getVec3(n).add(e);r.fromLeft.copy(u)}})(),p=(()=>{const e=new s.Vector3,t=new s.Vector3,i=new s.Vector3,n=new s.Vector3,r=new s.Vector3;return(s,a,o,l,c,d)=>{const u=a.getOtherNode(s),h=o.getOtherNode(s);s.getVec3(t),u.getVec3(e).sub(t).normalize().multiplyScalar(-a.width/2),h.getVec3(i).sub(t).normalize().multiplyScalar(-o.width/2),n.copy(t).add(l).add(e),r.copy(t).add(c).add(i),d.copy(n,r)}})()},87389:(e,t,i)=>{"use strict";i.d(t,{LN:()=>a,Nw:()=>o,ZJ:()=>c});var n=i(7321),s=i(76074);const r={[s.Vm]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.BALCONY,[s.YN]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.BASEMENT,[s.yn]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.BATHROOM,[s.sc]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.BEDROOM,[s.xi]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.BONUS_ROOM,[s.e$]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.CLOSET,[s.gk]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.DEN,[s.O4]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.DINING_ROOM,[s.y5]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.DRIVEWAY,[s.jt]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.ENTRANCE,[s.tI]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.EXERCISE_ROOM,[s.Zd]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.EXTERIOR,[s.yg]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.FACADE,[s.KT]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.FAMILY_ROOM,[s.x1]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.GAME_ROOM,[s.kA]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.GARAGE,[s.v6]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.GARDEN,[s.QM]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.GREAT_ROOM,[s.HT]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.GYM,[s.xu]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.HALLWAY,[s.Z2]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.KITCHEN,[s.aj]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.LAUNDRY,[s.mN]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.LIBRARY,[s.I3]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.LIVING_ROOM,[s.er]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.LOFT,[s.Nk]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.MEDIA_ROOM,[s.no]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.OFFICE,[s.ub]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.OTHER,[s.CF]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.PANTRY,[s.oF]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.PATIO,[s.qH]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.POOL,[s.pM]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.SAUNA,[s.a6]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.STAIRCASE,[s.X$]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.UTILITY_ROOM,[s.Os]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.VOID,[s.DQ]:n.Z.WORKSHOP.LABEL_SUGGESTIONS.WORKSHOP_ROOM};function a(e,t,i){const s=t.t(n.Z.SHOWCASE.ROOMS.DEFAULT_NAME);return i&&e?i.getRoomLabel(e,s):s}function o(e,t){const{id:i,label:r}=e;if(!i)return r||t.t(n.Z.WORKSHOP.LABEL_SUGGESTIONS.OTHER);return i.indexOf(s.Rt)>-1?i.split(s.Rt).map((e=>t.t(l({id:i,label:r})))).join(s.X9):t.t(l({id:i,label:r}))}function l(e){const{id:t,label:i}=e,s=r[t];return s||(i||n.Z.WORKSHOP.LABEL_SUGGESTIONS.OTHER)}function c(e){if(e.length<2)return e;for(const t of s.Ds)if(t.length===e.length&&t.every((t=>-1!==e.indexOf(t))))return t.slice();return e}},76074:(e,t,i)=>{"use strict";i.d(t,{CF:()=>V,DQ:()=>q,Ds:()=>$,Ed:()=>d,HT:()=>L,I3:()=>x,KT:()=>w,LW:()=>r,Nk:()=>U,O4:()=>b,Os:()=>Y,Oz:()=>l,QM:()=>P,Rt:()=>h,S2:()=>s,Vm:()=>p,X$:()=>K,X9:()=>u,YN:()=>m,Z2:()=>R,Zd:()=>T,a6:()=>z,aj:()=>M,dt:()=>a,e$:()=>y,er:()=>F,et:()=>o,gk:()=>E,jt:()=>O,kA:()=>I,kM:()=>c,mN:()=>C,no:()=>H,oF:()=>B,pM:()=>W,qH:()=>G,sc:()=>g,tI:()=>_,ub:()=>j,v6:()=>k,x1:()=>A,xi:()=>v,xu:()=>D,y5:()=>S,yg:()=>N,yn:()=>f});var n=i(43627);const s=6*n.Ue,r=6*n.Ue,a=.01,o=.05,l=.1,c=.02,d=1.5,u=", ",h="-",p="ge0tcan3iztta5mtgsfx99xpb",m="4by2d70b54srbin43t5m0yh9c",f="ua1m0u8pm3yngrhzwec1ue5zc",g="pnf0xzq61xcegack4iai7xppd",v="y3xuprmywgrprnm0273u3pphd",y="zp189tx2hdrry8k5nhaq5x45d",E="4gp8x21ni4i8y19r9pm4rb35a",b="00258k0mqu8750du151be805c",S="91naa1k3hiim9z4mk8352enta",O="rmu8pikcye0n7n9fsu5e4acda",T="cqig2yw0p8q99t5n02w1kf40b",_="66psa4tqgazbnffr9huy2dnpd",N="4qq4e5hz84hcur7ry87uhtmua",w="mx6e2yfk0tg0zbkbzuw5mhkda",A="0gnuunpwx63dmmqeq64aqfiyd",I="izt39gytcbymc0qtd37nrb7xb",k="ei3kmtun2xpspbg3d5ff3t3zc",P="xwhhz63a0hw735qf81knp63ha",L="ywtddu9hagraxhznwinn8t4zb",D="yeh1aa32fwgm72bh0g92ebruc",R="zgh2304w5anu0t25ia06ytfxd",M="pr9h4zy7eak91f3b7un97u42c",C="gqqw1zac1hzg1p8622ducg3zb",x="w4tdggk5i5u2zpiryugktghgb",F="e6md2spaqemc448pmau3azkhd",U="a11d2gi43h0etwedw0mx9pgwd",H="ag5uphha72sak65qazgsp09yd",j="byp7pz2tmt4ff47nhfx0uwzec",V="2nx6maxxpaeut7kx96fuacdzc",B="n07hhs9gky4cgrh7q65s9rp0d",G="s1h0hb8tpcc9i35dmupknsega",W="gba8cq0s2rdfg1zdb1epwty7d",z="0an2rky24gb91fdnpzmbwadib",K="qa21tqcsinnxde9gdmiphacza",Y="k4ww3sk359ntmwgr8s75hq22a",q="nqw75004dcg2bcr41047rhg6c",$=[[f,M],[R,b],[R,x],[R,x,b],[x,b]]},69137:(e,t,i)=>{"use strict";i.d(t,{A2:()=>_,B7:()=>u,IQ:()=>f,OH:()=>A,SV:()=>c,bX:()=>h,jH:()=>p,mX:()=>w,t:()=>y,xS:()=>d});var n=i(43517),s=i(5696),r=i(81396),a=i(16896),o=i(43627),l=i(76074);function c(e,t=!1){if(0===e.length)return 0;const i=e.map((e=>[e.x,e.z]));return i.push(i[0]),(0,n.m)(i,t)}function d(e){return c(e,!0)>0&&e.reverse(),e}const u=(e,t)=>{const i=e.getCWPoints(),n=i.length,s={edges:[],thickness:[]};for(let e=0;e<n;e++){const r=i[(e+n-1)%n],a=i[e],o=i[(e+1)%n],l=t.getWallForNodes(r.id,a.id).getEdgeWidth(r,a),c=t.getWallForNodes(a.id,o.id).getEdgeWidth(a,o);(!v([r,a],[a,o],!1)||Math.abs(c-l)>.01)&&(s.edges.push(i[e]),s.thickness.push(c))}return s},h=(e,t)=>{t.set(e[1].x-e[0].x,e[1].z-e[0].z).normalize();const i=t.x,n=t.y;return t.set(-n,i),t},p=(()=>{const e=new r.Vector2;return(t,i,n)=>(e.subVectors(n,i),t.dot(e))})(),m=(()=>{const e=new r.Vector2,t=new r.Vector2,i=new r.Vector2;return(n,s,r,a)=>(e.subVectors(r,s),t.copy(n).multiplyScalar(n.dot(e)),i.subVectors(e,t),a.addVectors(s,i),a)})(),f=(()=>{const e=new r.Vector2,t=new r.Vector2,i=new r.Vector2,n=new r.Vector2,s=new r.Vector2;return(r,a,o,l)=>{e.subVectors(r[1],r[0]).normalize(),t.subVectors(a[1],a[0]).normalize(),i.subVectors(e,t).normalize();const c=p(i,r[0],r[1]);let d=p(i,r[0],a[0]),u=p(i,r[0],a[1]);if(u<d){const e=d;d=u,u=e}const h=Math.min(c,u)-Math.max(0,d);n.subVectors(e,t).multiplyScalar(.5).multiplyScalar(h/2+Math.max(0,d)),o.copy(r[0]).add(n);const f=m(i,r[0],a[0],s);return l.copy(f).add(n),h}})(),g=(()=>{const e=new r.Vector2,t=new r.Vector2,i=Math.cos(5*o.Ue);return(n,s,r)=>{e.set(n[1].x-n[0].x,n[1].z-n[0].z).normalize(),t.set(s[1].x-s[0].x,s[1].z-s[0].z).normalize();const a=e.dot(t);return a>=i||r&&a<=-i}})(),v=(()=>{const e=new r.Vector2;return(t,i,n)=>{if(!g(t,i,n))return!1;e.set(-(i[1].z-t[0].z),i[1].x-t[0].x).normalize();return!(Math.abs(p(e,t[0].getVec2(),t[1].getVec2()))>.05)}})(),y=(()=>{const e=new r.Vector2,t=new r.Vector2,i=new r.Vector3,n=new r.Vector2,s=new r.Vector2(0,0),a=[new r.Vector2,new r.Vector2],o=[new r.Vector2,new r.Vector2],l=new r.Vector2,c=new r.Vector2;return(r,d,u,h)=>{let p=Math.atan2(u[1].y-u[0].y,u[1].x-u[0].x);p<0&&(p+=2*Math.PI),p%=Math.PI/2;let m=Math.atan2(d[1].y-d[0].y,d[1].x-d[0].x);p<0&&(p+=Math.PI/2),m%=Math.PI/2,Math.abs(m-Math.PI/2-p)<Math.abs(m-p)&&(m-=Math.PI/2),Math.abs(p-Math.PI/2-m)<Math.abs(p-m)&&(p-=Math.PI/2);const f=(p+m)/2;e.set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),t.set(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let a=0;a<r.length;a++)_(r,a,!0,h,i),n.set(i.x,i.z).rotateAround(s,-f),T(e,n,e),O(t,n,t);a[0].copy(d[0]).rotateAround(s,-f),a[1].copy(d[1]).rotateAround(s,-f),o[0].copy(u[0]).rotateAround(s,-f),o[1].copy(u[1]).rotateAround(s,-f),E(a,o,l,c);var g,v;return S([e,t],[l,c])/(v=[l,c],b(g=[e,t])+b(v)-S(g,v))}})(),E=(()=>{const e=new r.Vector2,t=new r.Vector2;return(i,n,s,r)=>{e.subVectors(i[1],i[0]).normalize(),t.subVectors(n[1],n[0]).normalize(),Math.abs(e.y)>Math.abs(t.y)?(s.x=Math.min(n[0].x,n[1].x),r.x=Math.max(n[0].x,n[1].x),s.y=Math.min(i[0].y,i[1].y),r.y=Math.max(i[0].y,i[1].y)):(s.x=Math.min(i[0].x,i[1].x),r.x=Math.max(i[0].x,i[1].x),s.y=Math.min(n[0].y,n[1].y),r.y=Math.max(n[0].y,n[1].y))}})();function b(e){const t=e[1].x-e[0].x,i=e[1].y-e[0].y;return t>0&&i>0?t*i:0}function S(e,t){return b([O(e[0],t[0],new r.Vector2),T(e[1],t[1],new r.Vector2)])}function O(e,t,i){return i.set(Math.max(e.x,t.x),Math.max(e.y,t.y))}function T(e,t,i){return i.set(Math.min(e.x,t.x),Math.min(e.y,t.y))}const _=(()=>{const e=6*o.Ue,t=new r.Vector3,i=new r.Vector3;return(n,s,r,a,o)=>{const l=n[s],c=n[(s+1)%n.length],d=a.getWallForNodes(l.id,c.id).getEdgeWidth(l,c),u=r?(s+1)%n.length:s,h=(u+1)%n.length,p=(u+n.length-1)%n.length,m=a.getWallForNodes(n[p].id,n[u].id).getEdgeNormal(n[p],n[u]),f=a.getWallForNodes(n[u].id,n[h].id).getEdgeNormal(n[u],n[h]);if(t.copy(r?m:f),m.dot(f)>Math.cos(Math.PI-e)){i.addVectors(m,f).normalize();const e=i.dot(m);Math.abs(e)>1e-6&&(i.multiplyScalar(1/e),t.copy(i))}n[u].getVec3(o).addScaledVector(t,d)}})();function N(e){return`room-${e}`}function w(e){const t=l.ub;return 0===e.length?N(t):e.length>1?N("multi-use"):a.g.includes(N(e[0]))?N(e[0]):N(t)}function A(e,t){const[[i,n],[r,a]]=e,[[o,l],[c,d]]=t,u=((0,s.s8)(e[0],t)?1:0)+((0,s.s8)(e[1],t)?1:0)+((0,s.s8)(t[0],e)?1:0)+((0,s.s8)(t[1],e)?1:0),h=(d-l)*(r-i)-(c-o)*(a-n);if(Math.abs(h)<1e-4)return u>2;const p=n-l,m=i-o,f=((c-o)*p-(d-l)*m)/h,g=((r-i)*p-(a-n)*m)/h,v=1e-8,y=.99999999;return f>v&&f<y&&g>v&&g<y}},2157:(e,t,i)=>{"use strict";i.d(t,{Os:()=>r,lN:()=>a,pZ:()=>s});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={id:e}}}s.id="roombound_unselect";class r extends n.m{constructor(e=!1){super(),this.payload={visible:e}}}r.id="set_roombound_visibility";class a extends n.m{constructor(e){super(),this.payload={allowRendering:e}}}a.id="room_bound_set_allow_rendering"},30419:(e,t,i)=>{"use strict";i.d(t,{En:()=>s,Rw:()=>n});const n=!0,s="features/pie-1.1-ceilings"},62770:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(42141),s=i(85726);class r extends n.V{constructor(e){if(super(),this.name="rooms",this.selected=new s.f(null),this._rooms={},this.floorToRoomsMap=new Map,e)for(const t of Object.values(e))this.add(t)}add(e){this._rooms[e.id]=e;const t=this.floorToRoomsMap.get(e.floorId);t?t.push(e):this.floorToRoomsMap.set(e.floorId,[e])}remove(e){const t=this.get(e);if(!t)return;const i=this.floorToRoomsMap.get(t.floorId);if(i){const e=i.indexOf(t);e>-1&&i.splice(e,1)}delete this._rooms[e]}rooms(){const e=this._rooms,t=Object.keys(this._rooms);return function*(){for(const i of t)yield e[i]}()}get roomCount(){return Object.keys(this._rooms).length}get collection(){return this._rooms}getAllRooms(){return Object.values(this.floorToRoomsMap)}get(e){return this._rooms[e]}getByMeshSubgroup(e){return Object.values(this._rooms).find((t=>t.meshSubgroup===e))}roomsByFloor(e){return this.floorToRoomsMap.get(e)||[]}getRoomIdMap(e,t){const i={};for(const n of Object.values(this._rooms)){const s=e.getFloor(n.floorId),r=s?String((s.index<<16)+n.meshSubgroup):"",a=n.id;""===r?console.warn("[WARNING getRoomIdMap]: mapping between room IDs was incomplete!"):t?i[r]=a:i[a]=r}return i}}},31910:(e,t,i)=>{"use strict";i.d(t,{D:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t,i,n,s,r){super(),this.roomId=e,this.meshSubgroup=t,this.viewmode=i,this.visitCount=n,this.roomCount=s,this.roomType=r}}},42642:(e,t,i)=>{"use strict";i.d(t,{O:()=>c,W:()=>d});var n=i(81396),s=i(20650),r=i(53257),a=i(89798);const o=["FontLoader","Font","ParametricGeometry","TextGeometry"],l=new r.Z("three-globals"),c=function(e,t){n.DefaultLoadingManager.addHandler(/\.tga$/i,new s.TGALoader(a.U)),n.DefaultLoadingManager.addHandler(/\.jpe?g$/i,e()),n.DefaultLoadingManager.addHandler(/\.png$/i,t()),n.Cache.enabled=!0},d=async function(){const{modules:e}=await Promise.all([i.e(217),i.e(764),i.e(493),i.e(648),i.e(376),i.e(27),i.e(325)]).then(i.bind(i,71325));for(const t of e){const e=Object.keys(t);for(const i of e){const e=t[i],s=n;if(i in s)if("object"==typeof e)for(const t in e)t in s[i]||(s[i][t]=e[t]);else"function"==typeof e&&(!(i in s)||o.includes(i)?s[i]=e:l.debug(`"${i}" exists in THREE object but has not been listed as overrideable, skipping...`));else s[i]=e}}}},83464:(e,t,i)=>{"use strict";i.d(t,{S:()=>s});var n=i(56063);class s extends n.m{constructor(e,t,i,n=1){super(),this.payload={type:e,func:t,maxDelay:i,steps:n}}}s.id="SCHEDULE_PROCESS_COMMAND"},91584:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var n=i(56063);class s extends n.m{constructor(e,t,i){super();const n=function*(){return t()}();this.payload={type:e,func:n,maxDelay:i,steps:1}}}s.id="SCHEDULE_TASK_COMMAND"},28251:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n,s=i(933),r=i(83607);class a{constructor(e){this.name=e,this.taskDurations=new r.P(100),this.medianDuration=1}get typicalStepDuration(){return this.medianDuration}addTaskDuration(e){this.taskDurations.push(e),this.taskDurations.index%10==0&&(this.medianDuration=this.taskDurations.median())}}!function(e){e.WAITING="waiting",e.STARTED="started",e.DONE="done"}(n||(n={}));class o{constructor(){this.tasks=[],this.types={}}getType(e){return this.types[e]||(this.types[e]=new a(e)),this.types[e]}addTask(e){this.tasks.push(e)}update(e){this.tasks=this.tasks.filter((e=>e.status!==n.DONE)),this.tasks.sort(((e,t)=>t.urgency-e.urgency));let t=0;e:for(const i of this.tasks)for(;i.status!==n.DONE;){const n=performance.now(),s=t+i.type.typicalStepDuration>e,r=n>=i.deadline;if(s&&!r)break e;const a=n;i.run();const o=performance.now()-a;i.type.addTaskDuration(o),t+=o}}}var l=i(91584),c=i(83464);class d{constructor(e,t,i,s){this.type=e,this.func=t,this.deadline=i,this.steps=s,this.status=n.WAITING,this.promise=new Promise(((e,t)=>{this.onSuccess=e,this.onError=t}))}run(){let e;this.status=n.STARTED;try{e=this.func.next()}catch(e){return this.status=n.DONE,void this.onError(e)}this.steps-=1,e.done&&(this.status=n.DONE,this.onSuccess(e.value))}get estimatedDuration(){return this.steps*this.type.typicalStepDuration}get urgency(){const e=this.deadline-performance.now();return e<=0?1e6-e:this.estimatedDuration/e/e}}class u extends s.Y{constructor(){super(...arguments),this.name="scheduler-module",this.scheduler=new o}async init(e,t){this.engine=t,this.engine.commandBinder.addBinding(l._,(async e=>{const t=new d(this.scheduler.getType(e.type),e.func,performance.now()+e.maxDelay,e.steps);return this.scheduler.addTask(t),t})),this.engine.commandBinder.addBinding(c.S,(async e=>{const t=new d(this.scheduler.getType(e.type),e.func,performance.now()+e.maxDelay,e.steps);return this.scheduler.addTask(t),t}))}onUpdate(e){this.scheduler.update(4)}}},40470:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(4763),s=i(933),r=i(67294),a=i(20745),o=i(7321),l=i(85893),c=i(15811);function d({loadingMessage:e,messageDelay:t}){const[i,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(!i){const e=setTimeout((()=>{n(!0)}),t);return()=>clearTimeout(e)}return()=>{}})),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",Object.assign({className:"spinner-container"},{children:(0,l.jsx)(c.$,{progress:33,barWidth:4,progressColor:"#ffffff"})})),i&&(0,l.jsx)("div",Object.assign({className:"message"},{children:e}))]})}class u extends s.Y{constructor(){super(...arguments),this.name="sdk-landing",this.messageDelay=3e3}async init(e,t){this.locale=await t.getModuleBySymbol(n.e9),this.reactContainer=document.createElement("div"),this.reactContainer.id="sdk-landing-container",this.container=e.container}show(){this.container.appendChild(this.reactContainer),this.reactRoot=(0,a.createRoot)(this.reactContainer),this.reactRoot.render((0,r.createElement)(d,{loadingMessage:this.locale.t(o.Z.SDK.AWAITING),messageDelay:this.messageDelay}))}hide(){var e;this.container.removeChild(this.reactContainer),this.reactRoot.unmount(),null===(e=this.reactContainer)||void 0===e||e.remove()}}const h=u},47149:(e,t,i)=>{"use strict";i.d(t,{T:()=>l});var n=i(42141),s=i(53584),r=i(42896),a=i(44303),o=i(16968);class l extends n.V{constructor(){super(...arguments),this.searchMode=!1,this.query="",this.typeFilters=(0,s.C)(),this.keywordFilters=(0,s.C)(),this.grouping=l.defaultGrouping,this.results=(0,r.q)(),this.dataTypeGroups={},this.keywordCounts=(0,r.q)({}),this.activeItemId=null,this.selectedType=null}getSearchDataTypeList(){return Object.values(this.dataTypeGroups)}getSearchDataTypeGroup(e){return this.dataTypeGroups[e]}getQuery(){return this.query}getTypeFilters(){return this.typeFilters.values()}setTypeFilters(e){this.typeFilters.replace(e)}setTypeFilter(e){this.setTypeFilters([e])}clearTypeFilters(){this.getTypeFilters().length>0&&this.typeFilters.replace([])}toggleSearchFilter(e,t){t?this.typeFilters.push(e):this.typeFilters.remove(this.typeFilters.indexOf(e))}hasActiveQuery(){return""!==this.query||this.keywordFilters.length>0}setQuery(e){this.query=e}getKeywordFilters(){return this.keywordFilters.values()}setKeywordFilters(e){this.keywordFilters.replace(e)}setKeywordCounts(e){this.keywordCounts.replace(e)}getKeywordSummaries(){const e={};return this.getKeywordFilters().forEach((t=>{e[t]={id:t,text:t,count:0,isSelected:!0}})),this.keywordCounts.keys.forEach((t=>{const i=this.keywordCounts.get(t);e[t]?e[t].count=i:e[t]={id:t,text:t,count:i,isSelected:!1}})),Object.values(e)}hasSearchResultItem(e){const t=(0,o.w)(e);return this.results.has(t)}getSearchResultItem(e){const t=(0,o.w)(e);return this.results.get(t)}getResultsMap(){return this.results}getResults(){return this.results.values}onSearchResultsChanged(e){return this.results.onChanged(e)}setResults(e){this.getResults().forEach((e=>e.cancelBindings()));const t=e.reduce(((e,t)=>(e[(0,o.w)(t)]=t,t.registerBindings(),e)),{});this.atomic((()=>{this.results.replace(t)}))}}l.defaultGrouping=a.HH.TYPE},96768:(e,t,i)=>{"use strict";i.d(t,{J:()=>s});var n=i(9263);function s(e){const t=e.tryGetProperty(n.gx.SpaceSearch,0),i=e.getOverrideParam("search",1);return t&&!(0===i)}},35748:(e,t,i)=>{"use strict";i.d(t,{PP:()=>n,vr:()=>a,zf:()=>o});const n=["<mark>","</mark>"];function s(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function r(e,t){const[i,r]=n,a=`${i}|${r}`;let o=!1;if(e.match(new RegExp(a))&&(e=e.replace(new RegExp(`(${a})`,"g"),((e,t)=>t.split("").join("‌"))),o=!0),t){let n;n=o?t.split("").map(s).join("[‌]?"):s(t),e=e.replace(new RegExp(`(${n})`,"gi"),((e,t)=>`${i}${t}${r}`))}return e}const a=r;function o(e,t){return r(function(e,t){var i;const n=e.toLowerCase(),[r,a,o]=[n.indexOf(t),e.length,(null===(i=n.match(new RegExp(`${s(t)}`,"g")))||void 0===i?void 0:i.length)||1];let l=e,c=r;if(a>20&&c>0){if(1===o){const e=Math.floor((20-t.length)/2);e>0&&c>e&&(c-=e)}l=`...${l.substr(c)}`,l.length<20&&(c-=20-l.length,c>0&&(l=`...${e.substr(c)}`))}return l}(e,t),t)}},92447:(e,t,i)=>{"use strict";i.d(t,{Vj:()=>s,Wh:()=>r,Xs:()=>n});const n=75,s=50,r=50},16968:(e,t,i)=>{"use strict";i.d(t,{j:()=>r,w:()=>a});var n=i(44303),s=i(92447);function r(e,t,i){var r;switch(i){case n.HH.TYPE:return(null===(r=null==e?void 0:e.dataTypeGroups[t])||void 0===r?void 0:r.groupOrder)||s.Xs;case n.HH.FLOOR:return s.Wh;case n.HH.LAYER:return s.Vj}return-1}function a(e){return`${e.id}-${e.typeId}`}},7145:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BoxVolume:()=>k.k,CylinderVolume:()=>P.X,SensorModule:()=>I,SourceType:()=>R,SphereVolume:()=>L.b,default:()=>D});var n=i(933),s=i(4763),r=i(53462),a=i(3835),o=i(81396);class l{constructor(){this.needsUpdate=!0}notify(){this.needsUpdate=!0}}var c=i(42714);class d{constructor(e){this.observable=new c.$,this.notifier=new class{constructor(e){this.sensorObservable=e}notify(){this.sensorObservable.observable.notify()}}(this),this.dependencySub=e.sub(this.notifier)}dispose(){this.dependencySub.cancel()}observe(e){return this.observable.observe(e)}}class u{constructor(e){this.cameraData=e,this._forward=new o.Vector3,this.frustum=new o.Frustum,this.frustumTransform=new r.M,this.frustumProjection=new r.M,this.forwardObserver=new l,this.frustumObserver=new l,this.frustumObservable=new d(new h(e)),this.frustumObservable.observe(this.forwardObserver),this.frustumObservable.observe(this.frustumObserver)}dispose(){this.frustumObservable.dispose()}get fovx(){return this.cameraData.fovX()}get fovy(){return this.cameraData.fovY()}get forward(){return this.forwardObserver.needsUpdate&&(this.forwardObserver.needsUpdate=!1,this._forward.copy(a.fU.FORWARD),this._forward.applyQuaternion(this.cameraData.pose.rotation)),this._forward}observe(e){return this.frustumObservable.observe(e)}get origin(){return this.cameraData.pose.position}containsPoint(e){return this.updateVolume(),this.frustum.containsPoint(e)}updateVolume(){if(this.frustumObserver.needsUpdate){this.frustumObserver.needsUpdate=!1;const e=this.cameraData.pose;this.frustumTransform.compose(e.position,e.rotation,a.fU.UNIT).getInverse(this.frustumTransform),this.frustumProjection.copy(this.cameraData.pose.projection),this.frustum.setFromProjectionMatrix(this.frustumTransform.multiplyMatrices(this.frustumProjection,this.frustumTransform).asThreeMatrix4())}}}class h{constructor(e){this.cameraData=e}sub(e){return this.cameraData.onChanged((()=>e.notify()))}}var p=i(57793);class m{constructor(){this.sensors=new Set}addSensor(e){this.sensors.add(e)}removeSensor(e){this.sensors.delete(e)}update(){for(const e of this.sensors)e.update()}}class f{constructor(e,t,i){this.frustum=e,this.raycaster=t,this.sensorDisposer=i,this.volumeObserver=new l,this.sources=new Set,this.dirtySources=new Set,this.sourceWatchers=new Map,this.readingsCache=new Map,this.readingObservable=new c.$,this.raycastDirection=new o.Vector3,this.volumeSub=e.observe(this.volumeObserver)}get origin(){return this.frustum.origin}dispose(){this.volumeSub.cancel(),this.sensorDisposer.disposeSensor(this)}addSource(...e){for(const t of e)this.sources.add(t),this.dirtySources.add(t),this.sourceWatchers.set(t,new g(this.dirtySources,t))}get readings(){return this.readingsCache}update(){this.volumeObserver.needsUpdate?(this.volumeObserver.needsUpdate=!1,this.recomputeAllReadings(),this.readingObservable.notify()):this.dirtySources.size>0&&(this.recomputeDirtyReadings(),this.readingObservable.notify())}recomputeAllReadings(){for(const e of this.sources)this.recomputeReading(e);this.dirtySources.clear()}recomputeDirtyReadings(){for(const e of this.dirtySources)this.recomputeReading(e);this.dirtySources.clear()}recomputeReading(e){this.raycastDirection.copy(e.origin).sub(this.frustum.origin).normalize();const t=this.frustum.origin.distanceToSquared(e.origin),i=this.readingsCache.get(e)||{direction:new o.Vector3};i.inRange=function(e,t){return t.volume.containsPoint(e.origin)}(this,e),i.inView=i.inRange&&this.frustum.containsPoint(e.origin)&&!function(e,t){return!!t&&e>t.distance**2}(t,this.raycaster.picking.pick(this.frustum.origin,this.raycastDirection)),i.direction.copy(this.raycastDirection),i.distanceSq=t,this.readingsCache.set(e,i)}onReadingsUpdated(e){return this.readingObservable.observe(e)}}class g{constructor(e,t){this.sub=t.volume.observe({notify(){e.add(t)}})}dispose(){this.sub.cancel()}}var v=i(86210),y=i(79242),E=i(21676);const b=(e,t)=>e.type===R.BOX?O(t):e.type===R.CYLINDER?function(e){const t=new o.CylinderGeometry(.5,.5,1);t.translate(0,.5,0);const i=new o.Mesh(t,new o.MeshBasicMaterial);i.scale.set(.05,.1,.05);const n=new o.MeshBasicMaterial({transparent:!0,opacity:.1,side:o.DoubleSide,depthWrite:!1}),s=new o.Mesh(t,new o.MeshBasicMaterial({wireframe:!0})),r=new o.Mesh(t,n);return r.add(s),e.add(i),e.add(r),{interactionMesh:i,volumeMesh:r,dispose(){e.remove(i),e.remove(r),i.geometry.dispose(),i.material.dispose(),r.geometry.dispose(),r.material.dispose(),s.geometry.dispose(),s.material.dispose()},setColor(e){r.material.color.set(e),s.material.color.set(e)}}}(t):S(t),S=e=>{const t=new o.SphereGeometry(1,20,20),i=new o.Mesh(t,new o.MeshBasicMaterial);i.scale.set(.5,.5,.5);const n=new o.Mesh(t,new o.MeshBasicMaterial({wireframe:!0})),s=new o.Mesh(t,new o.MeshBasicMaterial({transparent:!0,opacity:.1,side:o.DoubleSide,depthWrite:!1}));return s.add(n),e.add(i),e.add(s),{interactionMesh:i,volumeMesh:s,dispose:()=>{e.remove(i),e.remove(s),i.geometry.dispose(),i.material.dispose(),s.geometry.dispose(),s.material.dispose(),n.geometry.dispose(),n.material.dispose()},setColor:e=>{s.material.color.set(e),n.material.color.set(e)}}},O=e=>{const t=new o.BoxGeometry(1,1,1),i=new o.Mesh(t,new o.MeshBasicMaterial);i.scale.set(.1,.1,.1);const n=new o.MeshBasicMaterial({transparent:!0,opacity:.1,side:o.DoubleSide,depthWrite:!1}),s=new o.Mesh(t,n),r=new o.LineSegments(new o.EdgesGeometry(t),new o.LineBasicMaterial);return s.add(r),e.add(i),e.add(s),{interactionMesh:i,volumeMesh:s,dispose:()=>{e.remove(i),e.remove(s),i.geometry.dispose(),i.material.dispose(),s.geometry.dispose(),s.material.dispose(),r.geometry.dispose(),r.material.dispose()},setColor:e=>{s.material.color.set(e),r.material.color.set(e)}}};const T=e=>{if(e.type===R.BOX){const t=e;return Object.assign({},t.volume.size)}if(e.type===R.CYLINDER){const t=e;return{x:t.volume.radius,y:t.volume.height,z:t.volume.radius}}{const t=e.volume.radius;return{x:t,y:t,z:t}}},_=(new o.Quaternion).identity();function N(e){if(e.type===R.BOX){return e.volume.orientation}return _}class w{constructor(e,t,i){this.source=e,this.scene=t,this.inputIni=i,this.subs=[],this.stickyHover=!1,this.sourceDirty=!0,this.meshes=b(e,this.scene.scene),this.meshes.interactionMesh.scale.set(.1,.1,.1),this.meshes.interactionMesh.position.copy(this.source.origin),this.meshes.interactionMesh.material.color.set(16724312),this.meshes.volumeMesh.scale.set(0,0,0),this.meshes.volumeMesh.position.copy(this.source.origin),this.meshes.volumeMesh.visible=!1;const n=N(e);this.meshes.volumeMesh.quaternion.copy(n);this.mixer=new o.AnimationMixer(this.meshes.volumeMesh);const s=T(e),r=new o.VectorKeyframeTrack(".scale",[0,.4],[0,0,0,s.x,s.y,s.z],o.InterpolateSmooth),a=new o.AnimationClip(void 0,.4,[r]);this.onHoverAction=this.mixer.clipAction(a),this.onHoverAction.clampWhenFinished=!0,this.onHoverAction.loop=o.LoopOnce;const l=()=>{const e=this.onHoverAction.time;this.onHoverAction.reset(),this.meshes.volumeMesh.visible=!0,this.onHoverAction.timeScale=1,this.onHoverAction.time=e,this.onHoverAction.play()},c=()=>{this.stickyHover=!this.stickyHover,this.stickyHover?this.meshes.interactionMesh.material.color.set(4473924):this.meshes.interactionMesh.material.color.set(16724312)};this.subs.push(this.inputIni.registerMeshHandler(v.z,E.s.isValue(this.meshes.interactionMesh),l)),this.subs.push(this.inputIni.registerMeshHandler(v.A,E.s.isValue(this.meshes.interactionMesh),(()=>{if(!this.stickyHover){const e=this.onHoverAction.time;this.onHoverAction.reset(),this.onHoverAction.time=e,this.onHoverAction.timeScale=-1,this.onHoverAction.play()}}))),this.subs.push(this.inputIni.registerMeshHandler(y.Rd,E.s.isValue(this.meshes.interactionMesh),c)),this.inputIni.registerMesh(this.meshes.interactionMesh,!1),l(),c(),this.subs.push(e.volume.observe(this))}notify(){this.sourceDirty=!0}update(e,t){if(this.sourceDirty){this.sourceDirty=!1,this.meshes.interactionMesh.position.copy(this.source.origin),this.meshes.volumeMesh.position.copy(this.source.origin),this.meshes.volumeMesh.quaternion.copy(N(this.source));const e=T(this.source),t=this.onHoverAction.getClip().tracks[0].values;t[3]=e.x,t[4]=e.y,t[5]=e.z}this.meshes.setColor(t.inRange?65280:16711680),this.mixer.update(e/1e3)}dispose(){this.meshes.dispose(),this.mixer.stopAllAction();for(const e of this.subs)e.cancel()}}class A{constructor(e,t,i){this.sensor=e,this.scene=t,this.inputIni=i,this.subs=[],this.visuals=new Map}init(){this.subs.push(this.sensor.onReadingsUpdated(this))}render(e){for(const[t,i]of this.sensor.readings){let n=this.visuals.get(t);n||(n=new w(t,this.scene,this.inputIni),this.visuals.set(t,n)),n.update(e,i)}}dispose(){}activate(){}deactivate(){for(const e of this.subs)e.cancel();for(const e of this.visuals.values())e.dispose();this.visuals.clear()}notify(){}}class I extends n.Y{constructor(){super(...arguments),this.name="sensor-module",this.sensorUpdater=new m,this.debugSensor=null,this.sensorDisposer=new class{constructor(e){this.sensors=e}disposeSensor(e){this.sensors.removeSensor(e)}}(this)}async init(e,t){[this.cameraData,this.raycaster,this.renderer,this.inputIni]=await Promise.all([await t.market.waitForData(p.M),await t.getModuleBySymbol(s.fQ),await t.getModuleBySymbol(s.Aj),await t.getModuleBySymbol(s.PZ)]),this.cameraVolume=new u(this.cameraData);var i,n,r,a;this.sensorDebuggerFactory=(i=e=>{t.addComponent(this,e)},n=e=>{t.removeComponent(this,e)},r=this.renderer.getScene(),a=this.inputIni,e=>{const t=new A(e,r,a);return i(t),{dispose:()=>{n(t)}}})}dispose(){this.cameraVolume.dispose()}createSensor(e){const t=new f(e,this.raycaster,this.sensorDisposer);return this.sensorUpdater.addSensor(t),t}createCameraBoundSensor(){return this.createSensor(this.cameraVolume)}setDebugSensor(e){this.debugSensor&&(this.debugSensor.dispose(),this.debugSensor=null),e&&(this.debugSensor=this.sensorDebuggerFactory(e))}onUpdate(){this.sensorUpdater.update()}removeSensor(e){this.sensorUpdater.removeSensor(e)}}var k=i(97587),P=i(7011),L=i(43679);const D=I;var R;!function(e){e.SPHERE="sourcetype.sphere",e.BOX="sourcetype.box",e.CYLINDER="sourcetype.cylinder"}(R||(R={}))},97587:(e,t,i)=>{"use strict";i.d(t,{k:()=>r});var n=i(81396),s=i(42714);class r extends s.${constructor(){super(),this.box=new n.Box3,this.center=new n.Vector3,this.size=new n.Vector3(1/0,1/0,1/0),this.orientation=new n.Quaternion,this.inverseOrientation=new n.Quaternion,this.pointCache=new n.Vector3,this.transformNeedsUpdate=!1,this.box.setFromCenterAndSize(this.center,this.size)}get origin(){return this.center}updateCenter(e){this.center.copy(e),this.box.setFromCenterAndSize(this.center,this.size),this.transformNeedsUpdate=!0}updateDimensions(e){this.size.copy(e),this.box.setFromCenterAndSize(this.center,this.size)}updateOrientation(e){this.orientation.copy(e),this.transformNeedsUpdate=!0}containsPoint(e){return this.transformNeedsUpdate&&(this.transformNeedsUpdate=!1,this.inverseOrientation.copy(this.orientation).invert()),this.pointCache.copy(e).sub(this.center),this.pointCache.applyQuaternion(this.orientation),this.pointCache.add(this.center),this.box.containsPoint(this.pointCache)}}},7011:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var n=i(81396),s=i(42714);class r extends s.${constructor(){super(...arguments),this._basePoint=new n.Vector3,this._height=1/0,this._radius=1/0,this.pointCache=new n.Vector3}get origin(){return this._basePoint}get basePoint(){return this._basePoint}get height(){return this._height}get radius(){return this._radius}updateBasePoint(e){this.basePoint.set(e.x,e.y,e.z)}updateHeight(e){this._height=e}updateRadius(e){this._radius=e}containsPoint(e){return this.pointCache.set(e.x,this._basePoint.y,e.z),this._basePoint.distanceToSquared(this.pointCache)<=this.radius**2&&this._basePoint.y<=e.y&&e.y<=this._basePoint.y+this.height}}},43679:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var n=i(81396),s=i(42714);class r extends s.${constructor(){super(...arguments),this.origin=new n.Vector3,this.radius=1/0}updateRadius(e){this.radius=e}updateOrigin(e){this.origin.copy(e)}containsPoint(e){return this.origin.distanceToSquared(e)<=this.radius**2}}},11200:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var n=i(64831),s=i(43017),r=i(10999);class a extends n.T{constructor(){super(),this.category=r.i.USER}clone(){return(new a).copy(this)}copy(e){return this.sid=e.sid,this.sourceViewId=e.sourceViewId,this.thumbnailUrl=e.thumbnailUrl,this.imageUrl=e.imageUrl,this.name=e.name,this.is360=e.is360,this.category=e.category,this.height=e.height,this.width=e.width,this.created=e.created,this.modified=e.modified,this.visionLabel=e.visionLabel,this.visionName=e.visionName,this.imageBlob=e.imageBlob,this.metadata={cameraMode:e.metadata.cameraMode,cameraPosition:e.metadata.cameraPosition.clone(),cameraQuaternion:e.metadata.cameraQuaternion.clone(),scanId:e.metadata.scanId,orthoZoom:e.metadata.orthoZoom,ssZoom:e.metadata.ssZoom,floorId:e.metadata.floorId,floorVisibility:e.metadata.floorVisibility},this.commit(),this}isInsidePano(){return this.metadata.cameraMode===s.Ey.Panorama&&""!==this.metadata.scanId}refresh(e){this.thumbnailUrl.refreshFrom(e.thumbnailUrl),this.imageUrl.refreshFrom(e.imageUrl)}}},10999:(e,t,i)=>{"use strict";var n;i.d(t,{i:()=>n}),function(e){e.USER="user",e.PANORAMA="panorama",e.UNALIGNED="unaligned",e.AUTO="auto",e.TOUR="tour"}(n||(n={}))},86099:(e,t,i)=>{"use strict";i.d(t,{Ad:()=>r,nM:()=>a,ye:()=>o,yz:()=>s});var n=i(56063);class s extends n.m{constructor(e,t){super(),this.payload={id:e,name:t}}}s.id="RENAME_SNAPSHOT";class r extends n.m{constructor(e){super(),this.payload={id:e}}}r.id="DELETE_SNAPSHOT";class a extends n.m{constructor(e){super(),this.payload={snapshot:e}}}a.id="UPLOAD_SNAPSHOT";class o extends n.m{constructor(e){super(),this.payload={id:e}}}o.id="SET_CURRENT_SNAPSHOT_PHOTO"},90420:(e,t,i)=>{"use strict";i.d(t,{P:()=>o});var n=i(42141),s=i(28721),r=i(96544),a=i(10648);class o extends n.V{constructor(e){super(),this.name="snapshots",this.snapshots={};for(const t in e)this.snapshots[t]=e[t].clone()}get(e){return this.snapshots[e]}async getImageUrl(e){const t=this.get(e),i=new URL(await t.imageUrl.get());return"panorama"===t.category&&(i.searchParams.delete("height"),i.searchParams.delete("fit")),i.toString()}get collection(){return this.snapshots}get snapshotsCount(){return this.snapshots?Object.keys(this.snapshots).length:0}getSortedCollection(e){if(!this.snapshotsCount)return[];let t=Object.values(this.snapshots);return(null==e?void 0:e.filterFn)&&(t=t.filter(e.filterFn)),t.sort((null==e?void 0:e.compareFn)||a.IA)}setSelectedPhoto(e){this.selectedPhotoId=e,this.commit()}add(e){e.sid=this.validateSid(e.sid),this.snapshots[e.sid]=e,this.updateOnStaleCallbacks(),this.commit()}remove(e){delete this.snapshots[e]}validateSid(e){for(;!e||this.snapshots[e];)e=(0,s.O1)(11);return e}set onStale(e){this.hydrate=e,this.updateOnStaleCallbacks()}updateOnStaleCallbacks(){this.hydrate&&(0,r.s)(this.snapshots,(async()=>{const e=await this.hydrate();for(const t in this.snapshots)e&&e[t]&&this.snapshots[t].refresh(e[t])}))}}},77576:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>O});var n=i(933),s=i(43017),r=i(31740),a=i(17295),o=i(22925),l=i(90420),c=i(19642),d=i(93797),u=i(18889),h=i(80383),p=i(32197),m=i(16385),f=i(10999);const g={[s.Ey.Dollhouse]:h.wO.DOLLHOUSE,[s.Ey.Floorplan]:h.wO.FLOORPLAN,[s.Ey.Panorama]:h.wO.PANORAMA,[s.Ey.Outdoor]:h.wO.PANORAMA,[s.Ey.Transition]:h.wO.MESH,[s.Ey.Orthographic]:h.wO.MESH,[s.Ey.Mesh]:h.wO.MESH};class v{constructor(){}serialize(e,t){const i=[];for(const[n,s]of e.metadata.floorVisibility.entries())if(1===s){const e=t.floorsData.getFloorAtIndex(n);e&&i.push(e.id)}return{label:e.name,contents:{filename:`${e.name}.jpg`,blob:e.imageBlob},snapshotLocation:{anchorId:e.metadata.scanId,visibleFloorIds:i,position:(0,m.m)(p.ep.toVisionVector(e.metadata.cameraPosition)),rotation:(0,m.J5)(p.ep.toVisionCameraQuaternion(e.metadata.cameraQuaternion)),viewMode:g[e.metadata.cameraMode],zoom:e.metadata.cameraMode===s.Ey.Floorplan?e.metadata.orthoZoom:e.metadata.ssZoom},photoType:e.category===f.i.PANORAMA?h.BE.EQUIRECTANGULAR:h.BE.PHOTO2D}}}class y extends d.u{constructor(e,t,i){super(e),this.getViewId=t,this.getBaseViewId=i,this.serializer=new v,this.prefetchKey="data.model.assets.photos",this.deserializer=new u.f(this.getViewId.bind(this))}async read(e){const t={modelId:this.getBaseViewId()};return this.query(c.GetSnapshots,t,e).then((e=>{var i,n,s,r,a,o,l,c;const d=((null===(s=null===(n=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.model)||void 0===n?void 0:n.assets)||void 0===s?void 0:s.photos)||[]).map((e=>this.deserializer.deserialize(e))),u={};for(const e of d)e&&(e.sourceViewId=t.modelId,u[e.sid]=e);const h=(null===(a=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.model)||void 0===a?void 0:a.defurnishedViews)||[];for(const e of h){const t=((null===(l=null===(o=e.model)||void 0===o?void 0:o.assets)||void 0===l?void 0:l.photos)||[]).map((e=>this.deserializer.deserialize(e)));for(const i of t)i&&(i.sourceViewId=null===(c=e.model)||void 0===c?void 0:c.id,u[i.sid]=i)}return u}))}async refresh(){return super.refresh({fetchPolicy:"no-cache"})}async create(e,t){const i=this.getViewId(),n=e.category===f.i.TOUR,s=n?"UploadHighlightReelSnapshot":"UploadModelSnapshot",r=n?c.UploadHighlightReelSnapshot:c.UploadModelSnapshot,a=this.serializer.serialize(e,t);return this.client.upload(r,s,Object.assign(Object.assign({},a),{modelId:i})).then((e=>{var t;return this.deserializer.deserialize(null===(t=e.data)||void 0===t?void 0:t.snapshot)}))}async update(e){var t;const i=this.getViewId(),n=null===(t=(await this.client.mutate(c.PatchPhoto,{modelId:i,photoId:e.sid,label:e.name})).data)||void 0===t?void 0:t.patchPhoto;return this.deserializer.deserialize(n)}async delete(e){var t;const i=this.getViewId();return(null===(t=(await this.client.mutate(c.DeletePhoto,{modelId:i,photoId:e})).data)||void 0===t?void 0:t.deletePhoto)||!1}}var E=i(86099),b=i(8126);class S extends b.v0{constructor(e){super(),this.snapshot=e}}class O extends n.Y{constructor(){super(...arguments),this.name="snapshots-data"}async init(e,t){const{readonly:i,baseUrl:n,baseModelId:s}=e;this.engine=t;const a=await t.market.waitForData(o.R);this.store=new y({context:a.mdsContext,readonly:i,baseUrl:n,viewId:s},(()=>a.getDefurnishOrBaseId()),(()=>a.getBaseModelId()));const c=await this.store.read()||{};this.sweepData=await t.market.waitForData(r.Z);for(const e in c)this.processSnapshot(c[e]);this.snapshotsData=new l.P(c),this.snapshotsData.onStale=()=>this.store.refresh(),t.market.register(this,l.P,this.snapshotsData),i||this.bindings.push(t.commandBinder.addBinding(E.nM,(({snapshot:e})=>this.uploadSnapshot(e))),t.commandBinder.addBinding(E.yz,(({id:e,name:t})=>this.renameSnapshot(e,t))),t.commandBinder.addBinding(E.Ad,(({id:e})=>this.deleteSnapshot(e))),t.commandBinder.addBinding(E.ye,(({id:e})=>this.setSelectedPhoto(e))))}async setSelectedPhoto(e){this.snapshotsData.setSelectedPhoto(e)}async uploadSnapshot(e){const t=await this.engine.market.waitForData(a.i),i=await this.store.create(e,{floorsData:t});return i&&(this.processSnapshot(i),this.snapshotsData.add(i),this.engine.broadcast(new S(i))),i}async renameSnapshot(e,t){const i=this.snapshotsData.get(e);if(t!==i.name)return i.name=t,i.commit(),this.snapshotsData.commit(),this.store.update(i)}async deleteSnapshot(e){await this.store.delete(e).catch((t=>{this.log.debug(t),this.log.error(`Failed to delete snapshot ${e}`)}))&&(this.snapshotsData.remove(e),this.snapshotsData.commit())}processSnapshot(e){const t=e.metadata.cameraMode===s.Ey.Panorama,i=!this.sweepData.isSweepAligned(e.metadata.scanId);if(e.is360=t&&i,t&&e.metadata.scanId){const t=this.sweepData.getSweep(e.metadata.scanId);t&&e.metadata.cameraPosition.copy(t.position)}e.name=e.name.replace("_defurnished","")||"",e.name.match(/^[0-9.]+_[0-9.]+$/)&&(e.name=""),e.commit()}}},18889:(e,t,i)=>{"use strict";i.d(t,{f:()=>p});var n=i(81396),s=i(43017),r=i(53257),a=i(32197),o=i(38256),l=i(11200),c=i(10999),d=i(96544),u=i(80383);const h=new r.Z("mds-snapshot-deserializer");class p{constructor(e){this.getViewId=e}deserialize(e){var t,i,r,p;if(!e||!this.validate(e))return h.debug("Deserialized invalid Snapshot data from MDS",e),null;const m=new l.a;m.sid=e.id,m.thumbnailUrl=new d.n(e.thumbnailUrl||"",(0,o.p)(e.validUntil,null)),m.imageUrl=new d.n(e.presentationUrl||"",(0,o.p)(e.validUntil,null)),m.name=e.label||"",m.category=this.getCwfSnapshotCategory(e)||c.i.USER,m.width=e.width||0,m.height=e.height||0,m.created=(0,o.p)(e.created),m.modified=(0,o.p)(e.modified),m.visionLabel=e.classification||"",m.sourceViewId=this.getViewId();const f=null===(r=null===(i=null===(t=e.snapshotLocation)||void 0===t?void 0:t.anchor)||void 0===i?void 0:i.pano)||void 0===r?void 0:r.placement;m.is360=!(!f||f===u.bW.AUTO);const{snapshotLocation:g}=e;if(g){const e=g.position?a.ep.fromVisionVector(g.position):new n.Vector3,t=g.rotation?a.ep.fromVisionCameraQuaternion(g.rotation):new n.Quaternion,i=this.getCwfViewmode(g.viewMode)||s.Ey.Panorama,r=[];for(const e of g.floorVisibility||[]){for(let t=0;t<e.sequence;t++)r[t]=r[t]||0;r[e.sequence]=1}m.metadata={cameraMode:i,cameraPosition:e,cameraQuaternion:t,scanId:g.anchor&&g.anchor.id||"",orthoZoom:i===s.Ey.Floorplan&&null!==(p=g.zoom)&&void 0!==p?p:-1,ssZoom:g.zoom||1,floorId:g.floorVisibility&&g.floorVisibility.length>0?g.floorVisibility[0].id:null,floorVisibility:r}}return m}validate(e){var t;if(!(null===(t=e.snapshotLocation)||void 0===t?void 0:t.position))return!1;const i=["id","snapshotLocation","thumbnailUrl","presentationUrl"].every((t=>t in e)),n=null!==this.getCwfSnapshotCategory(e);return i&&n}getCwfViewmode(e){const t={[u.wO.DOLLHOUSE]:s.Ey.Dollhouse,[u.wO.PANORAMA]:s.Ey.Panorama,[u.wO.FLOORPLAN]:s.Ey.Floorplan,[u.wO.MESH]:s.Ey.Panorama};return e&&e in t?t[e]:null}getCwfSnapshotCategory(e){var t,i,n;if(e.category===u.EG.TOUR)return c.i.TOUR;if(e.origin===u.Au.VISION)return c.i.AUTO;if(e.type===u.BE.EQUIRECTANGULAR)return c.i.PANORAMA;const s=null===(n=null===(i=null===(t=e.snapshotLocation)||void 0===t?void 0:t.anchor)||void 0===i?void 0:i.pano)||void 0===n?void 0:n.placement;return e.type===u.BE.PHOTO2D?s===u.bW.MANUAL?c.i.UNALIGNED:c.i.USER:null}}},10648:(e,t,i)=>{"use strict";i.d(t,{IA:()=>o,pG:()=>l});var n=i(28721),s=i(10999),r=i(43017),a=i(11250);s.i.PANORAMA,s.i.TOUR,s.i.USER;const o=(e,t)=>{const i=e.name||(0,n.DZ)(e.created),s=t.name||(0,n.DZ)(t.created);return i.localeCompare(s)},l=(e,t,i,n)=>{var s;let o=null!==(s=i.currentMode)&&void 0!==s?s:r.Ey.Panorama;const l=e.pose.position.clone();return n&&!(0,r.Bw)(o)&&((0,a.Eb)(e.pose.pitchFactor())?(o=r.Ey.Floorplan,l.y=e.pose.fovCorrectedFocalDistance()+t.getFloorMin()):o=r.Ey.Dollhouse),{position:l,viewmode:o}}},27545:(e,t,i)=>{"use strict";i.d(t,{t:()=>n});class n{static get hasPassword(){const{model:e}=window.MP_PREFETCHED_MODELDATA||{};return e&&e.has_public_access_password}static get modelErrorCode(){var e,t;return null===(t=null===(e=window.MP_PREFETCHED_MODELDATA)||void 0===e?void 0:e.model)||void 0===t?void 0:t.error_code}static getQuery(e){var t,i,n;const s=(null===(t=window.MP_PREFETCHED_MODELDATA)||void 0===t?void 0:t.queries)||{};switch(e){case"GetModelPrefetch":{const t=s[e];if(!t)return;const r=null===(i=t.data)||void 0===i?void 0:i.model;if(!r)return;if(!(null===(n=r.locations)||void 0===n?void 0:n.length))return;return t}default:return s[e]}}static getQueryErrors(e){var t,i,n;return null===(n=null===(i=null===(t=window.MP_PREFETCHED_MODELDATA)||void 0===t?void 0:t.queries)||void 0===i?void 0:i[e])||void 0===n?void 0:n.errors}static get config(){var e;return null===(e=window.MP_PREFETCHED_MODELDATA)||void 0===e?void 0:e.config}}},70890:(e,t,i)=>{"use strict";i.d(t,{R:()=>l});var n=i(3952),s=i(83728),r=i(53257),a=i(99793);const o=new r.Z("PrefetchedQueryCache");class l{constructor(e){const{initialData:t,baseUrl:i,apqEnabled:r}=e;this.client=new n.w({baseUrl:i,apqEnabled:r}),this.config=e,t?this.data=t:e.prefetchPolicy===s.h.PRELOAD&&this.preload()}async read(e,t,i={}){const{prefetchKey:n,prefetchPolicy:r=this.config.prefetchPolicy}=i;if(!n||r===s.h.NONE)return;if((null==t?void 0:t.modelId)!==this.config.variables.modelId)return;r===s.h.PRELOAD&&void 0===this.data&&await this.preload();const a=this.has(n);return o.debug(`Cache ${a?"hit":"miss"} for ${n}`),a?this.data:void 0}clear(){this.data=void 0}async preload(){var e;return null!==(e=this.preloadPromise)&&void 0!==e?e:this.preloadPromise=(async()=>{const{query:e,variables:t,anonymous:i}=this.config;try{return this.data=await this.client.query(e,t,{anonymous:i}),!0}catch(e){return o.info(e),this.data={},!1}})()}has(e){return void 0!==(0,a.q)(this.data,e)}}},33315:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r});var n=i(42141),s=i(10835);class r extends n.V{constructor(e={}){super(),this.lastPublished=null,this.transactionState=s.g.IDLE,this.isInProcessingSubState=!1,Object.assign(this,e)}setTransactionState(e){if(e!==this.transactionState){if(![this.transactionState,e].includes(s.g.IDLE))throw new Error(`Cannot transition from ${this.transactionState} to ${e}`);this.transactionState=e,this.transactionState===s.g.IDLE&&(this.isInProcessingSubState=!1),this.commit()}}setProcessingSubState(e){if(e&&this.transactionState===s.g.IDLE)throw new Error("Cannot be in a Processing sub-state while Transaction State is Idle");this.isInProcessingSubState=e,this.commit()}}},37137:(e,t,i)=>{"use strict";i.d(t,{V:()=>s});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload=e}}s.id="SAVE_COMMAND"},10835:(e,t,i)=>{"use strict";var n,s;i.d(t,{Q:()=>s,g:()=>n}),function(e){e.IDLE="idle",e.SAVING="saving"}(n||(n={})),function(e){e.ON="on",e.BEFORE="before",e.AFTER="after"}(s||(s={}))},61399:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DataSavedMessage:()=>h.xj,ForbiddenError:()=>l,ForbiddenErrorMessage:()=>h.hu,PublishError:()=>d,PublishErrorMessage:()=>h.aT,SaveCommand:()=>n.V,SaveError:()=>c,SaveErrorMessage:()=>h.dz,StorageAnalytics:()=>m,StorageData:()=>f.Q,StorageError:()=>o,TransactionPhase:()=>s.Q,TransactionState:()=>s.g,default:()=>x,getErrorCodeForDataType:()=>u});var n=i(37137),s=i(10835),r=i(73943),a=i(35659);class o extends r.y{constructor(e,t="50001"){super(e),this.name="StorageError",this.code=t}}class l extends r.y{constructor(e,t="53100"){super(e),this.name="ForbiddenError",this.code=t}}class c extends r.y{constructor(e,t="53100"){super(e),this.name="SaveError",this.code=t}}class d extends r.y{constructor(e,t="53200"){super(e),this.name="PublishError",this.code=t}}function u(e){return{[a.g.BLUR_SUGGESTIONS]:"12",[a.g.BLURS]:"01",[a.g.FLOORS]:"02",[a.g.HIGHLIGHTS]:"03",[a.g.LABELS]:"04",[a.g.MATTERTAGS]:"05",[a.g.MEASUREMENTS]:"06",[a.g.NOTES]:"07",[a.g.OBJECT_ANNOTATIONS]:"15",[a.g.ORDERED_LISTS]:"13",[a.g.PHOTOS]:"08",[a.g.PLUGINS]:"17",[a.g.SETTINGS]:"09",[a.g.START_LOCATION]:"10",[a.g.SWEEPS]:"11",[a.g.LAYERS]:"14",[a.g.ROOM_BOUNDS]:"16"}[e]||"99"}var h=i(22286),p=i(26616);class m{constructor(){this.handlers=[{msgType:h.dz,func:(e,t)=>{const{dataTypes:i,error:n}=t,s=n.name||"SaveError",r={error_code:(0,p.UX)(n).join(", "),error_type:s,error_dialog:"banner",data_type:i?i.join(", "):"",exception:{message:`${s}: ${n.message}`,stack:n.stack},mock_error:(0,p.Ad)(n)};e.track("error_displayed",r)}},{msgType:h.aT,func:(e,t)=>{const{dataTypes:i,error:n}=t,s=n.name||"PublishError",r={error_code:(0,p.UX)(n).join(", "),error_type:s,error_dialog:"banner",data_type:i?i.join(", "):"",exception:{message:`${s}: ${n.message}`,stack:n.stack},mock_error:(0,p.Ad)(n)};e.track("error_displayed",r)}}]}}var f=i(33315),g=i(933),v=i(3952),y=i(24001),E=i(97725),b=i(79978),S=i(54232),O=i(53257),T=i(1055),_=i(61173),N=i(22925),w=i(31740),A=i(90512),I=i(60937),k=i(57793),P=i(50652),L=i(24938),D=i(88288);const R=new O.Z("publishing-manager");class M{constructor(e,t,i){this.engine=t,this.lock=i,this.client=e;const{market:n}=this.engine;Promise.all([n.waitForData(L.pu),n.waitForData(N.R)]).then((([e,i])=>{const n=i.getWorkshopSessionView();if(n)if(e.application===L.Mx.WORKSHOP)this.publish(n);else{const e=t.subscribe(D.bS,(t=>{t.application===L.Mx.WORKSHOP&&(e.cancel(),this.publish(n))}))}}))}async publish(e){const t=await this.lock.lock();R.debug("Publishing"),await this.mergeView(e.id).catch((e=>{R.error(e),t.unlock();const i="53200";if(e instanceof E.V2||e instanceof E.GT){const t=new l(e,i);throw this.engine.broadcast(new h.hu(t,[])),t}const n=new d(e,i);throw this.engine.broadcast(new h.aT(n,[])),n})),t.unlock(),await this.hasWorkshopChanges(e.id)?R.error("Auto-Publishing failed"):(R.debug("Auto-Publishing completed"),this.reloadWorkshop())}async mergeView(e){const t=await this.client.query(S.PublishView,{viewId:e}).catch((e=>{throw new b.w0(e)})),i="53200"===(0,T.eY)("error","");if(!v.w.isOk(t)||i){const e=new b.w0(v.w.getErrorMessage(t));throw i&&(e.isMock=!0),e}}async hasWorkshopChanges(e){var t,i,n;const s=null===(n=null===(i=null===(t=(await this.client.query(S.GetMergeDiff,{viewId:e}).catch((e=>{throw new b.Zb(e)}))).data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.mergeDiff)||void 0===n?void 0:n.typesModified;return!!s&&s.length>0}async reloadWorkshop(){const{market:e}=this.engine,[t,i,n,s]=await Promise.all([e.waitForData(w.Z),e.waitForData(A.O),e.waitForData(I.c),e.waitForData(k.M)]),r=P.K.serialize({cameraData:s,viewmodeData:i,floorsViewData:n,sweepData:t});r.set("edit","1"),r.set("qs","1"),(0,_.Vf)(r.toString())}}var C=i(59491);class x extends g.Y{constructor(){super(...arguments),this.name="storage",this.saveHandlers=new Set,this.lock=new y.H,this.pendingSaves=0,this.unsavedChangesPopup=e=>{this.data.transactionState!==s.g.IDLE&&e.preventDefault()}}async init(e,t){const{baseUrl:i,apqEnabled:s}=e;this.config=e,this.engine=t,this.client=new v.w({baseUrl:i,apqEnabled:s}),this.data=new f.Q,this.bindings.push(t.commandBinder.addBinding(n.V,(e=>this.save(e.dataTypes,e.onCallback,e.skipDirtyUpdate))),(0,C.k1)((()=>window.addEventListener("beforeunload",this.unsavedChangesPopup)),(()=>window.removeEventListener("beforeunload",this.unsavedChangesPopup)))),t.market.waitForData(N.R).then((e=>{e.isWorkshopSessionView()&&new M(this.client,this.engine,this.lock)})),t.market.register(this,f.Q,this.data)}dispose(e){super.dispose(e)}onSave(e,t={}){const i={callback:e,dataType:t.dataType,phase:t.phase||s.Q.ON};return(0,C.k1)((()=>this.saveHandlers.add(i)),(()=>this.saveHandlers.delete(i)),!0)}async save(e,t,i=!1){this.pendingSaves++;const n=await this.lock.lock(),r=t=>{this.log.error(t),this.pendingSaves--,n.unlock(),0===this.pendingSaves&&this.data.setTransactionState(s.g.IDLE);const i=e[0]?`531${u(e[0])}`:"53100";if(t instanceof E.V2||t instanceof E.GT){const n=new l(t,i);throw this.engine.broadcast(new h.hu(n,e)),n}const r=new c(t,i);throw this.engine.broadcast(new h.dz(r,e)),r};this.log.debug(`Saving ${[...e].join(", ")}...`),this.data.setTransactionState(s.g.SAVING);const{before:a,on:o,after:d}=this.getCallbacksByPhase(this.saveHandlers,e);await Promise.all(a.map((e=>e()))).catch(r),await Promise.all(o.map((e=>e()))).catch(r),t&&await t().catch(r),this.engine.broadcast(new h.xj(e)),await Promise.all(d.map((e=>e()))).catch(r),this.pendingSaves--,n.unlock(),0===this.pendingSaves&&this.data.setTransactionState(s.g.IDLE),this.log.debug(`Saving ${[...e].join(", ")} completed`)}getCallbacksByPhase(e,t){const i=Array.isArray(t)?t:Object.values(a.g),n=[...e.values()].filter((e=>!e.dataType||i.includes(e.dataType))),r={[s.Q.BEFORE]:[],[s.Q.ON]:[],[s.Q.AFTER]:[]};return n.reduce(((e,t)=>(e[t.phase].push((()=>t.callback(i))),e)),r)}}},22286:(e,t,i)=>{"use strict";i.d(t,{aT:()=>a,dz:()=>r,hu:()=>o,xj:()=>s});var n=i(8126);class s extends n.v0{constructor(e){super(),this.dataTypes=e}}class r extends n.v0{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class a extends n.v0{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class o extends n.v0{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}},31372:(e,t,i)=>{"use strict";i.d(t,{B_:()=>s,ED:()=>a,FI:()=>l,M3:()=>n,My:()=>r,Tm:()=>d,ke:()=>o,pr:()=>c});const n="subscriber_prompt",s="subscriber-prompt-active",r="subscriber-prompt-active",a=Object.freeze({popupDelay:14500,popupEnabled:!1,bannerEnabled:!1,domainDenylist:["ea4141d5b45bcfce5ac984955a7df9f74b323182","500ef59c0e9bd523a5e102d4b229b85df4c008c2","55d9b1786668eb25ce174aa06d46535054046935","44a68fb615814e263894da681018ed5687527b75","750514616c13561e878f04cd38cedc4bd3028f60","633e98d1f7cf36879e21d642068af2196d67a229","2566065b5d698efd82a16854185501ee2ea8eae6"]}),o={enabled:"spEnabled",forceBanner:"spBanner",forcePopup:"spPopup",forcePolicy:"spPolicy",forceReferrer:"spReferrer"},l="spaces.visitor.subscriber.prompt",c="mp/subscriber-prompt-dismissed",d="https://matterport.page.link/v2s-download"},15478:(e,t,i)=>{"use strict";i.d(t,{L:()=>n});const n=new(i(53257).Z)("subscriber-prompt")},68540:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(68687);class s extends n.Z{}},16013:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(68687);class s extends n.Z{constructor(e,t,i,n){super(e,n),this.alignmentType=t,this.placementType=i}}},68687:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.fromSweep=t,this.toSweep=e,this.timestamp=Date.now()}}},84376:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>d,hU:()=>s,z9:()=>n});var n,s,r=i(81396),a=i(64831),o=i(7516);!function(e){e.ALIGNED="aligned",e.UNALIGNED="unaligned"}(n||(n={})),function(e){e.UNPLACED="unplaced",e.AUTO="auto",e.MANUAL="manual"}(s||(s={}));const l={[o.SL.BASE]:"512",[o.SL.STANDARD]:"1k",[o.SL.HIGH]:"2k",[o.SL.ULTRAHIGH]:"4k"},c={[o.SL.BASE]:"low",[o.SL.STANDARD]:"high",[o.SL.HIGH]:"2k",[o.SL.ULTRAHIGH]:"4k"};class d extends a.T{constructor(e){super(),this._sourceViewId=null,this.floorId=null,this.roomId=null,this.skyboxes={},e&&(null!=e.sourceViewId&&(this._sourceViewId=e.sourceViewId),e.platformId&&(this._platformId=e.platformId),this._id=d.formatId(this._platformId,this._sourceViewId),void 0!==e.index&&(this.index=e.index),this.name=e.name||"",this.position=e.position||new r.Vector3,this.floorPosition=e.floorPosition||new r.Vector3,void 0!==e.floorId&&(this.floorId=e.floorId),this.roomId=e.roomId||null,this.rotation=e.rotation||new r.Quaternion,this.enabled=e.enabled||!1,this.vrenabled=e.vrenabled||!1,this.neighbours=e.neighbours||[],this.alignmentType=e.alignmentType||n.ALIGNED,this.placementType=e.placementType||s.UNPLACED,void 0!==e.uuid&&(this.uuid=e.uuid),e.resolutions&&(this.resolutions=e.resolutions.slice()),e.skyboxes&&(this.skyboxes=Object.assign({},e.skyboxes)))}static formatId(e,t){return t?`${t}:${e}`:e}get id(){return this._id}get platformId(){return this._platformId}get sourceViewId(){return this._sourceViewId}isAligned(){return this.alignmentType===n.ALIGNED}isUnplaced(){return this.placementType===s.UNPLACED}deepEquals(e){if(!this.equals(e))return!1;for(const t in this.skyboxes)for(const i in e.skyboxes){const n=this.skyboxes[t],s=e.skyboxes[i];if(n&&s&&n.getCurrentValue()!==s.getCurrentValue())return!1}return!0}equals(e){return this.id===e.id&&this.index===e.index&&this.name===e.name&&this.position.equals(e.position)&&this.floorId===e.floorId&&this.roomId===e.roomId&&this.rotation.equals(e.rotation)&&this.enabled===e.enabled&&this.vrenabled===e.vrenabled&&this.alignmentType===e.alignmentType&&this.placementType===e.placementType}copy(e){return this._id=e._id,this._sourceViewId=e._sourceViewId,this._platformId=e._platformId,this.index=e.index,this.name=e.name,this.position=(new r.Vector3).copy(e.position),this.floorPosition=(new r.Vector3).copy(e.floorPosition),this.floorId=e.floorId,this.roomId=e.roomId,this.rotation=(new r.Quaternion).copy(e.rotation),this.enabled=e.enabled,this.vrenabled=e.vrenabled,this.neighbours=e.neighbours.slice(),this.alignmentType=e.alignmentType,this.placementType=e.placementType,this.resolutions=e.resolutions,this.skyboxes=Object.assign({},e.skyboxes),this}clone(){return new d({platformId:this.platformId}).copy(this)}availableResolution(e){if(!e||!this.resolutions)throw new Error("No available resolution found for sweep");return this.resolutions.includes(e)?e:this.availableResolution(this.getLowerResolution(e))}getLowerResolution(e){switch(e){case o.SL.ULTRAHIGH:return o.SL.HIGH;case o.SL.HIGH:return o.SL.STANDARD;case o.SL.STANDARD:return o.SL.BASE}return null}refresh(e){var t;const i=this.equals(e);this.alignmentType=e.alignmentType,this.enabled=e.enabled,this.name=e.name,this.neighbours=e.neighbours.slice(),this.placementType=e.placementType,this.resolutions=e.resolutions,this.vrenabled=e.vrenabled;for(const i in this.skyboxes){const n=i,s=e.skyboxes[n];s&&(null===(t=this.skyboxes[n])||void 0===t||t.refreshFrom(s))}i||this.commit()}async getTileUrl(e,t,i,n){var s;const r=await this.getSkybox(e);return(null!==(s=null==r?void 0:r.tileUrlTemplate)&&void 0!==s?s:`tiles/${this.id}/${l[e]}_face<face>_<x>_<y>.jpg`).replace("<face>",`${t}`).replace("<x>",`${i}`).replace("<y>",`${n}`)}async getFaceUrl(e,t){var i;const n=await this.getSkybox(e);return(null!==(i=null==n?void 0:n.urlTemplate)&&void 0!==i?i:`pan/${c[e]}/${this.id}_skybox<face>.jpg`).replace("<face>",`${t}`)}async getSkybox(e){const t=this.skyboxes[e];return t?t.get():t}}},2959:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s,f:()=>r});var n=i(32332);class s extends n.f{constructor(e="SweepException"){super(e),this.name="SweepException"}}class r extends s{constructor(e="Tried to start transition while another transition was active"){super(e),this.name="SweepTransitionActiveException"}}},62900:(e,t,i)=>{"use strict";i.d(t,{ZD:()=>d,aK:()=>s,e9:()=>l,iF:()=>r,kR:()=>a,pf:()=>o,zd:()=>c});var n=i(56063);class s extends n.m{constructor(e){super(),this.sweepId=e,this.payload={sweepId:e}}}s.id="SET_CURRENT_SWEEP";class r extends n.m{constructor(e,t,i=500){super(),this.payload={id:e,selected:t,duration:i}}}r.id="SELECT_SWEEP";class a extends n.m{constructor(e,t,i=500){super(),this.payload={id:e,hovered:t,duration:i}}}a.id="HOVER_SWEEP";class o extends n.m{constructor(e,t=[],i=[]){super(),this.payload={id:e,added:t,removed:i}}}o.id="MODIFY_SWEEP_NEIGHBORS";class l extends n.m{constructor(e){super(),this.payload={visible:e}}}l.id="TOGGLE_NON_PANO_CURRENT_PUCK";class c extends n.m{}c.id="ENABLE_SWEEP_SELECTION";class d extends n.m{}d.id="DISABLE_SWEEP_SELECTION"},31740:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(84376),s=i(42141),r=i(42896),a=i(6373),o=i(63926),l=i(45602);class c extends s.V{constructor(e){super(),this.name="sweeps",this.transitionActive=!1,this._unfilteredSweepMap=new r.v,this.sweepMap=new a.Q(this._unfilteredSweepMap),e&&this.addSweeps(e),this.transition={progress:new o.z(0),active:!1,from:void 0,to:void 0},this.isSweepDisabled=this.isSweepDisabled.bind(this)}addFilter(e,t){return this.sweepMap.setFilter(e,t)}clearFilters(){this.sweepMap.clearFilters()}removeSweeps(e){const t=Object.values(e).map((e=>e.id));return this._unfilteredSweepMap.atomic((()=>{const i=this._unfilteredSweepMap.values;for(const n of i)if(e[n.id])this._unfilteredSweepMap.delete(n.id);else{let e=!1;t.forEach((t=>{(0,l.bX)(n.neighbours,t)&&(e=!0)})),e&&n.commit()}})),this}addSweeps(e){const t=Object.values(e).sort(((e,t)=>e.index-t.index));return this._unfilteredSweepMap.atomic((()=>{for(const e of t)this._unfilteredSweepMap.has(e.id)?(this._unfilteredSweepMap.get(e.id).copy(e),this._unfilteredSweepMap.get(e.id).commit()):this._unfilteredSweepMap.set(e.id,e)})),this}refresh(e){this._unfilteredSweepMap.forEach(((t,i)=>{e[i]&&t.refresh(e[i])}))}canTransition(){return!this.transition.active}get currentSweepIndex(){if(this.currentSweep&&this.sweepMap.has(this.currentSweep))return this.getSweep(this.currentSweep).index}get currentSweepObject(){if(this.currentSweep&&this.sweepMap.has(this.currentSweep))return this.getSweep(this.currentSweep)}get currentAlignedSweepObject(){if(this.currentSweep&&!this.isSweepUnaligned(this.currentSweep))return this.getSweep(this.currentSweep)}makeSweepChangeSubscription(e){return this.onPropertyChanged("currentSweep",e)}getSweep(e){let t=this._unfilteredSweepMap.get(null!=e?e:"");if(!t)for(const i of this._unfilteredSweepMap.values)i.platformId!==e||(t=i);return t}getSweepByIndex(e){return this._unfilteredSweepMap.values.find((t=>t.index===e))}getSweepByUuid(e){return this._unfilteredSweepMap.values.find((t=>t.uuid===e))}containsSweep(e){return!!e&&this.sweepMap.has(e)}getFirstSweep(e=!1){const t=this.getSweepList().sort(((e,t)=>e.index-t.index));let i=-1;for(;++i<t.length;){const s=t[i];if(s.enabled&&(!e||s.alignmentType===n.z9.ALIGNED))return s}}getFirstAlignedSweep(){return this.getFirstSweep(!0)||null}getStartSweep(e){const t=e&&e.pano&&e.pano.uuid?this.getSweep(e.pano.uuid):null;return t&&t.enabled?t:this.getFirstSweep()}getClosestSweep(e,t){let i=Number.MAX_VALUE,s=null;return this.iterate((r=>{if(r.enabled&&(!t||r.alignmentType===n.z9.ALIGNED)){const t=e.distanceTo(r.position);t<i&&(i=t,s=r)}})),s}getSweepIdMap(e){const t={};for(const i of this.sweepMap)e?t[i.uuid]=i.platformId:(t[i.id]=i.uuid,t[i.platformId]=i.uuid);return t}activateTransition(e,t){this.transition.active=!0,this.transition.from=t,this.transition.to=e,this.transitionActive=!0}deactivateTransition(){this.transition.active=!1,this.transition.from=void 0,this.transition.to=void 0,this.transitionActive=!1}isSweepUnaligned(e){if(!e)return!1;const t=this.getSweep(e);return t&&!t.isAligned()}isSweepAligned(e){if(!e)return!1;const t=this.getSweep(e);return t&&t.isAligned()}isSweepDisabled(e=this.currentSweep){if(!e)return!1;const t=this.getSweep(e);return!t||!t.enabled}*sweeps(){for(const e of this.sweepMap.values)yield e}iterate(e){for(const t of this.sweepMap.values)e(t,t.index)}filter(e){return this.sweepMap.values.filter(e)}sortByScore(e,t,i){return(i||this.sweepMap.values).filter((t=>e.every((e=>e(t))))).map((e=>({sweep:e,score:t.reduce(((t,i)=>t+i(e)),0)}))).sort(((e,t)=>t.score-e.score))}getSweepList(){return this.sweepMap.values}getAlignedSweeps(){return this.getSweepList().filter((e=>e.alignmentType===n.z9.ALIGNED))}onSweepsChanged(e){return this.sweepMap.onChanged(e)}getSweepNeighbours(e){const t=[];for(const i of e.neighbours)t.push(this.getSweep(i));return t}getAlternateSweeps(e){const t=[];if(!e)return t;for(const i of this.sweepMap.values)i.platformId===e.platformId&&i.id!==e.id&&t.push(i);return t}getCollection(){return this.sweepMap}getCollectionUnfiltered(){return this._unfilteredSweepMap}}},61565:(e,t,i)=>{"use strict";i.d(t,{D5:()=>g,H7:()=>c,SF:()=>y,T3:()=>l,WO:()=>u,_T:()=>d,_k:()=>f,b1:()=>h,ff:()=>a,jN:()=>E,nK:()=>p,no:()=>v,pI:()=>m,vO:()=>o});var n=i(84376),s=i(81396);const r=.25,a=e=>t=>t!==e,o=e=>t=>!!e.neighbours&&-1!==e.neighbours.indexOf(t.id),l=e=>t=>e===t||o(e)(t),c=e=>e&&e.placementType===n.hU.MANUAL,d=()=>e=>e&&e.alignmentType===n.z9.ALIGNED,u=()=>e=>e&&e.alignmentType!==n.z9.ALIGNED,h=e=>t=>t&&e.floorId===t.floorId,p=e=>t=>t&&e===t.floorId,m=(()=>{const e=new s.Vector3,t=new s.Vector3;return(i,n,s=r)=>r=>e.copy(r.position).sub(i).normalize().dot(t.copy(n).normalize())>s})(),f=()=>e=>e&&e.enabled,g=(e,t)=>{const i=new s.Vector3;return t=t.clone(),n=>i.copy(n.position).sub(e).normalize().dot(t)>0},v=(e,t)=>i=>e.distanceTo(i.position)>t,y=(e,t)=>i=>e.distanceTo(i.position)<t,E=(e,t)=>i=>e.distanceToSquared(i.position)<t},93907:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>K});var n=i(933),s=i(4763),r=i(90288),a=i(32332),o=i(93827),l=i(86743),c=i(4218),d=i(83069),u=i(68661),h=i(96544),p=i(35659),m=i(37137),f=i(22925),g=i(49095),v=i(90512),y=i(71439),E=i(5860),b=i(93797),S=i(53257);const O=new S.Z("mds-sweep-serializer");class T{serialize(e){const t={};return void 0===e.enabled&&void 0===e.vrenabled||(t.tags=[],e.enabled&&t.tags.push("showcase"),e.vrenabled&&t.tags.push("vr")),this.validate(t)?t:null}validate(e){if(!e)return!1;const t=["tags"],i=t.some((t=>t in e)),n=0===Object.keys(e).filter((e=>!t.includes(e))).length,s=void 0===e.tags||Array.isArray(e.tags),r=s&&i&&n;return r||O.debug("Invalid AnchorPatch:",{tagsIsArrayIfPresent:s,hasSomeChanges:i,hasNoExtraChanges:n,mutableFields:t,data:e}),r}}var _=i(84376),N=i(32197),w=i(7516),A=i(38256),I=i(73908),k=i(80383);const P=new S.Z("mds-sweep-serializer"),L={[k.bW.AUTO]:_.hU.AUTO,[k.bW.MANUAL]:_.hU.MANUAL,[k.bW.UNPLACED]:_.hU.UNPLACED},D={[k.Mk.VISION]:_.z9.ALIGNED,[k.Mk.UPLOAD]:_.z9.UNALIGNED};class R{constructor(){this._sourceViewId=null}setSourceViewId(e){this._sourceViewId=e}deserialize(e){var t,i,n,s;if(!e||!this.validate(e))return P.debug("Deserialized invalid Sweep data from MDS",e),null;const r=e,a=new _.ZP({platformId:r.id,sourceViewId:this._sourceViewId});a.index=r.index,a.enabled=!!(null===(t=r.tags)||void 0===t?void 0:t.includes("showcase")),a.vrenabled=!!(null===(i=r.tags)||void 0===i?void 0:i.includes("vr")),a.neighbours=r.neighbors||[],r.position&&(a.floorPosition=N.ep.fromVisionVector(r.position)),a.floorId=(null===(n=r.floor)||void 0===n?void 0:n.id)||null,a.roomId=(null===(s=r.room)||void 0===s?void 0:s.id)||null;const o=r.pano;let l=o.label||"";if(l===`${a.index}`&&(l=""),a.name=l,a.alignmentType=D[o.source],a.uuid=o.sweepUuid||"",a.alignmentType===_.z9.ALIGNED?a.placementType=_.hU.AUTO:a.placementType=L[o.placement],o.position){const e=N.ep.fromVisionVector(o.position);a.placementType!==_.hU.AUTO&&e.distanceTo(a.floorPosition)>1e3&&(a.placementType=_.hU.UNPLACED),a.position=e}a.resolutions=[];const c=o.skyboxes||[];if(o.resolutions)for(const e of o.resolutions){const t=this.getPanoSizeClass(e),i=this.makeSkybox(c.find((t=>t.resolution===e)));t&&i?(a.resolutions.push(t),a.skyboxes[t]=i):P.debug(`Invalid pano size class ${e}`)}return o.rotation&&(a.rotation=N.ep.fromVisionQuaternion(o.rotation)),a.floorId||(a.alignmentType===_.z9.ALIGNED?P.debug(`Aligned sweep ${a.index} has no floor association`):a.placementType===_.hU.MANUAL&&P.debug(`Manually placed sweep ${a.index} has no floor association`)),a.roomId||a.alignmentType===_.z9.ALIGNED&&P.debug(`Aligned sweep ${a.index} has no room association`),a}validate(e){if(!e)return!1;const t=[],i=["id","index","tags"];if(t.push((()=>i.every((t=>t in e)))),t.push((()=>"number"==typeof e.index)),t.push((()=>!!e.position&&(0,I.u)(e.position))),t.push((()=>"pano"in e&&!!e.pano)),e.pano){const{placement:i,source:n,position:s}=e.pano;t.push((()=>!!i&&i in L)),t.push((()=>!!n&&n in D)),t.push((()=>!!s&&(0,I.u)(s)))}return t.every((e=>e()))}getPanoSizeClass(e){const t={low:w.SL.BASE,high:w.SL.STANDARD,"2k":w.SL.HIGH,"4k":w.SL.ULTRAHIGH};return e in t?t[e]:void 0}makeSkybox(e){if(e&&e.tileUrlTemplate&&e.tileResolution&&e.tileCount)return new h.n({tileUrlTemplate:e.tileUrlTemplate,tileResolution:parseInt(e.tileResolution,10),tileCount:e.tileCount,urlTemplate:null!==e.urlTemplate?e.urlTemplate:void 0},(0,A.p)(e.validUntil,null))}}var M=i(16385);const C=new S.Z("mds-sweep-serializer");class x{serialize(e){const t={};return e.rotation&&(t.rotation=(0,M.J5)(N.ep.toVisionQuaternion(e.rotation))),e.position&&(t.position=(0,M.m)(N.ep.toVisionVector(e.position))),e.placementType&&e.placementType===_.hU.UNPLACED&&(t.resetPlacement=!0,t.resetFloor=!0,t.resetRoom=!0),"roomId"in e&&(e.roomId?t.roomId=e.roomId:t.resetRoom=!0),"floorId"in e&&(e.floorId?(t.floorId=e.floorId,t.roomId||(t.resetRoom=!0)):t.resetFloor=!0),"name"in e&&(t.label=e.name||""),this.validate(t)?t:null}validate(e){if(!e)return!1;const t=["resetPlacement","resetFloor","resetRoom","rotation","position","floorId","roomId","label"],i=t.some((t=>t in e)),n=0===Object.keys(e).filter((e=>!t.includes(e))).length,s=i&&n;return s||C.debug("Invalid PanoramaLocation:",{hasSomeChanges:i,hasNoExtraChanges:n,mutableFields:t,data:e}),s}}const F=new S.Z("mds-sweep-store");class U extends b.u{constructor(){super(...arguments),this.deserializer=new R,this.panoSerializer=new x,this.anchorSerializer=new T,this.prefetchKey="data.model.locations",this.syncedViewMap={}}async read(e={}){var t,i,n,s,r,a,o,l,c,d,u,h,p,m,f,g,v;const{readonly:y}=this.config,b=null!==(t=e.modelId)&&void 0!==t?t:this.getViewId(),S={modelId:b};let O;O=y?await this.query(E.GetShowcaseSweeps,S,e):await this.query(E.GetSweeps,S,e);const T=null!==(c=null!==(r=null===(s=null===(n=null===(i=null==O?void 0:O.data)||void 0===i?void 0:i.model)||void 0===n?void 0:n.baseView)||void 0===s?void 0:s.model.id)&&void 0!==r?r:null===(l=null===(o=null===(a=null==O?void 0:O.data)||void 0===a?void 0:a.model)||void 0===o?void 0:o.legacyBaseView)||void 0===l?void 0:l.model.id)&&void 0!==c?c:this.getBaseViewId(),_=((null===(u=null===(d=null==O?void 0:O.data)||void 0===d?void 0:d.model)||void 0===u?void 0:u.defurnishViews)||[]).map((e=>e.model.id));for(const e of _)this.syncedViewMap[e]=[T,..._.filter((t=>t!==e))],this.syncedViewMap[T]=this.syncedViewMap[T]?[...this.syncedViewMap[T],e]:[e];const N=null===(p=null===(h=null==O?void 0:O.data)||void 0===h?void 0:h.model)||void 0===p?void 0:p.locations,w=null!==(v=null===(g=null===(f=null===(m=null==O?void 0:O.data)||void 0===m?void 0:m.model)||void 0===f?void 0:f.overlayLayers)||void 0===g?void 0:g.some((e=>e.id)))&&void 0!==v&&v;if(!N||!Array.isArray(N))return null;this.deserializer.setSourceViewId(w?b:null);const A={},I={};for(const e of N){if(!e)continue;const t=this.deserializer.deserialize(e);t&&(A[t.id]=t,I[t.platformId]=t)}this.deserializer.setSourceViewId(null);for(const e of Object.values(A))e.neighbours=e.neighbours.filter((e=>e in I)),e.neighbours=e.neighbours.map((e=>I[e].id));return A}async refresh(e={}){return super.refresh(Object.assign({fetchPolicy:"no-cache"},e))}async update(e){if(!e||0===e.length)return;const t=[],i=new Map,n=this.getViewId();e.forEach((e=>{const t=e.sourceViewId||n,s=i.get(t)||[];s.push(e);const r=this.syncedViewMap[t]||[];for(const t of r){if(this.panoSerializer.serialize(e)){const n=i.get(t)||[];n.push(e),i.set(t,n)}}i.set(t,s)}));let s=0;for(const e of i.keys()){const n=i.get(e)||[];let r="";const a={};a.modelId=e;let o="";for(const e of n){s++;const t=this.panoSerializer.serialize(e),i=this.anchorSerializer.serialize(e);if(!t&&!i){F.debug("No changes to update:",e);continue}r+=""+(t?`, $pano${s}: PanoramicImageLocationPatch!`:"")+` ${i?`, $anchor${s}: AnchorPatch!`:""} `,t&&(a[`pano${s}`]=t),i&&(a[`anchor${s}`]=i),o+=`\n          ${t?`\n            panoLocation${s}: patchPanoLocation(modelId: $modelId, , locationId: "${e.id}", patch: $pano${s}) {\n              id\n              placement\n              model { id }\n              position { x y z }\n              rotation { x y z w }\n            }`:""}\n          ${i?`\n            panoAnchor${s}: patchAnchor(modelId: $modelId, , anchorId: "${e.id}", patch: $anchor${s}) {\n              id\n              tags\n              model { id }\n              floor { id, meshId }\n              room { id, meshId }\n            }`:""}\n        `}if(F.devInfo(o),""===o)continue;const l=y.gql`
        mutation sweepUpdate($modelId: ID! ${r}) {
          ${o}
        }
      `;t.push({mutation:l,variables:a})}return t.map((e=>F.devInfo(e.variables))),Promise.all(t.map((e=>this.mutate(e.mutation,e.variables)))).then((()=>{}))}}var H=i(31740),j=i(68540),V=i(16013),B=i(68687),G=i(62900),W=i(2959);const z=l.qb;class K extends n.Y{constructor(){super(),this.name="sweep-data",this.data=new H.Z,this.monitor=null,this.internalProgress=!1,this.filteredViewSubscription=null,this.activeOverlayViewId=null,this.ensureValidSweep=()=>{var e;const t=this.cameraModule.cameraData;if(t.transition.active&&t.transition.promise){return t.transition.promise.then((()=>{this.ensureValidSweep()}))}const i=!this.data.containsSweep(this.data.currentSweep),n=this.data.getSweep(this.data.currentSweep);if(this.data.currentSweep&&i){let i=this.data.getClosestSweep(t.pose.position,!0);if(n){const e=this.data.getAlternateSweeps(n)[0];e&&(i=e)}if(i)return(null===(e=this.engine.market.tryGetData(v.O))||void 0===e?void 0:e.isPano())?this.moveToSweep({sweepId:i.id,transitionType:n&&this.data.isSweepAligned(i.id)?r.nF.Interpolate:r.nF.Instant,transitionTime:500}).nativePromise():this.setCurrentSweep({sweepId:i.id})}return Promise.resolve()},this.moveToSweep=this.moveToSweep.bind(this),this.activateSweepUnsafe=this.activateSweepUnsafe.bind(this),this.instantSweepTransition=this.instantSweepTransition.bind(this),this.beginSweepTransition=this.beginSweepTransition.bind(this),this.endSweepTransition=this.endSweepTransition.bind(this),this.setCurrentSweep=this.setCurrentSweep.bind(this),this.sweepNeighborModify=this.sweepNeighborModify.bind(this)}async init(e,t){const{readonly:i}=e;this.engine=t,this.market=this.engine.market,this.bindings.push(t.commandBinder.addBinding(G.aK,this.setCurrentSweep),t.commandBinder.addBinding(G.pf,(async e=>this.sweepNeighborModify(e))),this.data.onSweepsChanged(this.ensureValidSweep)),this.cameraModule=await this.engine.getModuleBySymbol(s.kg),this.store=await this.initSweepStore(e,t),this.market.register(this,H.Z,this.data),!1===i&&(this.monitor=new c.c(this.data.getCollectionUnfiltered(),{aggregationType:d.E.Debounced,aggregationDuration:250,shallow:!0},t),this.monitor.onChanged((()=>this.engine.commandBinder.issueCommand(new m.V({dataTypes:[p.g.SWEEPS]})))),t.getModuleBySymbol(s.Lx).then((e=>{this.bindings.push(e.onSave((()=>this.save()),{dataType:p.g.SWEEPS}))})))}getSweepOnView(e,t=null){var i;const n=this.data.getSweep(e),s=null!==(i=null==n?void 0:n.platformId)&&void 0!==i?i:e,r=null!=t?t:this.activeOverlayViewId;return this.data.getSweep(_.ZP.formatId(s,r))}async setCurrentSweep(e){if(e.sweepId)try{const t=e.sweepId;await this.activateSweepUnsafe({sweepId:t}),this.beginSweepTransition({sweepId:t,transitionTime:0,internalProgress:!0}),this.data.currentSweep=t,this.endSweepTransition({sweepId:t}),this.data.commit()}catch(e){this.log.error(e)}else this.data.currentSweep=void 0,this.data.commit()}sweepNeighborModify(e){if(e.id){const t=this.data.getSweep(e.id);t&&t.atomic((()=>{let i=!1;for(const n of e.added)-1===t.neighbours.indexOf(n)&&this.data.containsSweep(n)&&(t.neighbours.push(n),i=!0);for(const n of e.removed){const e=t.neighbours.indexOf(n);-1!==e&&(t.neighbours.splice(e,1),i=!0)}i&&t.commit()}))}}moveToSweep(e){var t;const i=new o.Q;let n=e.sweepId;if(n&&!this.data.containsSweep(n)&&this.data.getSweepByUuid(n)&&(n=null===(t=this.data.getSweepByUuid(n))||void 0===t?void 0:t.id,e.sweepId=n),n){const t=n,i=this.getSweepOnView(n);i&&(n=i.id,e.sweepId=n,n!==t&&this.log.info(`moveToSweep ${t} is not available in view, moving to ${n}.`))}if(!n||!this.data.getSweep(n))return this.log.error(`moveToSweep error ${JSON.stringify(e)}`,"Invalid sweep"),o.Q.reject(new W.Z("Invalid sweep"));const s=e;if(!this.data.canTransition()||!this.cameraModule.cameraData.canTransition())throw new W.f;return this.activateSweepUnsafe(s).then((()=>{if(!this.data.canTransition())throw new W.f;return this.beginSweepTransition(s),this.defaultSweepCameraMove(i,s)})).then((()=>{this.endSweepTransition(s),i.resolve()})).catch((e=>{e instanceof W.f||e instanceof W.Z?this.log.info(`moveToSweep ignored ${JSON.stringify(s)}`,e):e instanceof a.f&&(this.data.transition.from&&this.endSweepTransition({sweepId:this.data.transition.from}),this.log.info(`exception moving to sweep ${JSON.stringify(s)}`,e)),i.reject(e)})),i.promise()}async activateSweepUnsafe(e){return this.panoRenderer||(this.panoRenderer=(await this.engine.getModuleBySymbol(s.RR)).getRenderer()),this.panoRenderer.activateSweep(e.sweepId,!0)}instantSweepTransition(e){const t=this.data.currentSweep;this.beginSweepTransition({sweepId:e,transitionTime:0,internalProgress:!0}),this.data.currentSweep=e,this.data.commit(),this.engine.broadcast(new B.Z(e,t)),this.endSweepTransition({sweepId:e})}beginSweepTransition(e){this.data.activateTransition(e.sweepId,this.data.currentSweep),this.internalProgress=e.internalProgress||!1,this.data.transition.progress.modifyAnimation(0,1,e.transitionTime||0,e.easing||z),this.data.commit(),this.engine.broadcast(new j.Z(e.sweepId,this.data.currentSweep))}endSweepTransition(e){const t=this.data.transition.from,i=this.data.getSweep(e.sweepId);this.data.deactivateTransition(),this.data.currentSweep=e.sweepId,this.data.transition.progress.stop(1),this.internalProgress=!1,this.data.commit(),this.engine.broadcast(new V.Z(e.sweepId,i.alignmentType,i.placementType,t))}async defaultSweepCameraMove(e,t){const i={position:this.data.getSweep(t.sweepId).position,rotation:t.rotation};let n=r.nF.Interpolate;void 0!==t.transitionType&&r.nF[t.transitionType]&&(n=t.transitionType),(this.data.isSweepUnaligned(t.sweepId)||this.data.isSweepUnaligned(this.data.currentSweep))&&(n=r.nF.FadeToBlack);const s=this.cameraModule.moveTo({transitionType:n,pose:i,transitionTime:t.transitionTime,transitionSpeedMultiplier:t.transitionSpeedMultiplier,easing:t.easing,rotationDelay:t.rotationDelay,projection:t.projection});let a=!1;return s.progress((i=>{if(this.data.transition.progress.updateProgress(i),e.notify(i),i>=.5&&!a){a=!0;const e=this.data.currentSweep;this.data.currentSweep=t.sweepId,this.data.commit(),this.engine.broadcast(new B.Z(t.sweepId,e))}})),s.nativePromise()}async initSweepStore(e,t){const{readonly:i,baseUrl:n}=e,s=await t.market.waitForData(f.R),r=new U({context:s.mdsContext,readonly:i,baseUrl:n}),a=async()=>{var e;const t=s.getCurrentView(),i=(0,g.W1)(t)?t.id:null;this.activeOverlayViewId=i;const n=s.getView(null!=i?i:s.getWorkshopOrBaseId());if(this.data.getSweepList().length&&r.getViewId()===n.id)return;r.setStoreViewId(n.id);const a=await(null===(e=r.refresh)||void 0===e?void 0:e.call(r,{fetchPolicy:"cache-first"}))||{};(0,h.s)(a,(async()=>{var e;const t=await(null===(e=r.refresh)||void 0===e?void 0:e.call(r,{modelId:n.id,fetchPolicy:"no-cache"}))||{};this.data.refresh(t)})),this.data.addSweeps(a),this.filteredViewSubscription&&this.filteredViewSubscription.cancel(),this.filteredViewSubscription=this.data.addFilter("sourceViewId",(e=>e.sourceViewId===i)),this.data.commit()};return this.bindings.push(s.onPropertyChanged("currentViewId",a)),await a(),r}onUpdate(e){this.internalProgress&&this.data.transition.active&&this.data.transition.progress.tick(e)}dispose(e){var t,i;super.dispose(e),null===(i=null===(t=this.store)||void 0===t?void 0:t.dispose)||void 0===i||i.call(t)}async save(){if(!this.store||!this.monitor)throw Error("No store configured for saving sweep edits!");const e=this.monitor.getDiffRecord();this.monitor.clearDiffRecord();const t=e.filter((e=>e.action===u.KI.updated)).map((e=>{const t=this.data.getSweep(e.index),i=Object.assign({id:t.platformId},e.diff);return("position"in i||"rotation"in i)&&(i.position=t.position,i.rotation=t.rotation),("enabled"in i||"vrenabled"in i)&&(i.enabled=t.enabled,i.vrenabled=t.vrenabled),t.placementType===_.hU.AUTO&&Y.forEach((e=>{e in i&&delete i[e]})),i}));return this.store.update(t)}}const Y=["floorId","position","rotation"]},66724:(e,t,i)=>{"use strict";i.d(t,{o:()=>s});var n=i(8126);class s extends n.v0{constructor(){super()}}},39060:(e,t,i)=>{"use strict";i.d(t,{Xd:()=>r,YS:()=>s,k4:()=>a});var n=i(1055);const s="settings/tiling/preload_quality",r=Object.freeze({overlayStyle:(0,n.eY)("tileoverlay",0),uploadIntervalDelay:50,highResUploadsPerFrame:2,maxHighResUploadsPerFrame:100,loadIndicatorDelay:300,uploadsPerFrame:6,maxUploadsPerFrame:100,windowHeightHighQualityThreshold:800,windowHeightHighQualityThresholdOverride:(0,n.eY)("threshold2k",void 0),concurrentDownloads:3,maxConcurrentDownloads:12,navigation:{directionFactor:10,distanceFactor:-1}});class a{constructor(){this.reset()}reset(){this.downloadFullPano=!1,this.concurrentDownloads=r.concurrentDownloads,this.uploadsPerFrame=r.uploadsPerFrame,this.highResUploadsPerFrame=r.highResUploadsPerFrame}}},38496:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});const n="features/360_views"},6041:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t,i){super(),this.sweepId=e,this.sweepIndex=t,this.totalSweeps=i}}},54909:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.sweepId=e,this.hovered=t}}},75961:(e,t,i)=>{"use strict";i.d(t,{C:()=>S,Y:()=>b});var n=i(81396),s=i(62900),r=i(86210),a=i(79242),o=i(6041),l=i(63511),c=i(72803),d=i(84376),u=i(16928),h=i(21676),p=i(54909),m=i(37437),f=i(5829),g=i(3835);const v=[],y=new n.Sphere;class E extends m.f{constructor(){super(...arguments),this.bindings=[]}}class b extends n.Mesh{raycast(e,t){if(super.raycast(e,v),v.length){const{geometry:i}=this;i.boundingSphere||i.computeBoundingSphere(),y.copy(i.boundingSphere).applyMatrix4(this.matrixWorld);for(const i of v)e.ray.intersectSphere(y,i.point),i.distance=e.ray.origin.distanceTo(i.point),t.push(i);v.length=0}}}class S{constructor(e,t,i,s,r,a,o,c=new n.Color(16724312),d=new n.Color(16724312),u=.8,h=.8,p=300,m=.4,f=l.o.ALL){this.scene=e,this.input=t,this.settingsData=i,this.sweepViewData=s,this.puckImagery=r,this.onFloor=a,this.checkRenderModes=o,this.idleColor=c,this.selectionColor=d,this.idleOpacity=u,this.editingOpacity=h,this.selectionDuration=p,this.puckSize=m,this.layer=f,this.sweepToMesh={},this.colliderToSweep={},this.editingEnabled=!1,this.dummyMat=new n.MeshBasicMaterial,this.puckOffset=new n.Vector3(0,.05,0),this.bindings=[],this.wasDrawing=!1,this.renderPuckHighlight=(e,t)=>{if(!this.sweepViewData.isSweepAligned(e))return;const i=this.sweepToMesh[e];null==i||i.configure({tint:t?this.selectionColor:this.idleColor})},this.isVisiblePuckCollider=e=>{var t;const i=e.userData.sid;return e instanceof b&&(null===(t=this.sweepViewData.getState(i))||void 0===t?void 0:t.visible)&&this.sweepViewData.getSweepVisibility(this.sweepViewData.getSweep(i))}}init(){if(this.puckGeometry=new n.PlaneGeometry(this.puckSize,this.puckSize),this.onFloor){const e=new n.Matrix4;e.makeRotationFromEuler(new n.Euler(-Math.PI/2,0,0,"XYZ")),this.puckGeometry.applyMatrix4(e)}this.sphereColliderGeometry=new n.SphereGeometry(.5*this.puckSize,10,10);const e=this.sweepViewData.getCollection(),t=(e,t)=>{this.removeSweepFromScene(t);const i=this.sweepToMesh[t];i&&(i.bindings.forEach((e=>e.cancel())),i.bindings.length=0),delete this.sweepToMesh[t],delete this.colliderToSweep[t]},i=(e,t)=>{this.wasDrawing=!1,this.createPuck(this.sweepViewData.getSweep(t))};e.entries().forEach((([e,t])=>i(0,e))),e.onElementsChanged((({removed:e,added:n})=>{e&&e.forEach((([e,i])=>t(0,e))),n&&n.forEach((([e,t])=>i(0,e)))}))}get displayDisabled(){return void 0!==this.puckImagery.disabled}createMesh(e){const t=new E({radius:this.puckSize/2,normal:g.fU.UP});this.onFloor?t.position.copy(e.floorPosition).add(this.puckOffset):(t.position.copy(e.position),t.rotation.setFromQuaternion(e.rotation)),t.name=e.id,t.updateMatrixWorld(!1),t.renderOrder=c.z.panoMarker,t.material.depthWrite=!1;const i=this.sweepViewData.getState(e.id),n=()=>this.updateMesh(e,i,t);return t.bindings.push(i.onChanged(n),e.onPropertyChanged("enabled",n)),n(),t.layers.mask=this.layer.mask,t}updateMesh(e,t,i){if(i.visible=t.visible){const{editingEnabled:s,puckImagery:r}=this,a=t.animation.value,o=s&&a>0,l=e.enabled?o?r.enabledHover:r.enabled:o?r.disabledHover:r.disabled;i.configure({texture:l instanceof n.Texture?l:null,rings:l instanceof n.Texture?void 0:l,tint:this.editingEnabled&&e.id===this.sweepViewData.selectedSweep?this.selectionColor:this.idleColor,opacity:(0,f.t)(s?this.editingOpacity:this.idleOpacity,1,a)})}}createCollider(e,t){let i;return i=this.onFloor?new b(this.puckGeometry,this.dummyMat):new b(this.sphereColliderGeometry,this.dummyMat),i.userData.sid=e.id,i.position.copy(t.position),i.rotation.copy(t.rotation),i.name=e.id,i.updateMatrixWorld(!1),i}createPuck(e){if(e.alignmentType!==d.z9.ALIGNED)return;const t=this.createMesh(e),i=this.createCollider(e,t);t.collider=i,this.sweepToMesh[e.id]=t,this.colliderToSweep[i.id]=e.id}toggleEditingEnabled(e){this.editingEnabled=e;for(const t in this.sweepToMesh){this.sweepToMesh[t].configure({opacity:e?this.editingOpacity:this.idleOpacity})}}getSweepId(e){return this.colliderToSweep[e]}updatePuckImagery(e){let t;this.displayDisabled||void 0===e.disabled?this.displayDisabled&&void 0===e.disabled&&(t=!1):t=!0,this.puckImagery=e,this.sweepViewData.iterate(((e,i)=>{if(e.alignmentType===d.z9.ALIGNED&&(this.updateMesh(e,i,this.sweepToMesh[e.id]),void 0!==t)){if(e.enabled)return;t?this.addSweepToScene(e.id):this.removeSweepFromScene(e.id)}}))}updateCheckRenderModes(e){this.checkRenderModes=e}removeSweepFromScene(e){const t=this.sweepToMesh[e];t&&(this.scene.remove(t),this.input.unregisterMesh(t.collider))}addSweepToScene(e){if(!this.sweepViewData.getSweep(e).enabled&&!this.displayDisabled)return;const t=this.sweepToMesh[e];this.scene.add(t),this.input.registerMesh(t.collider,!0,this.isVisiblePuckCollider)}render(){const e=this.checkRenderModes(),t=this.settingsData.tryGetProperty(u.U,!0);if(e&&t){if(!this.wasDrawing){for(const e in this.sweepToMesh)this.addSweepToScene(e);this.wasDrawing=!0}}else if(this.wasDrawing){for(const e in this.sweepToMesh)this.removeSweepFromScene(e);this.wasDrawing=!1}}dispose(){for(const e in this.sweepToMesh)this.sweepToMesh[e].dispose()}activate(e){this.wasDrawing=!1;const t=h.s.is(this.isVisiblePuckCollider);this.bindings.push(this.input.registerMeshHandler(r.z,t,((t,i)=>{e.commandBinder.issueCommand(new s.kR(this.getSweepId(i.id),!0,this.selectionDuration)),e.broadcast(new p.Z(this.getSweepId(i.id),!0))}))),this.bindings.push(this.input.registerMeshHandler(r.A,t,((t,i)=>{e.commandBinder.issueCommand(new s.kR(this.getSweepId(i.id),!1,this.selectionDuration)),e.broadcast(new p.Z(this.getSweepId(i.id),!1))}))),this.bindings.push(this.input.registerMeshHandler(a.Rd,t,((t,i)=>{const n=this.sweepViewData.getSweep(this.colliderToSweep[i.id]).index,s=this.sweepViewData.getAlignedSweeps(!0).length;e.broadcast(new o.Z(this.colliderToSweep[i.id],n,s))})))}deactivate(e){for(const e in this.sweepToMesh)this.removeSweepFromScene(e);for(const e of this.bindings)e.cancel();this.bindings.length=0}}},16928:(e,t,i)=>{"use strict";i.d(t,{U:()=>n});const n="features/sweep_pucks"},79884:(e,t,i)=>{"use strict";i.d(t,{D:()=>h});var n=i(42141),s=i(85726),r=i(84376),a=i(61565),o=i(42896),l=i(64831),c=i(63926);class d extends l.T{constructor(){super(...arguments),this.selected=!1,this.visible=!0,this.animation=new c.z(0)}}var u=i(42456);class h extends n.V{constructor(e){super(),this.data=e,this.name="sweeps-view",this.states=new o.v,this.defaultSweepVisibilityRule=e=>e&&e.enabled,this.sweepVisibilityRule=this.defaultSweepVisibilityRule,this.bindings=[],this.selectCurrentSweep=()=>{this.setSelectedSweep(this.data.currentSweep||null)},this.derivedData={},this.toolStateObservable=new s.f(u._.CLOSED),this.selectedSweepObservable=new s.f(null);const t=[u._.MOVING,u._.PLACING,u._.PRESSING,u._.ROTATING],i=(e,t)=>{if(!this.states.has(t)){const i=new d;i.selected=t===this.selectedSweep,i.commit(),this.states.set(t,i),this.derivedData[t]=this.makeViewDataForSweep(e,e.index)}},n=(e,t)=>{if(this.states.has(t)){const e=this.states.get(t);e.selected=!1,e.animation.stop(0),this.states.delete(t),delete this.derivedData[t]}},r=e.getCollection();r.forEach(((e,t)=>i(e,t))),this.bindings.push(r.onElementsChanged((e=>{this.atomic((()=>{var t,s,r;null===(t=e.removed)||void 0===t||t.forEach((([e,t])=>n(0,e))),null===(s=e.added)||void 0===s||s.forEach((([e,t])=>i(t,e))),null===(r=e.updated)||void 0===r||r.forEach((([e,t])=>{this.derivedData[t.id]=this.makeViewDataForSweep(t,t.index)}))})),this.updateViewData()})),e.makeSweepChangeSubscription((()=>{t.includes(this.toolState)||this.selectCurrentSweep()}))),this.updateViewData()}updateViewData(){this.data.iterate(((e,t)=>{this.derivedData[e.id]=this.makeViewDataForSweep(e,t)})),this.commit()}updateSweepVisibilityRule(e){this.sweepVisibilityRule=e||this.defaultSweepVisibilityRule}getSweepVisibility(e){return this.sweepVisibilityRule(e)}get selectedSweep(){return this.selectedSweepObservable.value}setSelectedSweep(e){if(e===this.selectedSweep)return;const t=this.selectedSweep;if(this.selectedSweepObservable.value=e,null!==e){const t=this.getState(e);t&&(t.selected=!0,t.commit())}if(null!==t){const e=this.getState(t);e&&(e.selected=!1,e.commit())}}onSelectedSweepChanged(e){return this.selectedSweepObservable.onChanged(e)}setToolState(e){e===u._.PLACING&&this.selectedSweep&&this.setSelectedSweep(null),this.toolStateObservable.value=e}get toolState(){return this.toolStateObservable.value}onToolStateChanged(e){return this.toolStateObservable.onChanged(e)}getSweep(e){return this.data.getSweep(e)}makeViewDataForSweep(e,t){const i=this.derivedData[e.id];return i?(i.floorId=e.floorId,i.position=e.position,i.alignmentType=e.alignmentType,i.placed=e.placementType===r.hU.MANUAL,i.enabled=e.enabled,i.name=e.name,i):{id:e.id,floorId:e.floorId,position:e.position,index:e.index,alignmentType:e.alignmentType,dataIndex:t,placed:e.placementType===r.hU.MANUAL,enabled:e.enabled,name:e.name}}getViewData(e){const t=this.data.getSweep(e),i=this.derivedData[e];return t&&!i&&(this.derivedData[e]=this.makeViewDataForSweep(t,t.index)),this.derivedData[e]}isSweepAligned(e){return this.data.isSweepAligned(e)}getCollection(){return this.states}iterate(e){this.states.entries().forEach((([t,i])=>{const n=this.data.getSweep(t);e(n,i,this.derivedData[t])}))}getState(e){return this.states.get(e)}isVisible(e){const t=this.states.get(e);return(null==t?void 0:t.visible)||!1}setVisible(e,t){const i=this.getState(e);i&&i.visible!==t&&(i.visible=t,i.commit())}updateAnimations(e){for(const t of this.states)t.animation.tick(e)}modifySelectAnimation(e,t,i){const n=this.getState(e);if(!n)return;const s=n.animation,r=1===s.endValue;t!==r&&(r?s.modifyAnimation(s.value,0,i):s.modifyAnimation(0,1,i))}getIndexByAlignment(e,t){return this.getAlignedSweeps(e).findIndex((e=>e.id===t))}getAlignedSweeps(e){const t=this.data.getSweepList();return(e?t.filter((0,a._T)()):t.filter((0,a.WO)())).map(((e,t)=>this.derivedData[e.id]))}}},42456:(e,t,i)=>{"use strict";var n;i.d(t,{_:()=>n}),function(e){e.CLOSED="closed",e.IDLE="idle",e.PRESSING="pressing",e.PLACING="placing",e.MOVING="moving",e.ROTATING="rotating",e.ROTATED="rotated"}(n||(n={}))},54798:(e,t,i)=>{"use strict";i.d(t,{n:()=>S});var n=i(81396),s=i(42141),r=i(85726),a=i(42896),o=i(6373),l=i(3835),c=i(1455);function d(e,t,i,n,s){if(isNaN(t)||isNaN(i)||isNaN(n))return e;var r,a,o,l,c,d,u,h,p,m,f,g,v=e._root,y={data:s},E=e._x0,b=e._y0,S=e._z0,O=e._x1,T=e._y1,_=e._z1;if(!v)return e._root=y,e;for(;v.length;)if((h=t>=(a=(E+O)/2))?E=a:O=a,(p=i>=(o=(b+T)/2))?b=o:T=o,(m=n>=(l=(S+_)/2))?S=l:_=l,r=v,!(v=v[f=m<<2|p<<1|h]))return r[f]=y,e;if(c=+e._x.call(null,v.data),d=+e._y.call(null,v.data),u=+e._z.call(null,v.data),t===c&&i===d&&n===u)return y.next=v,r?r[f]=y:e._root=y,e;do{r=r?r[f]=new Array(8):e._root=new Array(8),(h=t>=(a=(E+O)/2))?E=a:O=a,(p=i>=(o=(b+T)/2))?b=o:T=o,(m=n>=(l=(S+_)/2))?S=l:_=l}while((f=m<<2|p<<1|h)==(g=(u>=l)<<2|(d>=o)<<1|c>=a));return r[g]=v,r[f]=y,e}function u(e,t,i,n,s,r,a){this.node=e,this.x0=t,this.y0=i,this.z0=n,this.x1=s,this.y1=r,this.z1=a}function h(e){return e[0]}function p(e){return e[1]}function m(e){return e[2]}function f(e,t,i,n){var s=new g(null==t?h:t,null==i?p:i,null==n?m:n,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?s:s.addAll(e)}function g(e,t,i,n,s,r,a,o,l){this._x=e,this._y=t,this._z=i,this._x0=n,this._y0=s,this._z0=r,this._x1=a,this._y1=o,this._z1=l,this._root=void 0}function v(e){for(var t={data:e.data},i=t;e=e.next;)i=i.next={data:e.data};return t}var y=f.prototype=g.prototype;y.copy=function(){var e,t,i=new g(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root;if(!n)return i;if(!n.length)return i._root=v(n),i;for(e=[{source:n,target:i._root=new Array(8)}];n=e.pop();)for(var s=0;s<8;++s)(t=n.source[s])&&(t.length?e.push({source:t,target:n.target[s]=new Array(8)}):n.target[s]=v(t));return i},y.add=function(e){var t=+this._x.call(null,e),i=+this._y.call(null,e),n=+this._z.call(null,e);return d(this.cover(t,i,n),t,i,n,e)},y.addAll=function(e){var t,i,n,s,r,a=e.length,o=new Array(a),l=new Array(a),c=new Array(a),u=1/0,h=1/0,p=1/0,m=-1/0,f=-1/0,g=-1/0;for(i=0;i<a;++i)isNaN(n=+this._x.call(null,t=e[i]))||isNaN(s=+this._y.call(null,t))||isNaN(r=+this._z.call(null,t))||(o[i]=n,l[i]=s,c[i]=r,n<u&&(u=n),n>m&&(m=n),s<h&&(h=s),s>f&&(f=s),r<p&&(p=r),r>g&&(g=r));if(u>m||h>f||p>g)return this;for(this.cover(u,h,p).cover(m,f,g),i=0;i<a;++i)d(this,o[i],l[i],c[i],e[i]);return this},y.cover=function(e,t,i){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(i=+i))return this;var n=this._x0,s=this._y0,r=this._z0,a=this._x1,o=this._y1,l=this._z1;if(isNaN(n))a=(n=Math.floor(e))+1,o=(s=Math.floor(t))+1,l=(r=Math.floor(i))+1;else{for(var c,d,u=a-n||1,h=this._root;n>e||e>=a||s>t||t>=o||r>i||i>=l;)switch(d=(i<r)<<2|(t<s)<<1|e<n,(c=new Array(8))[d]=h,h=c,u*=2,d){case 0:a=n+u,o=s+u,l=r+u;break;case 1:n=a-u,o=s+u,l=r+u;break;case 2:a=n+u,s=o-u,l=r+u;break;case 3:n=a-u,s=o-u,l=r+u;break;case 4:a=n+u,o=s+u,r=l-u;break;case 5:n=a-u,o=s+u,r=l-u;break;case 6:a=n+u,s=o-u,r=l-u;break;case 7:n=a-u,s=o-u,r=l-u}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=s,this._z0=r,this._x1=a,this._y1=o,this._z1=l,this},y.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},y.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},y.find=function(e,t,i,n){var s,r,a,o,l,c,d,h,p,m=this._x0,f=this._y0,g=this._z0,v=this._x1,y=this._y1,E=this._z1,b=[],S=this._root;for(S&&b.push(new u(S,m,f,g,v,y,E)),null==n?n=1/0:(m=e-n,f=t-n,g=i-n,v=e+n,y=t+n,E=i+n,n*=n);h=b.pop();)if(!(!(S=h.node)||(r=h.x0)>v||(a=h.y0)>y||(o=h.z0)>E||(l=h.x1)<m||(c=h.y1)<f||(d=h.z1)<g))if(S.length){var O=(r+l)/2,T=(a+c)/2,_=(o+d)/2;b.push(new u(S[7],O,T,_,l,c,d),new u(S[6],r,T,_,O,c,d),new u(S[5],O,a,_,l,T,d),new u(S[4],r,a,_,O,T,d),new u(S[3],O,T,o,l,c,_),new u(S[2],r,T,o,O,c,_),new u(S[1],O,a,o,l,T,_),new u(S[0],r,a,o,O,T,_)),(p=(i>=_)<<2|(t>=T)<<1|e>=O)&&(h=b[b.length-1],b[b.length-1]=b[b.length-1-p],b[b.length-1-p]=h)}else{var N=e-+this._x.call(null,S.data),w=t-+this._y.call(null,S.data),A=i-+this._z.call(null,S.data),I=N*N+w*w+A*A;if(I<n){var k=Math.sqrt(n=I);m=e-k,f=t-k,g=i-k,v=e+k,y=t+k,E=i+k,s=S.data}}return s},y.remove=function(e){if(isNaN(r=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e))||isNaN(o=+this._z.call(null,e)))return this;var t,i,n,s,r,a,o,l,c,d,u,h,p,m,f,g=this._root,v=this._x0,y=this._y0,E=this._z0,b=this._x1,S=this._y1,O=this._z1;if(!g)return this;if(g.length)for(;;){if((u=r>=(l=(v+b)/2))?v=l:b=l,(h=a>=(c=(y+S)/2))?y=c:S=c,(p=o>=(d=(E+O)/2))?E=d:O=d,t=g,!(g=g[m=p<<2|h<<1|u]))return this;if(!g.length)break;(t[m+1&7]||t[m+2&7]||t[m+3&7]||t[m+4&7]||t[m+5&7]||t[m+6&7]||t[m+7&7])&&(i=t,f=m)}for(;g.data!==e;)if(n=g,!(g=g.next))return this;return(s=g.next)&&delete g.next,n?(s?n.next=s:delete n.next,this):t?(s?t[m]=s:delete t[m],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(i?i[f]=g:this._root=g),this):(this._root=s,this)},y.removeAll=function(e){for(var t=0,i=e.length;t<i;++t)this.remove(e[t]);return this},y.root=function(){return this._root},y.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},y.visit=function(e){var t,i,n,s,r,a,o,l,c=[],d=this._root;for(d&&c.push(new u(d,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=c.pop();)if(!e(d=t.node,n=t.x0,s=t.y0,r=t.z0,a=t.x1,o=t.y1,l=t.z1)&&d.length){var h=(n+a)/2,p=(s+o)/2,m=(r+l)/2;(i=d[7])&&c.push(new u(i,h,p,m,a,o,l)),(i=d[6])&&c.push(new u(i,n,p,m,h,o,l)),(i=d[5])&&c.push(new u(i,h,s,m,a,p,l)),(i=d[4])&&c.push(new u(i,n,s,m,h,p,l)),(i=d[3])&&c.push(new u(i,h,p,r,a,o,m)),(i=d[2])&&c.push(new u(i,n,p,r,h,o,m)),(i=d[1])&&c.push(new u(i,h,s,r,a,p,m)),(i=d[0])&&c.push(new u(i,n,s,r,h,p,m))}return this},y.visitAfter=function(e){var t,i=[],n=[];for(this._root&&i.push(new u(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=i.pop();){var s=t.node;if(s.length){var r,a=t.x0,o=t.y0,l=t.z0,c=t.x1,d=t.y1,h=t.z1,p=(a+c)/2,m=(o+d)/2,f=(l+h)/2;(r=s[0])&&i.push(new u(r,a,o,l,p,m,f)),(r=s[1])&&i.push(new u(r,p,o,l,c,m,f)),(r=s[2])&&i.push(new u(r,a,m,l,p,d,f)),(r=s[3])&&i.push(new u(r,p,m,l,c,d,f)),(r=s[4])&&i.push(new u(r,a,o,f,p,m,h)),(r=s[5])&&i.push(new u(r,p,o,f,c,m,h)),(r=s[6])&&i.push(new u(r,a,m,f,p,d,h)),(r=s[7])&&i.push(new u(r,p,m,f,c,d,h))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},y.x=function(e){return arguments.length?(this._x=e,this):this._x},y.y=function(e){return arguments.length?(this._y=e,this):this._y},y.z=function(e){return arguments.length?(this._z=e,this):this._z};var E=i(32197),b=i(91524);class S extends s.V{constructor(e,t,i,n,s,l,d,u,h){super(),this.data=e,this.floorsData=t,this.cameraStartData=i,this.textParser=s,this.linkHandler=l,this.tagDefaultTitle=d,this.backgroundTexture=u,this.objectTagsEnabled=h,this.name="tags-view-data",this.tagViewsMap=(0,a.q)(),this.customSortIndexMap=new Map,this.spatialSortOrderMap=new Map,this.openTagViewObservable=(0,r.Y)(null),this.tagsMode=c.U.DEFAULT,this.tagOrder=c.D.ORDERED,this.openTagIsDirty=!1,this.creatingTag=!1,this.idVisibilityEnabled=!1,this.idVisibility=new Set,this.capabilities=new Map,this.refreshTagViews=e=>{const t={};this.data.iterate((e=>{t[e.sid]=this.createTagView(e)})),this.updateSortMaps(Object.values(t),e),this.tagViewsMap.atomic((()=>{this.tagViewsMap.replace(t)}))},this.sortByOrder=(e,t)=>{var i,n;const s=(null!==(i=this.customSortIndexMap.get(e.id))&&void 0!==i?i:Number.MAX_SAFE_INTEGER)-(null!==(n=this.customSortIndexMap.get(t.id))&&void 0!==n?n:Number.MAX_SAFE_INTEGER);if(s)return s;const r=this.spatialSortOrderMap.get(e.id),a=this.spatialSortOrderMap.get(t.id);if(void 0===r||void 0===a)throw new Error("All ids should exist in spatialPositions");return r-a},this.sortByText=(e,t)=>{function i(e,t){return(e.label.trim()||e.description||t).toLowerCase()}return i(e,this.tagDefaultTitle)<i(t,this.tagDefaultTitle)?-1:1},this.orderedTagViews=new o.Q(this.tagViewsMap),this.orderedTagViews.priority=o.K.LOW,this.orderedTagViews.setFilter("objectTag",(e=>!e.objectAnnotationId)),this.refreshTagViews(n),this.orderedTagViews.sort(this.sortByOrder)}getAlphabeticTagViewMapFilter(){return this.alphabeticalTagViews||(this.alphabeticalTagViews=new o.Q(this.tagViewsMap),this.alphabeticalTagViews.priority=o.K.LOW,this.alphabeticalTagViews.setFilter("objectTag",(e=>!e.objectAnnotationId)),this.alphabeticalTagViews.sort(this.sortByText)),this.alphabeticalTagViews}getCollection(){return this.tagViewsMap}getOrderedTagViewMapFilter(){return this.orderedTagViews}getOrderedTags(e){return this.getEnabledTagViewsList(this.orderedTagViews,e)}getTagsByText(e){const t=this.getAlphabeticTagViewMapFilter();return this.getEnabledTagViewsList(t,e)}getEnabledTagViewsList(e,t){const i=e.values;return t?i.filter((e=>e.enabled)):i}getTextParser(){return this.textParser}getLinkHandler(){return this.linkHandler}getCapabilities(e){const t={focus:!0};this.capabilities.has(e)||this.capabilities.set(e,t);const i=this.capabilities.get(e)||t;return Object.assign({},i)}updateCapabilities(e,t){this.capabilities.set(e,Object.assign({},t))}setEmbedErrorTagId(e){this.embedErrorTagId=e,this.commit()}setTagsMode(e){this.tagsMode=e,this.commit()}getTagCount(e){return this.getOrderedTags(e).length}hasCustomSortOrder(){return this.customSortIndexMap.size>0}getTagView(e){return this.tagViewsMap.get(e)}createTagView(e){const t=e.getPin();return Object.assign(Object.assign({},t),{id:e.sid,created:e.created,modified:e.modified,label:e.label,description:e.description,enabled:e.enabled,layerId:e.layerId,attachments:[...e.externalAttachments,...e.fileAttachments,...e.sandboxAttachments],objectAnnotationId:e.objectAnnotationId,keywords:e.keywords,icon:e.icon,backgroundTexture:this.backgroundTexture})}setOpenTagView(e){this.openTagViewObservable.value=e}get openTagView(){return this.openTagViewObservable.value}onOpenTagViewChanged(e){return this.openTagViewObservable.onChanged(e)}getAvailableKeywords(){return Array.from(new Set(this.data.getTagKeywords()))}updateSortMaps(e,t){t&&this.updateCustomSortMap(t),this.updateSpatialSortMap(e),this.orderedTagViews.setDirty(!0)}updateCustomSortMap(e){this.customSortIndexMap.clear(),e.forEach(((e,t)=>this.customSortIndexMap.set(e,t)))}updateSpatialSortMap(e){const{floorsData:t,cameraStartData:i}=this,s=i.pose.camera.position||l.fU.ZERO,r=i.pose.camera.rotation||new n.Quaternion,a=t.getClosestFloorAtHeight(s.y).index,o=(0,E.xS)(s,r,(0,b.AN)(1));this.spatialSortOrderMap.clear();let c=0;for(let i=0;i<t.getFloorCount();i++){const r=(a+i)%t.getFloorCount(),l=t.getFloorAtIndex(r);if(!l)continue;const d=e.filter((e=>e.floorId===l.id));if(0===d.length)continue;let u,h=1/0;const p=new n.Vector3,m=(new f).x((e=>e.x)).y((e=>e.y)).z((e=>e.z));m.addAll(d.map((e=>{p.copy(e.stemNormal).setLength(e.stemLength).add(e.anchorPosition);const t={id:e.id,x:p.x,y:p.y,z:p.z},i=p.distanceToSquared(s);return i<h&&o.containsPoint(p)&&(h=i,u=t),t})));let g=null!=u?u:m.find(s.x,s.y,s.z);this.spatialSortOrderMap.set(g.id,c++),m.remove(g);let v=d.length-1;for(;v>0;)g=m.find(g.x,g.y,g.z),this.spatialSortOrderMap.set(g.id,c++),m.remove(g),v--}}}},62603:(e,t,i)=>{"use strict";i.d(t,{$B:()=>g,$J:()=>a,Li:()=>E,QG:()=>o,Rj:()=>c,Sq:()=>y,T3:()=>m,Ws:()=>s,aI:()=>v,bg:()=>l,fe:()=>p,gD:()=>S,kT:()=>b,lt:()=>h,q4:()=>u,xb:()=>f,yU:()=>r,zt:()=>d});var n=i(56063);class s extends n.m{}s.id="REGISTER_TAGS_TOOL";class r extends n.m{constructor(e){super(),this.payload={opened:e}}}r.id="TAGS_TOGGLE";class a extends n.m{constructor(){super()}}a.id="TAG_START_ADD";class o extends n.m{constructor(e,t,i,n,s){super(),this.payload={id:e,properties:t,pendingAttachments:i,removedAttachments:n,embed:s}}}o.id="TAG_SAVE";class l extends n.m{constructor(e,t){super(),this.payload={id:e,visible:t}}}l.id="TAG_VISIBILITY_TOGGLE";class c extends n.m{constructor(){super()}}c.id="TAG_CANCEL_EDITS";class d extends n.m{constructor(e){super(),this.payload={tagId:e}}}d.id="TAG_EDIT";class u extends n.m{constructor(e){super(),this.payload={dirty:e}}}u.id="TAG_DIRTY_TOGGLE";class h extends n.m{constructor(e,t){super();const{transition:i=null,dock:n=null,objectTag:s=!1,forceOpen:r=!1}=t||{};this.payload={tagId:e,transition:i,dock:n,objectTag:s,forceOpen:r}}}h.id="TAG_OPEN";class p extends n.m{constructor(e){super(),this.payload={updates:e}}}p.id="TAG_UPDATE_OPEN_TAGVIEW";class m extends n.m{constructor(e,t){super(),this.payload={id:e,removalMethod:t}}}m.id="TAG_DELETE";class f extends n.m{constructor(){super()}}f.id="TAG_CLOSE";class g extends n.m{constructor(e){super(),this.payload={ids:e}}}g.id="TAG_ORDER_SAVE";class v extends n.m{constructor(e){super(),this.payload={enabled:e}}}v.id="TAGS_VISIBILITY_FILTER_ENABLED";class y extends n.m{constructor(e){super(),this.payload={ids:e}}}y.id="FILTER_VISIBLE_TAGS_COMMAND";class E extends n.m{constructor(e){super(),this.payload={mode:e}}}E.id="SET_REORDERING_MODE";class b extends n.m{constructor(e){super(),this.payload={order:e}}}b.id="TAG_ORDER_BY_SET";class S extends n.m{constructor(e){super(),this.payload={id:e}}}S.id="SET_EMBED_ERROR_ID"},1455:(e,t,i)=>{"use strict";var n,s;i.d(t,{D:()=>s,U:()=>n}),function(e){e.DEFAULT="default",e.REORDERING="reordering"}(n||(n={})),function(e){e.ORDERED="by-tag-order",e.ALPHABETICAL="by-tag-text",e.FLOOR_ORDERED="by-floor-ordered",e.FLOOR_ALPHABETICAL="by-floor-alphabetical"}(s||(s={}))},89056:(e,t,i)=>{"use strict";i.d(t,{MS:()=>a,QM:()=>l,Qy:()=>n,RV:()=>o,ek:()=>s,ho:()=>r});const n="tags2",s="TAG_NAV_OVERLAY",r="TAG_BILLBOARD_SHARE",a="TAG_BILLBOARD_DOCK",o="features/tagIcons",l="tagTitleOnTop";Object.freeze({colors:["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#03687d","#03a9f4","#00bcd4","#417505","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"]})},59635:(e,t,i)=>{"use strict";i.d(t,{U:()=>s});var n=i(64831);class s extends n.T{constructor(e){super(),this.order=1e4,this.showModeControls=!0,this.showTourControls=!0,e&&Object.assign(this,e)}}},70593:(e,t,i)=>{"use strict";i.d(t,{t:()=>o});var n=i(42141),s=i(42896),r=i(6373),a=i(27163);class o extends n.V{constructor(){super(),this.name="tools-data",this.tools=(0,s.q)(),this.assetDocked=!1,this.activeToolName=null,this.previousToolName=null,this.openModal=null,this.toolPanelLayout=o.defaultToolPanelLayout,this.softOpening=!1,this.toolCollapsed=!1,this.toolChangeInProgress=!1,this.toolPalettes=new r.Q(this.tools),this.toolPalettes.setFilter("enabled",(e=>e.enabled)),this.toolPalettes.setFilter("palette",(e=>!!e.palette)),this.toolPalettes.sort(((e,t)=>e.order-t.order)),this.toolPalettes.priority=r.K.LOW}iterate(e){for(const t of this.tools)e(t)}get toolsMap(){return this.tools}getToolPalettes(){return this.toolPalettes.groupBy("palette")}hasTool(e){return this.toolsMap.has(e)}getTool(e){return this.tools.get(e)}addTool(...e){e.forEach((e=>this.tools.set(e.id,e)))}removeTool(...e){e.forEach((e=>{var t;const i=this.getTool(e);(null===(t=null==i?void 0:i.manager)||void 0===t?void 0:t.dispose)&&i.manager.dispose(),this.tools.delete(e)}))}removeAllTools(){this.iterate((e=>{var t;(null===(t=e.manager)||void 0===t?void 0:t.dispose)&&e.manager.dispose()})),this.tools.clear()}getActiveTool(){return this.activeToolName?this.getTool(this.activeToolName):null}setActiveTool(e){this.previousToolName=e?this.activeToolName:null,this.activeToolName=e,this.commit()}isPanelOpen(){return this.toolPanelLayout===a.wS.SIDE_PANEL||this.toolPanelLayout===a.wS.BOTTOM_PANEL}isToolCollapsedToBottom(){return this.toolPanelLayout===a.wS.BOTTOM_PANEL&&this.toolCollapsed}}o.defaultToolPanelLayout=a.wS.NORMAL},92257:(e,t,i)=>{"use strict";i.d(t,{CH:()=>p,Fg:()=>s,MV:()=>l,Ye:()=>o,cR:()=>c,eS:()=>h,qy:()=>r,r_:()=>d,tT:()=>a,z2:()=>u});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={collapse:e}}}s.id="TOOL_PANEL_TOGGLE_COLLAPSE";class r extends n.m{constructor(e){super(),this.payload={collapse:e}}}r.id="TOOL_BOTTOM_PANEL_COLLAPSE";class a extends n.m{constructor(e,t){super(),this.payload={toolName:e,active:t}}}a.id="TOGGLE_TOOL";class o extends n.m{constructor(e){super(),this.payload={checkForEdits:e}}}o.id="CLOSE_REMOVE_TOOLS";class l extends n.m{constructor(e){super(),this.payload={tools:e}}}l.id="REGISTER_TOOLS";class c extends n.m{}c.id="OPEN_PREVIOUS_TOOL";class d extends n.m{}d.id="OPEN_INITIAL_TOOL";class u extends n.m{constructor(e,t=!1){super(),this.payload={toolName:e,softOpening:t}}}u.id="OPEN_TOOL";class h extends n.m{}h.id="CLOSE_CURRENT_TOOL";class p extends n.m{constructor(e){super(),this.payload={toolName:e}}}p.id="CLOSE_TOOL"},27163:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{$r:()=>s,w1:()=>n,wS:()=>r}),function(e){e.START_LOCATION="START_LOCATION",e.SCANS_3D="SCANS_3D",e.VIEW_360="VIEW_360",e.PHOTOS="PHOTOS",e.LABELS="LABELS",e.LAYERS="LAYERS",e.MEASUREMENTS="MEASUREMENTS",e.HLR="HLR",e.SETTINGS_PANEL="SETTINGS_PANEL",e.NOTES="NOTES",e.TAGS="TAGS",e.BLUR="BLUR",e.SEARCH="SEARCH",e.MESH_TRIM="MESH_TRIM",e.SUMMARY="SUMMARY",e.PLUGIN_CONFIG="PLUGIN_CONFIG",e.ROOM_BOUNDS="ROOM_BOUNDS",e.ROOM_VIEW="ROOM_VIEW",e.AD_DEFURNISH="AD_DEFURNISH",e.GIZMO_TRANSFORM="GIZMO_TRANSFORM",e.GIZMO_MAGNET="GIZMO_MAGNET"}(n||(n={})),function(e){e[e.VIEW_BASED=1]="VIEW_BASED",e[e.MODEL_BASED=2]="MODEL_BASED",e[e.MISC=3]="MISC"}(s||(s={})),function(e){e.NORMAL="normal",e.NARROW="narrow",e.SIDE_PANEL="side-panel",e.BOTTOM_PANEL="bottom-panel"}(r||(r={}))},47545:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});var n=i(48924),s=i(30300);function r(){const e=(0,n.w)(),t=(0,s.B)();return t&&e?e.getTool(t):null}},17106:(e,t,i)=>{"use strict";i.d(t,{e:()=>s});var n=i(47545);function s(){const e=(0,n.x)();return null==e?void 0:e.analytic}},30300:(e,t,i)=>{"use strict";i.d(t,{B:()=>a});var n=i(16996),s=i(16824),r=i(70593);const a=(0,n.M)(r.t,"activeToolName",null);(0,s.M)("activeTool",a)},77267:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var n=i(27163),s=i(27538);function r(){const e=(0,s.T)();return e===n.wS.NARROW||e===n.wS.BOTTOM_PANEL}},43948:(e,t,i)=>{"use strict";i.d(t,{R:()=>a});var n=i(16996),s=i(16824),r=i(70593);const a=(0,n.M)(r.t,"openModal",null);(0,s.M)("openModal",a)},43226:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r});var n=i(67294),s=i(48924);function r(e){const t=(0,s.w)(),[i,r]=(0,n.useState)((null==t?void 0:t.getTool(e))||null);return(0,n.useEffect)((()=>{if(!t)return()=>{};const i=t.onChanged((()=>r((null==t?void 0:t.getTool(e))||null)));return()=>i.cancel()}),[e,t]),i}},6704:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});var n=i(16996),s=i(70593);const r=(0,n.M)(s.t,"toolCollapsed",!1)},27538:(e,t,i)=>{"use strict";i.d(t,{T:()=>a});var n=i(16996),s=i(16824),r=i(70593);const a=(0,n.M)(r.t,"toolPanelLayout",r.t.defaultToolPanelLayout);(0,s.M)("toolPanelLayout",a)},48924:(e,t,i)=>{"use strict";i.d(t,{w:()=>a});var n=i(38908),s=i(16824),r=i(70593);const a=(0,n.u)(r.t);(0,s.M)("toolsData",a)},1591:(e,t,i)=>{"use strict";i.d(t,{B:()=>a,u:()=>r});var n=i(27163),s=i(67679);function r(e,t){const i=e.tryGetProperty(s.F,"");if(i)return i;if(t)return null;const r=e.getOverrideParam("tag","")?n.w1.TAGS:e.getOverrideParam("note","")?n.w1.NOTES:null;if(r)return r;const a=e.getOverrideParam("tool","").toUpperCase();return a||null}function a(e,t){return t.deepLinkParam?e.getOverrideParam(t.deepLinkParam,""):""}},2159:(e,t,i)=>{"use strict";i.d(t,{A:()=>r,U7:()=>a,bz:()=>c,ps:()=>l,rh:()=>o,ro:()=>s});var n=i(8126);class s extends n.v0{}class r extends n.v0{}class a extends n.v0{constructor(e){super(),this.collapsed=e}}class o extends n.v0{constructor(e,t){super(),this.active=e,this.collapsed=t}}class l extends n.v0{constructor(e){super(),this.show=e}}class c extends n.v0{constructor(e){super(),this.visible=e}}},67679:(e,t,i)=>{"use strict";i.d(t,{F:()=>r,GW:()=>n,tn:()=>s});const n=50,s=500,r="cloud_initial_tool"},61647:(e,t,i)=>{"use strict";i.d(t,{HW:()=>o,Ri:()=>c,TH:()=>s,r2:()=>l,rU:()=>a,vy:()=>r});var n=i(56063);class s extends n.m{constructor(e={}){super(),this.payload=e}}s.id="TOUR_START";class r extends n.m{constructor(e={}){super(),this.payload=e}}r.id="TOUR_STOP";class a extends n.m{constructor(e,t=!1){super(),this.payload={index:e,instant:t}}}a.id="TOUR_STEP";class o extends n.m{constructor(e,t=!1){super(),this.payload={forward:e,instant:t}}}o.id="TOUR_RELATIVE";class l extends n.m{constructor(){super()}}l.id="TOUR_NEXT_STEP";class c extends n.m{constructor(){super()}}c.id="TOUR_PREVIOUS_STEP"},11093:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r,z:()=>s});var n=i(73943);class s extends n.y{constructor(e="Invalid tour transition"){super(e),this.name="TourTransition"}}class r extends n.y{constructor(e="Cannot start tour"){super(e),this.name="TourStart"}}},30629:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{Aq:()=>r,BZ:()=>n,c5:()=>a,kw:()=>s}),function(e){e[e.Pan=0]="Pan",e[e.PanDollhouse=1]="PanDollhouse",e[e.Zoom=2]="Zoom",e[e.Delay=3]="Delay",e[e.None=4]="None"}(n||(n={})),function(e){e[e.Left=1]="Left",e[e.Auto=0]="Auto",e[e.Right=-1]="Right"}(s||(s={})),function(e){e[e.Move=0]="Move",e[e.Burns=1]="Burns",e[e.Zoom=2]="Zoom",e[e.Path=3]="Path",e[e.FloorChange=4]="FloorChange",e[e.Delay=5]="Delay",e[e.Nop=6]="Nop"}(r||(r={}));const a=[r.Burns,r.Zoom,r.Delay]},98375:(e,t,i)=>{"use strict";i.d(t,{Mt:()=>c,NR:()=>l,Vx:()=>r,_3:()=>o,dW:()=>a,oR:()=>s,sY:()=>d});var n=i(8126);class s extends n.v0{}class r extends n.v0{constructor(e){super(),this.index=e}}class a extends n.v0{constructor(e){super(),this.index=e}}class o extends n.v0{constructor(e,t,i){super(),this.index=e,this.transitionType=t,this.duration=i}}class l extends n.v0{constructor(e){super(),this.willResume=e}}class c extends n.v0{}class d extends n.v0{}},90129:(e,t,i)=>{"use strict";i.d(t,{BA:()=>I,BY:()=>l,Cp:()=>T,EU:()=>a,GS:()=>M,HJ:()=>N,Im:()=>c,LO:()=>d,Mk:()=>m,N5:()=>u,NY:()=>v,O2:()=>E,OJ:()=>o,Pv:()=>p,Qo:()=>h,WQ:()=>r,Xd:()=>V,_D:()=>_,_c:()=>w,b_:()=>D,dF:()=>F,eu:()=>g,f7:()=>O,gS:()=>y,g_:()=>U,i7:()=>x,lY:()=>k,mL:()=>f,mS:()=>R,pn:()=>P,rM:()=>b,su:()=>C,xs:()=>A,y:()=>H,z$:()=>L,z8:()=>S,zi:()=>j});var n=i(8152),s=i(7516);const r="TourSpeed &wts",a="ToursMetersPerSecond",o=.4,l=10,c=1.25,d=.8,u=6,h=3,p=1e3*d,m=1e3*c,f=600,g=400,v=1200,y=1200,E=35,b=15,S=120,O=1200,T=75,_=400,N=n.DEFAULT_TRANSITION_TIME-f,w=(s.SL.BASE,"kb"),A="sspa",I=35,k="st",P=I/3500*1e3,L=2,D=52,R=0,M=2e3,C=.2*P,x=3500,F=e=>1===e.getOverrideParam(w,1),U=e=>e.getOverrideParam(k,3500),H=e=>e.getOverrideParam(A,I),j=e=>e.getOverrideParam("ts",-1),V=Object.freeze({walkingTourIncludeExtraPanosDistance:.4,walkingStageMinimumDistance:.8,maxWalkingSweepsBetweenSnapshots:40})},78383:(e,t,i)=>{"use strict";i.d(t,{DA:()=>c,HG:()=>a,JG:()=>o,mf:()=>l});var n=i(32197),s=i(43627),r=i(90129);const a=e=>{let t=r.Im;if(!isNaN(e)){const i=Math.min(Math.max(r.OJ,e),r.BY);t=(0,n.et)(i,r.OJ,r.BY,r.LO,r.Qo)}return t},o=e=>(0,n.et)(e,r.LO,r.N5,r.OJ,r.BY),l=e=>Math.min(Math.max(r.LO,e),r.N5),c=e=>(0,s.Id)(e)/1e3},18097:(e,t,i)=>{"use strict";i.d(t,{T:()=>o});var n=i(42141),s=i(42896),r=i(85726),a=i(7755);class o extends n.V{constructor(e,t,i){super(),this.data=e,this.currentTourMode=i,this.name="tours-view-data",this.reelOpen=!1,this.tourSweepsObservable=(0,s.q)(),this.tourModeSettingObservable=(0,r.Y)(t)}getPhotosForTour(e){return this.data.getPhotosForTour(e)}isTourEmpty(){return 0===this.data.getSnapshotCount()}onReelChanged(e){return this.data.getReel().onChanged(e)}getTourStoryMode(){return this.currentTourMode===a.zz.STORIES}get tourModeSetting(){return this.tourModeSettingObservable.value}setTourModeSetting(e){this.tourModeSettingObservable.value=e}onTourModeSettingChanged(e){return this.tourModeSettingObservable.onChanged(e)}getSnapshot(e){return this.data.getSnapshot(e)}setSweepsInToursAcrossViews(e){this.atomic((()=>{this.tourSweepsObservable.clear(),e.forEach((e=>{this.addTourSweepForView(e.sweepId,e.viewId)}))}))}getViewsWithSweepInTour(e){return this.tourSweepsObservable.get(e)||[]}isSweepInAnyTour(e){return this.tourSweepsObservable.has(e)}isSweepInTourForView(e,t){return this.getViewsWithSweepInTour(e).includes(t)}onSweepsInToursChanged(e){return this.tourSweepsObservable.onChanged(e)}addTourSweepForView(e,t){const i=this.tourSweepsObservable.get(e);i?i.push(t):this.tourSweepsObservable.set(e,[t])}}},23146:(e,t,i)=>{"use strict";i.d(t,{Av:()=>l,CI:()=>r,K1:()=>o,Te:()=>s,Ty:()=>a,iy:()=>c});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={tourMode:e}}}s.id="TOUR_SET_TOUR_MODE";class r extends n.m{constructor(e,t){super(),this.payload={sid:e,name:t}}}r.id="TOUR_RENAME";class a extends n.m{constructor(e,t){super(),this.payload={sid:e,title:t}}}a.id="TOUR_CHANGE_TITLE";class o extends n.m{constructor(e,t){super(),this.payload={sid:e,description:t}}}o.id="TOUR_CHANGE_DESCRIPTION";class l extends n.m{constructor(e){super(),this.payload={open:e}}}l.id="HIGHLIGHT_REEL_TOGGLE_OPEN";class c extends n.m{constructor(e){super(),this.payload={show:e}}}c.id="HIGHLIGHT_REEL_SHOW_STORY_TEXT"},72392:(e,t,i)=>{"use strict";i.d(t,{b:()=>c,k:()=>d});var n=i(42141),s=i(30629),r=i(85726),a=i(53584),o=i(7755),l=i(80383);const c={active:!1,type:s.Aq.Move,promise:Promise.resolve(),stop:()=>Promise.resolve(),toIndex:-1,duration:0,started:-1,stopped:-1};class d extends n.V{constructor(e={},t,i,n,s,l){super(),this.snapshots=e,this.activeReel=t,this.allowedModes=i,this.isSweepDisabled=n,this.looping=s,this.log=l,this.name="tour",this.tourState=o.Vs.Inactive,this.transitionObservable=(0,r.Y)(c),this.tourCurrentSnapshot=-1,this.enabledTourStops=(0,a.C)([]),this.tourPlaying=!1,this.tourWillResume=!1,this.tourEnded=!1,this.updateEnabledStops=e=>{if(this.enabledTourStops.replace([]),this.activeReel&&this.activeReel.reel)for(const t of this.activeReel.reel)if(t&&t.sid in this.snapshots){const i=this.snapshots[t.sid],n=i.metadata.cameraMode,s=i.metadata.scanId,r=-1!==e.indexOf(n),a=!!s&&!this.isSweepDisabled(s),o=!s;r&&(o||a)&&this.enabledTourStops.push(t.sid)}},this.updateEnabledStops(i()),this.looping=s,this.commit()}setHighlightReel(e){this.atomic((()=>{this.activeReel.replace(e),this.updateEnabledStops(this.allowedModes()),this.resetEmptyReel()}));const t=this.getReel().reel.length,i=this.getSnapshotCount();t!==i&&this.log.info(t-i+" highlights disabled and hidden from reel")}addSnapshotToTour(e,t=o.VH.Current){this.snapshots[e.sid]=e;this.allowedModes().includes(e.metadata.cameraMode)&&this.enabledTourStops.push(e.sid);const i=this.tourCurrentSnapshotSid;switch(this.tourCurrentSnapshotSid=e.sid,t){case o.VH.Beginning:this.tourCurrentSnapshot=0,this.activeReel.reel.insert(0,{sid:e.sid});break;case o.VH.End:this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push({sid:e.sid});break;case o.VH.Current:if(void 0===i)this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push({sid:e.sid});else{let t=this.activeReel.reel.findIndex((e=>!!e&&e.sid===i))+1;(t<=0||t>this.activeReel.reel.length)&&(t=this.activeReel.reel.length-1),this.tourCurrentSnapshot=this.tourCurrentSnapshot+1,this.activeReel.reel.insert(t,{sid:e.sid})}break;default:throw new Error(`Tours.addSnapshotToTour not implemented: ${t}`)}this.useTransition(c),this.commit()}clearHighlightOverrides(e,t,i){if(!t&&!i)return;const n={};t&&(n.transitionType=void 0),i&&(n.panDirection=void 0,n.panAngle=void 0),this.applyHighlightOverrides(e,n)}clearAllHighlightOverrides(){this.getReel().reel.forEach((e=>{e&&this.clearHighlightOverrides(e.sid,!0,!0)}))}resetAllTransitionTypeOverrides(){if(this.activeReel&&this.activeReel.reel){let e=!1;this.activeReel.reel.forEach(((t,i)=>{t&&t.overrides&&t.overrides.transitionType&&(delete t.overrides.transitionType,this.activeReel.reel.update(i,t),e=!0)})),e&&this.activeReel.setDirty()}}resetAllPanSettingOverrides(){if(this.activeReel&&this.activeReel.reel){let e=!1;this.activeReel.reel.forEach(((t,i)=>{t&&t.overrides&&(void 0===t.overrides.panAngle&&void 0===t.overrides.panDirection||(delete t.overrides.panAngle,delete t.overrides.panDirection,e=!0,this.activeReel.reel.update(i,t)))})),e&&this.activeReel.setDirty()}}applyHighlightOverrides(e,t){const i=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e));this.setHighlightOverrides(i,t)}setHighlightOverrides(e,t){const i=this.activeReel.reel.get(e);if(!i)throw Error(`Highlight not found for ${e}`);const n={sid:i.sid,title:i.title,description:i.description};i.overrides?(n.overrides=Object.assign({},i.overrides),t.hasOwnProperty("panDirection")&&(n.overrides.panDirection=t.panDirection),t.hasOwnProperty("transitionType")&&(n.overrides.transitionType=t.transitionType),t.hasOwnProperty("panAngle")&&(n.overrides.panAngle=t.panAngle)):n.overrides={transitionType:t.transitionType,panDirection:t.panDirection,panAngle:t.panAngle},this.activeReel.reel.update(e,n)}updateReelEntry(e){const{sid:t}=e,i=this.activeReel.reel.findIndex((e=>!!e&&e.sid===t));if(-1===i)throw Error(`Reel entry not found for ${t}`);const n=this.activeReel.reel.get(i);if(!e)throw Error(`Reel entry not found for ${i}`);const s=Object.assign({},n,e);this.activeReel.reel.update(i,s)}moveTourStop(e,t){const i=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e)),n=this.activeReel.reel.findIndex((e=>!!e&&e.sid===t));this.activeReel.reel.move(i,n)}clear(){this.resetEmptyReel(),this.enabledTourStops.replace([]),this.activeReel.reel.length=0,this.commit()}removeTourStop(e){const t=this.enabledTourStops.indexOf(e),i=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e)),n=this.getTourIndexBySid(e);if(-1!==t&&this.enabledTourStops.splice(t,1),this.enabledTourStops.length>0){const e=n<=this.tourCurrentSnapshot?this.tourCurrentSnapshot-1:this.tourCurrentSnapshot;this.setTourCurrentSnapshotByIndex(Math.max(e,0))}else this.resetEmptyReel();this.activeReel.reel.remove(i)}getReel(){return this.activeReel}isLooping(){return this.looping}setLooping(e){this.looping=e}getActiveReelTourMode(){return this.activeReel.mode||l.Z1.REEL}setActiveReelTourMode(e){this.activeReel.mode=e,this.activeReel.commit()}isTourActive(){return this.tourState!==o.Vs.Inactive}getCurrentTourState(){return{currentStep:this.getTourCurrentSnapshotIndex(),tourPlaying:this.tourPlaying||this.tourWillResume,totalSteps:this.getSnapshotCount(),tourEnded:this.tourEnded,activeStep:this.transition&&-1!==this.transition.toIndex?this.transition.toIndex:this.getTourCurrentSnapshotIndex(),highlights:this.getReelHighlights(),transition:this.transition,hasTours:this.tourExistsInAnyView()}}tourExistsInAnyView(){if(this.getSnapshotCount()>0)return!0;for(const e of Object.values(this.snapshots))if("tour"===e.category)return!0;return!1}get transition(){return this.transitionObservable.value}isTourTransitionActive(){return this.transition.active}getTourTransitionType(){return this.transition.type}useTransition(e){this.transitionObservable.value=e}async stopTourTransition(){await this.transition.stop()}iterateSnapshots(e){let t=0;this.activeReel.reel.forEach((i=>{if(i&&this.isEnabled(i.sid)){const n=this.snapshots[i.sid];e(n,t++)}}))}isSnapshotInTour(e){return-1!==this.activeReel.reel.findIndex((t=>!!t&&t.sid===e))}getEnabledSnapshots(){const e=[];return this.iterateSnapshots(((t,i)=>{e.push(t)})),e}updateSnapshots(e){this.snapshots=e}async getPhotosForTour(e){const t=[];for(const i in this.snapshots){const n=this.snapshots[i];"tour"!==n.category&&"panorama"!==n.category&&n.sourceViewId===e&&t.push({name:n.name,sid:n.sid,thumbnailUrl:await n.thumbnailUrl.get(),inReel:this.isSnapshotInTour(i),created:n.created})}return t.sort(((e,t)=>(t.inReel?-10:e.inReel?10:1)*t.created.getTime()-e.created.getTime())),t}getSnapshot(e){return this.snapshots[e]}getTourStop(e){const t=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e)),i=this.activeReel.reel.get(t);return{snapshot:this.getSnapshot(e),reelEntry:i}}getReelHighlights(){const e=[];return this.activeReel.reel.forEach((t=>{if(t&&this.isEnabled(t.sid)){const i=this.snapshots[t.sid];if(i){const n=t.overrides&&t.overrides.panDirection,s=t.overrides&&t.overrides.panAngle;e.push({id:i.sid,snapshot:i,panDirection:n,panAngle:s,transitionType:t.overrides&&t.overrides.transitionType,title:t.title,description:t.description})}}})),e}getSnapshotCount(){return this.enabledTourStops.length}getTourState(){return this.tourState}setTourState(e){this.tourState=e,this.commit()}getTourCurrentSnapshotIndex(){return this.tourCurrentSnapshot}getTourCurrentSnapshotSid(){return this.tourCurrentSnapshotSid}getTourSnapshotSid(e){let t=0;for(const i of this.activeReel.reel)if(i&&this.isEnabled(i.sid)){if(t===e)return i.sid;t++}throw new Error("getTourSnapshotSid() -> Invalid snapshot index.")}getTourSnapshotsWithSweepId(e){const t=[];for(const i of this.activeReel.reel)i&&i.sid in this.snapshots&&this.snapshots[i.sid].metadata.scanId===e&&t.push(i.sid);return t}setTourCurrentSnapshotByIndex(e){if(e<0||e>this.getSnapshotCount())throw new Error("setTourCurrentSnapshotByIndex() -> Invalid tour index.");let t=-1;for(const i of this.activeReel.reel)if(i&&this.isEnabled(i.sid)&&(t++,t===e)){this.tourCurrentSnapshot=e,this.tourCurrentSnapshotSid=i.sid;break}-1===t&&this.resetEmptyReel(),this.commit()}getTourIndexBySid(e){let t=-1;for(const i of this.activeReel.reel)if(i&&this.isEnabled(i.sid)&&(t++,i.sid===e))return t;return-1}isEnabled(e){return-1!==this.enabledTourStops.indexOf(e)}resetEmptyReel(){this.tourCurrentSnapshot=-1,this.tourCurrentSnapshotSid=void 0,this.useTransition(c),this.commit()}}},7755:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{VH:()=>r,Vs:()=>s,zz:()=>n}),function(e){e.NONE="none",e.STORIES="stories",e.LEGACY="legacy"}(n||(n={})),function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.StopScheduled=2]="StopScheduled"}(s||(s={})),function(e){e[e.Beginning=0]="Beginning",e[e.Current=1]="Current",e[e.End=2]="End"}(r||(r={}))},52821:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s});var n=i(8126);class s extends n.v0{constructor(){super()}}},36269:(e,t,i)=>{"use strict";i.d(t,{C7:()=>g,Nu:()=>d,PR:()=>h,R3:()=>s,Wf:()=>o,Yi:()=>r,iL:()=>u,l4:()=>m,lj:()=>n,o9:()=>a,pQ:()=>p,qe:()=>l,rU:()=>c,yY:()=>f});const n="tour-stories",s="spaces.tours_v2",r="tours2",a="gt",o=0,l=1,c="hr",d=0,u=1,h="tour",p=0,m=1,f=2,g=3},44209:(e,t,i)=>{"use strict";i.d(t,{Cf:()=>c,aW:()=>l,ug:()=>o,w7:()=>d});var n=i(80383),s=i(9263),r=i(7755),a=i(36269);function o(e){const t=e.tryGetProperty(s.gx.HighlightReel,!0),i=e.getOverrideParam(a.rU,a.iL),n=e.getOverrideParam(a.PR,a.l4);return t&&i!==a.Nu&&n!==a.pQ}function l(e,t){const i=function(e){const t=e.tryGetProperty(s.gx.TourButtons,!0),i=e.getOverrideParam(a.o9,a.qe),n=e.getOverrideParam(a.PR,a.l4);return t&&i!==a.Wf&&n!==a.pQ}(e),n=o(e);return i||n?c(e,t)?r.zz.STORIES:r.zz.LEGACY:r.zz.NONE}function c(e,t){const i=e.getOverrideParam(a.PR,a.l4);return i===a.yY||i!==a.C7&&t===n.Z1.STORY}function d(e,t){const i=e.tryGetProperty(s.gx.TourButtons,!0),a=e.tryGetProperty(s.gx.HighlightReel,!0);return i||a?t===n.Z1.STORY?r.zz.STORIES:r.zz.LEGACY:r.zz.NONE}},93355:(e,t,i)=>{"use strict";i.d(t,{m:()=>c});var n=i(42141),s=i(42896),r=i(80383),a=i(26538),o=i(87168),l=i(60493);class c extends n.V{constructor(e,t,i,n,l,c){super(),this.orgAdmin=i,this.modelOrgId=n,this.modelCreated=l,this.isDemo=c,this.name="users-data",this.users=(0,s.q)();const d=e.modelAccess||r.x6.PUBLIC;this.currentUser=new a.a(Object.assign(Object.assign({},e),{modelAccess:d,userStatus:t?o.J.KNOWN:o.J.UNKNOWN})),this.addUser(this.currentUser)}loadSearchResults(e,t,i){this.atomic((()=>{e.forEach((e=>{this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.KNOWN}))})),t.forEach((e=>{this.users.get(e)||this.loadUser({email:e,id:"",userStatus:i,modelAccess:r.x6.PUBLIC,firstName:null,lastName:null})}))}))}loadKnownUsers(e){this.atomic((()=>{e.forEach((e=>{this.loadKnownUser(e)}))}))}loadKnownUser(e){return this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.KNOWN}))}loadContributor(e){const t=this.users.get(e.email);return t||this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.CONTRIBUTOR}))}loadFailedUser(e){return this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.FAILED}))}loadUser(e){let t=this.users.get(e.email);return e.email===this.currentUser.email||t&&t.userStatus===o.J.KNOWN&&t.modelAccess!==r.x6.PUBLIC||(t=new a.a(e),t?this.users.set(e.email,t):this.addUser(t)),t}getUserInfoByEmail(e){return this.users.has(e)?this.users.get(e):null}getUserInfoById(e){return""===e?null:this.users.values.find((t=>t.id===e))||null}getUserDisplay(e){return this.users.has(e)?this.users.get(e):(0,l.Q)(e)}iterate(e){for(const t of this.users)e(t)}getUsersWhoMayNeedAccess(){const e={};return this.users.values.forEach((t=>{t.userStatus===o.J.KNOWN&&t.modelAccess!==r.x6.PUBLIC||(e[t.email]=t)})),e}getKnownUsers(){return this.users.values.filter((e=>e.userStatus===o.J.KNOWN))}addUser(e){this.users.has(e.email)||this.users.set(e.email,e)}getCurrentUser(){return this.currentUser}isLoggedIn(){return!!this.currentUser.id}isOrgAdmin(){return this.orgAdmin}isInviter(){return this.orgAdmin}getModelOrganizationId(){return this.modelOrgId}getModelCreatedDate(){return this.modelCreated}isDemoModel(){return!!this.isDemo}isEditor(){return this.currentUser.modelAccess===r.x6.FULL}isCommenter(){const{modelAccess:e}=this.currentUser;return e===r.x6.VIEWER||e===r.x6.FULL}getCurrentUserId(){return this.currentUser.id}onUsersChanged(e){return this.users.onChanged(e)}}},26538:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var n=i(80383),s=i(87168),r=i(60493);class a{constructor(e){this.email="",this.id="",this.firstName="",this.lastName="",this.modelAccess=n.x6.PUBLIC,this.userStatus=s.J.UNKNOWN,this.name="",this.initials="",this.color="",e&&Object.assign(this,e);const t=this.id?this.getFullName(this.firstName,this.lastName):"";this.name=t||this.email||"",this.initials=this.getInitials(this.name),this.color=(0,r._)(this.id)}getFullName(e,t){return e&&t?`${e} ${t}`:e||t}getInitials(e){const t=e?e.split(" ").map((e=>e[0])).join(""):"?";return t.length<3?t:`${t[0]}${t[t.length-1]}`}}},61725:(e,t,i)=>{"use strict";i.d(t,{JB:()=>a,V1:()=>s,Vu:()=>r});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={search:e}}}s.id="USERS_SEARCH";class r extends n.m{constructor(e){super(),this.payload={userMentions:e}}}r.id="USERS_MENTIONS_FETCH";class a extends n.m{constructor(e,t,i,n){super(),this.payload={emails:e,message:t,modelAccess:i,noteId:n}}}a.id="USERS_INVITE"},87168:(e,t,i)=>{"use strict";var n;i.d(t,{J:()=>n}),function(e){e.UNKNOWN="unknown",e.FAILED="failed",e.MENTIONED="mentioned",e.CONTRIBUTOR="contributor",e.KNOWN="known"}(n||(n={}))},54241:(e,t,i)=>{"use strict";i.r(t),i.d(t,{InviteUsersCommand:()=>g.JB,OrgUser:()=>o,ResolveUserMentionsCommand:()=>g.Vu,UserData:()=>f.m,UserInfo:()=>b.a,UserMentionSearchCommand:()=>g.V1,UserStatus:()=>m.J,default:()=>S,defaultUserColor:()=>E._,getUnknownUserInfo:()=>E.Q});var n=i(933),s=i(53257),r=i(93797),a=i(80383);class o{constructor(e){this.id="",this.email="",this.firstName="",this.lastName="",this.modelAccess=a.x6.PUBLIC,Object.assign(this,e)}}const l=new s.Z("mds-user-deserializer");class c{constructor(){this.validate=e=>{if(!e)return!1;const t=["id","email"].filter((t=>!(t in e))),i=0===t.length;return i||l.debug("OrgUserMetadata invalid:",{missingFields:t}),i}}deserialize(e){return e&&this.validate(e)?new o(e):(l.debug("Deserialized invalid OrgUserMetadata from MDS",e),null)}}var d=i(26965),u=i(38256);const h=new s.Z("users-store");class p extends r.u{constructor(e){super(e),this.deserializer=new c}async fetchAccessForUser(e,t){return this.query(d.GetCurrentUserModelAccess,{modelId:t,userId:e}).then((t=>{var i,n;const s=null===(i=t.data)||void 0===i?void 0:i.model,r=null===(n=null==s?void 0:s.users)||void 0===n?void 0:n.results;let o=a.x6.PUBLIC;return r&&Array.isArray(r)?(r.find((e=>e.modelAccess===a.x6.FULL))?o=a.x6.FULL:r.find((e=>e.modelAccess===a.x6.VIEWER))&&(o=a.x6.VIEWER),h.debug(`modelAccess: ${r.length} response(s), set to "${o}"`)):h.debug(`fetchModelAccess failed for ${e}`),{modelAccess:o,organization:(null==s?void 0:s.organization)||void 0,demo:(null==s?void 0:s.demo)||void 0,created:(0,u.p)(null==s?void 0:s.created,null)||void 0}}))}async search(e,t,i){const n=this.getViewId();return this.query(d.GetUsers,{modelId:n,search:e||null,ids:i||null,emails:t||null}).then((e=>{var t,i,n;const s=null===(n=null===(i=null===(t=e.data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.users)||void 0===n?void 0:n.results;if(!s||!Array.isArray(s))return[];const r=[];for(const e of s){const t=this.deserializer.deserialize(e);t&&r.push(t)}return r}))}async addOrUpdateModelShareAccess(e,t,i,n=this.getViewId()){return this.mutate(d.AddOrUpdateModelShareAccess,{email:e,roleId:t,message:i,modelId:n}).then((e=>{var t,i,n;const s=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.addOrUpdateModelShareAccess,r=null==s?void 0:s.user,a=null==s?void 0:s.modelShareAccessLevel;if(r&&a)return{id:r.id,email:r.email,firstName:null!==(i=r.firstName)&&void 0!==i?i:"",lastName:null!==(n=r.lastName)&&void 0!==n?n:"",modelAccess:a.name};throw new Error(`Failed to invite user. ${e.errors}`)})).catch((e=>{throw h.error("Failed to invite user",e),e}))}async getAssignableRoles(e=this.getViewId()){return this.query(d.GetAssignableRoles,{modelId:e}).then((e=>{var t,i;const n=null===(i=null===(t=e.data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.assignableRoles;return n||(h.error("Failed to fetch assignable roles"),[])}))}}var m=i(87168),f=i(93355),g=i(61725),v=i(22925);class y extends n.Y{constructor(){super(...arguments),this.name="users-module",this.onUserMentionSearch=async e=>{const t=await this.store.search(e.search);this.userData.loadKnownUsers(t)},this.resolveUserMentions=async e=>{if(0===e.userMentions.length)return void this.log.debug("No user mentions to resolve");const t=[];if(e.userMentions.forEach((e=>{this.userData.getUserInfoByEmail(e.email)&&e.userStatus!==m.J.MENTIONED||t.push(e)})),t.length>0){const e=t.map((e=>e.email));return this.searchUsers(new Set(e),m.J.MENTIONED)}},this.getRoleId=async e=>this.store.getAssignableRoles().then((t=>{var i;return null===(i=t.find((t=>t.name===e)))||void 0===i?void 0:i.id})),this.inviteUsers=async e=>{const{emails:t,modelAccess:i,message:n}=e;if(0===t.length)return;const s=new Set,r=await this.getRoleId(i);if(r)return await Promise.all(e.emails.map((e=>this.store.addOrUpdateModelShareAccess(e,r,n).then((e=>{this.userData.loadKnownUser(e)})).catch((()=>{this.log.debug(`User Invite failed: ${e}`),s.add(e)}))))),s.size>0?this.searchUsers(s,m.J.FAILED):void 0;this.log.error(`User cannot assign role ${i} on this model.`)}}async init(e,t){this.store=new p({context:e.mdsContext,readonly:!1,baseUrl:e.baseUrl,viewId:e.viewId}),t.market.waitForData(v.R).then((async i=>{const n=await e.api.user;let s,r,o=a.x6.PUBLIC,l=!1;if(n.loggedIn&&n.id){const e=await this.store.fetchAccessForUser(n.id,i.getBaseModelId());o=e.modelAccess,s=e.organization,l=!!s&&n.isOrganizationAdmin(s),r=e.created}this.userData=new f.m({id:n.id,firstName:n.firstName,lastName:n.lastName,email:n.email,modelAccess:o},n.loggedIn,l,s,r),this.bindings.push(t.commandBinder.addBinding(g.V1,this.onUserMentionSearch),t.commandBinder.addBinding(g.Vu,this.resolveUserMentions),t.commandBinder.addBinding(g.JB,this.inviteUsers)),t.market.register(this,f.m,this.userData)}))}dispose(e){super.dispose(e),e.market.unregister(this,f.m)}async searchUsers(e,t){const i=Array.from(e),n=await this.store.search(void 0,i);this.userData.loadSearchResults(n,i,t)}}var E=i(60493),b=i(26538);const S=y},60493:(e,t,i)=>{"use strict";i.d(t,{Q:()=>l,_:()=>o});var n=i(25589),s=i(87168),r=i(80383);const a=["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#5c7fff","#03a9f4","#417505","#00bcd4","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"];function o(e){const t=a.length;return a[(0,n.Wm)(e||"",t)]}function l(e){return{email:e,id:"",firstName:"",lastName:"",name:"Unknown",initials:"?",color:o(e),userStatus:s.J.UNKNOWN,modelAccess:r.x6.PUBLIC}}},97187:(e,t,i)=>{"use strict";i.d(t,{BD:()=>n,KP:()=>l,_i:()=>d,g:()=>o,ty:()=>c});var n,s=i(56063),r=i(43017),a=i(90288);!function(e){e.INSIDE="mode.inside",e.OUTSIDE="mode.outside",e.DOLLHOUSE="mode.dollhouse",e.FLOORPLAN="mode.floorplan",e.TRANSITIONING="mode.transitioning",e.ORTHOGRAPHIC="mode.orthographic",e.MESH="mode.mesh"}(n||(n={}));const o=n.INSIDE,l=(n.INSIDE,r.Ey.Panorama,n.DOLLHOUSE,r.Ey.Dollhouse,n.FLOORPLAN,r.Ey.Floorplan,n.TRANSITIONING,r.Ey.Transition,n.OUTSIDE,r.Ey.Outdoor,n.ORTHOGRAPHIC,r.Ey.Orthographic,n.MESH,r.Ey.Mesh,{[r.Ey.Panorama]:n.INSIDE,[r.Ey.Dollhouse]:n.DOLLHOUSE,[r.Ey.Floorplan]:n.FLOORPLAN,[r.Ey.Transition]:n.TRANSITIONING,[r.Ey.Outdoor]:n.OUTSIDE,[r.Ey.Orthographic]:n.ORTHOGRAPHIC,[r.Ey.Mesh]:n.MESH}),c=e=>{const t=l[e];return void 0!==t?t:n.OUTSIDE};class d extends s.m{constructor(e,t=a.nF.Interpolate,i={},n){super(),this.payload={mode:e,transitionType:t,pose:i,transitionTime:n}}}d.id="CHANGE_VIEWMODE"},55587:(e,t,i)=>{"use strict";i.d(t,{CE:()=>o,dF:()=>s,g_:()=>a,wY:()=>r});var n=i(9263);const s="showcase-floor_plan",r="showcase-dollhouse";function a(e,t){return l(n.gx.FloorPlan,s,"fp",e,t)}function o(e,t){return l(n.gx.Dollhouse,r,"dh",e,t)}function l(e,t,i,n,s){const r=n.tryGetProperty(e,!1),a=!s&&0===n.getOverrideParam(i,1),o=r&&!a;return n.setProperty(t,o),o}},88726:(e,t,i)=>{"use strict";i.d(t,{I:()=>n,x:()=>s});const n="features/dollhouse-nudge",s="features/roombounds-floorplan-nudge"},57363:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(3189);class s extends n.a{}},87549:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(3189);class s extends n.a{}},40072:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(3189);class s extends n.a{}},3189:(e,t,i)=>{"use strict";i.d(t,{a:()=>s});var n=i(8126);class s extends n.v0{constructor(e,t){super(),this.fromMode=t,this.toMode=e,this.timestamp=Date.now()}}},43017:(e,t,i)=>{"use strict";var n;i.d(t,{Ae:()=>s,Bw:()=>r,Ey:()=>n,vl:()=>a}),function(e){e[e.Panorama=1]="Panorama",e[e.Dollhouse=2]="Dollhouse",e[e.Floorplan=3]="Floorplan",e[e.Outdoor=4]="Outdoor",e[e.Orthographic=5]="Orthographic",e[e.Mesh=6]="Mesh",e[e.Transition=-1]="Transition"}(n||(n={}));const s=e=>{switch(e){case n.Panorama:return"Panorama";case n.Floorplan:return"Floorplan";case n.Dollhouse:return"Dollhouse";case n.Transition:return"Transition";case n.Orthographic:return"Orthographic";case n.Mesh:return"Mesh"}return"Unknown"};function r(e){return e===n.Panorama||e===n.Mesh}function a(e){return e===n.Panorama}},13525:(e,t,i)=>{"use strict";i.d(t,{Cj:()=>r,YR:()=>o,mH:()=>a,x6:()=>l});var n=i(32332);class s extends n.f{constructor(e="Unhandled Viewmode Exception",t){super(e),this.originalError=t,this.name="ViewmodeException"}}class r extends s{constructor(e="Tried to start view-mode transition while another transition was active"){super(e),this.name="ViewmodeActiveTransition"}}class a extends s{constructor(e="Cannot change viewmode when locked"){super(e),this.name="ViewmodeLocked"}}class o extends s{constructor(e="Cannot change to disabled/invalid viewmode"){super(e),this.name="ViewmodeInvalid"}}class l extends s{constructor(e="Unhandled Error processing viewmode change command",t){super(e,t),this.name="ViewmodeCommandException"}}},93412:(e,t,i)=>{"use strict";i.d(t,{I:()=>r,M:()=>s});var n=i(56063);class s extends n.m{constructor(){super()}}s.id="LOCK_VIEWMODE";class r extends n.m{constructor(){super()}}r.id="UNLOCK_VIEWMODE"},90512:(e,t,i)=>{"use strict";i.d(t,{O:()=>o});var n=i(42141),s=i(43017),r=i(85726),a=i(11250);class o extends n.V{constructor(){super(),this.name="viewmode",this.modes=s.Ey,this.transitionActiveObservable=(0,r.Y)(!1),this.viewmodeChangeEnabled=!0,this.isDollhouseDisabled=()=>!1,this.isFloorplanDisabled=()=>!1,this.currentModeObservable=(0,r.Y)(null),this.transition={active:!1,progress:0,from:null,isFromPitchFactorOrtho:!1,to:null,isToPitchFactorOrtho:!1,startTime:0,transitionTime:0},this.isPano=this.isPano.bind(this),this.isFloorplan=this.isFloorplan.bind(this),this.isInside=this.isInside.bind(this),this.isDollhouse=this.isDollhouse.bind(this),this.isOrthographic=this.isOrthographic.bind(this)}get currentMode(){return this.currentModeObservable.value}set currentMode(e){e!==this.currentModeObservable.value&&(this.currentModeObservable.value=e)}peekabooCorrectedMode(e){return this.isDollhouse()&&e.pose.isPitchFactorOrtho.value?s.Ey.Floorplan:this.currentMode}get closestMode(){return this.currentMode===s.Ey.Transition?this.transition.progress<.5?this.transition.from:this.transition.to:this.currentMode}makeModeChangeSubscription(e){return this.currentModeObservable.onChanged(e)}activateTransition(e,t,i,n,r){this.transition.active=!0,this.transition.progress=0,this.transition.startTime=Date.now(),this.transition.transitionTime=i,this.transition.to=t,this.transition.from=e;const o=null==n?e===s.Ey.Floorplan?0:1:n,l=null==r?t===s.Ey.Floorplan?0:1:r;this.transition.isFromPitchFactorOrtho=(0,a.Eb)(o),this.transition.isToPitchFactorOrtho=(0,a.Eb)(l),this.transitionActiveObservable.value=!0}deactivateTransition(){this.transition.active=!1,this.transitionActiveObservable.value=!1}isPano(){return this.currentMode===s.Ey.Panorama}isInside(){return(0,s.Bw)(this.currentMode)}isMesh(){return this.currentMode===s.Ey.Mesh}isFloorplan(){return this.currentMode===s.Ey.Floorplan}isDollhouse(){return this.currentMode===s.Ey.Dollhouse}isOrthographic(){return this.currentMode===s.Ey.Orthographic}insideModeTransitionProgress(){if(this.transition.active){const e=(0,s.Bw)(this.transition.to),t=(0,s.Bw)(this.transition.from);return e||t?e&&!t?this.transition.progress:!e&&t?1-this.transition.progress:1:0}return this.isInside()?1:0}canStartTransition(){const e=this.transition.active,t=this.currentMode===s.Ey.Transition;return!e&&!t}transitionActive(){return!this.canStartTransition()}isTargetMode(e){const t=this.transition.from===this.transition.to,i=this.currentMode===e;return this.transition.active&&t||i}canSwitchViewMode(e){return this.canStartTransition()&&this.viewmodeChangeEnabled&&!this.isTargetMode(e)}}},79970:(e,t,i)=>{"use strict";i.d(t,{s:()=>r});var n=i(38908),s=i(90512);const r=(0,n.u)(s.O)},8152:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DEFAULT_TRANSITION_TIME:()=>R,SMALL_ROTATION_DISTANCE:()=>C,SMALL_TRANSLATION_DISTANCE:()=>M,default:()=>j});var n=i(4763),s=i(43017),r=i(90288),a=i(81396),o=i(3835),l=i(91524),c=i(933),d=i(90512),u=i(57793),h=i(31740),p=i(87549),m=i(57363),f=i(3189),g=i(13525),v=i(93827),y=i(26059),E=i(43627),b=i(11250);const S=(e,t,i,n)=>{const s=i.clone().multiply((new a.Quaternion).setFromAxisAngle(o.fU.RIGHT,60*E.Ue)),r=o.fU.FORWARD.clone().applyQuaternion(s).multiplyScalar(-1*e),l=t.clone().add(r);return n.position=l,n.rotation=s,e},O=e=>{const t=e.getCenter(new a.Vector3);return e.max.distanceTo(t)/Math.tan(l.oR.fov/2*E.Ue)};var T=i(23998),_=i(53462),N=i(86743);const w={rotationDuration:1,rotationDelay:0,matrixDelay:0,matrixDuration:.5},A={[s.Ey.Dollhouse]:{matrixDelay:.5,matrixDuration:1},[s.Ey.Panorama]:{rotationDuration:.5}};var I=i(67108),k=i(93412),P=i(64150),L=i(59452),D=i(40072);const R=1e3,M=.2,C=3*E.Ue,x=Math.PI/2+Number.EPSILON,F=Math.PI-Number.EPSILON,U=[s.Ey.Mesh,s.Ey.Panorama,s.Ey.Floorplan,s.Ey.Dollhouse,s.Ey.Orthographic],H={[s.Ey.Mesh]:R,[s.Ey.Panorama]:R,[s.Ey.Dollhouse]:R,[s.Ey.Floorplan]:R,[s.Ey.Orthographic]:R};class j extends c.Y{constructor(){super(...arguments),this.name="viewmode",this.data=new d.O,this.minDollhouseDistance=15,this.maxDollhouseDistance=50,this.peekabooActive=!1,this._orthoMatrix=new _.M,this.snapToPhiLimit=(e,t)=>this.cameraModule.moveTo({transitionType:r.nF.OrbitTo,transitionTime:t,pose:{},autoOrtho:!0,targetPhi:e}),this.getFlyinStartPose=(e,t)=>{var i;const n=null!==(i=e.position)&&void 0!==i?i:new a.Vector3,s=t||this.cameraData.pose.position,r=n.y-s.y,l=(0,y.Ll)(n,s,this.meshData.meshCenter),c=o.fU.FORWARD.clone().applyQuaternion(l),d=Math.sign(c.y)*Math.PI/4;return{position:(0,y.D7)(n,s,d,!0).setY(1.5*r)}},this.getFlyinEndPose=e=>{var t,i;const n=e.position||(null===(i=this.sweepData.getSweep(null!==(t=e.sweepID)&&void 0!==t?t:"invalid"))||void 0===i?void 0:i.position)||new a.Vector3,s=e.rotation||new a.Quaternion,r=Math.PI/180*l.oR.fov;return(0,y.YN)({targetPosition:n,targetRotation:s,angleDown:-Math.PI/6,box:this.meshData.meshBounds,fovY:r,aspectRatio:this.canvas.aspectRatio})}}async init(e,t){var i;this.engine=t,this.market=t.market,this.data.currentMode=null!==(i=e.startingMode)&&void 0!==i?i:s.Ey.Dollhouse,this.market.register(this,d.O,this.data),t.market.waitForData(I._).then((e=>{this.meshData=e,this.setDollhouseBounds()})),t.market.waitForData(P.e).then((e=>{this.peekabooActive=e.tryGetProperty(L.eC,!1),this.bindings.push(e.onPropertyChanged(L.eC,(e=>{this.peekabooActive=e})))})),this.bindings.push(t.commandBinder.addBinding(k.M,this.lockViewmode.bind(this)),t.commandBinder.addBinding(k.I,this.unlockViewmode.bind(this)));const[r,a,o,l,c,p]=await Promise.all([t.getModuleBySymbol(n.kg),t.getModuleBySymbol(n.l),t.getModuleBySymbol(n.ep),t.market.waitForData(h.Z),t.market.waitForData(T.W),t.market.waitForData(u.M)]);this.cameraModule=r,this.sweepModule=a,this.visibleMeshBounds=o,this.sweepData=l,this.canvas=c,this.cameraData=p}lockViewmode(){this.data.viewmodeChangeEnabled=!1,this.data.commit()}unlockViewmode(){this.data.viewmodeChangeEnabled=!0,this.data.commit()}get currentMode(){return this.data.currentMode}async switchToMode(e,t=r.nF.FadeToBlack,i,a,o){if(this.peekabooActive)return this.switchToModePeekaboo(e,t,i,a,o);this.log.debug(`switchToMode mode:${s.Ey[e]} type:${r.nF[t]}`);const l=this.isAlreadyInMode(e),c=!i||i&&!j.willPoseChange(this.cameraData,i);if(l&&c)return;if(!U.includes(e)||this.data.isFloorplanDisabled()&&e===s.Ey.Floorplan||this.data.isDollhouseDisabled()&&e===s.Ey.Dollhouse)throw new g.YR(`Cannot change to invalid viewmode ${e}`);this.meshData||e!==s.Ey.Floorplan&&e!==s.Ey.Dollhouse||await(await this.engine.getModuleBySymbol(n.Ve)).firstMeshLoadPromise;const d=!this.cameraData.canTransition();if(!this.data.canStartTransition()||d)throw new g.Cj;if(e!==this.currentMode&&!this.data.viewmodeChangeEnabled)throw new g.mH;let u=void 0!==a?a:H[e];t===r.nF.Instant&&(u=0),this.sweepData.currentSweep&&this.sweepData.isSweepUnaligned(this.sweepData.currentSweep)&&!(0,s.Bw)(e)&&(t=r.nF.FadeToBlack);const h=Object.assign({},this.data.transition),v=this.data.currentMode;let y=!1;const E=t=>{this.data.transition.progress=t,this.data.commit(),t>=.5&&!y&&(y=!0,this.engine.broadcast(new f.a(e,null!=v?v:void 0)))},b=()=>{this.data.transition.progress=1,this.data.currentMode=e,this.data.deactivateTransition(),this.data.commit(),this.engine.broadcast(new p.Z(e,null!=v?v:void 0))};let S;switch((()=>{this.data.activateTransition(this.data.currentMode,e,u),this.data.currentMode=s.Ey.Transition,this.data.commit(),this.engine.broadcast(new m.Z(e,null!=v?v:void 0))})(),e){case s.Ey.Mesh:case s.Ey.Panorama:S=this.moveCameraToPanorama(v,t,u,i);break;case s.Ey.Dollhouse:this.peekabooActive&&this.cameraData.setAutoOrtho(!0),S=this.moveCameraToDollhouse(t,u,i);break;case s.Ey.Floorplan:S=this.moveCameraToFloorplan(null!=v?v:void 0,t,u,i);break;case s.Ey.Orthographic:S=this.moveCameraToOrthographic(null!=v?v:void 0,t,u,i);break;default:throw new g.YR(`Invalid target mode ${e}`)}try{S.progress(E),await S.nativePromise(),b()}catch(e){throw this.data.currentMode=v,this.data.transition=h,this.data.commit(),e}}async switchToModePeekaboo(e,t=r.nF.FadeToBlack,i,a,o){this.log.debug(`switchToMode mode:${s.Ey[e]} type:${r.nF[t]}`),this.fixHighPhiPose(e,i);const l=!i||i&&!j.willPoseChange(this.cameraData,i);if(this.isAlreadyInMode(e)&&l)return;if(!U.includes(e)||this.data.isFloorplanDisabled()&&e===s.Ey.Floorplan||this.data.isDollhouseDisabled()&&e===s.Ey.Dollhouse)throw new g.YR(`Cannot change to invalid viewmode ${e}`);this.meshData||e!==s.Ey.Floorplan&&e!==s.Ey.Dollhouse||await(await this.engine.getModuleBySymbol(n.Ve)).firstMeshLoadPromise;const c=!this.cameraData.canTransition();if(!this.data.canStartTransition()||c)throw new g.Cj;if(e!==this.currentMode&&!this.data.viewmodeChangeEnabled)throw new g.mH;this.engine.broadcast(new D.Z(e)),this.sweepData.currentSweep&&this.sweepData.isSweepUnaligned(this.sweepData.currentSweep)&&!(0,s.Bw)(e)&&(t=r.nF.FadeToBlack);let d=void 0!==a?a:H[e],u=0;t!==r.nF.Instant&&t!==r.nF.FadeToBlack||(t===r.nF.FadeToBlack&&(u=d),d=0);const h=u>0;let y=e;e===s.Ey.Floorplan&&(y=s.Ey.Dollhouse),h&&(t=r.nF.Instant);const E=Object.assign({},this.data.transition),S=this.data.currentMode,O=()=>{const t=e===s.Ey.Floorplan?0:1;this.data.transition.active=!0,this.data.activateTransition(this.data.currentMode,y,d,this.cameraData.pose.pitchFactor(),t),this.data.currentMode=s.Ey.Transition,this.data.commit(),this.engine.broadcast(new m.Z(y,null!=S?S:void 0))};let T=!1;const _=e=>{this.data.transition.progress=e,this.data.commit(),e>=.5&&!T&&(T=!0,this.engine.broadcast(new f.a(y,null!=S?S:void 0)))},N=()=>{this.data.transition.active=!1,this.data.transition.progress=1,this.data.currentMode=y,this.data.deactivateTransition(),this.data.commit()},w=async(e,t)=>{if(h){const i=this.cameraModule.moveTo({transitionType:r.nF.FadeToBlack,fadeToBlackSubType:e,pose:{},transitionTime:u/2});i.progress((e=>_(t+e/2))),await i}},A=(0,b.Eb)(this.cameraData.pose.pitchFactor()),I=i&&i.position&&i.rotation;let k=!1;const P=S===s.Ey.Dollhouse||S===s.Ey.Floorplan,L=[];A&&e===s.Ey.Dollhouse?(I||(k=!0),L.push((()=>this.snapToPhiLimit(r.Jh.Bottom,d)))):!P||e!==s.Ey.Floorplan||I||o?A&&P&&(e===s.Ey.Panorama||e===s.Ey.Mesh)&&L.push((()=>this.snapToPhiLimit(r.Jh.Bottom,d))):(I||(k=!0),L.push((()=>this.snapToPhiLimit(r.Jh.Top,d))));let R=null,M=!1;if(!k||o){let n=i;switch(e){case s.Ey.Mesh:case s.Ey.Panorama:R=()=>this.moveCameraToPanorama(S,t,d,i);break;case s.Ey.Floorplan:const r=A||0===d;if(n=this.getPeekabooDollhousePoseFromFloorplanPose(i,r),r&&n){this.cameraData.setAutoOrtho(!0),R=()=>n?this.cameraModule.moveTo({transitionType:t,pose:n,transitionTime:d,focalDistance:n.focalDistance,autoOrtho:!0}):v.Q.resolve();break}M=!0;case s.Ey.Dollhouse:this.cameraData.setAutoOrtho(!0),R=()=>this.moveCameraToDollhouse(t,d,n,M);break;case s.Ey.Orthographic:this.cameraData.setAutoOrtho(!1),R=()=>this.moveCameraToOrthographic(null!=S?S:void 0,t,d,i);break;default:throw new g.YR(`Invalid target mode ${e}`)}}R&&L.push(R),(!A&&S!==s.Ey.Dollhouse&&e===s.Ey.Floorplan||M)&&L.push((()=>this.snapToPhiLimit(r.Jh.Top,d)));try{const e=L.length;O(),await w(r.bR.ClearToBlack,0);for(let t=0;t<e;t++){const i=t/e,n=L[t]();h||n.progress((t=>_(t/e+i))),await n}await w(r.bR.BlackToClear,.5),N()}catch(e){throw this.data.currentMode=S,this.data.transition=E,this.data.commit(),e}k||this.engine.broadcast(new p.Z(y,null!=S?S:void 0))}isAlreadyInMode(e){const{data:t}=this,i=t.transition.from===t.transition.to;let n=t.currentMode===e;if(this.peekabooActive){const i=t.currentMode===s.Ey.Floorplan||t.currentMode===s.Ey.Dollhouse;let r=t.currentMode;i&&(r=(0,b.Eb)(this.cameraData.pose.pitchFactor())?s.Ey.Floorplan:s.Ey.Dollhouse),n=r===e}return t.transition.active&&i||n}static willPoseChange(e,t){return void 0!==t.position&&!e.pose.position.equals(t.position)||void 0!==t.rotation&&!e.pose.rotation.equals(t.rotation)||void 0!==t.zoom&&e.zoom()!==t.zoom}moveCameraToPanorama(e,t,i,n){var r,c;let d=null!==(r=null==n?void 0:n.sweepID)&&void 0!==r?r:this.sweepData.currentSweep;d||(d=null===(c=this.sweepData.getFirstSweep())||void 0===c?void 0:c.id);let u=null==n?void 0:n.rotation;if(!u){const t=(e===s.Ey.Floorplan?o.fU.UP:o.fU.FORWARD).clone().applyQuaternion(this.cameraData.pose.rotation).setY(0).normalize();u=(new a.Quaternion).setFromUnitVectors(o.fU.FORWARD,t)}const h=(0,l.AN)(this.cameraData.aspect());return this.sweepModule.moveToSweep({transitionType:t,sweepId:d,rotation:u,transitionTime:i,rotationDelay:.5,projection:h})}moveCameraToDollhouse(e,t,i,n=!1){var r;const c=this.meshData.meshBounds,d={};let u,h=t;if(i&&(i.position||i.rotation)){if(i.position&&i.rotation){d.position=i.position,d.rotation=i.rotation;const e=(new a.Vector3).copy(this.meshData.meshCenter);if((0,b.yn)(i.rotation)*E.MN>5){const t=Math.min(this.meshData.meshCenter.y,i.position.y-1),n=new a.Plane(o.fU.UP.clone(),t),s=(0,y.Fe)(d.position,d.rotation,n);s&&e.copy(s)}u=d.position.distanceTo(e),d.rotation=(0,y.n0)(i.position,e)}else if(i.position)d.position=i.position,d.rotation=(0,y.n0)(i.position,this.meshData.meshCenter);else{d.rotation=null!==(r=i.rotation)&&void 0!==r?r:new a.Quaternion;const e=c.min.distanceTo(c.max);d.position=(0,y.fd)(d.rotation,this.meshData.meshCenter,e)}u||(u=this.meshData.meshCenter.clone().distanceTo(d.position))}else{let e,t;const i=this.sweepData.isSweepUnaligned(this.sweepData.currentSweep);let r=this.cameraData.pose.position;if(i||this.data.transition.from===s.Ey.Floorplan?r=this.meshData.meshCenter:this.data.transition.from===s.Ey.Dollhouse&&(r=this.cameraData.pose.focalPoint().clone().add(new a.Vector3(0,1,0))),this.data.transition.from!==s.Ey.Floorplan)if(this.peekabooActive){const e=((e,t,i,n,s=!1)=>{const r=30*E.Ue,l=n<1,c=1.2*O(i),d=e.clone().add(new a.Vector3(0,-1,0)),u=(0,b.yn)(t),h=t.clone().multiply((new a.Quaternion).setFromAxisAngle(o.fU.RIGHT,u));let p=h;if(s){const e=i.getCenter(new a.Vector3);d.x=e.x,d.z=e.z;const t=i.getSize(new a.Vector3),n=t.x/t.z<1,s=o.fU.FORWARD.clone().applyQuaternion(h).normalize(),r=l===n?new a.Vector3(0,0,-(Math.sign(s.z)||1)):new a.Vector3(-(Math.sign(s.x)||1),0,0);p=(new a.Quaternion).setFromRotationMatrix((new a.Matrix4).makeBasis((new a.Vector3).crossVectors(o.fU.UP,r),o.fU.UP,r)),d.add(r.clone().multiplyScalar(1))}const m=p.multiply((new a.Quaternion).setFromAxisAngle(o.fU.RIGHT,-r)),f=o.fU.FORWARD.clone().applyQuaternion(m);return{position:d.clone().add(f.clone().multiplyScalar(-c)),rotation:m,focalDistance:c}})(r,this.cameraData.pose.rotation,c,this.canvas.aspectRatio,n);d.position=e.position,d.rotation=e.rotation,u=e.focalDistance;const t=d.position.distanceTo(this.cameraData.pose.position)<M,i=d.rotation.angleTo(this.cameraData.pose.rotation)<C;t&&i&&(h=0)}else{const i=1.5,n=(0,y.YN)({targetPosition:this.cameraData.pose.position,targetRotation:this.cameraData.pose.rotation,angleDown:-Math.PI/6,box:c,fovY:this.cameraData.fovY()*i,aspectRatio:this.cameraData.pose.aspect()}),s=((e,t)=>{const i=e.clone().add(new a.Vector3(0,6,0)),n=o.fU.FORWARD.clone().applyQuaternion(t);return n.y>=.01&&(n.y=.01),{position:i.clone().add(n.clone().multiplyScalar(-10)),direction:n}})(r,this.cameraData.pose.rotation);[e,t]=[n.position,s.direction];const l=r.clone().add(t).setY(this.meshData.meshCenter.y);d.position=(0,y.r0)(e,l,this.minDollhouseDistance,this.maxDollhouseDistance),d.position=(0,y.m$)(d.position,l,x,F),d.rotation=(0,y.n0)(d.position,l),u=l.distanceTo(d.position)}else u=((e,t,i)=>{const n=e.getCenter(new a.Vector3),s=O(e);return S(s,n,t,i)})(this.meshData.meshBounds,this.cameraData.pose.rotation,d)}return this.cameraModule.moveTo({transitionType:e,pose:d,transitionTime:h,autoOrtho:!!this.peekabooActive||void 0,projection:(0,l.AN)(this.cameraData.aspect()),focalDistance:u,rotationDuration:.5})}setDollhouseBounds(){const e=this.meshData.extendedBounds,t=e.min.distanceTo(e.max);this.minDollhouseDistance=Math.min(t/2,this.minDollhouseDistance),this.maxDollhouseDistance=Math.max(t,this.maxDollhouseDistance)}moveCameraToFloorplan(e,t,i,n){const s={},r=this.meshData.meshCenter,c=this.meshData.meshSize,d=Math.max(c.x,c.z),u=this.canvas.aspectRatio,h=this.getDefaultFloorplanZoom(this.meshData.meshSize),p=n&&n.zoom?this.canvas.height/(2*n.zoom):h,m=(0,l.aH)(this.canvas.width,this.canvas.height,p),f=this.getDefaultFloorplanZoom(this.meshData.extendedSize),g=(0,l.aH)(this.canvas.width,this.canvas.height,f);if(this.cameraModule.setBaseProjection(g),this.cameraData.pose.setAutoOrtho(!1),n&&n.position)s.position=n.position;else{const e=o.fU.UP.clone().multiplyScalar(d);s.position=r.clone().add(e)}if(n&&n.rotation)s.rotation=n.rotation;else{const e=(new _.M).setPosition(s.position);e.lookAt(s.position,r,o.fU.FORWARD),s.rotation=(new a.Quaternion).setFromRotationMatrix(e.asThreeMatrix4());if(u<1!==c.x/c.z<1){const e=(new a.Quaternion).setFromUnitVectors(o.fU.UP,o.fU.LEFT);s.rotation.multiply(e)}}const v=s.position.y-this.meshData.meshCenter.y;let y=Object.assign(Object.assign({},w),{easing:N.hl,transitionType:t,pose:s,transitionTime:i,projection:m,focalDistance:v});return e&&e in A&&(y=Object.assign(Object.assign({},A[e]),y)),this.cameraModule.moveTo(y)}moveCameraToOrthographic(e,t,i,n){const s=n&&n.zoom?n.zoom:this.getDefaultFloorplanZoom(this.meshData.extendedSize),r=(0,l.aH)(this.canvas.width,this.canvas.height,s,1,void 0,void 0,this._orthoMatrix);this.cameraModule.setBaseProjection(r);const a={easing:N.hl,transitionType:t,pose:n||{},transitionTime:i,projection:r,focalDistance:2};return this.cameraModule.moveTo(a)}getPeekabooDollhousePoseFromFloorplanPose(e,t=!1){let i;if(e&&e.position&&e.rotation&&e.zoom){const n=e.position,s=e.rotation,r=(0,y.t5)(e.zoom),l=this.visibleMeshBounds.computeFocusPoint(new a.Ray(n,o.fU.DOWN));t?i={position:new a.Vector3(n.x,this.meshData.meshCenter.y+r,n.z),rotation:e.rotation.clone(),focalDistance:r}:(i={position:new a.Vector3,rotation:new a.Quaternion,focalDistance:r},S(r,l,s,i))}return i}fixHighPhiPose(e,t){if((null==t?void 0:t.rotation)&&(null==t?void 0:t.position)&&(0,b.yn)(t.rotation)>L.Ok&&e===s.Ey.Dollhouse){const[e,i]=this.setPhi(null==t?void 0:t.position,t.rotation);t.position=t.position.clone().add(i),t.rotation=e}}setPhi(e,t){var i;const n=(0,b.yn)(t),s=(null===(i=this.meshData)||void 0===i?void 0:i.meshCenter.y)||0,r=Math.abs(s-e.y)*Math.tan(Math.abs(L.Ok-n)),l=t.clone().multiply((new a.Quaternion).setFromAxisAngle(o.fU.RIGHT,n)).multiply((new a.Quaternion).setFromAxisAngle(o.fU.RIGHT,-L.Ok)),c=o.fU.UP.clone().applyQuaternion(l);return c.y=0,c.normalize().multiplyScalar(-r),[l,c]}getDefaultFloorplanZoom(e){const t=Math.max(e.x,e.z),i=Math.min(e.x,e.z),n=this.canvas.aspectRatio,s=Math.max(t,i/n),r=Math.max(i,t/n),a=n<1?s:r;return this.canvas.height/(1.2*a)}}},12117:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(81396),s=i(85726),r=i(67108),a=i(60937),o=i(933),l=i(84906),c=i(3835);class d extends o.Y{computeFocusPoint(e){const t=this.getVisibleBounds(),i=this.getCenterOfMass(),s=Math.ceil(Math.abs(i.y-t.min.y)/3);let r=Number.MAX_VALUE;const a=new n.Vector3,o=new n.Vector3;let d=!1;if(Number.isFinite(s))for(let l=0;l<s;l++){const s=t.min.y+3*l,u=(new n.Plane).setFromNormalAndCoplanarPoint(c.fU.UP,new n.Vector3(t.min.x,s,t.min.z));d=!!e.intersectPlane(u,a);const h=i.distanceTo(a);d&&h<r&&(r=h,o.copy(a))}const u=t.max.distanceTo(i)*Math.SQRT2,h=!t.clone().expandByVector(new n.Vector3(u,0,u)).containsPoint(o);return d&&!h||(e.closestPointToPoint(i,o),e.origin.distanceTo(o)<l.qj&&e.at(l.qj,o)),o}}class u extends d{constructor(){super(...arguments),this.name="visible-mesh-bounds",this.visibleBounds=(0,s.Y)(new n.Box3),this.visibleCenterOfMass=(0,s.Y)(new n.Vector3),this.fullBounds=(0,s.Y)(new n.Box3)}async init(e,t){Promise.all([t.market.waitForData(r._),t.market.waitForData(a.c)]).then((([e,t])=>{this.meshData=e,this.floorsViewData=t,this.fullBounds.value=this.meshData.extendedBounds,this.updateBounds(),this.bindings.push(this.floorsViewData.makeFloorChangeSubscription((()=>this.updateBounds())),...this.floorsViewData.floors.getOrderedValues().map((e=>e.onBoundsChanged((()=>this.updateBounds())))))}))}getVisibleBounds(){return this.visibleBounds.value.clone()}getFullBounds(){return this.fullBounds.value.clone()}getCenterOfMass(){return this.visibleCenterOfMass.value.clone()}onVisibleBoundsChanged(e){return this.visibleBounds.onChanged(e)}onFullBoundsChanged(e){return this.fullBounds.onChanged(e)}updateBounds(){this.floorsViewData.currentFloor?(this.visibleBounds.value=this.floorsViewData.currentFloor.boundingBox.clone(),this.visibleCenterOfMass.value=this.floorsViewData.currentFloor.centerOfMass.clone()):(this.visibleBounds.value=this.meshData.extendedBounds,this.visibleCenterOfMass.value=this.meshData.centerOfMass)}}},1945:(e,t,i)=>{"use strict";i.d(t,{a:()=>o,Z:()=>c});var n=i(81396),s=i(91524),r=i(63511);class a extends n.Object3D{constructor(e){super(),this.anchor=this,this.update=e=>{this.anchor.position.copy(e.position),this.camera.quaternion.copy(e.rotation),this.camera.projectionMatrix.copy(e.projection.asThreeMatrix4()),this.camera.projectionMatrixInverse.copy(e.projection.asThreeMatrix4()),this.camera.projectionMatrixInverse.invert(),this.updateMatrixWorld(!0)},this.camera=new n.PerspectiveCamera(s.oR.fov,e,s.oR.near,s.oR.far),this.add(this.camera),this.camera.layers.mask=r.o.ALL.mask,this.name="CameraRig"}dispose(){this.remove(this.camera)}}var o,l=i(20348);!function(e){e[e.Root=0]="Root",e[e.CameraRig=1]="CameraRig"}(o||(o={}));class c{constructor(e,t,i,s){this.scene=e,this.threeRenderer=t,this.cameraData=i,this.useEffectComposer=s,this.ids=o,this.rendering=!1,this.composer=null,this.cameraRigStale=!0,this.canvasSizeChanged=!0,this.updateComposer=(()=>{const e=new n.Vector2;return()=>{this.canvasSizeChanged&&this.composer&&(this.composer.setPixelRatio(this.composer.renderer.getPixelRatio()),this.composer.renderer.getSize(e),this.composer.setSize(e.x,e.y),this.canvasSizeChanged=!1)}})()}add(...e){for(const t of e)this.addChild(o.Root,t)}remove(...e){for(const t of e)this.removeChild(o.Root,t)}addChild(e,t){switch(e){case o.Root:this.scene.add(t);break;case o.CameraRig:this.cameraRig.add(t);break;default:return!1}return!0}removeChild(e,t){switch(e){case o.Root:this.scene.remove(t);break;case o.CameraRig:this.cameraRig.remove(t);break;default:return!1}return!0}get camera(){return this.updateCameraRig(),this.cameraRig.camera}get effectComposer(){return this.composer}init(){this.cameraRig=new a(this.cameraData.aspect()),this.useEffectComposer&&Promise.all([i.e(525).then(i.bind(i,11279)),i.e(525).then(i.bind(i,54458))]).then((([e,t])=>{this.composer=new e.EffectComposer(this.threeRenderer),this.composer.addPass(new t.RenderPass(this.scene,this.cameraRig.camera)),this.cameraRigStale=!0})),this.cameraRigStale=!0}dispose(){this.cameraRig.dispose()}startRender(e){this.rendering=e}activate(e){this.scene.add(this.cameraRig),this.cameraDataCallback=()=>this.cameraRigStale=!0,this.cameraData.pose.onChanged(this.cameraDataCallback),this.canvasSizeSub=new l.V(this.cameraData.onPropertyChanged("_width",(()=>this.onCanvasSizeChanged())),this.cameraData.onPropertyChanged("_height",(()=>this.onCanvasSizeChanged())))}deactivate(e){var t;this.scene.remove(this.cameraRig),this.cameraData.pose.removeOnChanged(this.cameraDataCallback),null===(t=this.canvasSizeSub)||void 0===t||t.cancel()}beforeRender(){this.updateCameraRig(),this.updateComposer()}setCameraDirty(){this.cameraRigStale=!0,this.cameraRig.camera.updateProjectionMatrix()}onCanvasSizeChanged(){this.canvasSizeChanged=!0}updateCameraRig(){this.cameraRigStale&&(this.cameraRig.update(this.cameraData.pose),this.cameraRigStale=!1)}render(e){this.rendering&&(this.composer?this.composer.render(e):(this.threeRenderer.clear(),this.threeRenderer.render(this.scene,this.cameraRig.camera)))}}},58626:(e,t,i)=>{"use strict";i.d(t,{b:()=>s});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload=Object.assign({},e)}}s.id="GET_SCREEN_POS"},70968:(e,t,i)=>{"use strict";i.d(t,{G:()=>r,v:()=>s});var n=i(73943);class s extends n.y{constructor(e){super(e)}}class r extends n.y{constructor(e){super(e)}}},49868:(e,t,i)=>{"use strict";i.r(t),i.d(t,{MAX_RESOLUTION:()=>D,default:()=>R});var n=i(81396),s=i(933),r=i(23998),a=i(57793),o=i(15709),l=i(69484),c=i(11250),d=i(64150),u=i(7721),h=i(29956),p=i(12047),m=i(53952);const f=(e,t)=>{switch(e){case m.Z.GL_TEXTURE_CUBE_MAP_POSITIVE_X:t.set(0,-Math.PI/2,0);break;case m.Z.GL_TEXTURE_CUBE_MAP_NEGATIVE_X:t.set(0,Math.PI/2,0);break;case m.Z.GL_TEXTURE_CUBE_MAP_POSITIVE_Y:t.set(Math.PI/2,Math.PI,0);break;case m.Z.GL_TEXTURE_CUBE_MAP_NEGATIVE_Y:t.set(-Math.PI/2,Math.PI,0);break;case m.Z.GL_TEXTURE_CUBE_MAP_POSITIVE_Z:t.set(0,-Math.PI,0);break;case m.Z.GL_TEXTURE_CUBE_MAP_NEGATIVE_Z:t.set(0,0,0)}};var g=i(44850),v=i(70968),y=i(13969),E=i.n(y),b=i(74696),S=i.n(b);const O={copyCubeMap:{uniforms:{tDiffuse:{type:"t",value:null},alpha:{type:"f",value:1}},vertexShader:E(),fragmentShader:S()}};var T=i(28730);const _={0:[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],1:[0,0,0,0,0,0,0,3e-6,229e-6,.005977,.060598,.24173,.382925,.24173,.060598,.005977,229e-6,3e-6,0,0,0,0,0,0,0],2:[0,0,1e-6,1e-5,78e-6,489e-6,.002403,.009245,.027835,.065591,.120978,.174666,.197413,.174666,.120978,.065591,.027835,.009245,.002403,489e-6,78e-6,1e-5,1e-6,0,0],3:[48e-6,169e-6,538e-6,.001532,.003907,.008921,.018247,.033432,.054867,.080658,.106212,.125283,.132372,.125283,.106212,.080658,.054867,.033432,.018247,.008921,.003907,.001532,538e-6,169e-6,48e-6],4:[.001133,.002316,.00445,.008033,.013627,.021724,.032542,.04581,.0606,.075333,.088001,.096603,.099654,.096603,.088001,.075333,.0606,.04581,.032542,.021724,.013627,.008033,.00445,.002316,.001133],5:[.004571,.00723,.010989,.016048,.022521,.03037,.039354,.049003,.058632,.067411,.074476,.079066,.080657,.079066,.074476,.067411,.058632,.049003,.039354,.03037,.022521,.016048,.010989,.00723,.004571],6:[.009379,.012899,.017256,.022453,.028417,.034983,.041888,.048784,.055264,.060893,.065262,.068032,.068981,.068032,.065262,.060893,.055264,.048784,.041888,.034983,.028417,.022453,.017256,.012899,.009379],7:[.014185,.01793,.022207,.02695,.032045,.037335,.042622,.047676,.052254,.056116,.059048,.06088,.061504,.06088,.059048,.056116,.052254,.047676,.042622,.037335,.032045,.02695,.022207,.01793,.014185]};class N{constructor(e){this.threeRenderer=e,this.cachedSize=new n.Vector2,this.renderToCubeMap=(()=>{let e,t,i,s,r,a=!1;const o=.5;return(l,c,d,u,h,p,m,f,v,y,E,b,S,O,T,_)=>{if(this.contextLost)return;a||(t=new n.OrthographicCamera(-.5,o,o,-.5,-200,200),t.position.z=150,e=new n.Scene,e.name="rttCube",e.add(t),i=new n.RawShaderMaterial({uniforms:{tDiffuse:{value:null},alpha:{value:1}},vertexShader:g.Z.basicTextured.vertexShader,fragmentShader:g.Z.basicTextured.fragmentShader,depthWrite:!1,depthTest:!1,side:n.DoubleSide}),s=new n.PlaneGeometry(1,1),r=new n.Mesh(s,i),r.position.z=0,e.add(r),a=!0);const N=s.getAttribute("uv");N.setUsage(n.DynamicDrawUsage),N.needsUpdate=!0;const w=N.array,A=h/d,I=p/u,k=m/d,P=f/u;w[0]=A,w[1]=I+P,w[2]=A+k,w[3]=I+P,w[4]=A,w[5]=I,w[6]=A+k,w[7]=I;const L=s.getAttribute("position");L.setUsage(n.DynamicDrawUsage),L.needsUpdate=!0;const D=L.array,R=v/c.width-o,M=y/c.height-o,C=E/c.width,x=b/c.height;D[0]=R,D[1]=M+x,D[3]=R+C,D[4]=M+x,D[6]=R,D[7]=M,D[9]=R+C,D[10]=M,i.uniforms.tDiffuse.value=l,i.blending=O||n.NoBlending,i.transparent=!!T,null==_&&(_=1),i.uniforms.alpha.value=_,c.viewport.set(0,0,c.width,c.height);const F=this.threeRenderer.getRenderTarget(),U=this.threeRenderer.autoClear,H=this.threeRenderer.xr.enabled;this.threeRenderer.xr.enabled=!1,this.threeRenderer.autoClear=!1,this.threeRenderer.setRenderTarget(c,S),this.threeRenderer.render(e,t),this.threeRenderer.setRenderTarget(F),this.threeRenderer.autoClear=U,this.threeRenderer.xr.enabled=H}})(),this.copyCubemap=(()=>{let e,t,i,s,r,a=!1;const o=new n.Euler,l=this;return(c,d,u,h,p)=>{if(this.contextLost)return;if(!a){const o=2,l=o/2;t=new n.OrthographicCamera(-l,l,l,-l,0,200),t.position.set(0,0,0),e=new n.Scene,e.name="copyCube",e.add(t),i=new n.RawShaderMaterial({uniforms:{tDiffuse:{value:null},alpha:{value:1}},vertexShader:O.copyCubeMap.vertexShader,fragmentShader:O.copyCubeMap.fragmentShader,depthWrite:!1,depthTest:!1,side:n.DoubleSide}),s=new n.BoxGeometry(o,o,o),r=new n.Mesh(s,i),e.add(r),a=!0}const m=l.threeRenderer.getRenderTarget(),g=l.threeRenderer.autoClear,v=l.threeRenderer.xr.enabled;l.threeRenderer.xr.enabled=!1,l.threeRenderer.autoClear=!1;for(let s=0;s<6;s++)f(s,o),r.rotation.copy(o),r.matrixWorldNeedsUpdate=!0,r.updateMatrixWorld(!0),i.uniforms.tDiffuse.value=c,i.blending=u||n.NoBlending,i.transparent=!!h,null==p&&(p=1),i.uniforms.alpha.value=p,d.viewport.set(0,0,d.width,d.height),l.threeRenderer.setRenderTarget(d,s),l.threeRenderer.render(e,t);l.threeRenderer.setRenderTarget(m),l.threeRenderer.autoClear=g,l.threeRenderer.xr.enabled=v}})(),this.blurCubemap=(()=>{const e=e=>{const t=new n.WebGLCubeRenderTarget(e);return t.texture.image={},t.texture.image.width=e,t.texture.image.height=e,{renderTarget:t,cubeCamera:new n.CubeCamera(.1,1e3,t)}};class t extends n.Mesh{}const i={512:e(512)},s=new n.Scene,r=new t(new n.BoxGeometry(1,1,1));s.add(r);const a={};return(t,o,l=3,c=.005)=>{const d=o.renderTarget;i[d.width]||(i[d.width]=e(d.width)),r.material=function(e){if(!a[e]){const t=new n.RawShaderMaterial({uniforms:n.UniformsUtils.clone(T.Z.blurCube.uniforms),vertexShader:T.Z.blurCube.vertexShader,fragmentShader:T.Z.blurCube.fragmentShader,side:n.BackSide});t.defines={};const i=_[`${e}`];for(const[e,n]of i.entries())t.defines[`KERNEL_${e+1}`]=0===n||1===n?n.toFixed(1):n;a[e]=t}return a[e]}(l);const u=i[d.width];r.material.uniforms.map.value=t,r.material.uniforms.dir.value.set(c,0),u.cubeCamera.update(this.threeRenderer,s),r.material.uniforms.map.value=u.renderTarget.texture,r.material.uniforms.dir.value.set(0,c),o.update(this.threeRenderer,s)}})();try{const e=this.threeRenderer.getContext();0,this.contextLost=e.isContextLost(),this._maxCubemapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),this._maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this._gpuInfo=function(e){try{const t=e.getExtension("WEBGL_debug_renderer_info");if(t)return{vendor:e.getParameter(t.UNMASKED_VENDOR_WEBGL),renderer:e.getParameter(t.UNMASKED_RENDERER_WEBGL)}}catch(e){}return{vendor:"Unknown",renderer:"Unknown"}}(e)}catch(e){throw new v.G("Unable to create a WebGL rendering context")}this.initTexture=this.initTexture.bind(this)}setupRendererProxy(){const e=this.threeRenderer.getContext(),t=e.canvas,i={},n=new Proxy(e,{get:(e,t,n)=>"canvas"===t?s:e[t]instanceof Function?i[t]||(i[t]=e[t].bind(e)):e[t]}),s={get clientHeight(){return t.clientHeight},get clientLeft(){return t.clientLeft},get clientTop(){return t.clientTop},get clientWidth(){return t.clientWidth},getBoundingClientRect:()=>t.getBoundingClientRect(),get height(){return t.height},get offsetHeight(){return t.offsetHeight},get offsetLeft(){return t.offsetLeft},get offsetTop(){return t.offsetTop},get offsetWidth(){return t.offsetWidth},get width(){return t.width}};this.threeRenderer.domElement=s,this.threeRenderer.getContext=function(){return n}}initTexture(e){return this.threeRenderer.initTexture(e)}get maxCubemapSize(){return this._maxCubemapSize}get maxTextureSize(){return this._maxTextureSize}get gpuInfo(){return this._gpuInfo}getSize(){return this.threeRenderer.getSize(this.cachedSize)}getPixelRatio(){return this.threeRenderer.getPixelRatio()}dispose(){this.threeRenderer.dispose()}initSizedTexture2D(e,t){var i;const s=new n.FramebufferTexture(e,e,null!==(i=null==t?void 0:t.format)&&void 0!==i?i:n.RGBAFormat);return t&&Object.assign(s,t),this.contextLost||this.threeRenderer.initTexture(s),s}initRenderTargetCube(e){const t=new n.WebGLCubeRenderTarget(e,{stencilBuffer:!1,depthBuffer:!1,generateMipmaps:!1});return t.texture.image={},t.texture.image.width=e,t.texture.image.height=e,t}uploadTexture2D(e,t,i,s){if(!this.contextLost){const r=new n.Texture;r.image=e,this.threeRenderer.copyTextureToTexture(new n.Vector2(i,s),r,t,0)}}fence(e){return new Promise(((t,i)=>{const n=this.contextLost?null:e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);if(null===n)return i();e.flush();const s=()=>{switch(e.getSyncParameter(n,e.SYNC_STATUS)){case e.TIMEOUT_EXPIRED:return void setTimeout(s,0);case e.WAIT_FAILED:return void i();case e.SIGNALED:return e.deleteSync(n),void t();default:return void setTimeout(s,0)}};setTimeout(s,0)}))}}var w=i(58626),A=i(35557),I=i(72803);class k extends n.Mesh{constructor(e){super(new n.PlaneGeometry(2,2,1,1),new n.RawShaderMaterial({uniforms:n.UniformsUtils.clone(g.Z.screenSpaceColored.uniforms),vertexShader:g.Z.screenSpaceColored.vertexShader,fragmentShader:g.Z.screenSpaceColored.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1})),this._opacity=1,this.material.uniforms.color.value=new n.Color(e),this.renderOrder=I.z.colorOverlay,this.name="ScreenOverlayMesh"}set opacity(e){this.visible=e>0,this._opacity=e,this.material.uniforms.opacity.value=e}get opacity(){return this._opacity}dispose(){this.material.dispose(),this.geometry.dispose()}}class P{constructor(e,t){this.scene=e,this.cameraData=t}init(){this.blackoutOverlayMesh=new k(0)}dispose(){this.blackoutOverlayMesh.dispose()}render(e){this.blackoutOverlayMesh.opacity=this.cameraData.transition.blackoutProgress.value}activate(e){this.scene.addChild(this.scene.ids.CameraRig,this.blackoutOverlayMesh)}deactivate(e){this.scene.removeChild(this.scene.ids.CameraRig,this.blackoutOverlayMesh)}}var L=i(1945);const D=3686400;class R extends s.Y{constructor(){super(...arguments),this.name="webgl-renderer",this.onContextLost=e=>{this.log.info(e),this._cwfRenderer.contextLost=!0,this.engine.broadcast(new A.zq(e)),e.preventDefault()},this.onContextRestored=e=>{var t;this.log.info(e),this._cwfRenderer.contextLost=!1,this.engine.broadcast(new A.Xq(e)),null===(t=this.canvas.parentNode)||void 0===t||t.insertBefore(this.canvas,this.canvas)},this.getPixelRatioFor=(e,t)=>{const i=window.devicePixelRatio||1;return e*t*i<=D?i:1}}async init(e,t){if(!("WebGLRenderingContext"in window))throw new v.v("WebGL not supported");let i;this.canvas=e.canvas,this.engine=t;try{const t={canvas:this.canvas,antialias:e.antialias,alpha:!0,powerPreference:"high-performance"};i=e.useWebGL2?new n.WebGLRenderer(t):new n.WebGL1Renderer(t),i.autoClear=!1,i.xr.enabled=!0}catch(e){throw new v.G("Unable to create a WebGL rendering context")}i.setOpaqueSort(this.painterSortStable),this.patchGLContext(i.getContext()),this._cwfRenderer=new N(i),this._threeRenderer=i,[this.cameraData,this.settingsData]=await Promise.all([t.market.waitForData(a.M),t.market.waitForData(d.e)]);const s=new n.Scene;s.name="main",t.diContainer.bindConstant("ThreeScene",s),this.scene=new L.Z(s,i,this.cameraData,e.useEffectComposer),t.addComponent(this,this.scene),t.addComponent(this,new P(this.scene,this.cameraData));const l=await t.market.waitForData(r.W);this.setSize(l.width,l.height),this.bindings.push(t.subscribe(o.a,(e=>this.setSize(e.width,e.height))),t.commandBinder.addBinding(w.b,(async e=>(0,c.q9)(this.cameraData,e.worldPosition).screenPosition)),new p.r(this.canvas,"webglcontextlost",this.onContextLost),new p.r(this.canvas,"webglcontextrestored",this.onContextRestored)),this.webGlMemoryTracker=i.getContext().getExtension("GMAN_webgl_memory"),this.webGlMemoryTracker||this.log.warn("Unable to find WebGL memory tracker!"),t.broadcast(new u.em(h.Y.WebGLRenderer))}dispose(e){super.dispose(e),this.threeRenderer.dispose()}isHighPerformanceMobileGPU(){return e=this._cwfRenderer.gpuInfo,/Apple A(9|1\d)/.test(e.renderer)||/Adreno \(TM\) (512|530|540|[6-9]\d\d)/.test(e.renderer)||/Mali-G(7[1-9]|[8-9]\d)/.test(e.renderer);var e}patchGLContext(e){if(function(e){let t=!1;if("undefined"!=typeof OffscreenCanvas){const i=new OffscreenCanvas(1,1);if(i.getContext("2d")){const n=e.createTexture();try{e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i)}catch(e){t=!0}finally{e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(n)}}}return t}(e)){this.log.warn("OffscreenCanvas unsupported as texImage2D source, applying workaround");let t=null;const i=e.texImage2D;e.texImage2D=function(...n){var s;const r=n[5];r&&r instanceof OffscreenCanvas?(t=t||document.createElement("canvas"),t.width=r.width,t.height=r.height,null===(s=t.getContext("2d"))||void 0===s||s.drawImage(r,0,0),n[5]=t,i.call(e,...n),t.width=t.height=1):i.call(e,...n)}}}get gpuInfo(){return this._cwfRenderer.gpuInfo}get maxCubemapSize(){return this._cwfRenderer.maxCubemapSize}get maxTextureSize(){return this._cwfRenderer.maxTextureSize}get maxVaryings(){return this._threeRenderer.capabilities.maxVaryings}getScene(){return this.scene}getCamera(){return this.scene.camera}get cwfRenderer(){return this._cwfRenderer}get threeRenderer(){return this._threeRenderer}async renderOnce(){return this.scene.startRender(!0),this.engine.after(l.A.Render).then((()=>this.scene.startRender(!1)))}startRender(e=!0){this.scene.startRender(e),this.engine.broadcast(new A.Vx(this._cwfRenderer.getPixelRatio()))}setSize(e,t){const i=this.getPixelRatioFor(e,t);i!==this._cwfRenderer.getPixelRatio()&&(this.log.debug(`Setting pixel ratio to ${i}`),this.engine.broadcast(new A.Vx(i))),this.threeRenderer.xr.isPresenting&&this.log.error("setting size while in xr is a no no, it resets the viewport",e,t),this.threeRenderer.setDrawingBufferSize(e,t,i),this.scene.setCameraDirty()}supportsInstancing(){const{threeRenderer:e,settingsData:t}=this;return 1!==t.getOverrideParam("noInstancing",0)&&(e.capabilities.isWebGL2||e.extensions.has("ANGLE_instanced_arrays"))}getCapabilities(){const{capabilities:e,extensions:t}=this.threeRenderer,i=e.isWebGL2;let n=!1;try{n=!!document.createElement("canvas").getContext("webgl2")}catch(e){}return{gl_v2:n,gl_max_textures:e.maxTextures,gl_max_texture_size:e.maxTextureSize,gl_max_cubemap_size:e.maxCubemapSize,gl_instancing:this.supportsInstancing(),gl_oes_texture_float:i||t.has("OES_texture_float"),gl_oes_texture_half_float:i||t.has("OES_texture_half_float"),gl_depth_texture:i||t.has("WEBGL_depth_texture"),gl_draw_buffers:i||t.has("WEBGL_draw_buffers"),gl_oes_fbo_render_mip_map:i||t.has("OES_fbo_render_mipmap"),gl_shader_texture_lod:i||t.has("EXT_shader_texture_lod"),gl_oes_vertex_array_obj:i||t.has("OES_vertex_array_object"),gl_ovr_multi_view:i&&t.has("OVR_multiview2"),gl_color_buffer_float:i&&t.has("EXT_color_buffer_float"),gl_astc_supported:t.has("WEBGL_compressed_texture_astc"),gl_etc1_supported:t.has("WEBGL_compressed_texture_etc1"),gl_etc2_supported:t.has("WEBGL_compressed_texture_etc"),gl_dxt_supported:t.has("WEBGL_compressed_texture_s3tc"),gl_bptc_supported:t.has("EXT_texture_compression_bptc"),gl_pvrtc_supported:t.has("WEBGL_compressed_texture_pvrtc")||t.has("WEBKIT_WEBGL_compressed_texture_pvrtc")}}estimatedGPUMemoryAllocated(){if(this.webGlMemoryTracker){return this.webGlMemoryTracker.getMemoryInfo().memory.total}return-1}painterSortStable(e,t){if(e.groupOrder!==t.groupOrder)return e.groupOrder-t.groupOrder;if(e.renderOrder!==t.renderOrder)return e.renderOrder-t.renderOrder;if(e.program!==t.program)return e.program.id-t.program.id;if(e.material.id!==t.material.id)return e.material.id-t.material.id;if(e.object.getSortKey&&t.object.getSortKey){const i=e.object.getSortKey()-t.object.getSortKey();if(0!==i)return i}return e.z!==t.z?e.z-t.z:e.id-t.id}}},35557:(e,t,i)=>{"use strict";i.d(t,{Vx:()=>s,Xq:()=>a,zq:()=>r});var n=i(8126);class s extends n.v0{constructor(e){super(),this.pixelRatio=e}}class r extends n.v0{constructor(e){super(),this.event=e}}class a extends n.v0{constructor(e){super(),this.event=e}}},94187:(e,t,i)=>{"use strict";i.d(t,{A:()=>r,j:()=>s});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload=Object.assign({},e)}}s.id="XR_PRESENT";class r extends n.m{constructor(){super()}}r.id="XR_PRESENT_END"},84866:(e,t,i)=>{"use strict";i.d(t,{nE:()=>r,tK:()=>n,xK:()=>s});const n="features/xr_browser_lock",s=!1,r="xruntested"},90449:(e,t,i)=>{"use strict";i.d(t,{bk:()=>n,hX:()=>o,pl:()=>l});var n,s=i(61173),r=i(99010),a=i(91774);!function(e){e.webxr="webxr",e.unsupported="unsupported"}(n||(n={}));const o=e=>{const t=!!e.tryGetProperty("is_vr",!1),i=e.tryGetProperty(a.sX,!1),n=e.getOverrideParam("vr",1);return t&&!(!n||2===n&&!(0,s.Dt)())&&!i},l=async(e=!1)=>{const t=await r.Z.isSessionSupported("immersive-vr");return window.isSecureContext&&(e||(0,s.Ot)()||!(0,s.tq)())&&t?n.webxr:n.unsupported}},99010:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});const n=new(i(53257).Z)("vr-platform-select"),s=()=>{const e=void 0!==navigator&&"xr"in navigator&&void 0!==navigator.xr&&"isSessionSupported"in navigator.xr&&"requestSession"in navigator.xr;return window.isSecureContext&&e},r={isSessionSupported:async(e="immersive-vr")=>{var t;let i=!1;if(s())try{i=!!await(null===(t=null===navigator||void 0===navigator?void 0:navigator.xr)||void 0===t?void 0:t.isSessionSupported(e))}catch(e){n.info("WebXR disabled",e)}return n.debug(`WebXR session type: ${e} supported: ${i}`),i},apiExists:s}},93955:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(8126);class s extends n.v0{constructor(e){super(),this.zoomLevel=e}}},63513:(e,t,i)=>{"use strict";i.d(t,{KB:()=>r,_N:()=>o,bj:()=>s,ob:()=>a,ts:()=>l});var n=i(56063);class s extends n.m{constructor(e){super(),this.payload={step:e}}}s.id="ZOOM_IN";class r extends n.m{constructor(e){super(),this.payload={step:e}}}r.id="ZOOM_OUT";class a extends n.m{}a.id="ZOOM_RESET";class o extends n.m{}o.id="ZOOM_MAX_VALUE";class l extends n.m{constructor(e){super(),this.payload={value:e}}}l.id="ZOOM_SET"},44850:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(81396),s=i(25848),r=i.n(s),a=i(22505),o=i.n(a),l=i(5725),c=i.n(l),d=i(47301),u=i.n(d);const h={basicTextured:{uniforms:{tDiffuse:{type:"t",value:null},alpha:{type:"f",value:1}},vertexShader:r(),fragmentShader:o()},screenSpaceColored:{uniforms:{color:{type:"v3",value:new n.Vector3(0,0,0)},opacity:{type:"f",value:1}},vertexShader:c(),fragmentShader:u()}}},29956:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});const n={Navigation:Symbol("nav"),WebGLRenderer:Symbol("webgl-renderer"),ModelMesh:Symbol("model-mesh"),Octree:Symbol("raycast-octree"),PanoTiles:Symbol("pano-tiles-preload"),Raycaster:Symbol("raycast"),Snapping:Symbol("snap"),StreamingTexture:Symbol("stream-textures"),StreamingMesh:Symbol("stream-mesh")}},7721:(e,t,i)=>{"use strict";i.d(t,{PD:()=>u,bc:()=>c,em:()=>l,z4:()=>d});var n=i(8126),s=i(20348),r=i(59491);const a=new(i(53257).Z)("symbols"),o=[];class l extends n.v0{constructor(e){super(),this.symbol=e}}class c extends n.v0{constructor(e){super(),this.payload=e}}class d extends n.v0{constructor(e){super(),this.payload=e}}function u(e){return new s.V((0,r.k1)((()=>null),(()=>o.length=0)),e.messageBus.subscribe(c,(e=>{o.push(e.payload)})),e.messageBus.subscribe(d,(e=>{const t=o.findIndex((t=>t.symbol===e.payload.symbol&&t.callback===e.payload.callback));t>=0&&o.splice(t,1)})),e.messageBus.subscribe(l,(e=>{o.forEach((t=>{if(t.symbol===e.symbol)try{t.callback()}catch(t){a.warn("Error handling SymbolMessage",e,t)}}))})))}},97001:(e,t,i)=>{"use strict";i.d(t,{b:()=>s});var n=i(81396);class s extends n.RawShaderMaterial{onBeforeCompile(e,t){super.onBeforeCompile(e,t),t.capabilities.isWebGL2&&this.glslVersion!==n.GLSL3&&(e.glslVersion=n.GLSL3,e.vertexShader=r+e.vertexShader,e.fragmentShader=a+e.fragmentShader)}}const r="\n#define attribute in\n#define varying out\n#define texture2D texture\n",a="\n#define varying in\nout highp vec4 pc_fragColor;\n#define gl_FragColor pc_fragColor\n#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n"},83607:(e,t,i)=>{"use strict";i.d(t,{P:()=>n});class n{constructor(e){this.size=e,this.index=0,this.count=0,this.buffer=[],this.sorted=!1,this.buffer=new Array(e)}push(e){this.buffer[this.index]=e,this.index=(this.index+1)%this.size,this.count++,this.sorted=!1}get topIndex(){return 0===this.index?this.size-1:this.index-1}pop(){if(this.count>0){const e=this.peek();return this.count--,0===this.index?this.index=this.size-1:this.index--,e}return null}peek(){return this.isEmpty()?null:this.buffer[this.topIndex]}isEmpty(){return 0===this.count}getList(){return this.count>=this.size?this.buffer:this.buffer.slice(0,this.count)}median(){const e=Math.floor(this.count/2),t=this.getList();return this.sorted||(t.sort(),t===this.buffer&&(this.sorted=!0)),t[e]}*[Symbol.iterator](){yield*this.buffer}clear(){this.count=0,this.index=0}}},21676:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});class n{constructor(e){this.matcher=e}static isValue(e){return new n(new s(e))}static isType(e){return new n(new r(e))}static isInstanceOf(e){return new n(new a(e))}static is(e){return new n(new o(e))}static isAny(){return new n(new l)}compare(e){return this.matcher.matches(e)}}class s{constructor(e){this.value=e}matches(e){return this.value===e}}class r{constructor(e){this.type=e}matches(e){return Object.getPrototypeOf(e).constructor===this.type}}class a{constructor(e){this.type=e}matches(e){if("object"==typeof e)return e instanceof this.type;const t=this.type;switch(typeof e){case"number":return t===Number;case"string":return t===String;case"boolean":return t===Boolean;case"function":return t===Function}return!1}}class o{constructor(e){this.predicate=e}matches(e){return this.predicate(e)}}class l{constructor(){}matches(){return!0}}},96544:(e,t,i)=>{"use strict";i.d(t,{n:()=>c,s:()=>l});var n=i(53257),s=i(90253),r=i(93827);const a=new n.Z("expiring-resource"),o=new WeakMap;function l(e,t){(0,s.y)(e,(e=>{e instanceof c&&(e.onStale=t)}))}class c{constructor(e,t){this.value=e,this.validUntil=t}refreshFrom(e){if(!e)return;this.value=e.value,this.validUntil=e.validUntil;const t=o.get(this);t&&(t.resolve(),o.delete(this))}async get(){if(this.validUntil&&this.onStale){const e=Date.now();if(e+6e4+1e4>this.validUntil.getTime()){let t=o.get(this);t||(t=new r.Q,o.set(this,t),this.onStale()),e+6e4+1e3>this.validUntil.getTime()&&(a.info("Stale resource, waiting for refresh"),await t.nativePromise(),a.info("Refreshed resource"))}}return this.value}getCurrentValue(){return this.value}}},3655:(e,t,i)=>{"use strict";i.d(t,{FM:()=>a,UQ:()=>o,ZP:()=>r});var n=i(81396);class s{constructor(e,t){this.raycast=(()=>{const e=new n.Vector3,t=new n.Box3;return(i,n,r,l)=>{const c=t.copy(this.bounds).expandByScalar(n);if(i.ray.intersectsBox(c))for(const t of this.children)if(t instanceof s)t.raycast(i,n,r,l);else if(t instanceof a){if(!1===(null==l?void 0:l(t)))continue;const s=e,a=i.ray.distanceSqToSegment(t.start,t.end,void 0,e),o=Math.sqrt(a);o<n&&r.push({distance:i.ray.origin.distanceTo(s),object:t,distanceToRay:o,point:s.clone(),isLineOctreeIntersection:!0})}else if(t instanceof o){if(!1===(null==l?void 0:l(t)))continue;const e=i.ray.distanceToPoint(t);e<n&&r.push({distance:i.ray.origin.distanceTo(t),object:t,distanceToRay:e,point:t.clone(),isLineOctreeIntersection:!0})}}})(),this.level=t,this.bounds=e.clone(),this.clear()}clear(){this.childNodes=[],this.children=[]}add(e){let t=!1;const i=e instanceof n.Line3?[e.start,e.end]:[e];if(this.level<4){0===this.childNodes.length&&this.buildChildNodes();for(const n of this.childNodes)i.every((e=>n.bounds.containsPoint(e)))&&(t=!0,n.add(e))}t||this.children.push(e)}remove(e){const t=e instanceof n.Line3?[e.start,e.end]:[e];for(let i=0;i<this.children.length;i++){const n=this.children[i];if(n instanceof s){if(t.every((e=>n.bounds.containsPoint(e)))&&n.remove(e))return!0}else if(n===e)return this.children.splice(i,1),!0}return!1}buildChildNodes(){const e=this.bounds.max.clone().sub(this.bounds.min).clone().multiplyScalar(.5);for(let t=0;t<2;t++)for(let i=0;i<2;i++)for(let r=0;r<2;r++){const a=this.bounds.min.x+e.x*r,o=a+e.x,l=this.bounds.min.y+e.y*t,c=l+e.y,d=this.bounds.min.z+e.z*i,u=d+e.z,h=new n.Box3(new n.Vector3(a,l,d),new n.Vector3(o,c,u)),p=new s(h,this.level+1);this.childNodes.push(p),this.children.push(p)}}spherecast(e,t){if(e.intersectsBox(this.bounds))for(const i of this.children)if(i instanceof s)i.spherecast(e,t);else if(i instanceof a){const s=i.closestPointToPoint(e.center,!0,new n.Vector3);s.distanceTo(e.center)<e.radius&&t.push(new o(s))}else i instanceof n.Vector3&&i.distanceTo(e.center)<e.radius&&t.push(i)}traverse(e){for(const t of this.children)t instanceof s?t.traverse(e):e(t)}}class r{constructor(e){this.pointCount=0,this.lineCount=0,this.root=new s(e,0)}add(e){e instanceof n.Line3?this.lineCount++:e instanceof n.Vector3&&this.pointCount++,this.root.add(e)}remove(e){e instanceof a?this.lineCount--:e instanceof o&&this.pointCount--,this.root.remove(e)}clear(){this.root.clear(),this.pointCount=0,this.lineCount=0}traverse(e){this.root.traverse(e)}raycast(e,t,i){const n=[];return this.root.raycast(e,t,n,i),n}}class a extends n.Line3{constructor(e,t){super(e,t),this.start=e,this.end=t,this.isSnapLine3=!0}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}clone(){return new a(this.start,this.end)}}class o extends n.Vector3{constructor(e){super(),this.point=e,this.isSnapVector3=!0,super.copy(e)}copy(e){return this.point.copy(e.point),this}clone(){return new o(this.point)}}},24001:(e,t,i)=>{"use strict";i.d(t,{H:()=>n});class n{constructor(){this.activePromise=Promise.resolve(new s)}async lock(){const e=new Promise((async e=>{(await this.activePromise).onUnlock((()=>e(new s)))})),t=this.activePromise;return this.activePromise=e,t}}class s{onUnlock(e){this.unlockCB=e}unlock(){this.unlockCB()}}},26059:(e,t,i)=>{"use strict";i.d(t,{mY:()=>N,r0:()=>g,QC:()=>D,m$:()=>v,S3:()=>A,YN:()=>T,Fe:()=>O,D7:()=>y,n0:()=>b,fd:()=>S,Ll:()=>E,_U:()=>w,Pp:()=>m,s1:()=>f,J2:()=>k,Gf:()=>L,k2:()=>_,t5:()=>I,W3:()=>R});var n=i(81396),s=i(53462),r=i(3835);const a=(e,t,i=1e-5)=>Math.abs(e-t)<=i;var o=i(2897),l=i(32197),c=i(91524),d=i(43627),u=i(11250),h=i(48492),p=i(96783);const m=e=>!!e&&1===e.elements[15],f=e=>!!e&&(e.elements[15]>0&&e.elements[15]<1),g=((()=>{const e=new n.Object3D,t=new n.Vector3})(),(()=>{const e=new n.Vector3;return(t,i,n,s)=>(e.copy(t).sub(i),e.clampLength(n,s),i.clone().add(e))})()),v=(()=>{const e=new n.Vector3;return(t,i,n,s)=>{e.copy(i).sub(t);const r=Math.atan2(Math.sqrt(Math.pow(e.x,2)+Math.pow(e.z,2)),e.y),a=Math.min(Math.max(n,r),s);return Math.abs(r-a)>Number.EPSILON?y(t,i,r-a,!1):t}})(),y=(()=>{const e=new n.Vector3,t=new n.Vector3;return(i,n,s,a)=>(e.copy(n).sub(i),a?t.copy(r.fU.UP):t.copy(e).applyAxisAngle(r.fU.UP,-1*Math.PI/2).setY(0).normalize(),e.applyAxisAngle(t,s),n.clone().sub(e))})(),E=(()=>{const e=new n.Vector3,t=new n.Vector3;return(i,s,r)=>(e.copy(i).sub(s).normalize(),t.copy(i).sub(r).normalize(),(new n.Quaternion).setFromUnitVectors(e,t))})(),b=(()=>{const e=new s.M;return(t,i)=>(e.setPosition(t),e.lookAt(t,i,r.fU.UP),(new n.Quaternion).setFromRotationMatrix(e.asThreeMatrix4()))})(),S=(()=>{const e=new n.Vector3;return(t,i,n)=>(e.copy(r.fU.FORWARD).applyQuaternion(t).normalize(),e.clone().multiplyScalar(-1*n).add(i))})(),O=(()=>{const e=new n.Ray,t=new n.Vector3,i=new n.Vector3;return(n,s,a)=>(i.set(0,0,0),t.copy(r.fU.FORWARD).applyQuaternion(s),e.set(n,t),e.intersectPlane(a,i))})(),T=(()=>{const e=new n.Vector3,t=new n.Vector3,i=new n.Vector3,s=new n.Vector3,a=[new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3],o=new n.Vector3,c=new n.Vector3,d=new n.Vector3,u=new n.Vector3,h=new n.Plane,p=new n.Vector3,m=new n.Ray,f=new n.Vector3,g=new n.Vector3;return({targetPosition:v,targetRotation:y,angleDown:E,box:S,fovY:O,aspectRatio:T})=>{const _="number"==typeof E?E:-1*y.angleTo((0,l.Rq)(y,new n.Quaternion));e.copy(r.fU.FORWARD).applyQuaternion(y).setY(0),t.copy(e).setY(_).normalize(),s.copy(t).applyAxisAngle(r.fU.UP,-Math.PI/2).setY(0).normalize(),i.copy(s).cross(t).normalize();let N=0;const w=S.max,A=S.min,I=[w,A];for(let e=0;e<2;e++){const t=I[e].x;for(let e=0;e<2;e++){const i=I[e].y;for(let e=0;e<2;e++){const n=I[e].z;a[N].set(t,i,n),N++}}}o.copy(A),d.copy(v).setY(A.y);let k=c.copy(o).sub(d).dot(t);a.forEach((e=>{if(e.y===w.y)return;const i=c.copy(e).sub(d).dot(t);i<k&&(o.copy(e),k=i)}));const P=Math.sign(o.dot(s));u.copy(o).setX(o.x===w.x?A.x:w.x),Math.sign(u.dot(s))!==P?h.set(p.set(0,0,-1*Math.sign(o.z)),Math.abs(o.z)):(u.copy(o).setZ(o.z===w.z?A.z:w.z),h.set(p.set(-1*Math.sign(o.x),0,0),Math.abs(o.x))),m.set(v,f.copy(t).multiplyScalar(-1)),m.intersectPlane(h,g);const L=Math.min(Math.abs(g&&g.dot(t)),k);let D=0,R=0;a.forEach((function(e){c.copy(e).sub(v);const t=Math.abs(c.dot(s)),n=Math.abs(c.dot(i));t>D&&(D=t),n>R&&(R=n)}));const M=D/Math.tan(O*T/2),C=R/Math.tan(O/2),x=Math.max(M,C)+Math.abs(L),F=v.clone().add(t.clone().multiplyScalar(1.1*-x));return{position:F,rotation:b(F,v)}}})(),_=((()=>{const e=new n.Matrix4})(),(()=>{const e=new n.Matrix4,t=new n.Vector4})(),(()=>{const e=new n.Vector3;return(t,i,n=r.fU.UP)=>{const s=t.angleTo(i);return Math.sign(e.crossVectors(t,i).dot(n))*s}})()),N=((()=>{const e=new s.M,t=new n.Vector3})(),(e,t,i,n,s=1.5)=>{const r=1/e.elements[5];if(m(e))return s*n/(2*r);const a=t.distanceTo(i),o=Math.atan(r);return n*(s/(2*Math.tan(o)*a))}),w=function(){const e=new n.Vector3,t=new n.Matrix4;return(i,n,s)=>{const r=e.set(0,0,-i).applyMatrix4(n).z;return t.copy(n),t.invert(),e.set(2/s,0,r).applyMatrix4(t),e.x}}(),A=e=>1/e.elements[5],I=(e,t=c.oR.fov)=>e/Math.tan((0,d.Id)(t/2)),k=(()=>{const e=new n.Vector3;return(t,i,n)=>{const s=n.angleTo(r.fU.UP),a=Math.abs(s-Math.PI);return s<.2||a<.2?(t.quaternion.setFromUnitVectors(r.fU.FORWARD,n),!0):(t.lookAt(e.copy(i).add(n)),!1)}})(),P=((()=>{const e=new n.Vector3,t=new n.Vector3(1e4,1e4,1e4),i=[new n.Line3,new n.Line3,new n.Line3,new n.Line3],s=[new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3]})(),(()=>{const e=new n.Vector3,t=new n.Vector3(0,1,0);return(i,n)=>{e.set(0,0,-1).applyQuaternion(i);const s=e.angleTo(t),r=Math.abs(s-Math.PI);return s<n||r<n}})()),L=(()=>{const e=new n.Vector3(1,0,0);return(t,i=-45)=>{const s=i*(Math.PI/180);return P(t,.1)?(new n.Quaternion).setFromAxisAngle(e,s):t}})(),D=(()=>{const e=new n.Quaternion,t=new n.Euler;return(i,n=35*d.Ue)=>{const s=(0,u.yn)(i);if(s<n){const r=s-n;t.set(r,0,0),e.setFromEuler(t),i.multiply(e)}return i}})(),R=(()=>{const e=new n.Vector3;return(t,i,s,r,a)=>{const l=i.getWorldPosition(e).distanceTo(t),c=a.maxSize-(a.maxSize-a.minSize)*(0,h.C)(l,a.nearBound,a.farBound),d=t.clone().project(i),u=new n.Vector3(r.width/2,r.height/2,1).multiply(d),m=new n.Vector3(c/2,0,0).add(u),f=new n.Vector3(2/r.width,2/r.height,1).multiply(m).clone().unproject(i).clone().distanceTo(t)*(1+a.responsiveness/100*(s-1));return(0,p.uZ)(f,o.Z.epsilon,f)}})();(()=>{const e=new n.Vector3,t=new n.Vector3})()},2490:(e,t,i)=>{"use strict";i.d(t,{mB:()=>n});i(81396);const n=e=>!e||!Object.values(e).filter((e=>0!==e)).length},43627:(e,t,i)=>{"use strict";i.d(t,{Id:()=>r,MN:()=>s,Ue:()=>n,ZY:()=>a});const n=Math.PI/180,s=180/Math.PI;function r(e){return e*n}function a(e){return e*s}},96783:(e,t,i)=>{"use strict";i.d(t,{uZ:()=>n});const n=function(e,t,i){return Math.max(t,Math.min(e,i))}},5829:(e,t,i)=>{"use strict";function n(e,t,i){return(1-i)*e+i*t}i.d(t,{t:()=>n})},32197:(e,t,i)=>{"use strict";i.d(t,{Rq:()=>y,Xe:()=>E,Xv:()=>b,Z:()=>v,_B:()=>O,cB:()=>S,cb:()=>h,dS:()=>f,ep:()=>n,et:()=>m,r_:()=>c,rj:()=>p,xS:()=>u,zW:()=>d});var n,s=i(81396),r=i(53462),a=i(3835),o=i(96783),l=i(43627);!function(e){e.fromVisionVector=function(e){return new s.Vector3(e.x,e.z,-e.y)},e.fromVisionVectorInPlace=function(e){const t=e.x,i=e.z,n=-e.y;return e.set(t,i,n)},e.toVisionVector=function(e){return new s.Vector3(e.x,-e.z,e.y)},e.toVisionVectorInPlace=function(e){const t=e.x,i=-e.z,n=e.y;return e.set(t,i,n)},e.fromVisionQuaternion=function(e){return new s.Quaternion(e.x,e.z,-e.y,e.w).multiply((new s.Quaternion).setFromAxisAngle(new s.Vector3(0,1,0),(0,l.Id)(90)))},e.fromVisionCameraQuaternion=function(e){return new s.Quaternion(-e.x,-e.z,e.y,-e.w).multiply((new s.Quaternion).setFromAxisAngle(new s.Vector3(1,0,0),(0,l.Id)(90)))},e.toVisionQuaternion=function(e){const t=new s.Quaternion(e.x,e.y,e.z,e.w).multiply((new s.Quaternion).setFromAxisAngle(new s.Vector3(0,1,0),(0,l.Id)(-90)));return t.set(t.x,-t.z,t.y,t.w),t},e.toVisionCameraQuaternion=function(e){return new s.Quaternion(e.x,-e.z,e.y,e.w).multiply(new s.Quaternion(-.70710678118,0,0,.70710678118))}}(n||(n={}));function c(e,t,i){return Math.abs(t-e)<=i?t:e+Math.sign(t-e)*i}const d=function(e,t){const i=new s.Vector3(0,0,-1);return i.clone().applyQuaternion(e).angleTo(i.clone().applyQuaternion(t))},u=(()=>{const e=new r.M,t=new s.Frustum;return(i,n,s,r)=>(r=null!=r?r:t,e.identity().makeRotationFromQuaternion(n).setPosition(i),e.getInverse(e),e.premultiply(s.asThreeMatrix4()),r.setFromProjectionMatrix(e.asThreeMatrix4()),r)})(),h=((()=>{const e=new s.Sphere})(),(e,t,i,n)=>u(e,t,i).intersectsBox(n)),p=e=>{const t=e.getSize(new s.Vector3),i=Math.max(t.x,t.y,t.z);return(new s.Box3).setFromCenterAndSize(e.getCenter(new s.Vector3),new s.Vector3(i,i,i))},m=(e,t,i,n,s)=>(s-n)*((e-t)/(i-t))+n,f=(e,t,i,n,s)=>{const r=m(e,t,i,n,s);return(0,o.uZ)(r,n,s)};function g(e){return 0===e.x&&0===e.y&&0===e.z}const v=(()=>{const e=new s.Vector3,t=new s.Matrix4;return i=>g(i)?i.clone():(e.copy(a.fU.FORWARD).applyQuaternion(i),t.lookAt(a.fU.ZERO,e,a.fU.UP),(new s.Quaternion).setFromRotationMatrix(t))})(),y=(()=>{const e=new s.Vector3,t=new s.Matrix4;return(i,n)=>g(i)?n.copy(i):(e.copy(a.fU.FORWARD).applyQuaternion(i).setY(0).normalize(),t.lookAt(a.fU.ZERO,e,a.fU.UP),n.setFromRotationMatrix(t))})(),E=(()=>{const e=new s.Vector3,t=new s.Ray;return(i,n,r,a)=>(a=a||new s.Vector3,t.origin.copy(i),t.lookAt(n),a.copy(t.at(r,e)))})(),b=(()=>{const e=new s.Vector3,t=new s.Ray;return(i,n,r,a)=>(a=a||new s.Vector3,t.set(i,n),a.copy(t.at(r,e)))})();function S(e,t,i,n,s,r,a,o,l){if(e===i&&t===n||s===a&&r===o)return!1;const c=(o-r)*(i-e)-(a-s)*(n-t);if(0===c)return!1;const d=((a-s)*(t-r)-(o-r)*(e-s))/c,u=e+d*(i-e),h=t+d*(n-t);return l&&l.set(u,h),!0}function O(e,t,i,n,s,r,a,o,l=0,c){if(e===i&&t===n||s===a&&r===o)return null;const d=(o-r)*(i-e)-(a-s)*(n-t);if(0===d)return null;const u=((a-s)*(t-r)-(o-r)*(e-s))/d,h=((i-e)*(t-r)-(n-t)*(e-s))/d,p=1-l;if(u<l||u>p||h<l||h>p)return null;const m=e+u*(i-e),f=t+u*(n-t);return c&&c.set(m,f),u}},48492:(e,t,i)=>{"use strict";function n(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)}i.d(t,{C:()=>n})},25541:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const n=e=>""+e;class s{constructor(e=n){this.mappingFunction=e,this.list=[],this.map={}}add(e){const t=this.mappingFunction(e);return!this.map[t]&&(this.list.push(e),this.map[t]=e,!0)}set(e){const t=this.mappingFunction(e);return this.map[t]?(this.map[t]=e,!0):(this.add(e),!0)}count(){return this.list.length}*[Symbol.iterator](){for(const e of this.list)yield e}getByIndex(e){return this.list[e]}get(e){return this.map[e]}copyToList(e){return e.push(...this.list),e}clear(){this.list=[],this.map={}}mapElements(e){return this.list.map(e)}}},16385:(e,t,i)=>{"use strict";function n(e){return{x:e.x,y:e.y,z:e.z}}function s(e){return{x:e.x||e._x,y:e.y||e._y,z:e.z||e._z,w:e.w||e._w}}i.d(t,{J5:()=>s,m:()=>n})},63926:(e,t,i)=>{"use strict";i.d(t,{z:()=>l});var n=i(86743),s=i(64831),r=i(53257),a=i(59491);const o=new r.Z("animation");class l extends s.T{constructor(e,t,i,s=n.vG,r=0){super(),this._easing=n.vG,void 0===t&&(t=e),void 0===i&&(this._active=!1,i=0,this._elapsed=0,this._duration=0),this.modifyAnimation(e,t,i,s,0,r)}get active(){return this._active}get duration(){return this._duration}get endValue(){return this._endValue}get easing(){return this._easing}get elapsed(){return this._elapsed}get delay(){return this._delay}tick(e){if(!this._active)return this.endValue;if(this._delay>0)return this._delay-=e,this.startValue;const t=(this._elapsed+e)/Math.max(this._duration,1e-5);return this.updateProgress(t),this.value}updateProgress(e){if(isNaN(e))return void o.error(`Invalid progress value: ${e}`);const t=Math.max(0,Math.min(e,1)),i=this.active,n=this.value;if(t>=1)return this.activate(!1),this.value=this._easing(1,this.startValue,this._endValue-this.startValue,1),this._elapsed=this.duration,this.commit(),void(this._onComplete&&this._onComplete.forEach((e=>e())));this.activate(!0),this.value=this._easing(t,this.startValue,this._endValue-this.startValue,1),this._elapsed=t*this.duration,n===this.value&&i===this.active||this.commit()}updateAbsolute(e){const t=e/Math.max(this._duration,1e-5);this.updateProgress(t)}modifyAnimation(e,t,i,s=n.vG,r=0,a=0){return this._easing=s,this._endValue=t,this._duration=i,this._elapsed=r,this._delay=a,this.startValue=e,this.value=e,this.activate(this._duration>=0&&e!==t),this.commit(),this}onComplete(e){return this._onComplete||(this._onComplete=[]),(0,a.k1)((()=>this._onComplete.push(e)),(()=>this._onComplete.splice(this._onComplete.indexOf(e),1)))}onActivate(e){return this._onActivate||(this._onActivate=[]),(0,a.k1)((()=>this._onActivate.push(e)),(()=>this._onActivate.splice(this._onActivate.indexOf(e),1)))}activate(e){e!==this._active&&this._onActivate&&this._onActivate.forEach((e=>e())),this._active=e}copy(e){this._endValue=e.endValue,this._duration=e.duration,this._active=e.active,this._easing=e.easing,this._elapsed=e.elapsed,this.startValue=e.startValue,this.value=e.value,this.commit()}clone(){const e=new l(0);return e.copy(this),e}stop(e){this._active=!1,this._elapsed=this._duration,this.value=e,this._endValue=e,this.commit()}equals(e){return this._active===e._active&&this.duration===e.duration&&this.easing===e.easing&&this.elapsed===e.elapsed&&this.endValue===e.endValue&&this.startValue===e.startValue&&this.value===e.value}}},45602:(e,t,i)=>{"use strict";i.d(t,{bX:()=>n});const n=(e,t)=>{if(0===e.length)return!1;let i=!1;for(let n=0;n<e.length;n++){e[n]===t&&(e.splice(n,1),i=!0)}return i}},98214:(e,t,i)=>{"use strict";i.d(t,{h:()=>s,K:()=>r});class n{constructor(e){this.comparator=e,this.nodes=[]}push(e){return this.nodes.push(e),this.siftdown(0,this.nodes.length-1)}pop(){let e,t;return this.nodes.length&&(e=this.nodes.pop(),e)?(this.nodes.length?(t=this.nodes[0],this.nodes[0]=e,this.siftup(0)):t=e,t):null}peek(){return this.nodes[0]}contains(e){return-1!==this.nodes.indexOf(e)}replace(e){if(this.nodes.length){const t=this.nodes[0];return this.nodes[0]=e,this.siftup(0),t}return null}_pushpop(e,t,i){let n;const s=i||this.defaultCompare;return e.length&&s(e[0],t)<0&&(n=[e[0],t],t=n[0],e[0]=n[1],this._siftup(e,0,s)),t}pushpop(e){return this._pushpop(this.nodes,e,this.comparator)}_heapify(e,t){let i,n,s,r,a,o;const l=Math.floor(e.length/2),c=function(){for(o=[],s=0,a=l;0<=a?s<a:s>a;0<=a?s++:s--)o.push(s);return o}.apply(this).reverse(),d=[];for(n=0,r=c.length;n<r;n++)i=c[n],d.push(this._siftup(e,i,t));return d}heapify(){let e,t,i,n,s,r;const a=Math.floor(this.nodes.length/2),o=function(){for(r=[],i=0,s=a;0<=s?i<s:i>s;0<=s?i++:i--)r.push(i);return r}.apply(this).reverse(),l=[];for(t=0,n=o.length;t<n;t++)e=o[t],l.push(this.siftup(e));return l}updateItem(e){const t=this.nodes.indexOf(e);return-1===t?null:(this.siftdown(0,t),this.siftup(t))}clear(){return this.nodes=[]}empty(){return 0===this.nodes.length}size(){return this.nodes.length}clone(){const e=new n(this.comparator);return e.nodes=this.nodes.slice(0),e}toArray(){return this.nodes.slice(0)}insert(e){return this.push(e)}top(){return this.peek()}front(){return this.peek()}has(e){return this.contains(e)}copy(){return this.clone()}nlargest(e){let t,i,n;const s=this.nodes.slice(0,e);if(!s.length)return s;this._heapify(s,this.comparator);const r=this.nodes.slice(e);for(i=0,n=r.length;i<n;i++)t=r[i],this._pushpop(s,t,this.comparator);return s.sort(this.comparator).reverse()}defaultCompare(e,t){return e<t?-1:e>t?1:0}_siftdown(e,t,i,n){let s,r;const a=n||this.defaultCompare,o=e[i];for(;i>t&&(r=i-1>>1,s=e[r],a(o,s)<0);)e[i]=s,i=r;return e[i]=o}siftdown(e,t){return this._siftdown(this.nodes,e,t,this.comparator)}_siftup(e,t,i){let n,s;const r=i||this.defaultCompare,a=e.length,o=t,l=e[t];for(n=2*t+1;n<a;)s=n+1,s<a&&!(r(e[n],e[s])<0)&&(n=s),e[t]=e[n],n=2*(t=n)+1;return e[t]=l,this._siftdown(e,o,t,r)}siftup(e){return this._siftup(this.nodes,e,this.comparator)}}var s;function r(e){void 0===e.timeout&&(e.timeout=1/0);const t={data:e.start,g:0,heuristicValue:e.heuristic(e.start)};let i=t;t.f=t.heuristicValue;const r=new Set,l=new n(o),c=new Map;l.push(t),c.set(t.data,t);const d=Date.now();for(;l.size();){if(Date.now()-d>e.timeout)return{status:s.Timeout,cost:i.g,path:a(i)};const t=l.pop();if(c.delete(t.data),t&&e.isEnd(t.data))return{status:s.Success,cost:t.g,path:a(t)};r.add(t.data);const n=e.neighbors(t.data);for(const s of n){if(r.has(s))continue;const n=t.g+e.distance(t.data,s);let a=c.get(s),o=!1;if(void 0===a)a={data:s,g:0,heuristicValue:0,f:0},c.set(s,a);else{if(a.g<n)continue;o=!0}a.parent=t||void 0,a.g=n,a.heuristicValue=e.heuristic(s),a.f=n+a.heuristicValue,a.heuristicValue<i.heuristicValue&&(i=a),o?l.heapify():l.push(a)}}return{status:s.NoPath,cost:i.g,path:a(i)}}function a(e){if(void 0!==e.parent){const t=a(e.parent);return t.push(e.data),t}return[e.data]}function o(e,t){if(e.f&&t.f)return e.f-t.f;throw new Error('heapComparator() -> Property "f" is undefined.')}!function(e){e[e.Success=0]="Success",e[e.NoPath=1]="NoPath",e[e.Timeout=2]="Timeout"}(s||(s={}))},61173:(e,t,i)=>{"use strict";i.d(t,{Dt:()=>m,Hx:()=>k,J1:()=>_,Jm:()=>T,Kr:()=>p,O6:()=>L,Ot:()=>S,PI:()=>M,Q0:()=>O,Qg:()=>R,SP:()=>w,Tt:()=>u,UD:()=>A,V5:()=>h,Vf:()=>I,Zx:()=>D,_1:()=>d,cF:()=>f,ht:()=>C,jx:()=>l,rI:()=>b,rm:()=>P,tq:()=>o,vU:()=>v,yL:()=>N});var n=i(53257),s=i(10765),r=i(1055);const a=new n.Z("util-browser"),o=function(){const e=navigator.userAgent||navigator.vendor,t=new RegExp("(android|bbd+|meego).+mobile|android|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|\n    hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|\n    palm( os)?|phone|p(ixi|re)/|plucker|pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|\n    wap|windows ce|xda|xiino|MatterScan","i"),i=new RegExp("1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|\n    amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|\n    br(e|v)w|bumb|bw-(n|u)|c55/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|\n    devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|\n    g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|\n    a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|\n    jemu|jigs|kddi|keji|kgt( |/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|/(k|l|u)|50|54|-[a-w])|libw|lynx|\n    m1-w|m3ga|m50/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|\n    zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|\n    nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|\n    po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55/|\n    sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|\n    sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|\n    tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|\n    vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|\n    zeto|zte-","i");return(t.test(e)||i.test(e.substr(0,4))||d())&&!S()},l=/([\s\{\}\"\']|[^\x00-\x7F]|%[^0-9a-fA-F]{2})+/g,c=(e,t)=>{let i=window.navigator.userAgent.match(e);return i=i?i[1].split(t):[],{major:parseInt(i[0],10)||0,minor:parseInt(i[1],10)||0,patch:parseInt(i[2],10)||0}},d=()=>{const e=window.navigator.userAgent;return/iPad/.test(e)||h()&&navigator.maxTouchPoints>1},u=()=>{const e=window.navigator.userAgent;return/iPod|iPhone/.test(e)||h()&&navigator.maxTouchPoints>1},h=()=>{const e=window.navigator.platform;return/MAC/.test(e.toUpperCase())},p=()=>{const e=window.navigator.platform;return/WIN/.test(e.toUpperCase())},m=()=>-1!==window.navigator.userAgent.indexOf("Android"),f=()=>v()||E();let g=null;const v=()=>{if(null==g){const e=window.navigator.userAgent;g=-1!==e.indexOf("Firefox")}return g};let y=null;const E=()=>{if(null==y){const e=window.navigator?window.navigator.userAgent:null;y=!!window.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return y},b=()=>{if(!v())throw new Error("Not a Firefox browser");return c(/Firefox\/((?:\d+\.?){1,3})/,".")},S=()=>-1!==window.navigator.userAgent.indexOf("OculusBrowser"),O=()=>{switch((0,r.eY)("bot",2)){case 0:return!1;case 1:return!0;case 2:return-1!==navigator.userAgent.indexOf("Googlebot");default:return!1}},T=()=>"ontouchstart"in window,_=()=>"share"in navigator&&(o()||d()),N=()=>window.parent!==window,w=()=>N()&&(()=>{const e=new URL(document.referrer);return s.yx.some((t=>t.test(e.hostname)))})(),A=()=>window.location.search.substr(1).split("&"),I=(e,t=!1)=>{if(!e)return;const i=`${window.location.origin}${window.location.pathname}?${e}`;t?window.history.pushState({},"",i):window.location.replace(i)},k=function(){const e=window.URL||window.webkitURL,t=document.createElement("a");return document.body.appendChild(t),t.style.display="none",(i,n)=>{const s=e.createObjectURL(i);t.href=s,t.download=n,t.click(),e.revokeObjectURL(s)}}(),P=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},L=function(){return!d()&&!u()&&!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)},D=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},R=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};function M(e){try{return document.featurePolicy.allowsFeature(e)}catch(t){return a.warn(t),a.warn(`Feature Policy check failed, defaulting ${e} to false.`),!1}}const C=()=>{var e,t;return(e=>{const t={language:"en",region:void 0,script:void 0,ext:void 0},i=new RegExp([/^([a-z]{2,3})/,/(?:[_-]([ut]{1}[_-][a-z\-\_]+))?/,/(?:[_-]([a-z]{4}))?/,/(?:[_-]([a-z]{2}))?$/].map((e=>e.source)).join(""),"i").exec(e);if(i){const[,e,n,s,r]=i;Object.assign(t,{language:e,ext:n,script:s,region:r})}return t})((null===(t=null===(e=null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat())||void 0===e?void 0:e.resolvedOptions())||void 0===t?void 0:t.locale)||navigator.language).language||""}},22251:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});const n=function(e,t){const i=new RegExp(e+"=([^;]+)|$").exec(document.cookie);if(!i)return t;const n=i[1];return"boolean"==typeof t?"true"===n||"1"===n:"number"==typeof t?parseFloat(n):n}},27946:(e,t,i)=>{"use strict";function n(e){const t=document.createElement("input");t.type="text",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}i.d(t,{v:()=>n})},38256:(e,t,i)=>{"use strict";i.d(t,{U:()=>s,p:()=>r});const n=new Object,s=e=>{if(e){const t=e.valueOf();if(!isNaN(t))return e.toISOString()}return(new Date).toISOString()},r=(e,t=n)=>{if(e){const t=new Date(e);if(!isNaN(t.valueOf()))return t}return t===n?new Date:t}},6394:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});const n=(e,t=250)=>{let i;return(...n)=>{window.clearTimeout(i),i=window.setTimeout((()=>e.apply(null,n)),t)}}},52803:(e,t,i)=>{"use strict";i.d(t,{Nv:()=>o,W3:()=>l,XJ:()=>c,_F:()=>a,zy:()=>r});const n=.3048,s=.0929,r=e=>e/n,a=e=>e*n,o=e=>e/s,l=e=>e*s,c=e=>{const t=e/n;let i=Math.floor(t),s=12*t%12;return 12===Math.round(s)?(i+=1,s=0):s=Math.round(s),{feet:i,inches:s}}},86743:(e,t,i)=>{"use strict";i.d(t,{FG:()=>a,Fs:()=>h,Q9:()=>c,aB:()=>y,ad:()=>p,e3:()=>f,hN:()=>m,hl:()=>o,qb:()=>u,tf:()=>g,to:()=>l,vG:()=>r,w2:()=>d,z6:()=>v});var n=i(99874),s=i.n(n);const r=function(e,t,i,n){return i*e/n+t},a=function(e,t,i,n){return i*(e/=n)*e+t},o=function(e,t,i,n){return-i*(e/=n)*(e-2)+t},l=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},c=function(e,t,i,n){return i*(e/=n)*e*e+t},d=function(e,t,i,n){return e/=n,i*(--e*e*e+1)+t},u=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},h=function(e,t,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+t},p=function(e,t,i,n){return i*(1-Math.pow(2,-10*e/n))+t},m=function(e,t,i,n){return(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(2-Math.pow(2,-10*e))+t)},f=(e,t,i,n,s)=>{let r=t;if(s>0){const t=(1-Math.max(s,0))*Math.abs(n);r=i<=t?0:e(i-t,0,1,t)}return r};function g(e,t,i,n){const r=new(s())(e,t,i,n);return(e,t,i,n)=>{const s=e/n;return t+i*r.solve(s)}}function v(e,t,i,n){const r=new(s())(e,t,i,n);return e=>r.solve(e)}const y=function(e,t,i,n){return-4*i*Math.pow(e/n-(.5+t),2)+1}},70338:(e,t,i)=>{"use strict";i.d(t,{bX:()=>n,z6:()=>s});const n=e=>void 0!==e.pointerId,s=e=>void 0!==e.changedTouches},25565:(e,t,i)=>{"use strict";i.d(t,{A5:()=>l,GO:()=>c,fc:()=>u,qf:()=>r});var n=i(81396),s=i(3835);function r(e){if(0===e.length)throw Error("Can't merge empty list of geometries");if(1===e.length)return e[0];let t=0,i=0,s=0,r=0;const o=new n.Box3;for(const n of e)n.index&&(t+=n.index.count,i+=n.getAttribute("position").count,n.getAttribute("uv")&&(s+=n.getAttribute("uv").count),n.boundingBox&&(o.union(n.boundingBox),r++));const c=new n.BufferGeometry;r!==e.length||o.isEmpty()?c.computeBoundingBox():c.boundingBox=o,o.copy(l(c)),c.boundingSphere=o.getBoundingSphere(new n.Sphere);const d=a(new Float32Array(3*i),"position",e);c.setAttribute("position",new n.BufferAttribute(d,3));const u=function(e,t){let i=0,n=0;for(const s of t){const t=s.index;for(let s=0;s<t.array.length;s++)e[i+s]=t.array[s]+n;i+=t.array.length,n+=s.getAttribute("position").count}return e}(new Uint32Array(t),e);if(c.setIndex(new n.BufferAttribute(u,1)),s){const t=a(new Float32Array(2*s),"uv",e);c.setAttribute("uv",new n.BufferAttribute(t,2))}return c}function a(e,t,i){let n=0;for(const s of i){const i=s.getAttribute(t);e.set(i.array,n),n+=i.array.length}return e}const o=new n.Box3(s.fU.ZERO,s.fU.UNIT);function l(e){return e.boundingBox||e.computeBoundingBox(),e.boundingBox||o}function c(e,t){let i=1/0;const s=t.clone(),r=new n.Vector3,a=new n.Vector3(1/0,1/0,1/0);let o=-1;const l=new n.Triangle;return function(e,t){var i;const n=null===(i=e.index)||void 0===i?void 0:i.array,s=e.getAttribute("position");if(!s)return;const r=e.groups.length>0?e.groups:[{start:0,count:n?n.length:s.count,materialIndex:0}];let a=0;for(const e of r)for(let i=e.start;i<e.start+e.count;i+=3){let r=i,o=i+1,l=i+2;n&&(r=n[r],o=n[o],l=n[l]),t(s.getX(r),s.getY(r),s.getZ(r),s.getX(o),s.getY(o),s.getZ(o),s.getX(l),s.getY(l),s.getZ(l),a++,e.materialIndex||0)}}(e,((e,t,n,c,d,u,h,p,m,f)=>{l.a.set(e,t,n),l.b.set(c,d,u),l.c.set(h,p,m),l.closestPointToPoint(s,r);const g=s.distanceToSquared(r);g<i&&(a.copy(r),i=g,o=f)})),{point:a,distance:Math.sqrt(i),faceIndex:o}}const d=new n.PlaneGeometry(1,1);function u(){return d}},61077:(e,t,i)=>{"use strict";function n(e,t){let i,n,s=t[t.length-1],r=0;for(let a=0;a<t.length;++a)i=s,s=t[a],i.y<=e.y&&s.y<=e.y||i.y>e.y&&s.y>e.y||i.x<e.x&&s.x<e.x||(n=(e.y-i.y)*(s.x-i.x)-(e.x-i.x)*(s.y-i.y),s.y<i.y&&(n=-n),r+=n>0?1:0);return r%2==1}i.d(t,{L:()=>n})},28721:(e,t,i)=>{"use strict";i.d(t,{$B:()=>p,DZ:()=>d,Ig:()=>r,O1:()=>h,Pe:()=>c,Q_:()=>u,TH:()=>l,XN:()=>o,Y8:()=>a,aS:()=>f,gw:()=>s,lY:()=>g,ow:()=>m});var n=i(1147);const s=function(e){return new Promise(((t,i)=>{setTimeout(t,e)}))},r=e=>{let t,i=-1;return{promise:new Promise(((n,s)=>{t=n,i=window.setTimeout(n,e)})).then((()=>{i=-1})),cancel:()=>{-1!==i&&(window.clearTimeout(i),t())}}},a=function(e,t){if(0===e.length)return null;let i=0,n=0;for(let s of e)s=t?s[t]:s,i+=s,n++;return i/n},o=function(e){const t={};for(const i of e)t[i]=i;return t},l=function(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0},c=function(e,t,i=!0){if(0===e.length)return null;i&&e.sort((function(e,t){return e-t}));const n=t/100;return e[Math.floor(e.length*n)]},d=function(e){return[u(e.getMonth()+1),".",u(e.getDate()),".",e.getFullYear(),"_",u(e.getHours()),".",u(e.getMinutes()),".",u(e.getSeconds())].join("")},u=function(e,t=2,i="0",n=10){const s=e.toString(n),r=t-s.length+1;return r>0?new Array(r).join(i)+s:s},h=function(e){let t="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t},p=e=>{const t=[];for(let i=0;i<e.length;i+=8192)t.push(String.fromCharCode.apply(null,e.subarray(i,i+8192)));return btoa(t.join(""))},m=(e=[])=>{const t={};for(const i of e)t[i]=!0;return t};const f=(e,t,i="...")=>e.length<=t?e:`${e.substr(0,t)}${i}`,g=(e,t,i)=>{if(!(Math.abs(e)<4294967295)||!(t<32)||!(i<32))throw new n.Z("argument out of range");const s=1&(e>>>t^e>>>i);return(e^=s<<t|s<<i)>>>0};(()=>{const e={}})()},96937:(e,t,i)=>{"use strict";i.d(t,{h:()=>s});const n=new(i(53257).Z)("passive-support"),s=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>{e=!0}});return window.addEventListener("testPassive",(()=>{}),t),window.removeEventListener("testPassive",(()=>{}),t),e}catch(e){return n.warn(`Passive Option for addEventListener is not supported, Safari zoom may not perform as expected: ${e}`),!1}})()},89798:(e,t,i)=>{"use strict";i.d(t,{U:()=>s});var n=i(81396);const s=new n.LoadingManager},49368:(e,t,i)=>{"use strict";i.d(t,{fp:()=>s,m8:()=>r});const n=new(i(53257).Z)("util-browser"),s=function(e,t){if(!("localStorage"in window))return t;let i;try{i=window.localStorage.getItem(e)}catch(e){return n.debug(e),t}return null===i?t:"boolean"==typeof t?"true"===i:"number"==typeof t?parseFloat(i):i},r=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){n.error(e)}}},53257:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r,i:()=>s});const n=window.navigationStart||Date.now();var s;!function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(s||(s={}));class r{constructor(e){this.timers={},this.handlers={[s.DEBUG]:console.debug,[s.INFO]:console.info,[s.WARN]:console.warn,[s.ERROR]:console.error};const t=e.split(new RegExp("/|\\\\"));this.prefix="["+t[t.length-1].replace(".js","")+"]"}message(e){if(r.level>=e&&console){return(this.handlers[e]?this.handlers[e]:console.log).bind(console,this.getPrefix())}return()=>{}}get debug(){return this.message(s.DEBUG)}get devInfo(){return()=>{}}get debugInfo(){return this.debug}get debugWarn(){return this.message(r.level>=s.DEBUG?s.WARN:s.DEBUG)}get info(){return this.message(s.INFO)}get warn(){return this.message(s.WARN)}get error(){return this.message(s.ERROR)}time(e){r.level>=s.DEBUG&&(this.timers[e]=Date.now())}timeEnd(e){if(r.level>=s.DEBUG){const t=this.timers[e];if(!t)return;const i=(Date.now()-t)/1e3;this.debug(e,i+"s")}}getPrefix(){const e=(Date.now()-n)/1e3+"s";return`${this.prefix} ${e}`}}r.level=s.INFO},49668:(e,t,i)=>{"use strict";i.d(t,{RQ:()=>m,cL:()=>v,dO:()=>y,up:()=>b});var n=i(65919),s=i(52803),r=i(1055);let a="′",o="″",l=" ",c="ft",d="in",u="m",h="sq. ft.",p="m²",m="×";var f,g;function v(e){a=e.unitsDisplayFeetSymbol,o=e.unitsDisplayInchesSymbol,l=e.unitsDisplayHalfSpace,c=e.unitsDisplayFeet,d=e.unitsDisplayInches,u=e.unitsDisplayMeters,h=e.unitsDisplaySquareFeet,p=e.unitsDisplaySquareMeters,m=e.dimensionsSeparator}!function(e){e.INCHES="inches",e.FEET="feet"}(f||(f={})),function(e){e.DISTANCE="distance",e.AREA="area"}(g||(g={}));const y=(e,t,i=f.FEET)=>{const s=t.toString();return e===n.M.IMPERIAL?{[g.AREA]:`${s} ${h}`,[g.DISTANCE]:i===f.FEET?`${s}${a}`:`${s}${o}`}:{[g.AREA]:`${s} ${p}`,[g.DISTANCE]:`${s} ${u}`}},E=Number((0,r.eY)("metricPrecision",2)),b=(e,t=n.M.IMPERIAL)=>{const{IMPERIAL:i,METRIC:r}=n.M,{FEET:a,INCHES:o}=f;let c=y(i,0,o).distance;switch(t){case i:const{feet:t,inches:n}=(0,s.XJ)(e);let d=y(i,t,a).distance,u=y(i,n,o).distance;t<1&&(d=""),d.length>0&&(d+=l),c=d+u;break;case r:c=y(r,e.toFixed(E)).distance}return c}},90253:(e,t,i)=>{"use strict";function n(e){const t={};for(const i in e)t[e[i]]=i;return t}function s(e,t){if(null!==e&&"object"==typeof e)for(const i in e)t(e[i],i,e),s(e[i],t)}i.d(t,{S:()=>n,y:()=>s})},25589:(e,t,i)=>{"use strict";i.d(t,{Wm:()=>r,_r:()=>s,fV:()=>n,un:()=>a});function n(e=11,t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"){let i="";const n=window.crypto||window.msCrypto;let s;s=n?n.getRandomValues(new Uint8Array(e)):new Uint8Array(e).map((()=>255*Math.random()));for(let n=0;n<e;n++)i+=t.charAt(s[n]%t.length);return i}function s(){return n(11,"0123456789abcdefghijklmnopqrstuvwxyz")}function r(e,t){return function(e,t){return(e%t+t)%t}(a(e),t)}function a(e){let t,i=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n),i=(i<<5)-i+t,i|=0;return i}},99115:(e,t,i)=>{"use strict";i.d(t,{an:()=>a,m5:()=>r});const n="referrer";let s="";function r(e){let t;try{t=new URL(e)}catch(t){return e}return t.searchParams.set(n,a()),t.href}function a(){return(function(){if(!window.document.referrer)return!1;let e;try{e=new URL(window.document.referrer)}catch(e){return!1}return e.origin===window.location.origin}()?function(){const e=new URL(window.location.href);if(!e.searchParams.has(n))return s;const t=e.searchParams.get(n)||"";try{new URL(t),s=t}catch(e){}return e.searchParams.delete(n),window.history.replaceState(null,"",e.href),s}():"")||window.document.referrer}},37437:(e,t,i)=>{"use strict";i.d(t,{f:()=>c});var n=i(81396);const s={extensions:{derivatives:!0},defines:{RING_COUNT:0,USE_TEXTURE:!1},uniforms:{discRadius:{value:.2},discNormal:{value:new n.Vector3(0,0,1)},ringRadii:{value:[]},ringColors:{value:[]},opacity:{value:1},tint:{value:new n.Color(1,1,1)},texture:{value:null},viewMatrixInverse:{value:new n.Matrix4},projectionMatrixInverse:{value:new n.Matrix4}},vertexShader:i(29535),fragmentShader:i(37198),side:n.FrontSide,transparent:!0};var r=i(97001);const a=new n.Color,o=[{outerRadius:1,innerRadius:.75,color:16777215,opacity:1}];class l extends r.b{constructor(e=o){super(Object.assign(Object.assign({},s),{defines:Object.assign({},s.defines),uniforms:n.UniformsUtils.clone(s.uniforms)})),this.setRings(e),Object.defineProperty(this,"opacity",{set(e){this.uniforms.opacity.value=e},get(){return this.uniforms.opacity.value}})}setDiscNormal(e){this.uniforms.discNormal.value.copy(e)}setDiscRadius(e){this.uniforms.discRadius.value=e}setRings(e){e=e||[],this.defines.RING_COUNT!==e.length&&(this.defines.RING_COUNT=e.length,this.needsUpdate=!0),this.uniforms.ringRadii.value=e.map((({innerRadius:e,outerRadius:t})=>new n.Vector2(e||-1,t))),this.uniforms.ringColors.value=e.map((({color:e,opacity:t})=>(a.set(e),new n.Vector4(a.r,a.g,a.b,t))))}setTexture(e){this.defines.USE_TEXTURE!==!!e&&(this.defines.USE_TEXTURE=!!e,this.needsUpdate=!0),this.uniforms.texture.value=e}getTexture(){return this.uniforms.texture.value}setTint(e){this.uniforms.tint.value.set(null!=e?e:16777215)}getTint(){return this.uniforms.tint.value}onBeforeRender(e,t,i){this.uniforms.projectionMatrixInverse.value.copy(i.projectionMatrixInverse),this.uniforms.viewMatrixInverse.value.copy(i.matrixWorld)}}class c extends n.Mesh{constructor(e){super(new n.SphereGeometry(Math.sqrt(2),8,6),new l),this.onBeforeRender=(e,t,i)=>{this.material.onBeforeRender(e,t,i)},e&&this.configure(e)}configure(e){const{radius:t,normal:i,rings:n,texture:s,opacity:r,tint:a}=e,{material:o}=this;void 0!==t&&(this.scale.setScalar(t),o.setDiscRadius(t)),void 0!==i&&o.setDiscNormal(i),void 0!==n&&o.setRings(n),void 0!==s&&o.setTexture(s),void 0!==a&&o.setTint(a),void 0!==r&&(o.opacity=r)}dispose(){var e;null===(e=this.material.getTexture())||void 0===e||e.dispose(),this.geometry.dispose()}}},77609:(e,t,i)=>{"use strict";var n;i.d(t,{o:()=>n}),function(e){function t(e){return e.split(".").reduce(((e,t)=>{const i=parseInt(t,10);return isNaN(i)||e.push(i),e}),[])}function i(e,i){const n=t(e),s=t(i);for(let e=0;e<n.length;e++){if(e>=s.length)return 1;if(n[e]!==s[e])return n[e]>s[e]?1:-1}return s.length>n.length?-1:0}e.parse=t,e.gt=function(e,t){return 1===i(e,t)},e.gte=function(e,t){const n=i(e,t);return 0===n||1===n},e.lt=function(e,t){return-1===i(e,t)},e.eq=function(e,t){return 0===i(e,t)},e.compare=i}(n||(n={}))},17467:(e,t,i)=>{"use strict";function n(e,t){return e.size===t.size&&[...e].every((e=>t.has(e)))}function s(...e){const t=new Set;for(const i of e)for(const e of i.values())t.add(e);return t}function r(e,t){for(const i of t)e.add(i);return e}i.d(t,{Jt:()=>r,dW:()=>s,nb:()=>n})},71472:(e,t,i)=>{"use strict";i.d(t,{f:()=>l,p:()=>o});var n=i(81396),s=i(53257),r=i(89798);const a=new s.Z("texture"),o=(e,t,i)=>{const s=new n.TextureLoader(r.U);return s.crossOrigin="anonymous",s.load(e,t,void 0,(t=>{a.error(`Failed to load ${e}`),i&&i(t)}))},l=e=>{const t=new n.TextureLoader(r.U);return t.crossOrigin="anonymous",t.loadAsync(e)}},23355:(e,t,i)=>{"use strict";i.d(t,{P:()=>n});const n=(e,t)=>{let i,n=Date.now()-t;return(...s)=>{const r=Date.now()-n,a=()=>{e.apply(null,s),n=Date.now()};if(i&&clearTimeout(i),r>=t)a();else{const e=t-r;i=window.setTimeout(a,e)}}}},10765:(e,t,i)=>{"use strict";i.d(t,{KK:()=>c,QY:()=>a,Uo:()=>u,bf:()=>r,mM:()=>l,rI:()=>d,sU:()=>s,yx:()=>o});var n=i(8575);const s=function(e="",t){let i,s,r;if(e.match(/^https?/)){const t=(0,n.Qc)(e);i=t.protocol+"//"+t.host,s=e,r=e.match(/[^/]*$/)[0]}else{if(t.match(/^https?/)){const e=(0,n.Qc)(t);i=e.protocol+"//"+e.host}else i=window.location.protocol+"//"+t;s=i+"/api/player/models/"+e,r=e}return{sid:r,urlBase:i,urlModel:s,urlFiles:s+(s.match(/\/$/)?"files":"/files"),urlThumb:s+(s.match(/\/$/)?"thumb":"/thumb")}},r=function(e,t={}){for(const i in t){const n=t[i];e+=(-1===e.indexOf("?")?"?":"&")+`${i}=${n}`}return e},a=e=>e.replace(/^https?:\/\/(?:www.)?/i,"").replace(/\/(.*)/,""),o=[/^([a-z0-9\-]*\.)*matterport\.com$/,/^([a-z0-9\-]*\.)*matterportvr\.cn$/,/^localhost$/];function l(e){try{const t=new URL(e).hostname;for(const e of o)if(t.match(e))return!0}catch(e){}return!1}const c=e=>{if(l(e)){return new URL(e).origin}return null};function d(e=window.location.href){let t=e;return l(t)&&(t=t.replace(/\/work\/?(\?.*)?$/,"/show/$1")),new URL(t)}function u(e,t,i){const n=d(),s=new URLSearchParams(window.location.search);var r;r=s,["q","qK","qF","tag","note","comment","pin-pos","cloudEdit"].forEach((e=>r.delete(e)));const a=encodeURIComponent(e);if(a&&s.set("q",a),t.length>0){const e=encodeURIComponent(t.join(","));s.set("qK",e)}if(i.length>0){const e=encodeURIComponent(i.join(","));s.set("qF",e)}return n.search=s.toString(),n.hash="",n.toString()}},1055:(e,t,i)=>{"use strict";function n(){const e=new URLSearchParams(window.location.search),t={};return e.forEach(((e,i)=>{t[i]=e})),t}function s(){const e=new URLSearchParams(window.location.search);return new URLSearchParams(e.toString())}function r(e,t=null,i=typeof t){return a(new URLSearchParams(window.location.search).get(e),t,i)}function a(e,t=null,i=typeof t){return null===e?t:"boolean"===i?"true"===e||"1"===e:"number"===i?+e:e}i.d(t,{FU:()=>n,O$:()=>a,eY:()=>r,kD:()=>s})},12520:(e,t,i)=>{"use strict";i.d(t,{D:()=>s});const n=[];for(let e=0;e<256;e++)n[e]=(e<16?"0":"")+e.toString(16);function s(){let e;const t=window.crypto||window.msCrypto;return e=t?t.getRandomValues(new Uint8Array(16)):new Uint8Array(16).map((()=>255*Math.random())),e[6]=15&e[6]|64,e[8]=63&e[8]|128,n[e[0]]+n[e[1]]+n[e[2]]+n[e[3]]+"-"+n[e[4]]+n[e[5]]+"-"+n[e[6]]+n[e[7]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]}},45796:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DeepLinksModuleKey:()=>v,default:()=>y});var n=i(933),s=i(57793),r=i(60937),a=i(31740),o=i(90512),l=i(10765),c=i(50652);class d{constructor(e,t,i,n,s){this.cameraData=e,this.viewmodeData=t,this.floorsViewData=i,this.sweepData=n,this.settingsData=s,this.name="deeplinks",this.defaultBaseUrl=(0,l.rI)(),this.requiredParams=[...d.requiredUrlParams]}createLink(e){const{baseHref:t,additionalParams:i,paramFilter:n,thisArg:s}=e||{},r=new URLSearchParams(window.location.search),a=new URL(t||this.defaultBaseUrl.href);return this.appendParams(a.searchParams,r),n&&this.filterParamsFromURL(a,n,s),i&&this.appendParamsFromDictionary(a.searchParams,i),this.removeStartParams(a),this.dedupeModelParam(a),a}createModelLink(e,t){const{baseHref:i,additionalParams:n,paramFilter:s,thisArg:r}=t||{},a=new URLSearchParams(window.location.search),o=new URL(i||this.defaultBaseUrl.href);return this.appendParams(o.searchParams,a),s&&this.filterParamsFromURL(o,s,r),n&&this.appendParamsFromDictionary(o.searchParams,n),this.removeStartParams(o),this.dedupeModelParam(o),o}createDeepLink(e){const{baseHref:t,additionalParams:i,paramFilter:n,thisArg:s}=e||{},r=new URLSearchParams(c.K.getQueryString({cameraData:this.cameraData,floorsViewData:this.floorsViewData,sweepData:this.sweepData,viewmodeData:this.viewmodeData,settingsData:this.settingsData})),a=new URLSearchParams(window.location.search),o=new URL(t||this.defaultBaseUrl.href);this.appendParams(o.searchParams,a),this.removeStartParams(o),n&&this.filterParamsFromURL(o,n,s);for(const[e,t]of r)c.K.navigationKeys.has(e)&&o.searchParams.set(e,t);if(i){const e=Object.assign({},i);for(const t of c.K.navigationKeys)delete e[t];this.appendParamsFromDictionary(o.searchParams,e)}return this.dedupeModelParam(o),o}setDefaultBaseHref(e,t){this.defaultBaseUrl=new URL(e),this.requiredParams=[...d.requiredUrlParams,...t]}filterParamsFromURL(e,t,i){const n=new Set;for(const[s,r]of e.searchParams)this.requiredParams.includes(s)||t.call(i,s,r)||n.add(s);for(const t of n)e.searchParams.delete(t)}dedupeModelParam(e){const t=e.searchParams.get("m")||e.searchParams.get("model")||"";e.searchParams.delete("model"),e.searchParams.set("m",t)}removeStartParams(e){["start","sm","sp","sq","sr","ss","sf","sz"].forEach(e.searchParams.delete,e.searchParams)}appendParams(e,t){for(const[i,n]of t)e.set(i,n)}appendParamsFromDictionary(e,t){for(const[i,n]of Object.entries(t))e.set(i,n)}}d.requiredUrlParams=["m","model"];var u,h=i(77519);!function(e){e[e.SAME_ORIGIN=0]="SAME_ORIGIN",e[e.EXTERNAL=1]="EXTERNAL",e[e.MODEL=2]="MODEL",e[e.NAVIGATION=3]="NAVIGATION"}(u||(u={}));var p,m=i(38063);!function(e){e[e.IN_FRAME=0]="IN_FRAME",e[e.NEW_WINDOW=1]="NEW_WINDOW",e[e.CUSTOM=2]="CUSTOM"}(p||(p={}));class f{constructor(e){this.commandBinder=e,this.defaultPolicy={[u.NAVIGATION]:p.IN_FRAME,[u.MODEL]:p.IN_FRAME,[u.SAME_ORIGIN]:p.NEW_WINDOW,[u.EXTERNAL]:p.NEW_WINDOW},this.activePolicy=Object.assign({},this.defaultPolicy),this.linkHandlers={[u.NAVIGATION]:{[p.IN_FRAME]:e=>{const t=c.K.deserialize(e);t&&this.navigateToPose(t)},[p.NEW_WINDOW]:e=>this.openNewWindow(e),[p.CUSTOM]:e=>this.customHandlers[u.NAVIGATION](e)},[u.MODEL]:{[p.IN_FRAME]:e=>this.replaceFrameLocation(e),[p.NEW_WINDOW]:e=>this.openNewWindow(e),[p.CUSTOM]:e=>this.customHandlers[u.MODEL](e)},[u.SAME_ORIGIN]:{[p.IN_FRAME]:e=>this.replaceFrameLocation(e),[p.NEW_WINDOW]:e=>this.openNewWindow(e),[p.CUSTOM]:e=>this.customHandlers[u.SAME_ORIGIN](e)},[u.EXTERNAL]:{[p.IN_FRAME]:()=>{throw Error("Navigating Showcase's frame to an external domain is not supported.")},[p.NEW_WINDOW]:e=>this.openNewWindow(e),[p.CUSTOM]:e=>this.customHandlers[u.EXTERNAL](e)}},this.customHandlers={[u.NAVIGATION]:e=>{},[u.MODEL]:e=>{},[u.SAME_ORIGIN]:e=>{},[u.EXTERNAL]:e=>{}}}get HandlingPolicy(){return p}setPolicy(e,t,i){t===p.CUSTOM&&i&&(this.customHandlers[e]=i),this.activePolicy[e]=t}resetPolicy(e){this.activePolicy[e]=this.defaultPolicy[e]}openLink(e){if(function(e){return(0,h.K)(e)&&"pose"in e}(e)){const t=this.activePolicy[u.NAVIGATION];this.linkHandlers[u.NAVIGATION][t](e.fullLink)}else if(function(e){return(0,h.K)(e)&&"modelId"in e}(e)){const t=this.activePolicy[u.MODEL],i=new URL(window.location.href),n=new URL(e.fullLink),s=i.searchParams.get("applicationKey");i.search=n.search,i.searchParams.delete("m"),i.searchParams.delete("model"),i.searchParams.set("m",e.modelId),i.searchParams.set("play","1"),s&&i.searchParams.set("applicationKey",s),this.linkHandlers[u.MODEL][t](i.href)}else try{const t=new URL(e);if(t.origin===document.referrer||t.origin===window.location.origin){const t=this.activePolicy[u.SAME_ORIGIN];this.linkHandlers[u.SAME_ORIGIN][t](e)}else{const t=this.activePolicy[u.EXTERNAL];this.linkHandlers[u.EXTERNAL][t](e)}}catch(t){const i=this.activePolicy[u.EXTERNAL];this.linkHandlers[u.EXTERNAL][i](e)}}replaceFrameLocation(e){window.location.replace(e)}openNewWindow(e){window.open(e)}navigateToPose(e){this.commandBinder.issueCommand(new m.L4(e))}}var g=i(64150);const v=Symbol("deep-links"),y=class extends n.Y{constructor(){super(...arguments),this.name="deep linker"}async init(e,t){const[i,n,l,c,u]=await Promise.all([t.market.waitForData(s.M),t.market.waitForData(o.O),t.market.waitForData(r.c),t.market.waitForData(a.Z),t.market.waitForData(g.e)]);this.creator=new d(i,n,l,c,u),this.handler=new f(t.commandBinder)}get LinkType(){return u}}},90404:(e,t,i)=>{"use strict";i.d(t,{vB:()=>ht,Mb:()=>re});var n=i(85893),s=i(67294),r=i(61688);const a=()=>{},o=a(),l=Object,c=e=>e===o,d=e=>"function"==typeof e,u=(e,t)=>({...e,...t}),h=new WeakMap;let p=0;const m=e=>{const t=typeof e,i=e&&e.constructor,n=i==Date;let s,r;if(l(e)!==e||n||i==RegExp)s=n?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(s=h.get(e),s)return s;if(s=++p+"~",h.set(e,s),i==Array){for(s="@",r=0;r<e.length;r++)s+=m(e[r])+",";h.set(e,s)}if(i==l){s="#";const t=l.keys(e).sort();for(;!c(r=t.pop());)c(e[r])||(s+=r+":"+m(e[r])+",");h.set(e,s)}}return s},f=new WeakMap,g={},v={},y="undefined",E=typeof window!=y,b=typeof document!=y,S=(e,t)=>{const i=f.get(e);return[()=>!c(t)&&e.get(t)||g,n=>{if(!c(t)){const s=e.get(t);t in v||(v[t]=s),i[5](t,u(s,n),s||g)}},i[6],()=>!c(t)&&t in v?v[t]:!c(t)&&e.get(t)||g]};let O=!0;const[T,_]=E&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[a,a],N={isOnline:()=>O,isVisible:()=>{const e=b&&document.visibilityState;return c(e)||"hidden"!==e}},w={initFocus:e=>(b&&document.addEventListener("visibilitychange",e),T("focus",e),()=>{b&&document.removeEventListener("visibilitychange",e),_("focus",e)}),initReconnect:e=>{const t=()=>{O=!0,e()},i=()=>{O=!1};return T("online",t),T("offline",i),()=>{_("online",t),_("offline",i)}}},A=!s.useId,I=!E||"Deno"in window,k=e=>E&&typeof window.requestAnimationFrame!=y?window.requestAnimationFrame(e):setTimeout(e,1),P=I?s.useEffect:s.useLayoutEffect,L="undefined"!=typeof navigator&&navigator.connection,D=!I&&L&&(["slow-2g","2g"].includes(L.effectiveType)||L.saveData),R=e=>{if(d(e))try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?m(e):"",t]};let M=0;const C=()=>++M;var x=3,F=0,U=2,H=1;async function j(...e){const[t,i,n,s]=e,r=u({populateCache:!0,throwOnError:!0},"boolean"==typeof s?{revalidate:s}:s||{});let a=r.populateCache;const l=r.rollbackOnError;let h=r.optimisticData;const p=!1!==r.revalidate,m=r.throwOnError;if(d(i)){const e=i,n=[],s=t.keys();for(const i of s)!/^\$(inf|sub)\$/.test(i)&&e(t.get(i)._k)&&n.push(i);return Promise.all(n.map(g))}return g(i);async function g(i){const[s]=R(i);if(!s)return;const[r,u]=S(t,s),[g,v,y,E]=f.get(t),b=()=>{const e=g[s];return p&&(delete y[s],delete E[s],e&&e[0])?e[0](2).then((()=>r().data)):r().data};if(e.length<3)return b();let O,T=n;const _=C();v[s]=[_,0];const N=!c(h),w=r(),A=w.data,I=w._c,k=c(I)?A:I;if(N&&(h=d(h)?h(k,A):h,u({data:h,_c:k})),d(T))try{T=T(k)}catch(e){O=e}if(T&&d(T.then)){if(T=await T.catch((e=>{O=e})),_!==v[s][0]){if(O)throw O;return T}O&&N&&(e=>"function"==typeof l?l(e):!1!==l)(O)&&(a=!0,u({data:k,_c:o}))}if(a&&!O)if(d(a)){const e=a(T,k);u({data:e,error:o,_c:o})}else u({data:T,error:o,_c:o});if(v[s][1]=C(),Promise.resolve(b()).then((()=>{u({_c:o})})),!O)return T;if(m)throw O}}const V=(e,t)=>{for(const i in e)e[i][0]&&e[i][0](t)},B=(e,t)=>{if(!f.has(e)){const i=u(w,t),n={},s=j.bind(o,e);let r=a;const l={},c=(e,t)=>{const i=l[e]||[];return l[e]=i,i.push(t),()=>i.splice(i.indexOf(t),1)},d=(t,i,n)=>{e.set(t,i);const s=l[t];if(s)for(const e of s)e(i,n)},h=()=>{if(!f.has(e)&&(f.set(e,[n,{},{},{},s,d,c]),!I)){const t=i.initFocus(setTimeout.bind(o,V.bind(o,n,0))),s=i.initReconnect(setTimeout.bind(o,V.bind(o,n,1)));r=()=>{t&&t(),s&&s(),f.delete(e)}}};return h(),[e,s,h,r]}return[e,f.get(e)[4]]},[G,W]=B(new Map),z=u({onLoadingSlow:a,onSuccess:a,onError:a,onErrorRetry:(e,t,i,n,s)=>{const r=i.errorRetryCount,a=s.retryCount,o=~~((Math.random()+.5)*(1<<(a<8?a:8)))*i.errorRetryInterval;!c(r)&&a>r||setTimeout(n,o,s)},onDiscarded:a,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:D?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:D?5e3:3e3,compare:(e,t)=>m(e)==m(t),isPaused:()=>!1,cache:G,mutate:W,fallback:{}},N),K=(e,t)=>{const i=u(e,t);if(t){const{use:n,fallback:s}=e,{use:r,fallback:a}=t;n&&r&&(i.use=n.concat(r)),s&&a&&(i.fallback=u(s,a))}return i},Y=(0,s.createContext)({}),q=E&&window.__SWR_DEVTOOLS_USE__,$=q?window.__SWR_DEVTOOLS_USE__:[],Z=e=>d(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],Q=$.concat((e=>(t,i,n)=>e(t,i&&((...e)=>{const[n]=R(t),[,,,s]=f.get(G);if(n.startsWith("$inf$"))return i(...e);const r=s[n];return c(r)?i(...e):(delete s[n],r)}),n)));q&&(window.__SWR_DEVTOOLS_REACT__=s);const X=s.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),J={dedupe:!0},ee=l.defineProperty((e=>{const{value:t}=e,i=(0,s.useContext)(Y),n=d(t),r=(0,s.useMemo)((()=>n?t(i):t),[n,i,t]),a=(0,s.useMemo)((()=>n?r:K(i,r)),[n,i,r]),l=r&&r.provider,c=(0,s.useRef)(o);l&&!c.current&&(c.current=B(l(a.cache||G),r));const h=c.current;return h&&(a.cache=h[0],a.mutate=h[1]),P((()=>{if(h)return h[2]&&h[2](),h[3]}),[]),(0,s.createElement)(Y.Provider,u(e,{value:a}))}),"defaultValue",{value:z}),te=(ie=(e,t,i)=>{const{cache:n,compare:a,suspense:l,fallbackData:h,revalidateOnMount:p,revalidateIfStale:m,refreshInterval:g,refreshWhenHidden:v,refreshWhenOffline:y,keepPreviousData:E}=i,[b,O,T,_]=f.get(n),[N,w]=R(e),L=(0,s.useRef)(!1),D=(0,s.useRef)(!1),M=(0,s.useRef)(N),V=(0,s.useRef)(t),B=(0,s.useRef)(i),G=()=>B.current,W=()=>G().isVisible()&&G().isOnline(),[z,K,Y,q]=S(n,N),$=(0,s.useRef)({}).current,Z=c(h)?i.fallback[N]:h,Q=(e,t)=>{for(const i in $){const n=i;if("data"===n){if(!a(e[n],t[n])){if(!c(e[n]))return!1;if(!a(le,t[n]))return!1}}else if(t[n]!==e[n])return!1}return!0},ee=(0,s.useMemo)((()=>{const e=!!N&&!!t&&(c(p)?!G().isPaused()&&!l&&(!!c(m)||m):p),i=t=>{const i=u(t);return delete i._k,e?{isValidating:!0,isLoading:!0,...i}:i},n=z(),s=q(),r=i(n),a=n===s?r:i(s);let o=r;return[()=>{const e=i(z());return Q(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>a]}),[n,N]),te=(0,r.useSyncExternalStore)((0,s.useCallback)((e=>Y(N,((t,i)=>{Q(i,t)||e()}))),[n,N]),ee[0],ee[1]),ie=!L.current,ne=b[N]&&b[N].length>0,se=te.data,re=c(se)?Z:se,ae=te.error,oe=(0,s.useRef)(re),le=E?c(se)?oe.current:se:re,ce=!(ne&&!c(ae))&&(ie&&!c(p)?p:!G().isPaused()&&(l?!c(re)&&m:c(re)||m)),de=!!(N&&t&&ie&&ce),ue=c(te.isValidating)?de:te.isValidating,he=c(te.isLoading)?de:te.isLoading,pe=(0,s.useCallback)((async e=>{const t=V.current;if(!N||!t||D.current||G().isPaused())return!1;let n,s,r=!0;const l=e||{},u=!T[N]||!l.dedupe,h=()=>A?!D.current&&N===M.current&&L.current:N===M.current,p={isValidating:!1,isLoading:!1},m=()=>{K(p)},f=()=>{const e=T[N];e&&e[1]===s&&delete T[N]},g={isValidating:!0};c(z().data)&&(g.isLoading=!0);try{if(u&&(K(g),i.loadingTimeout&&c(z().data)&&setTimeout((()=>{r&&h()&&G().onLoadingSlow(N,i)}),i.loadingTimeout),T[N]=[t(w),C()]),[n,s]=T[N],n=await n,u&&setTimeout(f,i.dedupingInterval),!T[N]||T[N][1]!==s)return u&&h()&&G().onDiscarded(N),!1;p.error=o;const e=O[N];if(!c(e)&&(s<=e[0]||s<=e[1]||0===e[1]))return m(),u&&h()&&G().onDiscarded(N),!1;const l=z().data;p.data=a(l,n)?l:n,u&&h()&&G().onSuccess(n,N,i)}catch(e){f();const t=G(),{shouldRetryOnError:i}=t;t.isPaused()||(p.error=e,u&&h()&&(t.onError(e,N,t),(!0===i||d(i)&&i(e))&&W()&&t.onErrorRetry(e,N,t,(e=>{const t=b[N];t&&t[0]&&t[0](x,e)}),{retryCount:(l.retryCount||0)+1,dedupe:!0})))}return r=!1,m(),!0}),[N,n]),me=(0,s.useCallback)(((...e)=>j(n,M.current,...e)),[]);if(P((()=>{V.current=t,B.current=i,c(se)||(oe.current=se)})),P((()=>{if(!N)return;const e=pe.bind(o,J);let t=0;const i=((e,t,i)=>{const n=t[e]||(t[e]=[]);return n.push(i),()=>{const e=n.indexOf(i);e>=0&&(n[e]=n[n.length-1],n.pop())}})(N,b,((i,n={})=>{if(i==F){const i=Date.now();G().revalidateOnFocus&&i>t&&W()&&(t=i+G().focusThrottleInterval,e())}else if(i==H)G().revalidateOnReconnect&&W()&&e();else{if(i==U)return pe();if(i==x)return pe(n)}}));return D.current=!1,M.current=N,L.current=!0,K({_k:w}),ce&&(c(re)||I?e():k(e)),()=>{D.current=!0,i()}}),[N]),P((()=>{let e;function t(){const t=d(g)?g(z().data):g;t&&-1!==e&&(e=setTimeout(i,t))}function i(){z().error||!v&&!G().isVisible()||!y&&!G().isOnline()?t():pe(J).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[g,v,y,N]),(0,s.useDebugValue)(le),l&&c(re)&&N){if(!A&&I)throw new Error("Fallback data is required when using suspense in SSR.");V.current=t,B.current=i,D.current=!1;const e=_[N];if(!c(e)){const t=me(e);X(t)}if(!c(ae))throw ae;{const e=pe(J);c(le)||(e.status="fulfilled",e.value=!0),X(e)}}return{mutate:me,get data(){return $.data=!0,le},get error(){return $.error=!0,ae},get isValidating(){return $.isValidating=!0,ue},get isLoading(){return $.isLoading=!0,he}}},function(...e){const t=u(z,(0,s.useContext)(Y)),[i,n,r]=Z(e),a=K(t,r);let o=ie;const{use:l}=a,c=(l||[]).concat(Q);for(let e=c.length;e--;)o=c[e](o);return o(i,n||a.fetcher||null,a)});var ie,ne;!function(e){e.DEFAULT="https://support.matterport.com/",e.MODEL_ARCHIVED="https://support.matterport.com/s/article/What-is-an-Active-or-Archived-Space",e.MODEL_COMPLIANCE="https://support.matterport.com/s/article/Matterport-IP-restrictions",e.MODEL_FAILED="https://support.matterport.com/s/article/Why-did-my-model-fail-in-processing",e.MODEL_NOT_AVAILABLE="https://support.matterport.com/s/article/Oops-Model-Not-Available",e.MODEL_PENDING="https://support.matterport.com/s/article/How-to-Upload-Your-Model?parentCategoryLabel=#pending",e.MODEL_PROCESSING="https://support.matterport.com/s/article/How-long-does-a-model-take-to-process",e.MODEL_DELETED="https://support.matterport.com/s/article/Restoring-a-Deleted-Space",e.SYSTEM_REQUIREMENTS="https://support.matterport.com/s/article/Workshop-System-Requirements"}(ne||(ne={}));const se=i.p+"images/matterport-logo.svg";var re;!function(e){e.ACCOUNT_INACTIVE="unavailable.account_inactive",e.GENERIC="generic",e.INTERNAL_ERROR="internal.error",e.MODEL_ARCHIVED="unavailable.archived",e.MODEL_COMPLIANCE="unavailable.compliance",e.MODEL_CORRUPT="model.corrupt",e.MODEL_FAILED="model.failed",e.MODEL_DELETED="unavailable.gone",e.MODEL_PENDING="unavailable.pending",e.MODEL_PROCESSING="unavailable.processing",e.MODEL_RESTRICTED="unavailable.restricted",e.NOT_FOUND="not.found",e.PASSWORD_REQUIRED="password.required",e.REQUEST_INVALID="request.invalid",e.WEBGL_CONTEXT_LOST="webgl.context_lost",e.WEBGL_GENERIC="webgl.generic",e.WEBGL_UNSUPPORTED="webgl.unsupported"}(re||(re={}));var ae=i(7321);const oe={errorCode:re.GENERIC,t:e=>e},le=(0,s.createContext)(oe);var ce=i(94184),de=i.n(ce),ue=i(80308);const he="_34E0-iX67r3fxMYKpDS-LJ",pe="Z1ocZiFDSwXUXSZNFwIi8",me="_11Rym6ylpu0sbbOCJkNfJC",fe="_3iEZMhcELmSuAqtL-7BpzG",ge="Emzp6rf1HTBNzdM8roDMz";function ve({brandIcon:e,children:t,title:i}){return(0,n.jsxs)("div",Object.assign({"data-testid":"error_message",className:de()(he,{[ge]:!!e})},{children:[e&&(0,n.jsx)(ue.Vr,{name:e,theme:"dark",className:fe}),(0,n.jsxs)("div",Object.assign({className:pe},{children:[(0,n.jsx)("header",{children:(0,n.jsx)("h1",Object.assign({"data-testid":"error_title",className:me},{children:i}))}),t]}))]}))}const ye=()=>{const{t:e}=(0,s.useContext)(le);return(0,n.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.GENERIC_TITLE)},{children:(0,n.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.GENERIC_HELPTEXT,{url:ne.MODEL_NOT_AVAILABLE})}})}))},Ee=()=>{const{t:e}=(0,s.useContext)(le);return(0,n.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_ARCHIVED_TITLE),brandIcon:"twinmaker"},{children:(0,n.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.MODEL_ARCHIVED_HELPTEXT,{url:ne.MODEL_ARCHIVED})}})}))},be=()=>{const{t:e}=(0,s.useContext)(le);return(0,n.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_COMPLIANCE_TITLE),brandIcon:"compliance-training"},{children:(0,n.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.MODEL_COMPLIANCE_HELPTEXT,{url:ne.MODEL_COMPLIANCE})}})}))},Se=()=>{const{t:e}=(0,s.useContext)(le);return(0,n.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_DELETED_TITLE)},{children:(0,n.jsxs)("p",Object.assign({"data-testid":"error_helptext"},{children:[(0,n.jsx)("a",Object.assign({href:ne.MODEL_DELETED,target:"_blank"},{children:e(ae.Z.LEARN_MORE)})),"."]}))}))},Oe=()=>{const{t:e}=(0,s.useContext)(le);return(0,n.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_FAILED_TITLE)},{children:(0,n.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.MODEL_FAILED_HELPTEXT,{url:ne.MODEL_FAILED})}})}))},Te=()=>{const{t:e}=(0,s.useContext)(le);return(0,n.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_PENDING_TITLE),brandIcon:"delay"},{children:(0,n.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.MODEL_PENDING_HELPTEXT,{url:ne.MODEL_PENDING})}})}))},_e=()=>{const{t:e}=(0,s.useContext)(le);return(0,n.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_PROCESSING_TITLE),brandIcon:"process-data"},{children:(0,n.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.MODEL_PROCESSING_HELPTEXT,{url:ne.MODEL_PROCESSING})}})}))},Ne=()=>{const{t:e}=(0,s.useContext)(le);return(0,n.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.WEBGL_CONTEXT_LOST_TITLE)},{children:(0,n.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.WEBGL_CONTEXT_LOST_HELPTEXT,{url:ne.DEFAULT})}})}))};var we=i(61173);const Ae=i.p+"images/chrome.png",Ie=i.p+"images/edge.png",ke=i.p+"images/firefox.png",Pe=i.p+"images/safari.png",Le="_2RCe0qUX4FJuECaH3ROiLK",De="_2w7mP81olGOrlCzO9k7-C4",Re=()=>(0,n.jsxs)("ul",Object.assign({className:Le,"data-testid":"browser_list"},{children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",Object.assign({href:"https://www.google.com/chrome/browser/",target:"_blank"},{children:(0,n.jsx)("div",Object.assign({className:"tile"},{children:(0,n.jsx)("img",{src:Ae,alt:"Chrome",width:"35",height:"35",className:De})}))}))}),(0,n.jsx)("li",{children:(0,n.jsx)("a",Object.assign({href:"https://www.mozilla.org/en-US/firefox/new/",target:"_blank"},{children:(0,n.jsx)("div",Object.assign({className:"tile"},{children:(0,n.jsx)("img",{src:ke,alt:"Firefox",width:"35",height:"35",className:De})}))}))}),(0,n.jsx)("li",{children:(0,n.jsx)("a",Object.assign({href:"https://www.microsoft.com/en-us/edge",target:"_blank"},{children:(0,n.jsx)("div",Object.assign({className:"tile"},{children:(0,n.jsx)("img",{src:Ie,alt:"Edge",width:"35",height:"35",className:De})}))}))}),(0,we.V5)()&&(0,n.jsx)("li",{children:(0,n.jsx)("a",Object.assign({href:"https://support.apple.com/en-us/HT204416",target:"_blank"},{children:(0,n.jsx)("div",Object.assign({className:"tile"},{children:(0,n.jsx)("img",{src:Pe,alt:"Safari",width:"35",height:"35",className:De})}))}))})]})),Me=()=>{const{t:e}=(0,s.useContext)(le),t=!(0,we.tq)(),i=e(ae.Z.OOPS.WEBGL_GENERIC_HELPTEXT,{url:ne.DEFAULT});return(0,n.jsxs)(ve,Object.assign({title:e(ae.Z.OOPS.WEBGL_GENERIC_TITLE)},{children:[(0,n.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:i}}),t&&(0,n.jsx)(Re,{})]}))},Ce=()=>{const{t:e}=(0,s.useContext)(le);return(0,n.jsxs)(ve,Object.assign({title:e(ae.Z.OOPS.WEBGL_UNSUPPORTED_TITLE)},{children:[(0,n.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.WEBGL_UNSUPPORTED_HELPTEXT,{url:ne.SYSTEM_REQUIREMENTS})}}),(0,n.jsx)(Re,{})]}))},xe=({errorCode:e})=>e===re.MODEL_ARCHIVED?(0,n.jsx)(Ee,{}):e===re.MODEL_COMPLIANCE?(0,n.jsx)(be,{}):e===re.MODEL_DELETED?(0,n.jsx)(Se,{}):e===re.MODEL_FAILED?(0,n.jsx)(Oe,{}):e===re.MODEL_PENDING?(0,n.jsx)(Te,{}):e===re.MODEL_PROCESSING?(0,n.jsx)(_e,{}):e===re.WEBGL_CONTEXT_LOST?(0,n.jsx)(Ne,{}):e===re.WEBGL_GENERIC?(0,n.jsx)(Me,{}):e===re.WEBGL_UNSUPPORTED?(0,n.jsx)(Ce,{}):(0,n.jsx)(ye,{}),Fe=JSON;var Ue=i(69127),He=i(39011);const je=e=>{let t;const i=e.definitions.filter((e=>"OperationDefinition"===e.kind));return 1===i.length&&(t=i[0]?.name?.value),t},Ve=e=>{if("string"==typeof e){let t;try{const i=(0,Ue.Qc)(e);t=je(i)}catch(e){}return{query:e,operationName:t}}const t=je(e);return{query:(0,He.S)(e),operationName:t}};class Be extends Error{constructor(e,t){super(`${Be.extractMessage(e)}: ${JSON.stringify({response:e,request:t})}`),Object.setPrototypeOf(this,Be.prototype),this.response=e,this.request=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Be)}static extractMessage(e){return e.errors?.[0]?.message??`GraphQL Error (Code: ${e.status})`}}var Ge=i(54098),We=i.t(Ge,2);const ze=e=>{let t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||We&&Ge.Headers&&e instanceof Ge.Headers?t=(e=>{const t={};return e.forEach(((e,i)=>{t[i]=e})),t})(e):Array.isArray(e)?e.forEach((([e,i])=>{e&&void 0!==i&&(t[e]=i)})):t=e),t},Ke=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),Ye=e=>async t=>{const{url:i,query:n,variables:s,operationName:r,fetch:a,fetchOptions:o,middleware:l}=t,c={...t.headers};let d,u="";"POST"===e?(d=Qe(n,s,r,o.jsonSerializer),"string"==typeof d&&(c["Content-Type"]="application/json")):u=(e=>{if(!Array.isArray(e.query)){const t=e,i=[`query=${encodeURIComponent(Ke(t.query))}`];return e.variables&&i.push(`variables=${encodeURIComponent(t.jsonSerializer.stringify(t.variables))}`),t.operationName&&i.push(`operationName=${encodeURIComponent(t.operationName)}`),i.join("&")}if(void 0!==e.variables&&!Array.isArray(e.variables))throw new Error("Cannot create query with given variable type, array expected");const t=e,i=e.query.reduce(((e,i,n)=>(e.push({query:Ke(i),variables:t.variables?t.jsonSerializer.stringify(t.variables[n]):void 0}),e)),[]);return`query=${encodeURIComponent(t.jsonSerializer.stringify(i))}`})({query:n,variables:s,operationName:r,jsonSerializer:o.jsonSerializer??Fe});const h={method:e,headers:c,body:d,...o};let p=i,m=h;if(l){const e=await Promise.resolve(l({...h,url:i,operationName:r,variables:s})),{url:t,...n}=e;p=t,m=n}return u&&(p=`${p}?${u}`),await a(p,m)};class qe{constructor(e,t={}){this.url=e,this.requestConfig=t,this.rawRequest=async(...e)=>{const[t,i,n]=e,s=((e,t,i)=>e.query?e:{query:e,variables:t,requestHeaders:i,signal:void 0})(t,i,n),{headers:r,fetch:a=Ge,method:o="POST",requestMiddleware:l,responseMiddleware:c,...d}=this.requestConfig,{url:u}=this;void 0!==s.signal&&(d.signal=s.signal);const{operationName:h}=Ve(s.query);return $e({url:u,query:s.query,variables:s.variables,headers:{...ze(Je(r)),...ze(s.requestHeaders)},operationName:h,fetch:a,method:o,fetchOptions:d,middleware:l}).then((e=>(c&&c(e),e))).catch((e=>{throw c&&c(e),e}))}}async request(e,...t){const[i,n]=t,s=((e,t,i)=>e.document?e:{document:e,variables:t,requestHeaders:i,signal:void 0})(e,i,n),{headers:r,fetch:a=Ge,method:o="POST",requestMiddleware:l,responseMiddleware:c,...d}=this.requestConfig,{url:u}=this;void 0!==s.signal&&(d.signal=s.signal);const{query:h,operationName:p}=Ve(s.document);return $e({url:u,query:h,variables:s.variables,headers:{...ze(Je(r)),...ze(s.requestHeaders)},operationName:p,fetch:a,method:o,fetchOptions:d,middleware:l}).then((e=>(c&&c(e),e.data))).catch((e=>{throw c&&c(e),e}))}batchRequests(e,t){const i=((e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0})(e,t),{headers:n,...s}=this.requestConfig;void 0!==i.signal&&(s.signal=i.signal);const r=i.documents.map((({document:e})=>Ve(e).query)),a=i.documents.map((({variables:e})=>e));return $e({url:this.url,query:r,variables:a,headers:{...ze(Je(n)),...ze(i.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??Ge,method:this.requestConfig.method||"POST",fetchOptions:s,middleware:this.requestConfig.requestMiddleware}).then((e=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e.data))).catch((e=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e}))}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){const{headers:i}=this.requestConfig;return i?i[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}}const $e=async e=>{const{query:t,variables:i,fetchOptions:n}=e,s=Ye((e.method??"post").toUpperCase());const r=Array.isArray(e.query),a=await s(e),o=await Xe(a,n.jsonSerializer??Fe),l=Array.isArray(o)?!o.some((({data:e})=>!e)):Boolean(o.data),c=Array.isArray(o)||!o.errors||Array.isArray(o.errors)&&!o.errors.length||"all"===n.errorPolicy||"ignore"===n.errorPolicy;if(a.ok&&c&&l){const{errors:e,...t}=(Array.isArray(o),o),i="ignore"===n.errorPolicy?t:o;return{...r?{data:i}:i,headers:a.headers,status:a.status}}throw new Be({..."string"==typeof o?{error:o}:o,status:a.status,headers:a.headers},{query:t,variables:i})};async function Ze(e,t,...i){const n=((e,t,...i)=>{const[n,s]=i;return e.document?e:{url:e,document:t,variables:n,requestHeaders:s,signal:void 0}})(e,t,...i);return new qe(n.url).request({...n})}const Qe=(e,t,i,n)=>{const s=n??Fe;if(!Array.isArray(e))return s.stringify({query:e,variables:t,operationName:i});if(void 0!==t&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");const r=e.reduce(((e,i,n)=>(e.push({query:i,variables:t?t[n]:void 0}),e)),[]);return s.stringify(r)},Xe=async(e,t)=>{let i;return e.headers.forEach(((e,t)=>{"content-type"===t.toLowerCase()&&(i=e)})),i&&(i.toLowerCase().startsWith("application/json")||i.toLowerCase().startsWith("application/graphql+json")||i.toLowerCase().startsWith("application/graphql-response+json"))?t.parse(await e.text()):e.text()},Je=e=>"function"==typeof e?e():e,et=((e,...t)=>e.reduce(((e,i,n)=>`${e}${i}${n in t?String(t[n]):""}`),""))`
  query GetCurrentUser {
    currentSession {
      currentUser {
        id
        email
        firstName
        lastName
      }
    }
  }
`,tt=async({apiHost:e})=>{var t;const i=`${e}/api/mp/accounts/graph`,n=await Ze(i,et),s=null===(t=null==n?void 0:n.currentSession)||void 0===t?void 0:t.currentUser;if(null==s?void 0:s.id)return{id:s.id,email:s.email||"",firstName:s.firstName||"",lastName:s.lastName||""}},it="_1s2P0b_rDArxJRHGRYrU44",nt="_20IzbQl3zqg35KIQFsa4WP",st="_2AlbqSOlIQU8EmVnuR2X4O",rt=({firstName:e,lastName:t,email:i})=>{const s=`${(null==e?void 0:e[0])||""}${(null==t?void 0:t[0])||""}`;return(0,n.jsxs)("div",Object.assign({"data-testid":"user_pill",className:nt},{children:[(0,n.jsx)("span",Object.assign({"data-testid":"user_avatar",className:st},{children:s})),(0,n.jsx)("span",{children:i})]}))},at=()=>{const{t:e}=(0,s.useContext)(le),{user:t}=(()=>{const{apiHost:e}=(0,s.useContext)(le),{isLoading:t,error:i,data:n}=te(["CurrentUser"],(()=>tt({apiHost:e})));return{isAuthenticated:!!n&&!i,isLoading:t,user:n}})();return t?(0,n.jsxs)("div",Object.assign({"data-testid":"user_info",className:it},{children:[e(ae.Z.OOPS.SIGNED_IN_AS),(0,n.jsx)(rt,{firstName:t.firstName,lastName:t.lastName,email:t.email})]})):null},ot="_1Ivh0w_sChfeFim3NtTJtk",lt="_3QJZ1aNmbRTroO8BwQpEnU",ct="z6oc6QGfbwob2SMpLbhKn",dt="_3aydo-8p6riD09OMJ2-wd",ut=({errorCode:e})=>(0,n.jsxs)("section",Object.assign({"data-testid":"error_page",className:ot},{children:[(0,n.jsx)("div",Object.assign({className:lt},{children:(0,n.jsx)(xe,{errorCode:e})})),(0,n.jsxs)("footer",Object.assign({className:ct},{children:[(0,n.jsx)("a",Object.assign({href:"https://matterport.com",target:"_blank"},{children:(0,n.jsx)("img",{src:se,alt:"Matterport logo",width:"178",height:"30",className:dt})})),(0,n.jsx)(at,{})]}))]}));function ht({apiHost:e,errorCode:t=re.GENERIC,t:i=(e=>e)}){const s={apiHost:e,errorCode:t,t:i};return(0,n.jsx)(ee,{children:(0,n.jsx)(le.Provider,Object.assign({value:s},{children:(0,n.jsx)(ut,{errorCode:t})}))})}},99793:(e,t,i)=>{"use strict";function n(e={},t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}i.d(t,{q:()=>n})},55669:(e,t,i)=>{"use strict";i.d(t,{M:()=>n});class n{constructor(){this.libraryCache=new Map}load(e,t){const i=this.libraryCache.get(e)||new s(e,t);return this.libraryCache.set(e,i),i.library}}class s{constructor(e,t){this._libraryPromise=new Promise(((e,t)=>{this.libraryResolver=e,this.libraryRejecter=t})),this.fetch(e,t)}async fetch(e,t){try{const i=await import(e),n=Object.assign({},i);if(t&&t in window){const e=window[t]||{};Object.assign(n,e),delete window[t]}this.libraryResolver(n)}catch(e){this.libraryRejecter(e)}}get library(){return this._libraryPromise}}},26203:(e,t,i)=>{"use strict";var n;i.d(t,{e:()=>n,f:()=>s}),function(e){e.i360="360",e.AddLink="add-link",e.Arrow="arrow",e.Arrows="arrows",e.Attach="attach",e.Back="back",e.Blocked="blocked",e.BlurOutline="blur-outline",e.BrushOutline="brush-outline",e.Checkmark="checkmark",e.ChevronLeft="chevron-left",e.ChevronRight="chevron-right",e.Close="close",e.CommentLarge="comment-large",e.CommentOutline="comment-outline",e.Comment="comment",e.Delete="delete",e.Dock="dock",e.Dollhouse="dollhouse",e.Door="door",e.Download="download",e.DpadDown="dpad-down",e.DpadLeft="dpad-left",e.DpadRight="dpad-right",e.DpadUp="dpad-up",e.DragEdit="drag-edit",e.DrawLines="draw-lines",e.EditFloorplan="edit-floorplan",e.Email="email",e.Error="error",e.EscapeKey="escape-key",e.Expand="expand",e.ExtLink="ext-link",e.EyeHide="eye-hide",e.EyeShow="eye-show",e.Facebook="facebook",e.File="file",e.Filter="filter",e.FingerDrag="finger-drag",e.FloorControlsAll="floor-controls-all",e.FloorControls="floor-controls",e.Floorplan="floorplan",e.FullscreenExit="fullscreen-exit",e.Fullscreen="fullscreen",e.Fullscreen2="fullscreen2",e.FurnitureSlash="furniture-slash",e.Furniture="furniture",e.GizmoArrowDown="gizmo-arrow-down",e.GizmoArrowRight="gizmo-arrow-right",e.GizmoEyeHide="gizmo-eye-hide",e.GizmoEyeShow="gizmo-eye-show",e.GizmoGear="gizmo-gear",e.Help="help",e.HlrBadge="hlr-badge",e.Hlr="hlr",e.Info="info",e.InvisibleWall="invisible-wall",e.Keyboard="keyboard",e.LayersAlt="layers-alt",e.Layers="layers",e.Link="link",e.Linkedin="linkedin",e.List="list",e.Location="location",e.Lock="lock",e.Logo="logo",e.MagnifyingGlass="magnifying-glass",e.MediaMix="media-mix",e.MenuIndicator="menu-indicator",e.MeshTrim="mesh-trim",e.Mesh="mesh",e.Minus="minus",e.ModelGroup="model-group",e.MoreVert="more-vert",e.Move="move",e.Notes="notes",e.ObjectAirDucts="object-air-ducts",e.ObjectBathtub="object-bathtub",e.ObjectBed="object-bed",e.ObjectCabinet="object-cabinet",e.ObjectCeilingFan="object-ceiling-fan",e.ObjectChair="object-chair",e.ObjectCountertop="object-countertop",e.ObjectDishwasher="object-dishwasher",e.ObjectDoorLock="object-door-lock",e.ObjectDoor="object-door",e.ObjectFaucet="object-faucet",e.ObjectFireplace="object-fireplace",e.ObjectGarageDoor="object-garage-door",e.ObjectKitchenIsland="object-kitchen-island",e.ObjectLight="object-light",e.ObjectMicrowave="object-microwave",e.ObjectMirror="object-mirror",e.ObjectOutlet="object-outlet",e.ObjectOven="object-oven",e.ObjectRangeHood="object-range-hood",e.ObjectRange="object-range",e.ObjectRefrigerator="object-refrigerator",e.ObjectShower="object-shower",e.ObjectSink="object-sink",e.ObjectSkylight="object-skylight",e.ObjectSmokeDetector="object-smoke-detector",e.ObjectSofa="object-sofa",e.ObjectTable="object-table",e.ObjectTelevision="object-television",e.ObjectThermostat="object-thermostat",e.ObjectToilet="object-toilet",e.ObjectTowelRack="object-towel-rack",e.ObjectVanity="object-vanity",e.ObjectWallSwitch="object-wall-switch",e.ObjectWasherDryer="object-washer-dryer",e.ObjectWindow="object-window",e.Opening="opening",e.PanoramaDisable="panorama-disable",e.Panorama="panorama",e.PaperClip="paper-clip",e.PauseOutline="pause-outline",e.Pause="pause",e.Photo_2d="photo-2d",e.Photo_360="photo-360",e.PhotoAdd="photo-add",e.Pin="pin",e.Pinterest="pinterest",e.PlayUnicode="play-unicode",e.Play="play",e.Plus="plus",e.Position_3d="position-3d",e.PressHold="press-hold",e.PublicBuildingsApartment="public_buildings_apartment",e.PublicBuildingsArchway="public_buildings_archway",e.PublicBuildingsBuildingCircleArrowRight="public_buildings_building-circle-arrow-right",e.PublicBuildingsBuildingCircleCheck="public_buildings_building-circle-check",e.PublicBuildingsBuildingCircleExclamation="public_buildings_building-circle-exclamation",e.PublicBuildingsBuildingCircleXmark="public_buildings_building-circle-xmark",e.PublicBuildingsBuildingColumns="public_buildings_building-columns",e.PublicBuildingsBuildingFlag="public_buildings_building-flag",e.PublicBuildingsBuildingLock="public_buildings_building-lock",e.PublicBuildingsBuildingShield="public_buildings_building-shield",e.PublicBuildingsBuildingUser="public_buildings_building-user",e.PublicBuildingsBuildingWheat="public_buildings_building-wheat",e.PublicBuildingsBuilding="public_buildings_building",e.PublicBuildingsBuildings="public_buildings_buildings",e.PublicBuildingsCabin="public_buildings_cabin",e.PublicBuildingsCampground="public_buildings_campground",e.PublicBuildingsCarBuilding="public_buildings_car-building",e.PublicBuildingsCastle="public_buildings_castle",e.PublicBuildingsChimney="public_buildings_chimney",e.PublicBuildingsChurch="public_buildings_church",e.PublicBuildingsCity="public_buildings_city",e.PublicBuildingsFarm="public_buildings_farm",e.PublicBuildingsFence="public_buildings_fence",e.PublicBuildingsFerrisWheel="public_buildings_ferris-wheel",e.PublicBuildingsFort="public_buildings_fort",e.PublicBuildingsGarage="public_buildings_garage",e.PublicBuildingsHospital="public_buildings_hospital",e.PublicBuildingsHotel="public_buildings_hotel",e.PublicBuildingsHouseBuilding="public_buildings_house-building",e.PublicBuildingsHouseCrack="public_buildings_house-crack",e.PublicBuildingsHouseDay="public_buildings_house-day",e.PublicBuildingsHouseFire="public_buildings_house-fire",e.PublicBuildingsHouseFlag="public_buildings_house-flag",e.PublicBuildingsHouseFloodWater="public_buildings_house-flood-water",e.PublicBuildingsHouseHeart="public_buildings_house-heart",e.PublicBuildingsHouseLock="public_buildings_house-lock",e.PublicBuildingsHouseMedical="public_buildings_house-medical",e.PublicBuildingsHouseNight="public_buildings_house-night",e.PublicBuildingsHouse="public_buildings_house",e.PublicBuildingsIndustry="public_buildings_industry",e.PublicBuildingsLandmark="public_buildings_landmark",e.PublicBuildingsMonument="public_buildings_monument",e.PublicBuildingsMosque="public_buildings_mosque",e.PublicBuildingsMountainCity="public_buildings_mountain-city",e.PublicBuildingsPlaceOfWorship="public_buildings_place-of-worship",e.PublicBuildingsRollerCoaster="public_buildings_roller-coaster",e.PublicBuildingsSchool="public_buildings_school",e.PublicBuildingsStore="public_buildings_store",e.PublicBuildingsSynagogue="public_buildings_synagogue",e.PublicBuildingsTent="public_buildings_tent",e.PublicBuildingsToilet="public_buildings_toilet",e.PublicBuildingsToriiGate="public_buildings_torii-gate",e.PublicBuildingsTowerObservation="public_buildings_tower-observation",e.PublicBuildingsTree="public_buildings_tree",e.PublicBuildingsWarehouse="public_buildings_warehouse",e.PublicCharacters_0="public_characters_0",e.PublicCharacters_1="public_characters_1",e.PublicCharacters_2="public_characters_2",e.PublicCharacters_3="public_characters_3",e.PublicCharacters_4="public_characters_4",e.PublicCharacters_5="public_characters_5",e.PublicCharacters_6="public_characters_6",e.PublicCharacters_7="public_characters_7",e.PublicCharacters_8="public_characters_8",e.PublicCharacters_9="public_characters_9",e.PublicCharactersA="public_characters_a",e.PublicCharactersB="public_characters_b",e.PublicCharactersC="public_characters_c",e.PublicCharactersCircle_0="public_characters_circle-0",e.PublicCharactersCircle_1="public_characters_circle-1",e.PublicCharactersCircle_2="public_characters_circle-2",e.PublicCharactersCircle_3="public_characters_circle-3",e.PublicCharactersCircle_4="public_characters_circle-4",e.PublicCharactersCircle_5="public_characters_circle-5",e.PublicCharactersCircle_6="public_characters_circle-6",e.PublicCharactersCircle_7="public_characters_circle-7",e.PublicCharactersCircle_8="public_characters_circle-8",e.PublicCharactersCircle_9="public_characters_circle-9",e.PublicCharactersCircleA="public_characters_circle-a",e.PublicCharactersCircleB="public_characters_circle-b",e.PublicCharactersCircleC="public_characters_circle-c",e.PublicCharactersCircleD="public_characters_circle-d",e.PublicCharactersCircleE="public_characters_circle-e",e.PublicCharactersCircleF="public_characters_circle-f",e.PublicCharactersCircleG="public_characters_circle-g",e.PublicCharactersCircleH="public_characters_circle-h",e.PublicCharactersCircleI="public_characters_circle-i",e.PublicCharactersCircleJ="public_characters_circle-j",e.PublicCharactersCircleK="public_characters_circle-k",e.PublicCharactersCircleL="public_characters_circle-l",e.PublicCharactersCircleM="public_characters_circle-m",e.PublicCharactersCircleN="public_characters_circle-n",e.PublicCharactersCircleO="public_characters_circle-o",e.PublicCharactersCircleP="public_characters_circle-p",e.PublicCharactersCircleQ="public_characters_circle-q",e.PublicCharactersCircleR="public_characters_circle-r",e.PublicCharactersCircleS="public_characters_circle-s",e.PublicCharactersCircleT="public_characters_circle-t",e.PublicCharactersCircleU="public_characters_circle-u",e.PublicCharactersCircleV="public_characters_circle-v",e.PublicCharactersCircleW="public_characters_circle-w",e.PublicCharactersCircleX="public_characters_circle-x",e.PublicCharactersCircleY="public_characters_circle-y",e.PublicCharactersCircleZ="public_characters_circle-z",e.PublicCharactersD="public_characters_d",e.PublicCharactersE="public_characters_e",e.PublicCharactersF="public_characters_f",e.PublicCharactersG="public_characters_g",e.PublicCharactersH="public_characters_h",e.PublicCharactersI="public_characters_i",e.PublicCharactersJ="public_characters_j",e.PublicCharactersK="public_characters_k",e.PublicCharactersL="public_characters_l",e.PublicCharactersM="public_characters_m",e.PublicCharactersN="public_characters_n",e.PublicCharactersO="public_characters_o",e.PublicCharactersP="public_characters_p",e.PublicCharactersQ="public_characters_q",e.PublicCharactersR="public_characters_r",e.PublicCharactersS="public_characters_s",e.PublicCharactersSquare_0="public_characters_square-0",e.PublicCharactersSquare_1="public_characters_square-1",e.PublicCharactersSquare_2="public_characters_square-2",e.PublicCharactersSquare_3="public_characters_square-3",e.PublicCharactersSquare_4="public_characters_square-4",e.PublicCharactersSquare_5="public_characters_square-5",e.PublicCharactersSquare_6="public_characters_square-6",e.PublicCharactersSquare_7="public_characters_square-7",e.PublicCharactersSquare_8="public_characters_square-8",e.PublicCharactersSquare_9="public_characters_square-9",e.PublicCharactersSquareA="public_characters_square-a",e.PublicCharactersSquareB="public_characters_square-b",e.PublicCharactersSquareC="public_characters_square-c",e.PublicCharactersSquareD="public_characters_square-d",e.PublicCharactersSquareE="public_characters_square-e",e.PublicCharactersSquareF="public_characters_square-f",e.PublicCharactersSquareG="public_characters_square-g",e.PublicCharactersSquareH="public_characters_square-h",e.PublicCharactersSquareI="public_characters_square-i",e.PublicCharactersSquareJ="public_characters_square-j",e.PublicCharactersSquareK="public_characters_square-k",e.PublicCharactersSquareL="public_characters_square-l",e.PublicCharactersSquareM="public_characters_square-m",e.PublicCharactersSquareN="public_characters_square-n",e.PublicCharactersSquareO="public_characters_square-o",e.PublicCharactersSquareP="public_characters_square-p",e.PublicCharactersSquareQ="public_characters_square-q",e.PublicCharactersSquareR="public_characters_square-r",e.PublicCharactersSquareS="public_characters_square-s",e.PublicCharactersSquareT="public_characters_square-t",e.PublicCharactersSquareU="public_characters_square-u",e.PublicCharactersSquareV="public_characters_square-v",e.PublicCharactersSquareW="public_characters_square-w",e.PublicCharactersSquareX="public_characters_square-x",e.PublicCharactersSquareXmark="public_characters_square-xmark",e.PublicCharactersSquareY="public_characters_square-y",e.PublicCharactersSquareZ="public_characters_square-z",e.PublicCharactersT="public_characters_t",e.PublicCharactersU="public_characters_u",e.PublicCharactersV="public_characters_v",e.PublicCharactersW="public_characters_w",e.PublicCharactersX="public_characters_x",e.PublicCharactersY="public_characters_y",e.PublicCharactersZ="public_characters_z",e.PublicFurnitureBath="public_furniture_bath",e.PublicFurnitureBedAlt="public_furniture_bed-alt",e.PublicFurnitureBedBunk="public_furniture_bed-bunk",e.PublicFurnitureBedEmpty="public_furniture_bed-empty",e.PublicFurnitureBed="public_furniture_bed",e.PublicFurnitureBlender="public_furniture_blender",e.PublicFurnitureBlinds="public_furniture_blinds",e.PublicFurnitureCabinetFiling="public_furniture_cabinet-filing",e.PublicFurnitureCashRegister="public_furniture_cash-register",e.PublicFurnitureChairOffice="public_furniture_chair-office",e.PublicFurnitureChair="public_furniture_chair",e.PublicFurnitureChargingStation="public_furniture_charging-station",e.PublicFurnitureComputerClassic="public_furniture_computer-classic",e.PublicFurnitureComputerSpeaker="public_furniture_computer-speaker",e.PublicFurnitureCouch="public_furniture_couch",e.PublicFurnitureDryerAlt="public_furniture_dryer-alt",e.PublicFurnitureDryer="public_furniture_dryer",e.PublicFurnitureDumbbell="public_furniture_dumbbell",e.PublicFurnitureDumpster="public_furniture_dumpster",e.PublicFurnitureFaucet="public_furniture_faucet",e.PublicFurnitureFax="public_furniture_fax",e.PublicFurnitureHotTub="public_furniture_hot-tub",e.PublicFurnitureInventory="public_furniture_inventory",e.PublicFurnitureLampDesk="public_furniture_lamp-desk",e.PublicFurnitureLampFloor="public_furniture_lamp-floor",e.PublicFurnitureLamp="public_furniture_lamp",e.PublicFurnitureLaptop="public_furniture_laptop",e.PublicFurnitureLightCeiling="public_furniture_light-ceiling",e.PublicFurnitureLoveseat="public_furniture_loveseat",e.PublicFurnitureMicrowave="public_furniture_microwave",e.PublicFurniturePiano="public_furniture_piano",e.PublicFurniturePodium="public_furniture_podium",e.PublicFurniturePresentation="public_furniture_presentation",e.PublicFurnitureProjector="public_furniture_projector",e.PublicFurnitureRadio="public_furniture_radio",e.PublicFurnitureRefrigerator="public_furniture_refrigerator",e.PublicFurnitureShower="public_furniture_shower",e.PublicFurnitureShredder="public_furniture_shredder",e.PublicFurnitureSink="public_furniture_sink",e.PublicFurnitureSolarPanel="public_furniture_solar-panel",e.PublicFurnitureSpeaker="public_furniture_speaker",e.PublicFurnitureSpeakers="public_furniture_speakers",e.PublicFurnitureToilet="public_furniture_toilet",e.PublicFurnitureTrashAlt="public_furniture_trash-alt",e.PublicFurnitureTurntable="public_furniture_turntable",e.PublicFurnitureTvRetro="public_furniture_tv-retro",e.PublicFurnitureTv="public_furniture_tv",e.PublicFurnitureTypewriter="public_furniture_typewriter",e.PublicObjectsAbacus="public_objects_abacus",e.PublicObjectsAlarmClock="public_objects_alarm-clock",e.PublicObjectsAlbumCollection="public_objects_album-collection",e.PublicObjectsBackpack="public_objects_backpack",e.PublicObjectsBagsShopping="public_objects_bags-shopping",e.PublicObjectsBell="public_objects_bell",e.PublicObjectsBicycle="public_objects_bicycle",e.PublicObjectsBinoculars="public_objects_binoculars",e.PublicObjectsBlanket="public_objects_blanket",e.PublicObjectsBook="public_objects_book",e.PublicObjectsBooks="public_objects_books",e.PublicObjectsBoot="public_objects_boot",e.PublicObjectsBox="public_objects_box",e.PublicObjectsBreadLoaf="public_objects_bread-loaf",e.PublicObjectsBriefcaseMedical="public_objects_briefcase-medical",e.PublicObjectsBriefcase="public_objects_briefcase",e.PublicObjectsBroom="public_objects_broom",e.PublicObjectsBrush="public_objects_brush",e.PublicObjectsBullhorn="public_objects_bullhorn",e.PublicObjectsBurgerSoda="public_objects_burger-soda",e.PublicObjectsCalculator="public_objects_calculator",e.PublicObjectsCalendar="public_objects_calendar",e.PublicObjectsCamera="public_objects_camera",e.PublicObjectsCar="public_objects_car",e.PublicObjectsCarrot="public_objects_carrot",e.PublicObjectsCheeseSwiss="public_objects_cheese-swiss",e.PublicObjectsChess="public_objects_chess",e.PublicObjectsClipboardCheck="public_objects_clipboard-check",e.PublicObjectsClipboardList="public_objects_clipboard-list",e.PublicObjectsClipboard="public_objects_clipboard",e.PublicObjectsCoffeePot="public_objects_coffee-pot",e.PublicObjectsCompass="public_objects_compass",e.PublicObjectsCookie="public_objects_cookie",e.PublicObjectsCorn="public_objects_corn",e.PublicObjectsCroissant="public_objects_croissant",e.PublicObjectsDice="public_objects_dice",e.PublicObjectsDrumstick="public_objects_drumstick",e.PublicObjectsEgg="public_objects_egg",e.PublicObjectsFish="public_objects_fish",e.PublicObjectsFlask="public_objects_flask",e.PublicObjectsFlowerTulip="public_objects_flower-tulip",e.PublicObjectsGamepad="public_objects_gamepad",e.PublicObjectsGem="public_objects_gem",e.PublicObjectsGift="public_objects_gift",e.PublicObjectsGifts="public_objects_gifts",e.PublicObjectsGlassCitrus="public_objects_glass-citrus",e.PublicObjectsGlass="public_objects_glass",e.PublicObjectsGlasses="public_objects_glasses",e.PublicObjectsGlobeStand="public_objects_globe-stand",e.PublicObjectsGraduationCap="public_objects_graduation-cap",e.PublicObjectsGuitar="public_objects_guitar",e.PublicObjectsHammer="public_objects_hammer",e.PublicObjectsHatChef="public_objects_hat-chef",e.PublicObjectsIceCream="public_objects_ice-cream",e.PublicObjectsIceSkate="public_objects_ice-skate",e.PublicObjectsKey="public_objects_key",e.PublicObjectsKnifeKitchen="public_objects_knife-kitchen",e.PublicObjectsLightbulbOn="public_objects_lightbulb-on",e.PublicObjectsLightbulbSlash="public_objects_lightbulb-slash",e.PublicObjectsLightbulb="public_objects_lightbulb",e.PublicObjectsMagnet="public_objects_magnet",e.PublicObjectsMailbox="public_objects_mailbox",e.PublicObjectsMap="public_objects_map",e.PublicObjectsMeat="public_objects_meat",e.PublicObjectsMedal="public_objects_medal",e.PublicObjectsMicrophone="public_objects_microphone",e.PublicObjectsMobile="public_objects_mobile",e.PublicObjectsMoneyBillWave="public_objects_money-bill-wave",e.PublicObjectsMugTea="public_objects_mug-tea",e.PublicObjectsMug="public_objects_mug",e.PublicObjectsNewspaper="public_objects_newspaper",e.PublicObjectsPaintRoller="public_objects_paint-roller",e.PublicObjectsPalette="public_objects_palette",e.PublicObjectsPen="public_objects_pen",e.PublicObjectsPhone="public_objects_phone",e.PublicObjectsPizzaSlice="public_objects_pizza-slice",e.PublicObjectsPumpSoap="public_objects_pump-soap",e.PublicObjectsRulerTriangle="public_objects_ruler-triangle",e.PublicObjectsRuler="public_objects_ruler",e.PublicObjectsSalad="public_objects_salad",e.PublicObjectsSandwich="public_objects_sandwich",e.PublicObjectsShovel="public_objects_shovel",e.PublicObjectsSteak="public_objects_steak",e.PublicObjectsSunglasses="public_objects_sunglasses",e.PublicObjectsTurkey="public_objects_turkey",e.PublicObjectsUtensils="public_objects_utensils",e.PublicObjectsVial="public_objects_vial",e.PublicObjectsWallet="public_objects_wallet",e.PublicObjectsWrench="public_objects_wrench",e.PublicPeopleBaby="public_people_baby",e.PublicPeopleChildDress="public_people_child-dress",e.PublicPeopleChildReaching="public_people_child-reaching",e.PublicPeopleChild="public_people_child",e.PublicPeopleChildren="public_people_children",e.PublicPeopleCircleUser="public_people_circle-user",e.PublicPeopleClipboardUser="public_people_clipboard-user",e.PublicPeopleFaceAngry="public_people_face-angry",e.PublicPeopleFaceAnguished="public_people_face-anguished",e.PublicPeopleFaceAstonished="public_people_face-astonished",e.PublicPeopleFaceBeamHandOverMouth="public_people_face-beam-hand-over-mouth",e.PublicPeopleFaceConfounded="public_people_face-confounded",e.PublicPeopleFaceConfused="public_people_face-confused",e.PublicPeopleFaceDiagonalMouth="public_people_face-diagonal-mouth",e.PublicPeopleFaceDisappointed="public_people_face-disappointed",e.PublicPeopleFaceDizzy="public_people_face-dizzy",e.PublicPeopleFaceExpressionless="public_people_face-expressionless",e.PublicPeopleFaceEyesXmarks="public_people_face-eyes-xmarks",e.PublicPeopleFaceFearful="public_people_face-fearful",e.PublicPeopleFaceFrownSlight="public_people_face-frown-slight",e.PublicPeopleFaceFrown="public_people_face-frown",e.PublicPeopleFaceGlasses="public_people_face-glasses",e.PublicPeopleFaceGrimace="public_people_face-grimace",e.PublicPeopleFaceGrinBeamSweat="public_people_face-grin-beam-sweat",e.PublicPeopleFaceGrinBeam="public_people_face-grin-beam",e.PublicPeopleFaceGrinHearts="public_people_face-grin-hearts",e.PublicPeopleFaceGrinSquintTears="public_people_face-grin-squint-tears",e.PublicPeopleFaceGrinSquint="public_people_face-grin-squint",e.PublicPeopleFaceGrinStars="public_people_face-grin-stars",e.PublicPeopleFaceGrinTears="public_people_face-grin-tears",e.PublicPeopleFaceGrinTongueSquint="public_people_face-grin-tongue-squint",e.PublicPeopleFaceGrinTongueWink="public_people_face-grin-tongue-wink",e.PublicPeopleFaceGrinTongue="public_people_face-grin-tongue",e.PublicPeopleFaceGrinWide="public_people_face-grin-wide",e.PublicPeopleFaceGrinWink="public_people_face-grin-wink",e.PublicPeopleFaceGrin="public_people_face-grin",e.PublicPeopleFaceHandOverMouth="public_people_face-hand-over-mouth",e.PublicPeopleFaceHushed="public_people_face-hushed",e.PublicPeopleFaceIcicles="public_people_face-icicles",e.PublicPeopleFaceKiss="public_people_face-kiss",e.PublicPeopleFaceLaugh="public_people_face-laugh",e.PublicPeopleFaceMask="public_people_face-mask",e.PublicPeopleFaceMehBlank="public_people_face-meh-blank",e.PublicPeopleFaceMeh="public_people_face-meh",e.PublicPeopleFaceMonocle="public_people_face-monocle",e.PublicPeopleFaceNauseated="public_people_face-nauseated",e.PublicPeopleFaceParty="public_people_face-party",e.PublicPeopleFacePensive="public_people_face-pensive",e.PublicPeopleFacePersevering="public_people_face-persevering",e.PublicPeopleFacePleading="public_people_face-pleading",e.PublicPeopleFacePouting="public_people_face-pouting",e.PublicPeopleFaceRaisedEyebrow="public_people_face-raised-eyebrow",e.PublicPeopleFaceRelieved="public_people_face-relieved",e.PublicPeopleFaceRollingEyes="public_people_face-rolling-eyes",e.PublicPeopleFaceSadCry="public_people_face-sad-cry",e.PublicPeopleFaceSadSweat="public_people_face-sad-sweat",e.PublicPeopleFaceSadTear="public_people_face-sad-tear",e.PublicPeopleFaceScream="public_people_face-scream",e.PublicPeopleFaceSleeping="public_people_face-sleeping",e.PublicPeopleFaceSleepy="public_people_face-sleepy",e.PublicPeopleFaceSmileBeam="public_people_face-smile-beam",e.PublicPeopleFaceSmileHalo="public_people_face-smile-halo",e.PublicPeopleFaceSmileHearts="public_people_face-smile-hearts",e.PublicPeopleFaceSmileRelaxed="public_people_face-smile-relaxed",e.PublicPeopleFaceSmileUpsideDown="public_people_face-smile-upside-down",e.PublicPeopleFaceSmileWink="public_people_face-smile-wink",e.PublicPeopleFaceSmile="public_people_face-smile",e.PublicPeopleFaceSmirking="public_people_face-smirking",e.PublicPeopleFaceSpiralEyes="public_people_face-spiral-eyes",e.PublicPeopleFaceSunglasses="public_people_face-sunglasses",e.PublicPeopleFaceSurprise="public_people_face-surprise",e.PublicPeopleFaceThermometer="public_people_face-thermometer",e.PublicPeopleFaceThinking="public_people_face-thinking",e.PublicPeopleFaceTired="public_people_face-tired",e.PublicPeopleFaceTissue="public_people_face-tissue",e.PublicPeopleFaceUnamused="public_people_face-unamused",e.PublicPeopleFaceVomit="public_people_face-vomit",e.PublicPeopleFaceWeary="public_people_face-weary",e.PublicPeopleFaceWoozy="public_people_face-woozy",e.PublicPeopleFaceWorried="public_people_face-worried",e.PublicPeopleFaceZipper="public_people_face-zipper",e.PublicPeopleFamilyDress="public_people_family-dress",e.PublicPeopleFamilyPants="public_people_family-pants",e.PublicPeopleFamily="public_people_family",e.PublicPeopleFileUser="public_people_file-user",e.PublicPeopleFolderUser="public_people_folder-user",e.PublicPeopleHeadSideBrain="public_people_head-side-brain",e.PublicPeopleHeadSideCoughSlash="public_people_head-side-cough-slash",e.PublicPeopleHeadSideCough="public_people_head-side-cough",e.PublicPeopleHeadSideGoggles="public_people_head-side-goggles",e.PublicPeopleHeadSideHeadphones="public_people_head-side-headphones",e.PublicPeopleHeadSideHeart="public_people_head-side-heart",e.PublicPeopleHeadSideMask="public_people_head-side-mask",e.PublicPeopleHeadSideMedical="public_people_head-side-medical",e.PublicPeopleHeadSideVirus="public_people_head-side-virus",e.PublicPeopleHeadSide="public_people_head-side",e.PublicPeoplePeople="public_people_people",e.PublicPeoplePersonBiking="public_people_person-biking",e.PublicPeoplePersonBooth="public_people_person-booth",e.PublicPeoplePersonBreastfeeding="public_people_person-breastfeeding",e.PublicPeoplePersonCane="public_people_person-cane",e.PublicPeoplePersonCarryBox="public_people_person-carry-box",e.PublicPeoplePersonDigging="public_people_person-digging",e.PublicPeoplePersonDollyEmpty="public_people_person-dolly-empty",e.PublicPeoplePersonDolly="public_people_person-dolly",e.PublicPeoplePersonDress="public_people_person-dress",e.PublicPeoplePersonDrowning="public_people_person-drowning",e.PublicPeoplePersonFalling="public_people_person-falling",e.PublicPeoplePersonHalfDress="public_people_person-half-dress",e.PublicPeoplePersonHiking="public_people_person-hiking",e.PublicPeoplePersonMilitaryPointing="public_people_person-military-pointing",e.PublicPeoplePersonPinball="public_people_person-pinball",e.PublicPeoplePersonPraying="public_people_person-praying",e.PublicPeoplePersonPregnant="public_people_person-pregnant",e.PublicPeoplePersonRunning="public_people_person-running",e.PublicPeoplePersonSeatReclined="public_people_person-seat-reclined",e.PublicPeoplePersonSeat="public_people_person-seat",e.PublicPeoplePersonShelter="public_people_person-shelter",e.PublicPeoplePersonSkating="public_people_person-skating",e.PublicPeoplePersonSkiing="public_people_person-skiing",e.PublicPeoplePersonSwimming="public_people_person-swimming",e.PublicPeoplePersonToDoor="public_people_person-to-door",e.PublicPeoplePersonWalkingLuggage="public_people_person-walking-luggage",e.PublicPeoplePersonWalkingWithCane="public_people_person-walking-with-cane",e.PublicPeoplePersonWalking="public_people_person-walking",e.PublicPeoplePerson="public_people_person",e.PublicPeopleRestroom="public_people_restroom",e.PublicPeopleSquareUser="public_people_square-user",e.PublicPeopleStreetView="public_people_street-view",e.PublicPeopleUserAstronaut="public_people_user-astronaut",e.PublicPeopleUserCheck="public_people_user-check",e.PublicPeopleUserChef="public_people_user-chef",e.PublicPeopleUserClock="public_people_user-clock",e.PublicPeopleUserCowboy="public_people_user-cowboy",e.PublicPeopleUserCrown="public_people_user-crown",e.PublicPeopleUserDoctor="public_people_user-doctor",e.PublicPeopleUserGear="public_people_user-gear",e.PublicPeopleUserGraduate="public_people_user-graduate",e.PublicPeopleUserGroup="public_people_user-group",e.PublicPeopleUserHeadset="public_people_user-headset",e.PublicPeopleUserHelmetSafety="public_people_user-helmet-safety",e.PublicPeopleUserInjured="public_people_user-injured",e.PublicPeopleUserLarge="public_people_user-large",e.PublicPeopleUserLock="public_people_user-lock",e.PublicPeopleUserMinus="public_people_user-minus",e.PublicPeopleUserMusic="public_people_user-music",e.PublicPeopleUserNurse="public_people_user-nurse",e.PublicPeopleUserPen="public_people_user-pen",e.PublicPeopleUserPilot="public_people_user-pilot",e.PublicPeopleUserPlus="public_people_user-plus",e.PublicPeopleUserPolice="public_people_user-police",e.PublicPeopleUserShield="public_people_user-shield",e.PublicPeopleUserSlash="public_people_user-slash",e.PublicPeopleUserUnlock="public_people_user-unlock",e.PublicPeopleUser="public_people_user",e.PublicPeopleUsers="public_people_users",e.PublicPeopleWheelchair="public_people_wheelchair",e.PublicSymbolsArrowAltCircleDown="public_symbols_arrow-alt-circle-down",e.PublicSymbolsArrowAltCircleLeft="public_symbols_arrow-alt-circle-left",e.PublicSymbolsArrowAltCircleRight="public_symbols_arrow-alt-circle-right",e.PublicSymbolsArrowAltCircleUp="public_symbols_arrow-alt-circle-up",e.PublicSymbolsArrowAltDown="public_symbols_arrow-alt-down",e.PublicSymbolsArrowAltLeft="public_symbols_arrow-alt-left",e.PublicSymbolsArrowAltRight="public_symbols_arrow-alt-right",e.PublicSymbolsArrowAltUp="public_symbols_arrow-alt-up",e.PublicSymbolsAward="public_symbols_award",e.PublicSymbolsBadgeCheck="public_symbols_badge-check",e.PublicSymbolsBadgeDollar="public_symbols_badge-dollar",e.PublicSymbolsBadge="public_symbols_badge",e.PublicSymbolsBan="public_symbols_ban",e.PublicSymbolsBell="public_symbols_bell",e.PublicSymbolsBoltSlash="public_symbols_bolt-slash",e.PublicSymbolsBolt="public_symbols_bolt",e.PublicSymbolsBookmark="public_symbols_bookmark",e.PublicSymbolsCheckCircle="public_symbols_check-circle",e.PublicSymbolsCheck="public_symbols_check",e.PublicSymbolsCircle="public_symbols_circle",e.PublicSymbolsClock="public_symbols_clock",e.PublicSymbolsClub="public_symbols_club",e.PublicSymbolsCube="public_symbols_cube",e.PublicSymbolsCubes="public_symbols_cubes",e.PublicSymbolsDeaf="public_symbols_deaf",e.PublicSymbolsDiamond="public_symbols_diamond",e.PublicSymbolsDollarSign="public_symbols_dollar-sign",e.PublicSymbolsExclamationCircle="public_symbols_exclamation-circle",e.PublicSymbolsExclamationSquare="public_symbols_exclamation-square",e.PublicSymbolsExclamationTriangle="public_symbols_exclamation-triangle",e.PublicSymbolsExclamation="public_symbols_exclamation",e.PublicSymbolsEyeSlash="public_symbols_eye-slash",e.PublicSymbolsEye="public_symbols_eye",e.PublicSymbolsFile="public_symbols_file",e.PublicSymbolsFingerprint="public_symbols_fingerprint",e.PublicSymbolsFireAlt="public_symbols_fire-alt",e.PublicSymbolsFlagAlt="public_symbols_flag-alt",e.PublicSymbolsFolder="public_symbols_folder",e.PublicSymbolsGenderless="public_symbols_genderless",e.PublicSymbolsHeart="public_symbols_heart",e.PublicSymbolsHexagon="public_symbols_hexagon",e.PublicSymbolsHourglass="public_symbols_hourglass",e.PublicSymbolsImage="public_symbols_image",e.PublicSymbolsInfoCircle="public_symbols_info-circle",e.PublicSymbolsInfoSquare="public_symbols_info-square",e.PublicSymbolsLayerGroup="public_symbols_layer-group",e.PublicSymbolsLink="public_symbols_link",e.PublicSymbolsLocationArrow="public_symbols_location-arrow",e.PublicSymbolsLockOpen="public_symbols_lock-open",e.PublicSymbolsLock="public_symbols_lock",e.PublicSymbolsMapMarkerAlt="public_symbols_map-marker-alt",e.PublicSymbolsMapMarkerCheck="public_symbols_map-marker-check",e.PublicSymbolsMapMarkerExclamation="public_symbols_map-marker-exclamation",e.PublicSymbolsMapMarkerMinus="public_symbols_map-marker-minus",e.PublicSymbolsMapMarkerPlus="public_symbols_map-marker-plus",e.PublicSymbolsMapMarkerQuestion="public_symbols_map-marker-question",e.PublicSymbolsMapMarkerSmile="public_symbols_map-marker-smile",e.PublicSymbolsMars="public_symbols_mars",e.PublicSymbolsMoon="public_symbols_moon",e.PublicSymbolsOctagon="public_symbols_octagon",e.PublicSymbolsPaperclip="public_symbols_paperclip",e.PublicSymbolsParkingCircle="public_symbols_parking-circle",e.PublicSymbolsParking="public_symbols_parking",e.PublicSymbolsPause="public_symbols_pause",e.PublicSymbolsPlay="public_symbols_play",e.PublicSymbolsQuestionCircle="public_symbols_question-circle",e.PublicSymbolsQuestionSquare="public_symbols_question-square",e.PublicSymbolsQuestion="public_symbols_question",e.PublicSymbolsRecycle="public_symbols_recycle",e.PublicSymbolsRedo="public_symbols_redo",e.PublicSymbolsShapes="public_symbols_shapes",e.PublicSymbolsShield="public_symbols_shield",e.PublicSymbolsSmokingBan="public_symbols_smoking-ban",e.PublicSymbolsSmoking="public_symbols_smoking",e.PublicSymbolsSpade="public_symbols_spade",e.PublicSymbolsSquare="public_symbols_square",e.PublicSymbolsStar="public_symbols_star",e.PublicSymbolsTachometer="public_symbols_tachometer",e.PublicSymbolsTag="public_symbols_tag",e.PublicSymbolsTemperatureDown="public_symbols_temperature-down",e.PublicSymbolsTemperatureFrigid="public_symbols_temperature-frigid",e.PublicSymbolsTemperatureHigh="public_symbols_temperature-high",e.PublicSymbolsTemperatureHot="public_symbols_temperature-hot",e.PublicSymbolsTemperatureLow="public_symbols_temperature-low",e.PublicSymbolsTemperatureUp="public_symbols_temperature-up",e.PublicSymbolsText="public_symbols_text",e.PublicSymbolsThermometerEmpty="public_symbols_thermometer-empty",e.PublicSymbolsThermometerFull="public_symbols_thermometer-full",e.PublicSymbolsThermometerHalf="public_symbols_thermometer-half",e.PublicSymbolsThermometerQuarter="public_symbols_thermometer-quarter",e.PublicSymbolsThermometerThreeQuarters="public_symbols_thermometer-three-quarters",e.PublicSymbolsThumbtack="public_symbols_thumbtack",e.PublicSymbolsTint="public_symbols_tint",e.PublicSymbolsTransgenderAlt="public_symbols_transgender-alt",e.PublicSymbolsTransgender="public_symbols_transgender",e.PublicSymbolsTrashAlt="public_symbols_trash-alt",e.PublicSymbolsTriangle="public_symbols_triangle",e.PublicSymbolsUsdCircle="public_symbols_usd-circle",e.PublicSymbolsUsdSquare="public_symbols_usd-square",e.PublicSymbolsVenusMars="public_symbols_venus-mars",e.PublicSymbolsVenus="public_symbols_venus",e.PublicSymbolsVideo="public_symbols_video",e.PublicSymbolsVolumeDown="public_symbols_volume-down",e.PublicSymbolsVolumeMute="public_symbols_volume-mute",e.PublicSymbolsVolumeOff="public_symbols_volume-off",e.PublicSymbolsVolumeSlash="public_symbols_volume-slash",e.PublicSymbolsVolumeUp="public_symbols_volume-up",e.PublicSymbolsVolume="public_symbols_volume",e.PublicSymbolsWater="public_symbols_water",e.PublicSymbolsWaveform="public_symbols_waveform",e.PublicSymbolsWifiSlash="public_symbols_wifi-slash",e.PublicSymbolsWifi="public_symbols_wifi",e.PublicSymbolsYenSign="public_symbols_yen-sign",e.Question="question",e.Redo="redo",e.Reorder="reorder",e.Reply="reply",e.Restart="restart",e.Revert="revert",e.Room_00258k0mqu8750du151be805c="room-00258k0mqu8750du151be805c",e.Room_0an2rky24gb91fdnpzmbwadib="room-0an2rky24gb91fdnpzmbwadib",e.Room_0gnuunpwx63dmmqeq64aqfiyd="room-0gnuunpwx63dmmqeq64aqfiyd",e.Room_2nx6maxxpaeut7kx96fuacdzc="room-2nx6maxxpaeut7kx96fuacdzc",e.Room_4by2d70b54srbin43t5m0yh9c="room-4by2d70b54srbin43t5m0yh9c",e.Room_4gp8x21ni4i8y19r9pm4rb35a="room-4gp8x21ni4i8y19r9pm4rb35a",e.Room_4qq4e5hz84hcur7ry87uhtmua="room-4qq4e5hz84hcur7ry87uhtmua",e.Room_66psa4tqgazbnffr9huy2dnpd="room-66psa4tqgazbnffr9huy2dnpd",e.Room_91naa1k3hiim9z4mk8352enta="room-91naa1k3hiim9z4mk8352enta",e.RoomA11d2gi43h0etwedw0mx9pgwd="room-a11d2gi43h0etwedw0mx9pgwd",e.RoomAg5uphha72sak65qazgsp09yd="room-ag5uphha72sak65qazgsp09yd",e.RoomByp7pz2tmt4ff47nhfx0uwzec="room-byp7pz2tmt4ff47nhfx0uwzec",e.RoomE6md2spaqemc448pmau3azkhd="room-e6md2spaqemc448pmau3azkhd",e.RoomEi3kmtun2xpspbg3d5ff3t3zc="room-ei3kmtun2xpspbg3d5ff3t3zc",e.RoomGba8cq0s2rdfg1zdb1epwty7d="room-gba8cq0s2rdfg1zdb1epwty7d",e.RoomGe0tcan3iztta5mtgsfx99xpb="room-ge0tcan3iztta5mtgsfx99xpb",e.RoomGqqw1zac1hzg1p8622ducg3zb="room-gqqw1zac1hzg1p8622ducg3zb",e.RoomIzt39gytcbymc0qtd37nrb7xb="room-izt39gytcbymc0qtd37nrb7xb",e.RoomMultiUse="room-multi-use",e.RoomMx6e2yfk0tg0zbkbzuw5mhkda="room-mx6e2yfk0tg0zbkbzuw5mhkda",e.RoomN07hhs9gky4cgrh7q65s9rp0d="room-n07hhs9gky4cgrh7q65s9rp0d",e.RoomNqw75004dcg2bcr41047rhg6c="room-nqw75004dcg2bcr41047rhg6c",e.RoomPnf0xzq61xcegack4iai7xppd="room-pnf0xzq61xcegack4iai7xppd",e.RoomPr9h4zy7eak91f3b7un97u42c="room-pr9h4zy7eak91f3b7un97u42c",e.RoomQa21tqcsinnxde9gdmiphacza="room-qa21tqcsinnxde9gdmiphacza",e.RoomRmu8pikcye0n7n9fsu5e4acda="room-rmu8pikcye0n7n9fsu5e4acda",e.RoomS1h0hb8tpcc9i35dmupknsega="room-s1h0hb8tpcc9i35dmupknsega",e.RoomUa1m0u8pm3yngrhzwec1ue5zc="room-ua1m0u8pm3yngrhzwec1ue5zc",e.RoomW4tdggk5i5u2zpiryugktghgb="room-w4tdggk5i5u2zpiryugktghgb",e.RoomXwhhz63a0hw735qf81knp63ha="room-xwhhz63a0hw735qf81knp63ha",e.RoomY3xuprmywgrprnm0273u3pphd="room-y3xuprmywgrprnm0273u3pphd",e.RoomYeh1aa32fwgm72bh0g92ebruc="room-yeh1aa32fwgm72bh0g92ebruc",e.RoomYwtddu9hagraxhznwinn8t4zb="room-ywtddu9hagraxhznwinn8t4zb",e.RoomZgh2304w5anu0t25ia06ytfxd="room-zgh2304w5anu0t25ia06ytfxd",e.RoomZp189tx2hdrry8k5nhaq5x45d="room-zp189tx2hdrry8k5nhaq5x45d",e.RotateLeft="rotate-left",e.RotateRight="rotate-right",e.Rotate="rotate",e.Rotation_3d="rotation-3d",e.Scale_3d="scale-3d",e.Settings="settings",e.Share="share",e.Share2="share2",e.SimpleTagPin="simple-tag-pin",e.SimpleTagSmall="simple-tag-small",e.SimpleTag="simple-tag",e.SnapAlignment="snap-alignment",e.Snap="snap",e.SparkleFill="sparkle-fill",e.StartLocation="start-location",e.StemHeight="stem-height",e.TapeMeasure="tape-measure",e.ThreePoint="three-point",e.TogglePencil="toggle-pencil",e.Toolbar_360View="toolbar-360-view",e.ToolbarEditVr="toolbar-edit-vr",e.ToolbarHlr="toolbar-hlr",e.ToolbarLabels="toolbar-labels",e.ToolbarMattertags="toolbar-mattertags",e.ToolbarMeasurements="toolbar-measurements",e.ToolbarMoreHoriz="toolbar-more-horiz",e.ToolbarPhotos="toolbar-photos",e.ToolbarPluginConfig="toolbar-plugin-config",e.ToolbarScanMgmt="toolbar-scan-mgmt",e.ToolbarStartLocation="toolbar-start-location",e.Transitions="transitions",e.Trash="trash",e.TrimKeep="trim-keep",e.TrimRemove="trim-remove",e.Twitter="twitter",e.Undo="undo",e.Unlock="unlock",e.User="user",e.Visibility="visibility",e.Vr="vr",e.Wall="wall",e.Window="window",e.ZoomReset="zoom-reset"}(n||(n={}));const s={[n.i360]:"61697",[n.AddLink]:"61698",[n.Arrow]:"61699",[n.Arrows]:"61700",[n.Attach]:"61701",[n.Back]:"61702",[n.Blocked]:"61703",[n.BlurOutline]:"61704",[n.BrushOutline]:"61705",[n.Checkmark]:"61706",[n.ChevronLeft]:"61707",[n.ChevronRight]:"61708",[n.Close]:"61709",[n.CommentLarge]:"57344",[n.CommentOutline]:"61710",[n.Comment]:"61711",[n.Delete]:"61712",[n.Dock]:"61713",[n.Dollhouse]:"61714",[n.Door]:"61715",[n.Download]:"61716",[n.DpadDown]:"61717",[n.DpadLeft]:"61718",[n.DpadRight]:"61719",[n.DpadUp]:"61720",[n.DragEdit]:"61721",[n.DrawLines]:"61722",[n.EditFloorplan]:"61723",[n.Email]:"61724",[n.Error]:"61725",[n.EscapeKey]:"61726",[n.Expand]:"61727",[n.ExtLink]:"61728",[n.EyeHide]:"61729",[n.EyeShow]:"61730",[n.Facebook]:"61731",[n.File]:"61732",[n.Filter]:"61733",[n.FingerDrag]:"61734",[n.FloorControlsAll]:"61735",[n.FloorControls]:"61736",[n.Floorplan]:"61737",[n.FullscreenExit]:"61738",[n.Fullscreen]:"61739",[n.Fullscreen2]:"61740",[n.FurnitureSlash]:"61741",[n.Furniture]:"61742",[n.GizmoArrowDown]:"61743",[n.GizmoArrowRight]:"61744",[n.GizmoEyeHide]:"61745",[n.GizmoEyeShow]:"61746",[n.GizmoGear]:"61747",[n.Help]:"61748",[n.HlrBadge]:"61749",[n.Hlr]:"61750",[n.Info]:"61751",[n.InvisibleWall]:"61752",[n.Keyboard]:"61753",[n.LayersAlt]:"61754",[n.Layers]:"61755",[n.Link]:"61756",[n.Linkedin]:"61757",[n.List]:"61758",[n.Location]:"61759",[n.Lock]:"61760",[n.Logo]:"61761",[n.MagnifyingGlass]:"61762",[n.MediaMix]:"61763",[n.MenuIndicator]:"61764",[n.MeshTrim]:"61765",[n.Mesh]:"61766",[n.Minus]:"61767",[n.ModelGroup]:"61768",[n.MoreVert]:"61769",[n.Move]:"61770",[n.Notes]:"61771",[n.ObjectAirDucts]:"61772",[n.ObjectBathtub]:"61773",[n.ObjectBed]:"61774",[n.ObjectCabinet]:"61775",[n.ObjectCeilingFan]:"61776",[n.ObjectChair]:"61777",[n.ObjectCountertop]:"61778",[n.ObjectDishwasher]:"61779",[n.ObjectDoorLock]:"61780",[n.ObjectDoor]:"61781",[n.ObjectFaucet]:"61782",[n.ObjectFireplace]:"61783",[n.ObjectGarageDoor]:"61784",[n.ObjectKitchenIsland]:"61785",[n.ObjectLight]:"61786",[n.ObjectMicrowave]:"61787",[n.ObjectMirror]:"61788",[n.ObjectOutlet]:"61789",[n.ObjectOven]:"61790",[n.ObjectRangeHood]:"61791",[n.ObjectRange]:"61792",[n.ObjectRefrigerator]:"61793",[n.ObjectShower]:"61794",[n.ObjectSink]:"61795",[n.ObjectSkylight]:"61796",[n.ObjectSmokeDetector]:"61797",[n.ObjectSofa]:"61798",[n.ObjectTable]:"61799",[n.ObjectTelevision]:"61800",[n.ObjectThermostat]:"61801",[n.ObjectToilet]:"61802",[n.ObjectTowelRack]:"61803",[n.ObjectVanity]:"61804",[n.ObjectWallSwitch]:"61805",[n.ObjectWasherDryer]:"61806",[n.ObjectWindow]:"61807",[n.Opening]:"61808",[n.PanoramaDisable]:"61809",[n.Panorama]:"61810",[n.PaperClip]:"61811",[n.PauseOutline]:"61812",[n.Pause]:"61813",[n.Photo_2d]:"61814",[n.Photo_360]:"61815",[n.PhotoAdd]:"61816",[n.Pin]:"61817",[n.Pinterest]:"61818",[n.PlayUnicode]:"61819",[n.Play]:"61820",[n.Plus]:"61821",[n.Position_3d]:"61822",[n.PressHold]:"61823",[n.PublicBuildingsApartment]:"61824",[n.PublicBuildingsArchway]:"61825",[n.PublicBuildingsBuildingCircleArrowRight]:"61826",[n.PublicBuildingsBuildingCircleCheck]:"61827",[n.PublicBuildingsBuildingCircleExclamation]:"61828",[n.PublicBuildingsBuildingCircleXmark]:"61829",[n.PublicBuildingsBuildingColumns]:"61830",[n.PublicBuildingsBuildingFlag]:"61831",[n.PublicBuildingsBuildingLock]:"61832",[n.PublicBuildingsBuildingShield]:"61833",[n.PublicBuildingsBuildingUser]:"61834",[n.PublicBuildingsBuildingWheat]:"61835",[n.PublicBuildingsBuilding]:"61836",[n.PublicBuildingsBuildings]:"61837",[n.PublicBuildingsCabin]:"61838",[n.PublicBuildingsCampground]:"61839",[n.PublicBuildingsCarBuilding]:"61840",[n.PublicBuildingsCastle]:"61841",[n.PublicBuildingsChimney]:"61842",[n.PublicBuildingsChurch]:"61843",[n.PublicBuildingsCity]:"61844",[n.PublicBuildingsFarm]:"61845",[n.PublicBuildingsFence]:"61846",[n.PublicBuildingsFerrisWheel]:"61847",[n.PublicBuildingsFort]:"61848",[n.PublicBuildingsGarage]:"61849",[n.PublicBuildingsHospital]:"61850",[n.PublicBuildingsHotel]:"61851",[n.PublicBuildingsHouseBuilding]:"61852",[n.PublicBuildingsHouseCrack]:"61853",[n.PublicBuildingsHouseDay]:"61854",[n.PublicBuildingsHouseFire]:"61855",[n.PublicBuildingsHouseFlag]:"61856",[n.PublicBuildingsHouseFloodWater]:"61857",[n.PublicBuildingsHouseHeart]:"61858",[n.PublicBuildingsHouseLock]:"61859",[n.PublicBuildingsHouseMedical]:"61860",[n.PublicBuildingsHouseNight]:"61861",[n.PublicBuildingsHouse]:"61862",[n.PublicBuildingsIndustry]:"61863",[n.PublicBuildingsLandmark]:"61864",[n.PublicBuildingsMonument]:"61865",[n.PublicBuildingsMosque]:"61866",[n.PublicBuildingsMountainCity]:"61867",[n.PublicBuildingsPlaceOfWorship]:"61868",[n.PublicBuildingsRollerCoaster]:"61869",[n.PublicBuildingsSchool]:"61870",[n.PublicBuildingsStore]:"61871",[n.PublicBuildingsSynagogue]:"61872",[n.PublicBuildingsTent]:"61873",[n.PublicBuildingsToilet]:"61874",[n.PublicBuildingsToriiGate]:"61875",[n.PublicBuildingsTowerObservation]:"61876",[n.PublicBuildingsTree]:"61877",[n.PublicBuildingsWarehouse]:"61878",[n.PublicCharacters_0]:"61879",[n.PublicCharacters_1]:"61880",[n.PublicCharacters_2]:"61881",[n.PublicCharacters_3]:"61882",[n.PublicCharacters_4]:"61883",[n.PublicCharacters_5]:"61884",[n.PublicCharacters_6]:"61885",[n.PublicCharacters_7]:"61886",[n.PublicCharacters_8]:"61887",[n.PublicCharacters_9]:"61888",[n.PublicCharactersA]:"61889",[n.PublicCharactersB]:"61890",[n.PublicCharactersC]:"61891",[n.PublicCharactersCircle_0]:"61892",[n.PublicCharactersCircle_1]:"61893",[n.PublicCharactersCircle_2]:"61894",[n.PublicCharactersCircle_3]:"61895",[n.PublicCharactersCircle_4]:"61896",[n.PublicCharactersCircle_5]:"61897",[n.PublicCharactersCircle_6]:"61898",[n.PublicCharactersCircle_7]:"61899",[n.PublicCharactersCircle_8]:"61900",[n.PublicCharactersCircle_9]:"61901",[n.PublicCharactersCircleA]:"61902",[n.PublicCharactersCircleB]:"61903",[n.PublicCharactersCircleC]:"61904",[n.PublicCharactersCircleD]:"61905",[n.PublicCharactersCircleE]:"61906",[n.PublicCharactersCircleF]:"61907",[n.PublicCharactersCircleG]:"61908",[n.PublicCharactersCircleH]:"61909",[n.PublicCharactersCircleI]:"61910",[n.PublicCharactersCircleJ]:"61911",[n.PublicCharactersCircleK]:"61912",[n.PublicCharactersCircleL]:"61913",[n.PublicCharactersCircleM]:"61914",[n.PublicCharactersCircleN]:"61915",[n.PublicCharactersCircleO]:"61916",[n.PublicCharactersCircleP]:"61917",[n.PublicCharactersCircleQ]:"61918",[n.PublicCharactersCircleR]:"61919",[n.PublicCharactersCircleS]:"61920",[n.PublicCharactersCircleT]:"61921",[n.PublicCharactersCircleU]:"61922",[n.PublicCharactersCircleV]:"61923",[n.PublicCharactersCircleW]:"61924",[n.PublicCharactersCircleX]:"61925",[n.PublicCharactersCircleY]:"61926",[n.PublicCharactersCircleZ]:"61927",[n.PublicCharactersD]:"61928",[n.PublicCharactersE]:"61929",[n.PublicCharactersF]:"61930",[n.PublicCharactersG]:"61931",[n.PublicCharactersH]:"61932",[n.PublicCharactersI]:"61933",[n.PublicCharactersJ]:"61934",[n.PublicCharactersK]:"61935",[n.PublicCharactersL]:"61936",[n.PublicCharactersM]:"61937",[n.PublicCharactersN]:"61938",[n.PublicCharactersO]:"61939",[n.PublicCharactersP]:"61940",[n.PublicCharactersQ]:"61941",[n.PublicCharactersR]:"61942",[n.PublicCharactersS]:"61943",[n.PublicCharactersSquare_0]:"61944",[n.PublicCharactersSquare_1]:"61945",[n.PublicCharactersSquare_2]:"61946",[n.PublicCharactersSquare_3]:"61947",[n.PublicCharactersSquare_4]:"61948",[n.PublicCharactersSquare_5]:"61949",[n.PublicCharactersSquare_6]:"61950",[n.PublicCharactersSquare_7]:"61951",[n.PublicCharactersSquare_8]:"61952",[n.PublicCharactersSquare_9]:"61953",[n.PublicCharactersSquareA]:"61954",[n.PublicCharactersSquareB]:"61955",[n.PublicCharactersSquareC]:"61956",[n.PublicCharactersSquareD]:"61957",[n.PublicCharactersSquareE]:"61958",[n.PublicCharactersSquareF]:"61959",[n.PublicCharactersSquareG]:"61960",[n.PublicCharactersSquareH]:"61961",[n.PublicCharactersSquareI]:"61962",[n.PublicCharactersSquareJ]:"61963",[n.PublicCharactersSquareK]:"61964",[n.PublicCharactersSquareL]:"61965",[n.PublicCharactersSquareM]:"61966",[n.PublicCharactersSquareN]:"61967",[n.PublicCharactersSquareO]:"61968",[n.PublicCharactersSquareP]:"61969",[n.PublicCharactersSquareQ]:"61970",[n.PublicCharactersSquareR]:"61971",[n.PublicCharactersSquareS]:"61972",[n.PublicCharactersSquareT]:"61973",[n.PublicCharactersSquareU]:"61974",[n.PublicCharactersSquareV]:"61975",[n.PublicCharactersSquareW]:"61976",[n.PublicCharactersSquareX]:"61977",[n.PublicCharactersSquareXmark]:"61978",[n.PublicCharactersSquareY]:"61979",[n.PublicCharactersSquareZ]:"61980",[n.PublicCharactersT]:"61981",[n.PublicCharactersU]:"61982",[n.PublicCharactersV]:"61983",[n.PublicCharactersW]:"61984",[n.PublicCharactersX]:"61985",[n.PublicCharactersY]:"61986",[n.PublicCharactersZ]:"61987",[n.PublicFurnitureBath]:"61988",[n.PublicFurnitureBedAlt]:"61989",[n.PublicFurnitureBedBunk]:"61990",[n.PublicFurnitureBedEmpty]:"61991",[n.PublicFurnitureBed]:"61992",[n.PublicFurnitureBlender]:"61993",[n.PublicFurnitureBlinds]:"61994",[n.PublicFurnitureCabinetFiling]:"61995",[n.PublicFurnitureCashRegister]:"61996",[n.PublicFurnitureChairOffice]:"61997",[n.PublicFurnitureChair]:"61998",[n.PublicFurnitureChargingStation]:"61999",[n.PublicFurnitureComputerClassic]:"62000",[n.PublicFurnitureComputerSpeaker]:"62001",[n.PublicFurnitureCouch]:"62002",[n.PublicFurnitureDryerAlt]:"62003",[n.PublicFurnitureDryer]:"62004",[n.PublicFurnitureDumbbell]:"62005",[n.PublicFurnitureDumpster]:"62006",[n.PublicFurnitureFaucet]:"62007",[n.PublicFurnitureFax]:"62008",[n.PublicFurnitureHotTub]:"62009",[n.PublicFurnitureInventory]:"62010",[n.PublicFurnitureLampDesk]:"62011",[n.PublicFurnitureLampFloor]:"62012",[n.PublicFurnitureLamp]:"62013",[n.PublicFurnitureLaptop]:"62014",[n.PublicFurnitureLightCeiling]:"62015",[n.PublicFurnitureLoveseat]:"62016",[n.PublicFurnitureMicrowave]:"62017",[n.PublicFurniturePiano]:"62018",[n.PublicFurniturePodium]:"62019",[n.PublicFurniturePresentation]:"62020",[n.PublicFurnitureProjector]:"62021",[n.PublicFurnitureRadio]:"62022",[n.PublicFurnitureRefrigerator]:"62023",[n.PublicFurnitureShower]:"62024",[n.PublicFurnitureShredder]:"62025",[n.PublicFurnitureSink]:"62026",[n.PublicFurnitureSolarPanel]:"62027",[n.PublicFurnitureSpeaker]:"62028",[n.PublicFurnitureSpeakers]:"62029",[n.PublicFurnitureToilet]:"62030",[n.PublicFurnitureTrashAlt]:"62031",[n.PublicFurnitureTurntable]:"62032",[n.PublicFurnitureTvRetro]:"62033",[n.PublicFurnitureTv]:"62034",[n.PublicFurnitureTypewriter]:"62035",[n.PublicObjectsAbacus]:"62036",[n.PublicObjectsAlarmClock]:"62037",[n.PublicObjectsAlbumCollection]:"62038",[n.PublicObjectsBackpack]:"62039",[n.PublicObjectsBagsShopping]:"62040",[n.PublicObjectsBell]:"62041",[n.PublicObjectsBicycle]:"62042",[n.PublicObjectsBinoculars]:"62043",[n.PublicObjectsBlanket]:"62044",[n.PublicObjectsBook]:"62045",[n.PublicObjectsBooks]:"62046",[n.PublicObjectsBoot]:"62047",[n.PublicObjectsBox]:"62048",[n.PublicObjectsBreadLoaf]:"62049",[n.PublicObjectsBriefcaseMedical]:"62050",[n.PublicObjectsBriefcase]:"62051",[n.PublicObjectsBroom]:"62052",[n.PublicObjectsBrush]:"62053",[n.PublicObjectsBullhorn]:"62054",[n.PublicObjectsBurgerSoda]:"62055",[n.PublicObjectsCalculator]:"62056",[n.PublicObjectsCalendar]:"62057",[n.PublicObjectsCamera]:"62058",[n.PublicObjectsCar]:"62059",[n.PublicObjectsCarrot]:"62060",[n.PublicObjectsCheeseSwiss]:"62061",[n.PublicObjectsChess]:"62062",[n.PublicObjectsClipboardCheck]:"62063",[n.PublicObjectsClipboardList]:"62064",[n.PublicObjectsClipboard]:"62065",[n.PublicObjectsCoffeePot]:"62066",[n.PublicObjectsCompass]:"62067",[n.PublicObjectsCookie]:"62068",[n.PublicObjectsCorn]:"62069",[n.PublicObjectsCroissant]:"62070",[n.PublicObjectsDice]:"62071",[n.PublicObjectsDrumstick]:"62072",[n.PublicObjectsEgg]:"62073",[n.PublicObjectsFish]:"62074",[n.PublicObjectsFlask]:"62075",[n.PublicObjectsFlowerTulip]:"62076",[n.PublicObjectsGamepad]:"62077",[n.PublicObjectsGem]:"62078",[n.PublicObjectsGift]:"62079",[n.PublicObjectsGifts]:"62080",[n.PublicObjectsGlassCitrus]:"62081",[n.PublicObjectsGlass]:"62082",[n.PublicObjectsGlasses]:"62083",[n.PublicObjectsGlobeStand]:"62084",[n.PublicObjectsGraduationCap]:"62085",[n.PublicObjectsGuitar]:"62086",[n.PublicObjectsHammer]:"62087",[n.PublicObjectsHatChef]:"62088",[n.PublicObjectsIceCream]:"62089",[n.PublicObjectsIceSkate]:"62090",[n.PublicObjectsKey]:"62091",[n.PublicObjectsKnifeKitchen]:"62092",[n.PublicObjectsLightbulbOn]:"62093",[n.PublicObjectsLightbulbSlash]:"62094",[n.PublicObjectsLightbulb]:"62095",[n.PublicObjectsMagnet]:"62096",[n.PublicObjectsMailbox]:"62097",[n.PublicObjectsMap]:"62098",[n.PublicObjectsMeat]:"62099",[n.PublicObjectsMedal]:"62100",[n.PublicObjectsMicrophone]:"62101",[n.PublicObjectsMobile]:"62102",[n.PublicObjectsMoneyBillWave]:"62103",[n.PublicObjectsMugTea]:"62104",[n.PublicObjectsMug]:"62105",[n.PublicObjectsNewspaper]:"62106",[n.PublicObjectsPaintRoller]:"62107",[n.PublicObjectsPalette]:"62108",[n.PublicObjectsPen]:"62109",[n.PublicObjectsPhone]:"62110",[n.PublicObjectsPizzaSlice]:"62111",[n.PublicObjectsPumpSoap]:"62112",[n.PublicObjectsRulerTriangle]:"62113",[n.PublicObjectsRuler]:"62114",[n.PublicObjectsSalad]:"62115",[n.PublicObjectsSandwich]:"62116",[n.PublicObjectsShovel]:"62117",[n.PublicObjectsSteak]:"62118",[n.PublicObjectsSunglasses]:"62119",[n.PublicObjectsTurkey]:"62120",[n.PublicObjectsUtensils]:"62121",[n.PublicObjectsVial]:"62122",[n.PublicObjectsWallet]:"62123",[n.PublicObjectsWrench]:"62124",[n.PublicPeopleBaby]:"62125",[n.PublicPeopleChildDress]:"62126",[n.PublicPeopleChildReaching]:"62127",[n.PublicPeopleChild]:"62128",[n.PublicPeopleChildren]:"62129",[n.PublicPeopleCircleUser]:"62130",[n.PublicPeopleClipboardUser]:"62131",[n.PublicPeopleFaceAngry]:"62132",[n.PublicPeopleFaceAnguished]:"62133",[n.PublicPeopleFaceAstonished]:"62134",[n.PublicPeopleFaceBeamHandOverMouth]:"62135",[n.PublicPeopleFaceConfounded]:"62136",[n.PublicPeopleFaceConfused]:"62137",[n.PublicPeopleFaceDiagonalMouth]:"62138",[n.PublicPeopleFaceDisappointed]:"62139",[n.PublicPeopleFaceDizzy]:"62140",[n.PublicPeopleFaceExpressionless]:"62141",[n.PublicPeopleFaceEyesXmarks]:"62142",[n.PublicPeopleFaceFearful]:"62143",[n.PublicPeopleFaceFrownSlight]:"62144",[n.PublicPeopleFaceFrown]:"62145",[n.PublicPeopleFaceGlasses]:"62146",[n.PublicPeopleFaceGrimace]:"62147",[n.PublicPeopleFaceGrinBeamSweat]:"62148",[n.PublicPeopleFaceGrinBeam]:"62149",[n.PublicPeopleFaceGrinHearts]:"62150",[n.PublicPeopleFaceGrinSquintTears]:"62151",[n.PublicPeopleFaceGrinSquint]:"62152",[n.PublicPeopleFaceGrinStars]:"62153",[n.PublicPeopleFaceGrinTears]:"62154",[n.PublicPeopleFaceGrinTongueSquint]:"62155",[n.PublicPeopleFaceGrinTongueWink]:"62156",[n.PublicPeopleFaceGrinTongue]:"62157",[n.PublicPeopleFaceGrinWide]:"62158",[n.PublicPeopleFaceGrinWink]:"62159",[n.PublicPeopleFaceGrin]:"62160",[n.PublicPeopleFaceHandOverMouth]:"62161",[n.PublicPeopleFaceHushed]:"62162",[n.PublicPeopleFaceIcicles]:"62163",[n.PublicPeopleFaceKiss]:"62164",[n.PublicPeopleFaceLaugh]:"62165",[n.PublicPeopleFaceMask]:"62166",[n.PublicPeopleFaceMehBlank]:"62167",[n.PublicPeopleFaceMeh]:"62168",[n.PublicPeopleFaceMonocle]:"62169",[n.PublicPeopleFaceNauseated]:"62170",[n.PublicPeopleFaceParty]:"62171",[n.PublicPeopleFacePensive]:"62172",[n.PublicPeopleFacePersevering]:"62173",[n.PublicPeopleFacePleading]:"62174",[n.PublicPeopleFacePouting]:"62175",[n.PublicPeopleFaceRaisedEyebrow]:"62176",[n.PublicPeopleFaceRelieved]:"62177",[n.PublicPeopleFaceRollingEyes]:"62178",[n.PublicPeopleFaceSadCry]:"62179",[n.PublicPeopleFaceSadSweat]:"62180",[n.PublicPeopleFaceSadTear]:"62181",[n.PublicPeopleFaceScream]:"62182",[n.PublicPeopleFaceSleeping]:"62183",[n.PublicPeopleFaceSleepy]:"62184",[n.PublicPeopleFaceSmileBeam]:"62185",[n.PublicPeopleFaceSmileHalo]:"62186",[n.PublicPeopleFaceSmileHearts]:"62187",[n.PublicPeopleFaceSmileRelaxed]:"62188",[n.PublicPeopleFaceSmileUpsideDown]:"62189",[n.PublicPeopleFaceSmileWink]:"62190",[n.PublicPeopleFaceSmile]:"62191",[n.PublicPeopleFaceSmirking]:"62192",[n.PublicPeopleFaceSpiralEyes]:"62193",[n.PublicPeopleFaceSunglasses]:"62194",[n.PublicPeopleFaceSurprise]:"62195",[n.PublicPeopleFaceThermometer]:"62196",[n.PublicPeopleFaceThinking]:"62197",[n.PublicPeopleFaceTired]:"62198",[n.PublicPeopleFaceTissue]:"62199",[n.PublicPeopleFaceUnamused]:"62200",[n.PublicPeopleFaceVomit]:"62201",[n.PublicPeopleFaceWeary]:"62202",[n.PublicPeopleFaceWoozy]:"62203",[n.PublicPeopleFaceWorried]:"62204",[n.PublicPeopleFaceZipper]:"62205",[n.PublicPeopleFamilyDress]:"62206",[n.PublicPeopleFamilyPants]:"62207",[n.PublicPeopleFamily]:"62208",[n.PublicPeopleFileUser]:"62209",[n.PublicPeopleFolderUser]:"62210",[n.PublicPeopleHeadSideBrain]:"62211",[n.PublicPeopleHeadSideCoughSlash]:"62212",[n.PublicPeopleHeadSideCough]:"62213",[n.PublicPeopleHeadSideGoggles]:"62214",[n.PublicPeopleHeadSideHeadphones]:"62215",[n.PublicPeopleHeadSideHeart]:"62216",[n.PublicPeopleHeadSideMask]:"62217",[n.PublicPeopleHeadSideMedical]:"62218",[n.PublicPeopleHeadSideVirus]:"62219",[n.PublicPeopleHeadSide]:"62220",[n.PublicPeoplePeople]:"62221",[n.PublicPeoplePersonBiking]:"62222",[n.PublicPeoplePersonBooth]:"62223",[n.PublicPeoplePersonBreastfeeding]:"62224",[n.PublicPeoplePersonCane]:"62225",[n.PublicPeoplePersonCarryBox]:"62226",[n.PublicPeoplePersonDigging]:"62227",[n.PublicPeoplePersonDollyEmpty]:"62228",[n.PublicPeoplePersonDolly]:"62229",[n.PublicPeoplePersonDress]:"62230",[n.PublicPeoplePersonDrowning]:"62231",[n.PublicPeoplePersonFalling]:"62232",[n.PublicPeoplePersonHalfDress]:"62233",[n.PublicPeoplePersonHiking]:"62234",[n.PublicPeoplePersonMilitaryPointing]:"62235",[n.PublicPeoplePersonPinball]:"62236",[n.PublicPeoplePersonPraying]:"62237",[n.PublicPeoplePersonPregnant]:"62238",[n.PublicPeoplePersonRunning]:"62239",[n.PublicPeoplePersonSeatReclined]:"62240",[n.PublicPeoplePersonSeat]:"62241",[n.PublicPeoplePersonShelter]:"62242",[n.PublicPeoplePersonSkating]:"62243",[n.PublicPeoplePersonSkiing]:"62244",[n.PublicPeoplePersonSwimming]:"62245",[n.PublicPeoplePersonToDoor]:"62246",[n.PublicPeoplePersonWalkingLuggage]:"62247",[n.PublicPeoplePersonWalkingWithCane]:"62248",[n.PublicPeoplePersonWalking]:"62249",[n.PublicPeoplePerson]:"62250",[n.PublicPeopleRestroom]:"62251",[n.PublicPeopleSquareUser]:"62252",[n.PublicPeopleStreetView]:"62253",[n.PublicPeopleUserAstronaut]:"62254",[n.PublicPeopleUserCheck]:"62255",[n.PublicPeopleUserChef]:"62256",[n.PublicPeopleUserClock]:"62257",[n.PublicPeopleUserCowboy]:"62258",[n.PublicPeopleUserCrown]:"62259",[n.PublicPeopleUserDoctor]:"62260",[n.PublicPeopleUserGear]:"62261",[n.PublicPeopleUserGraduate]:"62262",[n.PublicPeopleUserGroup]:"62263",[n.PublicPeopleUserHeadset]:"62264",[n.PublicPeopleUserHelmetSafety]:"62265",[n.PublicPeopleUserInjured]:"62266",[n.PublicPeopleUserLarge]:"62267",[n.PublicPeopleUserLock]:"62268",[n.PublicPeopleUserMinus]:"62269",[n.PublicPeopleUserMusic]:"62270",[n.PublicPeopleUserNurse]:"62271",[n.PublicPeopleUserPen]:"62272",[n.PublicPeopleUserPilot]:"62273",[n.PublicPeopleUserPlus]:"62274",[n.PublicPeopleUserPolice]:"62275",[n.PublicPeopleUserShield]:"62276",[n.PublicPeopleUserSlash]:"62277",[n.PublicPeopleUserUnlock]:"62278",[n.PublicPeopleUser]:"62279",[n.PublicPeopleUsers]:"62280",[n.PublicPeopleWheelchair]:"62281",[n.PublicSymbolsArrowAltCircleDown]:"62282",[n.PublicSymbolsArrowAltCircleLeft]:"62283",[n.PublicSymbolsArrowAltCircleRight]:"62284",[n.PublicSymbolsArrowAltCircleUp]:"62285",[n.PublicSymbolsArrowAltDown]:"62286",[n.PublicSymbolsArrowAltLeft]:"62287",[n.PublicSymbolsArrowAltRight]:"62288",[n.PublicSymbolsArrowAltUp]:"62289",[n.PublicSymbolsAward]:"62290",[n.PublicSymbolsBadgeCheck]:"62291",[n.PublicSymbolsBadgeDollar]:"62292",[n.PublicSymbolsBadge]:"62293",[n.PublicSymbolsBan]:"62294",[n.PublicSymbolsBell]:"62295",[n.PublicSymbolsBoltSlash]:"62296",[n.PublicSymbolsBolt]:"62297",[n.PublicSymbolsBookmark]:"62298",[n.PublicSymbolsCheckCircle]:"62299",[n.PublicSymbolsCheck]:"62300",[n.PublicSymbolsCircle]:"62301",[n.PublicSymbolsClock]:"62302",[n.PublicSymbolsClub]:"62303",[n.PublicSymbolsCube]:"62304",[n.PublicSymbolsCubes]:"62305",[n.PublicSymbolsDeaf]:"62306",[n.PublicSymbolsDiamond]:"62307",[n.PublicSymbolsDollarSign]:"62308",[n.PublicSymbolsExclamationCircle]:"62309",[n.PublicSymbolsExclamationSquare]:"62310",[n.PublicSymbolsExclamationTriangle]:"62311",[n.PublicSymbolsExclamation]:"62312",[n.PublicSymbolsEyeSlash]:"62313",[n.PublicSymbolsEye]:"62314",[n.PublicSymbolsFile]:"62315",[n.PublicSymbolsFingerprint]:"62316",[n.PublicSymbolsFireAlt]:"62317",[n.PublicSymbolsFlagAlt]:"62318",[n.PublicSymbolsFolder]:"62319",[n.PublicSymbolsGenderless]:"62320",[n.PublicSymbolsHeart]:"62321",[n.PublicSymbolsHexagon]:"62322",[n.PublicSymbolsHourglass]:"62323",[n.PublicSymbolsImage]:"62324",[n.PublicSymbolsInfoCircle]:"62325",[n.PublicSymbolsInfoSquare]:"62326",[n.PublicSymbolsLayerGroup]:"62327",[n.PublicSymbolsLink]:"62328",[n.PublicSymbolsLocationArrow]:"62329",[n.PublicSymbolsLockOpen]:"62330",[n.PublicSymbolsLock]:"62331",[n.PublicSymbolsMapMarkerAlt]:"62332",[n.PublicSymbolsMapMarkerCheck]:"62333",[n.PublicSymbolsMapMarkerExclamation]:"62334",[n.PublicSymbolsMapMarkerMinus]:"62335",[n.PublicSymbolsMapMarkerPlus]:"62336",[n.PublicSymbolsMapMarkerQuestion]:"62337",[n.PublicSymbolsMapMarkerSmile]:"62338",[n.PublicSymbolsMars]:"62339",[n.PublicSymbolsMoon]:"62340",[n.PublicSymbolsOctagon]:"62341",[n.PublicSymbolsPaperclip]:"62342",[n.PublicSymbolsParkingCircle]:"62343",[n.PublicSymbolsParking]:"62344",[n.PublicSymbolsPause]:"62345",[n.PublicSymbolsPlay]:"62346",[n.PublicSymbolsQuestionCircle]:"62347",[n.PublicSymbolsQuestionSquare]:"62348",[n.PublicSymbolsQuestion]:"62349",[n.PublicSymbolsRecycle]:"62350",[n.PublicSymbolsRedo]:"62351",[n.PublicSymbolsShapes]:"62352",[n.PublicSymbolsShield]:"62353",[n.PublicSymbolsSmokingBan]:"62354",[n.PublicSymbolsSmoking]:"62355",[n.PublicSymbolsSpade]:"62356",[n.PublicSymbolsSquare]:"62357",[n.PublicSymbolsStar]:"62358",[n.PublicSymbolsTachometer]:"62359",[n.PublicSymbolsTag]:"62360",[n.PublicSymbolsTemperatureDown]:"62361",[n.PublicSymbolsTemperatureFrigid]:"62362",[n.PublicSymbolsTemperatureHigh]:"62363",[n.PublicSymbolsTemperatureHot]:"62364",[n.PublicSymbolsTemperatureLow]:"62365",[n.PublicSymbolsTemperatureUp]:"62366",[n.PublicSymbolsText]:"62367",[n.PublicSymbolsThermometerEmpty]:"62368",[n.PublicSymbolsThermometerFull]:"62369",[n.PublicSymbolsThermometerHalf]:"62370",[n.PublicSymbolsThermometerQuarter]:"62371",[n.PublicSymbolsThermometerThreeQuarters]:"62372",[n.PublicSymbolsThumbtack]:"62373",[n.PublicSymbolsTint]:"62374",[n.PublicSymbolsTransgenderAlt]:"62375",[n.PublicSymbolsTransgender]:"62376",[n.PublicSymbolsTrashAlt]:"62377",[n.PublicSymbolsTriangle]:"62378",[n.PublicSymbolsUsdCircle]:"62379",[n.PublicSymbolsUsdSquare]:"62380",[n.PublicSymbolsVenusMars]:"62381",[n.PublicSymbolsVenus]:"62382",[n.PublicSymbolsVideo]:"62383",[n.PublicSymbolsVolumeDown]:"62384",[n.PublicSymbolsVolumeMute]:"62385",[n.PublicSymbolsVolumeOff]:"62386",[n.PublicSymbolsVolumeSlash]:"62387",[n.PublicSymbolsVolumeUp]:"62388",[n.PublicSymbolsVolume]:"62389",[n.PublicSymbolsWater]:"62390",[n.PublicSymbolsWaveform]:"62391",[n.PublicSymbolsWifiSlash]:"62392",[n.PublicSymbolsWifi]:"62393",[n.PublicSymbolsYenSign]:"62394",[n.Question]:"62395",[n.Redo]:"62396",[n.Reorder]:"62397",[n.Reply]:"62398",[n.Restart]:"62399",[n.Revert]:"62400",[n.Room_00258k0mqu8750du151be805c]:"62401",[n.Room_0an2rky24gb91fdnpzmbwadib]:"62402",[n.Room_0gnuunpwx63dmmqeq64aqfiyd]:"62403",[n.Room_2nx6maxxpaeut7kx96fuacdzc]:"62404",[n.Room_4by2d70b54srbin43t5m0yh9c]:"62405",[n.Room_4gp8x21ni4i8y19r9pm4rb35a]:"62406",[n.Room_4qq4e5hz84hcur7ry87uhtmua]:"62407",[n.Room_66psa4tqgazbnffr9huy2dnpd]:"62408",[n.Room_91naa1k3hiim9z4mk8352enta]:"62409",[n.RoomA11d2gi43h0etwedw0mx9pgwd]:"62410",[n.RoomAg5uphha72sak65qazgsp09yd]:"62411",[n.RoomByp7pz2tmt4ff47nhfx0uwzec]:"62412",[n.RoomE6md2spaqemc448pmau3azkhd]:"62413",[n.RoomEi3kmtun2xpspbg3d5ff3t3zc]:"62414",[n.RoomGba8cq0s2rdfg1zdb1epwty7d]:"62415",[n.RoomGe0tcan3iztta5mtgsfx99xpb]:"62416",[n.RoomGqqw1zac1hzg1p8622ducg3zb]:"62417",[n.RoomIzt39gytcbymc0qtd37nrb7xb]:"62418",[n.RoomMultiUse]:"62419",[n.RoomMx6e2yfk0tg0zbkbzuw5mhkda]:"62420",[n.RoomN07hhs9gky4cgrh7q65s9rp0d]:"62421",[n.RoomNqw75004dcg2bcr41047rhg6c]:"62422",[n.RoomPnf0xzq61xcegack4iai7xppd]:"62423",[n.RoomPr9h4zy7eak91f3b7un97u42c]:"62424",[n.RoomQa21tqcsinnxde9gdmiphacza]:"62425",[n.RoomRmu8pikcye0n7n9fsu5e4acda]:"62426",[n.RoomS1h0hb8tpcc9i35dmupknsega]:"62427",[n.RoomUa1m0u8pm3yngrhzwec1ue5zc]:"62428",[n.RoomW4tdggk5i5u2zpiryugktghgb]:"62429",[n.RoomXwhhz63a0hw735qf81knp63ha]:"62430",[n.RoomY3xuprmywgrprnm0273u3pphd]:"62431",[n.RoomYeh1aa32fwgm72bh0g92ebruc]:"62432",[n.RoomYwtddu9hagraxhznwinn8t4zb]:"62433",[n.RoomZgh2304w5anu0t25ia06ytfxd]:"62434",[n.RoomZp189tx2hdrry8k5nhaq5x45d]:"62435",[n.RotateLeft]:"62436",[n.RotateRight]:"62437",[n.Rotate]:"62438",[n.Rotation_3d]:"62439",[n.Scale_3d]:"62440",[n.Settings]:"62441",[n.Share]:"62442",[n.Share2]:"62443",[n.SimpleTagPin]:"62444",[n.SimpleTagSmall]:"62445",[n.SimpleTag]:"62446",[n.SnapAlignment]:"62447",[n.Snap]:"62448",[n.SparkleFill]:"62449",[n.StartLocation]:"62450",[n.StemHeight]:"62451",[n.TapeMeasure]:"62452",[n.ThreePoint]:"62453",[n.TogglePencil]:"62454",[n.Toolbar_360View]:"62455",[n.ToolbarEditVr]:"62456",[n.ToolbarHlr]:"62457",[n.ToolbarLabels]:"62458",[n.ToolbarMattertags]:"62459",[n.ToolbarMeasurements]:"62460",[n.ToolbarMoreHoriz]:"62461",[n.ToolbarPhotos]:"62462",[n.ToolbarPluginConfig]:"62463",[n.ToolbarScanMgmt]:"62464",[n.ToolbarStartLocation]:"62465",[n.Transitions]:"62466",[n.Trash]:"62467",[n.TrimKeep]:"62468",[n.TrimRemove]:"62469",[n.Twitter]:"62470",[n.Undo]:"62471",[n.Unlock]:"62472",[n.User]:"62473",[n.Visibility]:"62474",[n.Vr]:"62475",[n.Wall]:"62476",[n.Window]:"62477",[n.ZoomReset]:"62478"}},16896:(e,t,i)=>{"use strict";i.d(t,{g:()=>s});var n=i(26203);const s=Object.keys(n.f).sort(((e,t)=>e.localeCompare(t)))},80308:(e,t,i)=>{"use strict";i.d(t,{UQ:()=>p,_m:()=>v,Vr:()=>O,zx:()=>m.zx,hE:()=>T,xz:()=>L,qE:()=>m.qE,Wu:()=>m.Wu,XZ:()=>D,Vq:()=>R,gQ:()=>M,JO:()=>k.I,Jh:()=>k.J,w0:()=>C,HC:()=>x,oi:()=>Te,no:()=>Ue,u:()=>_e.u});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r);const o=(0,s.createContext)({intersectionRef:null,GroupRenderer:()=>null,ItemRenderer:()=>null,itemRendererProps:{},toggleGroup:()=>{},isCollapsed:()=>!1,collapsible:!0,ariaExpandLabel:"",ariaCollapseLabel:""});function l({item:e,itemHeight:t,renderItem:i,renderItemProps:s={}}){const r=i;return(0,n.jsx)("div",Object.assign({className:"mp-nova-vlist-item",style:{height:t}},{children:(0,n.jsx)(r,Object.assign({item:e},s))}))}function c({items:e,itemHeight:t,intersectionRef:i,renderItem:r,itemKeyProp:a,renderItemProps:o,forceRender:c}){const d=(0,s.useRef)(null),[u,h]=(0,s.useState)(!1);(0,s.useEffect)((()=>{if(!d.current||!i)return;const e=new IntersectionObserver((e=>{h(e[0].isIntersecting)}),{root:i});return e.observe(d.current),()=>{e.disconnect()}}),[d,i]);const p=u||c;return(0,n.jsx)("div",Object.assign({className:"mp-nova-vlist-chunk",ref:d,style:{height:e.length*t}},{children:p&&e.map(((e,i)=>(0,n.jsx)(l,{index:i,item:e,itemHeight:t,renderItem:r,renderItemProps:o},function(e,t){return e[t]}(e,a))))}))}function d({items:e,chunkSize:t=50,itemHeight:i=40,itemKeyProp:r="id",renderItem:o,renderItemProps:l,intersectionRef:d,style:u,showItemWithIndex:h=-1}){const[p,m]=(0,s.useState)(null),f=(0,s.useCallback)((e=>{null!==e&&m(e)}),[]),g=[];for(let s=0;s<e.length;s+=t){const a=h>=s&&h<s+t;g.push((0,n.jsx)(c,{itemHeight:i,intersectionRef:d||p,renderItem:o,renderItemProps:l,items:e.slice(s,s+t),itemKeyProp:r,forceRender:a},s))}return(0,n.jsx)("div",Object.assign({className:a()("mp-nova-vlist",{"mp-nova-vlist-scrollable":!d}),ref:f,style:u},{children:(0,n.jsx)("div",Object.assign({className:"mp-nova-vlist-chunks"},{children:g}))}))}let u=0;function h({group:e,index:t,itemHeight:i,showItemWithIndex:r,active:l}){const{GroupRenderer:c,EmptyRenderer:h,ItemRenderer:p,itemRendererProps:m={},isCollapsed:f,intersectionRef:g}=(0,s.useContext)(o),v=(0,s.useRef)(null),y=(0,s.useMemo)((()=>(u++,`${"AccordionPanel"}-${u}`)),[]),E=f(e.id);let b,S={};e.items.length>0?(S={height:E?"0":e.items.length*i+"px"},b=(0,n.jsx)(d,{intersectionRef:g,renderItem:p,renderItemProps:m,items:e.items,itemHeight:i,showItemWithIndex:r})):(S={height:E?"0":`${i}px`},b=h?(0,n.jsx)(h,{group:e}):(0,n.jsx)(p,Object.assign({item:null},m)));const O=a()("mp-nova-accordion-panel",{active:l,collapsed:E});return(0,n.jsxs)("section",Object.assign({role:"region",className:O,"aria-labelledby":y},{children:[(0,n.jsx)("div",Object.assign({id:y},{children:(0,n.jsx)(c,{group:e})})),(0,n.jsx)("div",Object.assign({className:"mp-accordion-panel-contents",style:S,ref:v},{children:b}))]}))}const p=(0,s.forwardRef)((({className:e,data:t,itemHeight:i,renderEmpty:r,renderGroup:l,renderItem:c,renderItemProps:d,activeGroupId:u,collapsedIds:p={},collapseEmptyGroups:m=!1,onToggleCollapse:f,preventCollapsing:g,ariaExpandLabel:v,ariaCollapseLabel:y},E)=>{const b=(0,s.useRef)(null),[S,O]=(0,s.useState)(-1),[T,_]=(0,s.useState)(null);const N=(0,s.useCallback)((e=>void 0!==p[e]?p[e]:m&&function(e){const i=t.find((t=>t.id===e));return!!i&&0===i.items.length}(e)),[p,m,t]);(0,s.useImperativeHandle)(E,(()=>({focusGroupItem:(e,t)=>{N(e)&&w(e),_(e),O(t)},scrollIntoView:e=>{if(b.current){const t=b.current.querySelector(e);if(t)return t.scrollIntoView({behavior:"smooth",block:"center"}),!0}return!1}})),[b.current]);const w=e=>{if(f){const t=!N(e);f(e,t)}},A=b.current?b.current.parentNode:null,I=a()("mp-nova-accordion",e);return(0,n.jsx)("div",Object.assign({className:I,ref:b},{children:(0,n.jsx)(o.Provider,Object.assign({value:{intersectionRef:A,GroupRenderer:l,EmptyRenderer:r,ItemRenderer:c,itemRendererProps:d,toggleGroup:w,isCollapsed:N,collapsible:!g,ariaExpandLabel:v,ariaCollapseLabel:y}},{children:t.map(((e,t)=>(0,n.jsx)(h,{itemHeight:i,index:t,group:e,active:e.id===u,showItemWithIndex:e.id===T?S:-1},e.id)))}))}))}));var m=i(98918);function f({collapsed:e,onClick:t,style:i,ariaLabel:s}){const r=a()("mp-nova-accordion-toggle",{collapsed:e});return(0,n.jsx)(m.zx,{className:r,icon:"dpad-up",onClick:t,style:i,ariaLabel:s})}var g=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};function v(e){var{actions:t,className:i,onClick:r}=e,l=g(e,["actions","className","onClick"]);const{toggleGroup:c,isCollapsed:d,collapsible:u,ariaExpandLabel:h,ariaCollapseLabel:p}=(0,s.useContext)(o),{id:m}=l,v=d(m)&&u,y=v?h:p,E=a()("mp-nova-accordion-header",i,{collapsed:v,collapsible:u}),b=(0,n.jsxs)(T,{children:[t,u&&(0,n.jsx)(f,{collapsed:v,onClick:e=>{e.stopPropagation(),c(m)},ariaLabel:y})]});return(0,n.jsx)(x,Object.assign({},l,{className:E,onClick:()=>{let e=!1;r&&(e=r(v)),u&&!e&&c(m)},actions:b,variant:"header"}))}const y="_1dvwLjLEqO5jnr5QV6jQLd",E="_2Uy7qbQEi-pnztt6CrNMMI",b="_138eeo-fRTYvvjBixACJ3d",S="_3iiCLwxCBwUuZjI_tSgdKB";function O({alt:e,className:t,name:r,theme:o="light",size:l="160",geometry:c="standard"}){const{isLoading:d,svgUrl:u}=(({name:e,theme:t,geometry:n})=>{const[r,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(void 0);return(0,s.useEffect)((()=>{(async()=>{a(!0),await i.e(782).then(i.bind(i,97111)).then((e=>{l((()=>e.getImageUrl))})).finally((()=>{a(!1)}))})()}),[]),{isLoading:r,svgUrl:null==o?void 0:o(e,t,n)}})({name:r,theme:o,geometry:c}),h=null!=e?e:null==r?void 0:r.replace("-"," ");return(0,n.jsx)("span",Object.assign({className:a()(y,{[b]:"160"===l,[S]:"200"===l},t)},{children:!d&&u&&(0,n.jsx)("img",{alt:h,className:E,"data-testid":`brandicon_${r}_${c}_${o}`,height:l,src:u,width:l})}))}i(78957);function T({children:e,spacing:t,className:i}){const s=a()("mp-nova-btn-group",i,{[`mp-nova-btn-group-${t}`]:void 0!==t});return(0,n.jsx)("div",Object.assign({className:s},{children:e}))}var _=i(73935),N=i(58997),w=i(77294),A=i(68424);const I=(0,s.forwardRef)((({target:e,isOpen:t,focus:i=!0,className:r,onClose:o,xOffset:l=0,yOffset:c,arrow:d=!1,placement:u="bottom-start",theme:h,children:p},m)=>{const[f,g]=(0,s.useState)(null),[v,y]=(0,s.useState)(null),{styles:E,attributes:b}=(0,w.D)(e,f,{placement:u,strategy:"fixed",modifiers:[{name:"arrow",options:{element:v,padding:4}},{name:"flip"},{name:"hide"},{name:"offset",options:{offset:c?[l,c]:[l,4]}}]}),S=(0,N.Z)(e);(0,s.useEffect)((()=>{i&&t&&f&&f.focus()}),[t,f,i]),(0,s.useEffect)((()=>{const i=t=>{var i;if(e&&f){const n=t.composedPath(),s=!n.includes(e),r=!n.includes(f);if(s&&r){t.srcElement&&(null===(i=f.nextElementSibling)||void 0===i?void 0:i.contains(t.srcElement))||o()}}};return t&&f?window.addEventListener("click",i,{capture:!0}):window.removeEventListener("click",i,{capture:!0}),()=>{window.removeEventListener("click",i,{capture:!0})}}),[f,e,t,o]);const O=(e,t)=>{var i;return(null===(i=e.props.className)||void 0===i?void 0:i.includes("mp-nova-menu-item"))?e:(0,n.jsx)("div",Object.assign({className:"mp-nova-menu-item"},{children:e}),`menu-item-${t}`)};if(!t||!p)return null;const T=[];Array.isArray(p)?s.Children.forEach(p,((e,t)=>{e&&T.push(O(e,t))})):T.push(O(p,0));const I=a()("mp-nova-menu",r,{[`mp-nova-${h}`]:void 0!==h}),k=b.popper?b.popper["data-popper-placement"]:void 0,P=(0,n.jsxs)("div",Object.assign({style:Object.assign({},E.popper)},b.popper,{ref:g,className:I,onClick:o,onKeyDown:e=>{switch(e.code){case"ArrowDown":case"ArrowUp":case"Tab":case"Enter":break;case"Escape":e.stopPropagation(),o()}},tabIndex:0},{children:[(0,n.jsx)("div",Object.assign({className:"mp-nova-menu-items"},{children:T})),d&&(0,n.jsx)(A.c,{ref:y,style:E.arrow,placement:k,size:"medium",theme:h})]}));return(0,_.createPortal)(P,S)}));var k=i(28676),P=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const L=(0,s.forwardRef)(((e,t)=>{var{className:i,buttonClassName:r,buttonDataAttribute:o,children:l,menuClassName:c,onClick:d,onMenuToggled:u,menuXOffset:h,menuYOffset:p,menuTheme:f,menuPlacement:g,menuArrow:v,menuDelayed:y=!1,label:E,active:b,icon:S,tooltip:O,caret:T=!1,indicator:_=!1,ariaLabel:N}=e,w=P(e,["className","buttonClassName","buttonDataAttribute","children","menuClassName","onClick","onMenuToggled","menuXOffset","menuYOffset","menuTheme","menuPlacement","menuArrow","menuDelayed","label","active","icon","tooltip","caret","indicator","ariaLabel"]);const A=(0,s.useRef)(null),[L,D]=(0,s.useState)(!1),[R,M]=(0,s.useState)(!1),C=(0,s.useRef)(0);function x(e){D(e),u&&u(e)}(0,s.useEffect)((()=>()=>{M(!1),window.clearTimeout(C.current)}),[]),(0,s.useImperativeHandle)(t,(()=>({closeMenu:()=>{x(!1)}})),[]);const F=(0,s.useCallback)((e=>{null==e||e.stopPropagation(),x(!1)}),[u]),U=void 0===E&&void 0!==S&&!T,H=S&&E,j=a()("mp-button-menu-button",r,{"mp-nova-btn-icon":U,"mp-nova-btn-multi":H,"mp-nova-menu-open":L}),V=T?L?"dpad-up":"dpad-down":void 0;return(0,n.jsxs)("div",Object.assign({className:a()("mp-nova-button-menu",i),ref:A},{children:[(0,n.jsxs)(m.zx,Object.assign({},w,{ariaLabel:N,ariaHasPopup:"menu",ariaExpanded:L,onClick:y?void 0:e=>{e.stopPropagation(),e.preventDefault(),d&&d(e),x(!L)},onPointerDown:y?e=>{M(!1),y&&!L&&(window.clearTimeout(C.current),C.current=window.setTimeout((()=>{C.current=0,M(!0),x(!0)}),250))}:void 0,onPointerUp:y?e=>{y&&(C.current&&!L?(window.clearTimeout(C.current),C.current=0,d&&d(e)):R||x(!L))}:void 0,className:j,dataAttribute:o,tooltip:L?void 0:O,active:b||L},{children:[S&&(0,n.jsx)(k.I,{name:S}),E&&(0,n.jsx)("span",Object.assign({className:"mp-nova-btn-label"},{children:E})),V&&(0,n.jsx)(k.I,{name:V}),_&&(0,n.jsx)(k.I,{className:"mp-nova-menu-indicator",name:"menu-indicator"})]})),(0,n.jsx)(I,Object.assign({target:A.current,isOpen:L,xOffset:h,yOffset:p,placement:g,arrow:v,theme:f,className:c,onClose:F},{children:l}))]}))}));function D({id:e,label:t,ariaLabel:i,className:r,defaultChecked:o=!1,disabled:l=!1,onChange:c,onClick:d}){const[u,h]=(0,s.useState)(!!o);(0,s.useEffect)((()=>{h(!!o)}),[o]);const p=a()(r,"mp-nova-checkbox",{"mp-nova-disabled":l},{"mp-nova-active":u});return(0,n.jsxs)("label",Object.assign({className:p,htmlFor:e,onClick:d},{children:[(0,n.jsx)("input",{className:"mp-nova-checkbox-input",id:e,type:"checkbox",role:"checkbox",tabIndex:l?void 0:0,disabled:l,checked:u,onChange:e=>{c&&c(e),h((e=>!e))},"aria-checked":u,"aria-disabled":l,"aria-label":i||t}),(0,n.jsx)("span",{className:"mp-nova-checkbox-checkmark"}),(0,n.jsx)("span",Object.assign({className:"mp-nova-checkbox-label"},{children:t}))]}))}function R({children:e,className:t,onClose:i,testId:r,theme:o="light"}){const l=(0,s.useRef)(null);(0,s.useEffect)((()=>(l.current&&l.current.focus(),()=>{})),[]);const c=e=>e.stopPropagation();const d=a()("mp-nova-dialog",t,{[`mp-nova-theme-${o}`]:void 0!==o});return(0,n.jsx)("dialog",Object.assign({className:d,ref:l,onClick:c,onPointerDown:c,onPointerUp:c,onKeyDown:function(e){i&&"Escape"===e.code&&(e.stopPropagation(),i())},"data-testid":r},{children:e}))}const M=({className:e="",itemHeight:t,message:i})=>{const s=a()("nova-empty-list-item",{[`${e}`]:!!e}),r={height:t||void 0};return(0,n.jsx)("div",Object.assign({className:s,style:r},{children:i&&(0,n.jsx)("p",Object.assign({className:"message"},{children:i}))}))};function C({className:e="",children:t}){const i=a()("mp-nova-list-controls",e);return(0,n.jsx)("div",Object.assign({className:i},{children:t}))}const x=(0,s.forwardRef)((({title:e,className:t,variant:i,actions:s,badge:r,decals:o,active:l=!1,selected:c=!1,disabled:d=!1,selectMode:u=!1,selectDisabled:h=!1,onSelect:p,id:m,onClick:f,onMouseEnter:g,onMouseLeave:v},y)=>{const E=a()("mp-nova-list-item",t,{[`mp-nova-list-item-${i}`]:void 0!==i,"mp-nova-disabled":d,"mp-nova-multi-select":u,interactive:!!f,selected:c,active:l});return(0,n.jsxs)("div",Object.assign({className:E,onClick:f,onMouseEnter:g,onMouseLeave:v,"data-id":m,ref:y},{children:[u&&(0,n.jsx)(D,{id:`mp-list-checkbox-${m}`,defaultChecked:c,onChange:p,onClick:e=>e.stopPropagation(),disabled:h}),r&&(0,n.jsx)("span",Object.assign({className:"mp-list-item-badge"},{children:r})),(0,n.jsxs)("span",Object.assign({className:"mp-list-item-title"},{children:[(0,n.jsx)("span",Object.assign({className:"mp-list-item-text"},{children:e})),o&&(0,n.jsx)("span",Object.assign({className:"mp-list-item-decals"},{children:o}))]})),s&&(0,n.jsx)("span",Object.assign({className:"mp-list-item-actions"},{children:s}))]}))}));"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;function F(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function U(e){return"nodeType"in e}function H(e){var t,i;return e?F(e)?e:U(e)&&null!=(t=null==(i=e.ownerDocument)?void 0:i.defaultView)?t:window:window}function j(e){return e?F(e)?e.document:U(e)?function(e){const{Document:t}=H(e);return e instanceof t}(e)?e:!F(t=e)&&t instanceof H(t).HTMLElement?e.ownerDocument:document:document:document;var t}function V(e){return(t,...i)=>i.reduce(((t,i)=>{const n=Object.entries(i);for(const[i,s]of n){const n=t[i];null!=n&&(t[i]=n+e*s)}return t}),{...t})}const B=V(1),G=V(-1);function W(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=H(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:i}=e.touches[0];return{x:t,y:i}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:i}=e.changedTouches[0];return{x:t,y:i}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}var z;!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(z||(z={}));Map;const K=Object.freeze({x:0,y:0});const Y={ignoreTransform:!1};function q(e,t=Y){let i=e.getBoundingClientRect();if(t.ignoreTransform){const{getComputedStyle:t}=H(e),{transform:n,transformOrigin:s}=t(e);n&&(i=function(e,t,i){let n,s,r,a,o;if(t.startsWith("matrix3d("))n=t.slice(9,-1).split(/, /),s=+n[0],r=+n[5],a=+n[12],o=+n[13];else{if(!t.startsWith("matrix("))return e;n=t.slice(7,-1).split(/, /),s=+n[0],r=+n[3],a=+n[4],o=+n[5]}const l=e.left-a-(1-s)*parseFloat(i),c=e.top-o-(1-r)*parseFloat(i.slice(i.indexOf(" ")+1)),d=s?e.width/s:e.width,u=r?e.height/r:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(i,n,s))}const{top:n,left:s,width:r,height:a,bottom:o,right:l}=i;return{top:n,left:s,width:r,height:a,bottom:o,right:l}}function $(e){return q(e,{ignoreTransform:!0})}var Z;function Q(e){const t={x:0,y:0},i={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=i.y,isRight:e.scrollLeft>=i.x,maxScroll:i,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Z||(Z={}));function X(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:i,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:i,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}var J,ee,te,ie;!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(J||(J={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(ee||(ee={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(te||(te={})),function(e){e.Optimized="optimized"}(ie||(ie={}));te.WhileDragging,ie.Optimized;class ne{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,i){var n;null==(n=this.target)||n.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function se(e,t){const i=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(i**2+n**2)>t:"x"in t&&"y"in t?i>t.x&&n>t.y:"x"in t?i>t.x:"y"in t&&n>t.y}var re,ae;function oe(e){e.preventDefault()}function le(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(re||(re={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(ae||(ae={}));const ce={start:[ae.Space,ae.Enter],cancel:[ae.Esc],end:[ae.Space,ae.Enter]},de=(e,{currentCoordinates:t})=>{switch(e.code){case ae.Right:return{...t,x:t.x+25};case ae.Left:return{...t,x:t.x-25};case ae.Down:return{...t,y:t.y+25};case ae.Up:return{...t,y:t.y-25}}};class ue{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.coordinates=K,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new ne(j(t)),this.windowListeners=new ne(H(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(re.Resize,this.handleCancel),this.windowListeners.add(re.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(re.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");const i=$(e.node.current),n={x:i.left,y:i.top};this.coordinates=n,t(n)}handleKeyDown(e){if(function(e){if(!e)return!1;const{KeyboardEvent:t}=H(e.target);return t&&e instanceof t}(e)){const{coordinates:t}=this,{active:i,context:n,options:s}=this.props,{keyboardCodes:r=ce,coordinateGetter:a=de,scrollBehavior:o="smooth"}=s,{code:l}=e;if(r.end.includes(l))return void this.handleEnd(e);if(r.cancel.includes(l))return void this.handleCancel(e);const c=a(e,{active:i,context:n.current,currentCoordinates:t});if(c){const i={x:0,y:0},{scrollableAncestors:s}=n.current;for(const n of s){const s=e.code,r=G(c,t),{isTop:a,isRight:l,isLeft:d,isBottom:u,maxScroll:h,minScroll:p}=Q(n),m=X(n),f={x:Math.min(s===ae.Right?m.right-m.width/2:m.right,Math.max(s===ae.Right?m.left:m.left+m.width/2,c.x)),y:Math.min(s===ae.Down?m.bottom-m.height/2:m.bottom,Math.max(s===ae.Down?m.top:m.top+m.height/2,c.y))},g=s===ae.Right&&!l||s===ae.Left&&!d,v=s===ae.Down&&!u||s===ae.Up&&!a;if(g&&f.x!==c.x){if(s===ae.Right&&n.scrollLeft+r.x<=h.x||s===ae.Left&&n.scrollLeft+r.x>=p.x)return void n.scrollBy({left:r.x,behavior:o});i.x=s===ae.Right?n.scrollLeft-h.x:n.scrollLeft-p.x,n.scrollBy({left:-i.x,behavior:o});break}if(v&&f.y!==c.y){if(s===ae.Down&&n.scrollTop+r.y<=h.y||s===ae.Up&&n.scrollTop+r.y>=p.y)return void n.scrollBy({top:r.y,behavior:o});i.y=s===ae.Down?n.scrollTop-h.y:n.scrollTop-p.y,n.scrollBy({top:-i.y,behavior:o});break}}this.handleMove(e,B(c,i))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t),this.coordinates=t}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function he(e){return Boolean(e&&"distance"in e)}function pe(e){return Boolean(e&&"delay"in e)}ue.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=ce,onActivation:i})=>{const{code:n}=e.nativeEvent;return!!t.start.includes(n)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}}];class me{constructor(e,t,i=function(e){const{EventTarget:t}=H(e);return e instanceof t?e:j(e)}(e.event.target)){var n;this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:r}=s;this.props=e,this.events=t,this.document=j(r),this.documentListeners=new ne(this.document),this.listeners=new ne(i),this.windowListeners=new ne(H(r)),this.initialCoordinates=null!=(n=W(s))?n:K,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(re.Resize,this.handleCancel),this.windowListeners.add(re.DragStart,oe),this.windowListeners.add(re.VisibilityChange,this.handleCancel),this.windowListeners.add(re.ContextMenu,oe),this.documentListeners.add(re.Keydown,this.handleKeydown),t){if(he(t))return;if(pe(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(re.Click,le,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(re.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:n,props:s}=this,{onMove:r,options:{activationConstraint:a}}=s;if(!n)return;const o=null!=(t=W(e))?t:K,l=G(n,o);if(!i&&a){if(pe(a))return se(l,a.tolerance)?this.handleCancel():void 0;if(he(a))return null!=a.tolerance&&se(l,a.tolerance)?this.handleCancel():se(l,a.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),r(o)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===ae.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const fe={move:{name:"pointermove"},end:{name:"pointerup"}};class ge extends me{constructor(e){const{event:t}=e,i=j(t.target);super(e,fe,i)}}ge.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!(!e.isPrimary||0!==e.button)&&(null==t||t({event:e}),!0)}];const ve={move:{name:"mousemove"},end:{name:"mouseup"}};var ye;!function(e){e[e.RightClick=2]="RightClick"}(ye||(ye={}));(class extends me{constructor(e){super(e,ve,j(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button!==ye.RightClick&&(null==t||t({event:e}),!0)}];const Ee={move:{name:"touchmove"},end:{name:"touchend"}};(class extends me{constructor(e){super(e,Ee)}static setup(){return window.addEventListener(Ee.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ee.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:i}=e;return!(i.length>1)&&(null==t||t({event:e}),!0)}}];ae.Down,ae.Right,ae.Up,ae.Left;const be=9,Se=13,Oe=27,Te=(0,s.forwardRef)((({text:e,name:t,label:i,type:r="text",readonly:o,autofocus:l,autocomplete:c="on",placeholder:d,className:u,maxLength:h,onInput:p,onBlur:m,onFocus:f,onKeyDown:g,onKeyUp:v,onReturn:y,onCancel:E,onPaste:b},S)=>{const O=(0,s.useRef)(null),[T,_]=(0,s.useState)(e),[N,w]=(0,s.useState)(!!l),[A,I]=(0,s.useState)(!1),k=(0,s.useId)(),P=t||k;(0,s.useImperativeHandle)(S,(()=>({focus:()=>{var e,t;O.current===document.activeElement&&(null===(e=O.current)||void 0===e||e.blur()),null===(t=O.current)||void 0===t||t.focus()},blur:()=>{var e;null===(e=O.current)||void 0===e||e.blur()},setText:e=>{var t;null===(t=O.current)||void 0===t||t.setRangeText(e)}})),[O]),(0,s.useEffect)((()=>(_(e),I(!1),()=>{})),[e]),(0,s.useEffect)((()=>(O.current&&l&&O.current.focus(),()=>{})),[l,O]),(0,s.useEffect)((()=>(A&&y&&O.current&&O.current.blur(),()=>{})),[A,O,y]);const L=(0,s.useCallback)((e=>{const t=e.target;_(t.value),p(t.value)}),[p,_]),D=(0,s.useCallback)((e=>{const t=e.target.value;A&&y?(I(!1),y(t)):m&&m(t),w(!1)}),[m,y,A]),R=(0,s.useCallback)((e=>{f&&f(e),w(!0)}),[f]),M=(0,s.useCallback)((e=>{e.stopPropagation();const t=e.which||e.keyCode;t===Se&&I(!0);const i=[be,Se,Oe];if("keydown"===e.type&&!i.includes(t))return!1;const n=e.target.value;switch(h&&n.length>h&&e.preventDefault(),t){case Oe:E&&E()}return!1}),[E,h]),C=(0,s.useCallback)((e=>{let t=!1;g&&(t=g(e)),t||M(e)}),[M,g]),x=(0,s.useCallback)((e=>{let t=e.clipboardData.getData("text/plain").trim();h&&(t=t.substring(0,Math.min(h,t.length))),b&&b(t)}),[b,h]),F=a()("mp-text-input",u,{focused:N}),U=i&&(N||!(""===T)),H=N?"":d;return(0,n.jsxs)("div",Object.assign({className:F},{children:[U&&(0,n.jsx)("label",Object.assign({className:"mp-text-input-label",htmlFor:P},{children:i})),(0,n.jsx)("input",{ref:O,autoComplete:c,className:"mp-input",name:P,type:r,value:T,placeholder:H,maxLength:h,onInput:L,onBlur:D,onFocus:R,onKeyPress:M,onKeyDown:C,onKeyUp:v,onPaste:x,readOnly:o})]}))}));var _e=i(8784);function Ne({isSelected:e,isActive:t,option:i,onSelect:r,onHover:o,tooltip:l}){const[c,d]=(0,s.useState)(null),u=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),r(i,e)}),[r,i]),h=(0,s.useCallback)((()=>{o(i)}),[o,i]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",Object.assign({ref:l?d:null,className:a()("nova-select-option",i.className,{"is-selected":e,"is-active":t,disabled:!!i.disabled}),onClick:u,onMouseEnter:h},{children:[i.icon&&(0,n.jsx)(k.I,{className:"select-menu-icon",name:i.icon,style:i.iconStyle}),(0,n.jsx)("span",Object.assign({className:"nova-select-option-text"},{children:i.text}))]})),l&&(0,n.jsx)(_e.u,{target:c,title:l})]})}const we=Object.freeze({white:"#FFF",moonrock:"#F5F4F3",mirror:"#DADADA",sine:"#B5B4B3",cosine:"#999",tangent:"#6D6D6D",lens:"#444",portal:"#222",laser:"#FF3158"}),Ae=Object.freeze({neutron:"#5C7FFF",naiad:"#8BBBFF",neptune:"#385DFF",triton:"#0000EA",proton:"#00A170",sputnik:"#00CC8C",earth:"#007D57",iss:"#006644",electron:"#FFBB00",ring:"#FFDD55",saturn:"#C99100",titan:"#906900",gamma:"#FA5300",deimos:"#FF9955",mars:"#C74200",phobos:"#AA3300"}),Ie=(Object.freeze({heliosphere:"#CA003D",mesosphere:"#990033",exosphere:"#660022",thermosphere:"#D22288",troposphere:"#A727D7",noosphere:"#7733F3",atmosphere:"#1A298C",stratosphere:"#1333CC",hydrosphere:"#1444FF",biosphere:"#006EE1",geosphere:"#0090C0",ecosphere:"#00AFAA",lithosphere:"#00705D",athenosphere:"#004844"}),Object.freeze({primary:we,semantic:Ae}),(0,s.forwardRef)((({className:e,children:t},i)=>{const r=(0,s.useRef)(null);return(0,s.useImperativeHandle)(i,(()=>({scrollToSelector:e=>{if(r.current){const t=r.current.querySelector(e);t?t.scrollIntoView():r.current.scrollTop=0}},getScroller:()=>(null==r?void 0:r.current)||void 0})),[r]),(0,n.jsx)("div",Object.assign({ref:r,className:e},{children:t}))}))),ke=({group:e,options:t,renderOption:i,observer:r})=>{const[a,o]=(0,s.useState)(null);return(0,s.useEffect)((()=>{if(a)return null==r||r.observe(a),()=>{null==r||r.unobserve(a)}}),[r,a,e.id]),(0,n.jsxs)("div",Object.assign({className:"nova-select-menu-group","data-group-container-id":e.id},{children:[(0,n.jsx)("div",Object.assign({className:"nova-select-menu-group-header"},{children:e.displayText})),(0,n.jsx)("div",Object.assign({ref:o,className:"nova-select-menu-grouped-options","data-group-id":e.id},{children:t.map(i)}))]}),e.id)};var Pe;!function(e){e.JUSTIFY="justify",e.LEFT="left",e.RIGHT="right"}(Pe||(Pe={}));const Le=(0,s.forwardRef)((({children:e,target:t,className:i,isOpen:r,onClose:o,onChange:l,options:c=[],selectedOptionId:d="",focusedOptionId:u="",setFocusedOptionId:h,autoFocus:p,filterText:m,onKeyDown:f,align:g=Pe.JUSTIFY,groups:v,includeUngrouped:y=!1,getNoResultsText:E,scrollbarComponent:b=Ie,onGroupIntersected:S},O)=>{const[T,A]=(0,s.useState)(),[I,k]=(0,s.useState)(null),[P,L]=(0,s.useState)(),[D,R]=(0,s.useState)(0),M=(0,s.useDeferredValue)(c),C=(0,s.useDeferredValue)(m),{styles:x,attributes:F}=(0,w.D)(t,I,{placement:g===Pe.RIGHT?"bottom-end":"bottom-start",strategy:"fixed",modifiers:[{name:"flip"},{name:"hide"},{name:"offset",options:{offset:[0,4]}}]}),[U,H]=(0,s.useState)(!1),j=(0,N.Z)(t);(0,s.useImperativeHandle)(O,(()=>({scrollToGroupId:e=>{T&&(null==T?void 0:T.scrollToSelector)&&(null==T||T.scrollToSelector(`[data-group-container-id="${e}"]`,"top",!0))}})),[T]);const V=g===Pe.JUSTIFY,B=(0,s.useCallback)(((e,t)=>{l(e,t)}),[l]),G=(0,s.useCallback)((e=>{h&&h(e.id)}),[h]),W=(0,s.useCallback)((()=>{H(!0)}),[H]),z=(0,s.useCallback)((()=>{H(!1)}),[H]);(0,s.useLayoutEffect)((()=>{if(V&&r&&t){const{width:e}=t.getBoundingClientRect();R(e)}return()=>{}}),[r,V,t]),(0,s.useEffect)((()=>{const e=e=>{if(t&&I){const i=e.composedPath(),n=!i.includes(t),s=!i.includes(I);n&&s&&o()}};return r&&I?window.addEventListener("click",e,{capture:!0}):window.removeEventListener("click",e,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0})}}),[I,t,r,o]),(0,s.useEffect)((()=>(r&&p&&I&&I.focus(),()=>{})),[p,r,I]);const K=(0,s.useMemo)((()=>C?M.filter((e=>-1!==e.text.toLowerCase().indexOf(C.toLowerCase()))):M),[M,C]),Y=V?Math.min(D,380):void 0,q=(0,s.useMemo)((()=>{if(v){const e=v.map((e=>e.id));return K.reduce(((t,i)=>{let n=i.group&&e.includes(i.group)&&i.group;return!n&&y&&(n="_ungrouped"),n&&(t[n]||(t[n]=[]),t[n].push(i)),t}),{})}return null}),[v,K,y]);(0,s.useEffect)((()=>{if(!T||!S)return;const e=T.getScroller();if(!e)return;const t=new IntersectionObserver((e=>{if((e=e.filter((e=>e.isIntersecting)).sort(((e,t)=>t.intersectionRatio-e.intersectionRatio))).length>0){const t=e[0].target,{groupId:i}=t.dataset;S(i)}}),{root:e,threshold:[.1,.9]});return L(t),()=>{t.disconnect()}}),[T,L,S]);const $=b,Z=e=>(0,n.jsx)(Ne,{option:e,isSelected:e.id===d,isActive:e.id===u,onSelect:B,onHover:G,tooltip:e.tooltip},e.id),Q=K.length,X=r&&(Q||""!==m);return(0,n.jsx)(n.Fragment,{children:(0,_.createPortal)(X&&(0,n.jsx)("div",Object.assign({style:Object.assign(Object.assign({},x.popper),{width:Y})},F.popper,{ref:k,tabIndex:0,onKeyDown:f,className:a()("nova-select-menu",i,{"has-focus":U}),onFocus:W,onBlur:z},{children:(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)($,Object.assign({className:"nova-select-items-wrap",ref:A},{children:(0,n.jsxs)(s.Suspense,Object.assign({fallback:"Loading..."},{children:[0===Q&&""!==m&&E&&(0,n.jsx)("span",Object.assign({className:"nova-select-no-results"},{children:E(m||"")})),v&&q?v.map(((e,t)=>q[e.id]?(0,n.jsx)(ke,{group:e,renderOption:Z,options:q[e.id],observer:P},e.id):null)):K.map(Z)]}))}))]})})),j)})})),De=({items:e=[],focusedItemId:t,selectedItemId:i,onItemFocused:n,onItemSelected:r,onCancel:a,tabSelects:o=!1})=>{const l=(0,s.useMemo)((()=>e.map((e=>e.id))),[e]),c=e.length;(0,s.useEffect)((()=>{n(e.length>0?e[0].id:"")}),[e,n]);const d=(0,s.useCallback)(((e=!1)=>{let s=(l.indexOf(t||i||"")+(e?1:-1))%c;s<0&&(s=c-1),n(l[s])}),[t,i,n,l,c]);return(0,s.useCallback)((e=>{let i=!1;const n=e.code;switch(n){case"ArrowDown":d(!0),i=!0;break;case"ArrowUp":d(!1),i=!0;break;case"Escape":a(),i=!0;break;case"Enter":case"Tab":if("Tab"!==n||o){t&&(r(t),i=!0);break}}return i&&e.preventDefault(),i}),[d,a,o,t,r])};var Re=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const Me=(0,s.forwardRef)(((e,t)=>{var i,{options:r=[],onChange:o,clearOnSelect:l=!1,insertOnSelect:c=!1,onBlur:d,onFocus:u,onKeyDown:h,onKeyUp:p,onPaste:m,selectedOptionId:f,getNoResultsText:g,onCancel:v}=e,y=Re(e,["options","onChange","clearOnSelect","insertOnSelect","onBlur","onFocus","onKeyDown","onKeyUp","onPaste","selectedOptionId","getNoResultsText","onCancel"]);const[E,b]=(0,s.useState)(null),S=(0,s.useRef)(null),[O,T]=(0,s.useState)(f&&(null===(i=r.find((e=>e.id===f)))||void 0===i?void 0:i.text)||""),[_,N]=(0,s.useState)(""),[w,A]=(0,s.useState)(!1);(0,s.useImperativeHandle)(t,(()=>({focus:()=>{var e;null===(e=S.current)||void 0===e||e.focus()},blur:()=>{var e;null===(e=S.current)||void 0===e||e.blur(),A(!1)},clear:()=>{T("")},setText:e=>{T(e)}})),[S,T]);const I=(0,s.useMemo)((()=>O?r.filter((e=>-1!==e.text.toLowerCase().indexOf(O.toLowerCase()))):r),[r,O]),k=(0,s.useCallback)((e=>{var t;const i="string"==typeof e;i&&0===e.trim().length||(o(e),A(!1),l?T(""):!i&&c&&T(e.text),null===(t=S.current)||void 0===t||t.blur())}),[o,l,c]),P=(0,s.useCallback)((e=>{if(e){const t=I.find((t=>t.id===e));t&&k(t)}}),[k,I]),L=(0,s.useCallback)((()=>{var e;A(!1),null===(e=S.current)||void 0===e||e.blur(),v&&v()}),[v]),D=De({items:I,focusedItemId:_,onItemFocused:N,onItemSelected:P,onCancel:L,tabSelects:!0}),R=(0,s.useCallback)((e=>{let t=!1;return h&&(t=h(e)),t||(t=D(e)),t}),[h,D]),M=(0,s.useCallback)((e=>{A(!0),u&&u(e)}),[u]),C=(0,s.useCallback)((e=>{d&&d(e)}),[d]),x=(0,s.useCallback)((e=>{m&&m(e),T(e)}),[m,T]),F=(0,s.useCallback)((e=>{P(e.id)}),[P]);return(0,n.jsxs)("div",Object.assign({className:a()("nova-typeahead-input"),ref:b,"aria-autocomplete":"list"},{children:[(0,n.jsx)(Te,Object.assign({},y,{ref:S,text:O,onInput:T,autocomplete:"off",onReturn:k,onCancel:L,onFocus:M,onBlur:C,onKeyDown:R,onKeyUp:p,onPaste:x})),(0,n.jsx)(Le,{options:I,target:E,isOpen:w,onClose:L,onChange:F,filterText:O,focusedOptionId:_,setFocusedOptionId:N,getNoResultsText:g,autoFocus:!1})]}))}));var Ce=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};(0,s.forwardRef)(((e,t)=>{var{className:i,buttonClassName:r="button-select-anchor",onChange:o,selectedOptionId:l="",options:c=[],children:d,placeholder:u,placeholderIcon:h,selectMenuClassName:p,onClick:f,align:g=Pe.LEFT,groups:v,filterText:y,allowClear:E,onClear:b,getNoResultsText:S,scrollbarComponent:O,selectMenuRef:T,onGroupIntersected:_}=e,N=Ce(e,["className","buttonClassName","onChange","selectedOptionId","options","children","placeholder","placeholderIcon","selectMenuClassName","onClick","align","groups","filterText","allowClear","onClear","getNoResultsText","scrollbarComponent","selectMenuRef","onGroupIntersected"]);const w=(0,s.useRef)(null),[A,I]=(0,s.useState)(!1),[P,L]=(0,s.useState)("");(0,s.useImperativeHandle)(t,(()=>({closeMenu:()=>{I(!1)}})),[]);const D=(0,s.useCallback)((e=>{null==e||e.stopPropagation(),I(!1),L("")}),[]),R=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),f&&f(e),I(!A)}),[A,f]),M=(0,s.useCallback)(((e,t)=>{o(e,t),D()}),[D,o]),C=(0,s.useCallback)((e=>{const t=c.find((t=>t.id===e));t&&M(t,void 0)}),[c,M]),x=De({items:c,focusedItemId:P,selectedItemId:l,onItemFocused:L,onItemSelected:C,onCancel:D}),F=(0,s.useMemo)((()=>l&&c.find((e=>e.id===l))),[l,c]),U=(0,s.useCallback)((e=>{e.stopPropagation(),b&&b()}),[b]);return(0,n.jsxs)("div",Object.assign({className:a()("nova-button-select",i),ref:w},{children:[(0,n.jsxs)(m.zx,Object.assign({},N,{onClick:R,className:a()(r,{"mp-nova-menu-open":A}),onKeyDown:x},{children:[F&&(0,n.jsxs)(n.Fragment,{children:[F.icon&&(0,n.jsx)(k.I,{className:"select-menu-icon",name:F.icon,style:F.iconStyle}),(0,n.jsx)("span",Object.assign({className:"selection-text"},{children:F.text}))]}),!F&&u&&(0,n.jsxs)(n.Fragment,{children:[h&&(0,n.jsx)(k.I,{className:"select-menu-icon",name:h}),(0,n.jsx)("span",Object.assign({className:"select-placeholder"},{children:u}))]}),E&&l&&(0,n.jsx)(k.I,{name:"close",className:"select-button-clear mp-nova-btn mp-nova-btn-light mp-nova-btn-icon",onClick:U}),(0,n.jsx)(k.I,{className:"select-caret",name:"dpad-down"})]})),(0,n.jsx)(Le,Object.assign({ref:T,target:w.current,isOpen:A,className:p,onClose:D,onChange:M,onKeyDown:x,selectedOptionId:l,focusedOptionId:P,setFocusedOptionId:L,align:g,options:c,autoFocus:!1,groups:v,filterText:y,getNoResultsText:S,scrollbarComponent:O,onGroupIntersected:_},{children:d}))]}))}));var xe=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const Fe=(0,s.forwardRef)(((e,t)=>{var{allowSelect:i,isSelected:r,isFocused:o,onClick:l,onFocus:c,onRemoveClick:d,className:u,size:h="standard",theme:p="light"}=e,f=xe(e,["allowSelect","isSelected","isFocused","onClick","onFocus","onRemoveClick","className","size","theme"]);const g=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,(()=>({focus:()=>{var e;null===(e=g.current)||void 0===e||e.focus()}})),[g]);const v=(0,s.useCallback)((()=>{d&&d(f)}),[d,f]),y=(0,s.useCallback)((e=>{var t;null===(t=g.current)||void 0===t||t.focus(),l&&l(f,e)}),[l,f]),E=(0,s.useCallback)((e=>{c&&c(f)}),[c,f]),b=void 0!==f.count;return(0,n.jsxs)("div",Object.assign({className:a()("nova-token",`token-size-${h}`,`token-theme-${p}`,u,{"is-selected":r,"is-focused":o,"has-count":b,"can-select":i,"can-remove":!!d}),title:f.text,onClick:y,onFocus:E,tabIndex:0,ref:g,"data-token-id":f.id},{children:[i&&r&&(0,n.jsx)(k.I,{size:k.J.SMALL,name:"checkmark"}),(0,n.jsx)("div",Object.assign({className:"token-text"},{children:f.text})),b&&(0,n.jsx)("div",Object.assign({className:"token-count"},{children:f.count})),!!d&&(0,n.jsx)(m.zx,{onClick:v,icon:"close",size:"small"})]}))})),Ue=({tokens:e,className:t,allowSelect:i,maxVisibleTruncated:r,selectedTokenIds:o=[],onTokenClick:l,tokenSize:c,tokenTheme:d})=>{const[u,h]=(0,s.useState)(!1),p=(0,s.useCallback)(((e,t)=>{h(!u)}),[h,u]),m=!!r,f=(0,s.useMemo)((()=>m&&e.length-r),[e,r,m]),g=(0,s.useMemo)((()=>u?e:e.slice(0,r)),[e,r,u]);return g.length>0?(0,n.jsxs)("div",Object.assign({className:a()("nova-token-list",t,{"is-viewing-all":u})},{children:[g.map((e=>(0,s.createElement)(Fe,Object.assign({},e,{isSelected:e.isSelected||o.includes(e.id),key:e.id,onClick:l,allowSelect:i,size:c,theme:d})))),m&&e.length>r&&(0,n.jsx)(Fe,{className:"view-more-btn",onClick:p,size:c,theme:d,id:"_token_list_view_more_btn",text:u?`Hide ${f}...`:`View ${f} more...`})]})):null};var He=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const je=function*(){let e=0;for(;;)yield e++}(),Ve=["Backspace","Delete","ArrowLeft","ArrowRight"],Be=()=>{};(0,s.forwardRef)(((e,t)=>{var{initialTokens:i=[],options:r=[],placeholder:o,onChange:l,maxTokens:c,maxTokensValidationMsg:d,helpMessage:u,tokenDisplayName:h="Token",validateNewToken:p=Be}=e,m=He(e,["initialTokens","options","placeholder","onChange","maxTokens","maxTokensValidationMsg","helpMessage","tokenDisplayName","validateNewToken"]);const f=(0,s.useRef)(null),g=(0,s.useRef)(null),v=(0,s.useRef)(null),[y,E]=(0,s.useState)(),[b,S]=(0,s.useState)(i),[O,T]=(0,s.useState)(),[_,N]=(0,s.useState)(!1),w=(0,s.useMemo)((()=>b.findIndex((e=>e.id===y))),[y,b]);(0,s.useImperativeHandle)(t,(()=>({focus:()=>{var e;null===(e=g.current)||void 0===e||e.focus()},blur:()=>{var e;null===(e=g.current)||void 0===e||e.blur()}})),[g]);const A=(0,s.useCallback)((()=>{var e;null===(e=g.current)||void 0===e||e.focus()}),[g]),I=(0,s.useCallback)((e=>b.some((t=>e===t.text))?`${h} "${e}" would duplicate an existing value.`:void 0),[b,h]),k=(0,s.useCallback)((e=>{const t=I(e)||p(e);return T(t),!t}),[p,I,T]),P=(0,s.useCallback)((e=>{var t;let i=null;if("string"==typeof e?k(e)&&(i={text:e,id:`new_token_${je.next().value}`}):i=e,i){const e=[...b,i];S(e),l(e),null===(t=g.current)||void 0===t||t.clear(),cancelAnimationFrame(v.current||0),v.current=requestAnimationFrame((()=>{var e;null===(e=g.current)||void 0===e||e.focus()}))}}),[b,k]),L=(0,s.useCallback)((e=>{const t=b.filter((t=>t.id!==e));S(t),l(t)}),[b]),D=(0,s.useCallback)((e=>{if(f.current){f.current.querySelector(`[data-token-id="${e}"]`).focus()}}),[f]),R=(0,s.useCallback)((e=>{var t,i,n;e.stopPropagation();const s=b.length-1,r=e.code,a="Backspace"===r||"Delete"===r,o="ArrowLeft"===r,l="ArrowRight"===r;if(y){if(a){L(y),E("");const e=w-1;e>-1&&D(b[e].id)}else if(l)if(w===s)A();else{D(b[w+1].id)}else if(o){const e=w-1;-1===e?null===(i=(t=document.activeElement).blur)||void 0===i||i.call(t):D(b[e].id)}}else b.length>0&&(a||o)&&D(b[b.length-1].id);"Escape"===r&&(null===(n=f.current)||void 0===n||n.blur())}),[L,y,b,w,A,D]),M=(0,s.useCallback)((e=>{const{selectionStart:t,selectionEnd:i}=e.target,n=0===t&&t===i;return e.stopPropagation(),Ve.includes(e.code)&&n&&R(e),!1}),[R]),C=(0,s.useCallback)((e=>{const{value:t}=e.target;k(t)}),[k]),x=(0,s.useCallback)((e=>{k(e)}),[k]),F=(0,s.useCallback)((e=>{L(e.id)}),[L]),U=(0,s.useCallback)((e=>{const{id:t}=e;E(t),N(!0)}),[]),H=(0,s.useCallback)((()=>{E(""),N(!0)}),[]),j=(0,s.useCallback)((()=>{N(!1),E("")}),[]),V=(0,s.useMemo)((()=>{const e=b.map((e=>e.id));return r.filter((t=>!e.includes(t.id)))}),[r,b]),B=void 0!==c&&b.length>=c,G=B&&d?d:O||u;return(0,n.jsxs)("div",Object.assign({className:a()("nova-token-input",{"has-focus":_,"has-warning":B,"has-error":!!O}),onKeyDown:R,onBlur:j,ref:f},{children:[(0,n.jsxs)("div",Object.assign({className:"nova-token-input-container"},{children:[b.map((e=>(0,n.jsx)(Fe,Object.assign({isFocused:e.id===y,onFocus:U,onRemoveClick:F},e),e.id))),!B&&(0,n.jsx)(Me,Object.assign({},m,{ref:g,options:V,onChange:P,placeholder:o,onFocus:H,onBlur:j,onKeyDown:M,onKeyUp:C,onPaste:x}))]})),(0,n.jsxs)("div",Object.assign({className:"nova-input-help"},{children:[(0,n.jsxs)("span",Object.assign({className:"nova-input-counter"},{children:[b.length,void 0!==c&&c>0&&(0,n.jsxs)(n.Fragment,{children:["/",c]})]})),G&&(0,n.jsx)("span",Object.assign({className:"nova-helper-text"},{children:G}))]}))]}))}))},78957:(e,t,i)=>{"use strict";i.d(t,{K:()=>n,b:()=>s});const n={acc:"acc","ada-access":"ada-access",api:"api","audit-reporting":"audit-reporting","aws-twinmaker":"aws_twinmaker",beta:"beta","building-inspection":"building-inspection",calendar:"calendar","capture-services":"capture-services","co2-emissions":"co2_emissions","communication-aec":"communication-aec","communication-general":"communication-general",communication:"communication",completion:"completion","compliance-training":"compliance-training",construction:"construction","cre-education":"cre-education","customer-service_alt":"customer-service_alt","customer-service":"customer-service","data-analysis":"data-analysis","data-privacy-cybersecurity":"data-privacy-cybersecurity",delay:"delay",design:"design",desktop:"desktop","digital-pro":"digital-pro","digital-twin-communication":"digital-twin-communication","digital-twins-cre":"digital-twins-cre","digital-twins-rre":"digital-twins-rre",discover:"discover","dollhouse-view":"dollhouse-view",drones:"drones",edit:"edit","enterprise-business":"enterprise-business","enterprise-security":"enterprise-security","enterprise-services":"enterprise-services","facilities-management":"facilities-management",factory:"factory",floorplans:"floorplans",globe:"globe","google-street-view":"google-street-view","guided-tours":"guided-tours","hd-photos":"hd-photos","house-sold":"house-sold","identify-conditions":"identify-conditions","increase-decrease":"increase-decrease","industry-add-ons":"industry-add-ons","insurance-restoration_cre":"insurance-restoration_cre","insurance-restoration_rre":"insurance-restoration_rre","inventory-management":"inventory-management","iot-sensor-data":"iot-sensor-data",launch:"launch","management-permissions":"management-permissions",marketing:"marketing","matterport-academy":"matterport-academy",mattertags:"mattertags","measurement-mode":"measurement-mode",mesh:"mesh","mfg-collab":"mfg_collab","mobile-download":"mobile-download",mobile:"mobile","money-revenue":"money-revenue","more-views":"more-views",notes:"notes","online-learning":"online-learning","operational-history":"operational-history",outdoor:"outdoor",partners:"partners","photography-360":"photography-360","physics-based-models":"physics-based-models","point-cloud":"point-cloud","private-model-embed":"private-model-embed","pro3-photography":"pro3-photography","process-data":"process-data",productivity:"productivity",prototype:"prototype","real-estate-broker-agent":"real-estate-broker-agent",recycle:"recycle",retail:"retail",rre:"rre",safety:"safety",sales:"sales",sdk:"sdk",smb:"smb","space-search":"space-search",speed:"speed","spending-time":"spending-time",stadium:"stadium","t-h":"t-h",teamwork:"teamwork",twinmaker:"twinmaker",users:"users",vertical:"vertical","video-360":"video-360",videography:"videography",views:"views","virtual-reality":"virtual-reality"},s={acc:"acc-simple",api:"api-simple","audit-reporting":"audit-reporting-simple",communication:"communication-simple","customer-service":"customer-service_simple","data-analysis":"data-analysis-simple",desktop:"desktop-simple","digital-twin-communication":"digital-twin-communication-simple","digital-twins-cre":"digital-twins-cre-simple","digital-twins-rre":"digital-twins-rre-simple",discover:"discover-simple","dollhouse-view":"dollhouse-view-simple",drones:"drones-simple",edit:"edit-simple","enterprise-security":"enterprise-security-simple","enterprise-services":"enterprise-services-simple",floorplans:"floorplans-simple",globe:"globe-simple","google-street-view":"google-street-view-simple","guided-tours":"guided-tours-simple","hd-photos":"hd-photos-simple","house-sold":"house-sold-simple","enterprise-business":"ienterprise-business-simple","increase-decrease":"increase-decrease-simple","industry-add-ons":"industry-add-ons-simple",sdk:"isdk-simple","management-permissions":"management-permissions-simple",marketing:"marketing-simple",mattertags:"mattertags-simple","measurement-mode":"measurement-mode-simple",mobile:"mobile-simple","money-revenue":"money-revenue-simple","more-views":"more-views-simple",notes:"notes-simple",outdoor:"outdoor-simple","private-model-embed":"private-model-embed-simple","pro3-photography":"pro3-photography-simple",productivity:"productivity-simple","real-estate-broker-agent":"real-estate-broker-agent-simple",safety:"safety-simple",sales:"sales-simple",smb:"smb-simple","space-search":"space-search-simple",speed:"speed-simple","spending-time":"spending-time-simple",teamwork:"teamwork-simple",users:"users-simple",videography:"videography-simple","virtual-reality":"virtual-reality-simple"}},98918:(e,t,i)=>{"use strict";i.d(t,{zx:()=>u,qE:()=>s,Wu:()=>n});var n,s,r=i(85893),a=i(94184),o=i.n(a),l=i(67294),c=i(28676),d=i(8784);!function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary",e.FAB="fab",e.IN_PROGRESS="in-progress"}(n||(n={})),function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(s||(s={}));const u=(0,l.forwardRef)((({ariaLabel:e,ariaDescribedBy:t,ariaRole:i="button",ariaHasPopup:n,ariaExpanded:s=!1,children:a,appendChildren:u=!0,className:h,dataAttribute:p,id:m,disabled:f=!1,dimmed:g=!1,active:v=!1,icon:y,iconSize:E,reverse:b,label:S,onClick:O,onPointerDown:T,onPointerUp:_,onKeyDown:N,size:w,style:A,testId:I,theme:k="light",tooltip:P,tooltipOptions:L={},variant:D},R)=>{const M=void 0===S&&void 0===a,C=y&&(S||a),[x,F]=function(e){const[t,i]=(0,l.useState)(null);return(0,l.useEffect)((()=>{e&&("function"==typeof e?e(t):e.current=t)}),[t]),[t,i]}(R),U=e||S||("string"==typeof P?P:void 0),H=o()(h,"mp-nova-btn",{[`mp-nova-btn-${D}`]:void 0!==D},{[`mp-nova-btn-${k}`]:void 0!==k},{[`mp-nova-btn-${w}`]:void 0!==w},{"mp-nova-btn-icon":M},{"mp-nova-btn-multi":C},{"mp-nova-btn-reverse":b},{"mp-nova-disabled":f},{"mp-nova-btn-dimmed":g},{"mp-nova-active":v},{"mp-nova-aria-missing":!U});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",Object.assign({className:H,onClick:O,onPointerDown:T,onPointerUp:_,disabled:f,"aria-disabled":f,ref:F,style:A,onKeyDown:N,tabIndex:f?void 0:0,id:m,"data-attribute":p,"aria-label":U,"aria-expanded":s,"aria-haspopup":n,"aria-describedby":t,role:i,"data-testid":I},{children:[!u&&a,y&&(0,r.jsx)(c.I,{name:y,size:E}),S&&(0,r.jsx)("span",Object.assign({className:"mp-nova-btn-label"},{children:S})),u&&a]})),P&&(0,r.jsx)(d.u,Object.assign({target:x,title:P,disabled:f},L))]})}))},28676:(e,t,i)=>{"use strict";i.d(t,{I:()=>o,J:()=>l});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r);const o=(0,s.forwardRef)((({name:e,style:t,size:i,className:s,onClick:r},o)=>{const l=a()("nova-icon",`icon-${e}`,s,{[`nova-icon-${i}`]:void 0!==i});return(0,n.jsx)("span",{className:l,style:t,onClick:r,ref:o})}));var l;!function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(l||(l={}))},68424:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r);const o=(0,s.forwardRef)((({theme:e,style:t,size:i="small",placement:s="top"},r)=>{const o=a()("nova-popper-arrow",{[`nova-theme-${e}`]:void 0!==e,[`nova-size-${i}`]:void 0!==i});return(0,n.jsx)("div",{className:o,style:t,"data-popper-placement":s,ref:r})}))},8784:(e,t,i)=>{"use strict";i.d(t,{u:()=>m});var n=i(85893),s=i(67294),r=i(73935),a=i(77294),o=i(94184),l=i.n(o),c=i(58997),d=i(68424);const u="PointerEvent"in window,h=u?"pointerenter":"mouseenter",p=u?"pointerleave":"mouseleave",m=({children:e,offset:t,preventOverflow:i,placement:o="top",strategy:u="fixed",target:m,title:f,className:g,trigger:v="hover",size:y,theme:E,onToggle:b,disabled:S,sticky:O=!1,arrow:T=!0})=>{const[_,N]=(0,s.useState)(null),[w,A]=(0,s.useState)(null),[I,k]=(0,s.useState)("static"===v),P=t||("small"===y?[0,8]:[0,14]),{styles:L,attributes:D}=(0,a.D)(m,_,{placement:o,strategy:u,modifiers:T?[{name:"arrow",options:{element:w,padding:"small"===y?4:6}},{name:"flip"},{name:"hide"},{name:"offset",options:{offset:P}},{name:"preventOverflow",options:i}]:[{name:"flip"},{name:"hide"},{name:"offset",options:{offset:P}},{name:"preventOverflow",options:i}]}),R=(0,c.Z)(m),M=(0,s.useCallback)((()=>{k(!0),b&&b(!0)}),[b]),C=(0,s.useCallback)((()=>{k(!1),b&&b(!1)}),[b]),x=(0,s.useCallback)((e=>{e.stopPropagation(),C()}),[C]);if((0,s.useEffect)((()=>{k("static"===v)}),[v]),(0,s.useEffect)((()=>{if(m&&"hover"===v)return S||m.addEventListener(h,M),m.addEventListener(p,C),()=>{S||m.removeEventListener(h,M),m.removeEventListener(p,C)}}),[m,S,v,M,C]),(0,s.useEffect)((()=>{if(O)return;const e=e=>{if(m&&_){const t=e.composedPath(),i=!t.includes(m),n=!t.includes(_);i&&n&&C()}};return I&&v?window.addEventListener("click",e,{capture:!0}):window.removeEventListener("click",e,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0})}}),[m,_,I,v,C,O]),!I)return null;const F=l()("nova-tooltip",g,{[`nova-tooltip-${E}`]:void 0!==E,[`nova-tooltip-${y}`]:void 0!==y}),U=D.popper?D.popper["data-popper-placement"]:void 0;return(0,n.jsx)(n.Fragment,{children:(0,r.createPortal)((0,n.jsxs)("div",Object.assign({className:F,ref:N,role:"tooltip",style:L.popper},D.popper,{onClick:"static"===v?x:void 0},{children:[f||e,T&&(0,n.jsx)(d.c,{ref:A,style:L.arrow,placement:U,size:y,theme:E})]})),R)})}},58997:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(67294);function s(e){return(0,n.useMemo)((()=>{const t=e?e.getRootNode():document;return t.querySelector("#react-overlay-root")||t.body||t.firstElementChild}),[e])}},11234:(e,t,i)=>{"use strict";i.d(t,{a_:()=>v,t1:()=>o,HF:()=>a,ht:()=>y.h,V0:()=>b});var n=i(91631);class s extends Error{constructor(e,t,i){super(e),this.status=t,this.type=i,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}class r extends s{constructor(e){super(`Cannot request OEmbed data because no configuration matches the url ${e}`,200,"OEmbedUrl")}}class a extends s{constructor(e="unknown provider"){super(`Content from OEmbed provider ${e} is not currently supported`,200,"OEmbedProvider")}}class o extends s{constructor(e="unknown provider"){super(`Content from ${e} is type "link", which Link content is not currently supported`,200,"OEmbedLink")}}function l(e){const t={width:"360",maxwidth:"360",maxheight:"640",url:e,native:"true",autoplay:"true"};if(e.includes("flickr")||e.includes("flic.kr")){const e=Math.max(window.screen.height,window.screen.width);t.maxwidth=t.maxheight=t.width=`${e}`}return{queryParams:new URLSearchParams(t),headers:{responseType:"json"}}}const c=/^https:\/\/www.instagram.com/;const d=/^https:\/\/www.facebook.com/,u=/^https:\/\/www.facebook.com\/(.*\/)?(posts\/|activity\/|photo\.php|photos\/|permalink\.php|media\/set|questions\/|notes\/)/,h=/^https:\/\/www.facebook.com\/(video\.php|.*\/videos\/)/;const p=[{testUrl:function(e){return c.test(e)},request:async function(e,t,i,n){const{queryParams:r,headers:a}=l(e);i&&n&&r.append("access_token",`${i}|${n}`);const o=new URL(`https://graph.facebook.com/v10.0/instagram_oembed?${r.toString()}`);try{return await t.get(o.toString(),a)}catch(e){const t=e;throw new s(t.error.message,t.status_code,t.error.type)}},apiKeys:["instagramAppId","instagramClientToken"]},{testUrl:function(e){return d.test(e)},request:async function(e,t,i,n){const{queryParams:r,headers:a}=l(e);i&&n&&r.append("access_token",`${i}|${n}`);const o=function(e){return u.test(e)?"https://graph.facebook.com/v10.0/oembed_post":h.test(e)?"https://graph.facebook.com/v10.0/oembed_video":"https://graph.facebook.com/v10.0/oembed_page"}(e),c=new URL(`${o}?${r.toString()}`);try{return await t.get(c.toString(),a)}catch(e){const t=e;throw new s(t.error.message,t.status_code,t.error.type)}},apiKeys:["instagramAppId","instagramClientToken"]},{testUrl:()=>!0,request:async function(e,t,i){const{queryParams:n,headers:r}=l(e);i&&n.append("key",i);const a=new URL(`https://api.embed.ly/1/oembed?${n.toString()}`);try{return await t.get(a.toString(),r)}catch(e){const t=e;throw new s(t.error_message,t.status_code,t.type)}},apiKeys:["embedlyKey"]}];const m={[n.z.GoogleMaps]:function(e,t){return e.thumbnail_url&&(e.thumbnail_url=`${e.thumbnail_url}&key=${t.googleMapsApiKey}`),e}};async function f(e,t,i){const s=i.embedlyKey;if(s){const i=function(e,t){if(e.includes("i.embed.ly")||e.startsWith("blob:"))return e;const i=Math.max(window.screen.height,window.screen.width),n=`&url=${encodeURIComponent(e)}&width=${i}&height=${i}`;return`https://i.embed.ly/1/display/resize?key=${t}${n}`}(e,s);return t.get(i,{responseType:"arraybuffer"}).then((e=>{return t=e,new Promise((e=>{t||Promise.resolve(null);const i=t=>{const i=t.target,s={width:i.naturalWidth,height:i.naturalHeight,url:o,type:n.h.PHOTO,version:""};e(s)},s=new Uint8Array(t),r=new Blob([s]),a=new Image;a.addEventListener("load",(e=>i(e)));const o=URL.createObjectURL(r);a.src=o}));var t}))}return null}const g={[n.z.Behance]:!1,[n.z.FaceBook]:!1,[n.z.GoogleMaps]:"googleMapsApiKey",[n.z.Instagram]:["instagramAppId","instagramClientToken"],[n.z.LinkedIn]:!1,[n.z.MixCloud]:!1,[n.z.Pinterest]:!1,[n.z.Reddit]:!0,[n.z.TikTok]:!0,[n.z.Twitter]:!0,[n.z.Twitch]:!1};class v{constructor(e,t){this.cache={},this.queue=e,this.apiKeys=t}async getOEmbedData(e){const t=this.cache[e];if(t&&t.type!==n.h.LINK)return Promise.resolve(t);let i,a;try{a=await function(e,t,i){for(const n of p)if(n.testUrl(e)){const s=n.apiKeys.map((e=>i[e]));return n.request(e,t,...s)}throw new r(e)}(e,this.queue,this.apiKeys)}catch(e){if(![401,404,501].includes(e.status))throw e;i=e}if(!a||a.type===n.h.PHOTO){const t=(null==a?void 0:a.url)||e;try{const i=await f(t,this.queue,this.apiKeys);if(i)return this.cache[e]=i,i}catch(e){if(!a)throw i||e}}if(!a)throw i||s;return this.cache[e]=a,this.validate(a)}clearCache(){this.cache={}}validate(e){if(!((e,t)=>{const i=void 0===e.provider_name?void 0:g[e.provider_name.toLowerCase()];return"string"==typeof i?!!t[i]:Array.isArray(i)?i.every((e=>!!t[e])):!1!==i})(e,this.apiKeys))throw new a(e.provider_name);if(e.type===n.h.LINK)throw new o(e.provider_name);return function(e,t){if(void 0!==e.provider_name){const i=m[e.provider_name.toLowerCase()];if(i)return i(e,t)}return e}(e,this.apiKeys)}}var y=i(13007);const E=/[^]*youtube.com\/shorts\//gi,b=e=>{if(E.test(e)){return`https://youtube.com/watch?v=${e.replace(E,"").replace(/\?(.*)/g,"")}`}return e}},13007:(e,t,i)=>{"use strict";var n;i.d(t,{h:()=>n}),function(e){e.PHOTO="photo",e.VIDEO="video",e.LINK="link",e.RICH="rich"}(n||(n={}))},91631:(e,t,i)=>{"use strict";var n;i.d(t,{h:()=>s.h,z:()=>n}),function(e){e.Behance="behance",e.DailyMotion="dailymotion",e.FaceBook="facebook",e.Flickr="flickr",e.Giphy="giphy",e.GoogleMaps="google maps",e.Instagram="instagram",e.LinkedIn="linkedin",e.Matterport="matterport",e.MixCloud="mixcloud",e.Pinterest="pinterest",e.Reddit="reddit",e.SoundCloud="soundcloud",e.SketchFab="sketchfab",e.Spotify="spotify",e.Tenor="tenor",e.TikTok="tiktok",e.Twitch="twitch",e.Twitter="twitter",e.Tumblr="tumblr",e.Vimeo="vimeo",e.YouTube="youtube"}(n||(n={}));var s=i(13007)},27067:(e,t,i)=>{"use strict";var n,s;i.d(t,{gO:()=>a,ru:()=>n}),function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.HIGHEST=3]="HIGHEST"}(n||(n={})),function(e){e[e.PENDING=0]="PENDING",e[e.SENDING=1]="SENDING",e[e.FAILED=2]="FAILED",e[e.DONE=3]="DONE"}(s||(s={}));const r=new WeakMap;class a{constructor({retries:e=0,concurrency:t=6}={}){this.totalBytesDownloaded=0,this.queue=[],this.retries=e,this.concurrency=t}get(e,t){return this.request("GET",e,t)}head(e,t){return this.request("HEAD",e,t)}options(e,t){return this.request("OPTIONS",e,t)}post(e,t){return this.request("POST",e,t)}put(e,t){return this.request("PUT",e,t)}patch(e,t){return this.request("PATCH",e,t)}delete(e,t){return this.request("DELETE",e,t)}request(e,t,i){const n=new o(e,t,i);if(null==i?void 0:i.signal){const e=()=>{this.queue.includes(n)&&(n.status===s.SENDING&&n.abort(),this.dequeue(n),n.onFail(new DOMException("Aborted","AbortError")))};i.signal.addEventListener("abort",e),r.set(n,(()=>{var t;null===(t=i.signal)||void 0===t||t.removeEventListener("abort",e),r.delete(n)}))}return this.enqueue(n),n.promise}update(){let e;for(;e=this.getNextPendingRequest();)this.sendRequest(e);for(;e=this.getNextOverflowingGet();)e.abort(),e.status=s.PENDING;this.updateTimeout=null}enqueue(e){let t=0;for(t=0;t<this.queue.length;t++){if(this.queue[t].priority<e.priority)break}this.queue.splice(t,0,e),this.updateTimeout||(this.updateTimeout=window.setTimeout((()=>{this.update()}),1))}dequeue(e){var t;null===(t=r.get(e))||void 0===t||t();const i=this.queue.indexOf(e);if(-1===i)throw new Error("Can't dequeue request not in queue");this.queue.splice(i,1),this.update()}getNextPendingRequest(){for(let e=0;e<this.queue.length&&e<this.concurrency;e++){const t=this.queue[e];if(t.status===s.PENDING)return t}return null}getNextOverflowingGet(){for(let e=this.concurrency;e<this.queue.length;e++){const t=this.queue[e];if(t.status===s.SENDING&&t.priority!==n.HIGHEST&&"GET"===t.method)return t}return null}shouldRetryStatusCode(e){return!a.doNotRetryStatusCodes[e]}sendRequest(e){e.status=s.SENDING,e.send().then((t=>{e.status=s.DONE,this.dequeue(e),e.contentLength&&e.contentLength>0&&(this.totalBytesDownloaded+=Number(e.contentLength)),e.onDone(t)})).catch((t=>{const i=null!==e.maxRetries?e.maxRetries:this.retries;let n=e.sendAttempts<i;if("object"==typeof t){const e=t.status_code||0;n=n&&this.shouldRetryStatusCode(e)}n?(e.status=s.PENDING,this.update(),console.warn(`Retried ${e.url}`),console.warn(t)):(e.status=s.FAILED,this.dequeue(e),console.warn(`Failed ${e.url}`),e.onFail(t))}))}}a.doNotRetryStatusCodes={400:!0,401:!0,403:!0,404:!0,405:!0,406:!0,410:!0,411:!0,414:!0,415:!0,421:!0,431:!0,451:!0};class o{constructor(e,t,i={}){this.sendAttempts=0,this.status=s.PENDING,this.contentLength=0,this.isAborting=!1,this.url=t,this.method=e,this.auth=i.auth||null,this.withCredentials=i.withCredentials||!1,this.priority=i.priority||n.MEDIUM,this.responseType=i.responseType||null,this.body=i.body||null,this.headers=i.headers||{},this.maxRetries=i.maxRetries||null,this.onProgress=i.onProgress,this.promise=new Promise(((e,t)=>{this.onDone=e,this.onFail=t}))}send(){const e=this.xhr=function(e,t,i){let n;if("undefined"!=typeof XMLHttpRequest)n=new XMLHttpRequest,n.withCredentials=i;else{if("undefined"==typeof XDomainRequest)throw new Error("No XMLHTTPRequest or XDomainRequest... are you trying to run me in node? :(");n=new XDomainRequest}return n.open(e,t,!0),n}(this.method,this.url,this.withCredentials);if(this.responseType)if("arraybuffer"===this.responseType||"text"===this.responseType||"json"===this.responseType||"blob"===this.responseType)e.responseType=this.responseType;else{if("image"!==this.responseType)throw new Error('reponseType can only be one of "arraybuffer", "text", "json", "blob", "image"');e.responseType="blob"}"json"===this.responseType&&e.setRequestHeader("Accept","application/json"),this.auth&&"string"==typeof this.auth&&e.setRequestHeader("Authorization",this.auth);for(const t in this.headers)e.setRequestHeader(t,this.headers[t]);return this.body&&"object"==typeof this.body&&(this.body instanceof FormData||(this.body=JSON.stringify(this.body),e.setRequestHeader("Content-Type","application/json"))),this.onProgress&&(e.onprogress=this.onProgress),new Promise(((t,i)=>{e.onreadystatechange=()=>{if(4===e.readyState){if(200===e.status||201===e.status||204===e.status)return this.parseResponse(this.xhr).then((e=>{t(e)}));if(!this.isAborting)return this.parseResponse(this.xhr).then((t=>{i(Object.assign({status_code:e.status},t))})).catch((()=>{i({status_code:e.status})}));this.isAborting=!1}},e.onerror=function(e){i(e)},e.send(this.body),this.sendAttempts++}))}parseResponse(e){return new Promise(((t,i)=>{var n;try{if(!e)throw new Error(`No request received. Trying ${this.method} on ${this.url} and expecting ${this.responseType}, but request was ${this.xhr}`);let i=e.response;if(this.contentLength=parseInt(null!==(n=e.getResponseHeader("Content-Length"))&&void 0!==n?n:"0",10),"json"===this.responseType&&"object"!=typeof i)t(JSON.parse(e.responseText));else if(200!==e.status&&201!==e.status&&204!==e.status||"image"!==this.responseType)t(i);else{const e=URL.createObjectURL(i);i=new Image,i.onload=function(){URL.revokeObjectURL(e),t(i)},i.src=e,i.crossOrigin="Anonymous"}}catch(e){i({error:"Payload was not valid JSON"})}}))}abort(){if(null===this.xhr)throw new Error("Cannot abort unsent Request");this.isAborting=!0,this.xhr.abort()}}},29067:(e,t,i)=>{"use strict";i.d(t,{U7:()=>v,fE:()=>c,HE:()=>l,OR:()=>E,WG:()=>d,RS:()=>g,xA:()=>u,hu:()=>h,tK:()=>n,pP:()=>s,HX:()=>y,MJ:()=>m});i(23168);var n,s,r,a,o=i(55669);!function(e){const t=new o.M;e.connect=async function(e,i,n){let s;try{s=await e.connect()}finally{e.cancelConnecting()}return function(e,t,i,n){return new t(i,e).build(n)}(n,await async function(e){if(!e)throw new Error("Unabled to load the sdk");try{const i=await t.load(e,"sdk-client");if(i&&i.SdkBuilder&&"function"==typeof i.SdkBuilder)return i.SdkBuilder}catch(e){}throw Error(`Could not load the sdk from ${e}`)}(s.scriptUrl),i.getFactory(s),s.serializedInterface)}}(n||(n={})),function(e){e.CONNECT="postmessage.connect"}(s||(s={})),function(e){e.HANDSHAKE="postmessage.handshake",e.ACCEPT="postmessage.accept",e.REJECT="postmessage.reject"}(r||(r={}));class l{constructor(e,t={}){this.type=s.CONNECT,this.payload={bootstrapVersion:e,options:{auth:t.auth,provider:t.provider,sdkType:t.sdkType},applicationKey:t.applicationKey}}}class c{constructor(e){this.receiver=e,this.messageType=r.ACCEPT}notify(e,t,i){const{sourceId:n,scriptUrl:s,targetId:r,targetOrigin:a}=e,o=e.interface;this.receiver.accept(n,s,o,r,a)}}!function(e){e.CANCELLED="ConnectionCancelled",e.REFUSED="ConnectionRefused",e.INVALID_PROVIDER="InvalidProvider",e.KEY_MISMATCH="KeyReferrerMismatch"}(a||(a={}));class d extends Error{constructor(){super(),this.type=a.REFUSED,this.name="ConnectionRefusedError"}}class u extends Error{constructor(e){super(e),this.type=a.INVALID_PROVIDER,this.name="InvalidProviderError"}}class h extends Error{constructor(e){super(e),this.type=a.KEY_MISMATCH,this.name="KeyReferrerMismatchError"}}const p={[a.REFUSED]:d,[a.KEY_MISMATCH]:h,[a.INVALID_PROVIDER]:u};class m{constructor(e){this.receiver=e,this.messageType=r.REJECT}notify(e,t,i){const n=p[e.errorType];if(n){const t=new n(e.reason);this.receiver.reject(t)}}}Error;var f;!function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.HANDSHAKE=2]="HANDSHAKE",e[e.CONNECTED=3]="CONNECTED",e[e.REJECTED=4]="REJECTED"}(f||(f={}));class g{constructor(){this.type=r.HANDSHAKE,this.payload={}}}class v{constructor(e,t,i,n,s){this.type=r.ACCEPT,this.payload={scriptUrl:e,interface:t,sourceId:i,targetId:n,targetOrigin:s},this.interface=t}}class y{constructor(e){this.type=r.REJECT,this.payload={reason:e.message,errorType:e.type},this.reason=e.message}}class E{constructor(e){this.receiver=e,this.messageType=s.CONNECT}notify(e,t){this.receiver.onConnectionReceived(e,t)}}},23168:(e,t,i)=>{"use strict";i.d(t,{UX:()=>m,tY:()=>g,Ej:()=>f,l:()=>h,R9:()=>c,TY:()=>l});class n{constructor(e){this.messageReceiver=e}notify(e,t){this.messageReceiver.onMessageReceived(e,t)}}var s=i(46390);class r{listen(){}stopListening(){}send(){throw Error("The sdk has been disconnected and can't make any new calls")}}class a{constructor(e,t,i){this.sourceId=e,this.targetId=t,this.messageBridge=i,this.observers=new s.X}static toFilteredMessenger(e,t,i){const n=new o(e.sourceId,e.targetId,e,t);for(const t of i)for(const i of e.observers.getValuesAtKey(t))n.addObserver(i);return n}init(){const e=new class{constructor(e){this.messenger=e}onMessageReceived(e,t){this.messenger.onMessageReceived(e,t)}}(this),t=new n(e);this.messageBridge.listen(t)}dispose(){this.messageBridge.stopListening(),this.messageBridge=new r}addObserver(e){this.observers.add(e.messageType,e)}removeObserver(e){this.observers.remove(e.messageType,e)}send(e){const t=this.sourceId,i=this.targetId;this.messageBridge.send(Object.assign(Object.assign({},e),{fromId:t,toId:i,timestamp:Date.now()}))}onMessageReceived(e,t){if(!this.filterMessageId(e))return;const i=e.type,n=this.observers.getValuesAtKey(i);if(n)for(const i of n){const n=e.payload||e;i.notify(n,t,e.timestamp)}}filterMessageId(e){const t=e.toId,i=e.fromId;return t instanceof Array?t.indexOf(this.sourceId)>-1:(void 0===t||t===this.sourceId)&&i===this.targetId}}class o extends a{constructor(e,t,i,n){super(e,t,new r),this.messenger=i,this.sendFilter=n,this.errorBridge=new r}send(e){this.sendFilter.includes(e.type)?this.messenger.send(e):this.errorBridge.send()}}class l{constructor(e,t){this.sourceId=e,this.listenerBridge=t,this.observers=new s.X}init(){const e=new class{constructor(e){this.messenger=e}onMessageReceived(e,t){this.messenger.onMessageReceived(e,t)}}(this),t=new n(e);this.listenerBridge.listen(t)}dispose(){this.listenerBridge.stopListening()}addObserver(e){this.observers.add(e.messageType,e)}removeObserver(e){this.observers.remove(e.messageType,e)}send(e,t,i,n){i.send(Object.assign(Object.assign({},e),{fromId:this.sourceId,toId:t,timestamp:Date.now()}),n)}onMessageReceived(e,t){const i=e.type,n=this.observers.getValuesAtKey(i);if(n)for(const i of n){const n=e.payload||e;i.notify(n,t,e.timestamp)}}}class c{constructor(e){this.targetWindow=e,this.messageObserver=null,this.onMessage=e=>{if(this.messageObserver){const t=e.data;this.messageObserver.notify(Object.assign({},t),{id:t.fromId,origin:e.origin,source:e.source},e.data.timestamp)}}}listen(e){this.messageObserver||(this.messageObserver=e,this.targetWindow.addEventListener("message",this.onMessage))}stopListening(){this.targetWindow.removeEventListener("message",this.onMessage),this.messageObserver=null}}class d{constructor(e,t="*"){this.targetWindow=e,this.targetOrigin=t}send(e,t){this.targetWindow.postMessage(e,this.targetOrigin)}}class u{constructor(e,t,i="*"){this.sourceWindow=e,this.listener=new c(e),this.sender=new d(t,i)}listen(e){this.listener.listen(e)}stopListening(){this.listener.stopListening()}send(e){this.sender.send(e,this.sourceWindow)}}class h{constructor(e,t,i,n,s="*"){this.sourceId=e,this.sourceWindow=t,this.targetId=i,this.targetWindow=n,this.targetOrigin=s}createMessenger(){const e=new u(this.sourceWindow,this.targetWindow,this.targetOrigin);return new a(this.sourceId,this.targetId,e)}}class p{constructor(e,t){this.source=e,this.target=t,this.messageObserver=null}listen(e){this.messageObserver||(this.messageObserver=e,this.source.addObserver(e))}stopListening(){this.messageObserver&&this.source.removeObserver(this.messageObserver)}send(e){const t=this.target;t&&t.post(Object.assign({},e),this.source)}}class m{constructor(e,t,i,n){this.sourceId=e,this.sourceNode=t,this.targetId=i,this.targetNode=n}createMessenger(){const e=new p(this.sourceNode,this.targetNode);return new a(this.sourceId,this.targetId,e)}}class f{constructor(e){this.origin=e,this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}post(e,t){for(const i of this.observers)i.notify(e,t)}}class g{constructor(e){this.targetNode=e,this.messageObserver=null,this.onMessage=(e,t)=>{this.messageObserver&&this.messageObserver.notify({payload:Object.assign({},e.payload),type:e.type},{id:e.fromId,source:t},e.timestamp)}}listen(e){this.messageObserver||(this.messageObserver=e,this.targetNode.addObserver({notify:(e,t)=>{this.onMessage(e,t)}}))}stopListening(){this.messageObserver=null}}},69947:(e,t,i)=>{"use strict";var n;i.d(t,{M:()=>n}),function(e){e[e.DOWN=0]="DOWN",e[e.PRESSED=1]="PRESSED",e[e.UP=2]="UP"}(n||(n={}))},20360:(e,t,i)=>{"use strict";var n;i.d(t,{R:()=>n}),function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.RETURN=13]="RETURN",e[e.SHIFT=16]="SHIFT",e[e.CONTROL=17]="CONTROL",e[e.ALT=18]="ALT",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.HASH=35]="HASH",e[e.LEFTARROW=37]="LEFTARROW",e[e.UPARROW=38]="UPARROW",e[e.RIGHTARROW=39]="RIGHTARROW",e[e.DOWNARROW=40]="DOWNARROW",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.AT=64]="AT",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.L_META=91]="L_META",e[e.R_META=93]="R_META",e[e.SEMICOLON=186]="SEMICOLON",e[e.PLUSEQUALS=187]="PLUSEQUALS",e[e.COMMA=188]="COMMA",e[e.DASHUNDERSCORE=189]="DASHUNDERSCORE",e[e.PERIOD=190]="PERIOD",e[e.OPENBRACKET=219]="OPENBRACKET"}(n||(n={}))},40333:(e,t,i)=>{"use strict";var n,s;i.d(t,{M:()=>n,r:()=>s}),function(e){e[e.PRIMARY=0]="PRIMARY",e[e.MIDDLE=1]="MIDDLE",e[e.SECONDARY=2]="SECONDARY",e[e.BACK=3]="BACK",e[e.FORWARD=4]="FORWARD",e[e.COUNT=5]="COUNT"}(n||(n={})),function(e){e[e.NONE=0]="NONE",e[e.PRIMARY=1]="PRIMARY",e[e.SECONDARY=4]="SECONDARY",e[e.MIDDLE=2]="MIDDLE",e[e.BACK=8]="BACK",e[e.FORWARD=16]="FORWARD",e[e.ALL=31]="ALL"}(s||(s={}))},900:(e,t,i)=>{"use strict";var n;i.d(t,{_:()=>n}),function(e){e.MOUSE="mouse",e.TOUCH="touch",e.PEN="pen",e.GAMEPAD="gamepad"}(n||(n={}))},46390:(e,t,i)=>{"use strict";i.d(t,{X:()=>n,V:()=>s});class n{constructor(){this.values={}}add(e,t){this.getValuesAtKey(e).push(t)}remove(e,t){const i=this.values[e];if(i){const e=i.indexOf(t);e>-1&&i.splice(e,1)}}removeKey(e){delete this.values[e]}getValuesAtKey(e){const t=this.values[e]||[];return this.values[e]=t,t}valuesPerKey(e){return this.getValuesAtKey(e).length}find(e,t){return this.values[e]&&this.values[e].find(t)}get keys(){return Object.keys(this.values)}hasKey(e){return e in this.values}has(e,t){return this.hasKey(e)&&this.values[e].includes(t)}*[Symbol.iterator](){for(const e in this.values)for(const t of this.values[e])yield[e,t]}}class s{constructor(){this.values=new Map}add(e,t){this.getValuesAtKey(e).add(t)}remove(e,t){const i=this.values.get(e);null==i||i.delete(t)}removeKey(e){this.values.delete(e)}getValuesAtKey(e){const t=this.values.get(e)||new Set;return this.values.set(e,t),t}valuesPerKey(e){return this.getValuesAtKey(e).size}get keys(){return this.values.keys()}hasKey(e){return this.values.has(e)}has(e,t){var i;return!!(null===(i=this.values.get(e))||void 0===i?void 0:i.has(t))}*[Symbol.iterator](){for(const[e,t]of this.values)for(const i of t)yield[e,i]}}},49518:(e,t,i)=>{"use strict";function n(e){return"number"==typeof e&&!isNaN(e)}i.d(t,{hj:()=>n})},77519:(e,t,i)=>{"use strict";function n(e){return!!e&&"object"==typeof e}i.d(t,{K:()=>n})},48199:(e,t,i)=>{"use strict";function n(e){return"string"==typeof e}i.d(t,{t:()=>n})},81746:(e,t,i)=>{"use strict";function n(e,t){return Object.values(e).includes(t)}i.d(t,{p:()=>n})},73908:(e,t,i)=>{"use strict";i.d(t,{u:()=>s});var n=i(49518);function s(e){if(e&&"object"==typeof e&&"x"in e&&"y"in e&&"z"in e){const t=e;return(0,n.hj)(t.x)&&(0,n.hj)(t.y)&&(0,n.hj)(t.z)}return!1}},42238:function(e,t,i){var n;!function(s,r){"use strict";var a="function",o="undefined",l="object",c="model",d="name",u="type",h="vendor",p="version",m="architecture",f="console",g="mobile",v="tablet",y="smarttv",E="wearable",b={extend:function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},S={rgx:function(e,t){for(var i,n,s,o,c,d,u=0;u<t.length&&!c;){var h=t[u],p=t[u+1];for(i=n=0;i<h.length&&!c;)if(c=h[i++].exec(e))for(s=0;s<p.length;s++)d=c[++n],typeof(o=p[s])===l&&o.length>0?2==o.length?typeof o[1]==a?this[o[0]]=o[1].call(this,d):this[o[0]]=o[1]:3==o.length?typeof o[1]!==a||o[1].exec&&o[1].test?this[o[0]]=d?d.replace(o[1],o[2]):r:this[o[0]]=d?o[1].call(this,d,o[2]):r:4==o.length&&(this[o[0]]=d?o[3].call(this,d.replace(o[1],o[2])):r):this[o]=d||r;u+=2}},str:function(e,t){for(var i in t)if(typeof t[i]===l&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(b.has(t[i][n],e))return"?"===i?r:i}else if(b.has(t[i],e))return"?"===i?r:i;return e}},O={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},T={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[d,p],[/(opios)[\/\s]+([\w\.]+)/i],[[d,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[d,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[d,p],[/(konqueror)\/([\w\.]+)/i],[[d,"Konqueror"],p],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[d,"IE"],p],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[d,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[d,"Yandex"],p],[/(Avast)\/([\w\.]+)/i],[[d,"Avast Secure Browser"],p],[/(AVG)\/([\w\.]+)/i],[[d,"AVG Secure Browser"],p],[/(puffin)\/([\w\.]+)/i],[[d,"Puffin"],p],[/(focus)\/([\w\.]+)/i],[[d,"Firefox Focus"],p],[/(opt)\/([\w\.]+)/i],[[d,"Opera Touch"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[d,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(windowswechat qbcore)\/([\w\.]+)/i],[[d,"WeChat(Win) Desktop"],p],[/(micromessenger)\/([\w\.]+)/i],[[d,"WeChat"],p],[/(brave)\/([\w\.]+)/i],[[d,"Brave"],p],[/(whale)\/([\w\.]+)/i],[[d,"Whale"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[d,p],[/(QQ)\/([\d\.]+)/i],[d,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[d,p],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[d,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[d,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[d],[/(LBBROWSER)/i],[d],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[d,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[d,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[d,p],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[d,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[d,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[d,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[d,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[d,"Sailfish Browser"],p],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[d,p],[/(dolfin)\/([\w\.]+)/i],[[d,"Dolphin"],p],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[d,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[d,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[d,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[d,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,d],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[d,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[p,S.str,O.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,b.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",b.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,b.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[c,h,[u,v]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[h,"Apple"],[u,v]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[h,"Apple"],[u,y]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,c,[u,v]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[c,[h,"Amazon"],[u,v]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[c,S.str,O.device.amazon.model],[h,"Amazon"],[u,g]],[/android.+aft([bms])\sbuild/i],[c,[h,"Amazon"],[u,y]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,h,[u,g]],[/\((ip[honed|\s\w*]+);/i],[c,[h,"Apple"],[u,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,c,[u,g]],[/\(bb10;\s(\w+)/i],[c,[h,"BlackBerry"],[u,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[c,[h,"Asus"],[u,v]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[h,"Sony"],[c,"Xperia Tablet"],[u,v]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,"Sony"],[u,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,c,[u,f]],[/android.+;\s(shield)\sbuild/i],[c,[h,"Nvidia"],[u,f]],[/(playstation\s[34portablevi]+)/i],[c,[h,"Sony"],[u,f]],[/(sprint\s(\w+))/i],[[h,S.str,O.device.sprint.vendor],[c,S.str,O.device.sprint.model],[u,g]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[c,/_/g," "],[u,g]],[/(nexus\s9)/i],[c,[h,"HTC"],[u,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[c,[h,"Huawei"],[u,g]],[/android.+(bah2?-a?[lw]\d{2})/i],[c,[h,"Huawei"],[u,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[h,c,[u,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[h,"Microsoft"],[u,f]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,"Microsoft"],[u,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[h,"Motorola"],[u,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[h,"Motorola"],[u,v]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,b.trim],[c,b.trim],[u,y]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,"Samsung"],[u,y]],[/\(dtv[\);].+(aquos)/i],[c,[h,"Sharp"],[u,y]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],c,[u,v]],[/smart-tv.+(samsung)/i],[h,[u,y],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[h,"Samsung"],c,[u,g]],[/sie-(\w*)/i],[c,[h,"Siemens"],[u,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[h,"Nokia"],c,[u,g]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[h,"Acer"],[u,v]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[h,"LG"],[u,v]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],c,[u,v]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[h,"LG"],c,[u,y]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[h,"LG"],[u,g]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[h,c,[u,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[h,"Lenovo"],[u,v]],[/(lenovo)[_\s-]?([\w-]+)/i],[h,c,[u,g]],[/linux;.+((jolla));/i],[h,c,[u,g]],[/((pebble))app\/[\d\.]+\s/i],[h,c,[u,E]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,c,[u,g]],[/crkey/i],[[c,"Chromecast"],[h,"Google"],[u,y]],[/android.+;\s(glass)\s\d/i],[c,[h,"Google"],[u,E]],[/android.+;\s(pixel c)[\s)]/i],[c,[h,"Google"],[u,v]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[c,[h,"Google"],[u,g]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[c,/_/g," "],[h,"Xiaomi"],[u,g]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[c,/_/g," "],[h,"Xiaomi"],[u,v]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[h,"Meizu"],[u,g]],[/(mz)-([\w-]{2,})/i],[[h,"Meizu"],c,[u,g]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[c,[h,"OnePlus"],[u,g]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[h,"RCA"],[u,v]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[c,[h,"Dell"],[u,v]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[h,"Verizon"],[u,v]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[h,"Barnes & Noble"],c,[u,v]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[h,"NuVision"],[u,v]],[/android.+;\s(k88)\sbuild/i],[c,[h,"ZTE"],[u,v]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[h,"Swiss"],[u,g]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[h,"Swiss"],[u,v]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[h,"Zeki"],[u,v]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[h,"Dragon Touch"],c,[u,v]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[h,"Insignia"],[u,v]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[h,"NextBook"],[u,v]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[h,"Voice"],c,[u,g]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[h,"LvTel"],c,[u,g]],[/android.+;\s(PH-1)\s/i],[c,[h,"Essential"],[u,g]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[h,"Envizen"],[u,v]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[h,c,[u,v]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[c,[h,"MachSpeed"],[u,v]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[h,c,[u,v]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[h,"Rotor"],[u,v]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[h,c,[u,v]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[c,[u,g]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[c,[u,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,b.lowerize],h,c],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,y]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[h,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[d,[p,S.str,O.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[p,S.str,O.os.windows.version]],[/\((bb)(10);/i],[[d,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[d,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[d,"Symbian"],p],[/\((series40);/i],[d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"],p],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[d,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[d,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[d,p],[/(haiku)\s(\w+)/i],[d,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[d,p]]},_=function(e,t){if("object"==typeof e&&(t=e,e=r),!(this instanceof _))return new _(e,t).getResult();var i=e||(s&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:""),n=t?b.extend(T,t):T;return this.getBrowser=function(){var e={name:r,version:r};return S.rgx.call(e,i,n.browser),e.major=b.major(e.version),e},this.getCPU=function(){var e={architecture:r};return S.rgx.call(e,i,n.cpu),e},this.getDevice=function(){var e={vendor:r,model:r,type:r};return S.rgx.call(e,i,n.device),e},this.getEngine=function(){var e={name:r,version:r};return S.rgx.call(e,i,n.engine),e},this.getOS=function(){var e={name:r,version:r};return S.rgx.call(e,i,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};_.VERSION="0.7.23",_.BROWSER={NAME:d,MAJOR:"major",VERSION:p},_.CPU={ARCHITECTURE:m},_.DEVICE={MODEL:c,VENDOR:h,TYPE:u,CONSOLE:f,MOBILE:g,SMARTTV:y,TABLET:v,WEARABLE:E,EMBEDDED:"embedded"},_.ENGINE={NAME:d,VERSION:p},_.OS={NAME:d,VERSION:p},typeof t!==o?(e.exports&&(t=e.exports=_),t.UAParser=_):(n=function(){return _}.call(t,i,t,e))===r||(e.exports=n);var N=s&&(s.jQuery||s.Zepto);if(N&&!N.ua){var w=new _;N.ua=w.getResult(),N.ua.get=function(){return w.getUA()},N.ua.set=function(e){w.setUA(e);var t=w.getResult();for(var i in t)N.ua[i]=t[i]}}}("object"==typeof window?window:this)},52511:function(e,t,i){var n;e=i.nmd(e),function(s){t&&t.nodeType,e&&e.nodeType;var r="object"==typeof i.g&&i.g;r.global!==r&&r.window!==r&&r.self;var a,o=2147483647,l=36,c=/^xn--/,d=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function f(e){throw RangeError(h[e])}function g(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function v(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+g((e=e.replace(u,".")).split("."),t).join(".")}function y(e){for(var t,i,n=[],s=0,r=e.length;s<r;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<r?56320==(64512&(i=e.charCodeAt(s++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),s--):n.push(t);return n}function E(e){return g(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,i){var n=0;for(e=i?p(e/700):e>>1,e+=p(e/t);e>455;n+=l)e=p(e/35);return p(n+36*e/(e+38))}function O(e){var t,i,n,s,r,a,c,d,u,h,m,g=[],v=e.length,y=0,b=128,O=72;for((i=e.lastIndexOf("-"))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&f("not-basic"),g.push(e.charCodeAt(n));for(s=i>0?i+1:0;s<v;){for(r=y,a=1,c=l;s>=v&&f("invalid-input"),((d=(m=e.charCodeAt(s++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:l)>=l||d>p((o-y)/a))&&f("overflow"),y+=d*a,!(d<(u=c<=O?1:c>=O+26?26:c-O));c+=l)a>p(o/(h=l-u))&&f("overflow"),a*=h;O=S(y-r,t=g.length+1,0==r),p(y/t)>o-b&&f("overflow"),b+=p(y/t),y%=t,g.splice(y++,0,b)}return E(g)}function T(e){var t,i,n,s,r,a,c,d,u,h,g,v,E,O,T,_=[];for(v=(e=y(e)).length,t=128,i=0,r=72,a=0;a<v;++a)(g=e[a])<128&&_.push(m(g));for(n=s=_.length,s&&_.push("-");n<v;){for(c=o,a=0;a<v;++a)(g=e[a])>=t&&g<c&&(c=g);for(c-t>p((o-i)/(E=n+1))&&f("overflow"),i+=(c-t)*E,t=c,a=0;a<v;++a)if((g=e[a])<t&&++i>o&&f("overflow"),g==t){for(d=i,u=l;!(d<(h=u<=r?1:u>=r+26?26:u-r));u+=l)T=d-h,O=l-h,_.push(m(b(h+T%O,0))),d=p(T/O);_.push(m(b(d,0))),r=S(i,E,n==s),i=0,++n}++i,++t}return _.join("")}a={version:"1.3.2",ucs2:{decode:y,encode:E},decode:O,encode:T,toASCII:function(e){return v(e,(function(e){return d.test(e)?"xn--"+T(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?O(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return a}.call(t,i,t,e))||(e.exports=n)}()},8575:(e,t,i)=>{"use strict";var n=i(52511),s=i(62502);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=E;var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(c),u=["%","/","?",";","#"].concat(d),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=i(17673);function E(e,t,i){if(e&&s.isObject(e)&&e instanceof r)return e;var n=new r;return n.parse(e,t,i),n}r.prototype.parse=function(e,t,i){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",c=e.split(o);c[0]=c[0].replace(/\\/g,"/");var E=e=c.join(o);if(E=E.trim(),!i&&1===e.split("#").length){var b=l.exec(E);if(b)return this.path=E,this.href=E,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=a.exec(E);if(S){var O=(S=S[0]).toLowerCase();this.protocol=O,E=E.substr(S.length)}if(i||S||E.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===E.substr(0,2);!T||S&&g[S]||(E=E.substr(2),this.slashes=!0)}if(!g[S]&&(T||S&&!v[S])){for(var _,N,w=-1,A=0;A<h.length;A++){-1!==(I=E.indexOf(h[A]))&&(-1===w||I<w)&&(w=I)}-1!==(N=-1===w?E.lastIndexOf("@"):E.lastIndexOf("@",w))&&(_=E.slice(0,N),E=E.slice(N+1),this.auth=decodeURIComponent(_)),w=-1;for(A=0;A<u.length;A++){var I;-1!==(I=E.indexOf(u[A]))&&(-1===w||I<w)&&(w=I)}-1===w&&(w=E.length),this.host=E.slice(0,w),E=E.slice(w),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var P=this.hostname.split(/\./),L=(A=0,P.length);A<L;A++){var D=P[A];if(D&&!D.match(p)){for(var R="",M=0,C=D.length;M<C;M++)D.charCodeAt(M)>127?R+="x":R+=D[M];if(!R.match(p)){var x=P.slice(0,A),F=P.slice(A+1),U=D.match(m);U&&(x.push(U[1]),F.unshift(U[2])),F.length&&(E="/"+F.join(".")+E),this.hostname=x.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=n.toASCII(this.hostname));var H=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+H,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==E[0]&&(E="/"+E))}if(!f[O])for(A=0,L=d.length;A<L;A++){var V=d[A];if(-1!==E.indexOf(V)){var B=encodeURIComponent(V);B===V&&(B=escape(V)),E=E.split(V).join(B)}}var G=E.indexOf("#");-1!==G&&(this.hash=E.substr(G),E=E.slice(0,G));var W=E.indexOf("?");if(-1!==W?(this.search=E.substr(W),this.query=E.substr(W+1),t&&(this.query=y.parse(this.query)),E=E.slice(0,W)):t&&(this.search="",this.query={}),E&&(this.pathname=E),v[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){H=this.pathname||"";var z=this.search||"";this.path=H+z}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,a="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+r+(i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+n},r.prototype.resolve=function(e){return this.resolveObject(E(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(s.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var i=new r,n=Object.keys(this),a=0;a<n.length;a++){var o=n[a];i[o]=this[o]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var d=l[c];"protocol"!==d&&(i[d]=e[d])}return v[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!v[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var p=u[h];i[p]=e[p]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||g[e.protocol])i.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),i.pathname=m.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var f=i.pathname||"",y=i.search||"";i.path=f+y}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var E=i.pathname&&"/"===i.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=b||E||i.host&&e.pathname,O=S,T=i.pathname&&i.pathname.split("/")||[],_=(m=e.pathname&&e.pathname.split("/")||[],i.protocol&&!v[i.protocol]);if(_&&(i.hostname="",i.port=null,i.host&&(""===T[0]?T[0]=i.host:T.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),S=S&&(""===m[0]||""===T[0])),b)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,T=m;else if(m.length)T||(T=[]),T.pop(),T=T.concat(m),i.search=e.search,i.query=e.query;else if(!s.isNullOrUndefined(e.search)){if(_)i.hostname=i.host=T.shift(),(k=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=k.shift(),i.host=i.hostname=k.shift());return i.search=e.search,i.query=e.query,s.isNull(i.pathname)&&s.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!T.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var N=T.slice(-1)[0],w=(i.host||e.host||T.length>1)&&("."===N||".."===N)||""===N,A=0,I=T.length;I>=0;I--)"."===(N=T[I])?T.splice(I,1):".."===N?(T.splice(I,1),A++):A&&(T.splice(I,1),A--);if(!S&&!O)for(;A--;A)T.unshift("..");!S||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),w&&"/"!==T.join("/").substr(-1)&&T.push("");var k,P=""===T[0]||T[0]&&"/"===T[0].charAt(0);_&&(i.hostname=i.host=P?"":T.length?T.shift():"",(k=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=k.shift(),i.host=i.hostname=k.shift()));return(S=S||i.host&&T.length)&&!P&&T.unshift(""),T.length?i.pathname=T.join("/"):(i.pathname=null,i.path=null),s.isNull(i.pathname)&&s.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},r.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},86388:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(67294);function s(e,t,i){return e[t]?e[t][0]?e[t][0][i]:e[t][i]:"contentBoxSize"===t?e.contentRect["inlineSize"===i?"width":"height"]:void 0}function r(e){void 0===e&&(e={});var t=e.onResize,i=(0,n.useRef)(void 0);i.current=t;var r=e.round||Math.round,a=(0,n.useRef)(),o=(0,n.useState)({width:void 0,height:void 0}),l=o[0],c=o[1],d=(0,n.useRef)(!1);(0,n.useEffect)((function(){return d.current=!1,function(){d.current=!0}}),[]);var u=(0,n.useRef)({width:void 0,height:void 0}),h=function(e,t){var i=(0,n.useRef)(null),s=(0,n.useRef)(null);s.current=t;var r=(0,n.useRef)(null);(0,n.useEffect)((function(){a()}));var a=(0,n.useCallback)((function(){var t=r.current,n=s.current,a=t||(n?n instanceof Element?n:n.current:null);i.current&&i.current.element===a&&i.current.subscriber===e||(i.current&&i.current.cleanup&&i.current.cleanup(),i.current={element:a,subscriber:e,cleanup:a?e(a):void 0})}),[e]);return(0,n.useEffect)((function(){return function(){i.current&&i.current.cleanup&&(i.current.cleanup(),i.current=null)}}),[]),(0,n.useCallback)((function(e){r.current=e,a()}),[a])}((0,n.useCallback)((function(t){return a.current&&a.current.box===e.box&&a.current.round===r||(a.current={box:e.box,round:r,instance:new ResizeObserver((function(t){var n=t[0],a="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",o=s(n,a,"inlineSize"),l=s(n,a,"blockSize"),h=o?r(o):void 0,p=l?r(l):void 0;if(u.current.width!==h||u.current.height!==p){var m={width:h,height:p};u.current.width=h,u.current.height=p,i.current?i.current(m):d.current||c(m)}}))}),a.current.instance.observe(t,{box:e.box}),function(){a.current&&a.current.instance.unobserve(t)}}),[e.box,r]),e.ref);return(0,n.useMemo)((function(){return{ref:h,width:l.width,height:l.height}}),[h,l.width,l.height])}},53250:(e,t,i)=>{"use strict";var n=i(67294);var s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=n.useState,a=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!s(e,i)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var i=t(),n=r({inst:{value:i,getSnapshot:t}}),s=n[0].inst,d=n[1];return o((function(){s.value=i,s.getSnapshot=t,c(s)&&d({inst:s})}),[e,i,t]),a((function(){return c(s)&&d({inst:s}),e((function(){c(s)&&d({inst:s})}))}),[e]),l(i),i};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},61688:(e,t,i)=>{"use strict";e.exports=i(53250)},42473:e=>{"use strict";var t=function(){};e.exports=t},55512:(e,t,i)=>{var n,s;void 0===(s="function"==typeof(n=function(){"use strict";const e=6406,t=6407,i=6408,n=6409,s=6410,r=6402,a=34041,o=33321,l=36756,c=33325,d=33326,u=33330,h=33329,p=33338,m=33337,f=33340,g=33339,v=33323,y=36757,E=33327,b=33328,S=33336,O=33335,T=33332,_=33331,N=33334,w=33333,A=32849,I=35905,k=36194,P=36758,L=35898,D=35901,R=34843,M=34837,C=36221,x=36239,F=36215,U=36233,H=36209,j=36227,V=32856,B=35907,G=36759,W=32855,z=32854,K=32857,Y=34842,q=34836,$=36220,Z=36238,Q=36975,X=36214,J=36232,ee=36226,te=36208,ie=33189,ne=33190,se=36012,re=36013,ae=35056,oe=5121,le=5123,ce=5125,de=5126,ue=32819,he=32820,pe=33635,me=5131,fe=36193,ge=35906;let ve;function ye(ye){if(!ve){const ye={};ye[e]={bytesPerElement:[1,2,2,4],type:[oe,me,fe,de]},ye[n]={bytesPerElement:[1,2,2,4],type:[oe,me,fe,de]},ye[s]={bytesPerElement:[2,4,4,8],type:[oe,me,fe,de]},ye[t]={bytesPerElement:[3,6,6,12,2],type:[oe,me,fe,de,pe]},ye[i]={bytesPerElement:[4,8,8,16,2,2],type:[oe,me,fe,de,ue,he]},ye[ge]={bytesPerElement:[4,8,8,16,2,2],type:[oe,me,fe,de,ue,he]},ye[r]={bytesPerElement:[2,4],type:[ce,le]},ye[a]={bytesPerElement:[4]},ye[o]={bytesPerElement:[1]},ye[l]={bytesPerElement:[1]},ye[c]={bytesPerElement:[2]},ye[d]={bytesPerElement:[4]},ye[u]={bytesPerElement:[1]},ye[h]={bytesPerElement:[1]},ye[T]={bytesPerElement:[2]},ye[_]={bytesPerElement:[2]},ye[N]={bytesPerElement:[4]},ye[w]={bytesPerElement:[4]},ye[v]={bytesPerElement:[2]},ye[y]={bytesPerElement:[2]},ye[E]={bytesPerElement:[4]},ye[b]={bytesPerElement:[8]},ye[S]={bytesPerElement:[2]},ye[O]={bytesPerElement:[2]},ye[p]={bytesPerElement:[4]},ye[m]={bytesPerElement:[4]},ye[f]={bytesPerElement:[8]},ye[g]={bytesPerElement:[8]},ye[A]={bytesPerElement:[3]},ye[I]={bytesPerElement:[3]},ye[k]={bytesPerElement:[2]},ye[P]={bytesPerElement:[3]},ye[L]={bytesPerElement:[4]},ye[D]={bytesPerElement:[4]},ye[R]={bytesPerElement:[6]},ye[M]={bytesPerElement:[12]},ye[C]={bytesPerElement:[3]},ye[x]={bytesPerElement:[3]},ye[F]={bytesPerElement:[6]},ye[U]={bytesPerElement:[6]},ye[H]={bytesPerElement:[12]},ye[j]={bytesPerElement:[12]},ye[V]={bytesPerElement:[4]},ye[B]={bytesPerElement:[4]},ye[G]={bytesPerElement:[4]},ye[W]={bytesPerElement:[2]},ye[z]={bytesPerElement:[2]},ye[K]={bytesPerElement:[4]},ye[Y]={bytesPerElement:[8]},ye[q]={bytesPerElement:[16]},ye[$]={bytesPerElement:[4]},ye[Z]={bytesPerElement:[4]},ye[Q]={bytesPerElement:[4]},ye[X]={bytesPerElement:[8]},ye[J]={bytesPerElement:[8]},ye[ee]={bytesPerElement:[16]},ye[te]={bytesPerElement:[16]},ye[ie]={bytesPerElement:[2]},ye[ne]={bytesPerElement:[4]},ye[se]={bytesPerElement:[4]},ye[ae]={bytesPerElement:[4]},ye[re]={bytesPerElement:[4]},ve=ye}return ve[ye]}function Ee(e,t,i){return function(n,s,r){return((n+e-1)/e|0)*((s+t-1)/t|0)*i*r}}function be(e,t,i){return function(n,s,r){return(Math.max(n,e)*Math.max(s,t)/i|0)*r}}const Se=33777,Oe=33778,Te=33779,_e=36196,Ne=35840,we=35841,Ae=35842,Ie=35843,ke=37488,Pe=37489,Le=37490,De=37491,Re=37492,Me=37493,Ce=37494,xe=37495,Fe=37496,Ue=37497,He=37808,je=37809,Ve=37810,Be=37811,Ge=37812,We=37813,ze=37814,Ke=37815,Ye=37816,qe=37817,$e=37818,Ze=37819,Qe=37820,Xe=37821,Je=37840,et=37841,tt=37842,it=37843,nt=37844,st=37845,rt=37846,at=37847,ot=37848,lt=37849,ct=37850,dt=37851,ut=37852,ht=37853,pt=35916,mt=35917,ft=35918,gt=35919,vt=36492,yt=36493,Et=36494,bt=36495,St=36283,Ot=36284,Tt=36285,_t=36286,Nt=new Map([[33776,Ee(4,4,8)],[Se,Ee(4,4,8)],[Oe,Ee(4,4,16)],[Te,Ee(4,4,16)],[_e,Ee(4,4,8)],[Ne,be(8,8,2)],[Ae,be(8,8,2)],[we,be(16,8,4)],[Ie,be(16,8,4)],[ke,Ee(4,4,8)],[Pe,Ee(4,4,8)],[Re,Ee(4,4,8)],[Me,Ee(4,4,8)],[Ce,Ee(4,4,8)],[xe,Ee(4,4,8)],[Le,Ee(4,4,16)],[De,Ee(4,4,16)],[Fe,Ee(4,4,16)],[Ue,Ee(4,4,16)],[He,Ee(4,4,16)],[Je,Ee(4,4,16)],[je,Ee(5,4,16)],[et,Ee(5,4,16)],[Ve,Ee(5,5,16)],[tt,Ee(5,5,16)],[Be,Ee(6,5,16)],[it,Ee(6,5,16)],[Ge,Ee(6,6,16)],[nt,Ee(6,6,16)],[We,Ee(8,5,16)],[st,Ee(8,5,16)],[ze,Ee(8,6,16)],[rt,Ee(8,6,16)],[Ke,Ee(8,8,16)],[at,Ee(8,8,16)],[Ye,Ee(10,5,16)],[ot,Ee(10,5,16)],[qe,Ee(10,6,16)],[lt,Ee(10,6,16)],[$e,Ee(10,8,16)],[ct,Ee(10,8,16)],[Ze,Ee(10,10,16)],[dt,Ee(10,10,16)],[Qe,Ee(12,10,16)],[ut,Ee(12,10,16)],[Xe,Ee(12,12,16)],[ht,Ee(12,12,16)],[pt,Ee(4,4,8)],[mt,Ee(4,4,8)],[ft,Ee(4,4,16)],[gt,Ee(4,4,16)],[vt,Ee(4,4,16)],[yt,Ee(4,4,16)],[Et,Ee(4,4,16)],[bt,Ee(4,4,16)],[St,Ee(4,4,8)],[Ot,Ee(4,4,8)],[Tt,Ee(4,4,16)],[_t,Ee(4,4,16)]]);function wt(e,t){const i=ye(e);if(!i)throw"unknown internal format";if(i.type){const n=i.type.indexOf(t);if(n<0)throw new Error(`unsupported type ${t} for internalformat ${e}`);return i.bytesPerElement[n]}return i.bytesPerElement[0]}function At(e,t,i,n,s){return t*i*n*wt(e,s)}function It(e,t,i,n,s){const r=Nt.get(e);return r?r(t,i,n):At(e,t,i,n,s)}function kt(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer}function Pt(e){return kt(e)||e instanceof ArrayBuffer}function Lt(e){return{samples:e.getParameter(e.SAMPLES),depthBits:e.getParameter(e.DEPTH_BITS),contextAttributes:e.getContextAttributes()}}function Dt(e,t){const{samples:i,depthBits:n,contextAttributes:s}=t,{width:r,height:a}=e.canvas,o=r*a*4,l=s.depth?1:0,c=s.stencil?1:0;return o+o*i+o*l*Math.min(c+n>16?4:2,4)}function Rt(e){return"number"==typeof e}const Mt=new Set;function Ct(e,t,i={}){if(Mt.has(e))return e;Mt.add(e);const n=i.origGLErrorFn||e.getError;function s(e){const t=Lt(e),n={baseContext:e,config:i,apis:{gman_webgl_memory:{ctx:{getMemoryInfo(){const i=Dt(e,t);return{memory:{...d,drawingbuffer:i,total:i+d.buffer+d.texture+d.renderbuffer},resources:{...u}}}}}},resources:{},memory:{texture:0,buffer:0,renderbuffer:0},bindings:new Map,defaultVertexArray:{},webglObjectToMemory:new Map},s=new Set(["webgl","webgl2","webgl_lose_context"]);function r(){n.bindings.clear(),n.webglObjectToMemory.clear(),n.webglObjectToMemory.set(n.defaultVertexArray,{}),n.currentVertexArray=n.defaultVertexArray,[n.resources,n.memory].forEach((function(e){for(let t in e)e[t]=0}))}function o(){r(),n.isContextLost=!0;for(const[e,{ctx:t,origFuncs:i}]of[...Object.entries(n.apis)])if(!s.has(e)&&i){Mt.delete(t);for(const[e,n]of Object.entries(i))t[e]=n;delete a[e]}}function l(){n.isContextLost=!1}return e.canvas&&(e.canvas.addEventListener("webglcontextlost",o),e.canvas.addEventListener("webglcontextrestored",l)),r(),n}const r=i.sharedState||s(e);i.sharedState=r;const{apis:a,baseContext:o,bindings:l,config:c,memory:d,resources:u,webglObjectToMemory:h}=r,p={};function m(){}function f(e,t,i){if(e[i||`create${t[0].toUpperCase()}${t.substr(1)}`])return u[t]=0,function(e,i,n,s){if(r.isContextLost)return null;++u[t],h.set(s,{size:0})}}function g(t,i=m,n){const s=n||`delete${t[0].toUpperCase()}${t.substr(1)}`;if(e[s])return function(e,n,s){if(r.isContextLost)return;const[a]=s,o=h.get(a);o&&(--u[t],i(a,o),h.delete(a))}}function v(e,t,i,n,s){if(r.isContextLost)return;const a=l.get(e);if(!a)throw new Error(`no renderbuffer bound to ${e}`);const o=h.get(a);if(!o)throw new Error(`unknown renderbuffer ${a}`);const c=It(i,n,s,1)*t;d.renderbuffer-=o.size,o.size=c,d.renderbuffer+=c}const y=34963,E=5121,b=34067,S=35866,O=34069,T=33084,_=33085,N=new Set([O,34070,34071,34072,34073,34074]);function w(e){return N.has(e)}function A(e){e=w(e)?b:e;const t=l.get(e);if(!t)throw new Error(`no texture bound to ${e}`);const i=h.get(t);if(!i)throw new Error(`unknown texture ${t}`);return i}function I(e,t,i,n,s,r,a,o){const l=e.size,c=It(n,s,r,a,o),u=w(t)?t-O:0;e.mips=e.mips||[],e.mips[i]=e.mips[i]||[];const h=e.mips[i][u]||{};e.size-=h.size||0,h.size=c,h.internalFormat=n,h.type=o,h.width=s,h.height=r,h.depth=a,e.mips[i][u]=h,e.size+=c,d.texture-=l,d.texture+=e.size}function k(e,t,i,n,s,r){const a=A(e),o=e===b?6:1,l=e===b?O:e;for(let c=0;c<t;++c){for(let e=0;e<o;++e)I(a,l+e,c,i,n,s,r);n=Math.ceil(Math.max(n/2,1)),s=Math.ceil(Math.max(s/2,1)),r=e===S?r:Math.ceil(Math.max(r/2,1))}}function P(e,t,i){if(r.isContextLost)return;const[n]=i;r.currentVertexArray=n||r.defaultVertexArray}function L(e,t){if(!r.isContextLost)switch(e){case y:h.get(r.currentVertexArray).elementArrayBuffer=t;break;default:l.set(e,t)}}const D={},R={bufferData(e,t,i){if(r.isContextLost)return;const[n,s,,a=0,o]=i;let c;switch(n){case y:c=h.get(r.currentVertexArray).elementArrayBuffer;break;default:c=l.get(n)}if(!c)throw new Error(`no buffer bound to ${n}`);let u=0;if(void 0!==o)u=o*s.BYTES_PER_ELEMENT;else if(Pt(s))u=s.byteLength;else{if(!Rt(s))throw new Error(`unsupported bufferData src type ${s}`);u=s}const p=h.get(c);if(!p)throw new Error(`unknown buffer ${c}`);d.buffer-=p.size,p.size=u,d.buffer+=u},bindVertexArray:P,bindVertexArrayOES:P,bindBuffer(e,t,i){const[n,s]=i;L(n,s)},bindBufferBase(e,t,i){const[n,s,r]=i;L(n,r)},bindBufferRange(e,t,i){const[n,s,r,a,o]=i;L(n,r)},bindRenderbuffer(e,t,i){if(r.isContextLost)return;const[n,s]=i;l.set(n,s)},bindTexture(e,t,i){if(r.isContextLost)return;const[n,s]=i;l.set(n,s)},copyTexImage2D(e,t,i){if(r.isContextLost)return;const[n,s,a,o,l,c,d,u]=i;I(A(n),n,s,a,c,d,1,E)},createBuffer:f(e,"buffer"),createFramebuffer:f(e,"framebuffer"),createRenderbuffer:f(e,"renderbuffer"),createProgram:f(e,"program"),createQuery:f(e,"query"),createShader:f(e,"shader"),createSampler:f(e,"sampler"),createTexture:f(e,"texture"),createTransformFeedback:f(e,"transformFeedback"),createVertexArray:f(e,"vertexArray"),createVertexArrayOES:f(e,"vertexArray","createVertexArrayOES"),compressedTexImage2D(e,t,i){if(r.isContextLost)return;const[n,s,a,o,l]=i;I(A(n),n,s,a,o,l,1,E)},compressedTexImage3D(e,t,i){if(r.isContextLost)return;const[n,s,a,o,l,c]=i;I(A(n),n,s,a,o,l,c,E)},deleteBuffer:g("buffer",(function(e,t){d.buffer-=t.size})),deleteFramebuffer:g("framebuffer"),deleteProgram:g("program"),deleteQuery:g("query"),deleteRenderbuffer:g("renderbuffer",(function(e,t){d.renderbuffer-=t.size})),deleteSampler:g("sampler"),deleteShader:g("shader"),deleteSync:g("sync"),deleteTexture:g("texture",(function(e,t){d.texture-=t.size})),deleteTransformFeedback:g("transformFeedback"),deleteVertexArray:g("vertexArray"),deleteVertexArrayOES:g("vertexArray",m,"deleteVertexArrayOES"),fenceSync:function(e){if(!r.isContextLost&&e.fenceSync)return u.sync=0,function(e,t,i,n){++u.sync,h.set(n,{size:0})}}(e),generateMipmap(e,t,i){if(r.isContextLost)return;const[n]=i,s=A(n),a=s.parameters&&s.parameters.get(T)||0,o=s.parameters&&s.parameters.get(_)||1024;let{width:l,height:c,depth:d,internalFormat:u,type:h}=s.mips[a][0],p=a+1;const m=n===b?6:1,f=n===b?O:n;for(;p<=o&&(1!==l||1!==c||1!==d&&n!==S);){l=Math.ceil(Math.max(l/2,1)),c=Math.ceil(Math.max(c/2,1)),d=n===S?d:Math.ceil(Math.max(d/2,1));for(let e=0;e<m;++e)I(s,f+e,p,u,l,c,d,h);++p}},getSupportedExtensions(e,t,i,n){r.isContextLost||n.push("GMAN_webgl_memory")},renderbufferStorage(e,t,i){const[n,s,r,a]=i;v(n,1,s,r,a)},renderbufferStorageMultisample(e,t,i){const[n,s,r,a,o]=i;v(n,s,r,a,o)},texImage2D(e,t,i){if(r.isContextLost)return;let n,s,a,[o,l,c]=i;if(6==i.length){const e=i[5];n=e.width,s=e.height,a=i[4]}else n=i[3],s=i[4],a=i[7];I(A(o),o,l,c,n,s,1,a)},texImage3D(e,t,i){if(r.isContextLost)return;let[n,s,a,o,l,c,d,u,h]=i;I(A(n),n,s,a,o,l,c,h)},texParameteri(e,t,i){if(r.isContextLost)return;let[n,s,a]=i;const o=A(n);o.parameters=o.parameters||new Map,o.parameters.set(s,a)},texStorage2D(e,t,i){let[n,s,r,a,o]=i;k(n,s,r,a,o,1)},texStorage3D(e,t,i){let[n,s,r,a,o,l]=i;k(n,s,r,a,o,l)}},M={getExtension(e,t){if(r.isContextLost)return null;const s=e[t];e[t]=function(...t){const r=t[0].toLowerCase(),o=a[r];if(o)return o.ctx;const l=s.call(e,...t);return l&&Ct(l,r,{...i,origGLErrorFn:n}),l}}};function C(e,t){const i=e[t],s=D[t]||m,r=R[t]||m;if(s===m&&R===m)return;e[t]=function(...n){s(e,t,n);const a=i.call(e,...n);return r(e,t,n,a),a};const a=M[t];a&&a(e,t,n)}for(const t in e)"function"==typeof e[t]&&(p[t]=e[t],C(e,t));a[t.toLowerCase()]={ctx:e,origFuncs:p}}function xt(e){const t=e.prototype.getContext;e.prototype.getContext=function(e,...i){const n=t.call(this,e,...i);return n&&n.bindTexture&&(Ct(n,e,{}),n.getExtension("GMAN_webgl_memory")),n}}"undefined"!=typeof HTMLCanvasElement&&xt(HTMLCanvasElement),"undefined"!=typeof OffscreenCanvas&&xt(OffscreenCanvas)})?n.call(t,i,t,e):n)||(e.exports=s)},88880:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform samplerCube map;uniform vec2 dir;varying vec3 vWorldPosition;vec3 sphereToUnit(float x,float y){return vec3(sin(x)*cos(y),cos(x),sin(x)*sin(y));}vec2 unitToSphere(vec3 unit){return vec2(atan(sqrt(pow(unit.x,2.)+pow(unit.z,2.)),unit.y),atan(unit.z,unit.x));}void main(){vec2 coord=unitToSphere(vWorldPosition);vec4 sum=textureCube(map,sphereToUnit(coord.x-12.*dir.x,coord.y-12.*dir.y))*KERNEL_1;sum+=textureCube(map,sphereToUnit(coord.x-11.*dir.x,coord.y-11.*dir.y))*KERNEL_2;sum+=textureCube(map,sphereToUnit(coord.x-10.*dir.x,coord.y-10.*dir.y))*KERNEL_3;sum+=textureCube(map,sphereToUnit(coord.x-9.*dir.x,coord.y-9.*dir.y))*KERNEL_4;sum+=textureCube(map,sphereToUnit(coord.x-8.*dir.x,coord.y-8.*dir.y))*KERNEL_5;sum+=textureCube(map,sphereToUnit(coord.x-7.*dir.x,coord.y-7.*dir.y))*KERNEL_6;sum+=textureCube(map,sphereToUnit(coord.x-6.*dir.x,coord.y-6.*dir.y))*KERNEL_7;sum+=textureCube(map,sphereToUnit(coord.x-5.*dir.x,coord.y-5.*dir.y))*KERNEL_8;sum+=textureCube(map,sphereToUnit(coord.x-4.*dir.x,coord.y-4.*dir.y))*KERNEL_9;sum+=textureCube(map,sphereToUnit(coord.x-3.*dir.x,coord.y-3.*dir.y))*KERNEL_10;sum+=textureCube(map,sphereToUnit(coord.x-2.*dir.x,coord.y-2.*dir.y))*KERNEL_11;sum+=textureCube(map,sphereToUnit(coord.x-1.*dir.x,coord.y-1.*dir.y))*KERNEL_12;sum+=textureCube(map,sphereToUnit(coord.x,coord.y))*KERNEL_13;sum+=textureCube(map,sphereToUnit(coord.x+1.*dir.x,coord.y+1.*dir.y))*KERNEL_14;sum+=textureCube(map,sphereToUnit(coord.x+2.*dir.x,coord.y+2.*dir.y))*KERNEL_15;sum+=textureCube(map,sphereToUnit(coord.x+3.*dir.x,coord.y+3.*dir.y))*KERNEL_16;sum+=textureCube(map,sphereToUnit(coord.x+4.*dir.x,coord.y+4.*dir.y))*KERNEL_17;sum+=textureCube(map,sphereToUnit(coord.x+5.*dir.x,coord.y+5.*dir.y))*KERNEL_18;sum+=textureCube(map,sphereToUnit(coord.x+6.*dir.x,coord.y+6.*dir.y))*KERNEL_19;sum+=textureCube(map,sphereToUnit(coord.x+7.*dir.x,coord.y+7.*dir.y))*KERNEL_20;sum+=textureCube(map,sphereToUnit(coord.x+8.*dir.x,coord.y+8.*dir.y))*KERNEL_21;sum+=textureCube(map,sphereToUnit(coord.x+9.*dir.x,coord.y+9.*dir.y))*KERNEL_22;sum+=textureCube(map,sphereToUnit(coord.x+10.*dir.x,coord.y+10.*dir.y))*KERNEL_23;sum+=textureCube(map,sphereToUnit(coord.x+11.*dir.x,coord.y+11.*dir.y))*KERNEL_24;sum+=textureCube(map,sphereToUnit(coord.x+12.*dir.x,coord.y+12.*dir.y))*KERNEL_25;gl_FragColor=sum;}"},67230:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPosition;void main(){vWorldPosition=position;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},66367:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform samplerCube map;uniform float opacity;varying vec3 vWorldPosition;void main(){vec4 color=textureCube(map,vec3(-vWorldPosition.x,vWorldPosition.yz));gl_FragColor=vec4(color.rgb,opacity);}"},34912:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPosition;void main(){vWorldPosition=position;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},65849:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform vec3 color;uniform float opacity;uniform float maxDistance;varying vec3 vWorldPosition;void main(){float distanceToCamera=distance(cameraPosition,vWorldPosition);float distanceBucketed=1.-clamp(distanceToCamera/maxDistance,0.,1.);if(opacity<1.){discard;}gl_FragColor=vec4(distanceBucketed,distanceBucketed,distanceBucketed,1.);}"},62397:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPosition;void main(){vWorldPosition=(modelMatrix*vec4(position,1.)).xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},73209:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform sampler2D map;uniform float opacity;uniform vec4 colorOverlay;varying vec2 vUv;vec4 white=vec4(0.8,0.8,0.8,1.);vec4 black=vec4(0.,0.,0.,1.);void main(){vec4 colorFromTexture=texture2D(map,vUv);float whiteness=1.-smoothstep(0.1,0.2,opacity);colorFromTexture=mix(colorFromTexture,vec4(colorOverlay.rgb,1.),colorOverlay.a);colorFromTexture=mix(colorFromTexture,white,whiteness);gl_FragColor=vec4(colorFromTexture.rgb,opacity);}"},23059:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec2 vUv;void main(){vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},56547:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}\n#define MAX_TRIMS_PER_FLOOR  10\n#ifdef PANO_TEXTURE\nuniform vec3 pano0Position;uniform samplerCube pano0Map;varying vec3 pano0SweepDirection;uniform float panoOpacity;\n#endif\n#ifdef PANO_TEXTURE_TRANSITION\nuniform float progress;uniform vec3 pano1Position;uniform samplerCube pano1Map;varying vec3 pano1SweepDirection;\n#endif\n#ifdef PANO_OVERLAY\nuniform samplerCube overlay0Map;varying vec3 overlay0WorldPos;\n#endif\n#ifdef PANO_OVERLAY_TRANSITION\nuniform samplerCube overlay1Map;varying vec3 overlay1WorldPos;\n#endif\n#ifdef MESH_PREVIEW_SPHERE\nuniform vec3 meshPreviewCenter;uniform float meshPreviewSize;\n#endif\n#ifdef MESH_TEXTURE\nvarying vec2 vUv;uniform sampler2D map;uniform float meshOpacity;uniform float opacity;varying vec3 worldPos;\n#ifdef MESH_TRIM_VERTEX\nvarying vec3 trimPos[MAX_TRIMS_PER_FLOOR];uniform bool meshTrimsDiscardContents[MAX_TRIMS_PER_FLOOR];uniform bool hasKeepVolume;\n#endif\n#ifdef MESH_TRIM_PIXEL\nuniform mat4 meshTrimMatrices[MAX_TRIMS_PER_FLOOR];uniform bool meshTrimsDiscardContents[MAX_TRIMS_PER_FLOOR];uniform bool hasKeepVolume;\n#endif\n#ifdef FLOOR_TRIM_VERTEX\nvarying float floorHeightPercent;\n#endif\n#ifdef FLOOR_TRIM_PIXEL\nuniform float floorTrimHeight;\n#endif\n#endif\n#ifdef COLOR_OVERLAY\nuniform vec4 colorOverlay;\n#endif\n#ifdef WIREFRAME\nvarying vec3 vBarycentric;uniform float time;uniform float thickness;uniform float secondThickness;uniform float dashRepeats;uniform float dashLength;uniform bool dashOverlap;uniform bool dashEnabled;uniform bool dashAnimate;uniform bool fillEnabled;uniform bool insideAltColor;uniform bool dualStroke;uniform bool squeeze;uniform float squeezeMin;uniform float squeezeMax;uniform float wireframeOpacity;uniform vec3 stroke;uniform vec3 fill;float aastep(float threshold,float dist){float afwidth=fwidth(dist)*0.5;return smoothstep(threshold-afwidth,threshold+afwidth,dist);}float computeScreenSpaceWireframe(vec3 barycentric,float lineWidth){vec3 dist=fwidth(barycentric);vec3 smoothed=smoothstep(dist*((lineWidth*0.5)-0.5),dist*((lineWidth*0.5)+0.5),barycentric);return 1.-min(min(smoothed.x,smoothed.y),smoothed.z);}vec4 getStyledWireframe(vec3 barycentric){float PI=3.14159265359;float d=min(min(barycentric.x,barycentric.y),barycentric.z);float positionAlong=max(barycentric.x,barycentric.y);if(barycentric.y<barycentric.x&&barycentric.y<barycentric.z){positionAlong=1.-positionAlong;}float computedThickness=thickness;if(squeeze){computedThickness*=mix(squeezeMin,squeezeMax,(1.-sin(positionAlong*PI)));}if(dashEnabled){float offset=1./dashRepeats*dashLength/2.;if(!dashOverlap){offset+=1./dashRepeats/2.;}if(dashAnimate){offset+=time*0.22;}float pattern=fract((positionAlong+offset)*dashRepeats);computedThickness*=1.-aastep(dashLength,pattern);}float edge=computeScreenSpaceWireframe(barycentric,computedThickness);vec4 outColor=vec4(0.,0.,0.,0.);if(!fillEnabled){outColor=vec4(stroke,edge);if(insideAltColor&&!gl_FrontFacing){outColor.rgb=fill;}}else{outColor.a=1.;if(dualStroke){float inner=1.-aastep(secondThickness,d);vec3 wireColor=mix(fill,stroke,abs(inner-edge));outColor.rgb=wireColor;}else{outColor.rgb=mix(fill,stroke,edge);}}outColor.a*=wireframeOpacity;return outColor;}\n#endif\n#ifdef FLAT_SHADING\nvarying vec3 vNormal;\n#endif\nvoid main(){\n#ifdef PANO_TEXTURE_TRANSITION\nvec4 colorFromPano0=textureCube(pano0Map,pano0SweepDirection.xyz);vec4 colorFromPano1=textureCube(pano1Map,pano1SweepDirection.xyz);\n#ifdef PANO_OVERLAY_TRANSITION\nvec4 colorFromOverlay0=textureCube(overlay0Map,overlay0WorldPos.xyz);vec4 colorFromOverlay1=textureCube(overlay1Map,overlay1WorldPos.xyz);colorFromPano0.rgb=mix(colorFromPano0.rgb,colorFromOverlay0.rgb,colorFromOverlay0.a);colorFromPano1.rgb=mix(colorFromPano1.rgb,colorFromOverlay1.rgb,colorFromOverlay1.a);\n#endif\nvec4 color=mix(colorFromPano0,colorFromPano1,progress);color.a=panoOpacity;\n#elif defined(PANO_TEXTURE)\nvec4 color=textureCube(pano0Map,pano0SweepDirection.xyz);\n#ifdef PANO_OVERLAY\nvec4 colorFromOverlay0=textureCube(overlay0Map,overlay0WorldPos.xyz);color.rgb=mix(color.rgb,colorFromOverlay0.rgb,colorFromOverlay0.a);\n#endif\ncolor.a=panoOpacity;\n#else\nvec4 color=vec4(0.,0.,0.,0.);\n#endif\n#ifdef MESH_TEXTURE\nvec4 colorFromTexture=texture2D(map,vUv);\n#endif\n#ifdef MESH_PREVIEW_SPHERE\nfloat previewDistance=distance(worldPos.xyz,meshPreviewCenter.xyz);float inSphere=step(previewDistance,meshPreviewSize);colorFromTexture+=colorFromTexture*(0.2*inSphere);color=mix(color,colorFromTexture,max(meshOpacity,inSphere));\n#elif defined(MESH_TEXTURE)\ncolor=mix(color,colorFromTexture,meshOpacity);\n#endif\n#ifdef FLAT_SHADING\nfloat ao=0.9-abs(vNormal.y)*0.1-abs(vNormal.x)*0.05+abs(vNormal.z)*0.05;color.rgb=vec3(ao,ao*1.025,ao*1.05);\n#endif\n#ifdef COLOR_OVERLAY\ncolor=mix(color,vec4(colorOverlay.rgb,1.),colorOverlay.a);\n#endif\n#ifdef WIREFRAME\nvec4 colorFromWireframe=getStyledWireframe(vBarycentric);color=mix(color,vec4(colorFromWireframe.rgb,1.),colorFromWireframe.a);\n#endif\n#ifdef MESH_TEXTURE\ncolor.a=opacity;\n#if defined(FLOOR_TRIM_VERTEX) || defined(FLOOR_TRIM_PIXEL)\nif(floorHeightPercent>floorTrimHeight){discard;}\n#endif\n#if defined(MESH_TRIM_VERTEX) || defined(MESH_TRIM_PIXEL)\nbool isWithinVolume=false;bool doKeepFragment=true;bool enabled=true;vec4 worldPos4=vec4(worldPos.xyz,1);vec3 compare=vec3(0.5);\n#pragma unroll_loop_start\nfor(int i=0;i<10;i++){\n#ifdef MESH_TRIM_VERTEX\nenabled=!all(equal(trimPos[UNROLLED_LOOP_INDEX],vec3(0.)));if(enabled){if(all(lessThan(abs(trimPos[UNROLLED_LOOP_INDEX]),compare))){isWithinVolume=true;if(meshTrimsDiscardContents[UNROLLED_LOOP_INDEX]){doKeepFragment=false;}}}\n#endif\n#ifdef MESH_TRIM_PIXEL\nenabled=meshTrimMatrices[UNROLLED_LOOP_INDEX][3][3]>0.;if(enabled){if(all(lessThan(abs((meshTrimMatrices[UNROLLED_LOOP_INDEX]*worldPos4).xyz),compare))){isWithinVolume=true;if(meshTrimsDiscardContents[UNROLLED_LOOP_INDEX]){doKeepFragment=false;}}}\n#endif\n}\n#pragma unroll_loop_end\nif(!isWithinVolume&&hasKeepVolume){discard;}else if(isWithinVolume&&!doKeepFragment){discard;}\n#endif\n#endif\nif(color.a<0.01){discard;}gl_FragColor=color;}"},82981:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;\n#define MAX_TRIMS_PER_FLOOR  10\n#ifdef PANO_TEXTURE\nuniform vec3 pano0Position;uniform mat4 pano0Matrix1;uniform mat4 pano0Matrix2;varying vec3 pano0SweepDirection;\n#endif\n#ifdef PANO_TEXTURE_TRANSITION\nuniform vec3 pano1Position;uniform mat4 pano1Matrix1;uniform mat4 pano1Matrix2;varying vec3 pano1SweepDirection;\n#endif\n#ifdef PANO_OVERLAY\nvarying vec3 overlay0WorldPos;uniform mat4 overlay0Matrix;\n#endif\n#ifdef PANO_OVERLAY_TRANSITION\nvarying vec3 overlay1WorldPos;uniform mat4 overlay1Matrix;\n#endif\n#ifdef MESH_PREVIEW_SPHERE\n#endif\n#ifdef MESH_TEXTURE\nvarying vec2 vUv;varying vec3 worldPos;\n#ifdef MESH_TRIM_VERTEX\nuniform mat4 meshTrimMatrices[MAX_TRIMS_PER_FLOOR];varying vec3 trimPos[MAX_TRIMS_PER_FLOOR];\n#endif\n#ifdef FLOOR_TRIM_VERTEX\nuniform float floorHeightMin;uniform float floorHeightMax;varying float floorHeightPercent;\n#endif\n#endif\n#ifdef WIREFRAME\nattribute vec3 barycentric;varying vec3 vBarycentric;\n#endif\n#ifdef FLAT_SHADING\nvarying vec3 vNormal;\n#endif\nvoid main(){vec4 worldPosition=modelMatrix*vec4(position,1.);\n#ifdef MESH_TEXTURE\nvUv=uv;worldPos=worldPosition.xyz;\n#ifdef MESH_TRIM_VERTEX\n#pragma unroll_loop_start\nfor(int i=0;i<10;i++){trimPos[UNROLLED_LOOP_INDEX]=(meshTrimMatrices[UNROLLED_LOOP_INDEX]*vec4(worldPos,1.)).xyz;}\n#pragma unroll_loop_end\n#endif\n#ifdef FLOOR_TRIM_VERTEX\nfloorHeightPercent=(worldPos.y-floorHeightMin)/(floorHeightMax-floorHeightMin);\n#endif\n#endif\n#ifdef WIREFRAME\nvBarycentric=barycentric;\n#endif\n#ifdef FLAT_SHADING\nvNormal=normal;\n#endif\n#ifdef PANO_TEXTURE\nvec3 positionLocalToPanoCenter0=worldPosition.xyz-pano0Position;pano0SweepDirection=(pano0Matrix2*pano0Matrix1*vec4(positionLocalToPanoCenter0,1.)).xyz;\n#ifdef PANO_OVERLAY\noverlay0WorldPos=(overlay0Matrix*vec4(positionLocalToPanoCenter0,1.)).xyz;\n#endif\n#endif\n#ifdef PANO_TEXTURE_TRANSITION\nvec3 positionLocalToPanoCenter1=worldPosition.xyz-pano1Position;pano1SweepDirection=(pano1Matrix2*pano1Matrix1*vec4(positionLocalToPanoCenter1,1.)).xyz;\n#ifdef PANO_OVERLAY_TRANSITION\noverlay1WorldPos=(overlay1Matrix*vec4(positionLocalToPanoCenter1,1.)).xyz;\n#endif\n#endif\nvec4 projectedPosition=projectionMatrix*modelViewMatrix*vec4(position,1.);gl_Position=projectedPosition;}"},72742:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}\n#ifdef INSTANCED\nvarying float alpha;varying vec3 color;\n#else\nuniform float alpha;uniform vec3 color;\n#endif\nuniform sampler2D bg;uniform sampler2D mask;varying vec2 vUv;varying vec4 vMaskRect;varying float vStrokeWidth;float ring(vec2 pos,float radius,float thick){return mix(1.,0.,smoothstep(thick,thick+(thick*0.5),abs(length(vUv-pos)-radius)));}vec4 crop(vec4 texColor,vec2 xy,float size){texColor*=step(size,1.-xy.x);texColor*=step(size,xy.x);texColor*=step(size,1.-xy.y);texColor*=step(size,xy.y);return texColor;}vec2 center=vec2(0.5,0.5);void main(){vec4 bgColor=texture2D(bg,vUv);if(bgColor.a*alpha<0.1){discard;}float iconScale=1.75;vec2 maskUV=mix(vMaskRect.xy,vMaskRect.zw,(vUv-0.5)*iconScale+0.5);vec4 maskColor=texture2D(mask,maskUV);maskColor.rgb=vec3(1.);float padding=0.22;maskColor=crop(maskColor,vUv,padding);vec3 mappedColor=mix(color,maskColor.rgb,maskColor.a);const vec3 frameColor=vec3(1.,1.,1.);float frame=ring(center,0.5,vStrokeWidth);mappedColor=mix(mappedColor,frameColor,frame);gl_FragColor=vec4(mappedColor,bgColor.a*alpha);}"},27670:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec4 instanceMaskRect;attribute float instanceStrokeWidth;varying vec2 vUv;varying vec4 vMaskRect;varying float vStrokeWidth;\n#ifdef INSTANCED\nattribute mat4 instanceMatrix;attribute float instanceAlpha;attribute vec3 instanceColor;varying float alpha;varying vec3 color;\n#endif\nvoid main(){vUv=uv;vMaskRect=instanceMaskRect;vStrokeWidth=instanceStrokeWidth;\n#ifdef INSTANCED\nalpha=instanceAlpha;color=instanceColor;gl_Position=projectionMatrix*modelViewMatrix*instanceMatrix*vec4(position,1.);\n#else\ngl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n#endif\n}"},747:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}varying vec2 vUv;void main(){float dist=length(vUv);float alpha=(1.-smoothstep(0.95,1.,dist))*0.3;gl_FragColor=vec4(1.,1.,1.,alpha);}"},50929:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec2 vUv;void main(){vUv=(uv*2.)-1.;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);gl_Position.z*=1.00001;}"},79652:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}\n#ifdef INSTANCED\nvarying float alpha;\n#else\nuniform float alpha;\n#endif\nvoid main(){gl_FragColor=vec4(1.,1.,1.,alpha);}"},24819:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;uniform vec2 resolution;\n#ifdef INSTANCED\nattribute mat4 instanceMatrix;attribute vec3 stemVector;attribute vec4 pinHeadMatrixCol0;attribute vec4 pinHeadMatrixCol1;attribute vec4 pinHeadMatrixCol2;attribute vec4 pinHeadMatrixCol3;attribute float instanceAlpha;varying float alpha;\n#else\nuniform mat4 pinHeadMatrix;\n#endif\n#define PI  3.1415926538\nvoid main(){\n#ifdef INSTANCED\nvec3 pos=position*stemVector;mat4 modelViewProjMatrix=projectionMatrix*modelViewMatrix*instanceMatrix;mat4 pinHeadMatrix=mat4(pinHeadMatrixCol0,pinHeadMatrixCol1,pinHeadMatrixCol2,pinHeadMatrixCol3);alpha=instanceAlpha;\n#else\nvec3 pos=position;mat4 modelViewProjMatrix=projectionMatrix*modelViewMatrix;\n#endif\nvec3 fromOrigin=(vec3(0.,0.,0.)-pos);if(length(fromOrigin)<1e-6){gl_Position=modelViewProjMatrix*vec4(pos,1.);}else{mat4 noteViewProj=projectionMatrix*viewMatrix*pinHeadMatrix;vec4 noteNDC=noteViewProj*vec4(0.,0.,0.,1.);noteNDC.xyz/=abs(noteNDC.w);vec4 discEdgeNDC=noteViewProj*vec4(0.5,0.,0.,1.);discEdgeNDC.xyz/=abs(discEdgeNDC.w);float noteSizeNDC=length(discEdgeNDC.xy-noteNDC.xy);vec4 anchorNDC=modelViewProjMatrix*vec4(0.,0.,0.,1.);anchorNDC.xyz/=abs(anchorNDC.w);vec4 vectorNDC=modelViewProjMatrix*vec4(pos,1.);vectorNDC.xyz/=abs(vectorNDC.w);vectorNDC-=anchorNDC;float lineLengthNDC=length(vectorNDC.xy);float vertDot=abs(dot(normalize(vectorNDC.xy),vec2(0,1)));float angle=acos(vertDot)/(PI/2.);float aspect=mix(resolution.x/resolution.y,1.,angle);vec2 vector2d=normalize(vectorNDC.xy)*max(lineLengthNDC-noteSizeNDC*aspect,0.);vectorNDC.xy=vector2d.xy;vectorNDC+=anchorNDC;gl_Position=vec4(vectorNDC.xyz,1.);}}"},74696:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}varying vec3 vWorldPos;uniform float alpha;uniform samplerCube tDiffuse;void main(){vec4 texColor=textureCube(tDiffuse,vWorldPos);gl_FragColor=vec4(texColor.rgb,texColor.a*alpha);}"},13969:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPos;void main(){vWorldPos=vec3(-position.x,-position.y,position.z);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},22505:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}varying vec2 vUv;uniform sampler2D tDiffuse;\n#ifdef INSTANCED\nvarying float alpha;\n#else\nuniform float alpha;\n#endif\nvoid main(){vec4 texColor=texture2D(tDiffuse,vUv);gl_FragColor=vec4(texColor.rgb,texColor.a*alpha);}"},25848:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;\n#ifdef INSTANCED\nattribute mat4 instanceMatrix;attribute float instanceAlpha;varying float alpha;\n#endif\nvarying vec2 vUv;void main(){vUv=uv;\n#ifdef INSTANCED\nmat4 mvp=projectionMatrix*modelViewMatrix*instanceMatrix;alpha=instanceAlpha;\n#else\nmat4 mvp=projectionMatrix*modelViewMatrix;\n#endif\ngl_Position=mvp*vec4(position,1.);}"},47301:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform vec3 color;uniform float opacity;void main(){gl_FragColor=vec4(color,opacity);}"},5725:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;void main(){gl_Position=vec4(position,1.);}"},37198:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform float opacity;uniform vec3 tint;uniform float discRadius;uniform vec3 discNormal;uniform mat4 projectionMatrix;uniform mat4 viewMatrixInverse;uniform mat4 projectionMatrixInverse;varying vec3 vFragWorldPos;varying vec3 vCenterWorldPos;\n#ifdef USE_TEXTURE\nuniform sampler2D texture;\n#else\nuniform vec2 ringRadii[RING_COUNT];uniform vec4 ringColors[RING_COUNT];\n#endif\nfloat rayDistToPlane(vec3 rayOrigin,vec3 rayDir,vec3 planeOrigin,vec3 planeNormal){float planeConstant=-dot(planeOrigin,planeNormal);float denom=dot(planeNormal,rayDir);return denom==0.?-1e9:-(dot(rayOrigin,planeNormal)+planeConstant)/denom;}vec4 getColorAtRay(vec3 rayOrigin,vec3 rayDir){vec4 color=vec4(0.);float intersectDist=rayDistToPlane(rayOrigin,rayDir,vCenterWorldPos,discNormal);vec3 intersect=rayOrigin+rayDir*intersectDist;\n#ifdef USE_TEXTURE\nif(intersectDist>0.){vec3 cameraDir=normalize((viewMatrixInverse*vec4(0.,0.,-1.,0.)).xyz);vec3 stableDir=abs(dot(cameraDir,discNormal))>0.8?normalize(cameraDir*vec3(1.,0.,1.))*sign(discNormal.y):(viewMatrixInverse*vec4(0.,1.,0.,0.)).xyz;vec3 xAxis=normalize(cross(stableDir,discNormal));vec3 yAxis=normalize(cross(discNormal,xAxis));intersect-=vCenterWorldPos;vec2 uv=vec2(dot(xAxis,intersect),dot(yAxis,intersect))/discRadius/2.+0.5;if(clamp(uv,vec2(0.),vec2(1.))==uv){color=texture2D(texture,uv);}}\n#else\nfloat fragRadius=intersectDist>0.?distance(intersect,vCenterWorldPos):1e9;if(fragRadius<=discRadius*2.){for(int i=0;i<RING_COUNT;i++){vec2 radii=ringRadii[i]*discRadius;vec4 ringColor=ringColors[i];float ringDist=min(fragRadius-radii[0],radii[1]-fragRadius);\n#if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\nfloat delta=length(vec2(dFdx(fragRadius),dFdy(fragRadius)))*0.70710678;ringColor.a*=smoothstep(-delta,delta,ringDist);\n#else\nringColor.a*=step(0.,ringDist);\n#endif\nfloat finalAlpha=color.a+ringColor.a*(1.-color.a);color=finalAlpha>0.?vec4((color.rgb*color.a+ringColor.rgb*ringColor.a*(1.-color.a))/finalAlpha,finalAlpha):color;}}\n#endif\ncolor.rgb*=tint;if(dot(rayDir,discNormal)>=0.){color.a=0.;}return color;}void main(){vec4 fragNDC=projectionMatrix*viewMatrix*vec4(vFragWorldPos,1.);vec4 nearWorldPos=viewMatrixInverse*projectionMatrixInverse*vec4(fragNDC.xy,-1.,1.);nearWorldPos/=nearWorldPos.w;gl_FragColor=getColorAtRay(nearWorldPos.xyz,normalize(vFragWorldPos-nearWorldPos.xyz));gl_FragColor.a*=opacity;if(gl_FragColor.a==0.){discard;}}"},29535:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vCenterWorldPos;varying vec3 vFragWorldPos;void main(){vCenterWorldPos=(modelMatrix*vec4(0.,0.,0.,1.)).xyz;vFragWorldPos=(modelMatrix*vec4(position,1.)).xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},49329:(e,t,i)=>{e.exports=i(60516).Observable},60516:(e,t)=>{"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}t.Observable=void 0;var r=function(){return"function"==typeof Symbol},a=function(e){return r()&&Boolean(Symbol[e])},o=function(e){return a(e)?Symbol[e]:"@@"+e};r()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var l=o("iterator"),c=o("observable"),d=o("species");function u(e,t){var i=e[t];if(null!=i){if("function"!=typeof i)throw new TypeError(i+" is not a function");return i}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[d])&&(t=void 0),void 0!==t?t:O}function p(e){return e instanceof O}function m(e){m.log?m.log(e):setTimeout((function(){throw e}))}function f(e){Promise.resolve().then((function(){try{e()}catch(e){m(e)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var i=u(t,"unsubscribe");i&&i.call(t)}}catch(e){m(e)}}function v(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function y(e,t,i){e._state="running";var n=e._observer;try{var s=u(n,t);switch(t){case"next":s&&s.call(n,i);break;case"error":if(v(e),!s)throw i;s.call(n,i);break;case"complete":v(e),s&&s.call(n)}}catch(e){m(e)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function E(e,t,i){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:i}],void f((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var i=0;i<t.length&&(y(e,t[i].type,t[i].value),"closed"!==e._state);++i);}}(e)}))):void y(e,t,i);e._queue.push({type:t,value:i})}}var b=function(){function e(t,n){i(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var s=new S(this);try{this._cleanup=n.call(void 0,s)}catch(e){s.error(e)}"initializing"===this._state&&(this._state="ready")}return s(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(v(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),S=function(){function e(t){i(this,e),this._subscription=t}return s(e,[{key:"next",value:function(e){E(this._subscription,"next",e)}},{key:"error",value:function(e){E(this._subscription,"error",e)}},{key:"complete",value:function(){E(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),O=function(){function e(t){if(i(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return s(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new b(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(i,n){if("function"==typeof e)var s=t.subscribe({next:function(t){try{e(t,r)}catch(e){n(e),s.unsubscribe()}},error:n,complete:i});else n(new TypeError(e+" is not a function"));function r(){s.unsubscribe(),i()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(i){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return i.error(e)}i.next(t)},error:function(e){i.error(e)},complete:function(){i.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(i){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return i.error(e)}i.next(t)},error:function(e){i.error(e)},complete:function(){i.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var i=h(this),n=arguments.length>1,s=!1,r=arguments[1],a=r;return new i((function(i){return t.subscribe({next:function(t){var r=!s;if(s=!0,!r||n)try{a=e(a,t)}catch(e){return i.error(e)}else a=t},error:function(e){i.error(e)},complete:function(){if(!s&&!n)return i.error(new TypeError("Cannot reduce an empty sequence"));i.next(a),i.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var s=h(this);return new s((function(t){var n,r=0;return function e(a){n=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){r===i.length?(n=void 0,t.complete()):e(s.from(i[r++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var i=h(this);return new i((function(n){var s=[],r=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return n.error(e)}var r=i.from(t).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=s.indexOf(r);e>=0&&s.splice(e,1),a()}});s.push(r)},error:function(e){n.error(e)},complete:function(){a()}});function a(){r.closed&&0===s.length&&n.complete()}return function(){s.forEach((function(e){return e.unsubscribe()})),r.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var i="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var n=u(t,c);if(n){var s=n.call(t);if(Object(s)!==s)throw new TypeError(s+" is not an object");return p(s)&&s.constructor===i?s:new i((function(e){return s.subscribe(e)}))}if(a("iterator")&&(n=u(t,l)))return new i((function(e){f((function(){if(!e.closed){var i=!0,s=!1,r=void 0;try{for(var a,o=n.call(t)[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var l=a.value;if(e.next(l),e.closed)return}}catch(e){s=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}e.complete()}}))}));if(Array.isArray(t))return new i((function(e){f((function(){if(!e.closed){for(var i=0;i<t.length;++i)if(e.next(t[i]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var s="function"==typeof this?this:e;return new s((function(e){f((function(){if(!e.closed){for(var t=0;t<i.length;++t)if(e.next(i[t]),e.closed)return;e.complete()}}))}))}},{key:d,get:function(){return this}}]),e}();t.Observable=O,r()&&Object.defineProperty(O,Symbol("extensions"),{value:{symbol:c,hostReportError:m},configurable:!0})},63437:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteExternalAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ParentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteExternalAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"attachmentId"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}},{kind:"Argument",name:{kind:"Name",value:"parentType"},value:{kind:"Variable",name:{kind:"Name",value:"parentType"}}},{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemoveFileAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ParentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeFileAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"attachmentId"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}},{kind:"Argument",name:{kind:"Name",value:"parentType"},value:{kind:"Variable",name:{kind:"Name",value:"parentType"}}},{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FileAttachmentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FileAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bytes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mimeType"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageFileAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageWidth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageHeight"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ExternalAttachmentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExternalAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}}],loc:{start:0,end:1125}};t.loc.source={body:"\n# Deletes a single external attachment\nmutation DeleteExternalAttachment($modelId: ID!, $attachmentId: ID!, $parentType: ParentType!, $parentId: ID!) {\n  deleteExternalAttachment(modelId: $modelId, , attachmentId: $attachmentId, parentType: $parentType, parentId: $parentId)\n}\n\n# Removes a file attachment association from the annotation it is attached to.\n# Can delete the file attachment completely if the 'cascadeDelete' flag is set to true (not currently used)\nmutation RemoveFileAttachment($modelId: ID!, $attachmentId: ID!, $parentType: ParentType!, $parentId: ID!) {\n  removeFileAttachment(modelId: $modelId, , attachmentId: $attachmentId, parentType: $parentType, parentId: $parentId)\n}\n\nfragment FileAttachmentDetails on FileAttachment {\n  id\n  created\n  filename\n  url\n  validUntil\n  bytes\n  mimeType\n  ...on ImageFileAttachment {\n      imageWidth\n      imageHeight\n  }\n}\n\n# common External Attachment properties\nfragment ExternalAttachmentDetails on ExternalAttachment {\n  id\n  created\n  modified\n  thumbnailUrl\n  url\n  mediaType\n  width\n  height\n  parentDetails { type, parent { id } }\n  category\n  validUntil\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.DeleteExternalAttachment=r(t,"DeleteExternalAttachment"),e.exports.RemoveFileAttachment=r(t,"RemoveFileAttachment"),e.exports.FileAttachmentDetails=r(t,"FileAttachmentDetails"),e.exports.ExternalAttachmentDetails=r(t,"ExternalAttachmentDetails")},36159:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddCommentAttachments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"externalAttachments"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ExternalAttachmentDetails"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fileAttachments"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addCommentAttachments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}},{kind:"Argument",name:{kind:"Name",value:"externalAttachments"},value:{kind:"Variable",name:{kind:"Name",value:"externalAttachments"}}},{kind:"Argument",name:{kind:"Name",value:"fileAttachments"},value:{kind:"Variable",name:{kind:"Name",value:"fileAttachments"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentAttachments"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"commentId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CommentPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"commentId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CommentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Comment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CommentAttachments"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Comment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}],loc:{start:0,end:1211}};n.loc.source={body:'#import "./attachments.gql"\n\n# Add comment attachments\nmutation AddCommentAttachments($modelId: ID!, $parentId: ID!, $externalAttachments: [ExternalAttachmentDetails!], $fileAttachments: [ID!]) {\n  addCommentAttachments(modelId: $modelId, , commentId: $parentId,\n                        externalAttachments: $externalAttachments,\n                        fileAttachments: $fileAttachments) {\n    ...CommentAttachments\n  }\n}\n\n# Deletes a single comment\nmutation DeleteComment ($modelId: ID!, $commentId: ID!) {\n  deleteComment(modelId: $modelId, , commentId: $commentId)\n}\n\n# Update a single comment\nmutation PatchComment($modelId: ID!, $commentId: ID!, $data: CommentPatch!) {\n  patchComment(modelId: $modelId, , commentId: $commentId, patch: $data) {\n    ...CommentDetails\n  }\n}\n\n# common Comment properties\nfragment CommentDetails on Comment {\n  id\n  created\n  modified\n  edited\n  text\n  createdBy { id, firstName, lastName, email }\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n}\n\n# Attachments on a Comment\nfragment CommentAttachments on Comment {\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}n.definitions=n.definitions.concat(i(63437).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.AddCommentAttachments=l(n,"AddCommentAttachments"),e.exports.DeleteComment=l(n,"DeleteComment"),e.exports.PatchComment=l(n,"PatchComment"),e.exports.CommentDetails=l(n,"CommentDetails"),e.exports.CommentAttachments=l(n,"CommentAttachments")},8699:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFloors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelFloors"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelFloors"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"floors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FloorDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FloorDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelFloor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"areaFloor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"units"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchFloor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"floorId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FloorPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchFloor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"floorId"},value:{kind:"Variable",name:{kind:"Name",value:"floorId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:442}};t.loc.source={body:"query GetFloors($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelFloors\n  }\n}\n\nfragment ModelFloors on Model {\n  floors { ...FloorDetails }\n}\n\nfragment FloorDetails on ModelFloor {\n  id\n  meshId\n  classification\n  label\n  sequence\n  dimensions {\n    areaFloor\n    units\n  }\n}\n\nmutation PatchFloor($modelId: ID!, $floorId: ID!, $data: FloorPatch!) {\n  patchFloor(modelId: $modelId, , floorId: $floorId, patch: $data) {\n    id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetFloors=r(t,"GetFloors"),e.exports.ModelFloors=r(t,"ModelFloors"),e.exports.FloorDetails=r(t,"FloorDetails"),e.exports.PatchFloor=r(t,"PatchFloor")},32082:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHighlightReel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlightReelDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHighlightReelSweeps"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1},{kind:"StringValue",value:"matterport.model.defurnished",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PutActiveReel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"elements"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReelElementInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mode"}},type:{kind:"NamedType",name:{kind:"Name",value:"HighlightReelMode"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"putActiveReel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"elements"},value:{kind:"Variable",name:{kind:"Name",value:"elements"}}},{kind:"Argument",name:{kind:"Name",value:"mode"},value:{kind:"Variable",name:{kind:"Name",value:"mode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlightReelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightReel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"overrides"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transitionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panAngle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1111}};t.loc.source={body:'query GetHighlightReel($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    activeHighlightReel {\n      ...HighlightReelDetails\n    }\n  }\n}\n\nquery GetHighlightReelSweeps($modelId: ID!) {\n  model(id: $modelId) {\n    views(types: ["matterport.model.default", "matterport.model.layered", "matterport.user.view", "matterport.model.defurnished"]) {\n      id\n      model {\n      \tactiveHighlightReel { \n          reel {\n            asset {\n              ... on Photo {\n              \tsnapshotLocation {\n                  anchor {\n                    id\n                  }\n                }\n              }                          \n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nmutation PutActiveReel($modelId: ID!, $elements: [ReelElementInput!], $mode: HighlightReelMode) {\n  putActiveReel(modelId: $modelId, elements: $elements, mode: $mode) {\n    id\n  }\n}\n\nfragment HighlightReelDetails on HighlightReel {\n  id\n  label\n  mode\n  reel {\n    overrides {\n      transitionType\n      panDirection\n      panAngle\n    }\n    asset {\n      ... on Photo {\n        id\n      }\n    }\n    title\n    description\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetHighlightReel=r(t,"GetHighlightReel"),e.exports.GetHighlightReelSweeps=r(t,"GetHighlightReelSweeps"),e.exports.PutActiveReel=r(t,"PutActiveReel"),e.exports.HighlightReelDetails=r(t,"HighlightReelDetails")},61341:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetLabels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelDetails"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelPatch"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LabelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Label"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:1042}};t.loc.source={body:"# Read all labels for the given model\nquery GetLabels($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    labels (includeDisabled: $includeDisabled) {\n      ...LabelDetails\n    }\n  }\n}\n\n# Create a new label\nmutation AddLabel ($modelId: ID!, $labelId: ID, $data: LabelDetails!, $includeLayers: Boolean!) {\n  addLabel(modelId: $modelId, labelId: $labelId, label: $data) {\n    ...LabelDetails\n  }\n}\n\n# Update a single label\nmutation PatchLabel ($modelId: ID!, $labelId: ID!, $data: LabelPatch!, $includeLayers: Boolean!) {\n  patchLabel(modelId: $modelId, , labelId: $labelId, patch: $data) {\n    ...LabelDetails\n  }\n}\n\n# Deletes a single label\nmutation DeleteLabel ($modelId: ID!, ,$labelId: ID!) {\n  deleteLabel(modelId: $modelId, labelId: $labelId)\n}\n\n# Default Label properties used by Showcase and Workshop\nfragment LabelDetails on Label {\n  id\n  position { x y z }\n  floor { id meshId }\n  room { id meshId }\n  layer @include(if: $includeLayers) { id }\n  label\n  enabled\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetLabels=r(t,"GetLabels"),e.exports.AddLabel=r(t,"AddLabel"),e.exports.PatchLabel=r(t,"PatchLabel"),e.exports.DeleteLabel=r(t,"DeleteLabel"),e.exports.LabelDetails=r(t,"LabelDetails")},61033:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ViewLayerDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelViewLayer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visible"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LayerDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelLayer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}],loc:{start:0,end:191}};t.loc.source={body:"fragment ViewLayerDetails on ModelViewLayer {\n  layer {\n    ...LayerDetails\n  }\n  position\n  visible\n}\n\nfragment LayerDetails on ModelLayer {\n  id\n  created\n  modified\n  type\n  name\n  label\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.ViewLayerDetails=r(t,"ViewLayerDetails"),e.exports.LayerDetails=r(t,"LayerDetails")},69430:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetLayers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewLayerDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"position"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CopyInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"generateIds"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"layer"},name:{kind:"Name",value:"addLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"position"},value:{kind:"Variable",name:{kind:"Name",value:"position"}}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"Variable",name:{kind:"Name",value:"generateIds"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddCommonLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"position"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"layer"},name:{kind:"Name",value:"addCommonLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"position"},value:{kind:"Variable",name:{kind:"Name",value:"position"}}},{kind:"Argument",name:{kind:"Name",value:"viewTypes"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1},{kind:"StringValue",value:"matterport.model.defurnished",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchLayerViews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"views"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ViewLayerPatch"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchLayerViews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"views"},value:{kind:"Variable",name:{kind:"Name",value:"views"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerLabel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visible"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"position"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"layerLabel"}}},{kind:"Argument",name:{kind:"Name",value:"visible"},value:{kind:"Variable",name:{kind:"Name",value:"visible"}}},{kind:"Argument",name:{kind:"Name",value:"position"},value:{kind:"Variable",name:{kind:"Name",value:"position"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertToCommonLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visible"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"position"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertToCommonLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"visible"},value:{kind:"Variable",name:{kind:"Name",value:"visible"}}},{kind:"Argument",name:{kind:"Name",value:"position"},value:{kind:"Variable",name:{kind:"Name",value:"position"}}},{kind:"Argument",name:{kind:"Name",value:"viewTypes"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1},{kind:"StringValue",value:"matterport.model.defurnished",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertToDedicatedLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertToDedicatedLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DuplicateLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visible"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CopyInput"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"layer"},name:{kind:"Name",value:"addLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"visible"},value:{kind:"Variable",name:{kind:"Name",value:"visible"}}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertToProxiedLayering"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertModelRoomDataToProxiedLayering"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[]}]}}],loc:{start:0,end:2274}};n.loc.source={body:'#import "./layer-fragments.gql"\n\nquery GetLayers($viewId: ID!) {\n  view(id: $viewId) {\n    id\n    layers {\n      ...ViewLayerDetails\n    }\n  }\n}\n\nmutation AddLayer($viewId: ID!, $label: String, $position: Int, $copyDataFrom: [CopyInput!], $generateIds: Boolean) {\n  layer: addLayer(id: $viewId, label: $label, position: $position, copyDataFrom: $copyDataFrom, generateIds: $generateIds) {\n    ...LayerDetails\n  }\n}\n\nmutation AddCommonLayer($viewId: ID!, $label: String, $position: Int) {\n  layer: addCommonLayer(\n    id: $viewId,\n    label: $label,\n    position: $position,\n    viewTypes: [\n      "matterport.model.default",\n      "matterport.model.layered",\n      "matterport.user.view",\n      "matterport.model.defurnished",\n    ],\n  ) {\n    ...LayerDetails\n  }\n}\n\n# Used for patching a layer across views\nmutation PatchLayerViews($viewId: ID!, $layerId: ID!, $views: [ViewLayerPatch!]) {\n  patchLayerViews(id: $viewId, layerId: $layerId, views: $views) {\n    ...LayerDetails\n  }\n}\n\nmutation PatchLayer($viewId: ID!, $layerId: ID!, $layerLabel: String, $visible: Boolean, $position: Int) {\n  patchLayer(id: $viewId, layerId: $layerId, label: $layerLabel, visible: $visible, position: $position) {\n    ...LayerDetails\n  }\n}\n\nmutation ConvertToCommonLayer($viewId: ID!, $layerId: ID!, $visible: Boolean, $position: Int) {\n  convertToCommonLayer(\n    id: $viewId,\n    layerId: $layerId,\n    visible: $visible,\n    position: $position,\n    viewTypes: [\n      "matterport.model.default",\n      "matterport.model.layered",\n      "matterport.user.view",\n      "matterport.model.defurnished",\n    ],\n  ) {\n    ...LayerDetails\n  }\n}\n\nmutation ConvertToDedicatedLayer($viewId: ID!, $layerId: ID!) {\n  convertToDedicatedLayer(\n    id: $viewId,\n    layerId: $layerId,\n  ) {\n    ...LayerDetails\n  }\n}\n\nmutation DeleteLayer($viewId: ID!, $layerId: ID!) {\n  deleteLayer(id:$viewId, layerId: $layerId)\n}\n\nmutation DuplicateLayer($viewId: ID!, $label: String!, $visible: Boolean, $copyDataFrom: [CopyInput!]) {\n  layer: addLayer(\n    id: $viewId\n    label: $label\n    visible: $visible\n    copyDataFrom: $copyDataFrom\n    generateIds: true,\n  ) {\n    ...LayerDetails\n  }\n}\n\n\nmutation ConvertToProxiedLayering($modelId: ID!) {\n  convertModelRoomDataToProxiedLayering(\n    id: $modelId\n  )\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}n.definitions=n.definitions.concat(i(61033).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.GetLayers=l(n,"GetLayers"),e.exports.AddLayer=l(n,"AddLayer"),e.exports.AddCommonLayer=l(n,"AddCommonLayer"),e.exports.PatchLayerViews=l(n,"PatchLayerViews"),e.exports.PatchLayer=l(n,"PatchLayer"),e.exports.ConvertToCommonLayer=l(n,"ConvertToCommonLayer"),e.exports.ConvertToDedicatedLayer=l(n,"ConvertToDedicatedLayer"),e.exports.DeleteLayer=l(n,"DeleteLayer"),e.exports.DuplicateLayer=l(n,"DuplicateLayer"),e.exports.ConvertToProxiedLayering=l(n,"ConvertToProxiedLayering")},22001:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderedLists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderedListByName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrderedList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entries"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EntryInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrderedList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"entries"},value:{kind:"Variable",name:{kind:"Name",value:"entries"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrderedListWithLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entries"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EntryInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrderedList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"entries"},value:{kind:"Variable",name:{kind:"Name",value:"entries"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderedListDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OrderedList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntryDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EntryDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:1324}};t.loc.source={body:"\n# get the ordered lists for the specified model\nquery GetOrderedLists($modelId: ID!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    orderedLists(ids: []) {\n      ...OrderedListDetails\n    }\n  }\n}\n\n# get an ordered list by name for the specified view\nquery GetOrderedListByName($modelId: ID!, $label: String!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    orderedLists(label: $label) {\n      ...OrderedListDetails\n    }\n  }\n}\n\n# add a new ordered list\nmutation AddOrderedList($modelId: ID!, $label: String!, $description: String!, $entries: [EntryInput!], $includeLayers: Boolean!) {\n  addOrderedList(modelId: $modelId, , label: $label, description: $description, entries: $entries) {\n    ...OrderedListDetails\n  }\n}\n\nmutation AddOrderedListWithLayer($modelId: ID!, $label: String!, $description: String!, $layerId: ID!, $entries: [EntryInput!], $includeLayers: Boolean!) {\n  addOrderedList(modelId: $modelId, , label: $label, description: $description, layerId: $layerId, entries: $entries) {\n    ...OrderedListDetails\n  }\n}\n\n# Default OrderedList properties used by Showcase and Workshop\nfragment OrderedListDetails on OrderedList {\n  id\n  label\n  layer @include(if: $includeLayers) { id }\n  entries {\n    ...EntryDetails\n  }\n}\n\n# Default Entry properties\nfragment EntryDetails on Entry {\n  id\n  type\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetOrderedLists=r(t,"GetOrderedLists"),e.exports.GetOrderedListByName=r(t,"GetOrderedListByName"),e.exports.AddOrderedList=r(t,"AddOrderedList"),e.exports.AddOrderedListWithLayer=r(t,"AddOrderedListWithLayer"),e.exports.OrderedListDetails=r(t,"OrderedListDetails"),e.exports.EntryDetails=r(t,"EntryDetails")},82686:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMattertags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RefreshTagFileAttachments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddMattertag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MattertagDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMattertag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertagId"},value:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertag"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteMattertag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMattertag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertagId"},value:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MattertagDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mattertag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchorPosition"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stemNormal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"media"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"objectAnnotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"defaultKeywords"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"keywords"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]}]}}],loc:{start:0,end:1529}};n.loc.source={body:'#import "./attachments.gql"\n\n# read all mattertags for the specified model\nquery GetMattertags($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id,\n    mattertags(includeDisabled: $includeDisabled) {\n      ...MattertagDetails\n    }\n  }\n}\n\n# refresh file attachment expiring resources for all mattertags\nquery RefreshTagFileAttachments($modelId: ID!, $includeDisabled: Boolean!) {\n  model(id: $modelId) {\n    id,\n    mattertags(includeDisabled: $includeDisabled) {\n      id\n      fileAttachments { ...FileAttachmentDetails }\n    }\n  }\n}\n\n# add a new mattertag\nmutation AddMattertag($modelId:ID!, $mattertagId: ID, $data: MattertagDetails!) {\n  addMattertag(modelId: $modelId, mattertagId: $mattertagId, mattertag: $data) {\n    id\n    created\n    modified\n  }\n}\n\n# delete an existing tag by id\nmutation DeleteMattertag($modelId: ID!, $mattertagId: ID!) {\n  deleteMattertag(modelId: $modelId, mattertagId: $mattertagId)\n}\n\n# common Mattertag properties used by Showcase and Workshop\nfragment MattertagDetails on Mattertag {\n  id\n  label\n  description\n  color\n  enabled\n  floor { id, meshId }\n  room { id, meshId }\n  layer @include(if: $includeLayers) { id } \n  anchorPosition { x y z }\n  stemEnabled\n  stemNormal { x, y, z }\n  stemLength\n  media\n  mediaType\n  created\n  modified\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n  objectAnnotation {\n    id\n    classification {\n      defaultKeywords\n    }\n  }\n  keywords\n  icon\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}n.definitions=n.definitions.concat(i(63437).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.GetMattertags=l(n,"GetMattertags"),e.exports.RefreshTagFileAttachments=l(n,"RefreshTagFileAttachments"),e.exports.AddMattertag=l(n,"AddMattertag"),e.exports.DeleteMattertag=l(n,"DeleteMattertag"),e.exports.MattertagDetails=l(n,"MattertagDetails")},77285:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMeasurements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPathDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pathId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPathPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"pathId"},value:{kind:"Variable",name:{kind:"Name",value:"pathId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pathId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"pathId"},value:{kind:"Variable",name:{kind:"Name",value:"pathId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MeasurementDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPath"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lineType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:903}};t.loc.source={body:"\nquery GetMeasurements($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id,\n    measurementPaths(includeDisabled: $includeDisabled) {\n      ...MeasurementDetails\n    }\n  }\n}\n\nmutation AddMeasurement($modelId: ID!, $data: MeasurementPathDetails!) {\n  addMeasurementPath(modelId: $modelId, path: $data) {\n    id\n  }\n}\n\nmutation PatchMeasurement($modelId: ID!, $pathId: ID!, $data: MeasurementPathPatch!) {\n  patchMeasurementPath(modelId: $modelId, , pathId: $pathId, patch: $data) {\n    id\n  }\n}\n\nmutation DeleteMeasurement($modelId: ID!, $pathId: ID!) {\n  deleteMeasurementPath(modelId: $modelId, , pathId: $pathId)\n}\n\nfragment MeasurementDetails on MeasurementPath {\n  id\n  lineType\n  label\n  enabled\n  points {\n    position { x y z }\n    floor { id meshId }\n    room { id meshId }\n  }\n  layer @include(if: $includeLayers) { id }\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetMeasurements=r(t,"GetMeasurements"),e.exports.AddMeasurement=r(t,"AddMeasurement"),e.exports.PatchMeasurement=r(t,"PatchMeasurement"),e.exports.DeleteMeasurement=r(t,"DeleteMeasurement"),e.exports.MeasurementDetails=r(t,"MeasurementDetails")},15899:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discoverable"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelStatus"},directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"urlBrandingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialSharingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vrEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelAvailableAssets"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlayLayerExists"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlayViewIds"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelAvailableAssets"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"meshes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"formats"},value:{kind:"StringValue",value:"dam",block:!1}},{kind:"Argument",name:{kind:"Name",value:"resolutions"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"50k",block:!1},{kind:"StringValue",value:"500k",block:!1}]}},{kind:"Argument",name:{kind:"Name",value:"compressions"},value:{kind:"EnumValue",value:"none"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeshDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"textures"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextureDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tilesets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TilesetDetails"},directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"lod"},name:{kind:"Name",value:"policy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"StringValue",value:"spaces.chunked.mesh.lod",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelStatus"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MeshDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mesh"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TextureDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Texture"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quality"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TilesetDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tileset"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetDepth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetPreset"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicationDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelPublicationDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"published"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastPublished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contact"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1293}};t.loc.source={body:'# Publicly available model details. Must not contain any private fields.\nfragment ModelDetails on Model {\n  id\n  name\n  visibility\n  discoverable\n  ...ModelStatus\n  image { ...PhotoDetails }\n  publication { ...PublicationDetails }\n  options {\n    urlBrandingEnabled\n    socialSharingEnabled\n    vrEnabled\n  }\n  ...ModelAvailableAssets\n  ...OverlayLayerExists\n  ...OverlayViewIds\n}\n\nfragment ModelAvailableAssets on Model {\n  assets {\n    meshes(formats: "dam", resolutions: ["50k", "500k"], compressions: none) { ...MeshDetails }\n    textures { ...TextureDetails }\n    tilesets { ...TilesetDetails }\n  }\n  lod: policy(name: "spaces.chunked.mesh.lod") {\n    ... on PolicyOptions {\n      options\n    }\n  }\n}\n\nfragment ModelStatus on Model {\n  state\n}\n\nfragment MeshDetails on Mesh {\n  id\n  status\n  filename\n  format\n  resolution\n  url\n  validUntil\n}\n\nfragment TextureDetails on Texture {\n  id\n  status\n  format\n  resolution\n  quality\n  urlTemplate\n  validUntil\n}\n\nfragment TilesetDetails on Tileset {\n  status\n  tilesetVersion\n  url\n  urlTemplate\n  validUntil\n  tilesetDepth\n  tilesetPreset\n}\n\nfragment PublicationDetails on ModelPublicationDetails {\n  address\n  published\n  lastPublished\n  presentedBy\n  summary\n  description\n  externalUrl\n  contact {\n    name\n    email\n    phoneNumber\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.ModelDetails=r(t,"ModelDetails"),e.exports.ModelAvailableAssets=r(t,"ModelAvailableAssets"),e.exports.ModelStatus=r(t,"ModelStatus"),e.exports.MeshDetails=r(t,"MeshDetails"),e.exports.TextureDetails=r(t,"TextureDetails"),e.exports.TilesetDetails=r(t,"TilesetDetails"),e.exports.PublicationDetails=r(t,"PublicationDetails")},38642:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelPlayerOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationOptions"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelOptions"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defurnishViewEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dollhouseEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dollhouseLabelsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorSelectEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorplanEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highlightReelEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labelsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"measurements"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roomBoundsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialSharingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"spaceSearchEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourButtonsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourDollhousePanSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourFastTransitionsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanAngle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourTransitionSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourTransitionTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourZoomDuration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unitType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlBrandingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vrEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicationOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelPublicationOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactEmail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelSummary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUrl"},arguments:[],directives:[]}]}}],loc:{start:0,end:854}};t.loc.source={body:"# Model fields to populate PlayerOptions\nfragment ModelPlayerOptions on Model {\n  publication {\n    options { ...PublicationOptions }\n  }\n  options { ...ModelOptions }\n}\n\nfragment ModelOptions on ModelOptions {\n  backgroundColor\n  defurnishViewEnabled\n  dollhouseEnabled\n  dollhouseLabelsEnabled\n  floorSelectEnabled\n  floorplanEnabled\n  highlightReelEnabled\n  labelsEnabled\n  measurements\n  roomBoundsEnabled\n  socialSharingEnabled\n  spaceSearchEnabled\n  tourButtonsEnabled\n  tourDollhousePanSpeed\n  tourFastTransitionsEnabled\n  tourPanAngle\n  tourPanDirection\n  tourPanSpeed\n  tourTransitionSpeed\n  tourTransitionTime\n  tourZoomDuration\n  unitType\n  urlBrandingEnabled\n  vrEnabled\n}\n\nfragment PublicationOptions on ModelPublicationOptions {\n  contactEmail\n  contactName\n  contactPhone\n  modelName\n  modelSummary\n  presentedBy\n  address\n  externalUrl\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.ModelPlayerOptions=r(t,"ModelPlayerOptions"),e.exports.ModelOptions=r(t,"ModelOptions"),e.exports.PublicationOptions=r(t,"PublicationOptions")},90314:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelOptions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelPlayerOptions"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchModel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"patch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ModelPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchModel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"patch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:261}};n.loc.source={body:'#import "./model-options-fragments.gql"\n\nquery GetModelOptions($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelPlayerOptions\n  }\n}\n\nmutation PatchModel($modelId: ID!, $patch: ModelPatch!) {\n  patchModel(id: $modelId, , patch: $patch) {\n    id\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}n.definitions=n.definitions.concat(i(38642).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.GetModelOptions=l(n,"GetModelOptions"),e.exports.PatchModel=l(n,"PatchModel")},64927:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelImage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetStartLocations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1},{kind:"StringValue",value:"matterport.model.defurnished",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:654}};n.loc.source={body:'#import "./model-fragments.gql"\n#import "./photo-fragments.gql"\n#import "./overlay-fragments.gql"\n\nquery GetModelDetails($modelId: ID!) {\n  model(id: $modelId) {\n    ...ModelDetails\n  }\n}\n\nquery GetModelImage($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    image { ...PhotoDetails }\n  }\n}\n\nquery GetStartLocations($modelId: ID!) {\n  model(id: $modelId) {\n    views(types: ["matterport.model.default", "matterport.model.layered", "matterport.user.view", "matterport.model.defurnished"]) {\n      id\n      model {\n        image {\n          snapshotLocation {\n            anchor {\n              id\n            }\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(15899).definitions)),n.definitions=n.definitions.concat(r(i(23888).definitions)),n.definitions=n.definitions.concat(r(i(47148).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function c(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetModelDetails=c(n,"GetModelDetails"),e.exports.GetModelImage=c(n,"GetModelImage"),e.exports.GetStartLocations=c(n,"GetStartLocations")},44571:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetNotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NoteDetails"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"note"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddNoteComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CommentDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addNoteComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}},{kind:"Argument",name:{kind:"Name",value:"comment"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NotePatch"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReopenNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reopenNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NoteDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchorPosition"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stemNormal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastCommentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentDetails"},directives:[]}]}}]}}]}}],loc:{start:0,end:1621}};n.loc.source={body:'#import "./attachments.gql"\n#import "./comments.gql"\n\n# read all notes for the specified model\nquery GetNotes($modelId: ID!, $ids: [ID!], $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id\n    notes(ids: $ids) {\n      ...NoteDetails\n    }\n  }\n}\n\n# Create a new note\nmutation AddNote($modelId: ID!, $data: NoteDetails!, $includeLayers: Boolean!) {\n  addNote(modelId: $modelId, , note: $data) {\n    ...NoteDetails\n  }\n}\n\n# Add a comment to the note\nmutation AddNoteComment($modelId: ID!, $noteId: ID!, $data: CommentDetails!) {\n  addNoteComment(modelId: $modelId, , noteId: $noteId, comment: $data) {\n    ...CommentDetails\n  }\n}\n\n# Deletes a single note\nmutation DeleteNote ($modelId: ID!, $noteId: ID!) {\n  deleteNote(modelId: $modelId, , noteId: $noteId)\n}\n\n# Update a single note\nmutation PatchNote($modelId: ID!, $noteId: ID!, $data: NotePatch!, $includeLayers: Boolean!) {\n  patchNote(modelId: $modelId, , noteId: $noteId, patch: $data) {\n    ...NoteDetails\n  }\n}\n\n# Reopen a note\nmutation ReopenNote ($modelId: ID!, $noteId: ID!) {\n  reopenNote(modelId: $modelId, , noteId: $noteId)\n}\n\n# Resolve a note\nmutation ResolveNote($modelId: ID!, $noteId: ID!) {\n  resolveNote(modelId: $modelId, , noteId: $noteId)\n}\n\n# common Note properties\nfragment NoteDetails on Note {\n  id\n  createdBy { id, firstName, lastName, email }\n  color\n  enabled\n  floor { id, meshId }\n  room { id, meshId }\n  layer @include(if: $includeLayers) { id }\n  anchorPosition { x, y, z }\n  stemEnabled\n  stemNormal { x, y, z }\n  stemLength\n  resolution\n  created\n  modified\n  lastCommentAt\n  comments {\n    results { ...CommentDetails }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(63437).definitions)),n.definitions=n.definitions.concat(r(i(36159).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function c(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetNotes=c(n,"GetNotes"),e.exports.AddNote=c(n,"AddNote"),e.exports.AddNoteComment=c(n,"AddNoteComment"),e.exports.DeleteNote=c(n,"DeleteNote"),e.exports.PatchNote=c(n,"PatchNote"),e.exports.ReopenNote=c(n,"ReopenNote"),e.exports.ResolveNote=c(n,"ResolveNote"),e.exports.NoteDetails=c(n,"NoteDetails")},47148:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlayLayerExists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"overlayLayers"},name:{kind:"Name",value:"layers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.overlay.assets",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlayViewIds"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"baseView"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.model.layered",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"onError"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"not.found",block:!1}},{kind:"Argument",name:{kind:"Name",value:"null"},value:{kind:"BooleanValue",value:!0}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"defurnishViews"},name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"StringValue",value:"matterport.model.defurnished",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"onError"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"not.found",block:!1}},{kind:"Argument",name:{kind:"Name",value:"null"},value:{kind:"BooleanValue",value:!0}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"legacyBaseView"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.model.default",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"onError"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"not.found",block:!1}},{kind:"Argument",name:{kind:"Name",value:"null"},value:{kind:"BooleanValue",value:!0}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:813}};t.loc.source={body:'\n# presence of overlay layers hints the current loaded view has alternate sweeps (Defunrnish)\nfragment OverlayLayerExists on Model {\n  overlayLayers: layers(types: ["matterport.overlay.assets"]) {\n    id\n  }\n}\n\n# we need both base and defurnish view id\'s in order to manually sync position/placement writes across\nfragment OverlayViewIds on Model {\n  # layered base view\n  baseView: view(type: "matterport.model.layered") @onError(id: "not.found", null: true) {\n    model {\n      id\n    }\n  }\n  # defurnish view, if exists\n  defurnishViews: views(types: "matterport.model.defurnished") @onError(id: "not.found", null: true) {\n    model {\n      id\n    }\n  }\n  # old non-layered model\n  legacyBaseView: view(type: "matterport.model.default") @onError(id: "not.found", null: true) {\n    model {\n      id\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.OverlayLayerExists=r(t,"OverlayLayerExists"),e.exports.OverlayViewIds=r(t,"OverlayViewIds")},23888:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PhotoDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolutions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"thumbnailUrl"},name:{kind:"Name",value:"resizeUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolution"},value:{kind:"EnumValue",value:"thumbnail"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"presentationUrl"},name:{kind:"Name",value:"resizeUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolution"},value:{kind:"EnumValue",value:"presentation"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"w"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"zoom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorVisibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pano"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placement"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:535}};t.loc.source={body:"\nfragment PhotoDetails on Photo {\n  id\n  label\n  classification\n  category\n  height\n  width\n  created\n  modified\n  status\n  filename\n  format\n  url\n  resolutions\n  type\n  origin\n  validUntil\n  thumbnailUrl: resizeUrl(resolution: thumbnail)\n  presentationUrl: resizeUrl(resolution: presentation)\n  snapshotLocation {\n    viewMode\n    position { x y z }\n    rotation { x y z w }\n    zoom\n    floorVisibility {\n      id\n      meshId\n      sequence\n    }\n    anchor {\n      id\n      pano {\n        id\n        placement\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.PhotoDetails=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(t,"PhotoDetails")},19642:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSnapshots"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"defurnishedViews"},name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"StringValue",value:"matterport.model.defurnished",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"onError"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"not.found",block:!1}},{kind:"Argument",name:{kind:"Name",value:"null"},value:{kind:"BooleanValue",value:!0}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchPhoto"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchPhoto"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"photoId"},value:{kind:"Variable",name:{kind:"Name",value:"photoId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePhoto"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePhoto"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"photoId"},value:{kind:"Variable",name:{kind:"Name",value:"photoId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadHighlightReelSnapshot"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contents"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SnapshotLocationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"snapshot"},name:{kind:"Name",value:"uploadHighlightReelSnapshot"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"contents"},value:{kind:"Variable",name:{kind:"Name",value:"contents"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"snapshotLocation"},value:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadModelSnapshot"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contents"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SnapshotLocationInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photoType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PhotoType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"snapshot"},name:{kind:"Name",value:"uploadModelSnapshot"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"contents"},value:{kind:"Variable",name:{kind:"Name",value:"contents"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"snapshotLocation"},value:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}}},{kind:"Argument",name:{kind:"Name",value:"photoType"},value:{kind:"Variable",name:{kind:"Name",value:"photoType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}}],loc:{start:0,end:1280}};n.loc.source={body:'#import "./photo-fragments.gql"\nquery GetSnapshots($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    assets {\n      photos { ...PhotoDetails }\n    }\n    defurnishedViews: views(types: "matterport.model.defurnished") @onError(id: "not.found", null: true) {\n      model {\n        id\n        assets {\n          photos {\n            ...PhotoDetails\n          }\n        }\n      }\n    }\n  }\n}\n\nmutation PatchPhoto($modelId: ID!, $photoId: ID!, $label: String!) {\n  patchPhoto(modelId: $modelId, photoId: $photoId, label: $label) {\n    ...PhotoDetails\n  }\n}\n\nmutation DeletePhoto($modelId: ID!, $photoId: ID!) {\n  deletePhoto(modelId: $modelId, photoId: $photoId)\n}\n\nmutation UploadHighlightReelSnapshot($modelId: ID!, $contents: FileUpload!, $label: String!, $snapshotLocation: SnapshotLocationInput!) {\n  snapshot: uploadHighlightReelSnapshot(id: $modelId, contents: $contents, label: $label, snapshotLocation: $snapshotLocation) {\n    ...PhotoDetails\n  }\n}\n\nmutation UploadModelSnapshot($modelId: ID!, $contents: FileUpload!, $label: String!, $snapshotLocation: SnapshotLocationInput!, $photoType: PhotoType!) {\n  snapshot: uploadModelSnapshot(id: $modelId, contents: $contents, label: $label, snapshotLocation: $snapshotLocation, photoType: $photoType) {\n    ...PhotoDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}n.definitions=n.definitions.concat(i(23888).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.GetSnapshots=l(n,"GetSnapshots"),e.exports.PatchPhoto=l(n,"PatchPhoto"),e.exports.DeletePhoto=l(n,"DeletePhoto"),e.exports.UploadHighlightReelSnapshot=l(n,"UploadHighlightReelSnapshot"),e.exports.UploadModelSnapshot=l(n,"UploadModelSnapshot")},44055:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPlugins"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sdkPlugins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PluginDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePlugin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteSdkPlugin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePlugin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"patch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SdkPluginPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateSdkPlugin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"patch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PluginDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PluginDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SdkPlugin"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredPolicies"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}],loc:{start:0,end:764}};n.loc.source={body:'#import "./attachments.gql"\n\n# read all plugins for the specified model\nquery GetPlugins($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    sdkPlugins {\n      ...PluginDetails\n    }\n  }\n}\n\n# delete an existing plugin by id\nmutation DeletePlugin($modelId: ID!, $name: String!) {\n  deleteSdkPlugin(modelId: $modelId, name: $name)\n}\n\nmutation UpdatePlugin($modelId: ID!, $name: String!, $patch: SdkPluginPatch!) {\n  updateSdkPlugin(\n    modelId: $modelId\n    name: $name\n    patch: $patch\n  ) {\n    ...PluginDetails\n  }\n}\n\n# common Plugin properties used by Showcase and Workshop\nfragment PluginDetails on SdkPlugin {\n  id\n  name\n  currentVersion\n  description\n  versions {\n    version\n    requiredPolicies\n  }\n  fileAttachments {\n    ...FileAttachmentDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}n.definitions=n.definitions.concat(i(63437).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.GetPlugins=l(n,"GetPlugins"),e.exports.DeletePlugin=l(n,"DeletePlugin"),e.exports.UpdatePlugin=l(n,"UpdatePlugin"),e.exports.PluginDetails=l(n,"PluginDetails")},10960:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPolicies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFlag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyValue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFeature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:359}};t.loc.source={body:"\n# get model policies available to all users\nquery GetModelPolicies($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    policies {\n      name\n      ...on PolicyFlag {\n        enabled\n      }\n      ...on PolicyOptions {\n        options\n      }\n      ...on PolicyValue {\n        value\n      }\n      ...on PolicyFeature {\n        availability\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetModelPolicies=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(t,"GetModelPolicies")},82591:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelViewPrefetch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlightReelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewLayerDetails"},directives:[]}]}}]}}]}}],loc:{start:0,end:1051}};n.loc.source={body:'# Prefetch all data that changes for a view in one go.  Allows us to do an atomic view change and know that the data\n# is good.\n\n#import "./layer-fragments.gql"\n#import "./mattertags.gql"\n#import "./lists.gql"\n#import "./labels.gql"\n#import "./measurements.gql"\n#import "./notes.gql"\n#import "./highlights.gql"\n#import "./photo-fragments.gql"\n\nquery GetModelViewPrefetch($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id\n    mattertags(includeDisabled: $includeDisabled) {\n      ...MattertagDetails\n    }\n    orderedLists(ids: []) {\n      ...OrderedListDetails\n    }\n    labels(includeDisabled: $includeDisabled) {\n      ...LabelDetails\n    }\n    measurementPaths(includeDisabled: $includeDisabled) {\n      ...MeasurementDetails\n    }\n    activeHighlightReel {\n      ...HighlightReelDetails\n    }\n    notes(ids: []) {\n      ...NoteDetails\n    }\n    image { \n      ...PhotoDetails \n    }    \n  }\n  view (id: $modelId) {\n    layers @include(if: $includeLayers) {\n      ...ViewLayerDetails\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(61033).definitions)),n.definitions=n.definitions.concat(r(i(82686).definitions)),n.definitions=n.definitions.concat(r(i(22001).definitions)),n.definitions=n.definitions.concat(r(i(61341).definitions)),n.definitions=n.definitions.concat(r(i(77285).definitions)),n.definitions=n.definitions.concat(r(i(44571).definitions)),n.definitions=n.definitions.concat(r(i(32082).definitions)),n.definitions=n.definitions.concat(r(i(23888).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetModelViewPrefetch=function(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}(n,"GetModelViewPrefetch")},54161:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPrefetch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelDetails"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelShowcaseSweeps"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelFloors"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelRooms"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PublicModelViews"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelPlayerOptions"},directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"RoomClassifications"},directives:[]}]}}],loc:{start:0,end:1153}};n.loc.source={body:'# Make sure the following imports do not import files themselves, it seems\n# to mess up the platform side parsing. That is why you see these\n# -fragment.gql files below.\n\n#import "./model-fragments.gql"\n#import "./model-options-fragments.gql"\n#import "./photo-fragments.gql"\n#import "./floors.gql"\n#import "./rooms.gql"\n#import "./roombounds.gql"\n#import "./overlay-fragments.gql"\n#import "./sweeps-fragments.gql"\n#import "./view-fragments.gql"\n\n# Preloaded model data to be embedded into Showcase HTML page,\n# only load data that is required for Showcase to start,\n# not varied by user, and safe for long-term-cache type behavior.\n# Includes the default view.\n# (ie. NO Mattertags)\nquery GetModelPrefetch($modelId: ID!) {\n  model(id: $modelId) {\n    # MdsModelStore\n    ...ModelDetails\n\n    # MdsSweepStore\n    ...ModelShowcaseSweeps\n\n    # MdsFloorStore\n    ...ModelFloors\n\n    # MdsRoomStore\n    ...ModelRooms\n\n    # LayersData.views - filtered to public only\n    ...PublicModelViews\n\n    # MdsPlayerOptionsStore\n    # adds to the subset from the ModelDetails fragment\n    ...ModelPlayerOptions\n  }\n\n  # MdsRoomBoundsStore\n  ...RoomClassifications\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(15899).definitions)),n.definitions=n.definitions.concat(r(i(38642).definitions)),n.definitions=n.definitions.concat(r(i(23888).definitions)),n.definitions=n.definitions.concat(r(i(8699).definitions)),n.definitions=n.definitions.concat(r(i(86400).definitions)),n.definitions=n.definitions.concat(r(i(22999).definitions)),n.definitions=n.definitions.concat(r(i(47148).definitions)),n.definitions=n.definitions.concat(r(i(47147).definitions)),n.definitions=n.definitions.concat(r(i(54800).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetModelPrefetch=function(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}(n,"GetModelPrefetch")},22999:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRoomBounds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"floors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeUsed"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vertices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"centerLineBias"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thickness"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"openings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relativeCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lowerElevation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"classifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidence"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"boundary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"holes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"dimensionEstimates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"areaIndoor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"depth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"units"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"ceiling"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"planes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"measurements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bottom"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"maxHeight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minHeight"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"keywords"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRoomClassifications"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RoomClassifications"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RoomClassifications"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roomClassifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultKeywords"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1177}};t.loc.source={body:"query GetRoomBounds($modelId: ID!) {\n  model(id: $modelId) {\n    floors {\n      id\n      layer { id }\n      edges(includeUsed: true) {\n        id\n        layer { id }\n        type\n        vertices { id layer { id } position { x y }}\n        centerLineBias\n        thickness\n        openings {\n          id\n          width\n          relativeCenter\n          type\n          height\n          lowerElevation\n          layer { id }\n        }\n      }\n    }\n    rooms {\n      id\n      layer { id }\n      floor { id }\n      classifications {\n        id\n        confidence\n        label\n      }\n      boundary {\n        edges { id }\n      }\n      holes {\n        edges { id }\n      }\n      dimensionEstimates {\n        area\n        areaIndoor\n        width\n        depth\n        height\n        units\n      }\n      ceiling {\n        planes {\n          measurements {\n            bottom { x y z }\n            height\n          }\n        }\n        maxHeight\n        minHeight\n      }\n      label\n      keywords\n    }\n  }\n}\n\nquery GetRoomClassifications {\n  ...RoomClassifications\n}\n\nfragment RoomClassifications on Query {\n  roomClassifications {\n    id\n    label\n    defaultKeywords\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetRoomBounds=r(t,"GetRoomBounds"),e.exports.GetRoomClassifications=r(t,"GetRoomClassifications"),e.exports.RoomClassifications=r(t,"RoomClassifications")},86400:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRooms"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelRooms"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelRooms"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RoomDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RoomDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelRoom"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"depth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"areaFloor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]}]}}],loc:{start:0,end:312}};t.loc.source={body:"\nquery GetRooms ($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelRooms\n  }\n}\n\nfragment ModelRooms on Model {\n  rooms {\n    ...RoomDetails\n  }\n}\n\nfragment RoomDetails on ModelRoom {\n  id\n  meshId\n  floor {\n    id\n    meshId\n  }\n  dimensions {\n    height\n    width\n    depth\n    areaFloor\n  }\n  tags\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetRooms=r(t,"GetRooms"),e.exports.ModelRooms=r(t,"ModelRooms"),e.exports.RoomDetails=r(t,"RoomDetails")},47147:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelShowcaseSweeps"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tags"},value:{kind:"StringValue",value:"showcase",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnchorLocationDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SkyboxDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SkyboxPanorama"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileResolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileUrlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SkyboxUrlDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PanoramicImageLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolutions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skyboxes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SkyboxDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AnchorLocationDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AnchorLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"index"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"neighbors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pano"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sweepUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placement"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"w"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SkyboxUrlDetails"},directives:[]}]}}]}}],loc:{start:0,end:785}};t.loc.source={body:'fragment ModelShowcaseSweeps on Model {\n  locations(tags: "showcase") {\n    ...AnchorLocationDetails\n  }\n}\n\nfragment SkyboxDetails on SkyboxPanorama {\n  # TODO(PL-5928) all SkyboxDetail results have the same non-unique id,\n  # using it as a map key will yield unexpected results\n  # id\n  resolution\n  status\n  urlTemplate\n  tileResolution\n  tileCount\n  tileUrlTemplate\n  validUntil\n}\n\nfragment SkyboxUrlDetails on PanoramicImageLocation {\n  id\n  resolutions\n  skyboxes { ...SkyboxDetails }\n}\n\nfragment AnchorLocationDetails on AnchorLocation {\n  id\n  index\n  floor { id, meshId }\n  room { id, meshId }\n  neighbors\n  tags\n  position { x y z }\n  pano {\n    id\n    sweepUuid\n    label\n    placement\n    source\n    position { x y z }\n    rotation { x y z w }\n    ...SkyboxUrlDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.ModelShowcaseSweeps=r(t,"ModelShowcaseSweeps"),e.exports.SkyboxDetails=r(t,"SkyboxDetails"),e.exports.SkyboxUrlDetails=r(t,"SkyboxUrlDetails"),e.exports.AnchorLocationDetails=r(t,"AnchorLocationDetails")},5860:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSweeps"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlayLayerExists"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlayViewIds"},directives:[]},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnchorLocationDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetShowcaseSweeps"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlayLayerExists"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlayViewIds"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelShowcaseSweeps"},directives:[]}]}}]}}],loc:{start:0,end:395}};n.loc.source={body:'#import "./overlay-fragments.gql"\n#import "./sweeps-fragments.gql"\n\nquery GetSweeps($modelId: ID!) {\n  model(id: $modelId) {\n    id,\n    ...OverlayLayerExists\n    ...OverlayViewIds\n    locations {\n      ...AnchorLocationDetails\n    }\n  }\n}\n\nquery GetShowcaseSweeps($modelId: ID!) {\n  model(id: $modelId) {\n    id,\n    ...OverlayLayerExists\n    ...OverlayViewIds\n    ...ModelShowcaseSweeps\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(47148).definitions)),n.definitions=n.definitions.concat(r(i(47147).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function c(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetSweeps=c(n,"GetSweeps"),e.exports.GetShowcaseSweeps=c(n,"GetShowcaseSweeps")},26965:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCurrentUserModelAccess"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"demo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"userId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"modelAccess"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emails"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}},{kind:"Argument",name:{kind:"Name",value:"emails"},value:{kind:"Variable",name:{kind:"Name",value:"emails"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelAccess"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrUpdateModelShareAccess"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"roleId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"message"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrUpdateModelShareAccess"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"Argument",name:{kind:"Name",value:"roleId"},value:{kind:"Variable",name:{kind:"Name",value:"roleId"}}},{kind:"Argument",name:{kind:"Name",value:"invitationMessage"},value:{kind:"Variable",name:{kind:"Name",value:"message"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modelShareAccessLevel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableRoles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableRoles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1128}};t.loc.source={body:"# get access for the current user\nquery GetCurrentUserModelAccess($modelId: ID!, $userId: ID!) {\n  model(id: $modelId) {\n    id\n    organization\n    demo\n    created\n    users(ids: [$userId]) {\n      results {\n        modelAccess\n      }\n    }\n  }\n}\n\n# get users with access to the specified model\nquery GetUsers($modelId: ID!, $search: String, $ids: [ID!], $emails: [String!]) {\n  model(id: $modelId) {\n    users(search: $search, ids: $ids, emails: $emails) {\n      results {\n        id\n        email\n        firstName\n        lastName\n        modelAccess\n      }\n    }\n  }\n}\n\n# Add model share access by email\nmutation AddOrUpdateModelShareAccess($modelId:ID!, $email:String!, $roleId:ID!, $message:String) {\n  addOrUpdateModelShareAccess(\n    modelId:$modelId\n    email:$email\n    roleId:$roleId\n    invitationMessage:$message\n  ) {\n    user {\n      id\n      email\n      firstName\n      lastName\n    }\n    modelShareAccessLevel {\n      id\n      name\n    }\n  }\n}\n\n# Get roles that can be assigned to a model\nquery GetAssignableRoles($modelId:ID!) {\n  model(id:$modelId) {\n    assignableRoles {\n      id\n      name\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetCurrentUserModelAccess=r(t,"GetCurrentUserModelAccess"),e.exports.GetUsers=r(t,"GetUsers"),e.exports.AddOrUpdateModelShareAccess=r(t,"AddOrUpdateModelShareAccess"),e.exports.GetAssignableRoles=r(t,"GetAssignableRoles")},54800:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicModelViews"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.model.defurnished",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ViewDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelView"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visible"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:514}};t.loc.source={body:'# Subset of view types that are available to public users, i.e. safe for prefetch\nfragment PublicModelViews on Model {\n  views(types: [\n    "matterport.model.default",\n    "matterport.model.layered",\n    "matterport.model.defurnished",\n    "matterport.user.view"\n  ]) {\n    ...ViewDetails\n  }\n}\n\nfragment ViewDetails on ModelView {\n  id\n  type\n  name\n  enabled\n  created\n  modified\n  layers {\n    layer {\n      id\n      created\n      modified\n      type\n      name\n      label\n    }\n    position\n    visible\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.PublicModelViews=r(t,"PublicModelViews"),e.exports.ViewDetails=r(t,"ViewDetails")},54232:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMergeDiff"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeDiff"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"src"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"typesModified"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"viewId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddUserView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"userDataLayer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"masks"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"deleteLayersIfOrphaned"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"deleteLayersIfOrphaned"},value:{kind:"Variable",name:{kind:"Name",value:"deleteLayersIfOrphaned"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RenameView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetViewEnabled"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertRootViewToLayered"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertRootViewToLayered"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertRootViewToLegacy"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertRootViewToLegacy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"deleteLayersIfOrphaned"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CopyViewDataToLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CopyInput"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"copyViewData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MoveViewDataToLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LayeredViewSelection"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moveViewData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"srcViewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"destLayerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"viewSelections"},value:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteFromView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LayeredViewSelection"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteFromView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"viewSelections"},value:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DuplicateView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}},{kind:"Argument",name:{kind:"Name",value:"userDataLayer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"masks"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}}]}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PublishView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMutator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"src"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSessionDiff"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"base"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.model.default",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"view"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.workshop.session",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:4426}};n.loc.source={body:'#import "./labels.gql"\n#import "./lists.gql"\n#import "./mattertags.gql"\n#import "./measurements.gql"\n#import "./view-fragments.gql"\n\n# Gets the data types that have changed between a view and the base model\nquery GetMergeDiff($viewId: ID!) {\n  model(id: $viewId) {\n    id\n    mergeDiff {\n      src\n      dest\n      typesModified\n    }\n  }\n}\n\n# Get available views for a model\nquery GetViews($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    views {\n      ...ViewDetails\n    }\n  }\n}\n\n# Get one view\nquery GetView($viewId: ID!) {\n  model(id: $viewId) {\n    id\n    views(ids: [$viewId]) {\n      ...ViewDetails\n    }\n  }\n}\n\n# Adds a new User View using the base Model ID.\n# By default, it masks view-based data layer items\nmutation AddUserView($modelId: ID!, $name: String!) {\n  addView(\n    id: $modelId,\n    name: $name,\n    userDataLayer: {\n      masks: [\n        { type: HighlightReel },\n        { type: Label },\n        { type: Mattertag },\n        { type: MeasurementPath },\n        { type: Note },\n        { type: ObjectAnnotation },\n        { type: OrderedList },\n      ]\n    }\n  ) {\n    ...ViewDetails\n  }\n}\n\n# Deletes a View using the base Model ID and the viewId to delete\n# deleteLayersIfOphaned: true will delete the Common layers if orphaned,\n# dedicated layers are deleted in all cases?\nmutation DeleteView($modelId: ID!, $viewId: ID!, $deleteLayersIfOrphaned: Boolean) {\n  deleteView(id: $modelId, viewId: $viewId, deleteLayersIfOrphaned: $deleteLayersIfOrphaned)\n}\n\nmutation RenameView($viewId: ID!, $name: String!) {\n  patchView(id: $viewId, name: $name) {\n    name\n  }\n}\n\nmutation SetViewEnabled($viewId: ID!, $enabled: Boolean) {\n  patchView(id: $viewId, enabled: $enabled) {\n    enabled\n  }\n}\n\nmutation ConvertRootViewToLayered($modelId: ID!) {\n  convertRootViewToLayered(id: $modelId) {\n    ...ViewDetails\n  }\n}\n\nmutation ConvertRootViewToLegacy($modelId: ID!) {\n  convertRootViewToLegacy(id: $modelId, deleteLayersIfOrphaned: false) {\n    ...ViewDetails\n  }\n}\n\n# This returns a view id\nmutation CopyViewDataToLayer($viewId: ID!, $layerId: ID, $copyDataFrom: [CopyInput!]) {\n  copyViewData(\n    id: $viewId\n    layerId: $layerId\n    copyDataFrom: $copyDataFrom\n    generateIds: true\n  ) {\n    id\n  }\n}\n\nmutation MoveViewDataToLayer($viewId: ID!, $layerId: ID, $viewSelections: [LayeredViewSelection!]) {\n  moveViewData(\n    id: $viewId\n    srcViewId: $viewId\n    destLayerId: $layerId\n    viewSelections: $viewSelections\n  )\n}\n\n# Deletes items from view\nmutation DeleteFromView($viewId: ID!, $viewSelections: [LayeredViewSelection!]) {\n  deleteFromView(id: $viewId, viewSelections: $viewSelections)\n}\n\nmutation DuplicateView($modelId: ID!, $viewId: ID!, $name: String!, $enabled: Boolean) {\n addView(\n    id: $modelId\n    name: $name\n    enabled: $enabled\n    userDataLayer: {\n      masks: [\n        { type: HighlightReel },\n        { type: Label },\n        { type: Mattertag },\n        { type: MeasurementPath },\n        { type: Note },\n        { type: ObjectAnnotation },\n        { type: OrderedList },\n      ]\n    },\n    copyDataFrom: [\n      { viewId: $viewId, type: HighlightReel },\n      { viewId: $viewId, type: Label },\n      { viewId: $viewId, type: Mattertag },\n      { viewId: $viewId, type: MeasurementPath },\n      { viewId: $viewId, type: Note },\n      { viewId: $viewId, type: ObjectAnnotation },\n      { viewId: $viewId, type: OrderedList },\n    ]\n    generateIds: true,\n  ) {\n    ...ViewDetails\n  }\n}\n\n# Merges the given view into the base model view\nmutation PublishView($viewId: ID!) {\n  mergeMutator(src: $viewId) {\n    merge {\n      id\n    }\n  }\n}\n\n# Gets the data that has changed between the Workshop session and base model\nquery GetSessionDiff($modelId: ID!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    base: view(type: "matterport.model.default") {\n      id\n      model {\n        labels(includeDisabled: true) { ...LabelDetails }\n        mattertags(includeDisabled: true) { ...MattertagDetails }\n        measurementPaths(includeDisabled: true) { ...MeasurementDetails }\n        orderedLists(ids: []) { ...OrderedListDetails }\n      }\n    }\n    view: view(type: "matterport.workshop.session") {\n      id\n      model {\n        labels(includeDisabled: true) { id modified }\n        mattertags(includeDisabled: true) { id modified }\n        measurementPaths(includeDisabled: true) { id modified }\n        orderedLists(ids: []) { ...OrderedListDetails }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(61341).definitions)),n.definitions=n.definitions.concat(r(i(22001).definitions)),n.definitions=n.definitions.concat(r(i(82686).definitions)),n.definitions=n.definitions.concat(r(i(77285).definitions)),n.definitions=n.definitions.concat(r(i(54800).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function c(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetMergeDiff=c(n,"GetMergeDiff"),e.exports.GetViews=c(n,"GetViews"),e.exports.GetView=c(n,"GetView"),e.exports.AddUserView=c(n,"AddUserView"),e.exports.DeleteView=c(n,"DeleteView"),e.exports.RenameView=c(n,"RenameView"),e.exports.SetViewEnabled=c(n,"SetViewEnabled"),e.exports.ConvertRootViewToLayered=c(n,"ConvertRootViewToLayered"),e.exports.ConvertRootViewToLegacy=c(n,"ConvertRootViewToLegacy"),e.exports.CopyViewDataToLayer=c(n,"CopyViewDataToLayer"),e.exports.MoveViewDataToLayer=c(n,"MoveViewDataToLayer"),e.exports.DeleteFromView=c(n,"DeleteFromView"),e.exports.DuplicateView=c(n,"DuplicateView"),e.exports.PublishView=c(n,"PublishView"),e.exports.GetSessionDiff=c(n,"GetSessionDiff")},73355:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjE0MiIgdmlld0JveD0iMCAwIDE0MiAxNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik04MiA4Mi41MDAxQzg1LjMzMzMgODIuMTY2NyA5Mi4zIDgyLjgwMDEgOTMuNSA4OC4wMDAxTTYwLjUgODIuMDczM0M1Ny4xNjY3IDgxLjc0IDUwLjIgODIuMzczMyA0OSA4Ny41NzMzTTM0Ljc2NjggNjcuMzI3NUMzNC43NjY4IDY3LjMyNzUgMzQuNzczIDY0LjgwOTQgMzcuMjg5IDY0LjgxNTZDMzkuODA5MSA2NC44MjM4IDM5LjgwMDkgNjcuMzQxOSAzOS44MDA5IDY3LjM0MTlMMzkuNzYxOCA3OS4wMjU3QzQwLjE2MjcgNzguODQwNyA0MC41ODIgNzguNjc0MiA0MS4wMjE5IDc4LjUzMDNMNDEuMDczMyA2Mi4zMTRDNDEuMDczMyA2Mi4zMTQgNDEuMDgxNSA1OS43OTYgNDMuNTk1NCA1OS44MDQyQzQ2LjExMTQgNTkuODEwMyA0Ni4xMDUzIDYyLjMzMDUgNDYuMTA1MyA2Mi4zMzA1TDQ2LjA2MjEgNzcuNTgyN0M0Ni40NzEyIDc3LjU0NTcgNDYuODkyNSA3Ny41MTY5IDQ3LjMxNiA3Ny40OTYzTDQ3LjM3MzUgNTkuODE0NUM0Ny4zNzM1IDU5LjgxNDUgNDcuMzc5NyA1Ny4yOTY0IDQ5Ljg5NzggNTcuMzA2N0M1Mi40MTU4IDU3LjMxNDkgNTIuNDA1NSA1OS44MzI5IDUyLjQwNTUgNTkuODMyOUw1Mi4zNDggNzcuNTEwN0M1Mi43Nzk3IDc3LjUzNTQgNTMuMTk0OSA3Ny41Nzg2IDUzLjYxMDEgNzcuNjE3Nkw1My42NjE1IDYxLjA5M0M1My42NjE1IDYxLjA5MyA1My42Njk3IDU4LjU3NDkgNTYuMTgzNyA1OC41ODUyQzU4LjY5OTcgNTguNTkxNCA1OC42ODk0IDYxLjEwNzQgNTguNjg5NCA2MS4xMDc0TDU4LjY0IDc4LjU4MTdMNTguNjMzOSA3OS45ODE1VjgxLjIzNzRMNTkuODg3OCA4Mi41MDM3TDYzLjU4OTggNzMuODk1QzYzLjU4OTggNzMuODk1IDY0LjQwMTggNzEuNTEyNiA2Ni43ODgzIDcyLjMyODdDNjkuMTY4NiA3My4xMzQ0IDY4LjM2MDggNzUuNTIxIDY4LjM2MDggNzUuNTIxTDY2LjUyNTIgODEuOTAzNUM2NS43OTc1IDg0LjQ0IDY1LjExNzEgODYuOTkzIDY0Ljc1OTQgODkuNTk5NEM2My43MzU4IDk2Ljk2NjYgNTcuMzk4NSAxMDIuNjMyIDQ5Ljc1NTkgMTAyLjYxMUM0MS40MjA3IDEwMi41NzYgMzQuNjc4NCA5NS43OTY5IDM0LjcwNTIgODcuNDYxN0MzNC43MDYgODcuMjc4NyAzNC43MDkzIDg2LjE5OTYgMzQuNzA5MyA4Ni4xOTk2TDM0Ljc2NjggNjcuMzI3NVpNMTA3LjIxMyA2Ny4zMjc1QzEwNy4yMTMgNjcuMzI3NSAxMDcuMjA3IDY0LjgwOTQgMTA0LjY5MSA2NC44MTU2QzEwMi4xNzEgNjQuODIzOCAxMDIuMTc3IDY3LjM0MTkgMTAyLjE3NyA2Ny4zNDE5TDEwMi4yMTYgNzkuMDI1N0MxMDEuODE3IDc4Ljg0MDcgMTAxLjM5NiA3OC42NzQyIDEwMC45NTggNzguNTMwM0wxMDAuOTA2IDYyLjMxNEMxMDAuOTA2IDYyLjMxNCAxMDAuODk4IDU5Ljc5NiA5OC4zODQyIDU5LjgwNDJDOTUuODY2MSA1OS44MTAzIDk1Ljg3MjMgNjIuMzMwNSA5NS44NzIzIDYyLjMzMDVMOTUuOTE3NSA3Ny41ODI3Qzk1LjUxMDUgNzcuNTQ1NyA5NS4wODkxIDc3LjUxNjkgOTQuNjYzNiA3Ny40OTYzTDk0LjYwODIgNTkuODE0NUM5NC42MDgyIDU5LjgxNDUgOTQuNTk5OSA1Ny4yOTY0IDkyLjA4MTkgNTcuMzA2N0M4OS41NjM4IDU3LjMxNDkgODkuNTc0MSA1OS44MzI5IDg5LjU3NDEgNTkuODMyOUw4OS42MzE2IDc3LjUxMDdDODkuMiA3Ny41MzU0IDg4Ljc4NDggNzcuNTc4NiA4OC4zNjk1IDc3LjYxNzZMODguMzE4MSA2MS4wOTNDODguMzE4MSA2MS4wOTMgODguMzA3OSA1OC41NzQ5IDg1Ljc5MzkgNTguNTg1MkM4My4yNzc5IDU4LjU5MTQgODMuMjg4MiA2MS4xMDc0IDgzLjI4ODIgNjEuMTA3NEw4My4zMzc1IDc4LjU4MTdMODMuMzQzNyA3OS45ODE1VjgxLjIzNzRMODIuMDkxOSA4Mi41MDM3TDc4LjM4OTggNzMuODk1Qzc4LjM4OTggNzMuODk1IDc3LjU3OTkgNzEuNTEyNiA3NS4xOTE0IDcyLjMyODdDNzIuODEzMSA3My4xMzQ0IDczLjYxODkgNzUuNTIxIDczLjYxODkgNzUuNTIxTDc1LjQ1NDUgODEuOTAzNUM3Ni4xODIxIDg0LjQ0IDc2Ljg2MjUgODYuOTkzIDc3LjIyMDIgODkuNTk5NEM3OC4yNDM5IDk2Ljk2NjYgODQuNTc5MSAxMDIuNjMyIDkyLjIyMzcgMTAyLjYxMUMxMDAuNTU5IDEwMi41NzYgMTA3LjMwMyA5NS43OTY5IDEwNy4yNzQgODcuNDYxN0MxMDcuMjc0IDg3LjI3ODcgMTA3LjI3IDg2LjE5OTYgMTA3LjI3IDg2LjE5OTZMMTA3LjIxMyA2Ny4zMjc1WiIgc3Ryb2tlPSIjMjIyMjIyIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTgyLjM4OTkgNTYuMjc0OEM4MS45NTIxIDU2LjI3NDggODEuNTA4MSA1Ni4xMzUgODEuMTM2IDU1Ljg0NzJDODAuMjM1NyA1NS4xNTI0IDgwLjA3MTMgNTMuODYxNiA4MC43NjYgNTIuOTYzM0w4Ni44ODk1IDQ1LjAzOTFDODcuNTc4MSA0NC4xNDI5IDg4Ljg3MzEgNDMuOTcwMiA4OS43NzE0IDQ0LjY2OTFDOTAuNjcxOCA0NS4zNjM5IDkwLjgzNjIgNDYuNjU0OCA5MC4xNDE0IDQ3LjU1MzFMODQuMDE3OSA1NS40NzcyQzgzLjYxNSA1Ni4wMDE0IDgzLjAwNjYgNTYuMjc0OCA4Mi4zODk5IDU2LjI3NDhaTTU5LjczNzcgNTYuMjc0OEM1OS4xMjMxIDU2LjI3NDggNTguNTE0NyA1NS45OTkzIDU4LjEwOTcgNTUuNDc1Mkw1MS45ODYyIDQ3LjU1MzFDNTEuMjkzNSA0Ni42NTQ4IDUxLjQ2IDQ1LjM2MzkgNTIuMzU4MyA0NC42NjkxQzUzLjI1NjUgNDMuOTc2NCA1NC41NDU0IDQ0LjE0MDggNTUuMjQyMiA0NS4wMzkxTDYxLjM2NTcgNTIuOTYzM0M2Mi4wNTg0IDUzLjg2MTYgNjEuODk0IDU1LjE1MjQgNjAuOTk1NyA1NS44NDcyQzYwLjYxOTUgNTYuMTM3MSA2MC4xNzc2IDU2LjI3NDggNTkuNzM3NyA1Ni4yNzQ4Wk03MS4wMDAxIDUyLjMzMzNDNjkuODY1NCA1Mi4zMzMzIDY4Ljk0NDUgNTEuNDEyNCA2OC45NDQ1IDUwLjI3NzhWNDIuMDU1NkM2OC45NDQ1IDQwLjkyMDkgNjkuODY1NCA0MCA3MS4wMDAxIDQwQzcyLjEzNjggNDAgNzMuMDU1NiA0MC45MjA5IDczLjA1NTYgNDIuMDU1NlY1MC4yNzc4QzczLjA1NTYgNTEuNDEyNCA3Mi4xMzY4IDUyLjMzMzMgNzEuMDAwMSA1Mi4zMzMzWiIgZmlsbD0iIzIyMjIyMiIvPgo8L3N2Zz4K"},65338:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMTI3Ljk4MzI1bW0iCiAgIGhlaWdodD0iMTI1Ljg3MDg0bW0iCiAgIHZpZXdCb3g9IjAgMCAxMjcuOTgzMjUgMTI1Ljg3MDg0IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczOSIKICAgc29kaXBvZGk6ZG9jbmFtZT0icm90YXRlLXBob25lLWZhbGxiYWNrLnN2ZyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4xLjIgKGI4ZTI1YmU4LCAyMDIyLTAyLTA1KSIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9Im5hbWVkdmlldzQxIgogICAgIHBhZ2Vjb2xvcj0iIzUwNTA1MCIKICAgICBib3JkZXJjb2xvcj0iI2VlZWVlZSIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZWNoZWNrZXJib2FyZD0iMCIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnNuYXAtcGFnZT0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMC4zMTUxMjI4MSIKICAgICBpbmtzY2FwZTpjeD0iMTc5LjI5NTE4IgogICAgIGlua3NjYXBlOmN5PSI4MDcuNjIxNjMiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxODY0IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEzODciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjI1IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIiAvPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMzNiIgLz4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNC4yOTI2NzM1LC00LjM5MzAzMTgpIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDowLjI2NDU4MyIKICAgICAgIGQ9Im0gNzIuODIwNTc2LDEyOC4yOTE4IGMgMTEuNzczNzksLTEuMDg5ODggMjEuODgzMTQsLTIuMDUzIDIyLjQ2NTIyLC0yLjE0MDI4IDIuNzI3MzIsLTAuNDA4OTEgNS41ODUwNTQsLTIuNDkxMTIgNi45MzU4NDQsLTUuMDUzNjIgMS42NTQ0MiwtMy4xMzg1MyAxLjkwMTYxLDAuOTY5MTcgLTMuMzYyNTI0LC01NS44NzY4NCAtMi42MjI4MSwtMjguMzIzMTM0IC00Ljg4OTU0LC01Mi4wODEwODggLTUuMDM3MTYsLTUyLjc5NTQ1MyAtMC40MjQwNiwtMi4wNTIwNjEgLTEuMTc3NjcsLTMuNDgzMTc4IC0yLjY1ODk4LC01LjA0OTQ0MyAtMS44Nzk1OCwtMS45ODczNzMgLTMuNzI1MjUsLTIuODM4OTAyIC02LjQ2MDUxLC0yLjk4MDY1NSAtMi4xODE4MiwtMC4xMTMwNyAtNDQuMzU4MzA4LDMuNjc5NjUyIC00Ni42ODc4ODgsNC4xOTg0MTMgLTMuNjY2OSwwLjgxNjU1NCAtNi42MTY4MSw0LjAxNTg5MyAtNy40Mjk1LDguMDU3NjkyIC0wLjI4NjMsMS40MjM4NzEgMC4xMzMwOSw2LjQwNzcwMiA0LjQ4NDkzLDUzLjI5Njc4NiAyLjc3MDM3LDI5Ljg0OTQ4IDQuOTYzNzUsNTIuMjg1NTUgNS4xODYxNCw1My4wNDg5NiAxLjI2OTk5LDQuMzU5NzEgNS4wMDQzNCw3LjI0MjM3IDkuNDEzMzksNy4yNjY0OSAwLjk1OTI4LDAuMDA1IDExLjM3NzI0OCwtMC44ODIxNyAyMy4xNTEwMzgsLTEuOTcyMDUgeiBtIC0yMy43MDQ1NjgsLTAuOTYwNTMgYyAtMC44MDAzNywtMC4wOTQgLTEuNzY5NCwtMC4yOTU5NSAtMi4xNTM0MiwtMC40NDg3NiAtMS42NjUxMiwtMC42NjI1OCAtMy42ODM1LC0zLjEzNTk2IC00LjAzNDA3LC00Ljk0MzQ4IC0wLjA4NDcsLTAuNDM2NTcgLTIuMzA2NDgsLTI0LjA0NCAtNC45MzczNywtNTIuNDYwOTcgLTQuNjUxMjQsLTUwLjIzOTQwNiAtNC43NzIwNCwtNTEuNzA2MzkzIC00LjM3MTI4LC01My4wODQ5NTcgMC41MzgyMSwtMS44NTEzOTUgMi4zMTU1MywtMy44NTE5NDQgNC4xMDY2NywtNC42MjI0NzIgMS4xNTI0MiwtMC40OTU3NTggNC4xNTk3MSwtMC44MzE3MSAyMi45NjAzODgsLTIuNTY0OTY5IDExLjkzMzE4LC0xLjEwMDEzNCAyMi41MzM0MiwtMS45NTc4ODIgMjMuNjM5NDMsLTEuOTEyODUgMS42ODU5NSwwLjA2ODY0IDIuMjEyNDIsMC4yMDkyMjIgMy4zMDcyOSwwLjg4MzEgMS40MjIzMSwwLjg3NTQxNiAyLjg2MzMsMi43NzY4NDQgMy4yNzEwNyw0LjMxNjI4NSAwLjM0Mzk4LDEuMjk4NTg5IDkuNTQwNDY0LDEwMS4yODQzMDMgOS41NDA0NjQsMTAzLjcyNTUwMyAwLDMuMjUwMzcgLTEuMzQxODg0LDUuMzM3MDggLTQuMjYyOTk0LDYuNjI5MjIgLTAuOTk3MjksMC40NDExNSAtNC42OTc5NiwwLjg1MTA3IC0yMi43Mzk2LDIuNTE4ODYgLTExLjg1MTY1LDEuMDk1NTggLTIxLjg0NjEwOCwyLjAyNDQ3IC0yMi4yMDk5MDgsMi4wNjQxOSAtMC4zNjM4MSwwLjAzOTcgLTEuMzE2MzEsLTAuMDA1IC0yLjExNjY3LC0wLjA5ODcgeiBtIDIzLjU0NzkxOCwtOS4xMDY2OSBjIDUuNzQ4MDcsLTAuNTE1OTQgMTAuNzE1NjUsLTEuMDQ4MDcgMTEuMDM5MDUsLTEuMTgyNTEgMC44NzI2MywtMC4zNjI3MyAxLjA2OTAxLC0xLjUwMTExIDAuMzc4MTQsLTIuMTkxOTkgbCAtMC41NTg1LC0wLjU1ODUgLTExLjkxMzY3LDEuMTAzNTIgYyAtNi41NTI1MiwwLjYwNjk0IC0xMi4xNTA4OCwxLjIzMDQ3IC0xMi40NDA4LDEuMzg1NjQgLTAuMzI5ODYsMC4xNzY1MyAtMC41MjU2MiwwLjU1MDkzIC0wLjUyMzA5LDEuMDAwNDEgMC4wMDcsMS4zMjg2NSAwLjU2NDk5LDEuNjgwNDMgMi4zNzcyLDEuNTAwMDQgMC42NTQ4NCwtMC4wNjUyIDUuODkzNTksLTAuNTQwNjYgMTEuNjQxNjcsLTEuMDU2NjEgeiBtIC04Ljc0ODQ5LC05OS4xOTMyMjIgYyAyLjg0NjU2LC0wLjI4NDQ4NyAzLjYyMzk1LC0wLjQ1MDA0NSAzLjkwMjYsLTAuODMxMTI3IDAuNDkzMywtMC42NzQ2MzIgMC40MzE5OCwtMS4yNzUwMzMgLTAuMTg3NSwtMS44MzU2NSAtMC41MDQxMywtMC40NTYyMzIgLTAuNzcxMjMsLTAuNDY1NTY5IC00LjU2NDA2LC0wLjE1OTU0NyAtMi4yMTU3MywwLjE3ODc3NCAtNC40MjIzMiwwLjM5MjkwNyAtNC45MDM1NCwwLjQ3NTg1NCAtMS41OTkzOCwwLjI3NTY3NyAtMi4xMzE1MiwyLjE5MjgxMyAtMC43NTU0MywyLjcyMTYxOCAwLjMxNDYyLDAuMTIwOSAxLjEwNzgyLDAuMTY2NzggMS43NjI2NywwLjEwMTk2IDAuNjU0ODQsLTAuMDY0OCAyLjc5MDIxLC0wLjI3NzcxOCA0Ljc0NTI2LC0wLjQ3MzEwOCB6IE0gMjcuMzI1NjQ4LDEwMC4yMjI2OSBjIDAuNTYyNDUsLTAuODU4NDEgMC4yNDY0LC0xLjkzNzk1IC0wLjcwMjcyLC0yLjQwMDMzIEMgMjYuMjYxMDQ4LDk3LjY0NjA3IDI0LjU5NTc0OCw5Ni44NDc2IDIyLjkyMjI1OCw5Ni4wNDggMTUuMDI1NDQ4LDkyLjI3NDg0IDkuODgwOTc4Miw4NS41NTcyOCA4LjIwMjc2ODIsNzYuODI3NTcgYyAtMC41MDMwOSwtMi42MTY5NyAtMC40ODYzMSwtNy44ODYwMiAwLjAzMzEsLTEwLjQwMDczIDEuMzM1MTUsLTYuNDYzODUgNC45Njk3ODk4LC0xMi4zMzI3ODUgOS45ODc4Mzk4LC0xNi4xMjc1NjUgMy42OTUyNiwtMi43OTQ0NSAzLjYwNDczLC0yLjg3NDE1IDEuNjIzNzgsMS40Mjk1MSAtMi43OTc4Nyw2LjA3ODQ4IC0zLjA2MDU4LDYuNzg0MDcgLTIuNzQ1MjUsNy4zNzMyNiAwLjU3MDI4LDEuMDY1NTg1IDIuMDA4NTMsMS4zODAzMzUgMi43MTMyMSwwLjU5Mzc1NSAwLjU1MTg1LC0wLjYxNTk4NSA3LjA3NTU0LC0xNC44MzcwMTUgNy4wNzU1NCwtMTUuNDI0MDA1IDAsLTAuMjUyMTggLTAuMjA4MzYsLTAuNzAxNzIgLTAuNDYzMDIsLTAuOTk4OTggLTAuNDc1OTcsLTAuNTU1NTY5IC0xNC43MjQ2MywtNy4xOTEwNjkgLTE1LjQ0MTY2LC03LjE5MTA2OSAtMS4yMDEwNTk4LDAgLTIuMDU4NTg5OCwyLjE2NTQzIC0xLjE1NDYyOTgsMi45MTU2NSAwLjIyMTc0OTgsMC4xODQwNCAyLjc5MTUwOTgsMS40MzQ4MiA1LjcxMDU3OTgsMi43Nzk1MSA0LjE3Mzk0LDEuOTIyNzQ5IDUuMjMyMDUsMi41MTAxNzkgNC45NTQ2MiwyLjc1MDYxOSAtMC4xOTQwMiwwLjE2ODE2IC0xLjI1OTUzLDAuODkyODUgLTIuMzY3OCwxLjYxMDQyIC02LjczOTI0LDQuMzYzNDMgLTExLjY0NTcxOTgsMTEuNjUyMjggLTEzLjM2NDg0OTgsMTkuODU0MjU1IC0wLjU3MjkxLDIuNzMzMzggLTAuNjM0OTUsOC4yNTQwNCAtMC4xMjQ3NCwxMS4wOTk5NSAxLjY3Mjg0LDkuMzMwODEgNy43NzI3ODk4LDE3LjYwMDM5IDE2LjEwNTE4OTgsMjEuODMzNDcgNC4yMjAzNywyLjE0NDA1IDUuODE5NDcsMi40NTkyMiA2LjU4MDk1LDEuMjk3MDcgeiBtIDk5LjMxMzI4MiwtNC42MDk3MSBjIDAuNzIwMTIsLTAuNzIwMTEgMC42NjkwNywtMS43NTIwOSAtMC4xMjE2OCwtMi40NjAwMiAtMC4zNTc5NiwtMC4zMjA0OCAtMi44NTgyNywtMS41ODUzMiAtNS41NTYyNSwtMi44MTA3OCAtMi42OTc5NywtMS4yMjU0NSAtNC45MDU0MSwtMi4zMTgzMiAtNC45MDU0MSwtMi40Mjg2IDAsLTAuMTEwMjcgMC45MjI3NCwtMC43NzI0OCAyLjA1MDUzLC0xLjQ3MTU2IDIuNDEyNTQsLTEuNDk1NDYgNy4zOTk2NiwtNi4zMzg2MiA4LjkxMjg3LC04LjY1NTU3IDIuMzI0NTIsLTMuNTU5MiAzLjkxNDQ2LC03LjQxNjc4IDQuODExNzUsLTExLjY3NDUxIDAuNTM4NTcsLTIuNTU1NTUgMC42MDAwMiwtNy45MjM5NTUgMC4xMjExNCwtMTAuNTgzMzI1IC0xLjgwNDAyLC0xMC4wMTgzOSAtNy44NDI5NSwtMTguMDk4ODk5IC0xNi44OTM3NiwtMjIuNjA1MDY5IC0zLjY0Mzg4LC0xLjgxNDIgLTUuMTYwNzcsLTIuMDE5NzEgLTUuODQ3MzksLTAuNzkyMjIgLTAuNzMxNCwxLjMwNzU2IC0wLjI4MDQ4LDEuOTA2OTQgMi4yNzQ2NSwzLjAyMzU1IDYuMTI1NzQsMi42NzY5OCAxMC4wMDMzNCw1LjkwNDc1IDEzLjIxMTM5LDEwLjk5NzMzOSAyLjYwOTc2LDQuMTQyODQgMy43OTcyMyw4LjEyNDU1IDMuOTg3NjYsMTMuMzcxMDcgMC4xOTUxMiw1LjM3NTY2NSAtMC41NzcyLDguODY3NDE1IC0zLjAxNjE2LDEzLjYzNjM4NSAtMS4yMTkzNCwyLjM4NDIxIC00LjYzOTU0LDYuNzQ0OTkgLTYuMjU4OSw3Ljk4MDEzIC0wLjUwOTcsMC4zODg3NiAtMS4wODU4NSwwLjg1NzY4IC0xLjI4MDM1LDEuMDQyMDQgLTAuNjc2NjksMC42NDE0MiAtMi42NTIxMSwxLjgyODE1IC0yLjc5ODg2LDEuNjgxNDEgLTAuMDgxMiwtMC4wODEyIDAuODgxOTEsLTIuMzY2NDcgMi4xNDAzNCwtNS4wNzgyOSAyLjA5Nzg3LC00LjUyMDc1IDIuMjYwNTYsLTQuOTg3OTMgMS45NTczMSwtNS42MjA2NCAtMC40ODk2MywtMS4wMjE1OSAtMS42MTA5MSwtMS4zMzQ1NyAtMi40NjI5OSwtMC42ODc0OSAtMC43NjM0NSwwLjU3OTc4IC03LjI1OTIzLDE0LjUwNDE1IC03LjI1OTIzLDE1LjU2MDkxIDAsMC4zMzc3NCAwLjIyNjIxLDAuODE4NzggMC41MDI2OSwxLjA2ODk4IDAuNzA2NzMsMC42Mzk1OSAxNC41ODE5OCw3LjAwNDc1IDE1LjMwNjE3LDcuMDIxNTkgMC4zMjc0MiwwLjAwOCAwLjgzMzQ0LC0wLjIyNDI4IDEuMTI0NDgsLTAuNTE1MzMgeiIKICAgICAgIGlkPSJwYXRoMTA5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJzc3Nzc3Nzc3NzY2NzY3Nzc3Nzc3Nzc3Nzc3Njc3NzY3NzY3Nzc3Nzc3Nzc3Nzc2NzY3Nzc3Nzc3Nzc3Nzc2Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzY3MiIC8+CiAgPC9nPgo8L3N2Zz4K"},69506:(e,t,i)=>{"use strict";e.exports=i.p+"images/escape.png"},35783:(e,t,i)=>{"use strict";e.exports=i.p+"images/headset-quest-2.png"},8590:(e,t,i)=>{"use strict";e.exports=i.p+"images/Desktop-help-play-button.svg"},130:(e,t,i)=>{"use strict";e.exports=i.p+"images/Desktop-help-spacebar.png"},80694:(e,t,i)=>{"use strict";e.exports=i.p+"images/matterport-logo-light.svg"},68026:(e,t,i)=>{"use strict";e.exports=i.p+"images/mattertag-disc-128-free.v1.png"},31603:(e,t,i)=>{"use strict";e.exports=i.p+"images/mobile-help-play-button.svg"},61163:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_360.png"},16554:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_click_inside.png"},37161:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_drag.png"},37159:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_drag.svg"},61406:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_drag_two_finger.png"},55553:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_drag_two_finger_rotate.svg"},44582:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_drag_two_finger_vert.svg"},33948:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_pinch.png"},96555:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_pinch.svg"},79264:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_position.png"},88446:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_position_two_finger.png"},44625:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_tap.png"},70638:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_tap.svg"},71964:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_inside_key.png"},92116:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_keyboard_all.png"},90047:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_keyboard_left_right.png"},41922:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_keyboard_up_down.png"},24267:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_click.png"},41840:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_click.svg"},77645:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_ctrl_click.png"},9328:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_drag_left.png"},62002:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_drag_right.png"},91133:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_drag_right_horiz.svg"},48161:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_drag_right_vert.svg"},80208:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_position_left.png"},78391:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_position_left.svg"},75974:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_position_right.png"},5512:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_zoom.png"},91843:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_zoom.svg"},92842:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_tap_inside.png"},44889:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_zoom_keys.png"},81396:e=>{"use strict";e.exports=THREE},8520:(e,t,i)=>{var n;!function(e){!function(t){var n="object"==typeof globalThis?globalThis:"object"==typeof i.g?i.g:"object"==typeof self?self:"object"==typeof this?this:function(){try{return Function("return this;")()}catch(e){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}(),s=r(e);function r(e,t){return function(i,n){Object.defineProperty(e,i,{configurable:!0,writable:!0,value:n}),t&&t(i,n)}}void 0!==n.Reflect&&(s=r(n.Reflect,s)),function(e,t){var i=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,s=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,o={__proto__:[]}instanceof Array,l=!a&&!o,c={create:a?function(){return ue(Object.create(null))}:o?function(){return ue({__proto__:null})}:function(){return ue({})},has:l?function(e,t){return i.call(e,t)}:function(e,t){return t in e},get:l?function(e,t){return i.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},d=Object.getPrototypeOf(Function),u="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:le(),h="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:ce(),p="function"==typeof WeakMap?WeakMap:de(),m=n?Symbol.for("@reflect-metadata:registry"):void 0,f=se(),g=re(f);function v(e,t,i,n){if(F(i)){if(!K(e))throw new TypeError;if(!q(t))throw new TypeError;return A(e,t)}if(!K(e))throw new TypeError;if(!j(t))throw new TypeError;if(!j(n)&&!F(n)&&!U(n))throw new TypeError;return U(n)&&(n=void 0),I(e,t,i=z(i),n)}function y(e,t){function i(i,n){if(!j(i))throw new TypeError;if(!F(n)&&!$(n))throw new TypeError;R(e,t,i,n)}return i}function E(e,t,i,n){if(!j(i))throw new TypeError;return F(n)||(n=z(n)),R(e,t,i,n)}function b(e,t,i){if(!j(t))throw new TypeError;return F(i)||(i=z(i)),k(e,t,i)}function S(e,t,i){if(!j(t))throw new TypeError;return F(i)||(i=z(i)),P(e,t,i)}function O(e,t,i){if(!j(t))throw new TypeError;return F(i)||(i=z(i)),L(e,t,i)}function T(e,t,i){if(!j(t))throw new TypeError;return F(i)||(i=z(i)),D(e,t,i)}function _(e,t){if(!j(e))throw new TypeError;return F(t)||(t=z(t)),M(e,t)}function N(e,t){if(!j(e))throw new TypeError;return F(t)||(t=z(t)),C(e,t)}function w(e,t,i){if(!j(t))throw new TypeError;if(F(i)||(i=z(i)),!j(t))throw new TypeError;F(i)||(i=z(i));var n=oe(t,i,!1);return!F(n)&&n.OrdinaryDeleteMetadata(e,t,i)}function A(e,t){for(var i=e.length-1;i>=0;--i){var n=(0,e[i])(t);if(!F(n)&&!U(n)){if(!q(n))throw new TypeError;t=n}}return t}function I(e,t,i,n){for(var s=e.length-1;s>=0;--s){var r=(0,e[s])(t,i,n);if(!F(r)&&!U(r)){if(!j(r))throw new TypeError;n=r}}return n}function k(e,t,i){if(P(e,t,i))return!0;var n=ie(t);return!U(n)&&k(e,n,i)}function P(e,t,i){var n=oe(t,i,!1);return!F(n)&&G(n.OrdinaryHasOwnMetadata(e,t,i))}function L(e,t,i){if(P(e,t,i))return D(e,t,i);var n=ie(t);return U(n)?void 0:L(e,n,i)}function D(e,t,i){var n=oe(t,i,!1);if(!F(n))return n.OrdinaryGetOwnMetadata(e,t,i)}function R(e,t,i,n){oe(i,n,!0).OrdinaryDefineOwnMetadata(e,t,i,n)}function M(e,t){var i=C(e,t),n=ie(e);if(null===n)return i;var s=M(n,t);if(s.length<=0)return i;if(i.length<=0)return s;for(var r=new h,a=[],o=0,l=i;o<l.length;o++){var c=l[o];r.has(c)||(r.add(c),a.push(c))}for(var d=0,u=s;d<u.length;d++){c=u[d];r.has(c)||(r.add(c),a.push(c))}return a}function C(e,t){var i=oe(e,t,!1);return i?i.OrdinaryOwnMetadataKeys(e,t):[]}function x(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function F(e){return void 0===e}function U(e){return null===e}function H(e){return"symbol"==typeof e}function j(e){return"object"==typeof e?null!==e:"function"==typeof e}function V(e,t){switch(x(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var i=3===t?"string":5===t?"number":"default",n=Q(e,s);if(void 0!==n){var r=n.call(e,i);if(j(r))throw new TypeError;return r}return B(e,"default"===i?"number":i)}function B(e,t){if("string"===t){var i=e.toString;if(Y(i))if(!j(s=i.call(e)))return s;if(Y(n=e.valueOf))if(!j(s=n.call(e)))return s}else{var n;if(Y(n=e.valueOf))if(!j(s=n.call(e)))return s;var s,r=e.toString;if(Y(r))if(!j(s=r.call(e)))return s}throw new TypeError}function G(e){return!!e}function W(e){return""+e}function z(e){var t=V(e,3);return H(t)?t:W(t)}function K(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return"function"==typeof e}function q(e){return"function"==typeof e}function $(e){switch(x(e)){case 3:case 4:return!0;default:return!1}}function Z(e,t){return e===t||e!=e&&t!=t}function Q(e,t){var i=e[t];if(null!=i){if(!Y(i))throw new TypeError;return i}}function X(e){var t=Q(e,r);if(!Y(t))throw new TypeError;var i=t.call(e);if(!j(i))throw new TypeError;return i}function J(e){return e.value}function ee(e){var t=e.next();return!t.done&&t}function te(e){var t=e.return;t&&t.call(e)}function ie(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===d)return t;if(t!==d)return t;var i=e.prototype,n=i&&Object.getPrototypeOf(i);if(null==n||n===Object.prototype)return t;var s=n.constructor;return"function"!=typeof s||s===e?t:s}function ne(){var e,i,n,s;F(m)||void 0===t.Reflect||m in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(e=ae(t.Reflect));var r=new p,a={registerProvider:o,getProvider:c,setProvider:f};return a;function o(t){if(!Object.isExtensible(a))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case F(i):i=t;break;case i===t:break;case F(n):n=t;break;case n===t:break;default:void 0===s&&(s=new h),s.add(t)}}function l(t,r){if(!F(i)){if(i.isProviderFor(t,r))return i;if(!F(n)){if(n.isProviderFor(t,r))return i;if(!F(s))for(var a=X(s);;){var o=ee(a);if(!o)return;var l=J(o);if(l.isProviderFor(t,r))return te(a),l}}}if(!F(e)&&e.isProviderFor(t,r))return e}function c(e,t){var i,n=r.get(e);return F(n)||(i=n.get(t)),F(i)?(F(i=l(e,t))||(F(n)&&(n=new u,r.set(e,n)),n.set(t,i)),i):i}function d(e){if(F(e))throw new TypeError;return i===e||n===e||!F(s)&&s.has(e)}function f(e,t,i){if(!d(i))throw new Error("Metadata provider not registered.");var n=c(e,t);if(n!==i){if(!F(n))return!1;var s=r.get(e);F(s)&&(s=new u,r.set(e,s)),s.set(t,i)}return!0}}function se(){var e;return!F(m)&&j(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[m]),F(e)&&(e=ne()),!F(m)&&j(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,m,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}function re(e){var t=new p,i={isProviderFor:function(e,i){var n=t.get(e);return!F(n)&&n.has(i)},OrdinaryDefineOwnMetadata:a,OrdinaryHasOwnMetadata:s,OrdinaryGetOwnMetadata:r,OrdinaryOwnMetadataKeys:o,OrdinaryDeleteMetadata:l};return f.registerProvider(i),i;function n(n,s,r){var a=t.get(n),o=!1;if(F(a)){if(!r)return;a=new u,t.set(n,a),o=!0}var l=a.get(s);if(F(l)){if(!r)return;if(l=new u,a.set(s,l),!e.setProvider(n,s,i))throw a.delete(s),o&&t.delete(n),new Error("Wrong provider for target.")}return l}function s(e,t,i){var s=n(t,i,!1);return!F(s)&&G(s.has(e))}function r(e,t,i){var s=n(t,i,!1);if(!F(s))return s.get(e)}function a(e,t,i,s){n(i,s,!0).set(e,t)}function o(e,t){var i=[],s=n(e,t,!1);if(F(s))return i;for(var r=X(s.keys()),a=0;;){var o=ee(r);if(!o)return i.length=a,i;var l=J(o);try{i[a]=l}catch(e){try{te(r)}finally{throw e}}a++}}function l(e,i,s){var r=n(i,s,!1);if(F(r))return!1;if(!r.delete(e))return!1;if(0===r.size){var a=t.get(i);F(a)||(a.delete(s),0===a.size&&t.delete(a))}return!0}}function ae(e){var t=e.defineMetadata,i=e.hasOwnMetadata,n=e.getOwnMetadata,s=e.getOwnMetadataKeys,r=e.deleteMetadata,a=new p;return{isProviderFor:function(e,t){var i=a.get(e);return!(F(i)||!i.has(t))||!!s(e,t).length&&(F(i)&&(i=new h,a.set(e,i)),i.add(t),!0)},OrdinaryDefineOwnMetadata:t,OrdinaryHasOwnMetadata:i,OrdinaryGetOwnMetadata:n,OrdinaryOwnMetadataKeys:s,OrdinaryDeleteMetadata:r}}function oe(e,t,i){var n=f.getProvider(e,t);if(!F(n))return n;if(i){if(f.setProvider(e,t,g))return g;throw new Error("Illegal state.")}}function le(){var e={},t=[],i=function(){function e(e,t,i){this._index=0,this._keys=e,this._values=t,this._selector=i}return e.prototype["@@iterator"]=function(){return this},e.prototype[r]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var i=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:i,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var i=this._find(e,!0);return this._values[i]=t,this},t.prototype.delete=function(t){var i=this._find(t,!1);if(i>=0){for(var n=this._keys.length,s=i+1;s<n;s++)this._keys[s-1]=this._keys[s],this._values[s-1]=this._values[s];return this._keys.length--,this._values.length--,Z(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new i(this._keys,this._values,n)},t.prototype.values=function(){return new i(this._keys,this._values,s)},t.prototype.entries=function(){return new i(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[r]=function(){return this.entries()},t.prototype._find=function(e,t){if(!Z(this._cacheKey,e)){this._cacheIndex=-1;for(var i=0;i<this._keys.length;i++)if(Z(this._keys[i],e)){this._cacheIndex=i;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function s(e,t){return t}function a(e,t){return[e,t]}}function ce(){return function(){function e(){this._map=new u}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[r]=function(){return this.keys()},e}()}function de(){var e=16,t=c.create(),n=s();return function(){function e(){this._key=s()}return e.prototype.has=function(e){var t=r(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=r(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return r(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=r(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=s()},e}();function s(){var e;do{e="@@WeakMap@@"+l()}while(c.has(t,e));return t[e]=!0,e}function r(e,t){if(!i.call(e,n)){if(!t)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function a(e,t){for(var i=0;i<t;++i)e[i]=255*Math.random()|0;return e}function o(e){if("function"==typeof Uint8Array){var t=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(t):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(t):a(t,e),t}return a(new Array(e),e)}function l(){var t=o(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var i="",n=0;n<e;++n){var s=t[n];4!==n&&6!==n&&8!==n||(i+="-"),s<16&&(i+="0"),i+=s.toString(16).toLowerCase()}return i}}function ue(e){return e.__=void 0,delete e.__,e}e("decorate",v),e("metadata",y),e("defineMetadata",E),e("hasMetadata",b),e("hasOwnMetadata",S),e("getMetadata",O),e("getOwnMetadata",T),e("getMetadataKeys",_),e("getOwnMetadataKeys",N),e("deleteMetadata",w)}(s,n),void 0===n.Reflect&&(n.Reflect=e)}()}(n||(n={}))},1604:(e,t,i)=>{"use strict";i.d(t,{W:()=>g});const n="async-injection:POSTCONSTRUCT_ASYNC";function s(e){return!!e&&(e instanceof Error||e&&"string"==typeof e.message&&"string"==typeof e.stack)}function r(e){return!!e&&(e instanceof Promise||e&&"function"==typeof e.then)}function a(e){var t,i;const n=Reflect.getMetadata("async-injection:RELEASE",e.constructor);if(n&&e.constructor.prototype[n]&&"function"==typeof e.constructor.prototype[n]){const s=null===(i=(t=e[n]).bind)||void 0===i?void 0:i.call(t,e);if(s)return s(),!0}return!1}class o{constructor(){}resolveIfSingleton(e){if(null===this.singleton){const e=this.provideAsState();if(e.pending)return e.promise;if(e.rejected)return Promise.reject(e.rejected)}}releaseIfSingleton(){if(this.singleton){const e=this.provideAsState();e.pending?e.promise.then((e=>{this.singleton=null,a(e)})).catch((()=>{this.singleton=null})):(this.singleton=null,!e.rejected&&e.fulfilled&&a(e.fulfilled))}}}class l extends o{constructor(e,t,i){super(),this.injector=e,this.id=t,this.maker=i}makeBindAs(){const e={onError:e=>{this.errorHandler=e},onSuccess:t=>(this.successHandler=t,e),asSingleton:()=>(this.singleton=null,e)};return e}queryErrorHandler(e,t){if(this.errorHandler){const i=this.errorHandler(this.injector,this.id,this.maker,e,t);if(s(i))throw i;if(void 0===i)throw e;return i}throw e}makePromiseForObj(e,t){return new Promise(((i,n)=>{const r=(e,t)=>{if(this.errorHandler){const n=this.errorHandler(this.injector,this.id,this.maker,e,t);if(s(n))e=n;else if(void 0!==n)return void i(n)}n(e)};e.then((e=>{try{i(t(e))}catch(i){r(i,t(e))}})).catch((e=>{r(e,t(void 0))}))}))}}class c{static MakeState(e,t,i){const n=new c;return r(e)?(n._pending=!0,n._promise=e.then((e=>(n._fulfilled=e,n._pending=!1,e)),(e=>{throw n._rejected=e,n._pending=!1,e}))):(n._pending=!1,t?n._rejected=t:n._fulfilled=i,n._promise=null),n}constructor(){}get promise(){return this._promise}get pending(){return this._pending}get fulfilled(){return this._fulfilled}get rejected(){return this._rejected}}class d extends l{constructor(e,t,i){super(e,t,i)}provideAsState(){let e=this.singleton;return e||(e=c.MakeState(this.makePromiseForObj(this.maker(this.injector),(e=>e)))),null===this.singleton&&(this.singleton=e),e}}function u(e){return`index-${e}`}class h extends l{constructor(e,t,i){super(e,t,i)}provideAsState(){let e=this.singleton;return e||(e=this.provideAsStateImpl()),null===this.singleton&&(this.singleton=e),e}resolveIfSingleton(e){if(!e||Reflect.getMetadata(n,this.maker))return super.resolveIfSingleton(!1)}makePostConstructState(e){var t,i;if("object"==typeof e&&!Array.isArray(e)&&e.constructor){let s,a=!1;if("function"==typeof this.successHandler)a=!0,s=()=>this.successHandler(e,this.injector,this.id,this.maker);else{let r=Reflect.getMetadata("async-injection:POSTCONSTRUCT_SYNC",e.constructor);r||(a=!0,r=Reflect.getMetadata(n,e.constructor)),r&&e.constructor.prototype[r]&&"function"==typeof e.constructor.prototype[r]&&(s=null===(i=(t=e[r]).bind)||void 0===i?void 0:i.call(t,e))}if(s){let t;try{t=s()}catch(t){try{return e=this.queryErrorHandler(t,e),c.MakeState(null,void 0,e)}catch(e){return c.MakeState(null,e,void 0)}}if(t&&(t instanceof Promise||a&&r(t)))return c.MakeState(this.makePromiseForObj(t,(()=>e)))}}return c.MakeState(null,void 0,e)}getConstructorParameterStates(){const e=Reflect.getMetadata("design:paramtypes",this.maker);return void 0!==e&&Array.isArray(e)?e.map(((e,t)=>{const i=(n=this.maker,s=t,Reflect.getMetadata("async-injection:INJECT",n,u(s)));var n,s;const r=void 0===i?e:i;if(void 0===r)throw new Error(`Injection error. Unable to determine parameter ${t} type/value of ${this.maker.toString()} constructor`);let a=this.injector.resolveState(r);if(!a.pending&&a.rejected){const e=function(e,t){return Reflect.getMetadata("async-injection:OPTIONAL",e,u(t))}(this.maker,t);e&&(a=c.MakeState(null,void 0,e.value))}return a})):[]}provideAsStateImpl(){const e=this.getConstructorParameterStates(),t=e.find((e=>!e.pending&&e.rejected));if(t)return t;const i=e.filter((e=>e.pending)).map((e=>e.promise));if(i.length>0){const t=this.makePromiseForObj(Promise.all(i),(()=>Reflect.construct(this.maker,e.map((e=>e.fulfilled)))));return c.MakeState(t.then((e=>{const t=this.makePostConstructState(e);return t.pending?t.promise:t.rejected?t.rejected:t.fulfilled})))}try{const t=Reflect.construct(this.maker,e.map((e=>e.fulfilled)));return this.makePostConstructState(t)}catch(e){try{return c.MakeState(null,void 0,this.queryErrorHandler(e))}catch(e){return c.MakeState(null,e,void 0)}}}}class p extends o{constructor(e){super(),this.singleton=c.MakeState(null,void 0,e)}provideAsState(){return this.singleton}}class m extends l{constructor(e,t,i){super(e,t,i)}provideAsState(){let e=this.singleton;if(!e)try{e=c.MakeState(null,void 0,this.maker(this.injector))}catch(t){try{e=c.MakeState(null,void 0,this.queryErrorHandler(t))}catch(t){e=c.MakeState(null,t,void 0)}}return null===this.singleton&&(this.singleton=e),e}resolveIfSingleton(e){if(!e)return super.resolveIfSingleton(!1)}}class f{constructor(e){this.reason=e}}class g{constructor(e){this.parent=e,this.providers=new Map}isIdKnown(e,t){return!!this.providers.get(e)||!(!t||!this.parent)&&this.parent.isIdKnown(e,!0)}get(e){const t=this.providers.get(e);if(!t){if(this.parent)return this.parent.get(e);throw new Error("Symbol not bound: "+e.toString())}const i=t.provideAsState();if(i.pending)throw new Error("Synchronous request on unresolved asynchronous dependency tree: "+e.toString());if(i.rejected)throw i.rejected;return i.fulfilled}resolve(e){const t=this.resolveState(e);return r(t.promise)?t.promise:t.rejected?Promise.reject(t.rejected):Promise.resolve(t.fulfilled)}removeBinding(e,t,i){var n;if(i){const t=this.providers.get(e);t&&t.releaseIfSingleton()}this.providers.delete(e),t&&this.parent&&(null===(n=this.parent)||void 0===n||n.removeBinding(e,!0,i))}bindConstant(e,t){return this.providers.set(e,new p(t)),t}bindClass(e,t){if(void 0===t&&(t=e),!Reflect.getMetadata("async-injection:INJECTABLE",t))throw new Error("Class not decorated with @Injectable ["+t.toString()+"]");const i=new h(this,e,t);return this.providers.set(e,i),i.makeBindAs()}bindFactory(e,t){const i=new m(this,e,t);return this.providers.set(e,i),i.makeBindAs()}bindAsyncFactory(e,t){const i=new d(this,e,t);return this.providers.set(e,i),i.makeBindAs()}resolveSingletons(e,t){var i;const n=()=>new Promise(((t,i)=>{const n=new Map;this.providers.forEach(((t,i)=>{const s=t.resolveIfSingleton(e);null!=s&&n.set(i,s)}));const s=Array.from(n.values()),r=Array.from(n.keys());Promise.all(s.map((e=>e.catch((e=>new f(e)))))).then((e=>{const n=new Map;e.forEach(((e,t)=>{e instanceof f&&n.set(r[t],e.reason)})),n.size>0?i(n):t()}))}));if(t&&"function"==typeof(null===(i=this.parent)||void 0===i?void 0:i.resolveSingletons)){return this.parent.resolveSingletons(e,t).then((()=>n().then((()=>this))))}return n().then((()=>this))}resolveState(e){const t=this.providers.get(e);if(!t){if(this.parent){if(this.parent instanceof g)return this.parent.resolveState(e);try{return c.MakeState(this.parent.resolve(e),void 0,void 0)}catch(e){return c.MakeState(null,e)}}return c.MakeState(null,new Error("Symbol not bound: "+e.toString()))}return t.provideAsState()}releaseSingletons(){this.providers.forEach((e=>{e.releaseIfSingleton()}))}clone(e){e||(e=g);const t=new e(this.parent);return this.providers.forEach(((e,i)=>{e instanceof l&&((e=Object.assign(Object.create(Object.getPrototypeOf(e)),e)).injector=t),t.providers.set(i,e)})),t}}},25821:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(45695);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return a(e,[])}function a(e,t){switch(s(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var i=[].concat(t,[e]),s=function(e){var t=e[String(n.Z)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==s){var r=s.call(e);if(r!==e)return"string"==typeof r?r:a(r,i)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var i=Math.min(10,e.length),n=e.length-i,s=[],r=0;r<i;++r)s.push(a(e[r],t));1===n?s.push("... 1 more item"):n>1&&s.push("... ".concat(n," more items"));return"["+s.join(", ")+"]"}(e,i);return function(e,t){var i=Object.keys(e);if(0===i.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var i=e.constructor.name;if("string"==typeof i&&""!==i)return i}return t}(e)+"]";return"{ "+i.map((function(i){return i+": "+a(e[i],t)})).join(", ")+" }"}(e,i)}(e,t);default:return String(e)}}},45695:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0},25217:(e,t,i)=>{"use strict";i.d(t,{Ye:()=>r,WU:()=>a,UG:()=>o});var n=i(45695);function s(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,n.Z&&(e.prototype[n.Z]=t)}var r=function(){function e(e,t,i){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=i}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();s(r);var a=function(){function e(e,t,i,n,s,r,a){this.kind=e,this.start=t,this.end=i,this.line=n,this.column=s,this.value=a,this.prev=r,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function o(e){return null!=e&&"string"==typeof e.kind}s(a)},87392:(e,t,i)=>{"use strict";function n(e){var t=e.split(/\r\n|[\n\r]/g),i=function(e){for(var t,i=!0,n=!0,s=0,r=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:i=!1,n=!0,s=0;break;case 9:case 32:++s;break;default:n&&!i&&(null===r||s<r)&&(r=s),n=!1}return null!==(t=r)&&void 0!==t?t:0}(e);if(0!==i)for(var n=1;n<t.length;n++)t[n]=t[n].slice(i);for(var r=0;r<t.length&&s(t[r]);)++r;for(var a=t.length;a>r&&s(t[a-1]);)--a;return t.slice(r,a).join("\n")}function s(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1===e.indexOf("\n"),s=" "===e[0]||"\t"===e[0],r='"'===e[e.length-1],a="\\"===e[e.length-1],o=!n||r||a||i,l="";return!o||n&&s||(l+="\n"+t),l+=t?e.replace(/\n/g,"\n"+t):e,o&&(l+="\n"),'"""'+l.replace(/"""/g,'\\"""')+'"""'}i.d(t,{LZ:()=>r,W7:()=>n})},69127:(e,t,i)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.d(t,{Qc:()=>B});"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var s="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function r(e,t){for(var i,n=/\r\n|[\n\r]/g,s=1,r=t+1;(i=n.exec(e.body))&&i.index<t;)s+=1,r=t+1-(i.index+i[0].length);return{line:s,column:r}}function a(e){return o(e.source,r(e.source,e.start))}function o(e,t){var i=e.locationOffset.column-1,n=c(i)+e.body,s=t.line-1,r=e.locationOffset.line-1,a=t.line+r,o=1===t.line?i:0,d=t.column+o,u="".concat(e.name,":").concat(a,":").concat(d,"\n"),h=n.split(/\r\n|[\n\r]/g),p=h[s];if(p.length>120){for(var m=Math.floor(d/80),f=d%80,g=[],v=0;v<p.length;v+=80)g.push(p.slice(v,v+80));return u+l([["".concat(a),g[0]]].concat(g.slice(1,m+1).map((function(e){return["",e]})),[[" ",c(f-1)+"^"],["",g[m+1]]]))}return u+l([["".concat(a-1),h[s-1]],["".concat(a),p],["",c(d-1)+"^"],["".concat(a+1),h[s+1]]])}function l(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),i=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,n=e[0],s=e[1];return c(i-(t=n).length)+t+(s?" | "+s:" |")})).join("\n")}function c(e){return Array(e+1).join(" ")}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){var t="function"==typeof Map?new Map:void 0;return(m=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)})(e)}function f(e,t,i){return(f=g()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var s=new(Function.bind.apply(e,n));return i&&v(s,i.prototype),s}).apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(f,e);var t,i,l,c,d,m=(t=f,i=g(),function(){var e,n=y(t);if(i){var s=y(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return h(this,e)});function f(e,t,i,s,a,o,l){var c,d,u,g,v;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),v=m.call(this,e);var y,E=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,b=i;!b&&E&&(b=null===(y=E[0].loc)||void 0===y?void 0:y.source);var S,O=s;!O&&E&&(O=E.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),O&&0===O.length&&(O=void 0),s&&i?S=s.map((function(e){return r(i,e)})):E&&(S=E.reduce((function(e,t){return t.loc&&e.push(r(t.loc.source,t.loc.start)),e}),[]));var T,_=l;if(null==_&&null!=o){var N=o.extensions;"object"==n(T=N)&&null!==T&&(_=N)}return Object.defineProperties(p(v),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(c=S)&&void 0!==c?c:void 0,enumerable:null!=S},path:{value:null!=a?a:void 0,enumerable:null!=a},nodes:{value:null!=E?E:void 0},source:{value:null!==(d=b)&&void 0!==d?d:void 0},positions:{value:null!==(u=O)&&void 0!==u?u:void 0},originalError:{value:o},extensions:{value:null!==(g=_)&&void 0!==g?g:void 0,enumerable:null!=_}}),null!=o&&o.stack?(Object.defineProperty(p(v),"stack",{value:o.stack,writable:!0,configurable:!0}),h(v)):(Error.captureStackTrace?Error.captureStackTrace(p(v),f):Object.defineProperty(p(v),"stack",{value:Error().stack,writable:!0,configurable:!0}),v)}return l=f,(c=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var i=0,n=e.nodes;i<n.length;i++){var s=n[i];s.loc&&(t+="\n\n"+a(s.loc))}else if(e.source&&e.locations)for(var r=0,l=e.locations;r<l.length;r++){var c=l[r];t+="\n\n"+o(e.source,c)}return t}(this)}},{key:s,get:function(){return"Object"}}])&&u(l.prototype,c),d&&u(l,d),f}(m(Error));function b(e,t,i){return new E("Syntax Error: ".concat(i),void 0,e,[t])}var S=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),O=i(25217),T=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),_=i(25821);function N(e,t){if(!Boolean(e))throw new Error(t)}const w=function(e,t){return e instanceof t};function A(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var I=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||N(0,"Body must be a string. Received: ".concat((0,_.Z)(e),".")),this.body=e,this.name=t,this.locationOffset=i,this.locationOffset.line>0||N(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||N(0,"column in locationOffset is 1-indexed and must be positive.")}var t,i,n;return t=e,(i=[{key:s,get:function(){return"Source"}}])&&A(t.prototype,i),n&&A(t,n),e}();var k=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),P=i(87392),L=function(){function e(e){var t=new O.WU(T.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==T.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=R(this,e)}while(e.kind===T.COMMENT);return e},e}();function D(e){return isNaN(e)?T.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function R(e,t){for(var i=e.source,n=i.body,s=n.length,r=t.end;r<s;){var a=n.charCodeAt(r),o=e.line,l=1+r-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:10===n.charCodeAt(r+1)?r+=2:++r,++e.line,e.lineStart=r;continue;case 33:return new O.WU(T.BANG,r,r+1,o,l,t);case 35:return C(i,r,o,l,t);case 36:return new O.WU(T.DOLLAR,r,r+1,o,l,t);case 38:return new O.WU(T.AMP,r,r+1,o,l,t);case 40:return new O.WU(T.PAREN_L,r,r+1,o,l,t);case 41:return new O.WU(T.PAREN_R,r,r+1,o,l,t);case 46:if(46===n.charCodeAt(r+1)&&46===n.charCodeAt(r+2))return new O.WU(T.SPREAD,r,r+3,o,l,t);break;case 58:return new O.WU(T.COLON,r,r+1,o,l,t);case 61:return new O.WU(T.EQUALS,r,r+1,o,l,t);case 64:return new O.WU(T.AT,r,r+1,o,l,t);case 91:return new O.WU(T.BRACKET_L,r,r+1,o,l,t);case 93:return new O.WU(T.BRACKET_R,r,r+1,o,l,t);case 123:return new O.WU(T.BRACE_L,r,r+1,o,l,t);case 124:return new O.WU(T.PIPE,r,r+1,o,l,t);case 125:return new O.WU(T.BRACE_R,r,r+1,o,l,t);case 34:return 34===n.charCodeAt(r+1)&&34===n.charCodeAt(r+2)?H(i,r,o,l,t,e):U(i,r,o,l,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return x(i,r,a,o,l,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return V(i,r,o,l,t)}throw b(i,r,M(a))}var c=e.line,d=1+r-e.lineStart;return new O.WU(T.EOF,s,s,c,d,t)}function M(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(D(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(D(e),".")}function C(e,t,i,n,s){var r,a=e.body,o=t;do{r=a.charCodeAt(++o)}while(!isNaN(r)&&(r>31||9===r));return new O.WU(T.COMMENT,t,o,i,n,s,a.slice(t+1,o))}function x(e,t,i,n,s,r){var a=e.body,o=i,l=t,c=!1;if(45===o&&(o=a.charCodeAt(++l)),48===o){if((o=a.charCodeAt(++l))>=48&&o<=57)throw b(e,l,"Invalid number, unexpected digit after 0: ".concat(D(o),"."))}else l=F(e,l,o),o=a.charCodeAt(l);if(46===o&&(c=!0,o=a.charCodeAt(++l),l=F(e,l,o),o=a.charCodeAt(l)),69!==o&&101!==o||(c=!0,43!==(o=a.charCodeAt(++l))&&45!==o||(o=a.charCodeAt(++l)),l=F(e,l,o),o=a.charCodeAt(l)),46===o||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(o))throw b(e,l,"Invalid number, expected digit but got: ".concat(D(o),"."));return new O.WU(c?T.FLOAT:T.INT,t,l,n,s,r,a.slice(t,l))}function F(e,t,i){var n=e.body,s=t,r=i;if(r>=48&&r<=57){do{r=n.charCodeAt(++s)}while(r>=48&&r<=57);return s}throw b(e,s,"Invalid number, expected digit but got: ".concat(D(r),"."))}function U(e,t,i,n,s){for(var r,a,o,l,c=e.body,d=t+1,u=d,h=0,p="";d<c.length&&!isNaN(h=c.charCodeAt(d))&&10!==h&&13!==h;){if(34===h)return p+=c.slice(u,d),new O.WU(T.STRING,t,d+1,i,n,s,p);if(h<32&&9!==h)throw b(e,d,"Invalid character within String: ".concat(D(h),"."));if(++d,92===h){switch(p+=c.slice(u,d-1),h=c.charCodeAt(d)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var m=(r=c.charCodeAt(d+1),a=c.charCodeAt(d+2),o=c.charCodeAt(d+3),l=c.charCodeAt(d+4),j(r)<<12|j(a)<<8|j(o)<<4|j(l));if(m<0){var f=c.slice(d+1,d+5);throw b(e,d,"Invalid character escape sequence: \\u".concat(f,"."))}p+=String.fromCharCode(m),d+=4;break;default:throw b(e,d,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}u=++d}}throw b(e,d,"Unterminated string.")}function H(e,t,i,n,s,r){for(var a=e.body,o=t+3,l=o,c=0,d="";o<a.length&&!isNaN(c=a.charCodeAt(o));){if(34===c&&34===a.charCodeAt(o+1)&&34===a.charCodeAt(o+2))return d+=a.slice(l,o),new O.WU(T.BLOCK_STRING,t,o+3,i,n,s,(0,P.W7)(d));if(c<32&&9!==c&&10!==c&&13!==c)throw b(e,o,"Invalid character within String: ".concat(D(c),"."));10===c?(++o,++r.line,r.lineStart=o):13===c?(10===a.charCodeAt(o+1)?o+=2:++o,++r.line,r.lineStart=o):92===c&&34===a.charCodeAt(o+1)&&34===a.charCodeAt(o+2)&&34===a.charCodeAt(o+3)?(d+=a.slice(l,o)+'"""',l=o+=4):++o}throw b(e,o,"Unterminated string.")}function j(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function V(e,t,i,n,s){for(var r=e.body,a=r.length,o=t+1,l=0;o!==a&&!isNaN(l=r.charCodeAt(o))&&(95===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++o;return new O.WU(T.NAME,t,o,i,n,s,r.slice(t,o))}function B(e,t){return new G(e,t).parseDocument()}var G=function(){function e(e,t){var i=function(e){return w(e,I)}(e)?e:new I(e);this._lexer=new L(i),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(T.NAME);return{kind:S.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:S.DOCUMENT,definitions:this.many(T.SOF,this.parseDefinition,T.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(T.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(T.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(T.BRACE_L))return{kind:S.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,i=this.parseOperationType();return this.peek(T.NAME)&&(t=this.parseName()),{kind:S.OPERATION_DEFINITION,operation:i,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(T.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(T.PAREN_L,this.parseVariableDefinition,T.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:S.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(T.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(T.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(T.DOLLAR),{kind:S.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:S.SELECTION_SET,selections:this.many(T.BRACE_L,this.parseSelection,T.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(T.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,i=this._lexer.token,n=this.parseName();return this.expectOptionalToken(T.COLON)?(e=n,t=this.parseName()):t=n,{kind:S.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(T.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(i)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(T.PAREN_L,t,T.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(T.COLON),{kind:S.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:S.ARGUMENT,name:this.parseName(),value:(this.expectToken(T.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(T.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(T.NAME)?{kind:S.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:S.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:S.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:S.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case T.BRACKET_L:return this.parseList(e);case T.BRACE_L:return this.parseObject(e);case T.INT:return this._lexer.advance(),{kind:S.INT,value:t.value,loc:this.loc(t)};case T.FLOAT:return this._lexer.advance(),{kind:S.FLOAT,value:t.value,loc:this.loc(t)};case T.STRING:case T.BLOCK_STRING:return this.parseStringLiteral();case T.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:S.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:S.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:S.NULL,loc:this.loc(t)};default:return{kind:S.ENUM,value:t.value,loc:this.loc(t)}}case T.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:S.STRING,value:e.value,block:e.kind===T.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,i=this._lexer.token;return{kind:S.LIST,values:this.any(T.BRACKET_L,(function(){return t.parseValueLiteral(e)}),T.BRACKET_R),loc:this.loc(i)}},t.parseObject=function(e){var t=this,i=this._lexer.token;return{kind:S.OBJECT,fields:this.any(T.BRACE_L,(function(){return t.parseObjectField(e)}),T.BRACE_R),loc:this.loc(i)}},t.parseObjectField=function(e){var t=this._lexer.token,i=this.parseName();return this.expectToken(T.COLON),{kind:S.OBJECT_FIELD,name:i,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(T.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(T.AT),{kind:S.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(T.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(T.BRACKET_R),e={kind:S.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(T.BANG)?{kind:S.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:S.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===T.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(T.STRING)||this.peek(T.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var i=this.parseDirectives(!0),n=this.many(T.BRACE_L,this.parseOperationTypeDefinition,T.BRACE_R);return{kind:S.SCHEMA_DEFINITION,description:t,directives:i,operationTypes:n,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(T.COLON);var i=this.parseNamedType();return{kind:S.OPERATION_TYPE_DEFINITION,operation:t,type:i,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var i=this.parseName(),n=this.parseDirectives(!0);return{kind:S.SCALAR_TYPE_DEFINITION,description:t,name:i,directives:n,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var i=this.parseName(),n=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),r=this.parseFieldsDefinition();return{kind:S.OBJECT_TYPE_DEFINITION,description:t,name:i,interfaces:n,directives:s,fields:r,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(T.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(T.AMP)||this.peek(T.NAME));return t}return this.delimitedMany(T.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(T.BRACE_L)&&this._lexer.lookahead().kind===T.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(T.BRACE_L,this.parseFieldDefinition,T.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),i=this.parseName(),n=this.parseArgumentDefs();this.expectToken(T.COLON);var s=this.parseTypeReference(),r=this.parseDirectives(!0);return{kind:S.FIELD_DEFINITION,description:t,name:i,arguments:n,type:s,directives:r,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(T.PAREN_L,this.parseInputValueDef,T.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),i=this.parseName();this.expectToken(T.COLON);var n,s=this.parseTypeReference();this.expectOptionalToken(T.EQUALS)&&(n=this.parseValueLiteral(!0));var r=this.parseDirectives(!0);return{kind:S.INPUT_VALUE_DEFINITION,description:t,name:i,type:s,defaultValue:n,directives:r,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var i=this.parseName(),n=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),r=this.parseFieldsDefinition();return{kind:S.INTERFACE_TYPE_DEFINITION,description:t,name:i,interfaces:n,directives:s,fields:r,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var i=this.parseName(),n=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:S.UNION_TYPE_DEFINITION,description:t,name:i,directives:n,types:s,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(T.EQUALS)?this.delimitedMany(T.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var i=this.parseName(),n=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:S.ENUM_TYPE_DEFINITION,description:t,name:i,directives:n,values:s,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(T.BRACE_L,this.parseEnumValueDefinition,T.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),i=this.parseName(),n=this.parseDirectives(!0);return{kind:S.ENUM_VALUE_DEFINITION,description:t,name:i,directives:n,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var i=this.parseName(),n=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:S.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:i,directives:n,fields:s,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(T.BRACE_L,this.parseInputValueDef,T.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===T.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),i=this.optionalMany(T.BRACE_L,this.parseOperationTypeDefinition,T.BRACE_R);if(0===t.length&&0===i.length)throw this.unexpected();return{kind:S.SCHEMA_EXTENSION,directives:t,operationTypes:i,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),i=this.parseDirectives(!0);if(0===i.length)throw this.unexpected();return{kind:S.SCALAR_TYPE_EXTENSION,name:t,directives:i,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(0===i.length&&0===n.length&&0===s.length)throw this.unexpected();return{kind:S.OBJECT_TYPE_EXTENSION,name:t,interfaces:i,directives:n,fields:s,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(0===i.length&&0===n.length&&0===s.length)throw this.unexpected();return{kind:S.INTERFACE_TYPE_EXTENSION,name:t,interfaces:i,directives:n,fields:s,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),i=this.parseDirectives(!0),n=this.parseUnionMemberTypes();if(0===i.length&&0===n.length)throw this.unexpected();return{kind:S.UNION_TYPE_EXTENSION,name:t,directives:i,types:n,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),i=this.parseDirectives(!0),n=this.parseEnumValuesDefinition();if(0===i.length&&0===n.length)throw this.unexpected();return{kind:S.ENUM_TYPE_EXTENSION,name:t,directives:i,values:n,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),i=this.parseDirectives(!0),n=this.parseInputFieldsDefinition();if(0===i.length&&0===n.length)throw this.unexpected();return{kind:S.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:i,fields:n,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(T.AT);var i=this.parseName(),n=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var r=this.parseDirectiveLocations();return{kind:S.DIRECTIVE_DEFINITION,description:t,name:i,arguments:n,repeatable:s,locations:r,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(T.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==k[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new O.Ye(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw b(this._lexer.source,t.start,"Expected ".concat(z(e),", found ").concat(W(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==T.NAME||t.value!==e)throw b(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(W(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===T.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return b(this._lexer.source,t.start,"Unexpected ".concat(W(t),"."))},t.any=function(e,t,i){this.expectToken(e);for(var n=[];!this.expectOptionalToken(i);)n.push(t.call(this));return n},t.optionalMany=function(e,t,i){if(this.expectOptionalToken(e)){var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(i));return n}return[]},t.many=function(e,t,i){this.expectToken(e);var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(i));return n},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var i=[];do{i.push(t.call(this))}while(this.expectOptionalToken(e));return i},e}();function W(e){var t=e.value;return z(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function z(e){return function(e){return e===T.BANG||e===T.DOLLAR||e===T.AMP||e===T.PAREN_L||e===T.PAREN_R||e===T.SPREAD||e===T.COLON||e===T.EQUALS||e===T.AT||e===T.BRACKET_L||e===T.BRACKET_R||e===T.BRACE_L||e===T.PIPE||e===T.BRACE_R}(e)?'"'.concat(e,'"'):e}},39011:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var n=i(77304),s=i(87392);function r(e){return(0,n.Vn)(e,{leave:a})}var a={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return l(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,i=e.name,n=d("(",l(e.variableDefinitions,", "),")"),s=l(e.directives," "),r=e.selectionSet;return i||s||n||"query"!==t?l([t,l([i,n]),s,r]," "):r},VariableDefinition:function(e){var t=e.variable,i=e.type,n=e.defaultValue,s=e.directives;return t+": "+i+d(" = ",n)+d(" ",l(s," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var t=e.alias,i=e.name,n=e.arguments,s=e.directives,r=e.selectionSet,a=d("",t,": ")+i,o=a+d("(",l(n,", "),")");return o.length>80&&(o=a+d("(\n",u(l(n,"\n")),"\n)")),l([o,l(s," "),r]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+d(" ",l(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,i=e.directives,n=e.selectionSet;return l(["...",d("on ",t),l(i," "),n]," ")},FragmentDefinition:function(e){var t=e.name,i=e.typeCondition,n=e.variableDefinitions,s=e.directives,r=e.selectionSet;return"fragment ".concat(t).concat(d("(",l(n,", "),")")," ")+"on ".concat(i," ").concat(d("",l(s," ")," "))+r},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var i=e.value;return e.block?(0,s.LZ)(i,"description"===t?"":"  "):JSON.stringify(i)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+l(e.values,", ")+"]"},ObjectValue:function(e){return"{"+l(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+d("(",l(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:o((function(e){var t=e.directives,i=e.operationTypes;return l(["schema",l(t," "),c(i)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:o((function(e){return l(["scalar",e.name,l(e.directives," ")]," ")})),ObjectTypeDefinition:o((function(e){var t=e.name,i=e.interfaces,n=e.directives,s=e.fields;return l(["type",t,d("implements ",l(i," & ")),l(n," "),c(s)]," ")})),FieldDefinition:o((function(e){var t=e.name,i=e.arguments,n=e.type,s=e.directives;return t+(p(i)?d("(\n",u(l(i,"\n")),"\n)"):d("(",l(i,", "),")"))+": "+n+d(" ",l(s," "))})),InputValueDefinition:o((function(e){var t=e.name,i=e.type,n=e.defaultValue,s=e.directives;return l([t+": "+i,d("= ",n),l(s," ")]," ")})),InterfaceTypeDefinition:o((function(e){var t=e.name,i=e.interfaces,n=e.directives,s=e.fields;return l(["interface",t,d("implements ",l(i," & ")),l(n," "),c(s)]," ")})),UnionTypeDefinition:o((function(e){var t=e.name,i=e.directives,n=e.types;return l(["union",t,l(i," "),n&&0!==n.length?"= "+l(n," | "):""]," ")})),EnumTypeDefinition:o((function(e){var t=e.name,i=e.directives,n=e.values;return l(["enum",t,l(i," "),c(n)]," ")})),EnumValueDefinition:o((function(e){return l([e.name,l(e.directives," ")]," ")})),InputObjectTypeDefinition:o((function(e){var t=e.name,i=e.directives,n=e.fields;return l(["input",t,l(i," "),c(n)]," ")})),DirectiveDefinition:o((function(e){var t=e.name,i=e.arguments,n=e.repeatable,s=e.locations;return"directive @"+t+(p(i)?d("(\n",u(l(i,"\n")),"\n)"):d("(",l(i,", "),")"))+(n?" repeatable":"")+" on "+l(s," | ")})),SchemaExtension:function(e){var t=e.directives,i=e.operationTypes;return l(["extend schema",l(t," "),c(i)]," ")},ScalarTypeExtension:function(e){return l(["extend scalar",e.name,l(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,i=e.interfaces,n=e.directives,s=e.fields;return l(["extend type",t,d("implements ",l(i," & ")),l(n," "),c(s)]," ")},InterfaceTypeExtension:function(e){var t=e.name,i=e.interfaces,n=e.directives,s=e.fields;return l(["extend interface",t,d("implements ",l(i," & ")),l(n," "),c(s)]," ")},UnionTypeExtension:function(e){var t=e.name,i=e.directives,n=e.types;return l(["extend union",t,l(i," "),n&&0!==n.length?"= "+l(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,i=e.directives,n=e.values;return l(["extend enum",t,l(i," "),c(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,i=e.directives,n=e.fields;return l(["extend input",t,l(i," "),c(n)]," ")}};function o(e){return function(t){return l([t.description,e(t)],"\n")}}function l(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(i))&&void 0!==t?t:""}function c(e){return d("{\n",u(l(e,"\n")),"\n}")}function d(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+i:""}function u(e){return d("  ",e.replace(/\n/g,"\n  "))}function h(e){return-1!==e.indexOf("\n")}function p(e){return null!=e&&e.some(h)}},77304:(e,t,i)=>{"use strict";i.d(t,{$_:()=>a,Vn:()=>o});var n=i(25821),s=i(25217),r={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},a=Object.freeze({});function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=void 0,c=Array.isArray(e),d=[e],u=-1,h=[],p=void 0,m=void 0,f=void 0,g=[],v=[],y=e;do{var E=++u===d.length,b=E&&0!==h.length;if(E){if(m=0===v.length?void 0:g[g.length-1],p=f,f=v.pop(),b){if(c)p=p.slice();else{for(var S={},O=0,T=Object.keys(p);O<T.length;O++){var _=T[O];S[_]=p[_]}p=S}for(var N=0,w=0;w<h.length;w++){var A=h[w][0],I=h[w][1];c&&(A-=N),c&&null===I?(p.splice(A,1),N++):p[A]=I}}u=o.index,d=o.keys,h=o.edits,c=o.inArray,o=o.prev}else{if(m=f?c?u:d[u]:void 0,null==(p=f?f[m]:y))continue;f&&g.push(m)}var k,P=void 0;if(!Array.isArray(p)){if(!(0,s.UG)(p))throw new Error("Invalid AST Node: ".concat((0,n.Z)(p),"."));var L=l(t,p.kind,E);if(L){if((P=L.call(t,p,m,f,g,v))===a)break;if(!1===P){if(!E){g.pop();continue}}else if(void 0!==P&&(h.push([m,P]),!E)){if(!(0,s.UG)(P)){g.pop();continue}p=P}}}if(void 0===P&&b&&h.push([m,p]),E)g.pop();else o={inArray:c,index:u,keys:d,edits:h,prev:o},d=(c=Array.isArray(p))?p:null!==(k=i[p.kind])&&void 0!==k?k:[],u=-1,h=[],f&&v.push(f),f=p}while(void 0!==o);return 0!==h.length&&(y=h[h.length-1][1]),y}function l(e,t,i){var n=e[t];if(n){if(!i&&"function"==typeof n)return n;var s=i?n.leave:n.enter;if("function"==typeof s)return s}else{var r=i?e.leave:e.enter;if(r){if("function"==typeof r)return r;var a=r[t];if("function"==typeof a)return a}}}},20650:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TGALoader:()=>s});var n=i(81396);class s extends n.DataTextureLoader{constructor(e){super(e)}parse(e){const t=0,i=1,s=2,r=3,a=9,o=10,l=11,c=48,d=4,u=0,h=1,p=2,m=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let f=0;const g=new Uint8Array(e),v={id_length:g[f++],colormap_type:g[f++],image_type:g[f++],colormap_index:g[f++]|g[f++]<<8,colormap_length:g[f++]|g[f++]<<8,colormap_size:g[f++],origin:[g[f++]|g[f++]<<8,g[f++]|g[f++]<<8],width:g[f++]|g[f++]<<8,height:g[f++]|g[f++]<<8,pixel_size:g[f++],flags:g[f++]};!function(e){switch(e.image_type){case i:case a:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case s:case r:case o:case l:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}(v),v.id_length+f>e.length&&console.error("THREE.TGALoader: No data."),f+=v.id_length;let y=!1,E=!1,b=!1;switch(v.image_type){case a:y=!0,E=!0;break;case i:E=!0;break;case o:y=!0;break;case s:break;case l:y=!0,b=!0;break;case r:b=!0}const S=new Uint8Array(v.width*v.height*4),O=function(e,t,i,n,s){let r,a;const o=i.pixel_size>>3,l=i.width*i.height*o;if(t&&(a=s.subarray(n,n+=i.colormap_length*(i.colormap_size>>3))),e){let e,t,i;r=new Uint8Array(l);let a=0;const c=new Uint8Array(o);for(;a<l;)if(e=s[n++],t=1+(127&e),128&e){for(i=0;i<o;++i)c[i]=s[n++];for(i=0;i<t;++i)r.set(c,a+i*o);a+=o*t}else{for(t*=o,i=0;i<t;++i)r[a+i]=s[n++];a+=t}}else r=s.subarray(n,n+=t?i.width*i.height:l);return{pixel_data:r,palettes:a}}(y,E,v,f,g);return function(e,t,i,n,s){let r,a,o,l,f,g;switch((v.flags&c)>>d){default:case p:r=0,o=1,f=t,a=0,l=1,g=i;break;case u:r=0,o=1,f=t,a=i-1,l=-1,g=-1;break;case m:r=t-1,o=-1,f=-1,a=0,l=1,g=i;break;case h:r=t-1,o=-1,f=-1,a=i-1,l=-1,g=-1}if(b)switch(v.pixel_size){case 8:!function(e,t,i,n,s,r,a,o){let l,c,d,u=0;const h=v.width;for(d=t;d!==n;d+=i)for(c=s;c!==a;c+=r,u++)l=o[u],e[4*(c+h*d)+0]=l,e[4*(c+h*d)+1]=l,e[4*(c+h*d)+2]=l,e[4*(c+h*d)+3]=255}(e,a,l,g,r,o,f,n);break;case 16:!function(e,t,i,n,s,r,a,o){let l,c,d=0;const u=v.width;for(c=t;c!==n;c+=i)for(l=s;l!==a;l+=r,d+=2)e[4*(l+u*c)+0]=o[d+0],e[4*(l+u*c)+1]=o[d+0],e[4*(l+u*c)+2]=o[d+0],e[4*(l+u*c)+3]=o[d+1]}(e,a,l,g,r,o,f,n);break;default:console.error("THREE.TGALoader: Format not supported.")}else switch(v.pixel_size){case 8:!function(e,t,i,n,s,r,a,o,l){const c=l;let d,u,h,p=0;const m=v.width;for(h=t;h!==n;h+=i)for(u=s;u!==a;u+=r,p++)d=o[p],e[4*(u+m*h)+3]=255,e[4*(u+m*h)+2]=c[3*d+0],e[4*(u+m*h)+1]=c[3*d+1],e[4*(u+m*h)+0]=c[3*d+2]}(e,a,l,g,r,o,f,n,s);break;case 16:!function(e,t,i,n,s,r,a,o){let l,c,d,u=0;const h=v.width;for(d=t;d!==n;d+=i)for(c=s;c!==a;c+=r,u+=2)l=o[u+0]+(o[u+1]<<8),e[4*(c+h*d)+0]=(31744&l)>>7,e[4*(c+h*d)+1]=(992&l)>>2,e[4*(c+h*d)+2]=(31&l)<<3,e[4*(c+h*d)+3]=32768&l?0:255}(e,a,l,g,r,o,f,n);break;case 24:!function(e,t,i,n,s,r,a,o){let l,c,d=0;const u=v.width;for(c=t;c!==n;c+=i)for(l=s;l!==a;l+=r,d+=3)e[4*(l+u*c)+3]=255,e[4*(l+u*c)+2]=o[d+0],e[4*(l+u*c)+1]=o[d+1],e[4*(l+u*c)+0]=o[d+2]}(e,a,l,g,r,o,f,n);break;case 32:!function(e,t,i,n,s,r,a,o){let l,c,d=0;const u=v.width;for(c=t;c!==n;c+=i)for(l=s;l!==a;l+=r,d+=4)e[4*(l+u*c)+2]=o[d+0],e[4*(l+u*c)+1]=o[d+1],e[4*(l+u*c)+0]=o[d+2],e[4*(l+u*c)+3]=o[d+3]}(e,a,l,g,r,o,f,n);break;default:console.error("THREE.TGALoader: Format not supported.")}}(S,v.width,v.height,O.pixel_data,O.palettes),{data:S,width:v.width,height:v.height,flipY:!0,generateMipmaps:!0,minFilter:n.LinearMipmapLinearFilter}}}},67238:e=>{"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":60,"w":876,"h":744,"nm":"Rating Modal","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Vector 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[437.969,578.877,0],"to":[0,-8.167,0],"ti":[0,8.167,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":18,"s":[437.969,529.877,0],"to":[0,0,0],"ti":[0,0,0]},{"t":25,"s":[437.969,529.877,0]}],"ix":2},"a":{"a":0,"k":[0,51.205,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.83,0.808,0.833],"y":[1.233,0.833,0.35]},"o":{"x":[0.283,0.284,0],"y":[-0.056,-0.064,0]},"t":0,"s":[176.81,195.773,100]},{"i":{"x":[0.564,0.562,0.794],"y":[3.244,0.849,2.131]},"o":{"x":[0.466,0.473,0.167],"y":[-4.295,-0.161,0.141]},"t":23,"s":[207.791,222.842,100]},{"t":28,"s":[207.791,207.791,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.52,0.008],[0,0],[0,0],[0.001,-0.183],[-8.335,-0.035],[-1.024,7.367],[-0.728,2.537],[0,0],[2.38,0.806],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.516,0.006],[0,0],[0,0],[0.432,0.025],[0,0],[2.518,0.008],[0,0],[0,0],[0.409,-0.037],[0,0],[2.516,0.006],[0,0],[0,0],[0.401,-0.185],[0,0]],"o":[[-2.516,-0.006],[0,0],[0,0],[-0.027,8.335],[7.643,0.021],[0.358,-2.606],[0,0],[0,0],[-2.387,-0.816],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.514,-0.01],[0,0],[-0.415,-0.039],[0,0],[0,0],[-2.518,-0.01],[0,0],[-0.423,0.021],[0,0],[0,0],[-2.514,-0.008],[0,0],[-0.44,0.144],[0,0],[0,0]],"v":[[-33.701,-15.143],[-36.223,-12.631],[-36.281,6.241],[-36.285,7.503],[-21.234,22.652],[-6.23,9.641],[-4.465,1.945],[-2.629,-4.438],[-4.202,-7.63],[-7.4,-6.064],[-11.102,2.545],[-12.356,1.279],[-12.356,0.023],[-12.35,-1.377],[-12.3,-18.852],[-14.806,-21.374],[-17.328,-18.866],[-17.38,-2.341],[-18.642,-2.448],[-18.584,-20.126],[-21.092,-22.652],[-23.616,-20.144],[-23.674,-2.463],[-24.928,-2.376],[-24.885,-17.628],[-27.394,-20.155],[-29.917,-17.645],[-29.968,-1.429],[-31.228,-0.933],[-31.189,-12.617]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[-2.52,0.008],[0,0],[0,0],[-0.001,-0.183],[8.335,-0.035],[1.024,7.367],[0.728,2.537],[0,0],[-2.378,0.806],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.516,0.006],[0,0],[0,0],[-0.432,0.025],[0,0],[-2.518,0.008],[0,0],[0,0],[-0.407,-0.037],[0,0],[-2.518,0.006],[0,0],[0,0],[-0.399,-0.185],[0,0]],"o":[[2.516,-0.006],[0,0],[0,0],[0.029,8.335],[-7.645,0.021],[-0.358,-2.606],[0,0],[0,0],[2.389,-0.816],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.514,-0.01],[0,0],[0.415,-0.039],[0,0],[0,0],[2.518,-0.01],[0,0],[0.426,0.021],[0,0],[0,0],[2.514,-0.008],[0,0],[0.438,0.144],[0,0],[0,0]],"v":[[33.701,-15.143],[36.223,-12.631],[36.281,6.241],[36.285,7.503],[21.234,22.652],[6.23,9.641],[4.465,1.945],[2.629,-4.438],[4.202,-7.63],[7.4,-6.064],[11.102,2.545],[12.354,1.279],[12.354,0.023],[12.348,-1.377],[12.298,-18.852],[14.804,-21.374],[17.328,-18.866],[17.38,-2.341],[18.642,-2.448],[18.584,-20.126],[21.092,-22.652],[23.618,-20.144],[23.674,-2.463],[24.928,-2.376],[24.882,-17.628],[27.394,-20.155],[29.917,-17.645],[29.968,-1.429],[31.226,-0.933],[31.187,-12.617]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[3.333,-0.333]],"o":[[-1.2,-5.2],[0,0]],"v":[[22.51,8.041],[11.01,2.541]],"c":false},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[-3.333,-0.333]],"o":[[1.2,-5.2],[0,0]],"v":[[-21.99,7.614],[-10.49,2.114]],"c":false},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,0.192156862745,0.345098039216,1]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":19,"s":[1,0.192156862745,0.345098039216,1]},{"t":26,"s":[0.133333333333,0.133333333333,0.133333333333,1]}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Vector","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":23,"s":[0]},{"t":27,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[435.195,196.412,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":23,"s":[209.366,209.366,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":31,"s":[257.214,257.214,100]},{"t":35,"s":[209.366,209.366,100]}],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":23,"s":[{"i":[[33.137,0],[0,-33.137],[-33.137,0],[0,33.137]],"o":[[-33.137,0],[0,33.137],[33.137,0],[0,-33.137]],"v":[[-0.955,14.988],[-60.955,74.988],[-0.955,134.988],[59.045,74.988]],"c":true}]},{"t":31,"s":[{"i":[[47.354,0],[0,-47.354],[-47.354,0],[0,47.354]],"o":[[-47.354,0],[0,47.354],[47.354,0],[0,-47.354]],"v":[[0.906,-36.975],[-84.837,48.768],[0.906,134.511],[86.648,48.768]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.9,-0.695],[-0.438,0],[-0.403,0.524],[0,0],[0.9,0.695],[0.689,-0.896],[0,0]],"o":[[0.372,0.288],[0.617,0],[0,0],[0.695,-0.898],[-0.898,-0.699],[0,0],[-0.695,0.898]],"v":[[10.071,7.71],[11.325,8.137],[12.953,7.34],[19.076,-0.584],[18.706,-3.468],[15.825,-3.098],[9.701,4.826]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-0.615,0],[-0.376,0.29],[0.693,0.898],[0,0],[0.898,-0.693],[-0.693,-0.898]],"o":[[0.405,0.524],[0.44,0],[0.898,-0.695],[0,0],[-0.697,-0.898],[-0.898,0.695],[0,0]],"v":[[-12.955,7.338],[-11.327,8.137],[-10.069,7.71],[-9.699,4.826],[-15.823,-3.098],[-18.707,-3.468],[-19.079,-0.584]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-1.135,0],[0,1.135],[0,0],[1.137,0],[0,-1.135]],"o":[[0,1.135],[1.137,0],[0,0],[0,-1.135],[-1.135,0],[0,0]],"v":[[-2.12,2.14],[-0.065,4.196],[1.991,2.14],[1.991,-6.082],[-0.065,-8.137],[-2.12,-6.082]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.131453797221,0.131453797221,0.131453797221,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":23,"op":253,"st":-47,"bm":0}],"markers":[]}')},55519:e=>{"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":120,"w":250,"h":250,"nm":"Comp 1","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":3,"nm":"▽ phone","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[125,106.5,0],"ix":2},"a":{"a":0,"k":[55.5,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":3,"nm":"▽ Group 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,20.039,0],"ix":2},"a":{"a":0,"k":[10.091,2.506,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Vector","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[10.091,2.506,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.462,0],[0,0],[0,0.459],[0.462,0],[0,0],[0,-0.459]],"o":[[0,0],[0.462,0],[0,-0.459],[0,0],[-0.462,0],[0,0.459]],"v":[[-2.523,0.835],[2.523,0.835],[3.364,0],[2.523,-0.835],[-2.523,-0.835],[-3.364,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":3,"nm":"▽ Group 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,192.952,0],"ix":2},"a":{"a":0,"k":[22.705,2.506,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Vector","parent":4,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[22.705,2.506,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.462,0],[0,0],[0,0.459],[0.462,0],[0,0],[0,-0.459]],"o":[[0,0],[0.462,0],[0,-0.459],[0,0],[-0.462,0],[0,0.459]],"v":[[-6.727,0.835],[6.727,0.835],[7.568,0],[6.727,-0.835],[-6.727,-0.835],[-7.568,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":3,"nm":"▽ Group","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,106.5,0],"ix":2},"a":{"a":0,"k":[55.5,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Vector","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,106.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.246,0],[0,0],[0,3.224],[0,0],[3.246,0],[0,0],[0,-3.224],[0,0]],"o":[[0,0],[3.246,0],[0,0],[0,-3.224],[0,0],[-3.246,0],[0,0],[0,3.224]],"v":[[-12.614,35.5],[12.614,35.5],[18.5,29.653],[18.5,-29.653],[12.614,-35.5],[-12.614,-35.5],[-18.5,-29.653],[-18.5,29.653]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-2.321,0],[0,0],[0,-2.305],[0,0],[2.321,0],[0,0],[0,2.305]],"o":[[0,-2.305],[0,0],[2.321,0],[0,0],[0,2.305],[0,0],[-2.321,0],[0,0]],"v":[[-16.818,-29.653],[-12.614,-33.829],[12.614,-33.829],[16.818,-29.653],[16.818,29.653],[12.614,33.829],[-12.614,33.829],[-16.818,29.653]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":3,"ty":4,"nm":"Ellipse 19 (Stroke) 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":270,"ix":10},"p":{"a":0,"k":[40.962,100.923,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.155,0.911],[-3.096,-1.097],[-1.899,-2.704],[-0.392,-2.375],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.391,0.391],[0,0],[0.391,0.391],[0.391,-0.391],[0,0],[1.7,2.42],[3.49,1.237],[3.557,-1.027],[2.311,-2.91],[-0.432,-0.344],[-0.344,0.432]],"o":[[3.155,-0.911],[3.097,1.097],[1.392,1.982],[0,0],[-0.391,-0.391],[-0.391,0.391],[0,0],[0.391,0.391],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.368,-2.918],[-2.137,-3.042],[-3.49,-1.237],[-3.557,1.027],[-0.344,0.432],[0.432,0.344],[2.054,-2.586]],"v":[[-9.391,-6.883],[0.218,-6.597],[7.898,-0.754],[10.602,5.87],[6.161,1.429],[4.747,1.429],[4.747,2.843],[11.111,9.207],[12.525,9.207],[18.889,2.843],[18.889,1.429],[17.475,1.429],[12.675,6.228],[9.534,-1.904],[0.886,-8.482],[-9.946,-8.805],[-18.965,-2.753],[-18.804,-1.348],[-17.399,-1.509]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":-15,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 19 (Stroke)","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Ellipse 19 (Stroke)","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":90,"ix":10},"p":{"a":0,"k":[213.962,108.423,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.155,0.911],[-3.096,-1.097],[-1.899,-2.704],[-0.392,-2.375],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.391,0.391],[0,0],[0.391,0.391],[0.391,-0.391],[0,0],[1.7,2.42],[3.49,1.237],[3.557,-1.027],[2.311,-2.91],[-0.432,-0.344],[-0.344,0.432]],"o":[[3.155,-0.911],[3.097,1.097],[1.392,1.982],[0,0],[-0.391,-0.391],[-0.391,0.391],[0,0],[0.391,0.391],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.368,-2.918],[-2.137,-3.042],[-3.49,-1.237],[-3.557,1.027],[-0.344,0.432],[0.432,0.344],[2.054,-2.586]],"v":[[-9.391,-6.883],[0.218,-6.597],[7.898,-0.754],[10.602,5.87],[6.161,1.429],[4.747,1.429],[4.747,2.843],[11.111,9.207],[12.525,9.207],[18.889,2.843],[18.889,1.429],[17.475,1.429],[12.675,6.228],[9.534,-1.904],[0.886,-8.482],[-9.946,-8.805],[-18.965,-2.753],[-18.804,-1.348],[-17.399,-1.509]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":-15,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 19 (Stroke)","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Phone","refId":"comp_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":74,"s":[100]},{"t":79,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":7,"s":[-90]},{"t":46,"s":[0]}],"ix":10},"p":{"a":0,"k":[127.49999999999999,131,0],"ix":2},"a":{"a":0,"k":[125,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":250,"h":213,"ip":0,"op":80,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"Rotate","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":7,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":51,"s":[100]},{"t":57,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":7,"s":[-90]},{"t":46,"s":[0]}],"ix":10},"p":{"a":0,"k":[127.49999999999999,131,0],"ix":2},"a":{"a":0,"k":[125,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":250,"h":213,"ip":0,"op":80,"st":0,"bm":0}],"markers":[]}')}},o={};function l(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=a,l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"==typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"==typeof i.then)return i}var s=Object.create(null);l.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>r[e]=()=>i[e]));return r.default=()=>i,l.d(s,r),s},l.d=(e,t)=>{for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,i)=>(l.f[i](e,t),t)),[])),l.u=e=>"js/"+e+".js",l.miniCssF=e=>"css/"+({66:"control-kit",136:"late",316:"menus",321:"core",324:"scene",376:"vr",458:"showcase",519:"ses",521:"late-stream",525:"sdk-bundle",718:"encoders",782:"nova.brandicons",833:"split",932:"lib-lottie"}[e]||e)+".css",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},n="mp_webgl:",l.l=(e,t,s,r)=>{if(i[e])i[e].push(t);else{var a,o;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+s){a=u;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.setAttribute("data-webpack",n+s),a.src=e),i[e]=[t];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var s=i[e];if(delete i[e],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),o&&document.head.appendChild(a)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e+"../"})(),s=e=>new Promise(((t,i)=>{var n=l.miniCssF(e),s=l.p+n;if(((e,t)=>{for(var i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var s=(a=i[n]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(s===e||s===t))return a}var r=document.getElementsByTagName("style");for(n=0;n<r.length;n++){var a;if((s=(a=r[n]).getAttribute("data-href"))===e||s===t)return a}})(n,s))return t();((e,t,i,n)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onerror=s.onload=r=>{if(s.onerror=s.onload=null,"load"===r.type)i();else{var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=o,s.parentNode.removeChild(s),n(l)}},s.href=t,function(e){const t=Array.from(document.querySelectorAll("matterport-viewer"));t&&t.length?t.forEach((function(t){if(t&&t.shadowRoot){if(t.shadowRoot.querySelector(`link[href="${e.getAttribute("href")}"]`))return;t.shadowRoot.appendChild(e)}})):document.head.appendChild(e)}(s)})(e,s,t,i)})),r={458:0},l.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{136:1,321:1,324:1}[e]&&t.push(r[e]=s(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{var e={458:0};l.f.j=(t,i)=>{var n=l.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise(((i,s)=>n=e[t]=[i,s]));i.push(n[2]=s);var r=l.p+l.u(t),a=new Error;l.l(r,(i=>{if(l.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",a.name="ChunkLoadError",a.type=s,a.request=r,n[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var n,s,[r,a,o]=i,c=0;if(r.some((t=>0!==e[t]))){for(n in a)l.o(a,n)&&(l.m[n]=a[n]);if(o)o(l)}for(t&&t(i);c<r.length;c++)s=r[c],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";l(8520);function e(e,t){for(const i in t)if(e===t[i].module)return i.replace("Symbol(","Module(");return"[Unknown module]"}function t(e,t,i){const n=t.getModuleNameFromData(e);for(const e of Object.values(i))if(e.module.name===n)return String(e.symbol).replace("Symbol(","Market(");return"[Unknown module]"}class i{constructor(e,t,i){this.engine=e,this.moduleLookup=t,this.fetchedModules=[],this.messageBus=e.msgBus,this.market=new n(e.market,t,i),this.commandBinder=e.commandBinder,this.generatorSpreader=e.generatorSpreader,this.uniqueId=e.uniqueId,this.diContainer=e.diContainer,this.getModuleBySymbolSync=e.getModuleBySymbolSync.bind(e),this.tryGetModuleBySymbolSync=e.tryGetModuleBySymbolSync.bind(e),this.addComponent=e.addComponent.bind(e),this.getComponentByType=e.getComponentByType.bind(e),this.getComponents=e.getComponents.bind(e),this.removeComponent=e.removeComponent.bind(e),this.subscribe=e.subscribe.bind(e),this.unsubscribe=e.unsubscribe.bind(e),this.broadcast=e.broadcast.bind(e),this.claimRenderLayer=e.claimRenderLayer.bind(e),this.getRenderLayer=e.getRenderLayer.bind(e),this.disposeRenderLayer=e.disposeRenderLayer.bind(e),this.startGenerator=e.startGenerator.bind(e),this.stopGenerator=e.stopGenerator.bind(e),this.after=e.after.bind(e),this.toggleRendering=e.toggleRendering.bind(e)}getModuleBySymbol(t){const i=Date.now();return this.engine.getModuleBySymbol(t).then((t=>{const n=Date.now();return this.fetchedModules.push({moduleName:e(t,this.moduleLookup),isModule:!0,startAwait:i,finishAwait:n}),t}))}getLoadedDependencies(){return[...this.fetchedModules,...this.market.getLoadedDependencies()]}get msgBus(){return this.messageBus}}class n{constructor(e,t,i){this.market=e,this.moduleLookup=t,this.onRegisterData=i,this.fetchedData=[],this._register=e.register.bind(e),this.unregister=e.unregister.bind(e),this.tryGetData=e.tryGetData.bind(e),this.getModuleNameFromData=e.getModuleNameFromData.bind(e)}register(e,i,n){this._register(e,i,n),this.onRegisterData(t(i,this.market,this.moduleLookup),Date.now())}waitForData(e){const i=Date.now();return this.market.waitForData(e).then((n=>{const s=Date.now();return this.fetchedData.push({moduleName:t(e,this.market,this.moduleLookup),isModule:!1,startAwait:i,finishAwait:s}),n}))}getLoadedDependencies(){return this.fetchedData}}var s=l(67070);const r="Data not present.";var a=l(93827),o=l(53257);class c{constructor(){this.log=new o.Z("market"),this.typeLookup=new s.cj,this.store={},this.moduleRegistry={},this.firstUpdatePromises={}}register(e,t,i){const n=this.typeLookup.getKeyByType(t,!0);if(this.moduleRegistry[n])throw Error("Data can only be registered to one Module");this.moduleRegistry[n]=e,this.store[n]=i,i.commit(),n in this.firstUpdatePromises&&(this.firstUpdatePromises[n].resolve(this.store[n]),delete this.firstUpdatePromises[n])}unregister(e,t){const i=this.typeLookup.getKeyByType(t,!0);if(!this.moduleRegistry[i])throw Error("No Data was registered to the Module");delete this.moduleRegistry[i],delete this.store[i]}getData(e){const t=this.typeLookup.getKeyByType(e);if(t in this.store)return this.store[t];throw Error(r)}waitForData(e){const t=this.typeLookup.getKeyByType(e,!0);return t in this.store?Promise.resolve(this.store[t]):(this.firstUpdatePromises[t]||(this.firstUpdatePromises[t]=new a.Q,setTimeout((()=>{o.Z.level>=3&&!(t in this.store)&&this.log.debug(`still waiting for ${e.name}-data after 5 seconds`)}),5e3)),this.firstUpdatePromises[t].nativePromise())}tryGetData(e){try{return this.getData(e)}catch(e){if(e.message!==r)throw this.log.error("tryGetData",e.message),e}return null}getModuleNameFromData(e){const t=this.typeLookup.getKeyByType(e);if(t){const e=this.moduleRegistry[t];if(e)return e.name}throw Error(r)}}var d=l(32088),u=l(17147),h=l(93752),p=l(69484),m=l(17785),f=l(63511),g=l(24938);class v{constructor(){this.phaseTimes=[],this.modules={},this.onDataRegister=this.onDataRegister.bind(this),this.addAppPhase(g.nh.UNINITIALIZED),window.profilingData={phaseTimes:this.phaseTimes,modules:this.modules,rows:[]}}addAppPhase(e){e!==g.nh.PLAYING&&e!==g.nh.ERROR||(window.profilingData.rows=[...Object.values(this.modules)].sort(((e,t)=>e[4]-t[4]))),this.phaseTimes[e]=Date.now()}addModuleLoadTime(e,t,i,n){e=e.replace("Symbol(","Module(");const s=[n.map((e=>`${e.moduleName}`))].join(","),r=n.reduce(((e,t)=>e+t.finishAwait-t.startAwait),0),a=Math.min(100,r/(i-t)*100);this.modules[e]=[e,e,null,t,i,null,a,s]}onDataRegister(e,t){this.modules[e]=[e,e,null,t,t,null,0,""]}}var y=l(88288);const E=new o.Z("module-loader");var b;!function(e){e[e.Registered=0]="Registered",e[e.Loading=1]="Loading",e[e.Initialized=2]="Initialized",e[e.Unloaded=3]="Unloaded"}(b||(b={}));class S{constructor(){this.symbolMap=new Map}registerModule(e,t){if(this.symbolMap.has(e))throw Error(`Type ${String(e)} already registered`);this.symbolMap.set(e,{es6ModulePromise:t,ctorPromise:new a.Q,initPromise:new a.Q,state:b.Registered})}moduleRegistered(e){return this.symbolMap.has(e)}moduleLoaded(e){const t=this.symbolMap.get(e);return!!t&&![b.Registered,b.Unloaded].includes(t.state)}getModule(e){const t=this.symbolMap.get(e);if(!t)throw Error(`Trying to get ${String(e)} before it was registered!`);if(t.state===b.Unloaded)throw Error(`${String(e)} module unloaded`);return t.initPromise.nativePromise()}getModuleSync(e){const t=this.symbolMap.get(e);return t?t.state!==b.Initialized?null:t.module:null}loadModule(e,t,i={}){const n=this.symbolMap.get(t);if(!n)throw Error(`${String(t)} not found`);if(n.state===b.Initialized)return n;if(n.state!==b.Registered&&n.state!==b.Unloaded)throw Error(`${String(t)} already loading`);n.state=b.Loading;const s=String(t);return n.es6ModulePromise(s).then((s=>{if(!s.default)throw new Error(`${String(t)} has no default export during module loading`);const r=new s.default;n.ctorPromise.resolve(r).then((()=>{const t=Date.now();let s=!1;setTimeout((()=>{s||E.debug(`${r.name} init took over 2 seconds`)}),2e3),r.init(i,e).then((()=>{E.debug(`${r.name} init took ${(Date.now()-t)/1e3} secs.`),s=!0,n.state=b.Initialized,n.module=r,n.initPromise.resolve(r)})).catch((e=>{n.initPromise.reject(e)}))}))})).catch((e=>{E.error(`Failed to load es6Module for ${String(t)}: ${e}`),n.initPromise.reject(e)})),n}whenQueueEmpties(e){const t=[],i=new Map;for(const[e,n]of this.symbolMap)n.state===b.Loading&&(t.push(n.initPromise),i.set(e,n.initPromise));for(const[t,n]of i){const i=setTimeout((()=>E.debugInfo("still loading",t)),e);n.then((()=>clearTimeout(i)))}return a.Q.all(t).nativePromise()}unloadModule(e){const t=this.symbolMap.get(e);if(!t)throw Error("Attempting to unload unregistered module");if(t.state===b.Unloaded||t.state===b.Registered)throw Error("Attempting to unload not-loaded module");t.state=b.Unloaded,t.ctorPromise=new a.Q,t.initPromise=new a.Q,t.module=void 0}}var O=l(20790);const T=new o.Z("engine");let _=p.A.End,N=0;class w{constructor(){this.moduleLookup={},this.componentLookup={},this.currentApplication=null,this.moduleProfiler=new v,this._id=N++,this._container=(0,O.fH)(this._id),this.generatorSpreader=new u.ZP,this.commandBinder=new h.B,this.market=new c,this.messageBus=new d.Y,this.engineGenerators=new m.ZP,this.layers=new f.o,this.symbolLoader=new S,this.afterPhasePromises=[],this.afterPhaseListenerCount=[],this.resetPromises(),T.debug(`Engine ${this._id} created`),this.subscribe(y.LZ,(e=>this.moduleProfiler.addAppPhase(e.phase)))}get uniqueId(){return this._id}get diContainer(){return this._container}async loadApplication(e,t,i){if(e===this.currentApplication)throw Error("Application already loaded");const n=(this.currentApplication?this.currentApplication.getManifest():[]).map((e=>e.type)),s=e.getManifest(),r=s.map((e=>e.type)),a=this.currentApplication;this.currentApplication=null;const o=s.filter((e=>-1===n.indexOf(e.type)));for(const e of o)this.symbolLoader.moduleRegistered(e.type)||this.registerModule(e);if(a)try{await this.unload(a,(e=>!r.includes(e)))}catch(e){T.error(e),t&&t(e)}try{this.currentApplication=e,await e.load(this,{coldStart:null===a,autoPlay:i})}catch(e){T.error(e),t&&t(e)}}async unload(e,t){const i=[...e.getManifest().map((e=>e.type)).filter(t||(()=>!0)).map((e=>this.unloadModuleBySymbol(e))),e.unload(this)];i.length&&await Promise.all(i)}async dispose(){this.currentApplication&&(await this.unload(this.currentApplication),this.currentApplication.stop(),this.currentApplication=null)}registerModule(e){if(this.currentApplication)throw Error("Cannot register modules while application is running");this.symbolLoader.registerModule(e.type,e.promise)}loadModuleBySymbol(e){const t=e,n=String(t.type);this.moduleLoadInjectionHook&&(t.config=this.moduleLoadInjectionHook(n,t.config||{}));const s=new i(this,this.moduleLookup,this.moduleProfiler.onDataRegister),r=Date.now(),a=this.symbolLoader.loadModule(s,t.type,t.config);return a.ctorPromise.then((e=>this.moduleLookup[n]={symbol:t.type,module:e,initialized:!1,initPromise:a.initPromise.nativePromise()})),a.initPromise.then((e=>{this.moduleProfiler.addModuleLoadTime(n,r,Date.now(),s.getLoadedDependencies()),this.moduleLookup[n].initialized=!0,this._container.isIdKnown(n)&&T.debugWarn(`Module ${n} already registered, overwriting...`),this._container.bindConstant(n,e)})),a.initPromise.nativePromise()}setLoadInjection(e){if(void 0!==this.moduleLoadInjectionHook)throw Error("Hook already registered");this.moduleLoadInjectionHook=e}async unloadModuleBySymbol(e){if(!this.symbolLoader.moduleLoaded(e))return void T.debug(`${String(e)} module already unloaded`);T.debug(`Unloading ${String(e)} module`);const t=await this.getModuleBySymbol(e),i=this.getModuleIndex(t);this.componentLookup[i]&&(await Promise.all(this.componentLookup[i].map((async e=>{await this.removeComponent(t,e.component),e.component.dispose()}))),this.componentLookup[i]=[]),this.symbolLoader.unloadModule(e),t.dispose(this)}async waitForLoadingModules(e=1e4){await Promise.all([this.symbolLoader.whenQueueEmpties(e)])}getModuleBySymbol(e){return this.symbolLoader.getModule(e)}getModuleBySymbolSync(e){return this.symbolLoader.getModuleSync(e)}tryGetModuleBySymbolSync(e){try{return this.getModuleBySymbolSync(e)}catch(e){return null}}getComponentByType(e){for(const t in this.moduleLookup){const i=this.moduleLookup[t].module,n=this.getModuleIndex(i),s=this.componentLookup[n]||[];for(const t of s)if(t.component instanceof e)return t.component}return null}async addComponent(e,t){const i=this.getModuleIndex(e);let n=this.componentLookup[i];n||(this.componentLookup[i]=n=[]);let s=-1;for(let e=0;e<n.length;e++)if(n[e].component===t){s=e;break}if(-1===s&&(s=n.push({component:t,active:!1})-1,t.init()),n[s].active)throw Error("Tried to add already active component: "+typeof t);await t.activate(this),n[s].active=!0}async removeComponent(e,t){const i=this.getModuleIndex(e),n=this.componentLookup[i];if(n){let e=null;for(const i of n)if(i.component===t){e=i;break}e&&e.active&&(await t.deactivate(this),e.active=!1)}}tick(){if(_!==p.A.End)throw Error("Engine.tick called outside of waiting. Did the engine get called recursively?!");_=p.A.Begin,this.resolveAfterPhase(p.A.Begin);const e=performance.now(),t=this.lastTick?e-this.lastTick:16;this.lastTick=e,_=p.A.Logic,this.generatorSpreader.onUpdate();try{for(const e in this.moduleLookup){const i=this.moduleLookup[e];i&&i.initialized&&i.module.onUpdate(t)}}catch(e){throw T.error(e),e}this.resolveAfterPhase(p.A.Logic),this.engineGenerators.processGenerators(m.p3.Phase,p.A.Logic);try{this.renderComponents(t)}catch(e){throw T.error(e),e}try{_=p.A.Render,this.resolveAfterPhase(p.A.Render),this.engineGenerators.processGenerators(m.p3.Phase,p.A.Render),_=p.A.End,this.resolveAfterPhase(p.A.End),this.engineGenerators.processGenerators(m.p3.None),this.engineGenerators.processGenerators(m.p3.Promise),this.engineGenerators.processGenerators(m.p3.Duration)}catch(e){throw T.error(e),e}}subscribe(e,t,i=d.Q.PERMANENT){return this.messageBus.subscribe(e,t,i)}unsubscribe(e,t){this.messageBus.unsubscribe(e,t)}broadcast(e){this.messageBus.broadcast(e)}claimRenderLayer(e){return this.layers.claimLayer(e)}getRenderLayer(e){return this.layers.getLayer(e)}disposeRenderLayer(e){this.layers.disposeLayer(e)}startGenerator(e){this.engineGenerators.startGenerator(e)}stopGenerator(e){this.engineGenerators.stopGenerator(e)}after(e){return this.afterPhaseListenerCount[e]++,this.afterPhasePromises[e].nativePromise()}getModuleIndex(e){for(const t in this.moduleLookup)if(this.moduleLookup[t]&&this.moduleLookup[t].module===e)return t;return""}*getComponents(){for(const e in this.moduleLookup){const t=this.componentLookup[e];if(t)for(const e of t)yield e}}toggleRendering(e,t){const i=this.getModuleIndex(e),n=this.componentLookup[i];if(n)for(const e of n)e.active=t}renderComponents(e){for(const t in this.moduleLookup){const i=this.componentLookup[t];if(i)for(const t of i)t.active&&t.component.beforeRender&&t.component.beforeRender(e)}for(const t in this.moduleLookup){if(!t)continue;const i=this.componentLookup[t];if(i)for(const t of i)t.active&&t.component.render(e)}}resetPromises(){this.resetAfterPhasePromises()}resetAfterPhasePromises(){this.resetAfterPhasePromise(p.A.Logic),this.resetAfterPhasePromise(p.A.Render),this.resetAfterPhasePromise(p.A.Begin),this.resetAfterPhasePromise(p.A.End)}resetAfterPhasePromise(e){this.afterPhasePromises[e]=new a.Q,this.afterPhaseListenerCount[e]=0}resolveAfterPhase(e){this.afterPhaseListenerCount[e]>0&&(this.afterPhasePromises[e].resolve(),this.resetAfterPhasePromise(e))}get msgBus(){return this.messageBus}}l(55512);var A=l(34608),I=l(4763),k=l(38247),P=l(45796),L=l(61173),D=l(1055),R=l(52893),M=l(27067);var C=l(22925),x=l(176),F=l(66379),U=l(5743),H=l(72392),j=l(36269),V=l(10765),B=l(1591),G=l(43017),W=l(90404),z=l(90512),K=l(27163),Y=l(70968);const q=new o.Z("AB");class ${constructor(e){this.values={};for(const t in e){const i=e[t];if(i&&i.ab)try{this.values[t]=Z(i.ab)}catch(e){q.warn(`Skipping key ${t}, could not pick: ${e}`)}}}get(e){return this.values[e]}serialize(){return Object.keys(this.values).map((e=>`${e}:${this.values[e]}`))}}function Z(e){if(0===e.length)throw Error("A/B cannot choose from an empty choice array");let t=0;for(const i of e){if(void 0===i.value||void 0===i.weight||i.weight<0)throw Error(`Malformed AB choice: ${i}`);t+=i.weight}const i=Math.random()*t;let n=0;for(const t of e)if(n+=t.weight,i<=n)return t.value}var Q=l(56620),X=l(30922),J=l(82196),ee=l(89056),te=l(38386),ie=l(50485),ne=l(38496),se=l(16928),re=l(90129),ae=l(57983),oe=l(78383),le=l(81378);var ce=l(43846);var de=l(39060),ue=l(61647),he=l(97187),pe=l(38063),me=l(28721),fe=l(97725),ge=l(84030);class ve{constructor(e,t,i){this.engine=e,this.renderer=t,this.onErrorCallback=i,this.start=()=>{this.renderer.setAnimationLoop(this.tick)},this.stop=()=>{this.renderer.setAnimationLoop(null)},this.tick=e=>{try{this.engine.tick()}catch(e){this.stop(),this.onErrorCallback(e)}}}}var ye=l(10637);class Ee{constructor(e){this.apqEnabled=!1,this.nonBaseLayerWriteEnabled=!1,this.refreshableStores=new Set,this.sharedCaches=new Set,this.updateForAutoProvisionedLayer=async e=>{if(this.autoProvisionLayerCheckCallback)return this.autoProvisionLayerCheckCallback(e)},this.baseViewId=null!=e?e:null}toggleNonBaseLayeredWrites(e){this.nonBaseLayerWriteEnabled=e}shouldWriteLayerId(e){return!!this.nonBaseLayerWriteEnabled&&(""!==e&&e!==ye.gi)}async setCurrentViewId(e){const t=Array.from(this.refreshableStores.values());this.currentViewId=e,await Promise.all(t.map((e=>e.refresh())))}async refreshLayeredStores(e){const t=Array.from(this.refreshableStores.values()).filter((t=>e.includes(t.layeredType)));await Promise.all(t.map((e=>e.refresh())))}}var be=l(83728),Se=l(54161),Oe=l(27545),Te=l(70890),_e=l(8374),Ne=l(70482),we=l(65919),Ae=l(30108),Ie=l(31372),ke=l(69266);var Pe=l(15478);var Le=l(91774);async function De({urlValues:e,settingsData:t,flags:i,loggedIn:n,inWorkshop:s,hasPolicy:r,domainDenylist:a}){const o=null!=(0,Ne.gM)(),l=e[Ie.ke.enabled],c=i.has(Ie.M3)?"0"!==l:"1"===l,d=r(Ie.FI)||"1"===e[Ie.ke.forcePolicy],u=!n,h=t.tryGetProperty(Le.sX,!1),p=e[Ie.ke.forceReferrer]||document.referrer,m=await async function(e,t){if(!e)return!0;if(!window.crypto||!window.crypto.subtle)return!1;const i=new URL(e),n=(0,V.QY)(i.hostname),s=await(0,ke.q4)(n);return!t.includes(s)}(p,a);Pe.L.debug("referrer eligible: ",m.toString());const f=!o&&!s,g=function(e){return e.getOverrideParam("lang",(0,L.ht)())}(t).startsWith("en"),v=c&&!h&&f&&g&&u;return{popupAllowed:v&&d&&m,bannerAllowed:v}}var Re=l(84866),Me=l(86813),Ce=l(7721),xe=l(59491),Fe=l(29956);var Ue=l(830),He=l(96783),je=l(88726),Ve=l(11234),Be=l(93355),Ge=l(44979),We=l(39260),ze=l(42642),Ke=l(43814),Ye=l(3626),qe=l(73191);const $e="spaces.aws.twinmaker.sdk.access",Ze=new Map([["iot-twinmaker",$e]]);var Qe=l(59452),Xe=l(30419);const Je=new o.Z("showcase");class et{constructor(e,t={},i=!1){var n;this.inWorkshop=e,this.editModePreferred=i,this.bindings=[],this.logLevel=o.i.INFO,this.storeQueue=new M.gO,this.apiQueue=new M.gO,this.analyticsQueue=new M.gO({concurrency:1}),this.errorPromise=new a.Q,this.forceLogin=!1,this.openingTool=null,this.isSDK=!1,this.uiLoading=Promise.resolve(),this.sceneLoader=new Ue.LazyLoader,this.modulesLoadedPromise=new a.Q,this.stopTourHook=async e=>{const t=e.market.tryGetData(H.k);t&&t.tourPlaying&&(await e.commandBinder.issueCommand(new ue.vy),await(0,me.gw)(10))},this.settingOverrides=Object.assign({},t),this.assetBasePath=this.settingOverrides.assetBasePath=function(e){e=e.replace(/\/*$/,"/");const t=new URL(e,document.baseURI),i=[/^https:\/\/static\.matterport\.com(:[0-9]+)?\//,/^https:\/\/static\.matterportvr\.cn(:[0-9]+)?\//,/^https:\/\/[^\/]+\.awsstatic\.com\/([^?#]+\/)?matterport\/.*/,/^http:\/\/(localhost|127\.0\.0\.1)(:[0-9]+)?\/.*/].find((e=>t.href.match(e)))?t.origin:document.baseURI;return new URL(t.pathname,i).toString()}(null!==(n=this.settingOverrides.assetBasePath)&&void 0!==n?n:"./");const{container:s,overrideParams:r=(0,D.FU)()}=this.settingOverrides;this.overrideParams=r,this.quickstart="1"===r.qs||void 0!==r.note||void 0!==r.tag;const l=r.applicationKey||t.applicationKey;this.isSDK=null!=l,(0,Ne.P8)(l||null),this.apiHost=((e,t)=>{const i=e.apiHost||t.apiHost;if(i){const e=(0,V.KK)(i);if(e)return e}return window.location.origin})(r,this.settingOverrides),this.oEmbedDeferred=new a.Q,this.oEmbedConsumer=this.oEmbedDeferred.nativePromise(),this.apiHost!==window.location.origin&&(this.settingOverrides.apiHost=this.apiHost),this.container=s||document.body,this.modelUrls=(0,V.sU)(r.m||r.model,this.apiHost),this.initialViewId=this.modelUrls.sid,this.mdsContext=new Ee(this.initialViewId)}getManifest(){return[{type:I.Kf,promise:()=>Promise.resolve().then(l.bind(l,43968))},{type:k.$1,promise:()=>Promise.resolve().then(l.bind(l,71173))},{type:k.__,promise:()=>Promise.resolve().then(l.bind(l,14238))},{type:I.wK,promise:()=>Promise.resolve().then(l.bind(l,40470))},{type:A.h7,promise:()=>Promise.resolve().then(l.bind(l,36425))},{type:A.Ak,promise:()=>Promise.resolve().then(l.bind(l,5743))},{type:I.V6,promise:()=>Promise.resolve().then(l.bind(l,81137))},{type:A.Mv,promise:()=>Promise.resolve().then(l.bind(l,3187))},{type:k.pZ,promise:()=>Promise.resolve().then(l.bind(l,45566))},{type:I.fG,promise:()=>Promise.resolve().then(l.bind(l,7856))},{type:I.Vs,promise:()=>Promise.resolve().then(l.bind(l,18209))},{type:I.qc,promise:()=>Promise.resolve().then(l.bind(l,41890))},{type:I.fQ,promise:()=>Promise.resolve().then(l.bind(l,55457))},{type:I.P4,promise:()=>Promise.resolve().then(l.bind(l,73419))},{type:I.Z4,promise:()=>Promise.resolve().then(l.bind(l,77576))},{type:I.e9,promise:()=>Promise.resolve().then(l.bind(l,15777))},{type:I.l,promise:()=>Promise.resolve().then(l.bind(l,93907))},{type:I.nI,promise:()=>Promise.resolve().then(l.bind(l,14610))},{type:I.Aj,promise:()=>Promise.resolve().then(l.bind(l,49868))},{type:I.iM,promise:()=>Promise.resolve().then(l.bind(l,29945))},{type:I.PZ,promise:()=>Promise.resolve().then(l.bind(l,26202))},{type:k.ME,promise:()=>Promise.resolve().then(l.bind(l,24122))},{type:k.Wz,promise:()=>Promise.resolve().then(l.bind(l,60472))},{type:I.kg,promise:()=>Promise.resolve().then(l.bind(l,82863))},{type:I.Hd,promise:()=>Promise.resolve().then(l.bind(l,28251))},{type:I.HC,promise:()=>Promise.resolve().then(l.bind(l,75171))},{type:I.vF,promise:()=>Promise.resolve().then(l.bind(l,52672))},{type:I.VN,promise:()=>Promise.resolve().then(l.bind(l,54241))},{type:I.Lx,promise:()=>Promise.resolve().then(l.bind(l,61399))},{type:I.ei,promise:()=>Promise.resolve().then(l.bind(l,24081))},{type:I.ep,promise:()=>Promise.resolve().then(l.bind(l,12117))},{type:I.EK,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,48436))},{type:I.Vg,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,28838))},{type:I.XT,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,8152))},{type:I.LG,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,28717))},{type:I.rL,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,66369))},{type:I.tA,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,41835))},{type:I.Y5,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,51085))},{type:I.Ng,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,71281))},{type:I.jH,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,56253))},{type:I.Go,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,30918))},{type:I.oz,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,63180))},{type:I.bQ,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,93717))},{type:I.B9,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,50084))},{type:I.YP,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,91180))},{type:I.Cm,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,88561))},{type:I.Q_,promise:()=>l.e(715).then(l.bind(l,3715))},{type:k.Bl,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,38575))},{type:k.Nk,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,25893))},{type:k.My,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,6377))},{type:I.wR,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,7216))},{type:I.Ve,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,42180))},{type:k.WS,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,65838))},{type:I.hi,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,69868))},{type:I.EX,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,36538))},{type:I.wF,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,46362))},{type:I.zr,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,24213))},{type:I.lC,promise:()=>Promise.all([l.e(217),l.e(764),l.e(468),l.e(648),l.e(948),l.e(206),l.e(321)]).then(l.bind(l,11986))},{type:I.RR,promise:()=>l.e(717).then(l.bind(l,77717))},{type:I._K,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,18909))},{type:I.Mi,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,97250))},{type:I.dp,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,31849))},{type:I.tg,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,37796))},{type:I.Zp,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,23670))},{type:I.Lk,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,20883))},{type:P.DeepLinksModuleKey,promise:()=>Promise.resolve().then(l.bind(l,45796))},{type:I.c3,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,24889))},{type:I.MH,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,78134))},{type:I.hn,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,22770))},{type:I.sw,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,69235))},{type:I.S,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,73225))},{type:I.f7,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,44684))},{type:I.Ze,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,35934))},{type:I.nn,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,8154))},{type:I.SM,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,9094))},{type:k.Bh,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,51132))},{type:I.A7,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,58950))},{type:I.qp,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,61254))},{type:I.Bq,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,22647))},{type:I.Hw,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,7145))},{type:I.gk,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,35068))},{type:I.An,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,80782))},{type:I.i0,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,19775))},{type:I.M4,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,61236))},{type:I.MI,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,44776))},{type:I.eD,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,79419))},{type:I.hD,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,42436))},{type:I.C3,promise:()=>Promise.all([l.e(254),l.e(423),l.e(136)]).then(l.bind(l,96853))},{type:I.t2,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,59739))},{type:I.TU,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,37511))},{type:I.SP,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,80744))},{type:I.zK,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,51630))},{type:I.im,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,42798))},{type:I.rt,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,34214))},{type:I.$q,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,75328))},{type:I.Sd,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,12652))},{type:I.s6,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,63631))},{type:I.gx,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,79777))},{type:I.d2,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,58881))},{type:I.pw,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,89704))},{type:I.$n,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,49304))},{type:I.fF,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,2868))},{type:I.Ay,promise:()=>Promise.all([l.e(679),l.e(423),l.e(206),l.e(833)]).then(l.bind(l,44947))},{type:I.xQ,promise:()=>Promise.all([l.e(468),l.e(324)]).then(l.bind(l,19560))},{type:I.Yi,promise:()=>Promise.all([l.e(468),l.e(324)]).then(l.bind(l,21276))},{type:I.cf,promise:()=>Promise.all([l.e(477),l.e(225)]).then(l.bind(l,37225))},{type:I.xo,promise:()=>Promise.all([l.e(217),l.e(493),l.e(548),l.e(176)]).then(l.bind(l,35176))}]}getAppPhases(e){return{[g.nh.UNINITIALIZED]:[],[g.nh.WAITING]:[(async()=>{await e.getModuleBySymbol(k.$1)})()],[g.nh.LOADING]:[(async()=>(await e.getModuleBySymbol(k.$1)).waitForPlaying)()],[g.nh.STARTING]:[(async()=>(await e.getModuleBySymbol(k.Nk)).waitForFirstRender)(),(async()=>(await e.getModuleBySymbol(I.wF)).waitForData)()],[g.nh.PLAYING]:[(async()=>(await e.getModuleBySymbol(k.Nk)).waitForFlyin)()],[g.nh.ERROR]:[this.errorPromise.nativePromise()]}}stop(){this.engineTick&&this.engineTick.stop()}setError(e){this.errorPromise.reject(e),this.stop()}async load(e,t){var i,n,s;this.engine=e,this.engine.loadModuleBySymbol({type:A.h7,config:{tasks:this.getAppPhases(e)}});const r=await this.engine.loadModuleBySymbol({type:A.Ak,config:{useGUI:!0,queryScope:this.container.getRootNode(),overrideParams:this.overrideParams}});this.loadAnalytics();const a=(await this.engine.loadModuleBySymbol({type:I.Vs,config:{baseUrl:this.modelUrls.urlBase,apiQueue:this.apiQueue,storeQueue:this.storeQueue,preloadConfig:"showcase",mdsContext:this.mdsContext}})).getApi(),c=await a.user,d=c.loggedIn,u=this.setInitialSettings(c,r,t);if(e.getModuleBySymbol(A.h7).then((i=>{i.updateActiveApp(g.Mx.SHOWCASE),t.coldStart||e.broadcast(new y.pB(g.Mx.SHOWCASE))})),e.market.waitForData(g.pu).then((t=>{t.onChanged((async()=>{const i=this.overrideParams.oops;if(i&&t.phase!==g.nh.ERROR&&(t.phase=g.nh.ERROR),t.phase===g.nh.ERROR){const n=t.error,s=await e.getModuleBySymbol(k.ME);throw i?s.showError(i):n instanceof fe.LJ?s.showError(W.Mb.MODEL_ARCHIVED):n instanceof fe.Zh?s.showError(W.Mb.MODEL_COMPLIANCE):n instanceof fe.pi?s.showError(W.Mb.MODEL_DELETED):n instanceof fe.Fx?s.showError(W.Mb.MODEL_FAILED):n instanceof fe.aJ?s.showError(W.Mb.MODEL_PENDING):n instanceof fe.iE?s.showError(W.Mb.MODEL_PROCESSING):n instanceof Y.v?s.showError(W.Mb.WEBGL_UNSUPPORTED):n instanceof Y.G?s.showError(W.Mb.WEBGL_GENERIC):s.showError(W.Mb.GENERIC),n}}))})),this.bindings.push((0,Ce.PD)({messageBus:this.engine.msgBus}),function(e){const t=[];return t.push(new Ce.bc({symbol:Fe.Y.ModelMesh,callback:()=>l.e(521).then(l.bind(l,47774)).then((t=>t.default(e.engine)))})),e.urlValues.debug&&t.push(new Ce.bc({symbol:Fe.Y.Navigation,callback:()=>Promise.all([l.e(679),l.e(423),l.e(316)]).then(l.bind(l,53671)).then((t=>t.default(e.engine)))}),new Ce.bc({symbol:Fe.Y.Octree,callback:()=>Promise.all([l.e(679),l.e(423),l.e(316)]).then(l.bind(l,91416)).then((t=>t.default(e.engine)))}),new Ce.bc({symbol:Fe.Y.PanoTiles,callback:()=>Promise.all([l.e(679),l.e(423),l.e(316)]).then(l.bind(l,30693)).then((t=>t.default(e.engine)))}),new Ce.bc({symbol:Fe.Y.Raycaster,callback:()=>Promise.all([l.e(679),l.e(423),l.e(316)]).then(l.bind(l,83947)).then((t=>t.default(e.engine)))}),new Ce.bc({symbol:Fe.Y.Snapping,callback:()=>Promise.all([l.e(679),l.e(423),l.e(316)]).then(l.bind(l,45251)).then((t=>t.default(e.engine)))}),new Ce.bc({symbol:Fe.Y.WebGLRenderer,callback:()=>Promise.all([l.e(679),l.e(423),l.e(316)]).then(l.bind(l,28233)).then((t=>t.default(e.engine)))})),e.urlValues.tiledmesh&&t.push(new Ce.bc({symbol:Fe.Y.StreamingMesh,callback:()=>l.e(521).then(l.bind(l,987)).then((t=>t.default(e.engine)))}),new Ce.bc({symbol:Fe.Y.StreamingTexture,callback:()=>l.e(521).then(l.bind(l,55671)).then((t=>t.default(e.engine)))})),t.forEach((t=>e.messageBus.broadcast(t))),(0,xe.k1)((()=>null),(()=>t.forEach((t=>e.messageBus.broadcast(new Ce.z4(t.payload))))))}({engine:this.engine,messageBus:this.engine.msgBus,urlValues:this.overrideParams})),!t.coldStart)return void(this.uiLoading=this.loadUI(!0));Je.info("Showcase app version: 24.11.2_webgl-798-gf42d1db434");const{container:h}=this;this.canvas=document.createElement("canvas"),this.canvas.className="webgl-canvas";const p=h.querySelector("#canvas-container"),m=h.querySelector("#app-container"),f=h.querySelector("main")||document.body,v=h.querySelector("#react-render-root")||document.body;this.logLevel=parseInt(this.overrideParams.log,10),this.overrideParams.hasOwnProperty("log")&&!isNaN(this.logLevel)&&(o.Z.level=this.logLevel),this.quickstart&&Je.info("Quickstart engaged. Hold on to your knickers. "+performance.now()),this.engine.loadModuleBySymbol({type:I.ei,config:{element:this.container}}),this.engine.loadModuleBySymbol({type:I.e9,config:{isLoggedIn:c.loggedIn,queue:this.apiQueue}}),e.loadModuleBySymbol({type:k.ME,config:{apiHost:this.apiHost,container:this.container}}),e.loadModuleBySymbol({type:I.wK,config:{container:this.container}}),this.apiConfig=await a.getConfigs("showcase");const E=this.overrideParams.apq;this.mdsContext.apqEnabled=!0===this.apiConfig.apollo_apq?"0"!==E:"1"===E;const b=this.overrideParams.applicationKey||this.settingOverrides.applicationKey;await this.startAuthAndPolicyModules(a,b),this.engine.loadModuleBySymbol({type:I.Aj,config:{canvas:this.canvas,useWebGL2:"1"===this.overrideParams.gl2,antialias:"1"===this.overrideParams.aa,useEffectComposer:!(!this.settingOverrides||!this.settingOverrides.hasOwnProperty("useEffectComposer"))&&!!this.settingOverrides.useEffectComposer}}),this.engine.loadModuleBySymbol({type:I.kg}),this.engine.loadModuleBySymbol({type:I.iM,config:{canvas:this.canvas,container:p}}),this.engine.loadModuleBySymbol({type:I.Hd}),this.engine.loadModuleBySymbol({type:I.Hw});const S=await e.getModuleBySymbol(I.Aj);this.engineTick=new ve(this.engine,S.threeRenderer,(e=>{this.engine.getModuleBySymbol(k.ME).then((t=>{this.setError(e),t.showError(W.Mb.GENERIC)}))})),this.setupOEmbedConsumer(this.settingOverrides.embedlyKey);const O=c.getFlags("showcase/");this.loadPrefetchedData(this.initialViewId);const{q:T,qK:_,qF:N}=this.overrideParams;this.engine.loadModuleBySymbol({type:k.Wz,config:{notificationDelayFrames:60}});const{settingsData:w}=r;this.openingTool=(0,B.u)(w),this.forceLogin=this.openingTool===K.w1.NOTES&&!d&&!L.yL();let D=this.editModePreferred;D&&this.forceLogin&&(Je.warn("Cannot start in edit mode. Need to login to view note."),D=!1);const M={[de.YS]:null,quickstart:this.quickstart,lang:this.overrideParams.lang,perf:this.overrideParams.perf,perfInterval:this.overrideParams.perfInterval,[Le.r4]:(null===(i=this.apiConfig)||void 0===i?void 0:i.discover_space_url)||""};for(const e in M)r.updateSetting(e,M[e]);if(this.settingOverrides)for(const e in this.settingOverrides)r.updateSetting(e,this.settingOverrides[e]);const C=new $(this.apiConfig),x=null!==(n=null==C?void 0:C.serialize())&&void 0!==n?n:[];this.loadInitialAppModules(x,S.gpuInfo);const F=await this.engine.market.waitForData(Ge.n);this.baseModelId=await this.loadViewsAndStorage(this.initialViewId),await this.engine.loadModuleBySymbol({type:I.VN,config:{baseUrl:this.modelUrls.urlBase,api:a,viewId:this.initialViewId,queue:this.apiQueue,mdsContext:this.mdsContext}}),this.forceLogin&&this.openingTool===K.w1.NOTES&&await this.loginToNote(this.baseModelId),r.hasProperty(X.lc)||r.updateSetting(X.lc,this.apiConfig.embedly_key),this.loadInitialDataModules(u,D);const V=()=>this.stopTourHook(e);e.commandBinder.hookCommand(pe.ju,!0,V),e.commandBinder.hookCommand(he._i,!0,V),e.commandBinder.hookCommand(ue.rU,!0,V);try{await e.waitForLoadingModules()}catch(t){this.setError(t),e.tick()}const[q,Z,Q]=await Promise.all([e.market.waitForData(R.T),e.market.waitForData(Be.m),e.market.waitForData(_e.O)]);this.engine.loadModuleBySymbol({type:I.ep});const{details:J}=q.model;h.getRootNode()instanceof ShadowRoot||(document.title=J.name),this.canvas.setAttribute("aria-label",J.name);const te=Q.getStartingPose();!this.quickstart||te&&(0,G.vl)(te.mode)||(Je.warn("Disabling quickstart. No panorama start position."),this.quickstart=!1,r.updateSetting("quickstart",!1));const{maxMeshTextureQuality:ie,textureLODThreshold:ne}=(e=>{let t,i;return(0,L.tq)()?(0,L.tq)()&&e?(t=ce.S.ULTRA,i=10):(t=ce.S.MEDIUM,i=6):(t=ce.S.ULTRA,i=20),{maxMeshTextureQuality:t,textureLODThreshold:i}})(S.isHighPerformanceMobileGPU());Je.info({maxMeshTextureQuality:ie,textureLODThreshold:ne,gpuInfo:S.gpuInfo}),this.sceneLoader.setLoader((async()=>{var t;const i=await e.loadModuleBySymbol({type:I.xo});return"1"===(null!==(t=this.overrideParams.loadExamples)&&void 0!==t?t:"1")&&await(0,ze.W)(),i.startLoading(),i})),await this.engine.loadModuleBySymbol({type:I.RR}),await this.engine.loadModuleBySymbol({type:I.Vg}),this.quickstart&&(this.loadPanoControls(D),this.engineTick.start()),await(await e.getModuleBySymbol(k.$1)).waitForPlaying,this.canvas.setAttribute("tabIndex","0"),this.engine.loadModuleBySymbol({type:I.Go,config:{container:this.container}});const se=function(e,{dracoDecoderPath:t,basisTranscoderPath:i}){let n="vendors/three/0.151.3/";return!/^https?:\/\//.test("vendors/three/0.151.3/")&&(n=`${e}vendors/three/0.151.3/`),{dracoDecoderPath:t||`${n}libs/draco/gltf/`,basisTranscoderPath:i||`${n}libs/basis/`}}(this.assetBasePath,{dracoDecoderPath:this.settingOverrides.dracoDecoderPath,basisTranscoderPath:this.settingOverrides.basisTranscoderPath});this.engine.loadModuleBySymbol({type:I.Ve,config:{startingMode:this.quickstart?te.mode:null,textureLOD:le.l.RAYCAST,colorizeRooms:"1"===this.overrideParams.colorizeRooms,colorizeChunks:"1"===this.overrideParams.colorizeChunks,wireframe:"1"===this.overrideParams.wireframe,gltfConfig:se}}),this.engine.loadModuleBySymbol({type:I.wF,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:k.WS,config:{maxQuality:ie,textureLOD:le.l.RAYCAST,textureLODThreshold:ne}}),this.engine.loadModuleBySymbol({type:I.LG}),this.engine.loadModuleBySymbol({type:I.XT,config:{startingMode:this.quickstart?te.mode:null}}),this.engine.loadModuleBySymbol({type:I.bQ,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:I.EK}),this.engine.loadModuleBySymbol({type:I.rL,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:I.oz,config:{startingFloorsVisibility:this.quickstart?te.floorVisibility:void 0,allowFloorChanges:u.Features[ae.w]}}),this.engine.loadModuleBySymbol({type:I.tA}),this.engine.loadModuleBySymbol({type:I.Kf,config:{workshopApp:this.inWorkshop,container:m,mainDiv:f,reactContainer:v,queue:this.apiQueue,apiHost:this.apiHost}}),this.engine.loadModuleBySymbol({type:I.Y5}),this.engine.loadModuleBySymbol({type:k.__}),this.engine.loadModuleBySymbol({type:I.B9}),this.engine.loadModuleBySymbol({type:I.YP}),this.engine.loadModuleBySymbol({type:I.Cm}),this.engine.loadModuleBySymbol({type:I.zr}),this.engine.loadModuleBySymbol({type:I.Q_,config:{enabled:"1"!==this.overrideParams.nozoom}}),this.engine.loadModuleBySymbol({type:k.Nk}),this.engine.loadModuleBySymbol({type:I.wR,config:{enableWheel:"1"===this.overrideParams.nozoom}}),this.engine.loadModuleBySymbol({type:I.hi}),this.engine.loadModuleBySymbol({type:I.MH}),this.engine.loadModuleBySymbol({type:I.EX}),this.engine.loadModuleBySymbol({type:k.Bl}),this.quickstart||(this.engineTick.start(),this.loadPanoControls(D)),await this.engine.waitForLoadingModules(),this.engine.loadModuleBySymbol({type:I.hD}),"0"!==this.overrideParams.portal&&(this.engine.loadModuleBySymbol({type:I.MI}),this.engine.loadModuleBySymbol({type:I.eD})),this.engine.loadModuleBySymbol({type:I.i0,config:{showPinsInFloorplanDollhouse:"0"!==this.overrideParams.pin}}),this.engine.loadModuleBySymbol({type:I.M4}),this.engine.loadModuleBySymbol({type:I.Sd,config:{checkRenderModes:()=>{const t=e.market.tryGetData(H.k);if(t&&t.isTourActive())return!1;const i=e.market.tryGetData(z.O);return!!i&&i.isInside()}}}),this.engine.loadModuleBySymbol({type:I.SP,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:I.zK});const re=r.getProperty(ee.RV);this.engine.loadModuleBySymbol({type:I.S,config:{tagIconsEnabled:re}}),this.engine.loadModuleBySymbol({type:I._K}),this.engine.loadModuleBySymbol({type:I.Mi,config:{oEmbedConsumer:this.oEmbedConsumer,baseUrl:this.modelUrls.urlBase}}),async function(e,t,i,n,s,r,a,o){const l=t.subscriber_prompt_denylist||Ie.ED.domainDenylist,{popupAllowed:c,bannerAllowed:d}=await De({urlValues:i,settingsData:e.settingsData,flags:n,loggedIn:s,inWorkshop:a,hasPolicy:r.hasPolicy.bind(r),domainDenylist:l});if(Pe.L.debug(`popupAllowed: ${c}, bannerAllowed: ${d}`),c||d){e.updateSetting(Ie.B_,!0);const n=c&&("1"===i[Ie.ke.forcePopup]||!!o.get("subscriber_prompt_a_popup")),s=d||"1"===i[Ie.ke.forceBanner],r=t.subscriber_prompt_a_delay_ms||Ie.ED.popupDelay;Pe.L.debug(`popupEnabled: ${n}, bannerEnabled: ${s}`),e.registerSetting("Subscriber Prompt",Ie.My,{popupDelay:r,popupEnabled:n,bannerEnabled:s},!1,U.SettingPersistence.NONE)}}(r,this.apiConfig,this.overrideParams,O,d,F,this.inWorkshop,C);const oe=this.overrideParams.stories,me="1"===oe||"0"!==oe&&F.hasPolicy(j.R3);r.updateSetting(j.lj,me),this.engine.getModuleBySymbol(I.V6).then((e=>{e.trackFeatures(`${j.Yi}:${me}`),(0,Ke.ID)(e,F)})),this.engine.loadModuleBySymbol({type:I.gx,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,storyToursFeature:me,looping:"1"===this.overrideParams.lp,queue:this.storeQueue,baseModelId:this.baseModelId}});const ge=(0,qe.yQ)(c,Z,F,w);if(this.engine.loadModuleBySymbol({type:I.C3,config:{objectTagsEnabled:ge,viewId:this.initialViewId}}),this.engine.loadModuleBySymbol({type:I.nn,config:{workshop:this.inWorkshop,baseUrl:this.modelUrls.urlBase}}),this.loadUserDependentModules(d,w,F,O),this.engine.loadModuleBySymbol({type:I.c3,config:{debug:"1"===this.overrideParams.fcdbg}}),this.engine.loadModuleBySymbol({type:I.hn}),this.engine.loadModuleBySymbol({type:I.sw,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,objectTagsEnabled:ge,parserOptions:{supportLinks:!this.overrideParams.mls||"0"===this.overrideParams.mls,keepLinkLabels:!0},queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:I.An}),this.engine.loadModuleBySymbol({type:I.s6}),this.engine.loadModuleBySymbol({type:I.SM}),this.engine.loadModuleBySymbol({type:I.tg}),this.engine.loadModuleBySymbol({type:I.Zp}),this.engine.loadModuleBySymbol({type:I.Lk}),this.engine.loadModuleBySymbol({type:I.$q,config:{baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:P.DeepLinksModuleKey}),this.engine.loadModuleBySymbol({type:k.Bh}),this.engine.loadModuleBySymbol({type:I.dp}),this.engine.loadModuleBySymbol({type:I.Bq}),this.engine.loadModuleBySymbol({type:I.d2}),this.engine.loadModuleBySymbol({type:I.im,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}}),this.engine.loadModuleBySymbol({type:I.gk}),this.engine.loadModuleBySymbol({type:I.TU}),this.engine.loadModuleBySymbol({type:I.qp,config:{urlQuery:T||((0,L.Q0)()?"":T),urlQueryKeywords:_,urlQueryFilters:N,workshop:this.inWorkshop}}),ge){const e=this.overrideParams.minConfidence?(0,He.uZ)(parseFloat(this.overrideParams.minConfidence),.01,1):void 0;this.engine.loadModuleBySymbol({type:I.Ze,config:{debug:!!this.overrideParams.debug,baseUrl:this.modelUrls.urlBase,baseModelId:this.baseModelId,minConfidence:e}})}const ye=r.getProperty(Re.tK);this.engine.loadModuleBySymbol({type:I.pw,config:{enableEventPositions:!0,framebufferScaling:Math.min(this.overrideParams.xrframebuffer?parseFloat(this.overrideParams.xrframebuffer):0,1),tracking:+(null!==(s=this.overrideParams.xrtracking)&&void 0!==s?s:0),xrBrowsersUnlocked:ye}});if(r.getProperty(Ae.i)){const e=r.getProperty(Ae.j);this.engine.loadModuleBySymbol({type:I.rt,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,queue:this.storeQueue,promptEnabled:e,debug:"1"===this.overrideParams.modelRatingDebug}})}e.getModuleBySymbol(I.qc).then((()=>{(0,Ye.PQ)(F,w,this.inWorkshop)&&(this.engine.loadModuleBySymbol({type:I.$n,config:{baseUrl:this.modelUrls.urlBase,readonly:!this.inWorkshop,requestQueue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:I.Ay}),this.engine.loadModuleBySymbol({type:I.fF}))})),this.engine.loadModuleBySymbol({type:I.t2}),this.engine.loadModuleBySymbol({type:I.A7}),await this.engine.waitForLoadingModules(),this.modulesLoadedPromise.resolve()}setInitialSettings(e,t,i){const n=e.getFlags("showcase/"),s=(0,oe.HG)(parseFloat(this.overrideParams.wts)),{labels:r,mt:a,allowRating:o,tiledmesh:l,tagIcons:c}=this.overrideParams,d=n.has(ie.b),u=(0,we.z)(navigator.language),h=n.has(Ae.i)?"0"!==o:"1"===o,p=this.inWorkshop&&e.loggedIn&&h,m=p&&n.has(Ae.j)?"0"!==o:"1"===o,f=n.has(ee.RV)?"0"!==c:"1"===c,g=n.has(Q.iT)?"0"!==l:"1"===l,v="1"===this.overrideParams.ad,y=n.has(Re.tK)?"0"!==this.overrideParams[Re.nE]:"1"===this.overrideParams[Re.nE],E=null!=this.overrideParams.showCeilings?"1"===this.overrideParams.showCeilings:n.has(Xe.En),b={Features:{[se.U]:!0,[ne.s]:!0,[Q.iT]:g,[Me._Z]:v,[J.Nj]:"0"!==r,[X.re]:"0"!==a,[ae.w]:"0"!==this.overrideParams.f,[re.EU]:s,[ie.b]:d,[je.I]:!1,[je.x]:!1,[Ae.i]:p,[Ae.j]:m,[Ie.B_]:!1,[ee.RV]:f,[ee.ho]:!0,[ee.MS]:!0,[Xe.En]:E,[Re.tK]:y},"User Preferences":{[F.F.UnitType]:u,[F.F.MeasurementSnapping]:!0,[F.F.MeasurementContinuousLines]:!0,[F.F.MeasurementUserNudgeSeen]:!1,[F.F.DollhouseUserNudgeSeen]:!1,[F.F.NotesModeNudgeSeen]:!1,[F.F.LastRatingPromptTime]:null,[F.F.SubscriberPromptDismissed]:!1,[F.F.TourTextNudgeDismissed]:!1,[F.F.TourMobileNavigationPromptSeen]:!1}};for(const e in b)for(const i in b[e]){if(void 0===b[e][i])continue;const n="User Preferences"===e?U.SettingPersistence.LOCAL_STORAGE:U.SettingPersistence.NONE;t.registerSetting(e,i,b[e][i],!0,n)}t.updateSetting("assetBasePath",this.assetBasePath);let S=!0;return this.isSDK&&"1"===this.overrideParams.disableUnifiedMode&&(S=!1),t.updateSetting(Qe.eC,S),this.engine.market.waitForData(Be.m).then((i=>{const s=i.getModelOrganizationId(),r="0"===this.overrideParams.ad;let a=n.has(Me._Z);s&&e.hasMembership(s)&&(a=e.hasMembershipFlag(s,`showcase/${Me._Z}`)),t.updateSetting(Me._Z,a&&!r)})),b}setPluginPolicySettings(e,t){var i;const n={enabled:t.hasPolicy(We.uE),canConfig:t.hasPolicy(We.Gi),canDebug:t.hasPolicy(We.LN),groups:(null===(i=t.getPolicy(We.Xz))||void 0===i?void 0:i.options)||[]};return e.setProperty(We.Gi,n.canConfig&&n.enabled),e.setProperty(We.uE,n.enabled),n}loadUserDependentModules(e,t,i,n){this.engine.market.waitForData(Be.m).then((s=>{(0,te.$p)(e,i,s,t,n)&&this.engine.loadModuleBySymbol({type:I.f7,config:{workshop:this.inWorkshop,baseUrl:this.modelUrls.urlBase,readonly:!1}})}))}async unload(e){var t;this.mdsContext.sharedCaches.delete(this.prefetchCache);try{await e.commandBinder.issueCommand(new ue.vy)}catch(e){Je.debug("showcase unload called before tour controls registered, ignoring stopTour",e)}await this.uiLoading,await(null===(t=this.showcaseGui)||void 0===t?void 0:t.unloadUi().catch((e=>{Je.error(e)}))),e.commandBinder.resetHooks(),this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}async loginToModel(e,t){Je.info(`Loading model view: ${e}`);const i=this.forceLogin;await t.modelExists(e,{ignorePrefetch:i}).catch((async t=>{if(i&&(t instanceof fe.GT||t instanceof fe.V2))await this.showLoginScreen(e);else{if(!(t instanceof fe.GT))throw t;await this.login()}}))}async loginToNote(e){this.forceLogin&&await this.showLoginScreen(e)}loadInitialAppModules(e,t){this.engine.loadModuleBySymbol({type:I.fQ}),this.engine.loadModuleBySymbol({type:I.PZ,config:{disableWheel:"0"===this.overrideParams.wh,pointerPreventDefault:!this.settingOverrides||!this.settingOverrides.hasOwnProperty("pointerPreventDefault")||!!this.settingOverrides.pointerPreventDefault,rootNode:this.container.getRootNode()}}),this.engine.getModuleBySymbol(I.V6).then((i=>{i.setOptions({gpu:t}),i.trackFeatures(...e,`${ee.Qy}:true`)}))}loadPrefetchedData(e){let t=this.inWorkshop?be.h.NONE:be.h.PRELOAD;const i=this.overrideParams.prefetch;i&&Object.values(be.h).includes(i)&&(t=i),this.prefetchCache=new Te.R({baseUrl:this.apiHost,prefetchPolicy:t,initialData:Oe.t.getQuery("GetModelPrefetch"),query:Se.GetModelPrefetch,variables:{modelId:e},apqEnabled:this.mdsContext.apqEnabled,anonymous:!0}),this.mdsContext.sharedCaches.add(this.prefetchCache)}async loadViewsAndStorage(e){await this.engine.loadModuleBySymbol({type:I.HC,config:{viewId:e,baseUrl:this.apiHost,readonly:!0,inWorkshop:this.inWorkshop,modulesLoadedPromise:this.modulesLoadedPromise,mdsContext:this.mdsContext}});const t=(await this.engine.market.waitForData(C.R)).getBaseModelId();return this.engine.loadModuleBySymbol({type:I.Lx,config:{baseUrl:this.apiHost,apqEnabled:this.mdsContext.apqEnabled}}),t}async loadAnalytics(){this.engine.loadModuleBySymbol({type:I.V6}),this.engine.loadModuleBySymbol({type:I.nI,config:{appName:this.settingOverrides&&this.settingOverrides.appName||"showcase",provider:this.overrideParams.analytics,apiQueue:this.apiQueue,analyticsQueue:this.analyticsQueue,overrideParams:this.overrideParams}})}loadInitialDataModules(e,t){this.engine.loadModuleBySymbol({type:k.My,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:I.qc,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue,tiledMeshEnabled:e.Features[Q.iT]}});const i=this.settingOverrides.disableMobileRedirect,n=!!this.openingTool||void 0,s=!!this.openingTool||void 0,r=!!this.openingTool||void 0;this.engine.loadModuleBySymbol({type:k.$1,config:{disabled:this.forceLogin,openingTool:!!this.openingTool,viewId:this.initialViewId,baseUrl:this.modelUrls.urlBase,quickstart:this.quickstart,editMode:t,allowPlayInIframe:!!i||"1"===this.overrideParams.playsInline,allowAutoPlay:!!i,hideTitle:s,hideBranding:r,hidePoweredBy:n}}),this.engine.loadModuleBySymbol({type:I.Z4,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:I.l,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:I.P4,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}})}loadPanoControls(e){this.uiLoading=this.loadUI(!(e||this.forceLogin)),this.engine.loadModuleBySymbol({type:I.Ng}),this.engine.loadModuleBySymbol({type:I.jH})}async loadSdkModule(e){const t=this.overrideParams.applicationKey||this.settingOverrides.applicationKey,i=this.engine,n=this.assetBasePath,s=this.overrideParams.localSdkInterface,r=async function(){if(s){const e={client:"https://static.matterport.com/showcase-sdk/client/24.11.2_webgl-798-gf42d1db434/sdk-client.js",sandbox:"https://static.matterport.com/showcase-sdk/sandbox/24.11.2_webgl-798-gf42d1db434/sandbox.html",interfaces:["https://static.matterport.com/showcase-sdk/interface/24.11.2_webgl-798-gf42d1db434/sdk-interface.js"]};return"2"===s&&e.interfaces.push("https://static.matterport.com/showcase-sdk/interface/24.11.2_webgl-798-gf42d1db434/test-interface.js"),e}return{client:`${n}sdk/sdk-client.js`,interfaces:[`${n}sdk/sdk-interface.js`],sandbox:`${n}sdk/sandbox.html`}}(),a={scene:this.sceneLoader};i.loadModuleBySymbol({type:A.Mv,config:{applicationKey:t||"NO_APPLICATION_KEY_SUPPLIED",validationUrl:this.apiHost+"/api/v1/user/",getSdkConfig:r,setupExternalSdk:async e=>{const t=await Promise.resolve().then(l.bind(l,830));await t.loadInterface(e,i,await r,a,await this.oEmbedConsumer,this.logLevel,this.apiHost)},queue:this.apiQueue,validateProvider:e=>this.validateSdkProvider(e)}})}loadUI(e){return Promise.all([this.engine.getModuleBySymbol(I.Kf),this.engine.getModuleBySymbol(k.__)]).then((([t,i])=>{this.guiModule=t,this.showcaseGui=i,e&&t.loadUi(i.loadUi)}))}async startAuthAndPolicyModules(e,t){this.loadSdkModule(e);const i=!!t,n=i?await this.doSdkAuth(t):{accepted:Promise.resolve()};if(n.token){ge.w.setToken(n.token);try{await e.modelExists(this.initialViewId,{ignorePrefetch:!0})}catch(e){throw Je.error(e),this.setError(e),e}}else try{await this.loginToModel(this.initialViewId,e)}catch(e){throw this.setError(e),e}if(await this.engine.loadModuleBySymbol({type:I.vF,config:{baseUrl:this.modelUrls.urlBase,viewId:this.initialViewId,mdsContext:this.mdsContext}}),i)try{await n.accepted}catch(e){return void this.setError(Error("invalid provider specified"))}}async doSdkAuth(e){const t=this.engine,i=await t.getModuleBySymbol(I.wK);i.show();const n=await t.getModuleBySymbol(A.Mv),s=await n.getClientAuth(e);return i.hide(),s}async validateSdkProvider(e){const t=!!(await this.engine.market.waitForData(Ge.n)).getPolicy($e),i=Ze.get(e)===$e;return!e||!i||t&&i}async showLoginScreen(e){var t,i;return(await this.engine.loadModuleBySymbol({type:I.fG,config:{loginUrl:(null===(t=this.apiConfig)||void 0===t?void 0:t.authn_login_url)||"",registerUrl:(null===(i=this.apiConfig)||void 0===i?void 0:i.account_register_url)||"",modelId:e,baseUrl:this.modelUrls.urlBase,container:this.container}})).loadUi()}login(){return new Promise((async e=>{const t=await this.engine.loadModuleBySymbol({type:k.pZ,config:{modelId:this.initialViewId,baseUrl:this.modelUrls.urlBase,container:this.container}});this.engine.subscribe(x.L,(()=>{t.hidePasswordScreen(),e()})),t.showPasswordScreen()}))}setupOEmbedConsumer(e){const t={embedlyKey:e||this.apiConfig.embedly_key,instagramAppId:this.apiConfig.instagram_app_id,instagramClientToken:this.apiConfig.instagram_client_token,googleMapsApiKey:this.apiConfig.google_maps_key};this.oEmbedDeferred.resolve(new Ve.a_(this.apiQueue,t))}}var tt=l(29067);window.addEventListener("app-start",(e=>{var t,i;const n=function(e){const t=new w,i=new et(!1,e);t.loadApplication(i,i.setError.bind(i));const n=function(e){class t{constructor(e){this.windowContext=e,this.connectedPromise=new Promise((e=>{this.connectedPromiseResolve=e}))}async connect(t,i={}){const n=await e.getModuleBySymbol(A.Mv),s=tt.tK.connect(new it(n,i),new nt,this.windowContext);return s.then((e=>this.connectedPromiseResolve(e))),s}}let i=window;window!==window.top&&(i=window.parent);window.opener&&(i=window.opener);const n=new t(i);return window.MP_SDK=n,n}(t);return{engine:t,showcase:i,mpSdkPromise:n.connectedPromise}}(e.detail.config||{});null===(i=(t=e.detail).onStart)||void 0===i||i.call(t,{dispose:()=>{n.engine.dispose(),n.showcase.stop(),n.showcase.unload(n.engine)}}),n.mpSdkPromise.then((t=>{var i,n;null===(n=(i=e.detail).onSdkConnected)||void 0===n||n.call(i,{mpSdk:t})}))}),!0);class it{constructor(e,t){this.sdk=e,this.options=t}connect(){return this.sdk.connect(`${window.location.protocol}//${window.location.host}`,this.options)}cancelConnecting(){}}class nt{getFactory(e){return e.messengerFactory}}})()})();