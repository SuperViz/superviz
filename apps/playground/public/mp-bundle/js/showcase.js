/*! For license information please see showcase.js.LICENSE.txt */
(()=>{var e,t,n,i,s,r,a={35367:()=>{},97704:(e,t,n)=>{"use strict";n.d(t,{ApolloClient:()=>ut,ApolloError:()=>A,InMemoryCache:()=>tt,createHttpLink:()=>p,gql:()=>Ot});var i=n(23564),s=n(10690),r=n(81707),a=n(80496),o=n(84913),l=Object.prototype.hasOwnProperty;var c=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var i=new s.ej(23);throw i.parseError=e,i}return n},d=n(39011),u={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},h=n(80285);var p=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,p=e.fetch,m=e.includeExtensions,f=e.useGETForQueries,g=e.includeUnusedVariables,v=void 0!==g&&g,b=(0,i._T)(e,["uri","fetch","includeExtensions","useGETForQueries","includeUnusedVariables"]);!function(e){if(!e&&"undefined"==typeof fetch)throw new s.ej(22)}(p),p||(p=fetch);var y={http:{includeExtensions:m},options:b.fetchOptions,credentials:b.credentials,headers:b.headers};return new r.ApolloLink((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,n),s=e.getContext(),r={};if(s.clientAwareness){var m=s.clientAwareness,g=m.name,b=m.version;g&&(r["apollographql-client-name"]=g),b&&(r["apollographql-client-version"]=b)}var E,S=(0,i.pi)((0,i.pi)({},r),s.headers),O={http:s.http,options:s.fetchOptions,credentials:s.credentials,headers:S},T=function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];var r=(0,i.pi)((0,i.pi)({},t.options),{headers:t.headers,credentials:t.credentials}),a=t.http||{};n.forEach((function(e){r=(0,i.pi)((0,i.pi)((0,i.pi)({},r),e.options),{headers:(0,i.pi)((0,i.pi)({},r.headers),e.headers)}),e.credentials&&(r.credentials=e.credentials),a=(0,i.pi)((0,i.pi)({},a),e.http)}));var o=e.operationName,l=e.extensions,c=e.variables,u=e.query,h={operationName:o,variables:c};return a.includeExtensions&&(h.extensions=l),a.includeQuery&&(h.query=(0,d.S)(u)),{options:r,body:h}}(e,u,y,O),_=T.options,w=T.body;if(w.variables&&!v){var N=new Set(Object.keys(w.variables));(0,h.Vn)(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&N.delete(e.name.value)}}),N.size&&(w.variables=(0,i.pi)({},w.variables),N.forEach((function(e){delete w.variables[e]})))}if(!_.signal){var A=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),I=A.controller,k=A.signal;(E=I)&&(_.signal=k)}if(f&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(_.method="GET"),"GET"===_.method){var P=function(e,t){var n=[],i=function(e,t){n.push(e+"="+encodeURIComponent(t))};if("query"in t&&i("query",t.query),t.operationName&&i("operationName",t.operationName),t.variables){var s=void 0;try{s=c(t.variables)}catch(e){return{parseError:e}}i("variables",s)}if(t.extensions){var r=void 0;try{r=c(t.extensions)}catch(e){return{parseError:e}}i("extensions",r)}var a="",o=e,l=e.indexOf("#");-1!==l&&(a=e.substr(l),o=e.substr(0,l));var d=-1===o.indexOf("?")?"?":"&";return{newURI:o+d+n.join("&")+a}}(t,w),L=P.newURI,R=P.parseError;if(R)return(0,o.Qc)(R);t=L}else try{_.body=c(w)}catch(R){return(0,o.Qc)(R)}return new a.y$((function(n){var i;return p(t,_).then((function(t){return e.setContext({response:t}),t})).then((i=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(i){var n=i;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&(0,o.PW)(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||l.call(t,"data")||l.call(t,"errors")||(0,o.PW)(e,t,"Server response was missing for query '"+(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName)+"'."),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){E&&E.abort()}}))}))},m=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,p(t).request)||this;return n.options=t,n}return(0,i.ZT)(t,e),t}(r.ApolloLink),f=Object.prototype,g=f.toString,v=f.hasOwnProperty,b=Function.prototype.toString,y=new Map;function E(e,t){try{return S(e,t)}finally{y.clear()}}function S(e,t){if(e===t)return!0;var n,i,s,r=g.call(e);if(r!==g.call(t))return!1;switch(r){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(w(e,t))return!0;var a=O(e),o=O(t),l=a.length;if(l!==o.length)return!1;for(var c=0;c<l;++c)if(!v.call(t,a[c]))return!1;for(c=0;c<l;++c){var d=a[c];if(!S(e[d],t[d]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(w(e,t))return!0;for(var u=e.entries(),h="[object Map]"===r;;){var p=u.next();if(p.done)break;var m=p.value,f=m[0],y=m[1];if(!t.has(f))return!1;if(h&&!S(y,t.get(f)))return!1}return!0;case"[object Function]":var E=b.call(e);return E===b.call(t)&&(i=_,!((s=(n=E).length-i.length)>=0&&n.indexOf(i,s)===s))}return!1}function O(e){return Object.keys(e).filter(T,e)}function T(e){return void 0!==this[e]}var _="{ [native code] }";function w(e,t){var n=y.get(e);if(n){if(n.has(t))return!0}else y.set(e,n=new Set);return n.add(t),!1}var N,A=function(e){function t(n){var i,s,r=n.graphQLErrors,o=n.networkError,l=n.errorMessage,c=n.extraInfo,d=e.call(this,l)||this;return d.graphQLErrors=r||[],d.networkError=o||null,d.message=l||(i=d,s="",(0,a.Of)(i.graphQLErrors)&&i.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";s+=t+"\n"})),i.networkError&&(s+=i.networkError.message+"\n"),s=s.replace(/\n$/,"")),d.extraInfo=c,d.__proto__=t.prototype,d}return(0,i.ZT)(t,e),t}(Error);function I(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(N||(N={}));var k=function(){function e(e,t,n,i){this.observer=e,this.options=t,this.fetch=n,this.shouldFetch=i}return e.prototype.reobserve=function(e,t){e?this.updateOptions(e):this.updatePolling();var n=this.fetch(this.options,t);return this.concast&&this.concast.removeObserver(this.observer,!0),n.addObserver(this.observer),(this.concast=n).promise},e.prototype.updateOptions=function(e){return Object.assign(this.options,(0,a.oA)(e)),this.updatePolling(),this},e.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},e.prototype.updatePolling=function(){var e=this,t=this.pollingInfo,n=this.options.pollInterval;if(n){if((!t||t.interval!==n)&&((0,s.kG)(n,20),!1!==this.shouldFetch)){(t||(this.pollingInfo={})).interval=n;var i=function(){e.pollingInfo&&(e.shouldFetch&&e.shouldFetch()?e.reobserve({fetchPolicy:"network-only",nextFetchPolicy:e.options.fetchPolicy||"cache-first"},N.poll).then(r,r):r())},r=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(i,t.interval))};r()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)},e}(),P=function(e){function t(t){var n=t.queryManager,s=t.queryInfo,r=t.options,o=e.call(this,(function(e){return o.onSubscribe(e)}))||this;o.observers=new Set,o.subscriptions=new Set,o.observer={next:function(e){(o.lastError||o.isDifferentFromLastResult(e))&&(o.updateLastResult(e),(0,a.pM)(o.observers,"next",e))},error:function(e){o.updateLastResult((0,i.pi)((0,i.pi)({},o.lastResult),{error:e,errors:e.graphQLErrors,networkStatus:N.error,loading:!1})),(0,a.pM)(o.observers,"error",o.lastError=e)}},o.isTornDown=!1,o.options=r,o.queryId=n.generateQueryId();var l=(0,a.$H)(r.query);return o.queryName=l&&l.name&&l.name.value,o.queryManager=n,o.queryInfo=s,o}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var i={next:function(n){t(n),e.observers.delete(i),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){s.unsubscribe()}),0)},error:n},s=e.subscribe(i)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.lastResult,n=this.queryInfo.networkStatus||t&&t.networkStatus||N.ready,s=(0,i.pi)((0,i.pi)({},t),{loading:I(n),networkStatus:n});if(this.isTornDown)return s;var r=this.options.fetchPolicy,a=void 0===r?"cache-first":r;if("no-cache"===a||"network-only"===a)delete s.partial;else if(!s.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var o=this.queryInfo.getDiff();s.data=o.complete||this.options.returnPartialData?o.result:void 0,o.complete?(s.networkStatus!==N.loading||"cache-first"!==a&&"cache-only"!==a||(s.networkStatus=N.ready,s.loading=!1),delete s.partial):s.partial=!0}return e&&this.updateLastResult(s),s},t.prototype.isDifferentFromLastResult=function(e){return!E(this.lastResultSnapshot,e)},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t={pollInterval:0},n=this.options.fetchPolicy;return"no-cache"!==n&&"cache-and-network"!==n&&(t.fetchPolicy="network-only",t.nextFetchPolicy=n||"cache-first"),e&&!E(this.options.variables,e)&&(t.variables=this.options.variables=(0,i.pi)((0,i.pi)({},this.options.variables),e)),this.newReobserver(!1).reobserve(t,N.refetch)},t.prototype.fetchMore=function(e){var t=this,n=(0,i.pi)((0,i.pi)({},e.query?e:(0,i.pi)((0,i.pi)((0,i.pi)({},this.options),e),{variables:(0,i.pi)((0,i.pi)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),s=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=N.fetchMore,this.observe()),this.queryManager.fetchQuery(s,n,N.fetchMore).then((function(i){var s=i.data,r=e.updateQuery;return r?t.updateQuery((function(e){return r(e,{fetchMoreResult:s,variables:n.variables})})):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:s}),i})).finally((function(){t.queryManager.stopQuery(s),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var i=e.updateQuery;i&&t.updateQuery((function(e,t){var s=t.variables;return i(e,{subscriptionData:n,variables:s})}))},error:function(t){e.onError&&e.onError(t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){if(E(this.variables,e))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=e,!this.observers.size)return Promise.resolve();var t=this.options.fetchPolicy,n=void 0===t?"cache-first":t,i={fetchPolicy:n,variables:e};return"cache-first"!==n&&"no-cache"!==n&&"network-only"!==n&&(i.fetchPolicy="cache-and-network",i.nextFetchPolicy=n),this.reobserve(i,N.setVariables)},t.prototype.updateQuery=function(e){var t,n=this.queryManager,i=e(n.cache.diff({query:this.options.query,variables:this.variables,previousResult:null===(t=this.lastResult)||void 0===t?void 0:t.data,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});i&&(n.cache.writeQuery({query:this.options.query,data:i,variables:this.variables}),n.broadcastQueries())},t.prototype.startPolling=function(e){this.getReobserver().updateOptions({pollInterval:e})},t.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:(0,a.Xh)(e),(0,a.Of)(e.errors)||delete this.lastError,t},t.prototype.onSubscribe=function(e){var t=this;if(e===this.observer)return function(){};try{var n=e._subscription._observer;n&&!n.error&&(n.error=L)}catch(e){}var i=!this.observers.size;return this.observers.add(e),this.lastError?e.error&&e.error(this.lastError):this.lastResult&&e.next&&e.next(this.lastResult),i&&this.reobserve().catch((function(e){})),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},t.prototype.newReobserver=function(e){var t=this,n=this.queryManager,s=this.queryId;return n.setObservableQuery(this),new k(this.observer,e?this.options:(0,i.pi)({},this.options),(function(e,i){return n.setObservableQuery(t),n.fetchQueryObservable(s,e,i)}),!n.ssrMode&&function(){return!I(t.queryInfo.networkStatus)})},t.prototype.reobserve=function(e,t){return this.isTornDown=!1,this.getReobserver().reobserve(e,t)},t.prototype.observe=function(){this.observer.next(this.getCurrentResult(!1))},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(a.y$);function L(e){}(0,a.Dy)(P);var R=n(77304),C=function(){return Object.create(null)},D=Array.prototype,M=D.forEach,x=D.slice,j=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=C),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return M.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(x.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=n.get(t);return i||n.set(t,i=new e(this.weakness,this.makeData)),i},e}();var U=null,F={},H=1,V="@wry/context:Slot",B=Array,G=B[V]||function(){var e=function(){function e(){this.id=["slot",H++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=U;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===F)break;return e!==U&&(U.slots[this.id]=t),!0}return U&&(U.slots[this.id]=F),!1},e.prototype.getValue=function(){if(this.hasValue())return U.slots[this.id]},e.prototype.withValue=function(e,t,n,i){var s,r=((s={__proto__:null})[this.id]=e,s),a=U;U={parent:a,slots:r};try{return t.apply(i,n)}finally{U=a}},e.bind=function(e){var t=U;return function(){var n=U;try{return U=t,e.apply(this,arguments)}finally{U=n}}},e.noContext=function(e,t,n){if(!U)return e.apply(n,t);var i=U;try{return U=null,e.apply(n,t)}finally{U=i}},e}();try{Object.defineProperty(B,V,{value:B[V]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();G.bind,G.noContext;function W(){}var z=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=W),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,i=t.newer;i&&(i.older=n),n&&(n.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),K=new G;function Y(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var q=[];function $(e,t){if(!e)throw new Error(t||"assertion failure")}function Z(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var Q=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!J(this))return this.value[0]},e.prototype.recompute=function(e){return $(!this.recomputing,"already recomputing"),function(e){var t=K.getValue();if(t)e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),J(e)?ne(t,e):ie(t,e)}(this),J(this)?function(e,t){re(e),K.withValue(e,X,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{Y(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,J(e))return;te(e)}(e);return Z(e.value)}(this,e):Z(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ee(this),re(this),Y(this))},e.prototype.dispose=function(){var e=this;re(this),Y(this),this.parents.forEach((function(t){t.setDirty(),ae(t,e)}))},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=q.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(this.deps.forEach((function(t){return t.delete(e)})),this.deps.clear(),q.push(this.deps),this.deps=null)},e.count=0,e}();function X(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function J(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function ee(e){e.parents.forEach((function(t){return ne(t,e)}))}function te(e){e.parents.forEach((function(t){return ie(t,e)}))}function ne(e,t){if($(e.childValues.has(t)),$(J(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=q.pop()||new Set;e.dirtyChildren.add(t),ee(e)}function ie(e,t){$(e.childValues.has(t)),$(!J(t));var n,i,s,r=e.childValues.get(t);0===r.length?e.childValues.set(t,t.value.slice(0)):(n=r,i=t.value,(s=n.length)>0&&s===i.length&&n[s-1]===i[s-1]||e.setDirty()),se(e,t),J(e)||te(e)}function se(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(q.length<100&&q.push(n),e.dirtyChildren=null))}function re(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){ae(e,n)})),e.forgetDeps(),$(null===e.dirtyChildren)}function ae(e,t){t.parents.delete(e),e.childValues.delete(t),se(e,t)}function oe(e){var t=new Map,n=e&&e.subscribe;function i(e){var i=K.getValue();if(i){var s=t.get(e);s||t.set(e,s=new Set),i.dependOn(s),"function"==typeof n&&(Y(s),s.unsubscribe=n(e))}}return i.dirty=function(e){var n=t.get(e);n&&(n.forEach((function(e){return e.setDirty()})),t.delete(e),Y(n))},i}var le=new j("function"==typeof WeakMap);function ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return le.lookupArray(e)}var de=new Set;function ue(e,t){void 0===t&&(t=Object.create(null));var n=new z(t.max||Math.pow(2,16),(function(e){return e.dispose()})),i=t.keyArgs||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},s=t.makeCacheKey||ce;function r(){var r=s.apply(null,i.apply(null,arguments));if(void 0===r)return e.apply(null,arguments);var a=n.get(r);a||(n.set(r,a=new Q(e)),a.subscribe=t.subscribe);var o=a.recompute(Array.prototype.slice.call(arguments));return n.set(r,a),de.add(n),K.hasValue()||(de.forEach((function(e){return e.clean()})),de.clear()),o}function a(){var e=s.apply(null,arguments);if(void 0!==e)return n.get(e)}return r.dirty=function(){var e=a.apply(null,arguments);e&&e.setDirty()},r.peek=function(){var e=a.apply(null,arguments);if(e)return e.peek()},r.forget=function(){var e=s.apply(null,arguments);return void 0!==e&&n.delete(e)},r}var he,pe=function(){function e(){this.getFragmentDoc=ue(a.Yk)}return e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({query:this.getFragmentDoc(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.writeQuery=function(e){return this.write({dataId:e.id||"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables,broadcast:e.broadcast})},e.prototype.writeFragment=function(e){return this.write({dataId:e.id,result:e.data,variables:e.variables,query:this.getFragmentDoc(e.fragment,e.fragmentName),broadcast:e.broadcast})},e}();he||(he={});var me=function(e,t,n,i,s){this.message=e,this.path=t,this.query=n,this.clientOnly=i,this.variables=s},fe=Object.prototype.hasOwnProperty;var ge=/^[_a-z][_0-9a-z]*/i;function ve(e){var t=e.match(ge);return t?t[0]:e}function be(e,t,n){return!(!t||"object"!=typeof t)&&(Array.isArray(t)?t.every((function(t){return be(e,t,n)})):e.selections.every((function(e){if((0,a.My)(e)&&(0,a.LZ)(e,n)){var i=(0,a.u2)(e);return fe.call(t,i)&&(!e.selectionSet||be(e.selectionSet,t[i],n))}return!0})))}function ye(e){return null!==e&&"object"==typeof e&&!(0,a.hh)(e)&&!Array.isArray(e)}var Ee=Object.create(null),Se=function(){return Ee},Oe=Object.create(null),Te=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,a.Jv)((0,a.hh)(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return(0,a.hh)(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return(0,a.kQ)(e);if((0,a.hh)(e))return e;var i=n.policies.identify(e)[0];if(i){var s=(0,a.kQ)(i);return t&&n.merge(i,e),s}}}return e.prototype.toObject=function(){return(0,i.pi)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),fe.call(this.data,e)){var n=this.data[e];if(n&&fe.call(n,t))return n[t]}return"__typename"===t&&fe.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof Ne?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),fe.call(this.data,e)?this.data[e]:this instanceof Ne?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n=this,i=this.lookup(e),s=new a.w0(Ae).merge(i,t);if(this.data[e]=s,s!==i&&(delete this.refs[e],this.group.caching)){var r=Object.create(null);i||(r.__exists=1),Object.keys(t).forEach((function(e){if(!i||i[e]!==s[e]){r[e]=1;var t=ve(e);t===e||n.policies.hasKeyArgs(s.__typename,t)||(r[t]=1),void 0!==s[e]||n instanceof Ne||delete s[e]}})),Object.keys(r).forEach((function(t){return n.group.dirty(e,t)}))}},e.prototype.modify=function(e,t){var n=this,s=this.lookup(e);if(s){var r=Object.create(null),o=!1,l=!0,c={DELETE:Ee,INVALIDATE:Oe,isReference:a.hh,toReference:this.toReference,canRead:this.canRead,readField:function(t,i){return n.policies.readField("string"==typeof t?{fieldName:t,from:i||(0,a.kQ)(e)}:t,{store:n})}};if(Object.keys(s).forEach((function(d){var u=ve(d),h=s[d];if(void 0!==h){var p="function"==typeof t?t:t[d]||t[u];if(p){var m=p===Se?Ee:p((0,a.Jv)(h),(0,i.pi)((0,i.pi)({},c),{fieldName:u,storeFieldName:d,storage:n.getStorage(e,d)}));m===Oe?n.group.dirty(e,d):(m===Ee&&(m=void 0),m!==h&&(r[d]=m,o=!0,h=m))}void 0!==h&&(l=!1)}})),o)return this.merge(e,r),l&&(this instanceof Ne?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var i,s=this.lookup(e);if(s){var r=this.getFieldValue(s,"__typename"),a=t&&n?this.policies.getStoreFieldName({typename:r,fieldName:t,args:n}):t;return this.modify(e,a?((i={})[a]=Se,i):Se)}return!1},e.prototype.evict=function(e){var t=!1;return e.id&&(fe.call(this.data,e.id)&&(t=this.delete(e.id,e.fieldName,e.args)),this instanceof Ne&&(t=this.parent.evict(e)||t),(e.fieldName||t)&&this.group.dirty(e.id,e.fieldName||"__exists")),t},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){fe.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&fe.call(e,n)||t.delete(n)})),e){var n=e.__META,s=(0,i._T)(e,["__META"]);Object.keys(s).forEach((function(e){t.merge(e,s[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Ne?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(i){fe.call(n,i)&&(Object.keys(e.findChildRefIds(i)).forEach(t.add,t),delete n[i])}));var i=Object.keys(n);if(i.length){for(var s=this;s instanceof Ne;)s=s.parent;i.forEach((function(e){return s.delete(e)}))}return i},e.prototype.findChildRefIds=function(e){if(!fe.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=new Set([this.data[e]]),i=function(e){return null!==e&&"object"==typeof e};n.forEach((function(e){(0,a.hh)(e)?t[e.__ref]=!0:i(e)&&Object.values(e).filter(i).forEach(n.add,n)}))}return this.refs[e]},e.prototype.makeCacheKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.group.keyMaker.lookupArray(e)},e}(),_e=function(){function e(e){this.caching=e,this.d=null,this.keyMaker=new j(a.mr),this.d=e?oe():null}return e.prototype.depend=function(e,t){if(this.d){this.d(we(e,t));var n=ve(t);n!==t&&this.d(we(e,n))}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(we(e,t))},e}();function we(e,t){return t+"#"+e}!function(e){var t=function(e){function t(t){var n=t.policies,i=t.resultCaching,s=void 0===i||i,r=t.seed,o=e.call(this,n,new _e(s))||this;return o.storageTrie=new j(a.mr),o.sharedLayerGroup=new _e(s),r&&o.replace(r),o}return(0,i.ZT)(t,e),t.prototype.addLayer=function(e,t){return new Ne(e,this,t,this.sharedLayerGroup)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(Te||(Te={}));var Ne=function(e){function t(t,n,i,s){var r=e.call(this,n.policies,s)||this;return r.id=t,r.parent=n,r.replay=i,r.group=s,i(r),r}return(0,i.ZT)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){t.data[e]!==n.lookup(e)&&t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,i.pi)((0,i.pi)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return fe.call(this.data,t)?(0,i.pi)((0,i.pi)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(Te);function Ae(e,t,n){var i=e[n],s=t[n];return E(i,s)?i:s}function Ie(e){return!!(e instanceof Te&&e.group.caching)}function ke(e,t){return new me(e.message,t.path.slice(),t.query,t.clientOnly,t.variables)}var Pe=function(){function e(e){var t=this;this.config=e,this.executeSelectionSet=ue((function(e){return t.execSelectionSetImpl(e)}),{keyArgs:function(e){return[e.selectionSet,e.objectOrReference,e.context]},makeCacheKey:function(e,t,n){if(Ie(n.store))return n.store.makeCacheKey(e,(0,a.hh)(t)?t.__ref:t,n.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=ue((function(e){return t.execSubSelectedArrayImpl(e)}),{makeCacheKey:function(e){var t=e.field,n=e.array,i=e.context;if(Ie(i.store))return i.store.makeCacheKey(t,n,i.varString)}}),this.config=(0,i.pi)({addTypename:!0},e)}return e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,s=e.rootId,r=void 0===s?"ROOT_QUERY":s,o=e.variables,l=e.returnPartialData,c=void 0===l||l,d=this.config.cache.policies;o=(0,i.pi)((0,i.pi)({},(0,a.O4)((0,a.iW)(n))),o);var u=this.executeSelectionSet({selectionSet:(0,a.p$)(n).selectionSet,objectOrReference:(0,a.kQ)(r),context:{store:t,query:n,policies:d,variables:o,varString:JSON.stringify(o),fragmentMap:(0,a.F)((0,a.kU)(n)),path:[],clientOnly:!1}}),h=u.missing&&u.missing.length>0;if(h&&!c)throw u.missing[0];return{result:u.result,missing:u.missing,complete:!h}},e.prototype.isFresh=function(e,t,n,i){if(Ie(i.store)&&this.knownResults.get(e)===n){var s=this.executeSelectionSet.peek(n,t,i);if(s&&e===s.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,i=e.objectOrReference,r=e.context;if((0,a.hh)(i)&&!r.policies.rootTypenamesById[i.__ref]&&!r.store.has(i.__ref))return{result:{},missing:[ke(new s.ej(4),r)]};var o=r.variables,l=r.policies,c=r.store,d=[],u={result:null},h=c.getFieldValue(i,"__typename");function p(){return u.missing||(u.missing=[])}function m(e){var t;return e.missing&&(t=p()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof h&&!l.rootIdsByTypename[h]&&d.push({__typename:h});var f=new Set(n.selections);return f.forEach((function(e){var n;if((0,a.LZ)(e,o))if((0,a.My)(e)){var c=l.readField({fieldName:e.name.value,field:e,variables:r.variables,from:i},r),u=(0,a.u2)(e);r.path.push(u);var g=r.clientOnly;r.clientOnly=g||!(!e.directives||!e.directives.some((function(e){return"client"===e.name.value}))),void 0===c?a.Gw.added(e)||p().push(ke(new s.ej(5),r)):Array.isArray(c)?c=m(t.executeSubSelectedArray({field:e,array:c,context:r})):e.selectionSet&&null!=c&&(c=m(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:c,context:r}))),void 0!==c&&d.push(((n={})[u]=c,n)),r.clientOnly=g,(0,s.kG)(r.path.pop()===u)}else{var v=(0,a.hi)(e,r.fragmentMap);v&&l.fragmentMatches(v,h)&&v.selectionSet.selections.forEach(f.add,f)}})),u.result=(0,a.bw)(d),this.knownResults.set(u.result,n),u},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,i=e.field,r=e.array,a=e.context;function o(e,n){return e.missing&&(t=t||[]).push.apply(t,e.missing),(0,s.kG)(a.path.pop()===n),e.result}return i.selectionSet&&(r=r.filter(a.store.canRead)),{result:r=r.map((function(e,t){return null===e?null:(a.path.push(t),Array.isArray(e)?o(n.executeSubSelectedArray({field:i,array:e,context:a}),t):i.selectionSet?o(n.executeSelectionSet({selectionSet:i.selectionSet,objectOrReference:e,context:a}),t):((0,s.kG)(a.path.pop()===t),e))})),missing:t}},e}();var Le=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e){var t=e.query,n=e.result,r=e.dataId,o=e.store,l=e.variables,c=(0,a.$H)(t),d=new a.w0;l=(0,i.pi)((0,i.pi)({},(0,a.O4)(c)),l);var u=this.processSelectionSet({result:n||Object.create(null),dataId:r,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:{store:o,written:Object.create(null),merge:function(e,t){return d.merge(e,t)},variables:l,varString:JSON.stringify(l),fragmentMap:(0,a.F)((0,a.kU)(t))}});if(!(0,a.hh)(u))throw new s.ej(7);return o.retain(u.__ref),u},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,i=e.result,r=e.selectionSet,o=e.context,l=e.mergeTree,c=this.cache.policies,d=c.identify(i,r,o.fragmentMap),u=d[0],h=d[1];if("string"==typeof(n=n||u)){var p=o.written[n]||(o.written[n]=[]),m=(0,a.kQ)(n);if(p.indexOf(r)>=0)return m;if(p.push(r),this.reader&&this.reader.isFresh(i,m,r,o))return m}var f=Object.create(null);h&&(f=o.merge(f,h));var g=n&&c.rootTypenamesById[n]||(0,a.qw)(i,r,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"==typeof g&&(f.__typename=g);var v=new Set(r.selections);if(v.forEach((function(e){var n;if((0,a.LZ)(e,o.variables))if((0,a.My)(e)){var r=(0,a.u2)(e),d=i[r];if(void 0!==d){var u=c.getStoreFieldName({typename:g,fieldName:e.name.value,field:e,variables:o.variables}),h=Ce(l,u),p=t.processFieldValue(d,e,o,h),m=e.selectionSet&&o.store.getFieldValue(p,"__typename")||void 0,b=c.getMergeFunction(g,e.name.value,m);b?h.info={field:e,typename:g,merge:b}:De(l,u),f=o.merge(f,((n={})[u]=p,n))}else if(c.usingPossibleTypes&&!(0,a.FS)(["defer","client"],e))throw new s.ej(8)}else{var y=(0,a.hi)(e,o.fragmentMap);y&&c.fragmentMatches(y,g,i,o.variables)&&y.selectionSet.selections.forEach(v.add,v)}})),"string"==typeof n){var b=(0,a.kQ)(n);return l.map.size&&(f=this.applyMerges(l,b,f,o)),o.store.merge(n,f),b}return f},e.prototype.processFieldValue=function(e,t,n,i){var s=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,r){var a=s.processFieldValue(e,t,n,Ce(i,r));return De(i,r),a})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:i}):e},e.prototype.applyMerges=function(e,t,n,r,o){var l,c=this;if(e.map.size&&!(0,a.hh)(n)){var d,u=Array.isArray(n)||!(0,a.hh)(t)&&!ye(t)?void 0:t,h=n;u&&!o&&(o=[(0,a.hh)(u)?u.__ref:u]);var p=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){o&&o.push(t);var n=p(u,t),i=p(h,t),a=c.applyMerges(e,n,i,r,o);a!==i&&(d=d||new Map).set(t,a),o&&(0,s.kG)(o.pop()===t)})),d&&(n=Array.isArray(h)?h.slice(0):(0,i.pi)({},h),d.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,o&&(l=r.store).getStorage.apply(l,o)):n},e}(),Re=[];function Ce(e,t){var n=e.map;return n.has(t)||n.set(t,Re.pop()||{map:new Map}),n.get(t)}function De(e,t){var n=e.map,i=n.get(t);!i||i.info||i.map.size||(Re.push(i),n.delete(t))}new Set;var Me=new G;function xe(e,t){if(e.size){var n=[];e.forEach((function(e){return n.push(e)})),e.clear(),n.forEach(t)}}var je=new WeakMap;function Ue(e){var t=je.get(e);return t||je.set(e,t={vars:new Set,dep:oe()}),t}function Fe(e){var t=new Set,n=new Set,i=function(r){if(arguments.length>0)e!==r&&(e=r,t.forEach((function(e){Ue(e).dep.dirty(i),He(e)})),xe(n,(function(t){return t(e)})));else{var a=Me.getValue();a&&(s(a),Ue(a).dep(i))}return e};i.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var s=i.attachCache=function(e){return t.add(e),Ue(e).vars.add(i),i};return i.forgetCache=function(e){return t.delete(e)},i}function He(e){e.broadcastWatches&&e.broadcastWatches()}function Ve(e){return void 0!==e.args?e.args:e.field?(0,a.NC)(e.field,e.variables):null}var Be=function(e,t){var n=e.__typename,i=e.id,s=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==i?{id:i}:void 0!==s?{_id:s}:void 0),void 0===i&&(i=s),void 0!==i))return n+":"+("number"==typeof i||"string"==typeof i?i:JSON.stringify(i))},Ge=function(){},We=function(e,t){return t.fieldName},ze=function(e,t,n){return(0,n.mergeObjects)(e,t)},Ke=function(e,t){return t},Ye=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,i.pi)({dataIdFromObject:Be},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,n){var i=t&&n?(0,a.qw)(e,t,n):e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s,r={typename:i,selectionSet:t,fragmentMap:n},o=i&&this.getTypePolicy(i),l=o&&o.keyFn||this.config.dataIdFromObject;l;){var c=l(e,r);if(!Array.isArray(c)){s=c;break}l=Qe(c)}return s=s&&String(s),r.keyObject?[s,r.keyObject]:[s]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var s=e[n],r=s.queryType,a=s.mutationType,o=s.subscriptionType,l=(0,i._T)(s,["queryType","mutationType","subscriptionType"]);r&&t.setRootTypename("Query",n),a&&t.setRootTypename("Mutation",n),o&&t.setRootTypename("Subscription",n),fe.call(t.toBeAdded,n)?t.toBeAdded[n].push(l):t.toBeAdded[n]=[l]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,i=this.getTypePolicy(e),s=t.keyFields,r=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?ze:!1===t?Ke:e.merge}a(i,t.merge),i.keyFn=!1===s?Ge:Array.isArray(s)?Qe(s):"function"==typeof s?s:i.keyFn,r&&Object.keys(r).forEach((function(t){var i=n.getFieldPolicy(e,t,!0),s=r[t];if("function"==typeof s)i.read=s;else{var o=s.keyArgs,l=s.read,c=s.merge;i.keyFn=!1===o?We:Array.isArray(o)?Ze(o):"function"==typeof o?o:i.keyFn,"function"==typeof l&&(i.read=l),a(i,c)}i.read&&i.merge&&(i.keyFn=i.keyFn||We)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];t!==i&&((0,s.kG)(!i||i===e,1),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var i=e.match(ge);i&&i[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!fe.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var s=this.supertypeMap.get(e);s&&s.size&&s.forEach((function(e){var s=t.getTypePolicy(e),r=s.fields,a=(0,i._T)(s,["fields"]);Object.assign(n,a),Object.assign(n.fields,r)}))}var r=this.toBeAdded[e];return r&&r.length&&this.updateTypePolicy(e,a.oA.apply(void 0,r.splice(0))),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var i=this.getTypePolicy(e).fields;return i[t]||n&&(i[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,i){var s=this;if(!e.typeCondition)return!0;if(!t)return!1;var r=e.typeCondition.name.value;if(t===r)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(r))for(var a=this.getSupertypeSet(t,!0),o=[a],l=function(e){var t=s.getSupertypeSet(e,!1);t&&t.size&&o.indexOf(t)<0&&o.push(t)},c=!(!n||!this.fuzzySubtypes.size),d=0;d<o.length;++d){var u=o[d];if(u.has(r))return a.has(r)||a.add(r),!0;u.forEach(l),c&&d===o.length-1&&be(e.selectionSet,n,i)&&(c=!1,!0,this.fuzzySubtypes.forEach((function(e,n){var i=t.match(e);i&&i[0]===t&&l(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,i=e.fieldName,s=this.getFieldPolicy(n,i,!1),r=s&&s.keyFn;if(r&&n)for(var o={typename:n,fieldName:i,field:e.field||null,variables:e.variables},l=Ve(e);r;){var c=r(l,o);if(!Array.isArray(c)){t=c||i;break}r=Ze(c)}return void 0===t&&(t=e.field?(0,a.vf)(e.field,e.variables):(0,a.PT)(i,Ve(e))),i===ve(t)?t:i+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var i=t.store.getFieldValue(n,"__typename");i&&(e.typename=i)}var s=this.getStoreFieldName(e),r=ve(s),o=t.store.getFieldValue(n,s),l=this.getFieldPolicy(e.typename,r,!1),c=l&&l.read;if(c){var d=qe(this,n,e,t,t.store.getStorage((0,a.hh)(n)?n.__ref:n,s));return Me.withValue(this.cache,c,[o,d])}return o}},e.prototype.getMergeFunction=function(e,t,n){var i=this.getFieldPolicy(e,t,!1),s=i&&i.merge;return!s&&n&&(s=(i=this.getTypePolicy(n))&&i.merge),s},e.prototype.runMergeFunction=function(e,t,n,i,s){var r=n.field,a=n.typename,o=n.merge;return o===ze?$e(i.store.getFieldValue)(e,t):o===Ke?t:o(e,t,qe(this,void 0,{typename:a,fieldName:r.name.value,field:r,variables:i.variables},i,s||Object.create(null)))},e}();function qe(e,t,n,s,r){var o=e.getStoreFieldName(n),l=ve(o),c=n.variables||s.variables,d=s.store,u=d.getFieldValue,h=d.toReference,p=d.canRead;return{args:Ve(n),field:n.field||null,fieldName:l,storeFieldName:o,variables:c,isReference:a.hh,toReference:h,storage:r,cache:e.cache,canRead:p,readField:function(n,r){var a="string"==typeof n?{fieldName:n,from:r}:(0,i.pi)({},n);return void 0===a.from&&(a.from=t),void 0===a.variables&&(a.variables=c),e.readField(a,s)},mergeObjects:$e(u)}}function $e(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw new s.ej(2);if(t&&"object"==typeof t&&n&&"object"==typeof n){var r=e(t,"__typename"),a=e(n,"__typename");return!(r&&a&&r!==a)&&ye(t)&&ye(n)?(0,i.pi)((0,i.pi)({},t),n):n}return n}}function Ze(e){return function(t,n){return t?n.fieldName+":"+JSON.stringify(Je(t,e,!1)):n.fieldName}}function Qe(e){var t=new j(a.mr);return function(n,i){var s;if(i.selectionSet&&i.fragmentMap){var r=t.lookupArray([i.selectionSet,i.fragmentMap]);s=r.aliasMap||(r.aliasMap=Xe(i.selectionSet,i.fragmentMap))}var a=i.keyObject=Je(n,e,!0,s);return i.typename+":"+JSON.stringify(a)}}function Xe(e,t){var n=Object.create(null),i=new Set([e]);return i.forEach((function(e){e.selections.forEach((function(e){if((0,a.My)(e)){if(e.alias){var s=e.alias.value,r=e.name.value;if(r!==s)(n.aliases||(n.aliases=Object.create(null)))[r]=s}if(e.selectionSet)(n.subsets||(n.subsets=Object.create(null)))[e.name.value]=Xe(e.selectionSet,t)}else{var o=(0,a.hi)(e,t);o&&i.add(o.selectionSet)}}))})),n}function Je(e,t,n,i){var r,a=Object.create(null);return t.forEach((function(t){if(Array.isArray(t)){if("string"==typeof r){var o=i&&i.subsets,l=o&&o[r];a[r]=Je(e[r],t,n,l)}}else{var c=i&&i.aliases,d=c&&c[t]||t;fe.call(e,d)?a[r=t]=e[d]:((0,s.kG)(!n,3),r=void 0)}})),a}var et={dataIdFromObject:Be,addTypename:!0,resultCaching:!0,typePolicies:{}},tt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=Fe,n.txCount=0,n.maybeBroadcastWatch=ue((function(e,t){return n.broadcastWatch.call(n,e,!!t)}),{makeCacheKey:function(e){var t=e.optimistic?n.optimisticData:n.data;if(Ie(t)){var i=e.optimistic,s=e.rootId,r=e.variables;return t.makeCacheKey(e.query,e.callback,JSON.stringify({optimistic:i,rootId:s,variables:r}))}}}),n.watchDep=oe(),n.config=(0,i.pi)((0,i.pi)({},et),t),n.addTypename=!!n.config.addTypename,n.policies=new Ye({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.data=new Te.Root({policies:n.policies,resultCaching:n.config.resultCaching}),n.optimisticData=n.data,n.storeWriter=new Le(n,n.storeReader=new Pe({cache:n,addTypename:n.addTypename})),n}return(0,i.ZT)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config,returnPartialData:n}).result||null}catch(e){if(e instanceof me)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:e.query,result:e.result,dataId:e.dataId,variables:e.variables})}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(fe.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},t.prototype.watch=function(e){var t,n=this;return this.watches.size||Ue(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&function(e){Ue(e).vars.forEach((function(t){return t.forgetCache(e)}))}(n),n.watchDep.dirty(e),n.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(){return this.optimisticData.gc()},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return(0,a.hh)(e)?e.__ref:this.policies.identify(e)[0]},t.prototype.evict=function(e){if(!e.id){if(fe.call(e,"id"))return!1;e=(0,i.pi)((0,i.pi)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.performTransaction=function(e,t){var n=this,i=function(t){var i=n,s=i.data,r=i.optimisticData;++n.txCount,t&&(n.data=n.optimisticData=t);try{e(n)}finally{--n.txCount,n.data=s,n.optimisticData=r}},s=!1;"string"==typeof t?(this.optimisticData=this.optimisticData.addLayer(t,i),s=!0):null===t?i(this.data):i(),this.broadcastWatches(s)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=(0,a.Gw)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){this.watchDep.dirty(e),this.watchDep(e);var n=this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic});e.optimistic&&t&&(n.fromOptimisticTransaction=!0),e.callback(n)},t}(pe),nt=function(){function e(e){var t=e.cache,n=e.client,i=e.resolvers,s=e.fragmentMatcher;this.cache=t,n&&(this.client=n),i&&this.addResolvers(i),s&&this.setFragmentMatcher(s)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=(0,a.Ee)(t.resolvers,e)})):this.resolvers=(0,a.Ee)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,s=e.context,r=e.variables,a=e.onlyRunForcedResolvers,o=void 0!==a&&a;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,s,r,this.fragmentMatcher,o).then((function(e){return(0,i.pi)((0,i.pi)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return(0,a.FS)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return(0,a.ob)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,i.pi)((0,i.pi)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(s){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return(0,i.pi)((0,i.pi)({},t),e.exportedVariables)}))]:[2,(0,i.pi)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,R.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return R.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:(0,a.aL)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,s,r,o){return void 0===n&&(n={}),void 0===s&&(s={}),void 0===r&&(r=function(){return!0}),void 0===o&&(o=!1),(0,i.mG)(this,void 0,void 0,(function(){var l,c,d,u,h,p,m,f,g;return(0,i.Jh)(this,(function(v){return l=(0,a.p$)(e),c=(0,a.kU)(e),d=(0,a.F)(c),u=l.operation,h=u?u.charAt(0).toUpperCase()+u.slice(1):"Query",m=(p=this).cache,f=p.client,g={fragmentMap:d,context:(0,i.pi)((0,i.pi)({},n),{cache:m,client:f}),variables:s,fragmentMatcher:r,defaultOperationType:h,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(l.selectionSet,t,g).then((function(e){return{result:e,exportedVariables:g.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,l,c,d,u=this;return(0,i.Jh)(this,(function(h){return r=n.fragmentMap,o=n.context,l=n.variables,c=[t],d=function(e){return(0,i.mG)(u,void 0,void 0,(function(){var d,u;return(0,i.Jh)(this,(function(i){return(0,a.LZ)(e,l)?(0,a.My)(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&c.push(((n={})[(0,a.u2)(e)]=t,n))}))]:((0,a.Ao)(e)?d=e:(d=r[e.name.value],(0,s.kG)(d,11)),d&&d.typeCondition&&(u=d.typeCondition.name.value,n.fragmentMatcher(t,u,o))?[2,this.resolveSelectionSet(d.selectionSet,t,n).then((function(e){c.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(d)).then((function(){return(0,a.bw)(c)}))]}))}))},e.prototype.resolveField=function(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var s,r,o,l,c,d,u,h,p,m=this;return(0,i.Jh)(this,(function(i){return s=n.variables,r=e.name.value,o=(0,a.u2)(e),l=r!==o,c=t[o]||t[r],d=Promise.resolve(c),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=t.__typename||n.defaultOperationType,(h=this.resolvers&&this.resolvers[u])&&(p=h[l?r:o])&&(d=Promise.resolve(Me.withValue(this.cache,p,[t,(0,a.NC)(e,s),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,d.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?m.resolveSubSelectedArray(e,t,n):e.selectionSet?m.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var i=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?i.resolveSubSelectedArray(e,t,n):e.selectionSet?i.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),it=new(a.mr?WeakMap:Map);function st(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return it.set(e,(it.get(e)+1)%1e15),n.apply(this,arguments)})}function rt(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var at=function(){function e(e){this.cache=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.diff=null,this.observableQuery=null,it.has(e)||(it.set(e,0),st(e,"evict"),st(e,"modify"),st(e,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||N.loading;return this.variables&&this.networkStatus!==N.loading&&!E(this.variables,e.variables)&&(t=N.setVariables),E(e.variables,this.variables)||(this.diff=null),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){rt(this),this.diff=null,this.dirty=!1},e.prototype.getDiff=function(e){return void 0===e&&(e=this.variables),this.diff&&E(e,this.variables)?this.diff:(this.updateWatch(this.variables=e),this.diff=this.cache.diff({query:this.document,variables:e,returnPartialData:!0,optimistic:!0}))},e.prototype.setDiff=function(e){var t=this,n=this.diff;this.diff=e,this.dirty||(e&&e.result)===(n&&n.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;rt(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(I(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.cancel(),delete this.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var e=this.observableQuery;e&&e.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;n&&"no-cache"===n.options.fetchPolicy||this.lastWatch&&this.lastWatch.query===this.document&&E(e,this.lastWatch.variables)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:e,optimistic:!0,callback:function(e){return t.setDiff(e)}}))},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===it.get(this.cache)&&E(t,n.variables)&&E(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var i=this;this.graphQLErrors=(0,a.Of)(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.diff={result:e.data,complete:!0}:!this.stopped&&n&&(ot(e,t.errorPolicy)?this.cache.performTransaction((function(n){if(i.shouldWrite(e,t.variables))n.writeQuery({query:i.document,data:e.data,variables:t.variables}),i.lastWrite={result:e,variables:t.variables,dmCount:it.get(i.cache)};else if(i.diff&&i.diff.complete)return void(e.data=i.diff.result);var s=n.diff({query:i.document,variables:t.variables,returnPartialData:!0,optimistic:!0});i.stopped||i.updateWatch(t.variables),i.diff=s,s.complete&&(e.data=s.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=N.ready},e.prototype.markError=function(e){return this.networkStatus=N.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function ot(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,i=!(0,a.d2)(e);return!i&&n&&e.data&&(i=!0),i}var lt=Object.prototype.hasOwnProperty,ct=function(){function e(e){var t=e.cache,n=e.link,i=e.queryDeduplication,s=void 0!==i&&i,r=e.onBroadcast,o=e.ssrMode,l=void 0!==o&&o,c=e.clientAwareness,d=void 0===c?{}:c,u=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(a.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=s,this.clientAwareness=d,this.localState=u||new nt({cache:t}),this.ssrMode=l,this.assumeImmutableResults=!!h,(this.onBroadcast=r)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(new s.ej(12))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,o=e.updateQueries,l=e.refetchQueries,c=void 0===l?[]:l,d=e.awaitRefetchQueries,u=void 0!==d&&d,h=e.update,p=e.errorPolicy,m=void 0===p?"none":p,f=e.fetchPolicy,g=e.context,v=void 0===g?{}:g;return(0,i.mG)(this,void 0,void 0,(function(){var e,l,d;return(0,i.Jh)(this,(function(p){switch(p.label){case 0:return(0,s.kG)(t,13),(0,s.kG)(!f||"no-cache"===f,14),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,v)]:[3,2];case 1:n=p.sent(),p.label=2;case 2:return l=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),r&&this.markMutationOptimistic(r,{mutationId:e,document:t,variables:n,errorPolicy:m,updateQueries:o,update:h}),this.broadcastQueries(),d=this,[2,new Promise((function(s,p){var g,b;d.getObservableFromLink(t,(0,i.pi)((0,i.pi)({},v),{optimisticResponse:r}),n,!1).subscribe({next:function(i){if((0,a.d2)(i)&&"none"===m)b=new A({graphQLErrors:i.errors});else{if(l&&(l.loading=!1,l.error=null),"no-cache"!==f)try{d.markMutationResult({mutationId:e,result:i,document:t,variables:n,errorPolicy:m,updateQueries:o,update:h})}catch(e){return void(b=new A({networkError:e}))}g=i}},error:function(t){l&&(l.loading=!1,l.error=t),r&&d.cache.removeOptimistic(e),d.broadcastQueries(),p(new A({networkError:t}))},complete:function(){if(b&&l&&(l.loading=!1,l.error=b),r&&d.cache.removeOptimistic(e),d.broadcastQueries(),b)p(b);else{"function"==typeof c&&(c=c(g));var t=[];(0,a.Of)(c)&&c.forEach((function(e){if("string"==typeof e)d.queries.forEach((function(n){var i=n.observableQuery;i&&i.queryName===e&&t.push(i.refetch())}));else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(d.query(n))}})),Promise.all(u?t:[]).then((function(){"ignore"===m&&g&&(0,a.d2)(g)&&delete g.errors,s(g)}),p)}}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;if(void 0===t&&(t=this.cache),ot(e.result,e.errorPolicy)){var i=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],s=e.updateQueries;s&&this.queries.forEach((function(r,o){var l=r.observableQuery,c=l&&l.queryName;if(c&&lt.call(s,c)){var d=s[c],u=n.queries.get(o),h=u.document,p=u.variables,m=t.diff({query:h,variables:p,returnPartialData:!0,optimistic:!1}),f=m.result;if(m.complete&&f){var g=d(f,{mutationResult:e.result,queryName:h&&(0,a.rY)(h)||void 0,queryVariables:p});g&&i.push({result:g,dataId:"ROOT_QUERY",query:h,variables:p})}}})),t.performTransaction((function(t){i.forEach((function(e){return t.write(e)}));var n=e.update;n&&n(t,e.result)}),null)}},e.prototype.markMutationOptimistic=function(e,t){var n=this,s="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult((0,i.pi)((0,i.pi)({},t),{result:{data:s}}),e)}catch(e){}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.cache.transformDocument(e),i=(0,a.Fo)(this.cache.transformForLink(n)),s=this.localState.clientQuery(n),r=i&&this.localState.serverQuery(i),o={document:n,hasClientExports:(0,a.mj)(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:s,serverQuery:r,defaultVars:(0,a.O4)((0,a.$H)(n))},l=function(e){e&&!t.has(e)&&t.set(e,o)};l(e),l(n),l(s),l(r)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,i.pi)((0,i.pi)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=(0,i.pi)((0,i.pi)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new at(this.cache),n=new P({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e){var t=this;(0,s.kG)(e.query,15),(0,s.kG)("Document"===e.query.kind,16),(0,s.kG)(!e.returnPartialData,17),(0,s.kG)(!e.pollInterval,18);var n=this.generateQueryId();return this.fetchQuery(n,e).finally((function(){return t.stopQuery(n)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(){return this.cancelPendingFetches(new s.ej(19)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=N.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach((function(i,s){var r=i.observableQuery;if(r&&r.hasObservers()){var a=r.options.fetchPolicy;r.resetLastResults(),"cache-only"===a||!e&&"standby"===a||n.push(r.refetch()),t.getQuery(s).setDiff(null)}})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,i=e.fetchPolicy,s=e.errorPolicy,r=e.variables,o=e.context,l=void 0===o?{}:o;n=this.transform(n).document,r=this.getVariables(n,r);var c=function(e){return t.getObservableFromLink(n,l,e,!1).map((function(r){if("no-cache"!==i&&(ot(r,s)&&t.cache.write({query:n,result:r.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),(0,a.d2)(r))throw new A({graphQLErrors:r.errors});return r}))};if(this.transform(n).hasClientExports){var d=this.localState.addExportedVariables(n,r,l).then(c);return new a.y$((function(e){var t=null;return d.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return c(r)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,s){var o,l,c=this;void 0===s&&(s=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var d=this.transform(e).serverQuery;if(d){var u=this.inFlightLinkObservables,h=this.link,p={query:d,variables:n,operationName:(0,a.rY)(d)||void 0,context:this.prepareContext((0,i.pi)((0,i.pi)({},t),{forceFetch:!s}))};if(t=p.context,s){var m=u.get(d)||new Map;u.set(d,m);var f=JSON.stringify(n);if(!(l=m.get(f))){var g=new a.X_([(0,r.execute)(h,p)]);m.set(f,l=g),g.cleanup((function(){m.delete(f)&&m.size<1&&u.delete(d)}))}}else l=new a.X_([(0,r.execute)(h,p)])}else l=new a.X_([a.y$.of({data:{}})]),t=this.prepareContext(t);var v=this.transform(e).clientQuery;return v&&(l=(0,a.sz)(l,(function(e){return c.localState.runResolvers({document:v,remoteResult:e,context:t,variables:n})}))),l},e.prototype.getResultsFromLink=function(e,t,n){var i=e.lastRequestId;return(0,a.sz)(this.getObservableFromLink(e.document,n.context,n.variables),(function(s){var r=(0,a.Of)(s.errors);if(i>=e.lastRequestId){if(r&&"none"===n.errorPolicy)throw e.markError(new A({graphQLErrors:s.errors}));e.markResult(s,n,t),e.markReady()}var o={data:s.data,loading:!1,networkStatus:e.networkStatus||N.ready};return r&&"ignore"!==n.errorPolicy&&(o.errors=s.errors),o}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new A({networkError:t});throw i>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var i=this;void 0===n&&(n=N.loading);var s=this.transform(t.query).document,r=this.getVariables(s,t.variables),o=this.getQuery(e),l=o.networkStatus,c=t.fetchPolicy,d=void 0===c?"cache-first":c,u=t.errorPolicy,h=void 0===u?"none":u,p=t.returnPartialData,m=void 0!==p&&p,f=t.notifyOnNetworkStatusChange,g=void 0!==f&&f,v=t.context,b=void 0===v?{}:v;("cache-first"===d||"cache-and-network"===d||"network-only"===d||"no-cache"===d)&&g&&"number"==typeof l&&l!==n&&I(n)&&("cache-first"!==d&&(d="cache-and-network"),m=!0);var y=Object.assign({},t,{query:s,variables:r,fetchPolicy:d,errorPolicy:h,returnPartialData:m,notifyOnNetworkStatusChange:g,context:b}),E=function(e){return y.variables=e,i.fetchQueryByPolicy(o,y,n)};this.fetchCancelFns.set(e,(function(e){Promise.resolve().then((function(){return S.cancel(e)}))}));var S=new a.X_(this.transform(y.query).hasClientExports?this.localState.addExportedVariables(y.query,y.variables,y.context).then(E):E(y.variables));return S.cleanup((function(){i.fetchCancelFns.delete(e);var n=t.nextFetchPolicy;n&&(t.nextFetchPolicy=void 0,t.fetchPolicy="function"==typeof n?n.call(t,t.fetchPolicy||"cache-first"):n)})),S},e.prototype.fetchQueryByPolicy=function(e,t,n){var s=this,r=t.query,o=t.variables,l=t.fetchPolicy,c=t.errorPolicy,d=t.returnPartialData,u=t.context;e.init({document:r,variables:o,lastRequestId:this.generateRequestId(),networkStatus:n});var h=function(){return e.getDiff(o)},p=function(t,n){void 0===n&&(n=e.networkStatus||N.loading);var l=t.result;var c=function(e){return a.y$.of((0,i.pi)({data:e,loading:I(n),networkStatus:n},t.complete?null:{partial:!0}))};return s.transform(r).hasForcedResolvers?s.localState.runResolvers({document:r,remoteResult:{data:l},context:u,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return c(e.data)})):c(l)},m=function(t){return s.getResultsFromLink(e,t,{variables:o,context:u,fetchPolicy:l,errorPolicy:c})};switch(l){default:case"cache-first":return(f=h()).complete?[p(f,e.markReady())]:d?[p(f),m(!0)]:[m(!0)];case"cache-and-network":var f;return(f=h()).complete||d?[p(f),m(!0)]:[m(!0)];case"cache-only":return[p(h(),e.markReady())];case"network-only":return[m(!0)];case"no-cache":return[m(!1)];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new at(this.cache)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,i.pi)((0,i.pi)({},t),{clientAwareness:this.clientAwareness})},e}();function dt(e,t){return(0,a.oA)(e,t,t.variables&&{variables:(0,i.pi)((0,i.pi)({},e.variables),t.variables)})}var ut=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,i=e.credentials,a=e.headers,o=e.cache,l=e.ssrMode,c=void 0!==l&&l,d=e.ssrForceFetchDelay,u=void 0===d?0:d,h=e.connectToDevTools,p=void 0===h?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1:h,f=e.queryDeduplication,g=void 0===f||f,v=e.defaultOptions,b=e.assumeImmutableResults,y=void 0!==b&&b,E=e.resolvers,S=e.typeDefs,O=e.fragmentMatcher,T=e.name,_=e.version,w=e.link;if(w||(w=n?new m({uri:n,credentials:i,headers:a}):r.ApolloLink.empty()),!o)throw new s.ej(9);this.link=w,this.cache=o,this.disableNetworkFetches=c||u>0,this.queryDeduplication=g,this.defaultOptions=v||{},this.typeDefs=S,u&&setTimeout((function(){return t.disableNetworkFetches=!1}),u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),p&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),this.version="3.3.11",this.localState=new nt({cache:o,client:this,resolvers:E,fragmentMatcher:O}),this.queryManager=new ct({cache:this.cache,link:this.link,queryDeduplication:g,ssrMode:c,clientAwareness:{name:T,version:_},localState:this.localState,assumeImmutableResults:y,onBroadcast:p?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=dt(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,i.pi)((0,i.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=dt(this.defaultOptions.query,e)),(0,s.kG)("cache-and-network"!==e.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,i.pi)((0,i.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=dt(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return(0,r.execute)(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}();n(72191),n(35367);var ht=function(){return(ht=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};var pt=n(69127),mt=new Map,ft=new Map,gt=!0,vt=!1;function bt(e){return e.replace(/[\s,]+/g," ").trim()}function yt(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var i=e.name.value,s=bt((a=e.loc).source.body.substring(a.start,a.end)),r=ft.get(i);r&&!r.has(s)?gt&&console.warn("Warning: fragment with name "+i+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):r||ft.set(i,r=new Set),r.add(s),t.has(s)||(t.add(s),n.push(e))}else n.push(e);var a})),ht(ht({},e),{definitions:n})}function Et(e){var t=bt(e);if(!mt.has(t)){var n=(0,pt.Qc)(e,{experimentalFragmentVariables:vt});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");mt.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var i=e[n];i&&"object"==typeof i&&t.add(i)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(yt(n)))}return mt.get(t)}function St(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var i=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?i+=t.loc.source.body:i+=t,i+=e[n+1]})),Et(i)}const Ot=Object.assign(St,{gql:St,default:St,resetCaches:function(){mt.clear(),ft.clear()},disableFragmentWarnings:function(){gt=!1},enableExperimentalFragmentVariables:function(){vt=!0},disableExperimentalFragmentVariables:function(){vt=!1}});(0,s.U6)("log");Ot.resetCaches,Ot.disableFragmentWarnings,Ot.enableExperimentalFragmentVariables,Ot.disableExperimentalFragmentVariables},72191:()=>{},97222:(e,t,n)=>{"use strict";n.d(t,{i:()=>d});var i=n(23564),s=n(10690),r=n(80496),a=n(84913);function o(e,t){return t?t(e):r.y$.of()}function l(e){return"function"==typeof e?new d(e):e}function c(e){return e.request.length<=1}!function(e){function t(t,n){var i=e.call(this,t)||this;return i.link=n,i}(0,i.ZT)(t,e)}(Error);var d=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return r.y$.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(l).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,i){var s=l(n),a=l(i||new e(o));return c(s)&&c(a)?new e((function(e){return t(e)?s.request(e)||r.y$.of():a.request(e)||r.y$.of()})):new e((function(e,n){return t(e)?s.request(e,n)||r.y$.of():a.request(e,n)||r.y$.of()}))},e.execute=function(e,t){return e.request((0,a.zi)(t.context,(0,a.DQ)((0,a.Ak)(t))))||r.y$.of()},e.concat=function(t,n){var i=l(t);if(c(i))return i;var s=l(n);return c(s)?new e((function(e){return i.request(e,(function(e){return s.request(e)||r.y$.of()}))||r.y$.of()})):new e((function(e,t){return i.request(e,(function(e){return s.request(e,t)||r.y$.of()}))||r.y$.of()}))},e.prototype.split=function(t,n,i){return this.concat(e.split(t,n,i||new e(o)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw new s.ej(21)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}()},24957:(e,t,n)=>{"use strict";n(97222).i.concat},67325:(e,t,n)=>{"use strict";n(97222).i.empty},2550:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var i=n(97222).i.execute},34674:(e,t,n)=>{"use strict";n(97222).i.from},81707:(e,t,n)=>{"use strict";n.d(t,{ApolloLink:()=>s.i,execute:()=>i.h});n(67325),n(34674),n(64738),n(24957);var i=n(2550),s=n(97222),r=n(79875);n.o(r,"createHttpLink")&&n.d(t,{createHttpLink:function(){return r.createHttpLink}})},64738:(e,t,n)=>{"use strict";n(97222).i.split},79875:()=>{},84913:(e,t,n)=>{"use strict";n.d(t,{zi:()=>c,Qc:()=>s,PW:()=>a,DQ:()=>d,Ak:()=>o});var i=n(80496);function s(e){return new i.y$((function(t){t.error(e)}))}var r=n(10690);var a=function(e,t,n){var i=new Error(n);throw i.name="ServerError",i.response=e,i.statusCode=e.status,i.result=t,i};function o(e){for(var t=["query","operationName","variables","extensions","context"],n=0,i=Object.keys(e);n<i.length;n++){var s=i[n];if(t.indexOf(s)<0)throw new r.ej(26)}return e}var l=n(23564);function c(e,t){var n=(0,l.pi)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"==typeof e?(0,l.pi)((0,l.pi)({},n),e(n)):(0,l.pi)((0,l.pi)({},n),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,l.pi)({},n)}}),t}function d(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?(0,i.rY)(t.query)||void 0:""),t}},23564:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>l,ZT:()=>s,_T:()=>a,mG:()=>o,pi:()=>r,pr:()=>c});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}function o(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))}function l(e,t){var n,i,s,r,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(s=2&r[0]?i.return:r[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,r[1])).done)return s;switch(i=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){a.label=r[1];break}if(6===r[0]&&a.label<s[1]){a.label=s[1],s=r;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(r);break}s[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),s=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,o=r.length;a<o;a++,s++)i[s]=r[a];return i}},80496:(e,t,n)=>{"use strict";n.d(t,{X_:()=>ae,w0:()=>$,y$:()=>Q(),Gw:()=>U,NC:()=>E,sz:()=>ie,aL:()=>B,mr:()=>ce,Xh:()=>J,oA:()=>de,F:()=>d,Dy:()=>se,O4:()=>L,kU:()=>I,hi:()=>u,Yk:()=>c,p$:()=>P,$H:()=>N,rY:()=>A,iW:()=>k,PT:()=>y,qw:()=>O,d2:()=>le,mj:()=>o,FS:()=>a,My:()=>T,Ao:()=>_,Of:()=>oe,hh:()=>f,pM:()=>ne,kQ:()=>m,Jv:()=>te,Ee:()=>z,bw:()=>K,ob:()=>G,Fo:()=>H,u2:()=>S,LZ:()=>r,vf:()=>v});var i=n(77304),s=n(10690);function r(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments;e.name.value;(0,s.kG)(n&&1===n.length,39);var i=n[0];(0,s.kG)(i.name&&"if"===i.name.value,40);var r=i.value;(0,s.kG)(r&&("Variable"===r.kind||"BooleanValue"===r.kind),41),t.push({directive:e,ifArgument:i})}}));return t}(n).every((function(e){var n=e.directive,i=e.ifArgument,r=!1;return"Variable"===i.value.kind?(r=t&&t[i.value.name.value],(0,s.kG)(void 0!==r,38)):r=i.value.value,"skip"===n.name.value?!r:r}))}function a(e,t){return function(e){var t=[];return(0,i.Vn)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function o(e){return e&&a(["client"],e)&&a(["export"],e)}var l=n(23564);function c(e,t){var n=t,i=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw new s.ej(42);"FragmentDefinition"===e.kind&&i.push(e)})),void 0===n&&((0,s.kG)(1===i.length,43),n=i[0].name.value),(0,l.pi)((0,l.pi)({},e),{definitions:(0,l.pr)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions)})}function d(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function u(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return(0,s.kG)(n,44),n;default:return null}}var h=n(35035),p=n.n(h);function m(e){return{__ref:String(e)}}function f(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function g(e,t,n,i){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var r={};n.fields.map((function(e){return g(r,e.name,e.value,i)})),e[t.value]=r}else if(function(e){return"Variable"===e.kind}(n)){var a=(i||{})[n.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return g(n,t,e,i),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new s.ej(53);e[t.value]=null}}function v(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(i){var s=i.name,r=i.value;return g(n[e.name.value],s,r,t)}))})));var i=null;return e.arguments&&e.arguments.length&&(i={},e.arguments.forEach((function(e){var n=e.name,s=e.value;return g(i,n,s,t)}))),y(e.name.value,i,n)}var b=["connection","include","skip","client","rest","export"];function y(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var i=n.connection.filter?n.connection.filter:[];i.sort();var s={};return i.forEach((function(e){s[e]=t[e]})),n.connection.key+"("+JSON.stringify(s)+")"}return n.connection.key}var r=e;if(t){var a=p()(t);r+="("+a+")"}return n&&Object.keys(n).forEach((function(e){-1===b.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?r+="@"+e+"("+JSON.stringify(n[e])+")":r+="@"+e)})),r}function E(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var i=e.name,s=e.value;return g(n,i,s,t)})),n}return null}function S(e){return e.alias?e.alias.value:e.name.value}function O(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var i=0,s=t.selections;i<s.length;i++){var r=s[i];if(T(r)){if("__typename"===r.name.value)return e[S(r)]}else{var a=O(e,u(r,n).selectionSet,n);if("string"==typeof a)return a}}}function T(e){return"Field"===e.kind}function _(e){return"InlineFragment"===e.kind}function w(e){(0,s.kG)(e&&"Document"===e.kind,45);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new s.ej(46);return e}));return(0,s.kG)(t.length<=1,47),e}function N(e){return w(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function A(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function I(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function k(e){var t=N(e);return(0,s.kG)(t&&"query"===t.operation,48),t}function P(e){var t;w(e);for(var n=0,i=e.definitions;n<i.length;n++){var r=i[n];if("OperationDefinition"===r.kind){var a=r.operation;if("query"===a||"mutation"===a||"subscription"===a)return r}"FragmentDefinition"!==r.kind||t||(t=r)}if(t)return t;throw new s.ej(52)}function L(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&g(t,e.variable.name,e.defaultValue)})),t}function R(e,t,n){var i=0;return e.forEach((function(n,s){t.call(this,n,s,e)&&(e[i++]=n)}),n),e.length=i,e}var C={kind:"Field",name:{kind:"Name",value:"__typename"}};function D(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&D(t[e.name.value],t)}))}function M(e){return D(N(e)||function(e){(0,s.kG)("Document"===e.kind,49),(0,s.kG)(e.definitions.length<=1,50);var t=e.definitions[0];return(0,s.kG)("FragmentDefinition"===t.kind,51),t}(e),d(I(e)))?null:e}function x(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function j(e,t){var n=Object.create(null),s=[],r=Object.create(null),a=[],o=M((0,i.Vn)(t,{Variable:{enter:function(e,t,i){"VariableDefinition"!==i.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(x(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&s.push({name:e.value.name.value})})),t.selectionSet&&V(t.selectionSet).forEach((function(e){a.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){r[e.name.value]=!0}},Directive:{enter:function(t){if(x(e)(t))return null}}}));return o&&R(s,(function(e){return!!e.name&&!n[e.name]})).length&&(o=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return M((0,i.Vn)(t,{OperationDefinition:{enter:function(t){return(0,l.pi)((0,l.pi)({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var i=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(i+=1)})),1===i)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(s,o)),o&&R(a,(function(e){return!!e.name&&!r[e.name]})).length&&(o=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return M((0,i.Vn)(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(a,o)),o}function U(e){return(0,i.Vn)(w(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var i=e.selections;if(i)if(!i.some((function(e){return T(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var s=n;if(!(T(s)&&s.directives&&s.directives.some((function(e){return"export"===e.name.value}))))return(0,l.pi)((0,l.pi)({},e),{selections:(0,l.pr)(i,[C])})}}}}})}U.added=function(e){return e===C};var F={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||e.arguments.some((function(e){return"key"===e.name.value}))),t}};function H(e){return j([F],w(e))}function V(e){var t=[];return e.selections.forEach((function(e){(T(e)||_(e))&&e.selectionSet?V(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function B(e){return"query"===P(e).operation?e:(0,i.Vn)(e,{OperationDefinition:{enter:function(e){return(0,l.pi)((0,l.pi)({},e),{operation:"query"})}}})}function G(e){w(e);var t=j([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=(0,i.Vn)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return T(e)&&"__typename"===e.name.value})))return null}}})),t}var W=Object.prototype.hasOwnProperty;function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return K(e)}function K(e){var t=e[0]||{},n=e.length;if(n>1)for(var i=new $,s=1;s<n;++s)t=i.merge(t,e[s]);return t}function Y(e){return null!==e&&"object"==typeof e}var q=function(e,t,n){return this.merge(e[n],t[n])},$=function(){function e(e){void 0===e&&(e=q),this.reconciler=e,this.isObject=Y,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return Y(t)&&Y(e)?(Object.keys(t).forEach((function(s){if(W.call(e,s)){var r=e[s];if(t[s]!==r){var a=n.reconciler.apply(n,(0,l.pr)([e,t,s],i));a!==r&&((e=n.shallowCopyForMerge(e))[s]=a)}}else(e=n.shallowCopyForMerge(e))[s]=t[s]})),e):t},e.prototype.shallowCopyForMerge=function(e){return Y(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):(0,l.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}();var Z=n(49329),Q=n.n(Z);n(67121);Q().prototype["@@observable"]=function(){return this};var X=Object.prototype.toString;function J(e){return ee(e)}function ee(e,t){switch(X.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,i){n[i]=ee(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var i=Object.create(Object.getPrototypeOf(e));return t.set(e,i),Object.keys(e).forEach((function(n){i[n]=ee(e[n],t)})),i;default:return e}}function te(e){return e}function ne(e,t,n){var i=[];e.forEach((function(e){return e[t]&&i.push(e)})),i.forEach((function(e){return e[t](n)}))}function ie(e,t,n){return new(Q())((function(i){var s=i.next,r=i.error,a=i.complete,o=0,l=!1;function c(e,t){return e?function(t){++o,new Promise((function(n){return n(e(t))})).then((function(e){--o,s&&s.call(i,e),l&&d.complete()}),(function(e){--o,r&&r.call(i,e)}))}:function(e){return t&&t.call(i,e)}}var d={next:c(t,s),error:c(n,r),complete:function(){l=!0,o||a&&a.call(i)}},u=e.subscribe(d);return function(){return u.unsubscribe()}}))}function se(e){function t(t){Object.defineProperty(e,t,{value:Q()})}return"function"==typeof Symbol&&Symbol.species&&t(Symbol.species),t("@@species"),e}function re(e){return e&&"function"==typeof e.then}var ae=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],ne(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&Promise.resolve().then((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),ne(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?re(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),ne(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new(Q())(t)]),re(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return(0,l.ZT)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,i=function(){n||(n=!0,t.observers.delete(s),e())},s={next:i,error:i,complete:i},r=this.addCount;this.addObserver(s),this.addCount=r},t}(Q());function oe(e){return Array.isArray(e)&&e.length>0}function le(e){return e.errors&&e.errors.length>0||!1}se(ae);var ce="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product);function de(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var i=e[t];void 0!==i&&(n[t]=i)}))})),n}},99874:e=>{"use strict";function t(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}e.exports=t,t.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var s=this.sampleCurveX(n)-e;if(Math.abs(s)<t)return n;var r=this.sampleCurveDerivativeX(n);if(Math.abs(r)<1e-6)break;n-=s/r}var a=0,o=1;for(n=e,i=0;i<20&&(s=this.sampleCurveX(n),!(Math.abs(s-e)<t));i++)e>s?a=n:o=n,n=.5*(o-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}}},85925:(e,t,n)=>{"use strict";n(54443)},38772:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Z:()=>r});var i=n(67294),s=n(37262);function r(e){if(!e.prototype||!e.prototype.render)return e.__scuWrap||(e.__scuWrap=o(e,u));e.prototype.shouldComponentUpdate=c}function a(e){if(!e.prototype||!e.prototype.render)return e.__scuWrap||(e.__scuWrap=o(e,s.NK));e.prototype.shouldComponentUpdate=d}function o(e,t){class n extends l{}return n.prototype.renderChild=e,n.prototype.diffFunc=t,n}class l extends i.Component{shouldComponentUpdate(e){return this.diffFunc(e,this.props)}render(){return this.renderChild(this.props,this.context)}}function c(e,t){return u(e,this.props)||u(t,this.state)}function d(e,t){return u(e,this.props)||(0,s.NK)(t,this.state)}function u(e,t){for(const n in e)if(e[n]!==t[n])return!0;for(const n in t)if(!(n in e))return!0;return!1}},21924:(e,t,n)=>{"use strict";var i=n(10492),s=n(55559),r=s(i("String.prototype.indexOf"));e.exports=function(e,t){var n=i(e,!!t);return"function"==typeof n&&r(e,".prototype.")>-1?s(n):n}},55559:(e,t,n)=>{"use strict";var i=n(58612),s=n(10492),r=s("%Function.prototype.apply%"),a=s("%Function.prototype.call%"),o=s("%Reflect.apply%",!0)||i.call(a,r),l=s("%Object.getOwnPropertyDescriptor%",!0),c=s("%Object.defineProperty%",!0),d=s("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=o(i,a,arguments);if(l&&c){var n=l(t,"length");n.configurable&&c(t,"length",{value:1+d(0,e.length-(arguments.length-1))})}return t};var u=function(){return o(i,r,arguments)};c?c(e.exports,"apply",{value:u}):e.exports.apply=u},10492:(e,t,n)=>{"use strict";var i,s=SyntaxError,r=Function,a=TypeError,o=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},d=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,u=n(41405)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p=o("async function* () {}"),m=p?p.prototype:i,f=m?m.prototype:i,g="undefined"==typeof Uint8Array?i:h(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":o("async function () {}"),"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":f?h(f):i,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":o("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):i,"%Symbol%":u?Symbol:i,"%SyntaxError%":s,"%ThrowTypeError%":d,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(58612),E=n(17642),S=y.call(Function.call,Array.prototype.concat),O=y.call(Function.apply,Array.prototype.splice),T=y.call(Function.call,String.prototype.replace),_=y.call(Function.call,String.prototype.slice),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,A=function(e){var t=_(e,0,1),n=_(e,-1);if("%"===t&&"%"!==n)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var i=[];return T(e,w,(function(e,t,n,s){i[i.length]=n?T(s,N,"$1"):t||e})),i},I=function(e,t){var n,i=e;if(E(b,i)&&(i="%"+(n=b[i])[0]+"%"),E(v,i)){var r=v[i];if(void 0===r&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var n=A(e),i=n.length>0?n[0]:"",r=I("%"+i+"%",t),o=r.name,c=r.value,d=!1,u=r.alias;u&&(i=u[0],O(n,S([0,1],u)));for(var h=1,p=!0;h<n.length;h+=1){var m=n[h],f=_(m,0,1),g=_(m,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new s("property names with quotes must have matching quotes");if("constructor"!==m&&p||(d=!0),E(v,o="%"+(i+="."+m)+"%"))c=v[o];else if(null!=c){if(!(m in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var b=l(c,m);c=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[m]}else p=E(c,m),c=c[m];p&&!d&&(v[o]=c)}}return c}},94184:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var a=s.apply(null,n);a&&e.push(a)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var o in n)i.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},54098:function(e,t){var n="undefined"!=typeof self?self:this,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,s="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,a="ArrayBuffer"in e;if(a)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function f(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&s&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,n,i=p(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=m(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=d(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),u(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),u(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var n,i,s=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),b.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),s=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(s))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];S.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,n){return new Promise((function(i,r){var a=new y(e,n);if(a.signal&&a.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function l(){o.abort()}o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var s=n.join(":").trim();t.append(i,s)}})),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var s="response"in o?o.response:o.responseText;i(new S(s,n))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new t.DOMException("Aborted","AbortError"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&s&&(o.responseType="blob"),a.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",l),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",l)}),o.send(void 0===a._bodyInit?null:a._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=h,e.Request=y,e.Response=S),t.Headers=h,t.Request=y,t.Response=S,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},4289:(e,t,n)=>{"use strict";var i=n(82215),s="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),r=Object.prototype.toString,a=Array.prototype.concat,o=Object.defineProperty,l=o&&function(){var e={};try{for(var t in o(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,n,i){var s;(!(t in e)||"function"==typeof(s=i)&&"[object Function]"===r.call(s)&&i())&&(l?o(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},r=i(t);s&&(r=a.call(r,Object.getOwnPropertySymbols(t)));for(var o=0;o<r.length;o+=1)c(e,r[o],t[r[o]],n[r[o]])};d.supportsDescriptors=!!l,e.exports=d},35035:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,i="boolean"==typeof t.cycles&&t.cycles,s=t.cmp&&(n=t.cmp,function(e){return function(t,i){var s={key:t,value:e[t]},r={key:i,value:e[i]};return n(s,r)}}),r=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==r.indexOf(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var o=r.push(t)-1,l=Object.keys(t).sort(s&&s(t));for(a="",n=0;n<l.length;n++){var c=l[n],d=e(t[c]);d&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d)}return r.splice(o,1),"{"+a+"}"}}(e)}},94029:(e,t,n)=>{"use strict";var i=n(95320),s=Object.prototype.toString,r=Object.prototype.hasOwnProperty,a=function(e,t,n){for(var i=0,s=e.length;i<s;i++)r.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))},o=function(e,t,n){for(var i=0,s=e.length;i<s;i++)null==n?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)},l=function(e,t,n){for(var i in e)r.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))};e.exports=function(e,t,n){if(!i(t))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=n),"[object Array]"===s.call(e)?a(e,t,r):"string"==typeof e?o(e,t,r):l(e,t,r)}},17648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString,s="[object Function]";e.exports=function(e){var r=this;if("function"!=typeof r||i.call(r)!==s)throw new TypeError(t+r);for(var a,o=n.call(arguments,1),l=function(){if(this instanceof a){var t=r.apply(this,o.concat(n.call(arguments)));return Object(t)===t?t:this}return r.apply(e,o.concat(n.call(arguments)))},c=Math.max(0,r.length-o.length),d=[],u=0;u<c;u++)d.push("$"+u);if(a=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(l),r.prototype){var h=function(){};h.prototype=r.prototype,a.prototype=new h,h.prototype=null}return a}},58612:(e,t,n)=>{"use strict";var i=n(17648);e.exports=Function.prototype.bind||i},43517:(e,t,n)=>{"use strict";function i(e,t=!1){let n=0;for(let t=0,i=e.length;t<i;t++){const s=e[t],r=e[t===i-1?0:t+1];n+=s[0]*r[1],n-=r[0]*s[1]}return t?n/2:Math.abs(n/2)}n.d(t,{m:()=>i})},19810:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var i=n(53831),s=n(5696);function r(e,t){const[[n,i],[r,a]]=e,[[o,l],[c,d]]=t;if(n===o&&i===l)return!0;if(r===c&&a===d)return!0;if((0,s.s8)(e[0],t)||(0,s.s8)(e[1],t))return!0;if((0,s.s8)(t[0],e)||(0,s.s8)(t[1],e))return!0;const u=(d-l)*(r-n)-(c-o)*(a-i);if(0===u)return!1;const h=i-l,p=n-o,m=((c-o)*h-(d-l)*p)/u,f=((r-n)*h-(a-i)*p)/u;return m>0&&m<1&&f>0&&f<1}function a(e,t){let n=!1;const a=(0,i.x)(t);for(let t=0,i=a.length-1;t<i;t++){const i=a[t],o=a[t+1];if(r(e,[i,o])||(0,s.s8)(i,e)&&(0,s.s8)(o,e)){n=!0;break}}return n}},5696:(e,t,n)=>{"use strict";function i(e){return Math.sqrt(Math.pow(e[1][0]-e[0][0],2)+Math.pow(e[1][1]-e[0][1],2))}function s(e,t,n=0){const s=i(t);return function(e,t,n=0){return Math.abs((i=e,s=t[0],r=t[1],(i[0]-r[0])*(s[1]-r[1])-(i[1]-r[1])*(s[0]-r[0])))<=n;var i,s,r}(e,t,n)&&i([t[0],e])<=s&&i([t[1],e])<=s}n.d(t,{s8:()=>s})},18810:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var i=n(53831),s=n(19810);function r(e,t){let n=e[0],i=e[1],s=!1;for(let e=0,r=t.length-1;e<t.length;r=e++){const a=t[e][0],o=t[e][1],l=t[r][0],c=t[r][1];o>i!=c>i&&n<(l-a)*(i-o)/(c-o)+a&&(s=!s)}return s}function a(e,t){let n=!0;const a=(0,i.x)(e);for(let e=0,i=a.length-1;e<i;e++){const i=a[e];if(!r(i,t)){n=!1;break}if((0,s.t)([i,a[e+1]],t)){n=!1;break}}return n}},53831:(e,t,n)=>{"use strict";function i(e){return function(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]}(e)?e:[...e,e[0]]}n.d(t,{x:()=>i})},50972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,i.default)(0),e.prototype.inspect=t,s.default&&(e.prototype[s.default]=t)};var i=r(n(7706)),s=r(n(18554));function r(e){return e&&e.__esModule?e:{default:e}}},8002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a(e,[])};var i,s=(i=n(18554))&&i.__esModule?i:{default:i};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){switch(r(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),i=function(e){var t=e[String(s.default)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==i){var r=i.call(e);if(r!==e)return"string"==typeof r?r:a(r,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),i=e.length-n,s=[],r=0;r<n;++r)s.push(a(e[r],t));1===i?s.push("... 1 more item"):i>1&&s.push("... ".concat(i," more items"));return"["+s.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+a(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},7706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}},18554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=n},91807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var i,s=(i=n(50972))&&i.__esModule?i:{default:i};var r=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();t.Location=r,(0,s.default)(r);var a=function(){function e(e,t,n,i,s,r,a){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=s,this.value=a,this.prev=r,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();t.Token=a,(0,s.default)(a)},80285:(e,t,n)=>{"use strict";t.Vn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=void 0,c=Array.isArray(e),d=[e],u=-1,h=[],p=void 0,m=void 0,f=void 0,g=[],v=[],b=e;do{var y=++u===d.length,E=y&&0!==h.length;if(y){if(m=0===v.length?void 0:g[g.length-1],p=f,f=v.pop(),E){if(c)p=p.slice();else{for(var S={},O=0,T=Object.keys(p);O<T.length;O++){var _=T[O];S[_]=p[_]}p=S}for(var w=0,N=0;N<h.length;N++){var A=h[N][0],I=h[N][1];c&&(A-=w),c&&null===I?(p.splice(A,1),w++):p[A]=I}}u=i.index,d=i.keys,h=i.edits,c=i.inArray,i=i.prev}else{if(m=f?c?u:d[u]:void 0,null==(p=f?f[m]:b))continue;f&&g.push(m)}var k,P=void 0;if(!Array.isArray(p)){if(!(0,r.isNode)(p))throw new Error("Invalid AST Node: ".concat((0,s.default)(p),"."));var L=l(t,p.kind,y);if(L){if((P=L.call(t,p,m,f,g,v))===o)break;if(!1===P){if(!y){g.pop();continue}}else if(void 0!==P&&(h.push([m,P]),!y)){if(!(0,r.isNode)(P)){g.pop();continue}p=P}}}if(void 0===P&&E&&h.push([m,p]),y)g.pop();else i={inArray:c,index:u,keys:d,edits:h,prev:i},c=Array.isArray(p),d=c?p:null!==(k=n[p.kind])&&void 0!==k?k:[],u=-1,h=[],f&&v.push(f),f=p}while(void 0!==i);0!==h.length&&(b=h[h.length-1][1]);return b};var i,s=(i=n(8002))&&i.__esModule?i:{default:i},r=n(91807);var a={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};var o=Object.freeze({});function l(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var s=n?i.leave:i.enter;if("function"==typeof s)return s}else{var r=n?e.leave:e.enter;if(r){if("function"==typeof r)return r;var a=r[t];if("function"==typeof a)return a}}}},41405:(e,t,n)=>{"use strict";var i=n.g.Symbol,s=n(55419);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&s())))}},55419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},17642:(e,t,n)=>{"use strict";var i=n(58612);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},95320:e=>{"use strict";var t,n,i=Function.prototype.toString,s="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof s&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},s((function(){throw 42}),null,t)}catch(e){e!==n&&(s=null)}else s=null;var r=/^\s*class\b/,a=function(e){try{var t=i.call(e);return r.test(t)}catch(e){return!1}},o=Object.prototype.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=s?function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{s(e,null,t)}catch(e){if(e!==n)return!1}return!a(e)}:function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(l)return function(e){try{return!a(e)&&(i.call(e),!0)}catch(e){return!1}}(e);if(a(e))return!1;var t=o.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},54443:(e,t,n)=>{"use strict";n.r(t)},11213:()=>{},54078:(e,t,n)=>{"use strict";var i=n(94029),s=n(42473),r=n(17642),a=n(46057),o=function(e){s(!1,e)},l=String.prototype.replace,c=String.prototype.split,d="||||",u=function(e){var t=e%100,n=t%10;return 11!==t&&1===n?0:2<=n&&n<=4&&!(t>=12&&t<=14)?1:2},h={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:u,chinese:function(){return 0},croatian:u,french:function(e){return e>1?1:0},german:function(e){return 1!==e?1:0},russian:u,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function p(e,t){var n,s,r=(n=e.pluralTypeToLanguages,s={},i(n,(function(e,t){i(e,(function(e){s[e]=t}))})),s);return r[t]||r[c.call(t,/-/,1)[0]]||r.en}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var f=/%\{(.*?)\}/g;function g(e,t,n,i,s){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var o=e,u=i||f,m=s||h,g="number"==typeof t?{smart_count:t}:t;if(null!=g.smart_count&&o){var v=c.call(o,d);o=a(v[function(e,t,n){return e.pluralTypes[p(e,t)](n)}(m,n||"en",g.smart_count)]||v[0])}return o=l.call(o,u,(function(e,t){return r(g,t)&&null!=g[t]?g[t]:e}))}function v(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?g:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||o,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",n=e&&e.suffix||"}";if(t===d||n===d)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(m(t)+"(.*?)"+m(n),"g")}(t.interpolation),this.pluralRules=t.pluralRules||h}v.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},v.prototype.extend=function(e,t){i(e,(function(e,n){var i=t?t+"."+n:n;"object"==typeof e?this.extend(e,i):this.phrases[i]=e}),this)},v.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:i(e,(function(e,n){var i=t?t+"."+n:n;"object"==typeof e?this.unset(e,i):delete this.phrases[i]}),this)},v.prototype.clear=function(){this.phrases={}},v.prototype.replace=function(e){this.clear(),this.extend(e)},v.prototype.t=function(e,t){var n,i,s=null==t?{}:t;if("string"==typeof this.phrases[e])n=this.phrases[e];else if("string"==typeof s._)n=s._;else if(this.onMissingKey){i=(0,this.onMissingKey)(e,s,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+e+'"'),i=e;return"string"==typeof n&&(i=g(n,s,this.currentLocale,this.tokenRegex,this.pluralRules)),i},v.prototype.has=function(e){return r(this.phrases,e)},v.transformPhrase=function(e,t,n){return g(e,t,n)},e.exports=v},18987:(e,t,n)=>{"use strict";var i;if(!Object.keys){var s=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=n(21414),o=Object.prototype.propertyIsEnumerable,l=!o.call({toString:null},"toString"),c=o.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&s.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();i=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===r.call(e),i=a(e),o=t&&"[object String]"===r.call(e),h=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var m=c&&n;if(o&&e.length>0&&!s.call(e,0))for(var f=0;f<e.length;++f)h.push(String(f));if(i&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var v in e)m&&"prototype"===v||!s.call(e,v)||h.push(String(v));if(l)for(var b=function(e){if("undefined"==typeof window||!p)return u(e);try{return u(e)}catch(e){return!1}}(e),y=0;y<d.length;++y)b&&"constructor"===d[y]||!s.call(e,d[y])||h.push(d[y]);return h}}e.exports=i},82215:(e,t,n)=>{"use strict";var i=Array.prototype.slice,s=n(21414),r=Object.keys,a=r?function(e){return r(e)}:n(18987),o=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return s(e)?o(i.call(e)):o(e)}):Object.keys=a;return Object.keys||a},e.exports=a},21414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),i}},17141:(e,t,n)=>{var i;!function(s,r){var a={};function o(e){return function(){var t={method:e},n=Array.prototype.slice.call(arguments);/^get/.test(e)?(a.assert(n.length>0,"Get methods require a callback."),n.unshift(t)):(/^set/.test(e)&&(a.assert(0!==n.length,"Set methods require a value."),t.value=n[0]),n=[t]),this.send.apply(this,n)}}a.DEBUG=!1,a.VERSION="0.0.11",a.CONTEXT="player.js",a.POST_MESSAGE=!!s.postMessage,a.origin=function(e){return"//"===e.substr(0,2)&&(e=s.location.protocol+e),e.split("/").slice(0,3).join("/")},a.addEvent=function(e,t,n){e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},a.log=function(){a.log.history=a.log.history||[],a.log.history.push(arguments),s.console&&a.DEBUG&&s.console.log(Array.prototype.slice.call(arguments))},a.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},a.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},a.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isNone=function(e){return null==e},a.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.indexOf=function(e,t){if(null==e)return-1;var n=0,i=e.length;if(Array.prototype.IndexOf&&e.indexOf===Array.prototype.IndexOf)return e.indexOf(t);for(;n<i;n++)if(e[n]===t)return n;return-1},a.assert=function(e,t){if(!e)throw t||"Player.js Assert Failed"},a.Keeper=function(){this.init()},a.Keeper.prototype.init=function(){this.data={}},a.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},a.Keeper.prototype.has=function(e,t){if(!this.data.hasOwnProperty(e))return!1;if(a.isNone(t))return!0;for(var n=this.data[e],i=0;i<n.length;i++)if(n[i].id===t)return!0;return!1},a.Keeper.prototype.add=function(e,t,n,i,s){var r={id:e,event:t,cb:n,ctx:i,one:s};this.has(t)?this.data[t].push(r):this.data[t]=[r]},a.Keeper.prototype.execute=function(e,t,n,i){if(!this.has(e,t))return!1;for(var s=[],r=[],o=0;o<this.data[e].length;o++){var l=this.data[e][o];a.isNone(t)||!a.isNone(t)&&l.id===t?(r.push({cb:l.cb,ctx:l.ctx?l.ctx:i,data:n}),!1===l.one&&s.push(l)):s.push(l)}0===s.length?delete this.data[e]:this.data[e]=s;for(var c=0;c<r.length;c++){var d=r[c];d.cb.call(d.ctx,d.data)}},a.Keeper.prototype.on=function(e,t,n,i){this.add(e,t,n,i,!1)},a.Keeper.prototype.one=function(e,t,n,i){this.add(e,t,n,i,!0)},a.Keeper.prototype.off=function(e,t){var n=[];if(!this.data.hasOwnProperty(e))return n;for(var i=[],s=0;s<this.data[e].length;s++){var r=this.data[e][s];a.isNone(t)||r.cb===t?a.isNone(r.id)||n.push(r.id):i.push(r)}return 0===i.length?delete this.data[e]:this.data[e]=i,n},a.Player=function(e,t){if(!(this instanceof a.Player))return new a.Player(e,t);this.init(e,t)},a.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},a.EVENTS.all=function(){var e=[];for(var t in a.EVENTS)a.has(a.EVENTS,t)&&a.isString(a.EVENTS[t])&&e.push(a.EVENTS[t]);return e},a.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},a.METHODS.all=function(){var e=[];for(var t in a.METHODS)a.has(a.METHODS,t)&&a.isString(a.METHODS[t])&&e.push(a.METHODS[t]);return e},a.READIED=[],a.Player.prototype.init=function(e,t){var n=this;a.isString(e)&&(e=r.getElementById(e)),this.elem=e,a.assert("IFRAME"===e.nodeName,'playerjs.Player constructor requires an Iframe, got "'+e.nodeName+'"'),a.assert(e.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=a.origin(e.src),this.keeper=new a.Keeper,this.isReady=!1,this.queue=[],this.events=a.EVENTS.all(),this.methods=a.METHODS.all(),a.POST_MESSAGE?a.addEvent(s,"message",(function(e){n.receive(e)})):a.log("Post Message is not Available."),a.indexOf(a.READIED,e.src)>-1?n.loaded=!0:this.elem.onload=function(){n.loaded=!0}},a.Player.prototype.send=function(e,t,n){if(e.context=a.CONTEXT,e.version=a.VERSION,t){var i=this.keeper.getUUID();e.listener=i,this.keeper.one(i,e.method,t,n)}return this.isReady||"ready"===e.value?(a.log("Player.send",e,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(e),this.origin),!0):(a.log("Player.queue",e),this.queue.push(e),!1)},a.Player.prototype.receive=function(e){if(a.log("Player.receive",e),e.origin!==this.origin)return!1;var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==a.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src===this.elem.src&&this.ready(t),this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},a.Player.prototype.ready=function(e){if(!0===this.isReady)return!1;e.value.events&&(this.events=e.value.events),e.value.methods&&(this.methods=e.value.methods),this.isReady=!0,this.loaded=!0;for(var t=0;t<this.queue.length;t++){var n=this.queue[t];a.log("Player.dequeue",n),"ready"===e.event&&this.keeper.execute(n.event,n.listener,!0,this),this.send(n)}this.queue=[]},a.Player.prototype.on=function(e,t,n){var i=this.keeper.getUUID();return"ready"===e?this.keeper.one(i,e,t,n):this.keeper.on(i,e,t,n),this.send({method:"addEventListener",value:e,listener:i}),!0},a.Player.prototype.off=function(e,t){var n=this.keeper.off(e,t);if(a.log("Player.off",n),n.length>0)for(var i in n)return this.send({method:"removeEventListener",value:e,listener:n[i]}),!0;return!1},a.Player.prototype.supports=function(e,t){a.assert(a.indexOf(["method","event"],e)>-1,'evtOrMethod needs to be either "event" or "method" got '+e),t=a.isArray(t)?t:[t];for(var n="event"===e?this.events:this.methods,i=0;i<t.length;i++)if(-1===a.indexOf(n,t[i]))return!1;return!0};for(var l=0,c=a.METHODS.all().length;l<c;l++){var d=a.METHODS.all()[l];a.Player.prototype.hasOwnProperty(d)||(a.Player.prototype[d]=o(d))}a.addEvent(s,"message",(function(e){var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==a.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src&&a.READIED.push(t.value.src)})),a.Receiver=function(e,t){this.init(e,t)},a.Receiver.prototype.init=function(e,t){var n=this;this.isReady=!1,this.origin=a.origin(r.referrer),this.methods={},this.supported={events:e||a.EVENTS.all(),methods:t||a.METHODS.all()},this.eventListeners={},this.reject=!(s.self!==s.top&&a.POST_MESSAGE),this.reject||a.addEvent(s,"message",(function(e){n.receive(e)}))},a.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var t={};if(a.isObject(e.data))t=e.data;else try{t=s.JSON.parse(e.data)}catch(e){a.log("JSON Parse Error",e)}if(a.log("Receiver.receive",e,t),!t.method)return!1;if(t.context!==a.CONTEXT)return!1;if(-1===a.indexOf(a.METHODS.all(),t.method))return this.emit("error",{code:2,msg:'Invalid Method "'+t.method+'"'}),!1;var n=a.isNone(t.listener)?null:t.listener;if("addEventListener"===t.method)this.eventListeners.hasOwnProperty(t.value)?-1===a.indexOf(this.eventListeners[t.value],n)&&this.eventListeners[t.value].push(n):this.eventListeners[t.value]=[n],"ready"===t.value&&this.isReady&&this.ready();else if("removeEventListener"===t.method){if(this.eventListeners.hasOwnProperty(t.value)){var i=a.indexOf(this.eventListeners[t.value],n);i>-1&&this.eventListeners[t.value].splice(i,1),0===this.eventListeners[t.value].length&&delete this.eventListeners[t.value]}}else this.get(t.method,t.value,n)},a.Receiver.prototype.get=function(e,t,n){var i=this;if(!this.methods.hasOwnProperty(e))return this.emit("error",{code:3,msg:'Method Not Supported"'+e+'"'}),!1;var s=this.methods[e];if("get"===e.substr(0,3)){s.call(this,(function(t){i.send(e,t,n)}))}else s.call(this,t)},a.Receiver.prototype.on=function(e,t){this.methods[e]=t},a.Receiver.prototype.send=function(e,t,n){if(a.log("Receiver.send",e,t,n),this.reject)return a.log("Receiver.send.reject",e,t,n),!1;var i={context:a.CONTEXT,version:a.VERSION,event:e};a.isNone(t)||(i.value=t),a.isNone(n)||(i.listener=n);var r=JSON.stringify(i);s.parent.postMessage(r,""===this.origin?"*":this.origin)},a.Receiver.prototype.emit=function(e,t){if(!this.eventListeners.hasOwnProperty(e))return!1;a.log("Instance.emit",e,t,this.eventListeners[e]);for(var n=0;n<this.eventListeners[e].length;n++){var i=this.eventListeners[e][n];this.send(e,t,i)}return!0},a.Receiver.prototype.ready=function(){a.log("Receiver.ready"),this.isReady=!0;var e={src:s.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},a.HTML5Adapter=function(e){if(!(this instanceof a.HTML5Adapter))return new a.HTML5Adapter(e);this.init(e)},a.HTML5Adapter.prototype.init=function(e){a.assert(e,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new a.Receiver;e.addEventListener("playing",(function(){t.emit("play")})),e.addEventListener("pause",(function(){t.emit("pause")})),e.addEventListener("ended",(function(){t.emit("ended")})),e.addEventListener("timeupdate",(function(){t.emit("timeupdate",{seconds:e.currentTime,duration:e.duration})})),e.addEventListener("progress",(function(){t.emit("buffered",{percent:e.buffered.length})})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(100*e.volume)})),t.on("setVolume",(function(t){e.volume=t/100})),t.on("mute",(function(){e.muted=!0})),t.on("unmute",(function(){e.muted=!1})),t.on("getMuted",(function(t){t(e.muted)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},a.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},a.JWPlayerAdapter=function(e){if(!(this instanceof a.JWPlayerAdapter))return new a.JWPlayerAdapter(e);this.init(e)},a.JWPlayerAdapter.prototype.init=function(e){a.assert(e,"playerjs.JWPlayerAdapter requires a player object");var t=this.receiver=new a.Receiver;this.looped=!1,e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("time",(function(e){var n=e.position,i=e.duration;if(!n||!i)return!1;var s={seconds:n,duration:i};t.emit("timeupdate",s)}));var n=this;e.on("complete",(function(){!0===n.looped?e.seek(0):t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play(!0)})),t.on("pause",(function(){e.pause(!0)})),t.on("getPaused",(function(t){t(e.getState().toLowerCase()!=="PLAYING".toLowerCase())})),t.on("getCurrentTime",(function(t){t(e.getPosition())})),t.on("setCurrentTime",(function(t){e.seek(t)})),t.on("getDuration",(function(t){t(e.getDuration())})),t.on("getVolume",(function(t){t(e.getVolume())})),t.on("setVolume",(function(t){e.setVolume(t)})),t.on("mute",(function(){e.setMute(!0)})),t.on("unmute",(function(){e.setMute(!1)})),t.on("getMuted",(function(t){t(!0===e.getMute())})),t.on("getLoop",(function(e){e(this.looped)}),this),t.on("setLoop",(function(e){this.looped=e}),this)},a.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},a.MockAdapter=function(){if(!(this instanceof a.MockAdapter))return new a.MockAdapter;this.init()},a.MockAdapter.prototype.init=function(){var e={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){e.interval=setInterval((function(){e.currentTime+=.25,e.timeupdate({seconds:e.currentTime,duration:e.duration})}),250),e.playing=!0},pause:function(){clearInterval(e.interval),e.playing=!1}},t=this.receiver=new a.Receiver;t.on("play",(function(){var t=this;e.play(),this.emit("play"),e.timeupdate=function(e){t.emit("timeupdate",e)}})),t.on("pause",(function(){e.pause(),this.emit("pause")})),t.on("getPaused",(function(t){t(!e.playing)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(e.volume)})),t.on("setVolume",(function(t){e.volume=t})),t.on("mute",(function(){e.mute=!0})),t.on("unmute",(function(){e.mute=!1})),t.on("getMuted",(function(t){t(e.mute)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},a.MockAdapter.prototype.ready=function(){this.receiver.ready()},a.VideoJSAdapter=function(e){if(!(this instanceof a.VideoJSAdapter))return new a.VideoJSAdapter(e);this.init(e)},a.VideoJSAdapter.prototype.init=function(e){a.assert(e,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new a.Receiver;e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("timeupdate",(function(n){var i=e.currentTime(),s=e.duration();if(!i||!s)return!1;var r={seconds:i,duration:s};t.emit("timeupdate",r)})),e.on("ended",(function(){t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused())})),t.on("getCurrentTime",(function(t){t(e.currentTime())})),t.on("setCurrentTime",(function(t){e.currentTime(t)})),t.on("getDuration",(function(t){t(e.duration())})),t.on("getVolume",(function(t){t(100*e.volume())})),t.on("setVolume",(function(t){e.volume(t/100)})),t.on("mute",(function(){e.volume(0)})),t.on("unmute",(function(){e.volume(1)})),t.on("getMuted",(function(t){t(0===e.volume())})),t.on("getLoop",(function(t){t(e.loop())})),t.on("setLoop",(function(t){e.loop(t)}))},a.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}(window,document)},4061:(e,t,n)=>{"use strict";var i=n(43842);function s(e,t,n){var s,o,l,c;t=t||1;for(var d=0;d<e[0].length;d++){var u=e[0][d];(!d||u[0]<s)&&(s=u[0]),(!d||u[1]<o)&&(o=u[1]),(!d||u[0]>l)&&(l=u[0]),(!d||u[1]>c)&&(c=u[1])}var h=l-s,p=c-o,m=Math.min(h,p),f=m/2;if(0===m){var g=[s,o];return g.distance=0,g}for(var v=new i(void 0,r),b=s;b<l;b+=m)for(var y=o;y<c;y+=m)v.push(new a(b+f,y+f,f,e));var E=function(e){for(var t=0,n=0,i=0,s=e[0],r=0,o=s.length,l=o-1;r<o;l=r++){var c=s[r],d=s[l],u=c[0]*d[1]-d[0]*c[1];n+=(c[0]+d[0])*u,i+=(c[1]+d[1])*u,t+=3*u}return 0===t?new a(s[0][0],s[0][1],0,e):new a(n/t,i/t,0,e)}(e),S=new a(s+h/2,o+p/2,0,e);S.d>E.d&&(E=S);for(var O=v.length;v.length;){var T=v.pop();T.d>E.d&&(E=T,n&&console.log("found best %d after %d probes",Math.round(1e4*T.d)/1e4,O)),T.max-E.d<=t||(f=T.h/2,v.push(new a(T.x-f,T.y-f,f,e)),v.push(new a(T.x+f,T.y-f,f,e)),v.push(new a(T.x-f,T.y+f,f,e)),v.push(new a(T.x+f,T.y+f,f,e)),O+=4)}n&&(console.log("num probes: "+O),console.log("best distance: "+E.d));var _=[E.x,E.y];return _.distance=E.d,_}function r(e,t){return t.max-e.max}function a(e,t,n,i){this.x=e,this.y=t,this.h=n,this.d=function(e,t,n){for(var i=!1,s=1/0,r=0;r<n.length;r++)for(var a=n[r],l=0,c=a.length,d=c-1;l<c;d=l++){var u=a[l],h=a[d];u[1]>t!=h[1]>t&&e<(h[0]-u[0])*(t-u[1])/(h[1]-u[1])+u[0]&&(i=!i),s=Math.min(s,o(e,t,u,h))}return 0===s?0:(i?1:-1)*Math.sqrt(s)}(e,t,i),this.max=this.d+this.h*Math.SQRT2}function o(e,t,n,i){var s=n[0],r=n[1],a=i[0]-s,o=i[1]-r;if(0!==a||0!==o){var l=((e-s)*a+(t-r)*o)/(a*a+o*o);l>1?(s=i[0],r=i[1]):l>0&&(s+=a*l,r+=o*l)}return(a=e-s)*a+(o=t-r)*o}i.default&&(i=i.default),e.exports=s,e.exports.default=s},62587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,i,s){n=n||"&",i=i||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(n);var o=1e3;s&&"number"==typeof s.maxKeys&&(o=s.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var c=0;c<l;++c){var d,u,h,p,m=e[c].replace(a,"%20"),f=m.indexOf(i);f>=0?(d=m.substr(0,f),u=m.substr(f+1)):(d=m,u=""),h=decodeURIComponent(d),p=decodeURIComponent(u),t(r,h)?Array.isArray(r[h])?r[h].push(p):r[h]=[r[h],p]:r[h]=p}return r}},12361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,s){return n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(s){var r=encodeURIComponent(t(s))+i;return Array.isArray(e[s])?e[s].map((function(e){return r+encodeURIComponent(t(e))})).join(n):r+encodeURIComponent(t(e[s]))})).join(n):s?encodeURIComponent(t(s))+i+encodeURIComponent(t(e)):""}},17673:(e,t,n)=>{"use strict";t.decode=t.parse=n(62587),t.encode=t.stringify=n(12361)},82582:function(e){e.exports=function(){"use strict";function e(e,i,s,r,a){!function e(n,i,s,r,a){for(;r>s;){if(r-s>600){var o=r-s+1,l=i-s+1,c=Math.log(o),d=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*d*(o-d)/o)*(l-o/2<0?-1:1);e(n,i,Math.max(s,Math.floor(i-l*d/o+u)),Math.min(r,Math.floor(i+(o-l)*d/o+u)),a)}var h=n[i],p=s,m=r;for(t(n,s,i),a(n[r],h)>0&&t(n,s,r);p<m;){for(t(n,p,m),p++,m--;a(n[p],h)<0;)p++;for(;a(n[m],h)>0;)m--}0===a(n[s],h)?t(n,s,m):t(n,++m,r),m<=i&&(s=m+1),i<=m&&(r=m-1)}}(e,i,s||0,r||e.length-1,a||n)}function t(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function n(e,t){return e<t?-1:e>t?1:0}var i=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function s(e,t,n){if(!n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function r(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,i,s){s||(s=m(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var r=t;r<n;r++){var a=e.children[r];o(s,e.leaf?i(a):a)}return s}function o(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function u(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(t,n,i,s,r){for(var a=[n,i];a.length;)if(!((i=a.pop())-(n=a.pop())<=s)){var o=n+Math.ceil((i-n)/s/2)*s;e(t,o,n,i,r),a.push(n,o,o,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(e){var t=this.data,n=[];if(!p(e,t))return n;for(var i=this.toBBox,s=[];t;){for(var r=0;r<t.children.length;r++){var a=t.children[r],o=t.leaf?i(a):a;p(e,o)&&(t.leaf?n.push(a):h(e,o)?this._all(a,n):s.push(a))}t=s.pop()}return n},i.prototype.collides=function(e){var t=this.data;if(!p(e,t))return!1;for(var n=[];t;){for(var i=0;i<t.children.length;i++){var s=t.children[i],r=t.leaf?this.toBBox(s):s;if(p(e,r)){if(t.leaf||h(e,r))return!0;n.push(s)}}t=n.pop()}return!1},i.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},i.prototype.clear=function(){return this.data=m([]),this},i.prototype.remove=function(e,t){if(!e)return this;for(var n,i,r,a=this.data,o=this.toBBox(e),l=[],c=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=c.pop(),r=!0),a.leaf){var d=s(e,a.children,t);if(-1!==d)return a.children.splice(d,1),l.push(a),this._condense(l),this}r||a.leaf||!h(a,o)?i?(n++,a=i.children[n],r=!1):a=null:(l.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},i.prototype.toBBox=function(e){return e},i.prototype.compareMinX=function(e,t){return e.minX-t.minX},i.prototype.compareMinY=function(e,t){return e.minY-t.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(e){return this.data=e,this},i.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},i.prototype._build=function(e,t,n,i){var s,a=n-t+1,o=this._maxEntries;if(a<=o)return r(s=m(e.slice(t,n+1)),this.toBBox),s;i||(i=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,i-1))),(s=m([])).leaf=!1,s.height=i;var l=Math.ceil(a/o),c=l*Math.ceil(Math.sqrt(o));f(e,t,n,c,this.compareMinX);for(var d=t;d<=n;d+=c){var u=Math.min(d+c-1,n);f(e,d,u,l,this.compareMinY);for(var h=d;h<=u;h+=l){var p=Math.min(h+l-1,u);s.children.push(this._build(e,h,p,i-1))}}return r(s,this.toBBox),s},i.prototype._chooseSubtree=function(e,t,n,i){for(;i.push(t),!t.leaf&&i.length-1!==n;){for(var s=1/0,r=1/0,a=void 0,o=0;o<t.children.length;o++){var l=t.children[o],c=d(l),u=(h=e,p=l,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-c);u<r?(r=u,s=c<s?c:s,a=l):u===r&&c<s&&(s=c,a=l)}t=a||t.children[0]}var h,p;return t},i.prototype._insert=function(e,t,n){var i=n?e:this.toBBox(e),s=[],r=this._chooseSubtree(i,this.data,t,s);for(r.children.push(e),o(r,i);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(i,s,t)},i.prototype._split=function(e,t){var n=e[t],i=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,i);var a=this._chooseSplitIndex(n,s,i),o=m(n.children.splice(a,n.children.length-a));o.height=n.height,o.leaf=n.leaf,r(n,this.toBBox),r(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)},i.prototype._splitRoot=function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(e,t,n){for(var i,s,r,o,l,c,u,h=1/0,p=1/0,m=t;m<=n-t;m++){var f=a(e,0,m,this.toBBox),g=a(e,m,n,this.toBBox),v=(s=f,r=g,o=void 0,l=void 0,c=void 0,u=void 0,o=Math.max(s.minX,r.minX),l=Math.max(s.minY,r.minY),c=Math.min(s.maxX,r.maxX),u=Math.min(s.maxY,r.maxY),Math.max(0,c-o)*Math.max(0,u-l)),b=d(f)+d(g);v<h?(h=v,i=m,p=b<p?b:p):v===h&&b<p&&(p=b,i=m)}return i||n-t},i.prototype._chooseSplitAxis=function(e,t,n){var i=e.leaf?this.compareMinX:l,s=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,s)&&e.children.sort(i)},i.prototype._allDistMargin=function(e,t,n,i){e.children.sort(i);for(var s=this.toBBox,r=a(e,0,t,s),l=a(e,n-t,n,s),c=u(r)+u(l),d=t;d<n-t;d++){var h=e.children[d];o(r,e.leaf?s(h):h),c+=u(r)}for(var p=n-t-1;p>=t;p--){var m=e.children[p];o(l,e.leaf?s(m):m),c+=u(l)}return c},i.prototype._adjustParentBBoxes=function(e,t,n){for(var i=n;i>=0;i--)o(t[i],e)},i.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():r(e[t],this.toBBox)},i}()},64448:(e,t,n)=>{"use strict";var i=n(67294),s=n(63840);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,n,i,s,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,i){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,i)&&(n=null),i||null===s?function(e){return!!u.call(m,e)||!u.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,i=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var C=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var x,j=Object.assign;function U(e){if(void 0===x)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return"\n"+x+e}var F=!1;function H(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),r=i.stack.split("\n"),a=s.length-1,o=r.length-1;1<=a&&0<=o&&s[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==r[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==r[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case O:return"Portal";case w:return"Profiler";case _:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=z(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(i&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function re(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),s=fe(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,Te=null,_e=null;function we(e){if(e=ps(e)){if("function"!=typeof Oe)throw Error(r(280));var t=e.stateNode;t&&(t=fs(t),Oe(e.stateNode,e.type,t))}}function Ne(e){Te?_e?_e.push(e):_e=[e]:Te=e}function Ae(){if(Te){var e=Te,t=_e;if(_e=Te=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function Ie(e,t){return e(t)}function ke(){}var Pe=!1;function Le(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Te||null!==_e)&&(ke(),Ae())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var i=fs(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ce=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ce=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Ce=!1}function Me(e,t,n,i,s,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var xe=!1,je=null,Ue=!1,Fe=null,He={onError:function(e){xe=!0,je=e}};function Ve(e,t,n,i,s,r,a,o,l){xe=!1,je=null,Me.apply(He,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(r(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(i=s.return)){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return We(s),e;if(a===i)return We(s),t;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ye=s.unstable_scheduleCallback,qe=s.unstable_cancelCallback,$e=s.unstable_shouldYield,Ze=s.unstable_requestPaint,Qe=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,it=s.unstable_IdlePriority,st=null,rt=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?i=ut(o):0!==(r&=a)&&(i=ut(r))}else 0!==(a=n&~s)?i=ut(a):0!==r&&(i=ut(r));if(0===i)return 0;if(0!==t&&t!==i&&0==(t&s)&&((s=i&-i)>=(r=t&-t)||16===s&&0!=(4194240&r)))return t;if(0!=(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)s=1<<(n=31-at(t)),i|=e[n],t&=~s;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Et,St,Ot,Tt,_t,wt=!1,Nt=[],At=null,It=null,kt=null,Pt=new Map,Lt=new Map,Rt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Mt(e,t,n,i,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=ps(t))&&St(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xt(e){var t=hs(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void _t(e.priority,(function(){Ot(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ps(n))&&St(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Ee=i,n.target.dispatchEvent(i),Ee=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Ft(){wt=!1,null!==At&&jt(At)&&(At=null),null!==It&&jt(It)&&(It=null),null!==kt&&jt(kt)&&(kt=null),Pt.forEach(Ut),Lt.forEach(Ut)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,wt||(wt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return Ht(t,e)}if(0<Nt.length){Ht(Nt[0],e);for(var n=1;n<Nt.length;n++){var i=Nt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==At&&Ht(At,e),null!==It&&Ht(It,e),null!==kt&&Ht(kt,e),Pt.forEach(t),Lt.forEach(t),n=0;n<Rt.length;n++)(i=Rt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)xt(n),null===n.blockedOn&&Rt.shift()}var Bt=E.ReactCurrentBatchConfig;function Gt(e,t,n,i){var s=bt,r=Bt.transition;Bt.transition=null;try{bt=1,zt(e,t,n,i)}finally{bt=s,Bt.transition=r}}function Wt(e,t,n,i){var s=bt,r=Bt.transition;Bt.transition=null;try{bt=4,zt(e,t,n,i)}finally{bt=s,Bt.transition=r}}function zt(e,t,n,i){var s=Yt(e,t,n,i);if(null===s)Fi(e,t,i,Kt,n),Dt(e,i);else if(function(e,t,n,i,s){switch(t){case"focusin":return At=Mt(At,e,t,n,i,s),!0;case"dragenter":return It=Mt(It,e,t,n,i,s),!0;case"mouseover":return kt=Mt(kt,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Pt.set(r,Mt(Pt.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Lt.set(r,Mt(Lt.get(r)||null,e,t,n,i,s)),!0}return!1}(s,e,t,n,i))i.stopPropagation();else if(Dt(e,i),4&t&&-1<Ct.indexOf(e)){for(;null!==s;){var r=ps(s);if(null!==r&&Et(r),null===(r=Yt(e,t,n,i))&&Fi(e,t,i,Kt,n),r===s)break;s=r}null!==s&&i.stopPropagation()}else Fi(e,t,i,null,n)}var Kt=null;function Yt(e,t,n,i){if(Kt=null,null!==(e=hs(e=Se(i))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,Qt=null;function Xt(){if(Qt)return Qt;var e,t,n=Zt,i=n.length,s="value"in $t?$t.value:$t.textContent,r=s.length;for(e=0;e<i&&n[e]===s[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===s[r-t];t++);return Qt=s.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,i,s,r){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?en:tn,this.isPropagationStopped=tn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var sn,rn,an,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(on),cn=j({},on,{view:0,detail:0}),dn=nn(cn),un=j({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(sn=e.screenX-an.screenX,rn=e.screenY-an.screenY):rn=sn=0,an=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),hn=nn(un),pn=nn(j({},un,{dataTransfer:0})),mn=nn(j({},cn,{relatedTarget:0})),fn=nn(j({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=nn(j({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),vn=nn(j({},on,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function On(){return Sn}var Tn=nn(j({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=nn(j({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=nn(j({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Nn=nn(j({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=nn(j({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),In=[9,13,27,32],kn=d&&"CompositionEvent"in window,Pn=null;d&&"documentMode"in document&&(Pn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Pn,Rn=d&&(!kn||Pn&&8<Pn&&11>=Pn),Cn=String.fromCharCode(32),Dn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Hn(e,t,n,i){Ne(i),0<(t=Vi(t,"onChange")).length&&(n=new ln("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Vn=null,Bn=null;function Gn(e){Ci(e,0)}function Wn(e){if(Y(ms(e)))return e}function zn(e,t){if("change"===e)return t}var Kn=!1;if(d){var Yn;if(d){var qn="oninput"in document;if(!qn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),qn="function"==typeof $n.oninput}Yn=qn}else Yn=!1;Kn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Vn&&(Vn.detachEvent("onpropertychange",Qn),Bn=Vn=null)}function Qn(e){if("value"===e.propertyName&&Wn(Bn)){var t=[];Hn(t,Bn,e,Se(e)),Le(Gn,t)}}function Xn(e,t,n){"focusin"===e?(Zn(),Bn=n,(Vn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Zn()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Bn)}function ei(e,t){if("click"===e)return Wn(t)}function ti(e,t){if("input"===e||"change"===e)return Wn(t)}var ni="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ii(e,t){if(ni(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!u.call(t,s)||!ni(e[s],t[s]))return!1}return!0}function si(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ri(e,t){var n,i=si(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=si(i)}}function ai(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ai(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function oi(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ci(e){var t=oi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ai(n.ownerDocument.documentElement,n)){if(null!==i&&li(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=void 0===i.end?r:Math.min(i.end,s),!e.extend&&r>i&&(s=i,i=r,r=s),s=ri(n,r);var a=ri(n,i);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var di=d&&"documentMode"in document&&11>=document.documentMode,ui=null,hi=null,pi=null,mi=!1;function fi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mi||null==ui||ui!==q(i)||("selectionStart"in(i=ui)&&li(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},pi&&ii(pi,i)||(pi=i,0<(i=Vi(hi,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ui)))}function gi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vi={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionend:gi("Transition","TransitionEnd")},bi={},yi={};function Ei(e){if(bi[e])return bi[e];if(!vi[e])return e;var t,n=vi[e];for(t in n)if(n.hasOwnProperty(t)&&t in yi)return bi[e]=n[t];return e}d&&(yi=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);var Si=Ei("animationend"),Oi=Ei("animationiteration"),Ti=Ei("animationstart"),_i=Ei("transitionend"),wi=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(e,t){wi.set(e,t),l(t,[e])}for(var Ii=0;Ii<Ni.length;Ii++){var ki=Ni[Ii];Ai(ki.toLowerCase(),"on"+(ki[0].toUpperCase()+ki.slice(1)))}Ai(Si,"onAnimationEnd"),Ai(Oi,"onAnimationIteration"),Ai(Ti,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(_i,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pi));function Ri(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,s,a,o,l,c){if(Ve.apply(this,arguments),xe){if(!xe)throw Error(r(198));var d=je;xe=!1,je=null,Ue||(Ue=!0,Fe=d)}}(i,t,void 0,e),e.currentTarget=null}function Ci(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break e;Ri(s,o,c),r=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break e;Ri(s,o,c),r=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Di(e,t){var n=t[cs];void 0===n&&(n=t[cs]=new Set);var i=e+"__bubble";n.has(i)||(Ui(t,e,2,!1),n.add(i))}function Mi(e,t,n){var i=0;t&&(i|=4),Ui(n,e,i,t)}var xi="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[xi]){e[xi]=!0,a.forEach((function(t){"selectionchange"!==t&&(Li.has(t)||Mi(t,!1,e),Mi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[xi]||(t[xi]=!0,Mi("selectionchange",!1,t))}}function Ui(e,t,n,i){switch(qt(t)){case 1:var s=Gt;break;case 4:s=Wt;break;default:s=zt}n=s.bind(null,t,n,e),s=void 0,!Ce||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),i?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Fi(e,t,n,i,s){var r=i;if(0==(1&t)&&0==(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=hs(o)))return;if(5===(l=a.tag)||6===l){i=r=a;continue e}o=o.parentNode}}i=i.return}Le((function(){var i=r,s=Se(n),a=[];e:{var o=wi.get(e);if(void 0!==o){var l=ln,c=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=wn;break;case Si:case Oi:case Ti:l=fn;break;case _i:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var d=0!=(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=i;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Re(m,h))&&d.push(Hi(m,f,p)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:d}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Ee||!(c=n.relatedTarget||n.fromElement)||!hs(c)&&!c[ls])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?hs(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(d=hn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:ms(l),p=null==c?o:ms(c),(o=new d(f,m+"leave",l,n,s)).target=u,o.relatedTarget=p,f=null,hs(s)===i&&((d=new d(h,m+"enter",c,n,s)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Bi(p))m++;for(p=0,f=h;f;f=Bi(f))p++;for(;0<m-p;)d=Bi(d),m--;for(;0<p-m;)h=Bi(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Bi(d),h=Bi(h)}d=null}else d=null;null!==l&&Gi(a,o,l,d,!1),null!==c&&null!==u&&Gi(a,u,c,d,!0)}if("select"===(l=(o=i?ms(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=zn;else if(Fn(o))if(Kn)g=ti;else{g=Jn;var v=Xn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ei);switch(g&&(g=g(e,i))?Hn(a,g,n,s):(v&&v(e,o,i),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=i?ms(i):window,e){case"focusin":(Fn(v)||"true"===v.contentEditable)&&(ui=v,hi=i,pi=null);break;case"focusout":pi=hi=ui=null;break;case"mousedown":mi=!0;break;case"contextmenu":case"mouseup":case"dragend":mi=!1,fi(a,n,s);break;case"selectionchange":if(di)break;case"keydown":case"keyup":fi(a,n,s)}var b;if(kn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jn?Mn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Rn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==y?"onCompositionEnd"===y&&jn&&(b=Xt()):(Zt="value"in($t=s)?$t.value:$t.textContent,jn=!0)),0<(v=Vi(i,y)).length&&(y=new vn(y,e,null,n,s),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=xn(n))&&(y.data=b))),(b=Ln?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Cn);case"textInput":return(e=t.data)===Cn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!kn&&Mn(e,t)?(e=Xt(),Qt=Zt=$t=null,jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(i=Vi(i,"onBeforeInput")).length&&(s=new vn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:i}),s.data=b))}Ci(a,t)}))}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vi(e,t){for(var n=t+"Capture",i=[];null!==e;){var s=e,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=Re(e,n))&&i.unshift(Hi(e,r,s)),null!=(r=Re(e,t))&&i.push(Hi(e,r,s))),e=e.return}return i}function Bi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gi(e,t,n,i,s){for(var r=t._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Re(n,r))&&a.unshift(Hi(n,l,o)):s||null!=(l=Re(n,r))&&a.push(Hi(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wi=/\r\n?/g,zi=/\u0000|\uFFFD/g;function Ki(e){return("string"==typeof e?e:""+e).replace(Wi,"\n").replace(zi,"")}function Yi(e,t,n){if(t=Ki(t),Ki(e)!==t&&n)throw Error(r(425))}function qi(){}var $i=null;function Zi(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qi="function"==typeof setTimeout?setTimeout:void 0,Xi="function"==typeof clearTimeout?clearTimeout:void 0,Ji="function"==typeof Promise?Promise:void 0,es="function"==typeof queueMicrotask?queueMicrotask:void 0!==Ji?function(e){return Ji.resolve(null).then(e).catch(ts)}:Qi;function ts(e){setTimeout((function(){throw e}))}function ns(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===i)return e.removeChild(s),void Vt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=s}while(n);Vt(t)}function is(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ss(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),as="__reactFiber$"+rs,os="__reactProps$"+rs,ls="__reactContainer$"+rs,cs="__reactEvents$"+rs,ds="__reactListeners$"+rs,us="__reactHandles$"+rs;function hs(e){var t=e[as];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ls]||n[as]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ss(e);null!==e;){if(n=e[as])return n;e=ss(e)}return t}n=(e=n).parentNode}return null}function ps(e){return!(e=e[as]||e[ls])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ms(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function fs(e){return e[os]||null}var gs=[],vs=-1;function bs(e){return{current:e}}function ys(e){0>vs||(e.current=gs[vs],gs[vs]=null,vs--)}function Es(e,t){vs++,gs[vs]=e.current,e.current=t}var Ss={},Os=bs(Ss),Ts=bs(!1),_s=Ss;function ws(e,t){var n=e.type.contextTypes;if(!n)return Ss;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in n)r[s]=t[s];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ns(e){return null!=(e=e.childContextTypes)}function As(){ys(Ts),ys(Os)}function Is(e,t,n){if(Os.current!==Ss)throw Error(r(168));Es(Os,t),Es(Ts,n)}function ks(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in t))throw Error(r(108,G(e)||"Unknown",s));return j({},n,i)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,_s=Os.current,Es(Os,e),Es(Ts,Ts.current),!0}function Ls(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=ks(e,t,_s),i.__reactInternalMemoizedMergedChildContext=e,ys(Ts),ys(Os),Es(Os,e)):ys(Ts),Es(Ts,n)}var Rs=null,Cs=!1,Ds=!1;function Ms(e){null===Rs?Rs=[e]:Rs.push(e)}function xs(){if(!Ds&&null!==Rs){Ds=!0;var e=0,t=bt;try{var n=Rs;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Rs=null,Cs=!1}catch(t){throw null!==Rs&&(Rs=Rs.slice(e+1)),Ye(Je,xs),t}finally{bt=t,Ds=!1}}return null}var js=E.ReactCurrentBatchConfig;function Us(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Fs=bs(null),Hs=null,Vs=null,Bs=null;function Gs(){Bs=Vs=Hs=null}function Ws(e){var t=Fs.current;ys(Fs),e._currentValue=t}function zs(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ks(e,t){Hs=e,Bs=Vs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(mo=!0),e.firstContext=null)}function Ys(e){var t=e._currentValue;if(Bs!==e)if(e={context:e,memoizedValue:t,next:null},null===Vs){if(null===Hs)throw Error(r(308));Vs=e,Hs.dependencies={lanes:0,firstContext:e}}else Vs=Vs.next=e;return t}var qs=null,$s=!1;function Zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Js(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==fl&&0!=(1&e.mode)&&0==(2&ml)?(null===(e=n.interleaved)?(t.next=t,null===qs?qs=[n]:qs.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function er(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}function tr(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?s=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?s=r=t:r=r.next=t}else s=r=t;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nr(e,t,n,i){var s=e.updateQueue;$s=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=s.baseState;for(a=0,d=c=l=null,o=r;;){var h=o.lane,p=o.eventTime;if((i&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=n,f.tag){case 1:if("function"==typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=f.payload)?m.call(p,u,h):m))break e;u=j({},u,h);break e;case 2:$s=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===r&&(s.shared.lanes=0);Ol|=a,e.lanes=a,e.memoizedState=u}}function ir(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(null!==s){if(i.callback=null,i=n,"function"!=typeof s)throw Error(r(191,s));s.call(i)}}}var sr=(new i.Component).refs;function rr(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ar={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Fl(),s=Hl(e),r=Xs(i,s);r.payload=t,null!=n&&(r.callback=n),Js(e,r),null!==(t=Vl(e,s,i))&&er(t,e,s)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Fl(),s=Hl(e),r=Xs(i,s);r.tag=1,r.payload=t,null!=n&&(r.callback=n),Js(e,r),null!==(t=Vl(e,s,i))&&er(t,e,s)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fl(),i=Hl(e),s=Xs(n,i);s.tag=2,null!=t&&(s.callback=t),Js(e,s),null!==(t=Vl(e,i,n))&&er(t,e,i)}};function or(e,t,n,i,s,r,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!ii(n,i)||!ii(s,r))}function lr(e,t,n){var i=!1,s=Ss,r=t.contextType;return"object"==typeof r&&null!==r?r=Ys(r):(s=Ns(t)?_s:Os.current,r=(i=null!=(i=t.contextTypes))?ws(e,s):Ss),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ar,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function cr(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ar.enqueueReplaceState(t,t.state,null)}function dr(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=sr,Zs(e);var r=t.contextType;"object"==typeof r&&null!==r?s.context=Ys(r):(r=Ns(t)?_s:Os.current,s.context=ws(e,r)),s.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(rr(e,t,r,n),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ar.enqueueReplaceState(s,s.state,null),nr(e,n,s,i),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}var ur=[],hr=0,pr=null,mr=0,fr=[],gr=0,vr=null,br=1,yr="";function Er(e,t){ur[hr++]=mr,ur[hr++]=pr,pr=e,mr=t}function Sr(e,t,n){fr[gr++]=br,fr[gr++]=yr,fr[gr++]=vr,vr=e;var i=br;e=yr;var s=32-at(i)-1;i&=~(1<<s),n+=1;var r=32-at(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,br=1<<32-at(t)+s|n<<s|i,yr=r+e}else br=1<<r|n<<s|i,yr=e}function Or(e){null!==e.return&&(Er(e,1),Sr(e,1,0))}function Tr(e){for(;e===pr;)pr=ur[--hr],ur[hr]=null,mr=ur[--hr],ur[hr]=null;for(;e===vr;)vr=fr[--gr],fr[gr]=null,yr=fr[--gr],fr[gr]=null,br=fr[--gr],fr[gr]=null}var _r=null,wr=null,Nr=!1,Ar=null;function Ir(e,t){var n=vc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function kr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,_r=e,wr=is(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,_r=e,wr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==vr?{id:br,overflow:yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=vc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,_r=e,wr=null,!0);default:return!1}}function Pr(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Lr(e){if(Nr){var t=wr;if(t){var n=t;if(!kr(e,t)){if(Pr(e))throw Error(r(418));t=is(n.nextSibling);var i=_r;t&&kr(e,t)?Ir(i,n):(e.flags=-4097&e.flags|2,Nr=!1,_r=e)}}else{if(Pr(e))throw Error(r(418));e.flags=-4097&e.flags|2,Nr=!1,_r=e}}}function Rr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_r=e}function Cr(e){if(e!==_r)return!1;if(!Nr)return Rr(e),Nr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zi(e.type,e.memoizedProps)),t&&(t=wr)){if(Pr(e)){for(e=wr;e;)e=is(e.nextSibling);throw Error(r(418))}for(;t;)Ir(e,t),t=is(t.nextSibling)}if(Rr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){wr=is(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}wr=null}}else wr=_r?is(e.stateNode.nextSibling):null;return!0}function Dr(){wr=_r=null,Nr=!1}function Mr(e){null===Ar?Ar=[e]:Ar.push(e)}function xr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var s=i,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=s.refs;t===sr&&(t=s.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function jr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ur(e){return(0,e._init)(e._payload)}function Fr(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=yc(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Tc(n,e.mode,i)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,i){var r=n.type;return r===T?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===R&&Ur(r)===t.type)?((i=s(t,n.props)).ref=xr(e,t,n),i.return=e,i):((i=Ec(n.type,n.key,n.props,null,e.mode,i)).ref=xr(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=_c(n,e.mode,i)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,i,r){return null===t||7!==t.tag?((t=Sc(n,e.mode,i,r)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Tc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Ec(t.type,t.key,t.props,null,e.mode,n)).ref=xr(e,null,t),n.return=e,n;case O:return(t=_c(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Sc(t,e.mode,n,null)).return=e,t;jr(e,t)}return null}function p(e,t,n,i){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==s?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===s?c(e,t,n,i):null;case O:return n.key===s?d(e,t,n,i):null;case R:return p(e,t,(s=n._init)(n._payload),i)}if(te(n)||M(n))return null!==s?null:u(e,t,n,i,null);jr(e,n)}return null}function m(e,t,n,i,s){if("string"==typeof i&&""!==i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,s);if("object"==typeof i&&null!==i){switch(i.$$typeof){case S:return c(t,e=e.get(null===i.key?n:i.key)||null,i,s);case O:return d(t,e=e.get(null===i.key?n:i.key)||null,i,s);case R:return m(e,t,n,(0,i._init)(i._payload),s)}if(te(i)||M(i))return u(t,e=e.get(n)||null,i,s,null);jr(t,i)}return null}function f(s,r,o,l){for(var c=null,d=null,u=r,f=r=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=p(s,u,o[f],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(s,u),r=a(v,r,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===o.length)return n(s,u),Nr&&Er(s,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(s,o[f],l))&&(r=a(u,r,f),null===d?c=u:d.sibling=u,d=u);return Nr&&Er(s,f),c}for(u=i(s,u);f<o.length;f++)null!==(g=m(u,s,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),r=a(g,r,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(s,e)})),Nr&&Er(s,f),c}function g(s,o,l,c){var d=M(l);if("function"!=typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,f=o,g=o=0,v=null,b=l.next();null!==f&&!b.done;g++,b=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var y=p(s,f,b.value,c);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(s,f),o=a(y,o,g),null===u?d=y:u.sibling=y,u=y,f=v}if(b.done)return n(s,f),Nr&&Er(s,g),d;if(null===f){for(;!b.done;g++,b=l.next())null!==(b=h(s,b.value,c))&&(o=a(b,o,g),null===u?d=b:u.sibling=b,u=b);return Nr&&Er(s,g),d}for(f=i(s,f);!b.done;g++,b=l.next())null!==(b=m(f,s,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),o=a(b,o,g),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach((function(e){return t(s,e)})),Nr&&Er(s,g),d}return function e(i,r,a,l){if("object"==typeof a&&null!==a&&a.type===T&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var c=a.key,d=r;null!==d;){if(d.key===c){if((c=a.type)===T){if(7===d.tag){n(i,d.sibling),(r=s(d,a.props.children)).return=i,i=r;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===R&&Ur(c)===d.type){n(i,d.sibling),(r=s(d,a.props)).ref=xr(i,d,a),r.return=i,i=r;break e}n(i,d);break}t(i,d),d=d.sibling}a.type===T?((r=Sc(a.props.children,i.mode,l,a.key)).return=i,i=r):((l=Ec(a.type,a.key,a.props,null,i.mode,l)).ref=xr(i,r,a),l.return=i,i=l)}return o(i);case O:e:{for(d=a.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(i,r.sibling),(r=s(r,a.children||[])).return=i,i=r;break e}n(i,r);break}t(i,r),r=r.sibling}(r=_c(a,i.mode,l)).return=i,i=r}return o(i);case R:return e(i,r,(d=a._init)(a._payload),l)}if(te(a))return f(i,r,a,l);if(M(a))return g(i,r,a,l);jr(i,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==r&&6===r.tag?(n(i,r.sibling),(r=s(r,a)).return=i,i=r):(n(i,r),(r=Tc(a,i.mode,l)).return=i,i=r),o(i)):n(i,r)}}var Hr=Fr(!0),Vr=Fr(!1),Br={},Gr=bs(Br),Wr=bs(Br),zr=bs(Br);function Kr(e){if(e===Br)throw Error(r(174));return e}function Yr(e,t){switch(Es(zr,t),Es(Wr,e),Es(Gr,Br),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ys(Gr),Es(Gr,t)}function qr(){ys(Gr),ys(Wr),ys(zr)}function $r(e){Kr(zr.current);var t=Kr(Gr.current),n=le(t,e.type);t!==n&&(Es(Wr,e),Es(Gr,n))}function Zr(e){Wr.current===e&&(ys(Gr),ys(Wr))}var Qr=bs(0);function Xr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jr=[];function ea(){for(var e=0;e<Jr.length;e++)Jr[e]._workInProgressVersionPrimary=null;Jr.length=0}var ta=E.ReactCurrentDispatcher,na=E.ReactCurrentBatchConfig,ia=0,sa=null,ra=null,aa=null,oa=!1,la=!1,ca=0,da=0;function ua(){throw Error(r(321))}function ha(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ni(e[n],t[n]))return!1;return!0}function pa(e,t,n,i,s,a){if(ia=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ta.current=null===e||null===e.memoizedState?$a:Za,e=n(i,s),la){a=0;do{if(la=!1,ca=0,25<=a)throw Error(r(301));a+=1,aa=ra=null,t.updateQueue=null,ta.current=Qa,e=n(i,s)}while(la)}if(ta.current=qa,t=null!==ra&&null!==ra.next,ia=0,aa=ra=sa=null,oa=!1,t)throw Error(r(300));return e}function ma(){var e=0!==ca;return ca=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===aa?sa.memoizedState=aa=e:aa=aa.next=e,aa}function ga(){if(null===ra){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ra.next;var t=null===aa?sa.memoizedState:aa.next;if(null!==t)aa=t,ra=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ra=e).memoizedState,baseState:ra.baseState,baseQueue:ra.baseQueue,queue:ra.queue,next:null},null===aa?sa.memoizedState=aa=e:aa=aa.next=e}return aa}function va(e,t){return"function"==typeof t?t(e):t}function ba(e){var t=ga(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=ra,s=i.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}i.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,i=i.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((ia&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=i):c=c.next=h,sa.lanes|=u,Ol|=u}d=d.next}while(null!==d&&d!==a);null===c?o=i:c.next=l,ni(i,t.memoizedState)||(mo=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,sa.lanes|=a,Ol|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ya(e){var t=ga(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);ni(a,t.memoizedState)||(mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Ea(){}function Sa(e,t){var n=sa,i=ga(),s=t(),a=!ni(i.memoizedState,s);if(a&&(i.memoizedState=s,mo=!0),i=i.queue,Ra(_a.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==aa&&1&aa.memoizedState.tag){if(n.flags|=2048,Aa(9,Ta.bind(null,n,i,s,t),void 0,null),null===fl)throw Error(r(349));0!=(30&ia)||Oa(n,t,s)}return s}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,i){t.value=n,t.getSnapshot=i,wa(t)&&Vl(e,1,-1)}function _a(e,t,n){return n((function(){wa(t)&&Vl(e,1,-1)}))}function wa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ni(e,n)}catch(e){return!0}}function Na(e){var t=fa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[t.memoizedState,e]}function Aa(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ia(){return ga().memoizedState}function ka(e,t,n,i){var s=fa();sa.flags|=e,s.memoizedState=Aa(1|t,n,void 0,void 0===i?null:i)}function Pa(e,t,n,i){var s=ga();i=void 0===i?null:i;var r=void 0;if(null!==ra){var a=ra.memoizedState;if(r=a.destroy,null!==i&&ha(i,a.deps))return void(s.memoizedState=Aa(t,n,r,i))}sa.flags|=e,s.memoizedState=Aa(1|t,n,r,i)}function La(e,t){return ka(8390656,8,e,t)}function Ra(e,t){return Pa(2048,8,e,t)}function Ca(e,t){return Pa(4,2,e,t)}function Da(e,t){return Pa(4,4,e,t)}function Ma(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,n){return n=null!=n?n.concat([e]):null,Pa(4,4,Ma.bind(null,t,e),n)}function ja(){}function Ua(e,t){var n=ga();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ha(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Fa(e,t){var n=ga();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ha(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=na.transition;na.transition={};try{e(!1),t()}finally{bt=n,na.transition=i}}function Va(){return ga().memoizedState}function Ba(e,t,n){var i=Hl(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Wa(e)?za(t,n):(Ka(e,t,n),null!==(e=Vl(e,i,n=Fl()))&&Ya(e,t,i))}function Ga(e,t,n){var i=Hl(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wa(e))za(t,s);else{Ka(e,t,s);var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,ni(o,a))return}catch(e){}null!==(e=Vl(e,i,n=Fl()))&&Ya(e,t,i)}}function Wa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function za(e,t){la=oa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ka(e,t,n){null!==fl&&0!=(1&e.mode)&&0==(2&ml)?(null===(e=t.interleaved)?(n.next=n,null===qs?qs=[t]:qs.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Ya(e,t,n){if(0!=(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}var qa={readContext:Ys,useCallback:ua,useContext:ua,useEffect:ua,useImperativeHandle:ua,useInsertionEffect:ua,useLayoutEffect:ua,useMemo:ua,useReducer:ua,useRef:ua,useState:ua,useDebugValue:ua,useDeferredValue:ua,useTransition:ua,useMutableSource:ua,useSyncExternalStore:ua,useId:ua,unstable_isNewReconciler:!1},$a={readContext:Ys,useCallback:function(e,t){return fa().memoizedState=[e,void 0===t?null:t],e},useContext:Ys,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ka(4194308,4,Ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var n=fa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=fa();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Ba.bind(null,sa,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},fa().memoizedState=e},useState:Na,useDebugValue:ja,useDeferredValue:function(e){var t=Na(e),n=t[0],i=t[1];return La((function(){var t=na.transition;na.transition={};try{i(e)}finally{na.transition=t}}),[e]),n},useTransition:function(){var e=Na(!1),t=e[0];return e=Ha.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=sa,s=fa();if(Nr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===fl)throw Error(r(349));0!=(30&ia)||Oa(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,La(_a.bind(null,i,a,e),[e]),i.flags|=2048,Aa(9,Ta.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=fa(),t=fl.identifierPrefix;if(Nr){var n=yr;t=":"+t+"R"+(n=(br&~(1<<32-at(br)-1)).toString(32)+n),0<(n=ca++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Ys,useCallback:Ua,useContext:Ys,useEffect:Ra,useImperativeHandle:xa,useInsertionEffect:Ca,useLayoutEffect:Da,useMemo:Fa,useReducer:ba,useRef:Ia,useState:function(){return ba(va)},useDebugValue:ja,useDeferredValue:function(e){var t=ba(va),n=t[0],i=t[1];return Ra((function(){var t=na.transition;na.transition={};try{i(e)}finally{na.transition=t}}),[e]),n},useTransition:function(){return[ba(va)[0],ga().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Sa,useId:Va,unstable_isNewReconciler:!1},Qa={readContext:Ys,useCallback:Ua,useContext:Ys,useEffect:Ra,useImperativeHandle:xa,useInsertionEffect:Ca,useLayoutEffect:Da,useMemo:Fa,useReducer:ya,useRef:Ia,useState:function(){return ya(va)},useDebugValue:ja,useDeferredValue:function(e){var t=ya(va),n=t[0],i=t[1];return Ra((function(){var t=na.transition;na.transition={};try{i(e)}finally{na.transition=t}}),[e]),n},useTransition:function(){return[ya(va)[0],ga().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Sa,useId:Va,unstable_isNewReconciler:!1};function Xa(e,t){try{var n="",i=t;do{n+=V(i),i=i.return}while(i);var s=n}catch(e){s="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:s}}function Ja(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var eo,to,no,io="function"==typeof WeakMap?WeakMap:Map;function so(e,t,n){(n=Xs(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){kl||(kl=!0,Pl=i),Ja(0,t)},n}function ro(e,t,n){(n=Xs(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){Ja(0,t)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){Ja(0,t),"function"!=typeof i&&(null===Ll?Ll=new Set([this]):Ll.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ao(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new io;var s=new Set;i.set(t,s)}else void 0===(s=i.get(t))&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=uc.bind(null,e,t,n),t.then(e,e))}function oo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function lo(e,t,n,i,s){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Xs(-1,1)).tag=2,Js(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}function co(e,t){if(!Nr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function uo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=14680064&s.subtreeFlags,i|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ho(e,t,n){var i=t.pendingProps;switch(Tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return uo(t),null;case 1:return Ns(t.type)&&As(),uo(t),null;case 3:return i=t.stateNode,qr(),ys(Ts),ys(Os),ea(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Cr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Ar&&(Kl(Ar),Ar=null))),uo(t),null;case 5:Zr(t);var s=Kr(zr.current);if(n=t.type,null!==e&&null!=t.stateNode)to(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return uo(t),null}if(e=Kr(Gr.current),Cr(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[as]=t,i[os]=a,e=0!=(1&t.mode),n){case"dialog":Di("cancel",i),Di("close",i);break;case"iframe":case"object":case"embed":Di("load",i);break;case"video":case"audio":for(s=0;s<Pi.length;s++)Di(Pi[s],i);break;case"source":Di("error",i);break;case"img":case"image":case"link":Di("error",i),Di("load",i);break;case"details":Di("toggle",i);break;case"input":Z(i,a),Di("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Di("invalid",i);break;case"textarea":se(i,a),Di("invalid",i)}for(var l in be(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?i.textContent!==c&&(Yi(i.textContent,c,e),s=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(Yi(i.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Di("scroll",i)}switch(n){case"input":K(i),J(i,a,!0);break;case"textarea":K(i),ae(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=qi)}i=s,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[as]=t,e[os]=i,eo(e,t),t.stateNode=e;e:{switch(l=ye(n,i),n){case"dialog":Di("cancel",e),Di("close",e),s=i;break;case"iframe":case"object":case"embed":Di("load",e),s=i;break;case"video":case"audio":for(s=0;s<Pi.length;s++)Di(Pi[s],e);s=i;break;case"source":Di("error",e),s=i;break;case"img":case"image":case"link":Di("error",e),Di("load",e),s=i;break;case"details":Di("toggle",e),s=i;break;case"input":Z(e,i),s=$(e,i),Di("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=j({},i,{value:void 0}),Di("invalid",e);break;case"textarea":se(e,i),s=ie(e,i),Di("invalid",e);break;default:s=i}for(a in be(n,s),c=s)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?ge(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"==typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"==typeof d&&he(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Di("scroll",e):null!=d&&y(e,a,d,l))}switch(n){case"input":K(e),J(e,i,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=qi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return uo(t),null;case 6:if(e&&null!=t.stateNode)no(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(n=Kr(zr.current),Kr(Gr.current),Cr(t)){if(i=t.stateNode,n=t.memoizedProps,i[as]=t,(a=i.nodeValue!==n)&&null!==(e=_r))switch(l=0!=(1&e.mode),e.tag){case 3:Yi(i.nodeValue,n,l);break;case 5:!0!==e.memoizedProps[void 0]&&Yi(i.nodeValue,n,l)}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[as]=t,t.stateNode=i}return uo(t),null;case 13:if(ys(Qr),i=t.memoizedState,Nr&&null!==wr&&0!=(1&t.mode)&&0==(128&t.flags)){for(i=wr;i;)i=is(i.nextSibling);return Dr(),t.flags|=98560,t}if(null!==i&&null!==i.dehydrated){if(i=Cr(t),null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[as]=t}else Dr(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return uo(t),null}return null!==Ar&&(Kl(Ar),Ar=null),0!=(128&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?Cr(t):n=null!==e.memoizedState,i&&!n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&Qr.current)?0===El&&(El=3):tc())),null!==t.updateQueue&&(t.flags|=4),uo(t),null);case 4:return qr(),null===e&&ji(t.stateNode.containerInfo),uo(t),null;case 10:return Ws(t.type._context),uo(t),null;case 17:return Ns(t.type)&&As(),uo(t),null;case 19:if(ys(Qr),null===(a=t.memoizedState))return uo(t),null;if(i=0!=(128&t.flags),null===(l=a.rendering))if(i)co(a,!1);else{if(0!==El||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Xr(e))){for(t.flags|=128,co(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Es(Qr,1&Qr.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Il&&(t.flags|=128,i=!0,co(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Xr(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),co(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!Nr)return uo(t),null}else 2*Qe()-a.renderingStartTime>Il&&1073741824!==n&&(t.flags|=128,i=!0,co(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=Qr.current,Es(Qr,i?1&n|2:1&n),t):(uo(t),null);case 22:case 23:return Ql(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!=(1&t.mode)?0!=(1073741824&bl)&&(uo(t),6&t.subtreeFlags&&(t.flags|=8192)):uo(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}eo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},to=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Kr(Gr.current);var r,a=null;switch(n){case"input":s=$(e,s),i=$(e,i),a=[];break;case"select":s=j({},s,{value:void 0}),i=j({},i,{value:void 0}),a=[];break;case"textarea":s=ie(e,s),i=ie(e,i),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof i.onClick&&(e.onclick=qi)}for(d in be(n,i),n=null,s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in i){var c=i[d];if(l=null!=s?s[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(a||(a=[]),a.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Di("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},no=function(e,t,n,i){n!==i&&(t.flags|=4)};var po=E.ReactCurrentOwner,mo=!1;function fo(e,t,n,i){t.child=null===e?Vr(t,null,n,i):Hr(t,e.child,n,i)}function go(e,t,n,i,s){n=n.render;var r=t.ref;return Ks(t,s),i=pa(e,t,n,i,r,s),n=ma(),null===e||mo?(Nr&&n&&Or(t),t.flags|=1,fo(e,t,i,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xo(e,t,s))}function vo(e,t,n,i,s){if(null===e){var r=n.type;return"function"!=typeof r||bc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ec(n.type,null,i,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,bo(e,t,r,i,s))}if(r=e.child,0==(e.lanes&s)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:ii)(a,i)&&e.ref===t.ref)return xo(e,t,s)}return t.flags|=1,(e=yc(r,i)).ref=t.ref,e.return=t,t.child=e}function bo(e,t,n,i,s){if(null!==e&&ii(e.memoizedProps,i)&&e.ref===t.ref){if(mo=!1,0==(e.lanes&s))return t.lanes=e.lanes,xo(e,t,s);0!=(131072&e.flags)&&(mo=!0)}return So(e,t,n,i,s)}function yo(e,t,n){var i=t.pendingProps,s=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Es(yl,bl),bl|=n;else{if(0==(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Es(yl,bl),bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null},i=null!==r?r.baseLanes:n,Es(yl,bl),bl|=i}else null!==r?(i=r.baseLanes|n,t.memoizedState=null):i=n,Es(yl,bl),bl|=i;return fo(e,t,s,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,i,s){var r=Ns(n)?_s:Os.current;return r=ws(t,r),Ks(t,s),n=pa(e,t,n,i,r,s),i=ma(),null===e||mo?(Nr&&i&&Or(t),t.flags|=1,fo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xo(e,t,s))}function Oo(e,t,n,i,s){if(Ns(n)){var r=!0;Ps(t)}else r=!1;if(Ks(t,s),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),lr(t,n,i),dr(t,n,i,s),i=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ys(c):c=ws(t,c=Ns(n)?_s:Os.current);var d=n.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate;u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==i||l!==c)&&cr(t,a,i,c),$s=!1;var h=t.memoizedState;a.state=h,nr(t,i,a,s),l=t.memoizedState,o!==i||h!==l||Ts.current||$s?("function"==typeof d&&(rr(t,n,d,i),l=t.memoizedState),(o=$s||or(t,n,o,i,h,l,c))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Qs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Us(t.type,o),a.props=c,u=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ys(l):l=ws(t,l=Ns(n)?_s:Os.current);var p=n.getDerivedStateFromProps;(d="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==u||h!==l)&&cr(t,a,i,l),$s=!1,h=t.memoizedState,a.state=h,nr(t,i,a,s);var m=t.memoizedState;o!==u||h!==m||Ts.current||$s?("function"==typeof p&&(rr(t,n,p,i),m=t.memoizedState),(c=$s||or(t,n,c,i,h,m,l)||!1)?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,m,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,m,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),a.props=i,a.state=m,a.context=l,i=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return To(e,t,n,i,r,s)}function To(e,t,n,i,s,r){Eo(e,t);var a=0!=(128&t.flags);if(!i&&!a)return s&&Ls(t,n,!1),xo(e,t,r);i=t.stateNode,po.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Hr(t,e.child,null,r),t.child=Hr(t,null,o,r)):fo(e,t,o,r),t.memoizedState=i.state,s&&Ls(t,n,!0),t.child}function _o(e){var t=e.stateNode;t.pendingContext?Is(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(0,t.context,!1),Yr(e,t.containerInfo)}function wo(e,t,n,i,s){return Dr(),Mr(s),t.flags|=256,fo(e,t,n,i),t.child}var No={dehydrated:null,treeContext:null,retryLane:0};function Ao(e){return{baseLanes:e,cachePool:null}}function Io(e,t,n){var i,s=t.pendingProps,a=Qr.current,o=!1,l=0!=(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!=(2&a)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Es(Qr,1&a),null===e)return Lr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=s.children,e=s.fallback,o?(s=t.mode,o=t.child,a={mode:"hidden",children:a},0==(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Oc(a,s,0,null),e=Sc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ao(n),t.memoizedState=No,e):ko(t,a));if(null!==(a=e.memoizedState)){if(null!==(i=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Ro(e,t,n,Error(r(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=s.fallback,a=t.mode,s=Oc({mode:"visible",children:s.children},a,0,null),(o=Sc(o,a,n,null)).flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,0!=(1&t.mode)&&Hr(t,e.child,null,n),t.child.memoizedState=Ao(n),t.memoizedState=No,o);if(0==(1&t.mode))t=Ro(e,t,n,null);else if("$!"===i.data)t=Ro(e,t,n,Error(r(419)));else if(s=0!=(n&e.childLanes),mo||s){if(null!==(s=fl)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(s=0!=(o&(s.suspendedLanes|n))?0:o)&&s!==a.retryLane&&(a.retryLane=s,Vl(e,s,-1))}tc(),t=Ro(e,t,n,Error(r(421)))}else"$?"===i.data?(t.flags|=128,t.child=e.child,t=pc.bind(null,e),i._reactRetry=t,t=null):(n=a.treeContext,wr=is(i.nextSibling),_r=t,Nr=!0,Ar=null,null!==n&&(fr[gr++]=br,fr[gr++]=yr,fr[gr++]=vr,br=n.id,yr=n.overflow,vr=t),(t=ko(t,t.pendingProps.children)).flags|=4096);return t}return o?(s=Lo(e,t,s.children,s.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Ao(n):{baseLanes:a.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=No,s):(n=Po(e,t,s.children,n),t.memoizedState=null,n)}return o?(s=Lo(e,t,s.children,s.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Ao(n):{baseLanes:a.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=No,s):(n=Po(e,t,s.children,n),t.memoizedState=null,n)}function ko(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Po(e,t,n,i){var s=e.child;return e=s.sibling,n=yc(s,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n}function Lo(e,t,n,i,s){var r=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:n};return 0==(1&r)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=yc(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==a?i=yc(a,i):(i=Sc(i,r,s,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function Ro(e,t,n,i){return null!==i&&Mr(i),Hr(t,e.child,null,n),(e=ko(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Co(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),zs(e.return,t,n)}function Do(e,t,n,i,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Mo(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(fo(e,t,i.children,n),0!=(2&(i=Qr.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Co(e,n,t);else if(19===e.tag)Co(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Es(Qr,i),0==(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===Xr(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Do(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Xr(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Do(t,!0,n,null,r);break;case"together":Do(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=yc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=yc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function jo(e,t){switch(Tr(t),t.tag){case 1:return Ns(t.type)&&As(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qr(),ys(Ts),ys(Os),ea(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zr(t),null;case 13:if(ys(Qr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));Dr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ys(Qr),null;case 4:return qr(),null;case 10:return Ws(t.type._context),null;case 22:case 23:return Ql(),null;case 24:default:return null}}var Uo=!1,Fo=!1,Ho="function"==typeof WeakSet?WeakSet:Set,Vo=null;function Bo(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){dc(e,t,n)}else n.current=null}function Go(e,t,n){try{n()}catch(n){dc(e,t,n)}}var Wo=!1;function zo(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var s=i=i.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,void 0!==r&&Go(t,n,r)}s=s.next}while(s!==i)}}function Ko(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Yo(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"==typeof t?t(e):t.current=e}}function qo(e,t,n){if(rt&&"function"==typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(st,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e=e.next;do{var s=i,r=s.destroy;s=s.tag,void 0!==r&&(0!=(2&s)||0!=(4&s))&&Go(t,n,r),i=i.next}while(i!==e)}break;case 1:if(Bo(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){dc(t,n,e)}break;case 5:Bo(t,n);break;case 4:tl(e,t,n)}}function $o(e){var t=e.alternate;null!==t&&(e.alternate=null,$o(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[as],delete t[os],delete t[cs],delete t[ds],delete t[us])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zo(e){return 5===e.tag||3===e.tag||4===e.tag}function Qo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Xo(e){e:{for(var t=e.return;null!==t;){if(Zo(t))break e;t=t.return}throw Error(r(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),el(e,n=Qo(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,Jo(e,n=Qo(e),t);break;default:throw Error(r(161))}}function Jo(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=qi));else if(4!==i&&null!==(e=e.child))for(Jo(e,t,n),e=e.sibling;null!==e;)Jo(e,t,n),e=e.sibling}function el(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(el(e,t,n),e=e.sibling;null!==e;)el(e,t,n),e=e.sibling}function tl(e,t,n){for(var i,s,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(r(160));switch(i=o.stateNode,o.tag){case 5:s=!1;break e;case 3:case 4:i=i.containerInfo,s=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var l=e,c=a,d=n,u=c;;)if(qo(l,u,d),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s?(l=i,c=a.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(a.stateNode)}else if(18===a.tag)s?(l=i,c=a.stateNode,8===l.nodeType?ns(l.parentNode,c):1===l.nodeType&&ns(l,c),Vt(l)):ns(i,a.stateNode);else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,s=!0,a.child.return=a,a=a.child;continue}}else if(qo(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function nl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return zo(3,t,t.return),Ko(3,t),void zo(5,t,t.return);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,s=null!==e?e.memoizedProps:i;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for("input"===e&&"radio"===i.type&&null!=i.name&&Q(n,i),ye(e,s),t=ye(e,i),s=0;s<a.length;s+=2){var o=a[s],l=a[s+1];"style"===o?ge(n,l):"dangerouslySetInnerHTML"===o?ue(n,l):"children"===o?he(n,l):y(n,o,l,t)}switch(e){case"input":X(n,i);break;case"textarea":re(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(a=i.value)?ne(n,!!i.multiple,a,!1):e!==!!i.multiple&&(null!=i.defaultValue?ne(n,!!i.multiple,i.defaultValue,!0):ne(n,!!i.multiple,i.multiple?[]:"",!1))}n[os]=i}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Vt(t.stateNode.containerInfo));case 12:return;case 13:case 19:return void il(t);case 17:return}throw Error(r(163))}function il(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ho),t.forEach((function(t){var i=mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function sl(e,t,n){Vo=e,rl(e,t,n)}function rl(e,t,n){for(var i=0!=(1&e.mode);null!==Vo;){var s=Vo,r=s.child;if(22===s.tag&&i){var a=null!==s.memoizedState||Uo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Fo;o=Uo;var c=Fo;if(Uo=a,(Fo=l)&&!c)for(Vo=s;null!==Vo;)l=(a=Vo).child,22===a.tag&&null!==a.memoizedState?ll(s):null!==l?(l.return=a,Vo=l):ll(s);for(;null!==r;)Vo=r,rl(r,t,n),r=r.sibling;Vo=s,Uo=o,Fo=c}al(e)}else 0!=(8772&s.subtreeFlags)&&null!==r?(r.return=s,Vo=r):al(e)}}function al(e){for(;null!==Vo;){var t=Vo;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Fo||Ko(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Fo)if(null===n)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Us(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ir(t,a,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ir(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Vt(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(r(163))}Fo||512&t.flags&&Yo(t)}catch(e){dc(t,t.return,e)}}if(t===e){Vo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Vo=n;break}Vo=t.return}}function ol(e){for(;null!==Vo;){var t=Vo;if(t===e){Vo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Vo=n;break}Vo=t.return}}function ll(e){for(;null!==Vo;){var t=Vo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ko(4,t)}catch(e){dc(t,n,e)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var s=t.return;try{i.componentDidMount()}catch(e){dc(t,s,e)}}var r=t.return;try{Yo(t)}catch(e){dc(t,r,e)}break;case 5:var a=t.return;try{Yo(t)}catch(e){dc(t,a,e)}}}catch(e){dc(t,t.return,e)}if(t===e){Vo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Vo=o;break}Vo=t.return}}var cl,dl=Math.ceil,ul=E.ReactCurrentDispatcher,hl=E.ReactCurrentOwner,pl=E.ReactCurrentBatchConfig,ml=0,fl=null,gl=null,vl=0,bl=0,yl=bs(0),El=0,Sl=null,Ol=0,Tl=0,_l=0,wl=null,Nl=null,Al=0,Il=1/0,kl=!1,Pl=null,Ll=null,Rl=!1,Cl=null,Dl=0,Ml=0,xl=null,jl=-1,Ul=0;function Fl(){return 0!=(6&ml)?Qe():-1!==jl?jl:jl=Qe()}function Hl(e){return 0==(1&e.mode)?1:0!=(2&ml)&&0!==vl?vl&-vl:null!==js.transition?(0===Ul&&(e=ct,0==(4194240&(ct<<=1))&&(ct=64),Ul=e),Ul):0!==(e=bt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function Vl(e,t,n){if(50<Ml)throw Ml=0,xl=null,Error(r(185));var i=Bl(e,t);return null===i?null:(gt(i,t,n),0!=(2&ml)&&i===fl||(i===fl&&(0==(2&ml)&&(Tl|=t),4===El&&Yl(i,vl)),Gl(i,n),1===t&&0===ml&&0==(1&e.mode)&&(Il=Qe()+500,Cs&&xs())),i)}function Bl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Gl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var a=31-at(r),o=1<<a,l=s[a];-1===l?0!=(o&n)&&0==(o&i)||(s[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}}(e,t);var i=ht(e,e===fl?vl:0);if(0===i)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Cs=!0,Ms(e)}(ql.bind(null,e)):Ms(ql.bind(null,e)),es((function(){0===ml&&xs()})),n=null;else{switch(yt(i)){case 1:n=Je;break;case 4:n=et;break;case 16:n=tt;break;case 536870912:n=it;break;default:n=tt}n=fc(n,Wl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wl(e,t){if(jl=-1,Ul=0,0!=(6&ml))throw Error(r(327));var n=e.callbackNode;if(lc()&&e.callbackNode!==n)return null;var i=ht(e,e===fl?vl:0);if(0===i)return null;if(0!=(30&i)||0!=(i&e.expiredLanes)||t)t=nc(e,i);else{t=i;var s=ml;ml|=2;var a=ec();for(fl===e&&vl===t||(Il=Qe()+500,Xl(e,t));;)try{sc();break}catch(t){Jl(e,t)}Gs(),ul.current=a,ml=s,null!==gl?t=0:(fl=null,vl=0,t=El)}if(0!==t){if(2===t&&(0!==(s=mt(e))&&(i=s,t=zl(e,s))),1===t)throw n=Sl,Xl(e,0),Yl(e,i),Gl(e,Qe()),n;if(6===t)Yl(e,i);else{if(s=e.current.alternate,0==(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!ni(r(),s))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=nc(e,i))&&(0!==(a=mt(e))&&(i=a,t=zl(e,a))),1===t))throw n=Sl,Xl(e,0),Yl(e,i),Gl(e,Qe()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:oc(e,Nl);break;case 3:if(Yl(e,i),(130023424&i)===i&&10<(t=Al+500-Qe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&i)!==i){Fl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Qi(oc.bind(null,e,Nl),t);break}oc(e,Nl);break;case 4:if(Yl(e,i),(4194240&i)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-at(i);a=1<<o,(o=t[o])>s&&(s=o),i&=~a}if(i=s,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*dl(i/1960))-i)){e.timeoutHandle=Qi(oc.bind(null,e,Nl),i);break}oc(e,Nl);break;case 5:oc(e,Nl);break;default:throw Error(r(329))}}}return Gl(e,Qe()),e.callbackNode===n?Wl.bind(null,e):null}function zl(e,t){var n=wl;return e.current.memoizedState.isDehydrated&&(Xl(e,t).flags|=256),2!==(e=nc(e,t))&&(t=Nl,Nl=n,null!==t&&Kl(t)),e}function Kl(e){null===Nl?Nl=e:Nl.push.apply(Nl,e)}function Yl(e,t){for(t&=~_l,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function ql(e){if(0!=(6&ml))throw Error(r(327));lc();var t=ht(e,0);if(0==(1&t))return Gl(e,Qe()),null;var n=nc(e,t);if(0!==e.tag&&2===n){var i=mt(e);0!==i&&(t=i,n=zl(e,i))}if(1===n)throw n=Sl,Xl(e,0),Yl(e,t),Gl(e,Qe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oc(e,Nl),Gl(e,Qe()),null}function $l(e,t){var n=ml;ml|=1;try{return e(t)}finally{0===(ml=n)&&(Il=Qe()+500,Cs&&xs())}}function Zl(e){null!==Cl&&0===Cl.tag&&0==(6&ml)&&lc();var t=ml;ml|=1;var n=pl.transition,i=bt;try{if(pl.transition=null,bt=1,e)return e()}finally{bt=i,pl.transition=n,0==(6&(ml=t))&&xs()}}function Ql(){bl=yl.current,ys(yl)}function Xl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Xi(n)),null!==gl)for(n=gl.return;null!==n;){var i=n;switch(Tr(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&As();break;case 3:qr(),ys(Ts),ys(Os),ea();break;case 5:Zr(i);break;case 4:qr();break;case 13:case 19:ys(Qr);break;case 10:Ws(i.type._context);break;case 22:case 23:Ql()}n=n.return}if(fl=e,gl=e=yc(e.current,null),vl=bl=t,El=0,Sl=null,_l=Tl=Ol=0,Nl=wl=null,null!==qs){for(t=0;t<qs.length;t++)if(null!==(i=(n=qs[t]).interleaved)){n.interleaved=null;var s=i.next,r=n.pending;if(null!==r){var a=r.next;r.next=s,i.next=a}n.pending=i}qs=null}return e}function Jl(e,t){for(;;){var n=gl;try{if(Gs(),ta.current=qa,oa){for(var i=sa.memoizedState;null!==i;){var s=i.queue;null!==s&&(s.pending=null),i=i.next}oa=!1}if(ia=0,aa=ra=sa=null,la=!1,ca=0,hl.current=null,null===n||null===n.return){El=1,Sl=t,gl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=vl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=l,h=u.tag;if(0==(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=oo(o);if(null!==m){m.flags&=-257,lo(m,o,l,0,t),1&m.mode&&ao(a,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0==(1&t)){ao(a,d,t),tc();break e}c=Error(r(426))}else if(Nr&&1&l.mode){var v=oo(o);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),lo(v,o,l,0,t),Mr(c);break e}}a=c,4!==El&&(El=2),null===wl?wl=[a]:wl.push(a),c=Xa(c,l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,tr(l,so(0,c,t));break e;case 1:a=c;var b=l.type,y=l.stateNode;if(0==(128&l.flags)&&("function"==typeof b.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Ll||!Ll.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t,tr(l,ro(l,a,t));break e}}l=l.return}while(null!==l)}ac(n)}catch(e){t=e,gl===n&&null!==n&&(gl=n=n.return);continue}break}}function ec(){var e=ul.current;return ul.current=qa,null===e?qa:e}function tc(){0!==El&&3!==El&&2!==El||(El=4),null===fl||0==(268435455&Ol)&&0==(268435455&Tl)||Yl(fl,vl)}function nc(e,t){var n=ml;ml|=2;var i=ec();for(fl===e&&vl===t||Xl(e,t);;)try{ic();break}catch(t){Jl(e,t)}if(Gs(),ml=n,ul.current=i,null!==gl)throw Error(r(261));return fl=null,vl=0,El}function ic(){for(;null!==gl;)rc(gl)}function sc(){for(;null!==gl&&!$e();)rc(gl)}function rc(e){var t=cl(e.alternate,e,bl);e.memoizedProps=e.pendingProps,null===t?ac(e):gl=t,hl.current=null}function ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=ho(n,t,bl)))return void(gl=n)}else{if(null!==(n=jo(n,t)))return n.flags&=32767,void(gl=n);if(null===e)return El=6,void(gl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(gl=t);gl=t=e}while(null!==t);0===El&&(El=5)}function oc(e,t){var n=bt,i=pl.transition;try{pl.transition=null,bt=1,function(e,t,n){do{lc()}while(null!==Cl);if(0!=(6&ml))throw Error(r(327));var i=e.finishedWork,s=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var a=i.lanes|i.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),r=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~r}}(e,a),e===fl&&(gl=fl=null,vl=0),0==(2064&i.subtreeFlags)&&0==(2064&i.flags)||Rl||(Rl=!0,fc(tt,(function(){return lc(),null}))),a=0!=(15990&i.flags),0!=(15990&i.subtreeFlags)||a){a=pl.transition,pl.transition=null;var o=bt;bt=1;var l=ml;ml|=4,hl.current=null,function(e,t){if(li(e=oi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++d===s&&(l=o),p===a&&++u===i&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($i={focusedElem:e,selectionRange:n},Vo=t;null!==Vo;)if(e=(t=Vo).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Vo=e;else for(;null!==Vo;){t=Vo;try{var f=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:Us(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=t.stateNode.containerInfo;if(1===E.nodeType)E.textContent="";else if(9===E.nodeType){var S=E.body;null!=S&&(S.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(e){dc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Vo=e;break}Vo=t.return}f=Wo,Wo=!1}(e,i),function(e,t){for(Vo=t;null!==Vo;){var n=(t=Vo).deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i];try{tl(e,s,t);var r=s.alternate;null!==r&&(r.return=null),s.return=null}catch(e){dc(s,t,e)}}if(n=t.child,0!=(12854&t.subtreeFlags)&&null!==n)n.return=t,Vo=n;else for(;null!==Vo;){t=Vo;try{var a=t.flags;if(32&a&&he(t.stateNode,""),512&a){var o=t.alternate;if(null!==o){var l=o.ref;null!==l&&("function"==typeof l?l(null):l.current=null)}}if(8192&a)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Al=Qe())}break;case 22:var d=null!==t.memoizedState,u=t.alternate,h=null!==u&&null!==u.memoizedState;e:{s=d;for(var p=null,m=i=n=t;;){if(5===m.tag){if(null===p){p=m;var f=m.stateNode;if(s){var g=f.style;"function"==typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var v=m.stateNode,b=m.memoizedProps.style,y=null!=b&&b.hasOwnProperty("display")?b.display:null;v.style.display=fe("display",y)}}}else if(6===m.tag)null===p&&(m.stateNode.nodeValue=s?"":m.memoizedProps);else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===i)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===i)break;for(;null===m.sibling;){if(null===m.return||m.return===i)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}if(d&&!h&&0!=(1&n.mode)){Vo=n;for(var E=n.child;null!==E;){for(n=Vo=E;null!==Vo;){var S=(i=Vo).child;switch(i.tag){case 0:case 11:case 14:case 15:zo(4,i,i.return);break;case 1:Bo(i,i.return);var O=i.stateNode;if("function"==typeof O.componentWillUnmount){var T=i.return;try{O.props=i.memoizedProps,O.state=i.memoizedState,O.componentWillUnmount()}catch(e){dc(i,T,e)}}break;case 5:Bo(i,i.return);break;case 22:if(null!==i.memoizedState){ol(n);continue}}null!==S?(S.return=i,Vo=S):ol(n)}E=E.sibling}}}switch(4102&a){case 2:Xo(t),t.flags&=-3;break;case 6:Xo(t),t.flags&=-3,nl(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,nl(t.alternate,t);break;case 4:nl(t.alternate,t)}}catch(e){dc(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,Vo=n;break}Vo=t.return}}}(e,i),ci($i),$i=null,e.current=i,sl(i,e,s),Ze(),ml=l,bt=o,pl.transition=a}else e.current=i;if(Rl&&(Rl=!1,Cl=e,Dl=s),0===(a=e.pendingLanes)&&(Ll=null),function(e){if(rt&&"function"==typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(st,e,void 0,128==(128&e.current.flags))}catch(e){}}(i.stateNode),Gl(e,Qe()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)n(t[i]);if(kl)throw kl=!1,e=Pl,Pl=null,e;0!=(1&Dl)&&0!==e.tag&&lc(),0!=(1&(a=e.pendingLanes))?e===xl?Ml++:(Ml=0,xl=e):Ml=0,xs()}(e,t,n)}finally{pl.transition=i,bt=n}return null}function lc(){if(null!==Cl){var e=yt(Dl),t=pl.transition,n=bt;try{if(pl.transition=null,bt=16>e?16:e,null===Cl)var i=!1;else{if(e=Cl,Cl=null,Dl=0,0!=(6&ml))throw Error(r(331));var s=ml;for(ml|=4,Vo=e.current;null!==Vo;){var a=Vo,o=a.child;if(0!=(16&Vo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Vo=d;null!==Vo;){var u=Vo;switch(u.tag){case 0:case 11:case 15:zo(8,u,a)}var h=u.child;if(null!==h)h.return=u,Vo=h;else for(;null!==Vo;){var p=(u=Vo).sibling,m=u.return;if($o(u),u===d){Vo=null;break}if(null!==p){p.return=m,Vo=p;break}Vo=m}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Vo=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,Vo=o;else e:for(;null!==Vo;){if(0!=(2048&(a=Vo).flags))switch(a.tag){case 0:case 11:case 15:zo(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Vo=b;break e}Vo=a.return}}var y=e.current;for(Vo=y;null!==Vo;){var E=(o=Vo).child;if(0!=(2064&o.subtreeFlags)&&null!==E)E.return=o,Vo=E;else e:for(o=y;null!==Vo;){if(0!=(2048&(l=Vo).flags))try{switch(l.tag){case 0:case 11:case 15:Ko(9,l)}}catch(e){dc(l,l.return,e)}if(l===o){Vo=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Vo=S;break e}Vo=l.return}}if(ml=s,xs(),rt&&"function"==typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(st,e)}catch(e){}i=!0}return i}finally{bt=n,pl.transition=t}}return!1}function cc(e,t,n){Js(e,t=so(0,t=Xa(n,t),1)),t=Fl(),null!==(e=Bl(e,1))&&(gt(e,1,t),Gl(e,t))}function dc(e,t,n){if(3===e.tag)cc(e,e,n);else for(;null!==t;){if(3===t.tag){cc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ll||!Ll.has(i))){Js(t,e=ro(t,e=Xa(n,e),1)),e=Fl(),null!==(t=Bl(t,1))&&(gt(t,1,e),Gl(t,e));break}}t=t.return}}function uc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=Fl(),e.pingedLanes|=e.suspendedLanes&n,fl===e&&(vl&n)===n&&(4===El||3===El&&(130023424&vl)===vl&&500>Qe()-Al?Xl(e,0):_l|=n),Gl(e,t)}function hc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=dt,0==(130023424&(dt<<=1))&&(dt=4194304)));var n=Fl();null!==(e=Bl(e,t))&&(gt(e,t,n),Gl(e,n))}function pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}function mc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),hc(e,n)}function fc(e,t){return Ye(e,t)}function gc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vc(e,t,n,i){return new gc(e,t,n,i)}function bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function yc(e,t){var n=e.alternate;return null===n?((n=vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ec(e,t,n,i,s,a){var o=2;if(i=e,"function"==typeof e)bc(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case T:return Sc(n.children,s,a,t);case _:o=8,s|=8;break;case w:return(e=vc(12,n,t,2|s)).elementType=w,e.lanes=a,e;case k:return(e=vc(13,n,t,s)).elementType=k,e.lanes=a,e;case P:return(e=vc(19,n,t,s)).elementType=P,e.lanes=a,e;case C:return Oc(n,s,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case A:o=9;break e;case I:o=11;break e;case L:o=14;break e;case R:o=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=vc(o,n,t,s)).elementType=e,t.type=i,t.lanes=a,t}function Sc(e,t,n,i){return(e=vc(7,e,i,t)).lanes=n,e}function Oc(e,t,n,i){return(e=vc(22,e,i,t)).elementType=C,e.lanes=n,e.stateNode={},e}function Tc(e,t,n){return(e=vc(6,e,null,t)).lanes=n,e}function _c(e,t,n){return(t=vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wc(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nc(e,t,n,i,s,r,a,o,l){return e=new wc(e,t,n,o,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=vc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null},Zs(r),e}function Ac(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Ic(e){if(!e)return Ss;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ns(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ns(n))return ks(e,n,t)}return t}function kc(e,t,n,i,s,r,a,o,l){return(e=Nc(n,i,!0,e,0,r,0,o,l)).context=Ic(null),n=e.current,(r=Xs(i=Fl(),s=Hl(n))).callback=null!=t?t:null,Js(n,r),e.current.lanes=s,gt(e,s,i),Gl(e,i),e}function Pc(e,t,n,i){var s=t.current,r=Fl(),a=Hl(s);return n=Ic(n),null===t.context?t.context=n:t.pendingContext=n,(t=Xs(r,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),Js(s,t),null!==(e=Vl(s,a,r))&&er(e,s,a),a}function Lc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Cc(e,t){Rc(e,t),(e=e.alternate)&&Rc(e,t)}cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ts.current)mo=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return mo=!1,function(e,t,n){switch(t.tag){case 3:_o(t),Dr();break;case 5:$r(t);break;case 1:Ns(t.type)&&Ps(t);break;case 4:Yr(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;Es(Fs,i._currentValue),i._currentValue=s;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Es(Qr,1&Qr.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Io(e,t,n):(Es(Qr,1&Qr.current),null!==(e=xo(e,t,n))?e.sibling:null);Es(Qr,1&Qr.current);break;case 19:if(i=0!=(n&t.childLanes),0!=(128&e.flags)){if(i)return Mo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Es(Qr,Qr.current),i)break;return null;case 22:case 23:return t.lanes=0,yo(e,t,n)}return xo(e,t,n)}(e,t,n);mo=0!=(131072&e.flags)}else mo=!1,Nr&&0!=(1048576&t.flags)&&Sr(t,mr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var s=ws(t,Os.current);Ks(t,n),s=pa(null,t,i,e,s,n);var a=ma();return t.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ns(i)?(a=!0,Ps(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Zs(t),s.updater=ar,t.stateNode=s,s._reactInternals=t,dr(t,i,e,n),t=To(null,t,i,!0,a,n)):(t.tag=0,Nr&&a&&Or(t),fo(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return bc(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===L)return 14}return 2}(i),e=Us(i,e),s){case 0:t=So(null,t,i,e,n);break e;case 1:t=Oo(null,t,i,e,n);break e;case 11:t=go(null,t,i,e,n);break e;case 14:t=vo(null,t,i,Us(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,So(e,t,i,s=t.elementType===i?s:Us(i,s),n);case 1:return i=t.type,s=t.pendingProps,Oo(e,t,i,s=t.elementType===i?s:Us(i,s),n);case 3:e:{if(_o(t),null===e)throw Error(r(387));i=t.pendingProps,s=(a=t.memoizedState).element,Qs(e,t),nr(t,i,null,n);var o=t.memoizedState;if(i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=wo(e,t,i,n,s=Error(r(423)));break e}if(i!==s){t=wo(e,t,i,n,s=Error(r(424)));break e}for(wr=is(t.stateNode.containerInfo.firstChild),_r=t,Nr=!0,Ar=null,n=Vr(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Dr(),i===s){t=xo(e,t,n);break e}fo(e,t,i,n)}t=t.child}return t;case 5:return $r(t),null===e&&Lr(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,Zi(i,s)?o=null:null!==a&&Zi(i,a)&&(t.flags|=32),Eo(e,t),fo(e,t,o,n),t.child;case 6:return null===e&&Lr(t),null;case 13:return Io(e,t,n);case 4:return Yr(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Hr(t,null,i,n):fo(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,go(e,t,i,s=t.elementType===i?s:Us(i,s),n);case 7:return fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Es(Fs,i._currentValue),i._currentValue=o,null!==a)if(ni(a.value,o)){if(a.children===s.children&&!Ts.current){t=xo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=Xs(-1,n&-n)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),zs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),zs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}fo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Ks(t,n),i=i(s=Ys(s)),t.flags|=1,fo(e,t,i,n),t.child;case 14:return s=Us(i=t.type,t.pendingProps),vo(e,t,i,s=Us(i.type,s),n);case 15:return bo(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Us(i,s),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ns(i)?(e=!0,Ps(t)):e=!1,Ks(t,n),lr(t,i,s),dr(t,i,s,n),To(null,t,i,!0,e,n);case 19:return Mo(e,t,n);case 22:return yo(e,t,n)}throw Error(r(156,t.tag))};var Dc="function"==typeof reportError?reportError:function(e){console.error(e)};function Mc(e){this._internalRoot=e}function xc(e){this._internalRoot=e}function jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Fc(){}function Hc(e,t,n,i,s){var r=n._reactRootContainer;if(r){var a=r;if("function"==typeof s){var o=s;s=function(){var e=Lc(a);o.call(e)}}Pc(t,a,e,s)}else a=function(e,t,n,i,s){if(s){if("function"==typeof i){var r=i;i=function(){var e=Lc(a);r.call(e)}}var a=kc(t,i,e,0,null,!1,0,"",Fc);return e._reactRootContainer=a,e[ls]=a.current,ji(8===e.nodeType?e.parentNode:e),Zl(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof i){var o=i;i=function(){var e=Lc(l);o.call(e)}}var l=Nc(e,0,!1,null,0,!1,0,"",Fc);return e._reactRootContainer=l,e[ls]=l.current,ji(8===e.nodeType?e.parentNode:e),Zl((function(){Pc(t,l,n,i)})),l}(n,t,e,s,i);return Lc(a)}xc.prototype.render=Mc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Pc(e,t,null,null)},xc.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zl((function(){Pc(null,e,null,null)})),t[ls]=null}},xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&xt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),Gl(t,Qe()),0==(6&ml)&&(Il=Qe()+500,xs()))}break;case 13:var i=Fl();Zl((function(){return Vl(e,1,i)})),Cc(e,1)}},St=function(e){13===e.tag&&(Vl(e,134217728,Fl()),Cc(e,134217728))},Ot=function(e){if(13===e.tag){var t=Fl(),n=Hl(e);Vl(e,n,t),Cc(e,n)}},Tt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Oe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=fs(i);if(!s)throw Error(r(90));Y(i),X(i,s)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=$l,ke=Zl;var Vc={usingClientEntryPoint:!1,Events:[ps,ms,fs,Ne,Ae,$l]},Bc={findFiberByHostInstance:hs,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Gc={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{st=Wc.inject(Gc),rt=Wc}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!jc(t))throw Error(r(200));return Ac(e,t,null,n)},t.createRoot=function(e,t){if(!jc(e))throw Error(r(299));var n=!1,i="",s=Dc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Nc(e,1,!1,null,0,n,0,i,s),e[ls]=t.current,ji(8===e.nodeType?e.parentNode:e),new Mc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return Zl(e)},t.hydrate=function(e,t,n){if(!Uc(t))throw Error(r(200));return Hc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,s=!1,a="",o=Dc;if(null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=kc(t,null,e,1,null!=n?n:null,s,0,a,o),e[ls]=t.current,ji(e),i)for(e=0;e<i.length;e++)s=(s=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new xc(t)},t.render=function(e,t,n){if(!Uc(t))throw Error(r(200));return Hc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Uc(e))throw Error(r(40));return!!e._reactRootContainer&&(Zl((function(){Hc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ls]=null}))})),!0)},t.unstable_batchedUpdates=$l,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Uc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Hc(e,t,n,!1,i)},t.version="18.0.0-fc46dba67-20220329"},20745:(e,t,n)=>{"use strict";var i=n(73935);t.s=i.createRoot,i.hydrateRoot},73935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(64448)},69590:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,i="function"==typeof Set,s="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function r(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var o,l,c,d;if(Array.isArray(e)){if((o=e.length)!=a.length)return!1;for(l=o;0!=l--;)if(!r(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;for(d=e.entries();!(l=d.next()).done;)if(!r(l.value[1],a.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((o=e.length)!=a.length)return!1;for(l=o;0!=l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!r(e[c[l]],a[c[l]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return r(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},77294:(e,t,n)=>{"use strict";n.d(t,{D:()=>ge});var i=n(67294);function s(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function r(e){return e instanceof s(e).Element||e instanceof Element}function a(e){return e instanceof s(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!=typeof ShadowRoot&&(e instanceof s(e).ShadowRoot||e instanceof ShadowRoot)}var l=Math.max,c=Math.min,d=Math.round;function u(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),i=1,s=1;if(a(e)&&t){var r=e.offsetHeight,o=e.offsetWidth;o>0&&(i=d(n.width)/o||1),r>0&&(s=d(n.height)/r||1)}return{width:n.width/i,height:n.height/s,top:n.top/s,right:n.right/i,bottom:n.bottom/s,left:n.left/i,x:n.left/i,y:n.top/s}}function h(e){var t=s(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function m(e){return((r(e)?e.ownerDocument:e.document)||window.document).documentElement}function f(e){return u(m(e)).left+h(e).scrollLeft}function g(e){return s(e).getComputedStyle(e)}function v(e){var t=g(e),n=t.overflow,i=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function b(e,t,n){void 0===n&&(n=!1);var i,r,o=a(t),l=a(t)&&function(e){var t=e.getBoundingClientRect(),n=d(t.width)/e.offsetWidth||1,i=d(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),c=m(t),g=u(e,l),b={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(o||!o&&!n)&&(("body"!==p(t)||v(c))&&(b=(i=t)!==s(i)&&a(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:h(i)),a(t)?((y=u(t,!0)).x+=t.clientLeft,y.y+=t.clientTop):c&&(y.x=f(c))),{x:g.left+b.scrollLeft-y.x,y:g.top+b.scrollTop-y.y,width:g.width,height:g.height}}function y(e){var t=u(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function E(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||m(e)}function S(e){return["html","body","#document"].indexOf(p(e))>=0?e.ownerDocument.body:a(e)&&v(e)?e:S(E(e))}function O(e,t){var n;void 0===t&&(t=[]);var i=S(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),a=s(i),o=r?[a].concat(a.visualViewport||[],v(i)?i:[]):i,l=t.concat(o);return r?l:l.concat(O(E(o)))}function T(e){return["table","td","th"].indexOf(p(e))>=0}function _(e){return a(e)&&"fixed"!==g(e).position?e.offsetParent:null}function w(e){for(var t=s(e),n=_(e);n&&T(n)&&"static"===g(n).position;)n=_(n);return n&&("html"===p(n)||"body"===p(n)&&"static"===g(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&a(e)&&"fixed"===g(e).position)return null;for(var n=E(e);a(n)&&["html","body"].indexOf(p(n))<0;){var i=g(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var N="top",A="bottom",I="right",k="left",P="auto",L=[N,A,I,k],R="start",C="end",D="viewport",M="popper",x=L.reduce((function(e,t){return e.concat([t+"-"+R,t+"-"+C])}),[]),j=[].concat(L,[P]).reduce((function(e,t){return e.concat([t,t+"-"+R,t+"-"+C])}),[]),U=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function F(e){var t=new Map,n=new Set,i=[];function s(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&s(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||s(e)})),i}var H={placement:"bottom",modifiers:[],strategy:"absolute"};function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function B(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,s=t.defaultOptions,a=void 0===s?H:s;return function(e,t,n){void 0===n&&(n=a);var s,o,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},H,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],d=!1,u={state:l,setOptions:function(n){var s="function"==typeof n?n(l.options):n;h(),l.options=Object.assign({},a,l.options,s),l.scrollParents={reference:r(e)?O(e):e.contextElement?O(e.contextElement):[],popper:O(t)};var o=function(e){var t=F(e);return U.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,l.options.modifiers)));return l.orderedModifiers=o.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,s=e.effect;if("function"==typeof s){var r=s({state:l,name:t,instance:u,options:i}),a=function(){};c.push(r||a)}})),u.update()},forceUpdate:function(){if(!d){var e=l.elements,t=e.reference,n=e.popper;if(V(t,n)){l.rects={reference:b(t,w(n),"fixed"===l.options.strategy),popper:y(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var s=l.orderedModifiers[i],r=s.fn,a=s.options,o=void 0===a?{}:a,c=s.name;"function"==typeof r&&(l=r({state:l,options:o,name:c,instance:u})||l)}else l.reset=!1,i=-1}}},update:(s=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(s())}))}))),o}),destroy:function(){h(),d=!0}};if(!V(e,t))return u;function h(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!d&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var G={passive:!0};function W(e){return e.split("-")[0]}function z(e){return e.split("-")[1]}function K(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e){var t,n=e.reference,i=e.element,s=e.placement,r=s?W(s):null,a=s?z(s):null,o=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(r){case N:t={x:o,y:n.y-i.height};break;case A:t={x:o,y:n.y+n.height};break;case I:t={x:n.x+n.width,y:l};break;case k:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=r?K(r):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case R:t[c]=t[c]-(n[d]/2-i[d]/2);break;case C:t[c]=t[c]+(n[d]/2-i[d]/2)}}return t}var q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $(e){var t,n=e.popper,i=e.popperRect,r=e.placement,a=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,p=e.isFixed,f=o.x,v=void 0===f?0:f,b=o.y,y=void 0===b?0:b,E="function"==typeof h?h({x:v,y:y}):{x:v,y:y};v=E.x,y=E.y;var S=o.hasOwnProperty("x"),O=o.hasOwnProperty("y"),T=k,_=N,P=window;if(u){var L=w(n),R="clientHeight",D="clientWidth";if(L===s(n)&&"static"!==g(L=m(n)).position&&"absolute"===l&&(R="scrollHeight",D="scrollWidth"),L=L,r===N||(r===k||r===I)&&a===C)_=A,y-=(p&&P.visualViewport?P.visualViewport.height:L[R])-i.height,y*=c?1:-1;if(r===k||(r===N||r===A)&&a===C)T=I,v-=(p&&P.visualViewport?P.visualViewport.width:L[D])-i.width,v*=c?1:-1}var M,x=Object.assign({position:l},u&&q),j=!0===h?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:d(t*i)/i||0,y:d(n*i)/i||0}}({x:v,y:y}):{x:v,y:y};return v=j.x,y=j.y,c?Object.assign({},x,((M={})[_]=O?"0":"",M[T]=S?"0":"",M.transform=(P.devicePixelRatio||1)<=1?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",M)):Object.assign({},x,((t={})[_]=O?y+"px":"",t[T]=S?v+"px":"",t.transform="",t))}var Z={left:"right",right:"left",bottom:"top",top:"bottom"};function Q(e){return e.replace(/left|right|bottom|top/g,(function(e){return Z[e]}))}var X={start:"end",end:"start"};function J(e){return e.replace(/start|end/g,(function(e){return X[e]}))}function ee(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function te(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ne(e,t){return t===D?te(function(e){var t=s(e),n=m(e),i=t.visualViewport,r=n.clientWidth,a=n.clientHeight,o=0,l=0;return i&&(r=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,l=i.offsetTop)),{width:r,height:a,x:o+f(e),y:l}}(e)):r(t)?function(e){var t=u(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):te(function(e){var t,n=m(e),i=h(e),s=null==(t=e.ownerDocument)?void 0:t.body,r=l(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=l(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-i.scrollLeft+f(e),c=-i.scrollTop;return"rtl"===g(s||n).direction&&(o+=l(n.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:o,y:c}}(m(e)))}function ie(e,t,n){var i="clippingParents"===t?function(e){var t=O(E(e)),n=["absolute","fixed"].indexOf(g(e).position)>=0&&a(e)?w(e):e;return r(n)?t.filter((function(e){return r(e)&&ee(e,n)&&"body"!==p(e)})):[]}(e):[].concat(t),s=[].concat(i,[n]),o=s[0],d=s.reduce((function(t,n){var i=ne(e,n);return t.top=l(i.top,t.top),t.right=c(i.right,t.right),t.bottom=c(i.bottom,t.bottom),t.left=l(i.left,t.left),t}),ne(e,o));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function se(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function re(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ae(e,t){void 0===t&&(t={});var n=t,i=n.placement,s=void 0===i?e.placement:i,a=n.boundary,o=void 0===a?"clippingParents":a,l=n.rootBoundary,c=void 0===l?D:l,d=n.elementContext,h=void 0===d?M:d,p=n.altBoundary,f=void 0!==p&&p,g=n.padding,v=void 0===g?0:g,b=se("number"!=typeof v?v:re(v,L)),y=h===M?"reference":M,E=e.rects.popper,S=e.elements[f?y:h],O=ie(r(S)?S:S.contextElement||m(e.elements.popper),o,c),T=u(e.elements.reference),_=Y({reference:T,element:E,strategy:"absolute",placement:s}),w=te(Object.assign({},E,_)),k=h===M?w:T,P={top:O.top-k.top+b.top,bottom:k.bottom-O.bottom+b.bottom,left:O.left-k.left+b.left,right:k.right-O.right+b.right},R=e.modifiersData.offset;if(h===M&&R){var C=R[s];Object.keys(P).forEach((function(e){var t=[I,A].indexOf(e)>=0?1:-1,n=[N,A].indexOf(e)>=0?"y":"x";P[e]+=C[n]*t}))}return P}function oe(e,t,n){return l(e,c(t,n))}function le(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ce(e){return[N,I,A,k].some((function(t){return e[t]>=0}))}var de=B({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,a=void 0===r||r,o=i.resize,l=void 0===o||o,c=s(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&d.forEach((function(e){e.addEventListener("scroll",n.update,G)})),l&&c.addEventListener("resize",n.update,G),function(){a&&d.forEach((function(e){e.removeEventListener("scroll",n.update,G)})),l&&c.removeEventListener("resize",n.update,G)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,s=void 0===i||i,r=n.adaptive,a=void 0===r||r,o=n.roundOffsets,l=void 0===o||o,c={placement:W(t.placement),variation:z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,$(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,$(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},s=t.elements[e];a(s)&&p(s)&&(Object.assign(s.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],s=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});a(i)&&p(i)&&(Object.assign(i.style,r),Object.keys(s).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,s=n.offset,r=void 0===s?[0,0]:s,a=j.reduce((function(e,n){return e[n]=function(e,t,n){var i=W(e),s=[k,N].indexOf(i)>=0?-1:1,r="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=r[0],o=r[1];return a=a||0,o=(o||0)*s,[k,I].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}(n,t.rects,r),e}),{}),o=a[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var s=n.mainAxis,r=void 0===s||s,a=n.altAxis,o=void 0===a||a,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=void 0===p||p,f=n.allowedAutoPlacements,g=t.options.placement,v=W(g),b=l||(v===g||!m?[Q(g)]:function(e){if(W(e)===P)return[];var t=Q(e);return[J(e),t,J(t)]}(g)),y=[g].concat(b).reduce((function(e,n){return e.concat(W(n)===P?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,s=n.boundary,r=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?j:l,d=z(i),u=d?o?x:x.filter((function(e){return z(e)===d})):L,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var p=h.reduce((function(t,n){return t[n]=ae(e,{placement:n,boundary:s,rootBoundary:r,padding:a})[W(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:f}):n)}),[]),E=t.rects.reference,S=t.rects.popper,O=new Map,T=!0,_=y[0],w=0;w<y.length;w++){var C=y[w],D=W(C),M=z(C)===R,U=[N,A].indexOf(D)>=0,F=U?"width":"height",H=ae(t,{placement:C,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),V=U?M?I:k:M?A:N;E[F]>S[F]&&(V=Q(V));var B=Q(V),G=[];if(r&&G.push(H[D]<=0),o&&G.push(H[V]<=0,H[B]<=0),G.every((function(e){return e}))){_=C,T=!1;break}O.set(C,G)}if(T)for(var K=function(e){var t=y.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},Y=m?3:1;Y>0;Y--){if("break"===K(Y))break}t.placement!==_&&(t.modifiersData[i]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,s=n.mainAxis,r=void 0===s||s,a=n.altAxis,o=void 0!==a&&a,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.padding,m=n.tether,f=void 0===m||m,g=n.tetherOffset,v=void 0===g?0:g,b=ae(t,{boundary:d,rootBoundary:u,padding:p,altBoundary:h}),E=W(t.placement),S=z(t.placement),O=!S,T=K(E),_="x"===T?"y":"x",P=t.modifiersData.popperOffsets,L=t.rects.reference,C=t.rects.popper,D="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,M="number"==typeof D?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(P){if(r){var U,F="y"===T?N:k,H="y"===T?A:I,V="y"===T?"height":"width",B=P[T],G=B+b[F],Y=B-b[H],q=f?-C[V]/2:0,$=S===R?L[V]:C[V],Z=S===R?-C[V]:-L[V],Q=t.elements.arrow,X=f&&Q?y(Q):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=J[F],te=J[H],ne=oe(0,L[V],X[V]),ie=O?L[V]/2-q-ne-ee-M.mainAxis:$-ne-ee-M.mainAxis,se=O?-L[V]/2+q+ne+te+M.mainAxis:Z+ne+te+M.mainAxis,re=t.elements.arrow&&w(t.elements.arrow),le=re?"y"===T?re.clientTop||0:re.clientLeft||0:0,ce=null!=(U=null==x?void 0:x[T])?U:0,de=B+se-ce,ue=oe(f?c(G,B+ie-ce-le):G,B,f?l(Y,de):Y);P[T]=ue,j[T]=ue-B}if(o){var he,pe="x"===T?N:k,me="x"===T?A:I,fe=P[_],ge="y"===_?"height":"width",ve=fe+b[pe],be=fe-b[me],ye=-1!==[N,k].indexOf(E),Ee=null!=(he=null==x?void 0:x[_])?he:0,Se=ye?ve:fe-L[ge]-C[ge]-Ee+M.altAxis,Oe=ye?fe+L[ge]+C[ge]-Ee-M.altAxis:be,Te=f&&ye?function(e,t,n){var i=oe(e,t,n);return i>n?n:i}(Se,fe,Oe):oe(f?Se:ve,fe,f?Oe:be);P[_]=Te,j[_]=Te-fe}t.modifiersData[i]=j}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,s=e.options,r=n.elements.arrow,a=n.modifiersData.popperOffsets,o=W(n.placement),l=K(o),c=[k,I].indexOf(o)>=0?"height":"width";if(r&&a){var d=function(e,t){return se("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:re(e,L))}(s.padding,n),u=y(r),h="y"===l?N:k,p="y"===l?A:I,m=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],f=a[l]-n.rects.reference[l],g=w(r),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=m/2-f/2,E=d[h],S=v-u[c]-d[p],O=v/2-u[c]/2+b,T=oe(E,O,S),_=l;n.modifiersData[i]=((t={})[_]=T,t.centerOffset=T-O,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&ee(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,a=ae(t,{elementContext:"reference"}),o=ae(t,{altBoundary:!0}),l=le(a,i),c=le(o,s,r),d=ce(l),u=ce(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),ue=n(69590),he=n.n(ue),pe=function(e){return e.reduce((function(e,t){var n=t[0],i=t[1];return e[n]=i,e}),{})},me="undefined"!=typeof window&&window.document&&window.document.createElement?i.useLayoutEffect:i.useEffect,fe=[],ge=function(e,t,n){void 0===n&&(n={});var s=i.useRef(null),r={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||fe},a=i.useState({styles:{popper:{position:r.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=a[0],l=a[1],c=i.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);l({styles:pe(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:pe(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),d=i.useMemo((function(){var e={onFirstUpdate:r.onFirstUpdate,placement:r.placement,strategy:r.strategy,modifiers:[].concat(r.modifiers,[c,{name:"applyStyles",enabled:!1}])};return he()(s.current,e)?s.current||e:(s.current=e,e)}),[r.onFirstUpdate,r.placement,r.strategy,r.modifiers,c]),u=i.useRef();return me((function(){u.current&&u.current.setOptions(d)}),[d]),me((function(){if(null!=e&&null!=t){var i=(n.createPopper||de)(e,t,d);return u.current=i,function(){i.destroy(),u.current=null}}}),[e,t,n.createPopper]),{state:u.current?u.current.state:null,styles:o.styles,attributes:o.attributes,update:u.current?u.current.update:null,forceUpdate:u.current?u.current.forceUpdate:null}}},75251:(e,t,n)=>{"use strict";var i=n(67294),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,r={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:s,type:e,key:c,ref:d,props:r,_owner:o.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},72408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var E=y.prototype=new b;E.constructor=y,f(E,v.prototype),E.isPureReactComponent=!0;var S=Array.isArray,O=Object.prototype.hasOwnProperty,T={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,i){var s,r={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)O.call(t,s)&&!_.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:r,_owner:T.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,s,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===r?"."+I(l,0):r,S(a)?(s="",null!=e&&(s=e.replace(A,"$&/")+"/"),k(a,t,s,"",(function(e){return e}))):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",S(e))for(var c=0;c<e.length;c++){var d=r+I(o=e[c],c);l+=k(o,t,s,d,a)}else if("function"==typeof(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=d.call(e),c=0;!(o=e.next()).done;)l+=k(o=o.value,t,s,d=r+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var i=[],s=0;return k(e,i,"","",(function(e){return t.call(n,e,s++)})),i}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},C={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:C,ReactCurrentOwner:T};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=y,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,i){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),r=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=T.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)O.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=i;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:n,type:e.type,key:r,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.transition;C.transition={};try{e()}finally{C.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},67294:(e,t,n)=>{"use strict";e.exports=n(72408)},85893:(e,t,n)=>{"use strict";e.exports=n(75251)},91033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var s=i[n];e.call(t,s[1],s[0])}},t}()}(),s="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,s=0;function r(){n&&(n=!1,e()),i&&l()}function o(){a(r)}function l(){var e=Date.now();if(n){if(e-s<2)return;i=!0}else n=!0,i=!1,setTimeout(o,t);s=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){s&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){s&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;o.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var s=i[n];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},h=b(0,0,0,0);function p(e){return parseFloat(e)||0}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}function f(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var i=u(e).getComputedStyle(e),s=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var s=i[n],r=e["padding-"+s];t[s]=p(r)}return t}(i),r=s.left+s.right,a=s.top+s.bottom,o=p(i.width),l=p(i.height);if("border-box"===i.boxSizing&&(Math.round(o+r)!==t&&(o-=m(i,"left","right")+r),Math.round(l+a)!==n&&(l-=m(i,"top","bottom")+a)),!function(e){return e===u(e).document.documentElement}(e)){var c=Math.round(o+r)-t,d=Math.round(l+a)-n;1!==Math.abs(c)&&(o-=c),1!==Math.abs(d)&&(l-=d)}return b(s.left,s.top,o,l)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return s?g(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):f(e):h}function b(e,t,n,i){return{x:e,y:t,width:n,height:i}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),E=function(e,t){var n,i,s,r,a,o,l,c=(i=(n=t).x,s=n.y,r=n.width,a=n.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(o.prototype),d(l,{x:i,y:s,width:r,height:a,top:s,right:i+r,bottom:a+s,left:i}),l);d(this,{target:e,contentRect:c})},S=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new E(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!=typeof WeakMap?new WeakMap:new i,T=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),i=new S(t,n,this);O.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){T.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}}));const _=void 0!==r.ResizeObserver?r.ResizeObserver:T},473:e=>{function t(e,t){this._elements=new Array(e||50),this._first=0,this._last=0,this._size=0,this._evictedCb=t}e.exports=t,t.prototype.capacity=function(){return this._elements.length},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.isFull=function(){return this.size()===this.capacity()},t.prototype.peek=function(){if(this.isEmpty())throw new Error("RingBuffer is empty");return this._elements[this._first]},t.prototype.peekN=function(e){if(e>this._size)throw new Error("Not enough elements in RingBuffer");var t=Math.min(this._first+e,this.capacity()),n=this._elements.slice(this._first,t);if(t<this.capacity())return n;var i=this._elements.slice(0,e-n.length);return n.concat(i)},t.prototype.deq=function(){var e=this.peek();return this._size--,this._first=(this._first+1)%this.capacity(),e},t.prototype.deqN=function(e){var t=this.peekN(e);return this._size-=e,this._first=(this._first+e)%this.capacity(),t},t.prototype.enq=function(e){this._end=(this._first+this.size())%this.capacity();var t=this.isFull();return t&&this._evictedCb&&this._evictedCb(this._elements[this._end]),this._elements[this._end]=e,t?this._first=(this._first+1)%this.capacity():this._size++,this.size()},t.prototype.size=function(){return this._size}},60053:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,s=e[i];if(!(0<r(s,t)))break e;e[i]=t,e[n]=s,n=i}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,s=e.length,a=s>>>1;i<a;){var o=2*(i+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,n))c<s&&0>r(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<s&&0>r(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=i(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function S(e){if(g=!1,E(e),!f)if(null!==i(c))f=!0,C(O);else{var t=i(d);null!==t&&D(S,t.startTime-e)}}function O(e,n){f=!1,g&&(g=!1,b(N),N=-1),m=!0;var r=p;try{for(E(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!k());){var a=h.callback;if("function"==typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?h.callback=o:h===i(c)&&s(c),E(n)}else s(c);h=i(c)}if(null!==h)var l=!0;else{var u=i(d);null!==u&&D(S,u.startTime-n),l=!1}return l}finally{h=null,p=r,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,_=!1,w=null,N=-1,A=5,I=-1;function k(){return!(t.unstable_now()-I<A)}function P(){if(null!==w){var e=t.unstable_now();I=e;var n=!0;try{n=w(!0,e)}finally{n?T():(_=!1,w=null)}}else _=!1}if("function"==typeof y)T=function(){y(P)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,R=L.port2;L.port1.onmessage=P,T=function(){R.postMessage(null)}}else T=function(){v(P,0)};function C(e){w=e,_||(_=!0,T())}function D(e,n){N=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,C(O))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,r){var a=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(e.sortIndex=r,n(d,e),null===i(c)&&e===i(d)&&(g?(b(N),N=-1):g=!0,D(S,r-a))):(e.sortIndex=o,n(c,e),f||m||(f=!0,C(O))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},63840:(e,t,n)=>{"use strict";e.exports=n(60053)},61040:(e,t,n)=>{"use strict";var i=n(11132),s=n(22566),r=n(21924)("String.prototype.replace"),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=s(i(this));return r(r(e,a,""),o,"")}},46057:(e,t,n)=>{"use strict";var i=n(55559),s=n(4289),r=n(61040),a=n(30254),o=n(60029),l=i(a());s(l,{getPolyfill:a,implementation:r,shim:o}),e.exports=l},11132:(e,t,n)=>{"use strict";e.exports=n(37981)},22566:(e,t,n)=>{"use strict";var i=n(18989),s=i("%String%"),r=i("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new r("Cannot convert a Symbol value to a string");return s(e)}},37981:(e,t,n)=>{"use strict";var i=n(18989)("%TypeError%");e.exports=function(e,t){if(null==e)throw new i(t||"Cannot call method on "+e);return e}},18989:(e,t,n)=>{"use strict";var i,s=SyntaxError,r=Function,a=TypeError,o=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},d=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,u=n(41405)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p=o("async function* () {}"),m=p?p.prototype:i,f=m?m.prototype:i,g="undefined"==typeof Uint8Array?i:h(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":o("async function () {}"),"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":f?h(f):i,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":o("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):i,"%Symbol%":u?Symbol:i,"%SyntaxError%":s,"%ThrowTypeError%":d,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(58612),E=n(17642),S=y.call(Function.call,Array.prototype.concat),O=y.call(Function.apply,Array.prototype.splice),T=y.call(Function.call,String.prototype.replace),_=y.call(Function.call,String.prototype.slice),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,A=function(e){var t=_(e,0,1),n=_(e,-1);if("%"===t&&"%"!==n)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var i=[];return T(e,w,(function(e,t,n,s){i[i.length]=n?T(s,N,"$1"):t||e})),i},I=function(e,t){var n,i=e;if(E(b,i)&&(i="%"+(n=b[i])[0]+"%"),E(v,i)){var r=v[i];if(void 0===r&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var n=A(e),i=n.length>0?n[0]:"",r=I("%"+i+"%",t),o=r.name,c=r.value,d=!1,u=r.alias;u&&(i=u[0],O(n,S([0,1],u)));for(var h=1,p=!0;h<n.length;h+=1){var m=n[h],f=_(m,0,1),g=_(m,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new s("property names with quotes must have matching quotes");if("constructor"!==m&&p||(d=!0),E(v,o="%"+(i+="."+m)+"%"))c=v[o];else if(null!=c){if(!(m in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var b=l(c,m);c=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[m]}else p=E(c,m),c=c[m];p&&!d&&(v[o]=c)}}return c}},30254:(e,t,n)=>{"use strict";var i=n(61040);e.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:i}},60029:(e,t,n)=>{"use strict";var i=n(4289),s=n(30254);e.exports=function(){var e=s();return i(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},67121:(e,t,n)=>{"use strict";e=n.hmd(e);!function(e){var t,n=e.Symbol;if("function"==typeof n)if(n.observable)t=n.observable;else{t=n.for("https://github.com/benlesh/symbol-observable");try{n.observable=t}catch(e){}}else t="@@observable"}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},43842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});class i{constructor(e=[],t=s){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const s=e-1>>1,r=t[s];if(n(i,r)>=0)break;t[e]=r,e=s}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,s=t[e];for(;e<i;){let i=1+(e<<1),r=t[i];const a=i+1;if(a<this.length&&n(t[a],r)<0&&(i=a,r=t[a]),n(r,s)>=0)break;t[e]=r,e=i}t[e]=s}}function s(e,t){return e<t?-1:e>t?1:0}},10690:(e,t,n)=>{"use strict";n.d(t,{ej:()=>l,kG:()=>c,U6:()=>p});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};!function(e){function t(){var t=this||self;t.globalThis=t,delete e.prototype._T_}"object"!=typeof globalThis&&(this?t():(e.defineProperty(e.prototype,"_T_",{configurable:!0,get:t}),_T_))}(Object);const s=globalThis;var r="Invariant Violation",a=Object.setPrototypeOf,o=void 0===a?function(e,t){return e.__proto__=t,e}:a,l=function(e){function t(n){void 0===n&&(n=r);var i=e.call(this,"number"==typeof n?r+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return i.framesToPop=1,i.name=r,o(i,t.prototype),i}return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function c(e,t){if(!e)throw new l(t)}var d=["log","warn","error","silent"],u=d.indexOf("log");function h(e){return function(){if(d.indexOf(e)>=u)return console[e].apply(console,arguments)}}function p(e){var t=d[u];return u=Math.max(0,d.indexOf(e)),t}!function(e){e.log=h("log"),e.warn=h("warn"),e.error=h("error")}(c||(c={}));var m=s.process||{env:{}};if(!s.process)try{Object.defineProperty(s,"process",{value:m})}catch(e){}},70892:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LazyLoader:()=>Ve,loadInterface:()=>Be});var i=n(947),s=n(61864),r=n(92810),a=n(23379),o=n(88931),l=n(87926),c=n(41187),d=n(66777),u=n(73121),h=n(59370),p=n(74533),m=n(17878),f=n(59625),g=n(10374),v=n(64918),b=n(29900),y=n(56159),E=n(69739),S=n(33324),O=n(19648),T=n(30643),_=n(49947),w=n(55502),N=n(11200),A=n(82814),I=n(12039),k=n(13132),P=n(33160),L=n(62612),R=n(72936),C=n(60083),D=n(79183),M=n(19663);class x extends M.m{constructor(e){super(),this.payload={key:e}}}x.id="SETTING_GET";class j extends M.m{constructor(e,t){super(),this.payload={key:e,value:t}}}j.id="SETTING_UPDATE";var U=n(8948),F=n(63252),H=n(18923),V=n(66563),B=n(89549),G=n(76631),W=n(96154),z=n(15462),K=n(90304),Y=n(95882),q=n(41326),$=n(5090),Z=n(10699),Q=n(54244),X=n(9037),J=n(5332),ee=n(76957),te=n(79727),ne=n(34361),ie=n(80008),se=n(28022),re=n(80742),ae=n(85679),oe=n(20341),le=n(92294),ce=n(26568),de=n(85992),ue=n(28269),he=n(34029),pe=n(53954),me=n(21973),fe=n(2473),ge=n(23254),ve=n(3090),be=n(33585),ye=n(41603),Ee=n(77950),Se=n(99539),Oe=n(57898),Te=n(24484),_e=n(60699),we=n(32347),Ne=n(43470),Ae=n(16935),Ie=n(43037),ke=n(61774),Pe=n(81396),Le=n(76532),Re=n(73339),Ce=n(46950),De=n(5823),Me=n(23748),xe=n(35826),je=n(27553),Ue=n(52507),Fe=n(82686);const He=function(e,t){return n=>async function(n){var i,s;const r={modelId:n,includeDisabled:!0,includeLayers:!0},a=await e.query(Fe.GetMattertags,r,{}),o=null===(s=null===(i=null==a?void 0:a.data)||void 0===i?void 0:i.model)||void 0===s?void 0:s.mattertags;if(!o||!Array.isArray(o))return[];const l=[];for(const e of o){const n=t.deserialize(e);if(n){const e=new Pe.Vector3,t=new Pe.Vector3;e.set(n.anchorPosition.x,n.anchorPosition.y,n.anchorPosition.z),t.set(n.stemVector.x,n.stemVector.y,n.stemVector.z),t.normalize(),l.push(n)}}return l}(n)};class Ve{constructor(){this.module=null,this.loaderReady=new Ce.Q,this.loader=null}setLoader(e){this.loader||(this.loader=e,this.loaderReady.resolve())}async getModule(){if(this.module)return this.module;if(await this.loaderReady,this.loader&&(this.module=await this.loader()),this.module)return this.module;throw new Error("There was an error setting up the factory")}}async function Be(e,t,n,i,l,c,u){const h=new o.M;let M;try{M=await h.load(n.interface)}catch(e){throw Error("Unable to fetch the sdk interface. The sdk will be disabled. "+e)}const ye={THREE:Pe,oEmbed:l},Ce={MpSdkAuthentication:p.w,RenderLayers:m.o,OptionsKey:f.gx,Application:Q.Mx,AppPhase:Q.nh,AppPhaseChangeMessage:g.LZ,CameraTransitionType:v.n,GetFloorIntersectCommand:b.Z,StartMoveToFloorMessage:y.S,EndMoveToFloorMessage:E.P,MoveToFloorIndexCommand:S.h9,ShowAllFloorsCommand:S.EU,AddInMemoryLayerCommand:ie.Ld,SelectLayerCommand:ie.cq,SetActiveModelViewCommand:ie.wG,ToggleLayerCommand:ie.MV,MattertagMediaType:De.L0,RemoveMattertagCommand:O.Gn,CloseAnnotationCommand:Ne.Aj,TagDescriptionChunkType:T.z,TagLinkType:_.U,AddMattertagCommand:O.Fz,EditMattertagCommand:O.Ek,MattertagLinkOpenedMessage:w.Ik,ModelDataLoadedMessage:N.Z,ModelColliderTarget:A.S,NavigateToSweepCommand:I.ju,ModelViewChangeCompleteMessage:se.YB,MeasuringPhase:oe.au,SettingGetCommand:x,SettingUpdateCommand:j,PuckCollider:U.Y,PinClickedMessage:k.F7,PinHoverChangeMessage:k.tP,PinHeadMesh:P.$,InstancedPinHeads:D.z,PinType:L.Er,OpenTagCommand:Ie.lt,CloseTagCommand:Ie.xb,DockAnnotationCommand:Ne.bd,ChangePinOpacityScaleCommand:R.nP,MovePinCommand:R.I$,UpdatePinCommand:R.tE,RemovePinCommand:R.OL,FocusOnPinInsideCommand:I.OR,SelectAnnotationCommand:Ne.oM,SweepAlignmentType:F.z9,SweepPlacementType:F.hU,BeginMoveToSweepMessage:H.Z,EndMoveToSweepMessage:V.Z,SweepNeighborModifyCommand:xe.pf,ToggleToolCommand:B.tT,Tools:G.w1,TourStartedMessage:W.oR,TourStoppedMessage:W.NR,TourEndedMessage:W.Mt,TourSteppedMessage:W.Vx,Color:z.I,Vectors:K.fU,Viewmode:Y.Ey,CommandViewmode:q.BD,ChangeViewmodeCommand:q._i,BeginSwitchViewmodeMessage:$.Z,EndSwitchViewmodeMessage:Z.Z,GetScreenPositionCommand:ve.b,ZoomInCommand:be.bj,ZoomResetCommand:be.ob,ZoomSetCommand:be.ts,SourceType:Ee.SourceType,sensorVolumes:{sphere:Se.b,box:Oe.k,cylinder:Te.X},TourState:_e.Vs,MediaType:we.DD},je=Ge(t,u),Ue=function(e,t){const n=(async()=>{const t=(await e.getModuleBySymbol(r.qc)).getSignedUrls();return new d.Z(t)})(),i=e.getModuleBySymbol(r.Mi);return{applicationData:e.market.waitForData(Q.pu),cameraData:e.market.waitForData(X.M),canvasData:e.market.waitForData(J.W),cursorController:e.getModuleBySymbol(r.Lk),deepLinks:e.getModuleBySymbol(a.DeepLinksModuleKey),externalR3FModule:e.getModuleBySymbol(r.A7),floorData:e.market.waitForData(ee.i),floorViewData:e.market.waitForData(te.c),labelData:e.market.waitForData(ne.D),layersData:e.market.waitForData(re.R),mattertagData:e.market.waitForData(ae.n),measurementModeData:e.market.waitForData(le.X),modelData:e.market.waitForData(ce.T),pinViewData:e.market.waitForData(C.B),annotationsViewData:e.market.waitForData(Ae.A),tagsViewData:e.market.waitForData(ke.n),plugin:e.getModuleBySymbol(r.cf),raycasterData:e.market.waitForData(de.P),roomData:e.market.waitForData(ue.Z),settingsData:e.market.waitForData(he.e),sweepData:e.market.waitForData(pe.Z),sweepViewData:e.market.waitForData(me.D),tourData:e.market.waitForData(fe.k),viewmodeData:e.market.waitForData(ge.O),appPhaseModule:e.getModuleBySymbol(s.h7),attachmentsModule:i,commonControlsModule:e.getModuleBySymbol(r.Ng),floorCasterModule:e.getModuleBySymbol(r.MH),pinsModule:e.getModuleBySymbol(r.S),meshQuery:e.getModuleBySymbol(r.hi),modelDataModule:e.getModuleBySymbol(r.qc),modelMeshModule:e.getModuleBySymbol(r.Ve),meshData:e.market.waitForData(Le._),navigationModule:e.getModuleBySymbol(r.wR),renderToTextureModule:e.getModuleBySymbol(r.tA),sceneModule:t.scene.getModule(),sensorModule:e.getModuleBySymbol(r.Hw),settingsModule:e.getModuleBySymbol(s.Ak),tourControlsModule:e.getModuleBySymbol(r.s6),webglRendererModule:e.getModuleBySymbol(r.Aj),zoomControlModule:e.getModuleBySymbol(r.Q_),sweepTextureLoader:n,pluginData:e.market.waitForData(Re.e),pluginConfigData:e.market.waitForData(Me.i)}}(t,i),Fe=new URLSearchParams(window.location.search).get("useLegacyIds"),He=null===Fe||parseInt(Fe,10)?M.IdOption.LEGACY:M.IdOption.API;await M.setup(e,ye,Ce,je,Ue,t.getModuleBySymbol(r.Vs),{idOption:He,sandboxPath:n.sandbox,logLevel:c})}function Ge(e,t){return{loadImage:l.p,waitForUpdate:()=>e.after(i.A.End),waitForBegin:()=>e.after(i.A.Begin),subscribe:(t,n)=>e.subscribe(t,n),addBinding:(t,n)=>e.commandBinder.addBinding(t,n),issueCommand:t=>e.commandBinder.issueCommand(t),requestTarget:()=>e.commandBinder.issueCommand(new c.oM),getRenderLayer:t=>e.getRenderLayer(t),jpegAsBase64:ye.jJ,encodeRenderTarget:ye.vP,getXmp:ye.fY,getOrientedAngleTo:u.k2,screenPositionToNDC:h.z5,ndcToWorldPosition:h.st,worldToScreenPosition:h.q9,getTagsQuery:He((0,je.z)({baseUrl:t})(),(0,Ue.a)())}}},61681:(e,t,n)=>{"use strict";n.d(t,{$1:()=>r,Bh:()=>o,Bl:()=>c,ME:()=>i,My:()=>u,Nk:()=>h,WS:()=>a,Wz:()=>p,__:()=>s,dX:()=>l,pZ:()=>d});const i=Symbol("error-ui"),s=Symbol("view-ui"),r=Symbol("init-ui"),a=Symbol("model-mesh-quality"),o=Symbol("quick-menus"),l=Symbol("show-analytics"),c=Symbol("hotkeys-sc"),d=Symbol("password"),u=Symbol("showcase-settings"),h=Symbol("showcase-start"),p=Symbol("webgl-context-loss")},20162:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(26837),s=n(97542),r=n(92810),a=n(67294),o=n(20745);const l="UdAIz89AxFx_htVI1gVZY";class c extends s.Y{constructor(){super(...arguments),this.name="error-gui",this.errorCode=null}async init({container:e,apiHost:t},n){this.apiHost=t,this.container=e,this.localeModule=await n.getModuleBySymbol(r.e9),this.reactContainer=document.createElement("div"),this.reactContainer.id="error-container",this.reactContainer.dataset.testid="error-gui",this.reactContainer.classList.add(l),this.reactRoot=(0,o.s)(this.reactContainer)}get currentErrorCode(){return this.errorCode}showError(e){this.errorCode=e;const t=this.localeModule.t.bind(this.localeModule);this.container.appendChild(this.reactContainer),this.reactRoot.render((0,a.createElement)(i.vB,{errorCode:e,t:t,apiHost:this.apiHost}))}hideError(){this.errorCode=null,this.container.removeChild(this.reactContainer),this.reactRoot.unmount()}}},17242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Lp});var i,s,r=n(67294),a=n(20745),o=n(97542),l=n(5823),c=n(85893),d=n(10374),u=n(54244),h=n(89549),p=n(94184),m=n.n(p),f=n(33558),g=n(38399),v=n(39880),b=n(29708),y=n(23254),E=n(79727),S=n(41326),O=n(65019),T=n(96767),_=n(97998);!function(e){e.Inside="panorama",e.InsideMesh="mesh",e.Dollhouse="dollhouse",e.Floorplan="floorplan",e.None="none"}(i||(i={})),function(e){e.Inside="click_inside_mode_button",e.InsideMesh="click_mesh_mode_button",e.Dollhouse="click_dollhouse_mode_button",e.Floorplan="click_floorplan_mode_button"}(s||(s={}));var w=n(66102),N=n(76631),A=n(40216);function I(){const e=(0,A.T)();return e===N.wS.NARROW||e===N.wS.BOTTOM_PANEL}var k=n(84426);function P(e){const{disabled:t,active:n,buttonId:i,onClick:s,analyticsName:a,tooltipPhraseKey:o}=e,l=(0,w.b)(),d=I(),{editMode:u}=(0,r.useContext)(f.I),h=l.t(o),p=d&&u,m={placement:p?"bottom":"top",offset:p?[0,10]:void 0},g=p&&n?void 0:k.Wu.TERTIARY,v=p&&n?"light":"overlay",b=i,y=p?k.qE.LARGE:void 0,E=(0,r.useCallback)((()=>{s(i,a)}),[s,i,a]);return(0,c.jsx)("div",Object.assign({className:`mode-button mode-${i}`},{children:(0,c.jsx)(k.zx,{onClick:E,icon:b,variant:g,theme:v,size:y,active:n,disabled:t,tooltip:h,tooltipOptions:m,ariaLabel:h})}))}var L=n(26158);const R=(0,r.createContext)({outOfScope:!1});var C=n(51588);const D="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;const M=function(e,t,n){const i=(0,r.useRef)(t);D((()=>{i.current=t}),[t]),(0,r.useEffect)((()=>{const t=(null==n?void 0:n.current)||window;if(!t||!t.addEventListener)return;const s=e=>i.current(e);return t.addEventListener(e,s),()=>{t.removeEventListener(e,s)}}),[e,n])};const x=function(e,t){const n=(0,r.useCallback)((()=>{if("undefined"==typeof window)return t;try{const n=window.localStorage.getItem(e);return n?function(e){try{return"undefined"===e?void 0:JSON.parse(null!=e?e:"")}catch{return void console.log("parsing error on",{value:e})}}(n):t}catch(n){return console.warn("Error reading localStorage key “".concat(e,"”:"),n),t}}),[t,e]),[i,s]=(0,r.useState)(n),a=(0,r.useCallback)((t=>{"undefined"==typeof window&&console.warn("Tried setting localStorage key “".concat(e,"” even though environment is not a client"));try{const n=t instanceof Function?t(i):t;window.localStorage.setItem(e,JSON.stringify(n)),s(n),window.dispatchEvent(new Event("local-storage"))}catch(t){console.warn("Error setting localStorage key “".concat(e,"”:"),t)}}),[e,i]);(0,r.useEffect)((()=>{s(n())}),[]);const o=(0,r.useCallback)((()=>{s(n())}),[n]);return M("storage",o),M("local-storage",o),[i,a]};const j=function(){const e=(0,r.useRef)(!0);return e.current?(e.current=!1,!0):e.current};const U=function(e,t){const n=j();(0,r.useEffect)((()=>{if(!n)return e()}),t)};const F=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)({width:0,height:0}),s=(0,r.useCallback)((()=>{i({width:(null==e?void 0:e.offsetWidth)||0,height:(null==e?void 0:e.offsetHeight)||0})}),[null==e?void 0:e.offsetHeight,null==e?void 0:e.offsetWidth]);return M("resize",s),D((()=>{s()}),[null==e?void 0:e.offsetHeight,null==e?void 0:e.offsetWidth]),[t,n]};const H=function(e){const t=(0,r.useCallback)((()=>{if("undefined"==typeof window)return null;try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Error reading localStorage key “".concat(e,"”:"),t),null}}),[e]),[n,i]=(0,r.useState)(t);(0,r.useEffect)((()=>{i(t())}),[]);const s=(0,r.useCallback)((()=>{i(t())}),[t]);return M("storage",s),M("local-storage",s),n};const V=function(){const[e,t]=(0,r.useState)({width:0,height:0}),n=()=>{t({width:window.innerWidth,height:window.innerHeight})};return M("resize",n),D((()=>{n()}),[]),e};var B=n(51978),G=n(38490);function W({title:e,message:t,children:n,closeButton:i=!1,className:s,onClose:r}){return(0,c.jsxs)("div",Object.assign({className:m()("nudge",s)},{children:[(0,c.jsxs)("div",Object.assign({className:m()("nudge-header",{"nudge-with-title":!!e})},{children:[e&&(0,c.jsx)("div",Object.assign({className:"nudge-title"},{children:e})),i&&(0,c.jsx)(G.P,{className:"nudge-close-button",size:k.qE.SMALL,onClose:r})]})),t&&(0,c.jsx)("div",Object.assign({className:m()("nudge-message",{"nudge-message-with-title":e})},{children:t})),n]}))}var z=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const K=(0,r.forwardRef)(((e,t)=>{var{className:n,tooltip:i,children:s,onClick:a,closeButton:o,nudgeTitle:l,nudgeMessage:d,nudgeSize:u="medium",nudgeDisabled:h=!1,showTimeout:p=5e3,dismissTimeout:g=5e3,nudgeFeatureKey:v="",nudgeLocalStorage:b="",nudgeSessionKey:y="",onNudgeDismissed:E,featured:S=!1}=e,O=z(e,["className","tooltip","children","onClick","closeButton","nudgeTitle","nudgeMessage","nudgeSize","nudgeDisabled","showTimeout","dismissTimeout","nudgeFeatureKey","nudgeLocalStorage","nudgeSessionKey","onNudgeDismissed","featured"]);const{settings:T}=(0,r.useContext)(f.I),[_,w]=(0,r.useState)(!1),[N,A]=x(b,!1),I=(0,B.y)(y,!1),P=(0,B.y)(v,!1),L=(0,r.useRef)(0),R=(0,r.useRef)(0),C=!(!l&&!d);function D(){if(!C||_||h)return!1;return(!v||P)&&!(!!b&&N)&&!(!!y&&I)}const M=()=>{C&&(window.clearTimeout(L.current),L.current=0,window.clearTimeout(R.current),R.current=0,_&&(b&&A(!0),y&&T.setProperty(y,!0),E&&E(),w(!1)))};function j(){if(!C)return;const e=L.current||R.current;D()&&!e&&(L.current=window.setTimeout((()=>{L.current=0,D()&&w(!0)}),p))}(0,r.useImperativeHandle)(t,(()=>({dismissNudge:()=>{M()}})),[]),(0,r.useEffect)((()=>{h?M():j()}),[h]),(0,r.useEffect)((()=>{_&&(R.current=window.setTimeout(M,g))}),[_]),(0,r.useEffect)((()=>(j(),()=>{M()})),[]);let U;if(C){const e=void 0!==o?o:!!l;U=(0,c.jsx)(W,{title:l,message:d,closeButton:e,className:S?"nudge-featured":void 0})}const F=_?U:i,H={trigger:_?"static":"hover",onToggle:e=>{C&&(e||M())},theme:_?"light":"dark",size:_?u:"small",className:"nudge-button-tooltip"},V=m()("nudge-button",n);return(0,r.createElement)(k.zx,Object.assign({},O,{key:`nudge-button-${i}`,onClick:e=>{M(),a&&a(e)},className:V,tooltip:F,tooltipOptions:H}),s)}));var Y=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};function q(e){var{active:t,nudgeDisabled:n,className:i,theme:s="overlay",variant:a=k.Wu.TERTIARY,size:o}=e,l=Y(e,["active","nudgeDisabled","className","theme","variant","size"]);const{outOfScope:d}=(0,r.useContext)(R),u=(0,A.T)(),h=(0,C.E)(),p=u===N.wS.BOTTOM_PANEL&&!h;return(0,c.jsx)("div",Object.assign({className:i},{children:(0,c.jsx)(K,Object.assign({},l,{nudgeDisabled:d||p,variant:a,theme:s,active:t,featured:!0}))}))}var $=n(62496);function Z({active:e,disabled:t,buttonId:n,analyticsName:i,onClick:s}){const{analytics:a,editMode:o}=(0,r.useContext)(f.I),l=I(),d=(0,w.b)(),u=l&&o,h=d.t(g.Z.VIEW_DOLLHOUSE),p=d.t(g.Z.DOLLHOUSE_NUDGE_TITLE),m=d.t(g.Z.DOLLHOUSE_NUDGE_MESSAGE),v=L.F.DollhouseUserNudgeSeen,b=$.I,y=n,E=u&&e?void 0:k.Wu.TERTIARY,S=u&&e?"light":"overlay",O=u?k.qE.LARGE:void 0;return(0,c.jsx)(q,{className:`mode-button mode-${n}`,icon:y,variant:E,theme:S,size:O,active:e,disabled:t,onClick:()=>{s(n,i)},tooltip:h,nudgeFeatureKey:b,nudgeTitle:p,nudgeMessage:m,nudgeLocalStorage:v,onNudgeDismissed:()=>{a.trackGuiEvent("dollhouse_nudge")},showTimeout:5e3,dismissTimeout:1e4})}function Q(e,t){return!t&&!e.tryGetProperty(O.wY,!1)}function X(e,t){return!t&&!e.tryGetProperty(O.dF,!1)}function J(e,t){return!t&&!e}function ee(e,t,n){const s=e===t;switch(e){case i.Dollhouse:case i.Floorplan:return n||!s;case i.Inside:return n?t!==i.InsideMesh:!s;case i.InsideMesh:return n?s:t===i.Inside}return!1}const te=new _.Z("mode-buttons");class ne extends r.Component{constructor(e){super(e),this.onClick=async(e,t)=>{const{transitioning:n}=this.props;if(n)return;const s=function(e){switch(e){case i.Dollhouse:return S.BD.DOLLHOUSE;case i.Floorplan:return S.BD.FLOORPLAN;case i.Inside:return S.BD.INSIDE;case i.InsideMesh:return S.BD.MESH;default:throw new Error(`cannot get viewmode for mode buttonId ${e}`)}}(e),{analytics:r,commandBinder:a}=this.context;r.trackGuiEvent(t);try{await a.issueCommand(new T.vy),await a.issueCommand(new S._i(s))}catch(e){te.warn(e)}}}render(){const{activeButtonId:e,activeStateDisplay:t,className:n,dollhousePrevented:r,floorplanPrevented:a,insidePrevented:o,meshPrevented:l,transitioning:d,viewmodeChangeEnabled:u}=this.props,h=!u||d,p=!l&&ee(i.InsideMesh,e,!!t),f=!o&&ee(i.Inside,e,!!t),v=!r&&ee(i.Dollhouse,e,!!t),b=!a&&ee(i.Floorplan,e,!!t);return(0,c.jsxs)("div",Object.assign({className:m()("mode-buttons",n)},{children:[p&&(0,c.jsx)(P,{tooltipPhraseKey:g.Z.VIEW_INSIDE_MESH,analyticsName:s.InsideMesh,buttonId:i.InsideMesh,active:e===i.InsideMesh,onClick:this.onClick,disabled:h}),f&&(0,c.jsx)(P,{tooltipPhraseKey:g.Z.VIEW_INSIDE,analyticsName:s.Inside,buttonId:i.Inside,active:e===i.Inside,onClick:this.onClick,disabled:h}),v&&(0,c.jsx)(Z,{analyticsName:s.Dollhouse,buttonId:i.Dollhouse,active:e===i.Dollhouse,onClick:this.onClick,disabled:h}),b&&(0,c.jsx)(P,{tooltipPhraseKey:g.Z.VIEW_FLOORPLAN,analyticsName:s.Floorplan,buttonId:i.Floorplan,active:e===i.Floorplan,onClick:this.onClick,disabled:h})]}))}}ne.contextType=f.I;class ie extends r.Component{constructor(e){super(e),this.bindings=[],this.isUnmounting=!1,this.updateDollhouseState=()=>{const{editMode:e,settings:t}=this.context;this.setState({dollhousePrevented:Q(t,e)})},this.updateFloorplanState=()=>{const{editMode:e,settings:t}=this.context;this.setState({floorplanPrevented:X(t,e)})},this.onCurrentFloorChanged=()=>{const{editMode:e}=this.context,t=this.floorsViewData.currentFloor,n=this.floorsViewData.hasEnabledAlignedSweeps(t&&t.id);this.setState({insidePrevented:J(n,e)})},this.onViewmodeChangeLockUpdate=()=>{const{market:e}=this.context,t=e.tryGetData(y.O);if(!t)return;const n=t.viewmodeChangeEnabled;this.setState({viewmodeChangeEnabled:n})},this.state={dollhousePrevented:!1,floorplanPrevented:!1,insidePrevented:!1,viewmodeChangeEnabled:!0}}componentDidMount(){const{market:e,settings:t}=this.context;Promise.all([e.waitForData(y.O),e.waitForData(E.c)]).then((([e,n])=>{this.isUnmounting||(this.floorsViewData=n,this.bindings.push(e.onPropertyChanged("viewmodeChangeEnabled",this.onViewmodeChangeLockUpdate),n.makeFloorChangeSubscription(this.onCurrentFloorChanged),t.onPropertyChanged(O.wY,this.updateDollhouseState),t.onPropertyChanged(O.dF,this.updateFloorplanState)),this.onCurrentFloorChanged(),this.updateDollhouseState(),this.updateFloorplanState(),this.onViewmodeChangeLockUpdate())}))}componentWillUnmount(){this.isUnmounting=!0;for(const e of this.bindings)e.cancel();this.bindings=[]}render(){const{editMode:e}=this.context,{className:t,unaligned:n,viewmode:s,activeStateDisplay:r}=this.props,{viewmodeChangeEnabled:a,dollhousePrevented:o,floorplanPrevented:l,insidePrevented:d}=this.state,u=s===S.BD.TRANSITIONING;u||(this.activeButtonId=function(e,t){if(e)return i.None;switch(t){case S.BD.DOLLHOUSE:return i.Dollhouse;case S.BD.FLOORPLAN:return i.Floorplan;case S.BD.INSIDE:return i.Inside;case S.BD.MESH:return i.InsideMesh}return i.None}(n,s));const h=function(e){return!e}(e);return(0,c.jsx)(ne,{className:m()("viewmode-controls",t),activeStateDisplay:r,activeButtonId:this.activeButtonId,transitioning:u,dollhousePrevented:o,floorplanPrevented:l,insidePrevented:d,meshPrevented:h,viewmodeChangeEnabled:a})}}ie.contextType=f.I;var se=n(32597),re=n(60699),ae=n(61531),oe=n(17686),le=n(73085),ce=n(2473);const de=(0,le.M)(ce.k,"tourCurrentSnapshot",-1);function ue(e){const[t,n]=(0,r.useState)(e.value);return(0,r.useEffect)((()=>{const t=e.onChanged(n);return n(e.value),()=>t.cancel()}),[e]),t}var he=n(37082),pe=n(45755);const me=(0,pe.u)(ce.k),fe=(0,he.Y)(ce.b);function ge(){const e=me();return ue(e?e.transitionObservable:fe)}function ve(){const e=ge(),t=(0,r.useRef)(e);return e.type===oe.Aq.FloorChange?t.current:(t.current=e,e)}var be=n(10385);const ye=(0,be.C)([]);function Ee(){const e=me();return function(e){const[t,n]=(0,r.useState)(e.values());return(0,r.useEffect)((()=>{const t=()=>{n(e.values())},i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}(e?e.enabledTourStops:ye)}function Se(){return Ee().length}var Oe;!function(e){e.FastForwarding="fast-forwarding",e.Idle="idle",e.Completed="completed",e.Paused="paused",e.Playing="playing",e.Rewinding="rewinding",e.Skipping="skipping"}(Oe||(Oe={}));const Te=[Oe.FastForwarding,Oe.Playing,Oe.Rewinding];function _e(){var e;const t=(0,r.useRef)(null),n=Se(),i=de(),s=ve(),a=s.toIndex,o=-1!==a&&a!==i;let l=Oe.Idle;o?l=0===a&&i===n-1?Oe.FastForwarding:Math.abs(a-i)>1?Oe.Skipping:a<i?Oe.Rewinding:Oe.FastForwarding:oe.c5.includes(s.type)?l=s.active?Oe.Playing:Oe.Paused:s.type===oe.Aq.Move&&s.active&&(l=Oe.Rewinding);let c=!1;if((null===(e=t.current)||void 0===e?void 0:e.index)!==i&&(t.current=null),(l===Oe.Rewinding||l===Oe.FastForwarding)&&t.current){const{animation:e,transition:n}=t.current;if(n!==s){const{started:t,stopped:i,duration:s}=n;(i-t)/s>=.99&&(c=!0,e===Oe.Rewinding&&(l=Oe.Idle),e!==Oe.Playing&&e!==Oe.FastForwarding||(l=Oe.Completed))}}return Te.includes(l)?t.current={transition:s,animation:l,index:i}:c||(t.current=null),l}var we=n(96154),Ne=n(73536),Ae=n(92211),Ie=n(14355),ke=n(86902),Pe=n(18923);function Le(){const[e,t]=(0,r.useState)(!1),n=(0,r.useCallback)((()=>{t(!0)}),[]),i=(0,r.useCallback)((()=>{t(!1)}),[]);return(0,ae.U)(we.Vx,n),(0,ae.U)(Pe.Z,i),e}var Re=n(21359);const{HLR:Ce}=g.Z.WORKSHOP;function De(e){const t=!(0,B.y)(L.F.TourTextNudgeDismissed,!1),n=Le(),i=function(){const[e,t]=(0,r.useState)(!1),n=(0,r.useRef)();(0,ae.U)(Re.Q,(()=>{t(!0),i(),n.current=setTimeout((()=>{t(!1),n.current=void 0}),3e3)}));const i=()=>{n.current&&(clearTimeout(n.current),n.current=void 0)};return e}(),{highlights:s,currentStep:a,activeStep:o,tourPlaying:l}=e,{locale:d,commandBinder:u,settings:p,editMode:g}=(0,r.useContext)(f.I),v=(0,r.useCallback)(((e,t=!0)=>{p.setLocalStorageProperty(L.F.TourTextNudgeDismissed,!0),t&&e.stopPropagation()}),[p]),b=(0,r.useCallback)((async e=>{await u.issueCommand(new h.tT(N.w1.HLR,!0)),u.issueCommand(new Ae.B(Ne.P.HIGHLIGHT_EDITOR,!0)),u.issueCommand(new h.Fg(!1)),v(e,!1)}),[u,v]),y=s[a],E=(null==y?void 0:y.title)||(null==y?void 0:y.description),S=g&&!E&&t,O=(null==y?void 0:y.title)||(S?d.t(Ce.HIGHLIGHT_TITLE_PLACEHOLDER):""),T=(null==y?void 0:y.description)||(S?d.t(Ce.HIGHLIGHT_DESCRIPTION_PLACEHOLDER):""),_=n&&!(o!==a)&&l||i,w=m()("tour-story",{active:_,prompt:S});return(0,c.jsxs)(Ie.N,Object.assign({open:n&&l||i,className:w,onClick:_?b:void 0},{children:[S&&(0,c.jsx)(ke.zx,{className:"tour-story-dismiss",theme:"dark",variant:ke.Wu.TERTIARY,icon:"close",onClick:v}),(0,c.jsx)("div",Object.assign({className:"tour-story-title"},{children:O})),(0,c.jsx)("div",Object.assign({className:"tour-story-description"},{children:T}))]}))}const{TOURS:Me}=g.Z.SHOWCASE,xe=[Oe.FastForwarding,Oe.Rewinding,Oe.Skipping];function je(e){const{activeStep:t,currentStep:n,handlePlayPause:i,highlights:s,tourPlaying:a,toolPanelLayout:o}=e,[l,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),p=_e(),{commandBinder:v,locale:b,analytics:y}=(0,r.useContext)(f.I),E=(0,r.useCallback)((()=>{d(!0)}),[]),S=(0,r.useCallback)((()=>{t===n&&d(!1)}),[t,n]);(0,ae.U)(we.Vx,E),(0,ae.U)(Pe.Z,S);const O=0===s.length,_=o===N.wS.NARROW||o===N.wS.BOTTOM_PANEL,w=a?b.t(g.Z.PAUSE):b.t(g.Z.PLAY),A=b.t(g.Z.PREVIOUS),I=b.t(g.Z.NEXT),P=O||!a?"play-unicode":"pause",L=O||xe.includes(p),R=s[t];let C=(null==R?void 0:R.snapshot.name)||"";l||(C=a||u?"":b.t(Me.TOUR_BUTTON_LABEL));const D=(0,r.useCallback)((()=>{h(!0),i()}),[i]),M=(0,r.useCallback)((async e=>{O||(e.stopPropagation(),h(!0),y.trackGuiEvent("skip_foward_highlights"),await v.issueCommand(new T.r2))}),[y,O,v]),x=(0,r.useCallback)((async e=>{O||(e.stopPropagation(),h(!0),y.trackGuiEvent("skip_backward_highlights"),await v.issueCommand(new T.Ri))}),[y,O,v]);return(0,c.jsxs)("div",Object.assign({className:"tour-story-controls"},{children:[(0,c.jsx)(De,{tourPlaying:a,currentStep:n,activeStep:t,highlights:s}),(0,c.jsx)(k.zx,{icon:"dpad-left",className:"story-tour-previous-cta",variant:k.Wu.TERTIARY,size:k.qE.SMALL,disabled:L,ariaLabel:A,tooltip:A,onClick:x}),(0,c.jsx)(k.zx,{className:"tour-story-play-pause",icon:P,variant:k.Wu.TERTIARY,size:k.qE.SMALL,disabled:L,ariaLabel:w,tooltip:w,onClick:O?void 0:D}),(0,c.jsx)(k.zx,{icon:"dpad-right",className:"story-tour-next-cta",variant:k.Wu.TERTIARY,size:k.qE.SMALL,disabled:L,ariaLabel:I,tooltip:I,onClick:M}),C&&a&&!_&&(0,c.jsx)("span",Object.assign({className:m()("tour-control-label",{active:a})},{children:C}))]}))}var Ue=n(89264),Fe=n(65397);const He=(0,le.M)(Fe.T,"reelOpen",!1);function Ve(e){const{reelEnabled:t,activeTool:n,tourMode:i}=e,s=(0,w.b)(),{analytics:a,commandBinder:o}=(0,r.useContext)(f.I),l=He(),d=(0,r.useCallback)((()=>{const e=l?"hide_":"show_";a.trackToolGuiEvent("hlr",e+"highlight_reel"),o.issueCommand(new Ue.Av(!l))}),[l,a,o]),u=i===re.zz.STORIES;if(!t||u&&n!==N.w1.HLR)return null;const h=l?s.t(g.Z.CLOSE_HIGHLIGHTS):s.t(g.Z.OPEN_HIGHLIGHTS),p=l?"dpad-down":"dpad-up",v=m()("highlight-button",{"hlr-expanded":l});return(0,c.jsx)(k.zx,{className:v,onClick:d,tooltip:h,ariaLabel:h,"aria-expanded":l?"true":"false",icon:p,theme:"overlay",variant:k.Wu.TERTIARY})}function Be(e,t=null){const{settings:n}=(0,r.useContext)(f.I);return n.getOverrideParam(e,t)}var Ge=n(59625),We=n(74554),ze=n(59323);function Ke(){const e=(0,B.y)(Ge.gx.HighlightReel,!0),t=Be(ze.rU,ze.iL);return e&&t!==ze.Nu}(0,We.M)("reelEnabled",Ke);function Ye(){const e=(0,B.y)(Ge.gx.TourButtons,!0),t=Be(ze.o9,ze.qe),n=Be(ze.PR,ze.l4);return e&&t!==ze.Wf&&n!==ze.pQ}(0,We.M)("tourEnabled",Ye);function qe(e){const{activeTool:t,handlePlayPause:n,highlights:i,hideReel:s,tourPlaying:a}=e,{editMode:o}=(0,r.useContext)(f.I),l=(0,w.b)(),d=Ke()&&!s||o,u=Ye()||o;if(!d&&!u)return null;const h=0===i.length,p=a?l.t(g.Z.PAUSE):l.t(g.Z.PLAY),m=a?"pause-outline":"play";return(0,c.jsxs)("div",Object.assign({className:"highlight-tour-controls"},{children:[d&&(0,c.jsx)(Ve,{activeTool:t,reelEnabled:d,tourMode:re.zz.LEGACY}),u&&(0,c.jsx)(k.zx,{disabled:h,active:a,onClick:n,variant:k.Wu.TERTIARY,theme:"overlay",className:"tour-controls",ariaLabel:p,icon:m,tooltip:p})]}))}const $e=new _.Z("preview-tour"),{HLR:Ze}=g.Z.WORKSHOP;function Qe(){const{commandBinder:e}=(0,r.useContext)(f.I),t=(0,w.b)(),n=I(),i=0===Se(),s=(0,r.useCallback)((async()=>{if(!i)try{await e.issueCommand(new T.TH)}catch(e){$e.debug(e)}}),[e,i]),a=t.t(Ze.PREVIEW_SETTINGS_CTA),o=n?void 0:a,l=n?a:void 0;return(0,c.jsx)(k.zx,{icon:"play-unicode",label:o,tooltip:l,disabled:i,size:k.qE.LARGE,theme:"dark",className:"preview-tour-button",variant:k.Wu.FAB,onClick:s})}const Xe=new _.Z("tour-controls");function Je(e){const{activeStep:t,activeTool:n,currentStep:i,hideReel:s,toolPanelLayout:a,tourMode:o,tourPlaying:l,highlights:d}=e,{analytics:u,commandBinder:h,editMode:p}=(0,r.useContext)(f.I),{outOfScope:m}=(0,r.useContext)(R),g=async()=>{if(0===d.length)return;const e=l?"pause_highlights":"play_highlights";u.trackGuiEvent(e);try{l?await h.issueCommand(new T.vy):await h.issueCommand(new T.TH)}catch(e){Xe.debug(e)}};M("keydown",(e=>{if(!m&&e.keyCode===se.R.SPACE){const t=e.target;"CANVAS"!==t.tagName&&"BODY"!==t.tagName||(e.stopPropagation(),g())}}));const v=n===N.w1.HLR,b=n===N.w1.SEARCH,y=n===N.w1.LAYERS;if(v&&!l)return(0,c.jsx)(Qe,{});const E=o===re.zz.NONE,S=!!n&&!(v||b||y);if(p){const e=a===N.wS.BOTTOM_PANEL||a===N.wS.NARROW;if(n===N.w1.MESH_TRIM)return null;if(e&&S)return null}else{if(0===d.length||E||S)return null}return o===re.zz.STORIES?(0,c.jsx)(je,{activeStep:t,currentStep:i,highlights:d,toolPanelLayout:a,tourPlaying:l,handlePlayPause:g}):(0,c.jsx)(qe,{activeTool:n,handlePlayPause:g,highlights:d,hideReel:s,tourPlaying:l})}const et=(0,pe.u)(y.O);function tt(){const e=et(),[t,n]=(0,r.useState)(null);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.currentModeObservable.onChanged(n);return n(e.currentMode),()=>t.cancel()}),[e]),t}var nt=n(95882),it=n(33324);const st=new _.Z("floor-controls-switch-floor");function rt({name:e,id:t,active:n,theme:i="dark"}){const s=(0,r.useContext)(f.I),{analytics:a}=s,o=(0,r.useCallback)((async()=>{a.trackGuiEvent("floor_clicked"),async function(e,t){const{analytics:n,commandBinder:i}=t;try{await i.issueCommand(new T.vy);const t=null===e?"click_toggle_all_floors_button":"click_floor_select_button";n.trackGuiEvent(t);const s=new it.Vw(e);await i.issueCommand(s)}catch(e){st.debug(e)}}(t||null,s)}),[a,t]);return(0,c.jsx)(k.zx,{className:"floor-button",label:e,variant:k.Wu.TERTIARY,size:k.qE.SMALL,theme:i,onClick:o,active:n})}const at=(0,le.M)(E.c,"showAllFloorsOption",!0);function ot(e){const{currentFloor:t,floors:n}=e,i=(0,w.b)(),{analytics:s}=(0,r.useContext)(f.I),a=tt(),o=at(),l=a!==nt.Ey.Panorama&&o,d=(0,r.useCallback)((()=>{s.trackGuiEvent("floor_controls")}),[s]),u=t&&t.index+1,h=i.t(g.Z.HELP_MORE_FLOORS_A),p=m()("floor-controls",{"two-digit":void 0!==u&&u>=10}),v=u?"floor-controls":"floor-controls-all",b=n.map((e=>{const{id:n,name:i}=e,s=(null==t?void 0:t.id)===n;return(0,c.jsx)(rt,{id:n,name:i,active:s},n)}));return l&&b.push((0,c.jsx)(rt,{name:i.t(g.Z.FLOOR_ALL),active:!t},"all")),b.reverse(),(0,c.jsx)(k.xz,Object.assign({buttonClassName:p,buttonDataAttribute:u,onClick:d,variant:k.Wu.TERTIARY,ariaLabel:h,tooltip:h,icon:v,theme:"overlay",menuClassName:"floor-controls-menu",menuTheme:"dark",menuPlacement:"top"},{children:b}))}var lt=n(89570),ct=n(20334);function dt(e){return e?e.getNavigableFloorIds().map(e.getViewData):[]}function ut(){const e=(0,ct.I)(),[t,n]=(0,r.useState)(e?e.currentFloorId:null);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=()=>{const t=e.currentFloorId;n(t)},i=e.makeFloorChangeSubscription(t);return t(),()=>i.cancel()}),[e]),t}(0,We.M)("currentFloorId",ut);function ht(e){const t=(0,ct.I)(),[n,i]=(0,r.useState)(t&&null!==e?t.getViewData(e):null);return(0,r.useEffect)((()=>{if(!t)return()=>{};if(e){const n=t.getViewData(e);i(n)}else i(null);return()=>{}}),[t,e]),n}function pt(){return ht(ut())}function mt(e){const t=function(){const e=(0,ct.I)(),[t,n]=(0,r.useState)(dt(e));return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=()=>n(dt(e)),i=new lt.V(e.floors.onNameChange(t),e.onNavigableFloorIdsChanged(t));return t(),()=>i.cancel()}),[e]),t}(),n=tt(),i=pt(),s=at(),a=(0,w.b)(),o=t.map((e=>{const{id:t,name:n}=e,s=(null==i?void 0:i.id)===t;return(0,c.jsx)(rt,{id:t,name:n,active:s,theme:"light"},t)})).reverse();n!==nt.Ey.Panorama&&s&&o.unshift((0,c.jsx)(rt,{name:a.t(g.Z.FLOOR_ALL),active:!i,theme:"light"},"all"));const l=m()("floor-menu-selector",e.className),d=(null==i?void 0:i.name)||a.t(g.Z.FLOOR_ALL);return(0,c.jsx)(k.xz,Object.assign({buttonClassName:l,variant:k.Wu.TERTIARY,label:d,ariaLabel:d,tooltip:d,theme:"overlay",menuClassName:"floor-controls-menu",menuPlacement:"top",caret:!0},{children:o}))}class ft extends r.Component{constructor(e){super(e),this.bindings=[],this.isUnmounting=!1,this.onCurrentFloorChanged=()=>{var e,t;const n=(null===(e=this.floorsViewData)||void 0===e?void 0:e.currentFloor)||void 0,i=n&&(null===(t=this.floorsViewData)||void 0===t?void 0:t.getViewData(n.id));this.setState({currentFloor:i})},this.onFloorsChanged=()=>{var e,t;const n=(null===(e=this.floorsViewData)||void 0===e?void 0:e.getNavigableFloorIds()).map(null===(t=this.floorsViewData)||void 0===t?void 0:t.getViewData);this.setState({floors:n})},this.state={currentFloorIndicator:!0,floors:[]}}componentDidMount(){const{market:e}=this.context;e&&e.waitForData(E.c).then((e=>{this.isUnmounting||(this.floorsViewData=e,this.bindings.push(this.floorsViewData.makeFloorChangeSubscription(this.onCurrentFloorChanged),this.floorsViewData.floors.onNameChange(this.onFloorsChanged),this.floorsViewData.onNavigableFloorIdsChanged(this.onFloorsChanged)),this.onCurrentFloorChanged(),this.onFloorsChanged())}))}componentWillUnmount(){this.isUnmounting=!0,this.bindings.forEach((e=>{e.cancel()}))}render(){const{className:e,viewmode:t,iconStyle:n}=this.props,{currentFloor:i,floors:s}=this.state;return s.length>1&&t!==S.BD.OUTSIDE?(0,c.jsxs)("div",Object.assign({className:m()("floor-selector",e)},{children:[n&&(0,c.jsx)(ot,{floors:s,currentFloor:i}),!n&&(0,c.jsx)("span",{className:"divider"}),!n&&(0,c.jsx)(mt,{})]})):null}}ft.contextType=f.I;var gt=n(39642);function vt(){const e=(0,w.b)(),{commandBinder:t}=(0,r.useContext)(f.I),n=(0,r.useCallback)((()=>{t.issueCommand(new Ae.B(Ne.P.VR_SELECT,!0))}),[t]),i=e.t(g.Z.VIEW_IN_VR);return(0,c.jsx)(k.zx,{className:"view-in-vr",onClick:n,ariaLabel:i,ariaHasPopup:"dialog",tooltip:i,tooltipOptions:{placement:"top"},icon:"vr",theme:"overlay",variant:k.Wu.TERTIARY})}var bt=n(31362);class yt extends r.Component{constructor(e){super(e),this.handleButtonClick=()=>{const{analytics:e}=this.context;bt.rm()?(e.trackGuiEvent("click_exit_fullscreen",{interactionSource:"gui"}),bt.Qg()):(e.trackGuiEvent("click_enter_fullscreen",{interactionSource:"gui"}),bt.Zx(document.body))},this.onFullScreenChange=e=>{const{mainDiv:t}=this.context,n=bt.rm();n?t.classList.add("full-screen"):t.classList.remove("full-screen"),this.setState({fullscreen:n})},this.state={fullscreen:bt.rm()},document.addEventListener("fullscreenchange",this.onFullScreenChange),document.addEventListener("webkitfullscreenchange",this.onFullScreenChange),document.addEventListener("MSFullscreenChange",this.onFullScreenChange),document.addEventListener("mozfullscreenchange",this.onFullScreenChange)}componentWillUnmount(){document.removeEventListener("fullscreenchange",this.onFullScreenChange),document.removeEventListener("webkitfullscreenchange",this.onFullScreenChange),document.removeEventListener("MSFullscreenChange",this.onFullScreenChange),document.removeEventListener("mozfullscreenchange",this.onFullScreenChange)}render(){const{fullscreen:e}=this.state,t=e?this.context.locale.t(g.Z.EXIT_FULLSCREEN):this.context.locale.t(g.Z.VIEW_FULLSCREEN),n=e?"fullscreen-exit":"fullscreen";return(0,c.jsx)("div",Object.assign({className:"fullscreen-mode"},{children:(0,c.jsx)(k.zx,{onClick:this.handleButtonClick,ariaLabel:t,tooltip:t,tooltipOptions:{placement:"top"},icon:n,theme:"overlay",variant:k.Wu.TERTIARY})}))}}yt.contextType=f.I;var Et=n(97478),St=n(40964);var Ot;!function(e){e[e.flash=0]="flash",e[e.expanded=1]="expanded",e[e.collapsed=2]="collapsed"}(Ot||(Ot={}));var Tt=n(38772),_t=n(33397),wt=n(61687),Nt=n(77543),At=n(8659),It=n(2367);function kt(e){var t,n;return(null===(t=e.market.tryGetData(It.V))||void 0===t?void 0:t.size)||(null===(n=e.mainDiv)||void 0===n?void 0:n.getBoundingClientRect())||{width:window.innerWidth,height:window.innerHeight}}class Pt extends r.Component{constructor(e,t){super(e,t),this.scrollbarRef=(0,r.createRef)(),this.elementRef=(0,r.createRef)(),this.isUnmounting=!1,this.onScrollableChanged=e=>{this.setState({scrollable:e})},this.onScrollPositionChange=e=>{this.setState({scrollPosition:e})},this.getScrollableContainer=()=>{const e=this.scrollbarRef.current;return(null==e?void 0:e.getScrollableContainer())||void 0},this.handleHighlightClickable=()=>{this.props.highlightClickable(!0)},this.state={scrollLeft:0,hideScrollbar:(0,wt.w)(kt(t)),scrollPosition:At.Ij.None,scrollable:!1}}componentDidMount(){this.context.market.waitForData(It.V).then((e=>{this.isUnmounting||(this.resizeSubscription=e.onPropertyChanged("size",(e=>{this.setState({hideScrollbar:(0,wt.w)(e)})})))})),this.onScrollableChanged(!0),this.onScrollPositionChange(At.Ij.Beginning)}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.resizeSubscription)||void 0===e||e.cancel()}componentDidUpdate(e){const{activeElement:t}=this.props;if(null!==t&&e.activeElement!==t){const e=this.scrollbarRef.current;e&&e.scrollToElement(t)}}setSorting(e){const t=this.elementRef.current;if(t)if(e){if(t.classList.add("sorting"),this.props.mobile){const e=this.scrollbarRef.current;e&&e.pauseScrollHandling()}}else t.classList.remove("sorting")}render(){const{thumbScrollingOnly:e,children:t,totalSteps:n}=this.props,{hideScrollbar:i,scrollPosition:s,scrollable:r}=this.state,a=m()({scrollable:r,[s]:!0});return(0,c.jsx)("div",Object.assign({id:"reel",className:a,ref:this.elementRef},{children:(0,c.jsx)(Nt.Z,Object.assign({direction:At.Nm.horizontal,ref:this.scrollbarRef,hideScrollbar:i,thumbScrollingOnly:e,waitToUpdate:0===n,handleClick:this.handleHighlightClickable,onScrollableChanged:this.onScrollableChanged,onScrollPositionChange:this.onScrollPositionChange},{children:t}))}))}}Pt.contextType=f.I;var Lt=n(64918),Rt=n(6335);const{HLR:Ct}=g.Z.WORKSHOP;class Dt extends r.Component{constructor(){super(...arguments),this.editHighlight=e=>{e.stopPropagation(),this.props.onClickHighlight(this.props.index,!0)},this.removeHighlight=e=>{e.stopPropagation(),this.props.onRemoveHighlight&&this.props.onRemoveHighlight(this.props.highlight.snapshot.sid)},this.onClickHighlight=e=>{e.preventDefault(),this.props.onClickHighlight(this.props.index,!1)},this.setContainerRef=e=>{const{index:t,getRef:n}=this.props;this.element=e,n&&n(t,this.element)}}renderTransitionSettings(){const{locale:e}=this.context,{transitionType:t,panDirection:n,transitionCondition:i,index:s}=this.props,r=n!==oe.kw.Auto;let a="pan-auto",o=e.t(Ct.PAN_DIRECTION_SETTING_AUTO);n===oe.kw.Left?(a="icon icon-rotate-left",o=e.t(Ct.PAN_DIRECTION_SETTING_LEFT)):n===oe.kw.Right&&(a="icon icon-rotate-right",o=e.t(Ct.PAN_DIRECTION_SETTING_RIGHT));let l="";return t===Lt.n.FadeToBlack?l=e.t(Ct.TRANSITION_SETTING_SLIDESHOW):t===Lt.n.Interpolate&&(l=e.t(Ct.TRANSITION_SETTING_WALKTHROUGH)),(0,c.jsxs)("div",Object.assign({className:"transition-settings"},{children:[(0,c.jsxs)("span",Object.assign({className:"transition-type"},{children:[s+1," - ",l,i&&(0,c.jsx)("span",{children:"*"})]})),(0,c.jsx)("span",Object.assign({className:"pan-direction-type"},{children:o})),r&&(0,c.jsx)("span",{className:`pan-icon ${a}`})]}))}renderImageBar(){var e;const{locale:t}=this.context,{highlight:n,editable:i}=this.props,s=n.snapshot.is360,r=n.snapshot.metadata.cameraMode,a=null!==(e=this.getMarker(r,s))&&void 0!==e?e:"",o=t.t(Ct.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE),l=t.t(Ct.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE);return(0,c.jsxs)("div",Object.assign({className:"image-bar"},{children:[(0,c.jsx)("span",{className:m()("highlight-marker",{[a]:!i})}),i&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(k.zx,{className:"highlight-remove",onClick:this.removeHighlight,tooltip:o,ariaLabel:o,icon:"delete",theme:"overlay",variant:k.Wu.FAB}),(0,c.jsx)(k.zx,{className:"highlight-edit",onClick:this.editHighlight,tooltip:l,ariaLabel:l,icon:"toggle-pencil",theme:"overlay",variant:k.Wu.FAB})]})]}))}getMarker(e,t){return e===nt.Ey.Dollhouse||e===nt.Ey.Floorplan?null:t?"icon-360":"icon-panorama"}render(){const{highlight:e,active:t,editable:n}=this.props,{name:i}=e.snapshot,s=!!i||n;return(0,c.jsxs)("div",Object.assign({className:m()("highlight-box",{active:t,editable:n}),onClick:this.onClickHighlight,ref:this.setContainerRef},{children:[(0,c.jsx)(Rt.X,{resource:e.snapshot.thumbnailUrl,className:"highlight-image"}),this.renderImageBar(),n&&this.renderTransitionSettings(),(0,c.jsx)("div",Object.assign({className:m()("image-name",{shadowed:s})},{children:(0,c.jsx)("span",Object.assign({className:"static-text",role:"listitem","aria-label":i||"highlight"},{children:i}))}))]}))}}Dt.contextType=f.I;class Mt extends r.Component{constructor(e){super(e),this.highlights=[],this.highlightList=e=>{const{currentStep:t,onHighlightClicked:n}=this.props;return(0,c.jsx)("div",Object.assign({className:"hlr-container"},{children:(0,c.jsx)("div",Object.assign({className:"highlights",role:"list"},{children:e.items.map(((e,i)=>(0,c.jsx)(Dt,{highlight:e,index:i,active:i===t,editable:!1,onClickHighlight:n,getRef:this.addHighlightRef},`${e.id}_${i}`)))}))}))},this.addHighlightRef=(e,t)=>{this.highlights[e]=t,e===this.props.currentStep&&this.props.setActiveElement&&this.props.setActiveElement(t)}}componentDidUpdate(e){e.currentStep!==this.props.currentStep&&this.props.setActiveElement(this.highlights[this.props.currentStep])}render(){const{highlights:e}=this.props;return e&&e.length?(0,c.jsx)(this.highlightList,{items:e}):null}}var xt=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const jt=new _.Z("highlight-reel");let Ut=class extends r.Component{constructor(e){super(e),this.bindings=[],this.mobile=(0,bt.tq)(),this.setActiveElement=e=>{this.setState({activeElement:e})},this.setHighlightClickable=(e=>this.highlightClickable=e).bind(this),this.onHighlightClicked=async e=>{const{commandBinder:t,analytics:n}=this.context;if(this.highlightClickable)try{this.props.tourPlaying&&await t.issueCommand(new T.vy),this.props.transition.active||(n.trackToolGuiEvent("hlr","click_highlight"),await t.issueCommand(new T.rU(e)).catch((e=>{if(!(e instanceof _t.z))throw e;jt.warn(e.message)})),this.setHighlightClickable(!1))}catch(e){jt.debug(e)}},this.state={activeElement:null}}componentWillUnmount(){this.bindings.forEach((e=>{e.cancel()}))}render(){const{activeStep:e,highlights:t,totalSteps:n}=this.props;return(0,c.jsx)("div",Object.assign({id:"reel-container"},{children:(0,c.jsx)(Pt,Object.assign({totalSteps:n,activeElement:this.state.activeElement,mobile:this.mobile,highlightClickable:this.setHighlightClickable,thumbScrollingOnly:!1},{children:(0,c.jsx)(Mt,{highlights:t,currentStep:e,onHighlightClicked:this.onHighlightClicked,setActiveElement:this.setActiveElement})}))}))}};Ut.contextType=f.I,Ut=xt([Tt.Z],Ut);const{HLR:Ft}=g.Z.SHOWCASE;class Ht extends r.Component{render(){const{locale:e}=this.context,t=e.t(Ft.EMPTY_REEL_LEARN_MORE),n=e.t(Ft.EMPTY_REEL_TITLE),i=e.t(Ft.EMPTY_REEL_MESSAGE);return(0,c.jsx)("div",Object.assign({className:"empty-reel"},{children:(0,c.jsxs)("div",Object.assign({className:"no-highlights-message"},{children:[(0,c.jsx)("p",{children:n}),(0,c.jsxs)("p",{children:[i,(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",href:"https://support.matterport.com/hc/en-us/articles/360019401733"},{children:t}))]})]}))}))}}function Vt(){const e=ge(),t=_e(),n=t===Oe.Paused,i=t===Oe.Idle,s=(0,r.useRef)(null),a=(0,r.useRef)(0);if(i)return a.current=0,a.current;if(!n)return a.current;if(e===s.current)return a.current;if(!oe.c5.includes(e.type))return a.current;const{started:o,stopped:l,duration:c}=e,d=(l-o)/c,u=a.current+d*(1-a.current);return s.current=e,a.current=u,u}function Bt({index:e}){const t=Se(),n=Vt(),i=_e(),s=de(),a=ve(),o=function(){var e,t;const n=ge(),i=(0,r.useRef)(null);return oe.c5.includes(n.type)?n.toIndex===(null===(t=i.current)||void 0===t?void 0:t.toIndex)?i.current.duration:(i.current=n,n.duration):(null===(e=i.current)||void 0===e?void 0:e.duration)||0}(),l=a.duration,d=a.toIndex,u=d===e,h=s===e,p=["story-tour-progress-bar"];if(i===Oe.Skipping)e>=d?p.push("story-tour-progress-bar--incomplete"):p.push("story-tour-progress-bar--complete");else if(h)switch(i){case Oe.Completed:p.push("story-tour-progress-bar--complete");break;case Oe.Playing:p.push("story-tour-progress-bar--playing");break;case Oe.Paused:p.push("story-tour-progress-bar--paused");break;case Oe.Rewinding:p.push("story-tour-progress-bar--rewinding");break;case Oe.FastForwarding:p.push("story-tour-progress-bar--fast-forwarding");break;case Oe.Idle:p.push("story-tour-progress-bar--incomplete")}else s===t-1&&0===d?p.push("story-tour-progress-bar--complete"):u&&i===Oe.Rewinding?p.push("story-tour-progress-bar--full-rewinding"):e<s?p.push("story-tour-progress-bar--complete"):e>s&&p.push("story-tour-progress-bar--incomplete");const f={};if(h&&(i===Oe.Playing||i===Oe.Paused?f.animationDuration=`${o}ms`:i===Oe.FastForwarding&&(f.animationDuration=`${l}ms`)),i===Oe.Rewinding){const e=n/(n+1);h&&u?f.animationDuration=`${l}ms`:h?f.animationDuration=e*l+"ms":u&&(f.animationDuration=(1-e)*l+"ms",f.animationDelay=e*l+"ms")}return(0,c.jsx)("div",{className:m()(...p),style:f})}function Gt(){const e=Vt();return(0,r.useEffect)((()=>{document.documentElement.style.setProperty("--currentTourScenePosition",100*e+"%")}),[e]),null}function Wt(e){const{snapshot:t,numberOfHighlights:n,currentIndex:i,xOffset:s}=e,{name:r}=t,a=i===n-1,o={};0===i?(o.left="15px",o.transform="none"):a?(o.right="10px",o.transform="none"):o.left=`${s}px`;const l=m()("highlight-box","active"),d=m()("image-name",{shadowed:!!r});return(0,c.jsxs)("div",Object.assign({style:o,className:l},{children:[(0,c.jsx)(Rt.X,{resource:t.thumbnailUrl,className:"highlight-image"}),(0,c.jsx)("div",Object.assign({className:d},{children:(0,c.jsx)("span",Object.assign({className:"static-text"},{children:r}))}))]}))}Ht.contextType=f.I;class zt extends r.Component{constructor(e){super(e),this.scrollbarRef=(0,r.createRef)(),this.reelRef=(0,r.createRef)(),this.onClickSceneBar=async e=>{e.preventDefault();const t=e.target.getAttribute("data-index");if(t){const e=parseInt(t,10),{tourPlaying:n,transition:i}=this.props,{commandBinder:s,analytics:r}=this.context;try{n&&await s.issueCommand(new T.vy({willResume:!0})),i.active||(r.track("showcase_gui",{gui_action:"click_scene_bar"}),await s.issueCommand(new T.rU(e)),n&&await s.issueCommand(new T.TH({index:e})))}catch(e){}}},this.onEnterSceneBar=e=>{const t=e.target.getAttribute("data-index");if(t){const n=parseInt(t,10);this.setState({focusedIndex:n,xOffset:e.clientX})}},this.onLeaveSceneBar=e=>{const t=e.target.getAttribute("data-index");if(t){parseInt(t,10)===this.state.focusedIndex&&this.setState({focusedIndex:-1})}},this.onScrollableChanged=e=>{this.setState({scrollable:e})},this.onScrollPositionChange=e=>{this.setState({scrollPosition:e})},this.state={focusedIndex:-1,xOffset:0,scrollLeft:0,scrollPosition:At.Ij.None,scrollable:!1}}componentDidUpdate(){var e;const{activeStep:t,tourPlaying:n}=this.props,i=this.scrollbarRef.current;if(i&&!i.isDragging&&n){const n=null===(e=this.reelRef.current)||void 0===e?void 0:e.querySelector(`#highlightbar_${t}`);n&&i.scrollToElement(n)}}renderSceneBar(e,t){const{focusedIndex:n}=this.state,i=m()("highlight-bar",{"highlight-bar-hover":t<=n});return(0,c.jsx)("div",Object.assign({id:`highlightbar_${t}`,className:"highlight-compacted","data-index":t,onClick:this.onClickSceneBar,onMouseEnter:this.onEnterSceneBar,onMouseLeave:this.onLeaveSceneBar,onMouseMove:this.onEnterSceneBar},{children:(0,c.jsx)("div",Object.assign({className:i},{children:(0,c.jsx)(Bt,{index:t})}))}),`${e.id}_bar_${t}`)}renderHighlightBox(){const{focusedIndex:e,xOffset:t}=this.state;if(-1===e)return null;const{highlights:n}=this.props,i=n[e];return(0,c.jsx)(Wt,{snapshot:i.snapshot,numberOfHighlights:n.length,currentIndex:e,xOffset:t})}render(){const{highlights:e,tourPlaying:t}=this.props;return(0,c.jsxs)("div",Object.assign({className:m()("tour-story-reel",{"tour-playing":t}),ref:this.reelRef},{children:[(0,c.jsx)(Gt,{}),(0,c.jsx)(Nt.Z,Object.assign({direction:At.Nm.horizontal,ref:this.scrollbarRef,hideScrollbar:!0,thumbScrollingOnly:!1,waitToUpdate:0===e.length,handleClick:this.onClickSceneBar,onScrollableChanged:this.onScrollableChanged,onScrollPositionChange:this.onScrollPositionChange},{children:(0,c.jsx)("div",Object.assign({className:"highlights"},{children:e.map(((e,t)=>this.renderSceneBar(e,t)))}))})),this.renderHighlightBox()]}))}}zt.contextType=f.I;var Kt=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Yt=class extends r.Component{constructor(){super(...arguments),this.handleClick=()=>{this.context.analytics.trackToolGuiEvent("hlr","tour_progress");const{reelOpen:e}=this.props;e||this.context.commandBinder.issueCommand(new Ue.Av(!0))}}getTourSteps(){const{totalSteps:e,activeStep:t}=this.props,n=[];for(let i=0;i<e;i++)n.push((0,c.jsx)("div",{className:m()({active:i===t})},i.toString()));return n}render(){const{reelOpen:e,tourPlaying:t,activeStep:n,totalSteps:i}=this.props,s=n+1+"/"+i,r=-1!==n&&!e&&s,a=-1!==n&&e&&t;return i>0?(0,c.jsxs)("div",Object.assign({id:"tour-progress",className:m()({"faded-in":t,"full-width":e}),onClick:this.handleClick,"data-balloon":r,"data-balloon-pos":"right","data-balloon-size":"xs"},{children:[a&&(0,c.jsx)("div",Object.assign({className:"progress-number"},{children:s})),-1!==n&&(0,c.jsx)("div",Object.assign({className:"progress-bar"},{children:this.getTourSteps()}))]})):null}};function qt(e){const{activeStep:t,highlights:n,openTool:i,tourMode:s,tourPlaying:r,transition:a}=e,o=He(),l=i===N.w1.HLR;if(s===re.zz.STORIES)return l&&!r?null:(0,c.jsx)(zt,{highlights:n,tourPlaying:r,activeStep:t,transition:a});{const e=o&&(!l||r),i=(null==n?void 0:n.length)||0,s=0===i;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Ie.N,Object.assign({className:m()("highlight-reel",{"reel-empty":s,closed:!e}),open:e},{children:s?(0,c.jsx)(Ht,{}):(0,c.jsx)(Ut,{highlights:n,tourPlaying:r,activeStep:t,totalSteps:i,transition:a})})),r&&(0,c.jsx)(Yt,{activeStep:t,tourPlaying:r,totalSteps:i,reelOpen:o})]})}}Yt.contextType=f.I,Yt=Kt([Tt.Z],Yt);const $t=new _.Z("pause-button");class Zt extends r.Component{constructor(e){super(e),this.justEnded=!1,this.stopTour=async e=>{this.context.analytics.trackGuiEvent("tour_stopped");try{this.context.commandBinder.issueCommand(new T.vy)}catch(e){$t.debug(e)}},this.state={justPaused:!1}}componentDidUpdate(){this.state.justPaused&&this.setState({justPaused:!1}),this.justEnded=!1}UNSAFE_componentWillReceiveProps(e){!this.props.tourPlaying||e.tourPlaying||this.justEnded||this.setState({justPaused:!0}),this.props.tourEnded&&(this.justEnded=!0)}render(){const{tourPlaying:e}=this.props,{justPaused:t}=this.state;return(0,c.jsx)("div",Object.assign({id:"pause-button",onClick:this.stopTour,onTouchMove:this.stopTour,onTouchStart:this.stopTour,"data-cy":"pause-button"},{children:!e&&(0,c.jsx)("img",{src:n(16874),className:m()({justPaused:t}),alt:"","aria-hidden":"true"})}))}}Zt.contextType=f.I;var Qt=n(80361),Xt=n(96403),Jt=n(39693);function en(){const{commandBinder:e,analytics:t}=(0,r.useContext)(f.I),n=(0,w.b)(),i=(0,Xt.B)()===N.w1.NOTES,s=n.t(g.Z.NOTES_MODE),a=n.t(g.Z.NOTES_NUDGE_TITLE),o=n.t(g.Z.NOTES_NUDGE_MESSAGE),l=L.F.NotesModeNudgeSeen,d=Jt.pE;return(0,c.jsx)(q,{className:"notes-mode-button",icon:"comment-outline",active:i,onClick:()=>{const n=!i;n&&t.trackGuiEvent("notes_mode_click_open"),e.issueCommand(new h.tT(N.w1.NOTES,n))},tooltip:s,nudgeFeatureKey:d,nudgeTitle:a,nudgeMessage:o,nudgeLocalStorage:l,onNudgeDismissed:()=>{t.trackGuiEvent("notes_nudge_dismissed")},showTimeout:35e3,dismissTimeout:1e4},"notes-mode-button")}var tn=n(8824);function nn(){const{commandBinder:e,analytics:t}=(0,r.useContext)(f.I),n=(0,w.b)(),i=(0,Xt.B)()===N.w1.MEASUREMENTS,s=n.t(g.Z.MEASUREMENT_MODE),a=n.t(g.Z.MEASUREMENT_NUDGE_TITLE),o=n.t(g.Z.MEASUREMENT_NUDGE_MESSAGE),l=L.F.MeasurementUserNudgeSeen,d=tn.b;return(0,c.jsx)(q,{className:"measure-mode-button",icon:"tape-measure",active:i,onClick:()=>{const n=!i;n&&t.trackToolGuiEvent("measurements","measure_mode"),e.issueCommand(new h.tT(N.w1.MEASUREMENTS,n))},tooltip:s,nudgeFeatureKey:d,nudgeTitle:a,nudgeMessage:o,nudgeLocalStorage:l,onNudgeDismissed:()=>{t.trackGuiEvent("measurement_nudge_dismissed")},showTimeout:6e4,dismissTimeout:1e4},"measure-mode-button")}var sn,rn,an,on,ln=n(91033),cn=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.ENABLED="enabled",e.DISABLED="disabled",e.DECORATIVE="decorative",e.DIMMED="dimmed",e.ACTIVE="active",e.BUSY="busy"}(rn||(rn={})),function(e){e[e.STANDARD=0]="STANDARD",e[e.MINI=1]="MINI",e[e.SMALL=2]="SMALL",e[e.LARGE=3]="LARGE"}(an||(an={})),function(e){e.CLEAR="clear",e.PLAIN="plain",e.OVERLAY="overlay",e.PRIMARY="primary",e.SOCIAL="social",e.TOOLBAR="toolbar"}(on||(on={}));let dn=sn=class extends r.Component{constructor(e){super(e),this.onClick=e=>{const t=this.props.buttonState;t!==rn.BUSY&&t!==rn.DISABLED&&this.props.onClick&&this.props.onClick(e)},this.onMouseDown=e=>{const{onMouseDown:t,onClick:n,buttonState:i}=this.props;if(t)t(e);else if(sn.iMobile&&n&&i!==rn.BUSY&&i!==rn.DISABLED){const t=this.context.mainDiv.getRootNode().activeElement;t&&e.cancelable&&(t.blur(),e.preventDefault())}}}render(){const{ariaLabel:e,breakoutTooltip:t,buttonSize:n,buttonState:i,buttonStyle:s,children:r,className:a,dataValue:o,iconClass:l,id:d,onClick:u,onMouseUp:h,tooltipMsg:p,tooltipPersist:f,tooltipPreformatted:g}=this.props,v=i===rn.DISABLED,b=i===rn.BUSY,y=i===rn.DECORATIVE,E=!v&&!b&&!y,S=p?!!g:void 0,O={"button-small":n===an.SMALL,"button-large":n===an.LARGE,"button-disabled":v,"button-dimmed":i===rn.DIMMED,"button-active":i===rn.ACTIVE,"button-busy":b,"button-interactive":E,"icon-button-primary":s===on.PRIMARY,"icon-button-overlay":s===on.OVERLAY,"icon-button-plain":s===on.PLAIN,"icon-button-social":s===on.SOCIAL,"icon-button-toolbar":s===on.TOOLBAR,"icon-button-breakout-tooltip":t},T={id:d,role:"button","aria-label":e||p,"aria-disabled":v,"data-value":o,className:m()("icon-button",O,a),onClick:u?this.onClick:void 0,onMouseUp:h,onMouseDown:this.onMouseDown},_={"data-balloon-pre":S,"data-balloon-persist":f};return t||Object.assign(T,_),(0,c.jsxs)("div",Object.assign({},T,{children:[t&&(0,c.jsx)("div",Object.assign({className:"icon-button-breakout-tooltip-container"},{children:(0,c.jsx)("div",Object.assign({className:"icon-button-breakout-tooltip-trigger"},_))})),l&&(0,c.jsx)("span",{className:`icon ${l}`}),r]}))}};dn.contextType=f.I,dn.iMobile=(0,bt.Tt)()||(0,bt._1)(),dn=sn=cn([Tt.Z],dn);var un=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},hn=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};var pn;!function(e){e.UP="up",e.DOWN="down"}(pn||(pn={}));let mn=class extends r.Component{constructor(e){super(e),this.elementRef=(0,r.createRef)(),this.onOutsideClick=e=>{this.toggleDropdown(!1)},this.onToggleClick=e=>{e.stopPropagation(),this.toggleDropdown()},this.onTransitionEnd=e=>{e&&e.target!==e.currentTarget||(window.clearTimeout(this.transitionTimeout),this.setState({transitioning:!1}))},this.toggleDropdown=e=>{const{open:t}=this.state,n=void 0!==e?e:!t;n?window.addEventListener("click",this.onOutsideClick):window.removeEventListener("click",this.onOutsideClick),this.transitionTimeout=window.setTimeout(this.onTransitionEnd,1e3),this.setState({open:n,transitioning:!0})},this.state={open:!1,transitioning:!1}}componentWillUnmount(){window.removeEventListener("click",this.onOutsideClick)}render(){const{open:e,transitioning:t}=this.state,n=this.props,{children:i,className:s,direction:r}=n,a=hn(n,["children","className","direction"]),o={up:r===pn.UP,open:e,transitioning:t};return(0,c.jsxs)("div",Object.assign({ref:this.elementRef,className:m()("dropdown",o,s)},a,{children:[(0,c.jsx)("div",Object.assign({className:"dropdown-mask"},{children:(0,c.jsx)("div",Object.assign({className:"dropdown-menu",onTransitionEnd:this.onTransitionEnd},{children:i}))})),(0,c.jsx)("div",Object.assign({className:"dropdown-toggle"},{children:(0,c.jsx)(dn,{iconClass:"icon-toolbar-more-horiz",onClick:this.onToggleClick,className:"dropdown-toggle"})}))]}))}};mn.defaultProps={direction:pn.DOWN},mn=un([Tt.Z],mn);var fn=n(95912),gn=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},vn=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const bn="collapsed";let yn=class extends r.Component{constructor(e){super(e),this.contentRef=(0,r.createRef)(),this.collapsedRef=(0,r.createRef)(),this.toggleRef=(0,r.createRef)(),this.onResize=()=>{this.update()},this.update=(0,fn.P)((()=>{var e;const t=null===(e=this.toggleRef.current)||void 0===e?void 0:e.elementRef.current,n=this.contentRef.current,i=this.collapsedRef.current;if(!n||!i||!t)return;const s=n.children,r=i.children;if(!s||s.length!==r.length)return;const a=n.offsetWidth,o=t.offsetWidth||0;let l=0,c=0;for(let e=0;e<s.length;e++){let t=s[e].offsetWidth||0;c||e!==s.length-1||(t-=o),l+=t,l<=a?(s[e].classList.remove(bn),r[e].classList.add(bn)):(c++,s[e].classList.add(bn),r[e].classList.remove(bn))}c!==this.state.collapsedCount&&this.setState({collapsedCount:c})}),50),this.state={collapsedCount:0},this.observer=new ln.Z(this.onResize)}componentDidMount(){this.connectObserver(),this.update()}componentDidUpdate(){this.update()}componentWillUnmount(){this.disconnectObserver(),this.reset()}connectObserver(){const e=this.contentRef.current;e&&this.observer.observe(e)}disconnectObserver(){this.observer&&this.observer.disconnect()}reset(){const e=this.contentRef.current;if(!e)return;const t=e.querySelectorAll(".collapsed");Array.from(t).forEach((e=>e.classList.remove(bn)))}getExpandedChildren(){const{children:e}=this.props,{collapsedCount:t}=this.state,n=r.Children.count(e)-t,i=[];return r.Children.forEach(e,((e,t)=>{t<n&&i.push((0,c.jsx)(r.Fragment,{children:e},t))})),i}getCollapsedChildren(){const{children:e}=this.props,{collapsedCount:t}=this.state,n=r.Children.count(e)-t,i=[];return r.Children.forEach(e,((e,t)=>{t>=n&&i.push((0,c.jsx)(r.Fragment,{children:e},t))})),i}render(){const e=this.props,{children:t,className:n}=e,i=vn(e,["children","className"]),{collapsedCount:s}=this.state,r=`collapsible-list ${n}`,a={hidden:0===s};if(!t||!Array.isArray(t))return t;const o=this.getExpandedChildren(),l=this.getCollapsedChildren();return(0,c.jsxs)("div",Object.assign({className:m()(r)},i,{children:[(0,c.jsxs)("div",Object.assign({ref:this.contentRef,className:"collapsible-list-items"},{children:[(0,c.jsx)(R.Provider,Object.assign({value:{outOfScope:!1}},{children:o})),(0,c.jsx)(R.Provider,Object.assign({value:{outOfScope:!0}},{children:l}))]})),(0,c.jsx)(mn,Object.assign({ref:this.toggleRef,direction:pn.UP,className:m()(a)},{children:(0,c.jsxs)("div",Object.assign({ref:this.collapsedRef,className:"collapsible-list-menu"},{children:[(0,c.jsx)(R.Provider,Object.assign({value:{outOfScope:!0}},{children:o})),(0,c.jsx)(R.Provider,Object.assign({value:{outOfScope:!1}},{children:l}))]}))}))]}))}};yn.defaultProps={},yn=gn([Tt.Z],yn);var En=n(72940),Sn=n(15501);const On=(0,le.M)(Fe.T,"currentTourMode",re.zz.NONE);var Tn=n(99660),_n=n(45531),wn=n(26568);const Nn=(0,pe.u)(wn.T),An=()=>{const e=(0,w.b)(),t=!(0,B.y)(_n.sX,!1),n=(()=>{const e=Nn(),t=(0,B.y)(_n.r4,"");return t&&(null==e?void 0:e.hasDiscoverUrl())?`${t}${e.model.sid}`:null})(),i=e.t(g.Z.ALT_MATTERPORT_LOGO),s=(0,c.jsx)("img",{className:"footer-logo",alt:i,src:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyMzAuMDUgNDkuNzUiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6I2Y1ZjRmM30uc3Qye2ZpbGw6I2ZmZn0uc3Qze2ZpbGw6Izk5OX08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02MS4yOCAzNi4xNHYtOC44MmwtLjI0LTUuMDkuMTktLjA0IDIuMDUgNC41NCA0LjgyIDguODYgNC44Mi04Ljg2IDIuMDYtNC41NC4xOC4wNC0uMjQgNS4wOXY4LjgyaDUuMTRWMTQuNGgtNS44MWwtNi4xMSAxMS43N2gtLjA3TDYxLjk1IDE0LjRoLTUuODF2MjEuNzR6TTIxMi42OSAzMC42M2MwIDMuNiAxLjk0IDUuNSA1LjYxIDUuNWgzLjE3di00LjQ1aC0zLjQ1di05LjQ5aDMuNzR2LTQuMzZoLTQuMTV2LTQuMjFoLTQuOTF2MTcuMDF6TTIxMS4yNiAxNy44M2gtLjg3Yy0zLjAxIDAtNC40NCAyLjAzLTQuODkgMy40M2gtLjE4di0zLjQzSDIwMHYxOC4zMWg1LjMyVjI1LjcyYzAtMS4wOC40MS0xLjg0LjkzLTIuMzMuODktLjg2IDIuNzktMS4xMSA1LjAxLTEuMTF2LTQuNDV6TTE1OC42MyAxNy44M2gtLjg3Yy0zLjAxIDAtNC40NCAyLjAzLTQuODkgMy40M2gtLjE4di0zLjQzaC01LjMydjE4LjMxaDUuMzJWMjUuNzJjMC0xLjA4LjQxLTEuODQuOTMtMi4zMy44OS0uODYgMi43OS0xLjExIDUuMDEtMS4xMXYtNC40NXpNMTI3LjQ4IDI3LjI1YzAtNS45NyAzLjE3LTkuODYgOC44NS05Ljg2IDYuMjYgMCA4Ljc4IDQuNTMgOC43OCA5LjY0djEuNThoLTEyLjEydi4xOGMwIDIuMTIgMS4xNCAzLjYgNC4xNyAzLjYgMi4yMyAwIDMuNDUtMS4wNCA0LjY0LTIuMjdsMi42NiAzLjMxYy0xLjY5IDEuOTQtNC40NiAzLjEzLTcuOTEgMy4xMy01LjguMDEtOS4wNy0zLjI3LTkuMDctOS4zMXptNS41LTIuMDV2LjI5aDYuNjJ2LS4zMmMwLTIuMy0xLjA0LTMuODUtMy4xNy0zLjg1cy0zLjQ1IDEuNTQtMy40NSAzLjg4ek0xODAuMDQgMjcuMjVjMC02LjA4IDMuMzEtOS44NiA4Ljg1LTkuODYgNS41NCAwIDguODUgMy43OCA4Ljg1IDkuODZzLTMuMzEgOS4zMi04Ljg1IDkuMzJjLTUuNTUgMC04Ljg1LTMuMjQtOC44NS05LjMyem0xMi4xNSAxLjM3di0zLjI3YzAtMi4zNy0xLjIyLTMuNzQtMy4zMS0zLjc0cy0zLjMxIDEuMzctMy4zMSAzLjc0djMuMjdjMCAyLjM3IDEuMjIgMy43NCAzLjMxIDMuNzRzMy4zMS0xLjM3IDMuMzEtMy43NHpNMTIyLjQyIDEzLjYyaC00Ljc4djIuMTljMCAxLjMtLjQzIDIuMDEtMS44NyAyLjAxaC0xLjMzdjQuMzZoMi42NnY4LjQ0YzAgMy42IDEuOTQgNS41IDUuNjEgNS41aDMuMTd2LTQuNDVoLTMuNDV2LTkuNDloMy43NHYtNC4zNmgtMy43NHYtNC4yek0xMDkuMTcgMTMuNjJoLTQuNzh2Mi4xOWMwIDEuMy0uNDMgMi4wMS0xLjg3IDIuMDFoLTEuMzN2NC4zNmgyLjY2djguNDRjMCAzLjYgMS45NCA1LjUgNS42MSA1LjVoMy4xN3YtNC40NWgtMy40NXYtOS40OWgzLjc0di00LjM2aC0zLjc0di00LjJ6TTE3MC45IDE3LjM5Yy0yLjQ1IDAtNC41MyAxLjUxLTUuMDcgMy42aC0uMTh2LTMuMTdoLTUuMzJ2MjMuODJoNS4zMnYtOC42N2guMThjLjU0IDIuMDUgMi42MyAzLjYgNS4wNyAzLjYgNC43OCAwIDcuMjctMi45MSA3LjI3LTkuMzItLjAxLTYuNC0yLjQ5LTkuODYtNy4yNy05Ljg2em0xLjcyIDExLjUyYzAgMi4zNy0xLjQ4IDMuMzUtMy40OSAzLjM1LTIuMDEgMC0zLjQ5LTEuMDQtMy40OS0yLjc3di01YzAtMS43MyAxLjQ4LTIuNzcgMy40OS0yLjc3IDIuMDEgMCAzLjQ5IDEuNTUgMy40OSAzLjkydjMuMjd6TTk3LjgzIDM2LjE0Yy0xLjkxIDAtMy4yNy0xLjMtMy42LTMuMzFoLS4yMmMtLjU4IDIuNDUtMi42NiAzLjc0LTUuNTQgMy43NC0zLjc4IDAtNS44Ni0yLjIzLTUuODYtNS41IDAtMy45OSAzLjA5LTUuOSA4LjA5LTUuOWgyLjk5di0uNjFjMC0xLjgzLS45LTIuOTktMy4xMy0yLjk5LTIuMTIgMC0zLjI0IDEuMDgtNC4wNiAyLjIzbC0zLjE3LTIuODFjMS41MS0yLjIzIDMuNjctMy42IDcuNjMtMy42IDUuMzIgMCA4LjA2IDIuNDUgOC4wNiA2LjkxdjcuMzhoMS43NnY0LjQ1aC0yLjk1em0tNC4xMy01Ljcydi0yLjIzaC0yLjU5Yy0yLjA1IDAtMy4xMy43Ni0zLjEzIDIuMTJ2LjU0YzAgMS4zNy45IDIuMDEgMi40OCAyLjAxIDEuNzYgMCAzLjI0LS43MiAzLjI0LTIuNDR6Ii8+PGc+PHBhdGggZD0iTTM5LjA1IDYuOTFMMjYuMjQgMTAuNSAxMy40MiA2LjkxIDguMyA4LjM1djMzLjA2bDUuMTMgMS40NCAxMi44Mi0zLjU5IDEyLjgyIDMuNTkgNS4xMy0xLjQ0VjguMzVsLTUuMTUtMS40NHptLTUuMTIgMjQuNjdsLTcuNjktMi4xNS03LjY5IDIuMTV2LTEzLjRsNy42OSAyLjE1IDcuNjktMi4xNXYxMy40eiIgZmlsbD0iI2I3YmFiYiIvPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yNi4yNCAxMy4zN3Y2Ljk2bC0xMi44Mi0zLjU5djI2LjFMOC4zIDQxLjQxVjguMzV6TTMzLjkzIDM0LjQ1bC03LjY5LTIuMTZ2Ni45NmwxMi44MSAzLjU5di0yNi4xbC01LjEyIDEuNDR6Ii8+PGc+PHBhdGggY2xhc3M9InN0MyIgZD0iTTM5LjA1IDYuOTFsNS4xMyAxLjQ0LTE3Ljk0IDUuMDJMOC4zIDguMzVsNS4xMi0xLjQ0IDEyLjgyIDMuNTl6TTI2LjI0IDI5LjQybDcuNjkgMi4xNnYyLjg3bC03LjY5LTIuMTYtNy42OSAyLjE2di0yLjg3eiIvPjwvZz48L2c+PC9zdmc+"});return t?(0,c.jsx)("a",Object.assign({className:"link logo-link",href:n||"https://matterport.com",target:"_blank"},{children:s})):s};var In=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const kn="gui";let Pn=class extends r.Component{constructor(e){super(e),this.handleTermsClick=()=>{const e=this.props.openModal===Ne.P.TERMS;this.context.commandBinder.issueCommand(new Ae.B(Ne.P.TERMS,!e)),this.context.analytics.trackGuiEvent("click_terms_button",{interactionSource:kn})},this.handleHelpClick=()=>{const e=this.props.openModal===Ne.P.HELP;this.context.commandBinder.issueCommand(new Ae.B(Ne.P.HELP,!e)),this.context.analytics.trackGuiEvent("click_help_button",{interactionSource:kn})},this.handleFeedbackClick=()=>{const{analytics:e,commandBinder:t}=this.context;t.issueCommand(new Tn.m),e.trackGuiEvent("click_feedback_button",{interactionSource:kn})}}render(){const{isWorkshop:e=!1,modelRatingEnabled:t,disabled:n}=this.props;return e&&!t?null:(0,c.jsxs)(k.hE,Object.assign({className:"showcase-footer"},{children:[!n&&t&&(0,c.jsx)(k.zx,{variant:k.Wu.TERTIARY,size:"small",theme:"overlay",onClick:this.handleFeedbackClick,className:"model-feedback-link",ariaRole:"link",ariaHasPopup:"dialog",disabled:n,label:this.context.locale.t(g.Z.FEEDBACK)}),!n&&!e&&t&&(0,c.jsx)("span",{children:" | "}),!n&&!e&&(0,c.jsx)(k.zx,{variant:k.Wu.TERTIARY,size:"small",theme:"overlay",onClick:this.handleHelpClick,ariaRole:"link",disabled:n,ariaHasPopup:"dialog",label:this.context.locale.t(g.Z.HELP)}),!n&&!e&&(0,c.jsx)("span",{children:" | "}),!n&&!e&&(0,c.jsx)(k.zx,{variant:k.Wu.TERTIARY,size:"small",theme:"overlay",onClick:this.handleTermsClick,ariaRole:"link",disabled:n,ariaHasPopup:"dialog",label:this.context.locale.t(g.Z.TERMS)}),!n&&!e&&(0,c.jsx)(An,{})]}))}};Pn.contextType=f.I,Pn=In([Tt.Z],Pn);const Ln=Pn;function Rn(){const e=(0,Xt.B)(),t=(0,Sn.R)(),n=(0,B.y)(En.i,!1),i=He(),s=On(),r=i&&!e&&s===re.zz.LEGACY,a=!e,o=!t||t===Ne.P.TERMS;return(0,c.jsx)("div",Object.assign({className:m()("footer-ui",{"footer-ui-shaded":r,disabled:!o})},{children:a&&(0,c.jsx)(Ln,{openModal:t,disabled:!o,modelRatingEnabled:n})}))}var Cn=n(7446);const Dn=(0,le.M)(Cn.P,"isDialogVisible",!1);var Mn,xn=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.FILTER=1]="FILTER"}(Mn||(Mn={}));let jn=class extends r.Component{constructor(e){super(e),this.onChange=e=>{this.props.stopPropagation&&e.stopPropagation(),this.setState((e=>({checkedValue:!e.checkedValue})),(()=>{this.props.onChange&&this.props.onChange(this.checkboxElement,...this.props.onChangeArgs||[])}))},this.setCheckboxRef=e=>{this.checkboxElement=e},this.state={checkedValue:e.checked}}UNSAFE_componentWillReceiveProps(e){this.setState({checkedValue:e.checked})}render(){const{checkboxStyle:e=Mn.DEFAULT,className:t,dataValue:n,enabled:i,error:s,helpText:r,id:a,label:o}=this.props,{checkedValue:l}=this.state,d=!i;return(0,c.jsxs)("div",Object.assign({ref:this.setCheckboxRef,id:a,role:"checkbox","aria-checked":l?"true":"false","aria-disabled":d,"data-value":n,className:m()("checkbox-element",`checkbox-style-${Mn[e].toLowerCase()}`,{checked:l,disabled:d,error:s},t),onClick:this.onChange,tabIndex:0},{children:[e!==Mn.FILTER&&(0,c.jsx)("div",{className:"checkbox icon-checkmark"}),(0,c.jsx)("div",Object.assign({className:"checkbox-text"},{children:o})),r&&(0,c.jsx)("span",Object.assign({className:"help-text"},{children:r}))]}))}};jn.defaultProps={enabled:!0,error:!1},jn=xn([Tt.Z],jn);var Un,Fn=n(40505),Hn=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.OUTLINED=0]="OUTLINED",e[e.ADJUSTABLE=1]="ADJUSTABLE"}(Un||(Un={}));const Vn=function*(){let e=0;for(;;)yield e++}();let Bn=class extends r.Component{constructor(e){super(e),this.elementRef=(0,r.createRef)(),this.onInput=e=>{if(this.props.onInput){const t=e.target;this.props.onInput(t.value)}},this.onKeyPress=e=>{e.stopPropagation();const t=e.which||e.keyCode,n=[se.R.RETURN];if("keydown"===e.type&&!n.includes(t))return!1;const i=e.target;switch(this.props.maxLength&&i.value.length>this.props.maxLength&&e.preventDefault(),t){case se.R.RETURN:e.shiftKey||(e.preventDefault(),this.blur(),this.props.onDone(i.value))}return!1},this.stopPropagation=e=>e.stopPropagation(),this.onChange=e=>{this.updateHeight()},this.onFocus=e=>{this.context.messageBus.broadcast(new Fn.SN(this.input,!0)),this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0})},this.onBlur=e=>{this.context.messageBus.broadcast(new Fn.SN(this.input,!1)),this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1})},this.setRef=e=>this.input=e,this.instanceId=`textarea-${Vn.next().value}`,this.state={currentText:e.text,isFocused:!1}}componentDidMount(){this.props.focusOnMount&&this.input&&this.input.focus(),this.props.scrollIntoViewOnMount&&this.input&&this.input.scrollIntoView(),this.updateHeight()}componentWillUnmount(){this.input&&this.input.blur()}UNSAFE_componentWillReceiveProps(e){e.text!==this.props.text&&this.setState({currentText:e.text})}componentDidUpdate(e,t){t.currentText!==this.state.currentText&&this.updateHeight()}getText(){return this.input?this.input.value:""}focus(){this.input.focus()}blur(){this.input.blur()}updateHeight(){if(this.props.inputStyle===Un.ADJUSTABLE){const e=this.elementRef.current;if(!this.input||!e)return;e.style.height="",this.input.style.overflowY="";const t=this.input.scrollHeight;e.style.height=`${t}px`,t>e.scrollHeight&&(this.input.style.overflowY="auto")}}render(){const{placeholder:e,tabIndex:t,maxLength:n,inputStyle:i=Un.OUTLINED,label:s,name:r,readOnly:a,rows:o}=this.props,{currentText:l,isFocused:d}=this.state,u=r||this.instanceId,h=""===l,p=s&&(i!==Un.ADJUSTABLE||d||!h),f=i===Un.ADJUSTABLE?1:o;return(0,c.jsxs)("div",Object.assign({className:m()("textarea-container",`textarea-style-${Un[i].toLowerCase()}`,{focused:d,readonly:a,placeholder:h}),ref:this.elementRef},{children:[p&&(0,c.jsx)("label",Object.assign({className:"label",htmlFor:u},{children:s})),(0,c.jsx)("textarea",{className:"textarea",value:l,ref:this.setRef,name:u,placeholder:e,maxLength:n,onInput:this.onInput,onChange:this.onChange,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyPress,onKeyUp:this.stopPropagation,onBlur:this.onBlur,onFocus:this.onFocus,rows:f,tabIndex:t,readOnly:a})]}))}};Bn.contextType=f.I,Bn=Hn([Tt.Z],Bn);const Gn=Bn;var Wn;!function(e){e[e.Disappointed=0]="Disappointed",e[e.Unsatisfied=1]="Unsatisfied",e[e.Neutral=2]="Neutral",e[e.Satisfied=3]="Satisfied",e[e.Happy=4]="Happy"}(Wn||(Wn={}));const{MODEL_RATING:zn}=g.Z.WORKSHOP,Kn={HAPPINESS:"happiness",QUALITY:"quality",NAVIGATION:"navigation",FEEDBACK:"feedback"},Yn=Kn.HAPPINESS,qn={[Kn.HAPPINESS]:zn.HAPPINESS_TITLE,[Kn.QUALITY]:zn.QUALITY_ISSUES_TITLE,[Kn.NAVIGATION]:zn.NAVIGATION_ISSUES_TITLE,[Kn.FEEDBACK]:zn.FEEDBACK_TITLE},$n={[Kn.HAPPINESS]:zn.HAPPINESS_BODY},Zn={[Kn.QUALITY]:[{text:zn.QUALITY_ISSUES_LIGHTING,value:"lighting"},{text:zn.QUALITY_ISSUES_3D_MESH,value:"3d_mesh"},{text:zn.QUALITY_ISSUES_COLORING,value:"coloring"},{text:zn.QUALITY_ISSUES_IMAGE_QUALITY,value:"image_quality"}],[Kn.NAVIGATION]:[{text:zn.NAVIGATION_ISSUES_BLOCKED_DOORWAYS,value:"blocked_doorways"},{text:zn.NAVIGATION_ISSUES_OBSTRUCTIONS,value:"obstructions"},{text:zn.NAVIGATION_ISSUES_MISALIGNED_SCANS,value:"misaligned_scans"},{text:zn.NAVIGATION_ISSUES_FLOOR_SEPARATION,value:"floor_separation"},{text:zn.NAVIGATION_ISSUES_DISAPPEARING_FLOORS,value:"disappearing_floors"}]},Qn=[{value:1,altText:g.Z.REUSABLES.EMOJI_ALT_DISAPPOINTED,icon:Wn.Disappointed},{value:2,altText:g.Z.REUSABLES.EMOJI_ALT_UNSATISFIED,icon:Wn.Unsatisfied},{value:3,altText:g.Z.REUSABLES.EMOJI_ALT_NEUTRAL,icon:Wn.Neutral},{value:4,altText:g.Z.REUSABLES.EMOJI_ALT_SATISFIED,icon:Wn.Satisfied},{value:5,altText:g.Z.REUSABLES.EMOJI_ALT_HAPPY,icon:Wn.Happy}];var Xn=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Jn=class extends r.Component{render(){switch(this.props.icon){case Wn.Disappointed:return(0,c.jsxs)("svg",Object.assign({width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 28C21.9557 28 28 21.9557 28 14.5C28 7.04503 21.9557 1 14.5 1C7.04506 1 1 7.04506 1 14.5C1 21.9557 7.04503 28 14.5 28ZM14.5 29C22.508 29 29 22.508 29 14.5C29 6.49278 22.508 0 14.5 0C6.49278 0 0 6.49278 0 14.5C0 22.508 6.49278 29 14.5 29Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M9.26389 16.1111C10.3761 16.1111 11.2778 14.8488 11.2778 13.2917C11.2778 11.7345 10.3761 10.4722 9.26389 10.4722C8.15165 10.4722 7.25 11.7345 7.25 13.2917C7.25 14.8488 8.15165 16.1111 9.26389 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.7361 16.1111C20.8484 16.1111 21.75 14.8488 21.75 13.2917C21.75 11.7345 20.8484 10.4722 19.7361 10.4722C18.6239 10.4722 17.7222 11.7345 17.7222 13.2917C17.7222 14.8488 18.6239 16.1111 19.7361 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M4.83253 9.66666C4.66497 9.66666 4.495 9.6143 4.35 9.50555C3.99394 9.23891 3.92225 8.73383 4.18889 8.37777C6.81661 4.87361 10.324 4.83333 10.4722 4.83333C10.9169 4.83333 11.2778 5.19422 11.2778 5.63888C11.2778 6.08274 10.9193 6.44283 10.4754 6.44444C10.3506 6.44605 7.60122 6.51372 5.47778 9.34444C5.31989 9.5555 5.07742 9.66666 4.83253 9.66666ZM24.1675 9.66666C23.9218 9.66666 23.6809 9.5555 23.5222 9.34444C21.3956 6.50808 18.6397 6.44605 18.5229 6.44444C18.0799 6.43961 17.7222 6.07711 17.7246 5.63486C17.7271 5.19099 18.0847 4.83333 18.5278 4.83333C18.676 4.83333 22.1826 4.87361 24.8111 8.37777C25.0786 8.73383 25.0061 9.23891 24.65 9.50555C24.505 9.6143 24.3358 9.66666 24.1675 9.66666V9.66666ZM18.9185 22.4581C18.9096 22.4226 17.9961 18.9306 14.5 18.9306C11.0039 18.9306 10.0904 22.4226 10.0815 22.4581C10.0388 22.6297 10.117 22.8053 10.2684 22.8963C10.4199 22.9865 10.6172 22.9656 10.7485 22.848C10.7558 22.8415 11.5646 22.1528 14.5 22.1528C17.3919 22.1528 18.2192 22.8214 18.2507 22.848C18.3272 22.9205 18.4271 22.9583 18.5278 22.9583C18.5954 22.9583 18.6639 22.9414 18.7259 22.9068C18.8838 22.8166 18.9628 22.6337 18.9185 22.4581V22.4581Z",fill:"#222222"})]}));case Wn.Unsatisfied:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.125 28C22.5808 28 28.625 21.9558 28.625 14.5C28.625 7.04416 22.5808 1 15.125 1C7.66916 1 1.625 7.04416 1.625 14.5C1.625 21.9558 7.66916 28 15.125 28ZM29.625 14.5C29.625 22.5081 23.1331 29 15.125 29C7.11687 29 0.625 22.5081 0.625 14.5C0.625 6.49187 7.11687 0 15.125 0C23.1331 0 29.625 6.49187 29.625 14.5Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M21.1546 22.0553C21.1183 21.9111 20.2137 18.5278 15.125 18.5278C10.0355 18.5278 9.13167 21.9111 9.09542 22.0553C9.05111 22.2301 9.13006 22.4114 9.28633 22.5016C9.44342 22.591 9.63997 22.5644 9.76967 22.4395C9.78497 22.4242 11.3437 20.9444 15.125 20.9444C18.9063 20.9444 20.4658 22.4242 20.4803 22.4387C20.5577 22.5153 20.6608 22.5555 20.7639 22.5555C20.8316 22.5555 20.9 22.5386 20.9621 22.504C21.1199 22.4138 21.1989 22.2309 21.1546 22.0553Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M10.2917 13.6944C11.4039 13.6944 12.3055 12.4321 12.3055 10.875C12.3055 9.31787 11.4039 8.05556 10.2917 8.05556C9.17942 8.05556 8.27777 9.31787 8.27777 10.875C8.27777 12.4321 9.17942 13.6944 10.2917 13.6944Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.9583 13.6944C21.0706 13.6944 21.9722 12.4321 21.9722 10.875C21.9722 9.31787 21.0706 8.05556 19.9583 8.05556C18.8461 8.05556 17.9444 9.31787 17.9444 10.875C17.9444 12.4321 18.8461 13.6944 19.9583 13.6944Z",fill:"#222222"})]}));case Wn.Neutral:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.75 28C22.2057 28 28.25 21.9557 28.25 14.5C28.25 7.04503 22.2057 1 14.75 1C7.29506 1 1.25 7.04506 1.25 14.5C1.25 21.9557 7.29503 28 14.75 28ZM14.75 29C22.758 29 29.25 22.508 29.25 14.5C29.25 6.49278 22.758 0 14.75 0C6.74278 0 0.25 6.49278 0.25 14.5C0.25 22.508 6.74278 29 14.75 29Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M9.51389 16.1111C10.6261 16.1111 11.5278 14.8488 11.5278 13.2917C11.5278 11.7345 10.6261 10.4722 9.51389 10.4722C8.40165 10.4722 7.5 11.7345 7.5 13.2917C7.5 14.8488 8.40165 16.1111 9.51389 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.9861 16.1111C21.0984 16.1111 22 14.8488 22 13.2917C22 11.7345 21.0984 10.4722 19.9861 10.4722C18.8739 10.4722 17.9722 11.7345 17.9722 13.2917C17.9722 14.8488 18.8739 16.1111 19.9861 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M20.3889 20.9444H9.11111C8.66645 20.9444 8.30556 20.5844 8.30556 20.1389C8.30556 19.6934 8.66645 19.3333 9.11111 19.3333H20.3889C20.8344 19.3333 21.1944 19.6934 21.1944 20.1389C21.1944 20.5844 20.8344 20.9444 20.3889 20.9444Z",fill:"#222222"})]}));case Wn.Satisfied:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.375 28C22.8308 28 28.875 21.9558 28.875 14.5C28.875 7.04416 22.8308 1 15.375 1C7.91916 1 1.875 7.04416 1.875 14.5C1.875 21.9558 7.91916 28 15.375 28ZM29.875 14.5C29.875 22.5081 23.3831 29 15.375 29C7.36687 29 0.875 22.5081 0.875 14.5C0.875 6.49187 7.36687 0 15.375 0C23.3831 0 29.875 6.49187 29.875 14.5Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M9.34541 19.028C9.38166 19.1722 10.2863 22.5555 15.375 22.5555C20.4645 22.5555 21.3683 19.1722 21.4046 19.028C21.4489 18.8532 21.3699 18.672 21.2137 18.5817C21.0566 18.4923 20.86 18.5189 20.7303 18.6438C20.715 18.6591 19.1563 20.1389 15.375 20.1389C11.5937 20.1389 10.0342 18.6591 10.0197 18.6446C9.94233 18.568 9.83922 18.5278 9.73611 18.5278C9.66844 18.5278 9.59997 18.5447 9.53794 18.5793C9.38005 18.6695 9.30111 18.8524 9.34541 19.028V19.028Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M10.5417 13.6944C11.6539 13.6944 12.5556 12.4321 12.5556 10.875C12.5556 9.31787 11.6539 8.05556 10.5417 8.05556C9.42943 8.05556 8.52778 9.31787 8.52778 10.875C8.52778 12.4321 9.42943 13.6944 10.5417 13.6944Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M20.2083 13.6944C21.3206 13.6944 22.2222 12.4321 22.2222 10.875C22.2222 9.31787 21.3206 8.05556 20.2083 8.05556C19.0961 8.05556 18.1944 9.31787 18.1944 10.875C18.1944 12.4321 19.0961 13.6944 20.2083 13.6944Z",fill:"#222222"})]}));case Wn.Happy:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 28C22.4558 28 28.5 21.9558 28.5 14.5C28.5 7.04416 22.4558 1 15 1C7.54416 1 1.5 7.04416 1.5 14.5C1.5 21.9558 7.54416 28 15 28ZM29.5 14.5C29.5 22.5081 23.0081 29 15 29C6.99187 29 0.5 22.5081 0.5 14.5C0.5 6.49187 6.99187 0 15 0C23.0081 0 29.5 6.49187 29.5 14.5Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M8.97042 19.028C9.00667 19.1722 9.9113 22.5555 15 22.5555C20.0895 22.5555 20.9933 19.1722 21.0296 19.028C21.0739 18.8532 20.9949 18.672 20.8387 18.5817C20.6816 18.4923 20.485 18.5189 20.3553 18.6438C20.34 18.6591 18.7813 20.1389 15 20.1389C11.2187 20.1389 9.65917 18.6591 9.64467 18.6446C9.56733 18.568 9.46422 18.5278 9.36111 18.5278C9.29344 18.5278 9.22497 18.5447 9.16294 18.5793C9.00505 18.6695 8.92611 18.8524 8.97042 19.028V19.028Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M15 17.6006C12.6107 17.6006 11.0246 17.3218 9.06388 16.9408C8.61519 16.8554 7.74438 16.9408 7.74438 18.2603C7.74438 20.8985 10.7757 24.1965 15 24.1965C19.2244 24.1965 22.2557 20.8985 22.2557 18.2603C22.2557 16.9408 21.3841 16.8546 20.9362 16.9408C18.9754 17.3218 17.3901 17.6006 15 17.6006Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M10.1667 13.6944C11.2789 13.6944 12.1806 12.4321 12.1806 10.875C12.1806 9.31787 11.2789 8.05556 10.1667 8.05556C9.05443 8.05556 8.15278 9.31787 8.15278 10.875C8.15278 12.4321 9.05443 13.6944 10.1667 13.6944Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.8333 13.6944C20.9456 13.6944 21.8472 12.4321 21.8472 10.875C21.8472 9.31787 20.9456 8.05556 19.8333 8.05556C18.7211 8.05556 17.8194 9.31787 17.8194 10.875C17.8194 12.4321 18.7211 13.6944 19.8333 13.6944Z",fill:"#222222"})]}))}}};Jn=Xn([Tt.Z],Jn);const{MODEL_RATING:ei}=g.Z.WORKSHOP,ti=Object.values(Kn);class ni extends r.Component{constructor(e){super(e),this.submitCurrentRating=(e=!1)=>{const{currentQuestionId:t}=this.state;let n={};switch(t){case Kn.QUALITY:n={quality:this.state.quality};break;case Kn.NAVIGATION:n={navigation:this.state.navigation};break;case Kn.FEEDBACK:n={feedback:this.state.feedback},this.resetValues()}n&&this.context.commandBinder.issueCommand(new Tn.M(n,e))},this.resetValues=()=>{this.setState({happiness:void 0,quality:void 0,navigation:void 0,feedback:void 0})},this.hasPerfectHappinessRating=()=>5===this.state.happiness,this.handleButtonClick=()=>{const{currentQuestionId:e}=this.state;let t;switch(this.submitCurrentRating(e===Kn.FEEDBACK),e){case Kn.QUALITY:t=Kn.NAVIGATION;break;case Kn.NAVIGATION:t=Kn.FEEDBACK}t&&this.setState({currentQuestionId:t})},this.handleHappinessClick=e=>{this.context.commandBinder.issueCommand(new Tn.M({happiness:e})),5!==e?this.setState({happiness:e,currentQuestionId:Kn.QUALITY}):this.submitCurrentRating(!0)},this.handleCheckboxChange=(e,t,n)=>{const i=n.value,s={},r=(this.state[t]||[]).slice();r.includes(i)?r.splice(r.indexOf(i),1):r.push(i),s[t]=r,this.setState(s)},this.handleFeedbackChange=e=>{this.setState({feedback:e})},this.handleClose=()=>{this.context.commandBinder.issueCommand(new Tn.m(!1))},this.renderProgress=()=>{const{locale:e}=this.context,{currentQuestionId:t}=this.state;if(!t)return null;if(t===Kn.HAPPINESS||this.hasPerfectHappinessRating())return;const n=ti.indexOf(t);return(0,c.jsx)("span",Object.assign({className:"model-rating-progress"},{children:e.t(ei.PROGRESS,{"current-question-number":n,"max-question-number":ti.length-1})}))},this.state={currentQuestionId:Yn}}componentWillUnmount(){this.submitCurrentRating(),this.context.commandBinder.issueCommand(new Tn.m(!1))}renderCurrentQuestion(){const{locale:e}=this.context,{currentQuestionId:t,happiness:n}=this.state;if(t===Kn.FEEDBACK)return(0,c.jsx)("div",Object.assign({className:"question-type text-entry"},{children:(0,c.jsx)(Gn,{text:this.state.feedback||"",label:e.t(ei.FEEDBACK_LABEL),onInput:this.handleFeedbackChange,onDone:this.handleFeedbackChange,maxLength:200,rows:3,focusOnMount:!0,scrollIntoViewOnMount:!0})}));if(t===Kn.HAPPINESS)return(0,c.jsx)("div",Object.assign({className:"question-type emoji-select"},{children:(0,c.jsx)(k.hE,{children:Qn.map((t=>(0,c.jsx)(ii,{emoji:t,active:n===t.value,onClick:this.handleHappinessClick,label:e.t(t.altText)},t.value)))})}));if(t===Kn.QUALITY||t===Kn.NAVIGATION){const n=(t===Kn.QUALITY?this.state.quality:this.state.navigation)||[],i=Zn[t];return(0,c.jsx)("div",Object.assign({className:"question-type multi-select"},{children:i.map((i=>(0,c.jsx)(jn,{enabled:!0,checkboxStyle:Mn.FILTER,onChange:this.handleCheckboxChange,onChangeArgs:[t,i],checked:n.includes(i.value),label:e.t(i.text)},i.text)))}))}return null}render(){const{locale:e}=this.context,{currentQuestionId:t}=this.state,n=t===Yn,i=qn[t],s=$n[t],r=t===Kn.FEEDBACK?ei.SAVE:ei.NEXT;return(0,c.jsxs)(k.Vq,Object.assign({className:m()("model-rating-dialog",{"in-progress":!n}),onClose:this.handleClose},{children:[(0,c.jsx)(G.P,{onClose:this.handleClose}),(0,c.jsxs)("div",Object.assign({className:"model-rating-form"},{children:[(0,c.jsxs)("div",Object.assign({className:"model-rating-question"},{children:[(0,c.jsx)("h3",Object.assign({className:"question-title"},{children:e.t(i)})),s&&(0,c.jsx)("p",Object.assign({className:"question-body"},{children:e.t(s)})),this.renderCurrentQuestion()]})),(0,c.jsxs)("footer",Object.assign({className:"model-rating-footer"},{children:[(0,c.jsx)("div",{children:t!==Kn.HAPPINESS&&(0,c.jsx)(k.zx,{onClick:this.handleButtonClick,variant:k.Wu.TERTIARY,label:e.t(r)})}),this.renderProgress()]}))]}))]}))}}function ii({emoji:e,label:t,active:n,onClick:i}){return(0,c.jsx)(k.zx,Object.assign({ariaLabel:t,active:n,variant:k.Wu.TERTIARY,size:"small",onClick:()=>i(e.value)},{children:(0,c.jsx)(Jn,{icon:e.icon})}))}function si(){const e=Dn(),t=(0,Xt.B)();return!e||t?null:(0,c.jsx)(ni,{})}ni.contextType=f.I;function ri(){const e=On(),t=ge(),n=(0,r.useRef)(0),[i,s]=(0,r.useState)(!1),a=t.active,o=e===re.zz.STORIES;return U((()=>(s(!0),window.clearTimeout(n.current),a?()=>{}:(n.current=window.setTimeout((()=>{s(!1)}),3e3),()=>window.clearTimeout(n.current)))),[a]),o&&(a||i)}const ai=(0,We.M)("showStoryTour",ri);class oi extends r.Component{constructor(e,t){super(e,t),this.isUnmounting=!1,this.bindings=[],this.viewmodeToClass={[S.BD.INSIDE]:"inside",[S.BD.OUTSIDE]:"outside",[S.BD.DOLLHOUSE]:"dollhouse",[S.BD.FLOORPLAN]:"floorplan",[S.BD.TRANSITIONING]:"transitioning"},this.checkShowReel=()=>{const{tourState:e}=this.props,{settings:t}=this.context,n=t.tryGetProperty(Ge.gx.HighlightReel,!0);if(e.totalSteps>0&&n){const e=this.getHlStartupValue();switch(e){case Ot.expanded:case Ot.flash:(0,v.gw)(100).then((()=>this.showReel(e)))}}},this.showReel=e=>{this.isUnmounting||(this.context.commandBinder.issueCommand(new Ue.Av(!0)),e===Ot.flash&&(0,v.gw)(3e3).then(this.dismissReel))},this.dismissReel=()=>{this.isUnmounting||this.context.commandBinder.issueCommand(new Ue.Av(!1))},this.onViewingControlsToggle=({show:e})=>{this.setState({autohide:!e})},this.updateViewportSize=e=>{this.isUnmounting||this.setState({viewportHeight:e.height})},this.isReelEnabled=()=>{if(this.props.tourMode===re.zz.STORIES)return!0;return this.state.viewportHeight>=400&&(0,Et.ug)(this.context.settings)},this.isFloorsEnabled=()=>{const{settings:e}=this.context,t=e.tryGetProperty(gt.w,!0),n=e.tryGetProperty(Ge.gx.FloorSelect,!0);return t&&n},this.toggleShareModal=()=>{const e=this.props.openModal===Ne.P.SHARE;this.context.analytics.trackGuiEvent("click_share_button"),this.context.commandBinder.issueCommand(new Ae.B(Ne.P.SHARE,!e))},this.renderModeControls=()=>{const{unaligned:e,viewmode:t}=this.props;return(0,c.jsx)(ie,{unaligned:e,viewmode:t,className:"showcase-viewmode-controls"},"mode_controls")},this.renderFloorPlanControls=()=>{const{viewmode:e}=this.props;return(0,c.jsx)(ft,{viewmode:e,iconStyle:!0,className:"showcase-floor-controls"},"floor_controls")},this.renderHighlightReel=()=>{const{openTool:e,tourState:t,tourMode:n}=this.props;if(e&&e!==N.w1.SEARCH)return null;const{tourPlaying:i,highlights:s,activeStep:r,transition:a}=t;return(0,c.jsx)(qt,{openTool:e,tourMode:n,transition:a,activeStep:r,highlights:s,tourPlaying:i})},this.renderRightControls=()=>{const e=[],{vrEnabled:t,shareEnabled:n}=this.props,i=(0,bt.O6)();e.push((0,c.jsx)("span",{className:"divider"},"divider_1"));const s=this.context.locale.t(g.Z.SOCIAL_SHARING),r={placement:"top"};return n&&e.push((0,c.jsx)(k.zx,{onClick:this.toggleShareModal,ariaLabel:s,ariaHasPopup:"dialog",tooltip:s,tooltipOptions:r,icon:"share",theme:"overlay",variant:k.Wu.TERTIARY},"toggle_share_modal")),t&&e.push((0,c.jsx)(vt,{},"vr_modal_controls")),i&&e.push((0,c.jsx)(yt,{},"fullscreen_controls")),e},this.state={viewportHeight:kt(t).height,autohide:!1},this.onResize=(0,Qt.D)(this.updateViewportSize,250)}componentDidMount(){const{messageBus:e,market:t}=this.context;t.waitForData(It.V).then((e=>{this.isUnmounting||this.bindings.push(e.onPropertyChanged("size",this.onResize))})),this.bindings.push(e.subscribe(St.ps,this.onViewingControlsToggle)),this.checkShowReel()}componentWillUnmount(){this.isUnmounting=!0,this.bindings.map((e=>e.cancel()))}componentDidUpdate(e){!(e.tourState.totalSteps>0)&&this.props.tourState.totalSteps>0&&this.checkShowReel()}getHlStartupValue(){const{settings:e}=this.context;if(e.getOverrideParam("note","")||e.getOverrideParam("tag",""))return Ot.collapsed;const t=this.props.tourState.highlights.some((e=>e.snapshot.is360))?Ot.expanded:Ot.flash,n=e.getOverrideParam("hl",t);return(0,b.p)(Ot,n)?n:t}render(){const{measurementsModeEnabled:e,notesEnabled:t,openModal:n,openTool:i,showStoryTour:s,toolPanelLayout:r,tourMode:a,tourState:o,unaligned:l,viewmode:d}=this.props,{tourPlaying:u,tourEnded:h,totalSteps:p,activeStep:f,currentStep:g,highlights:v}=o,{autohide:b,viewportHeight:y}=this.state,{settings:E}=this.context,S=this.viewmodeToClass[d]||"",O=0===p,T=a===re.zz.STORIES,_=y>=400,w=this.isReelEnabled()&&!O,A=i!==N.w1.MEASUREMENTS,I=this.isFloorsEnabled(),k=t&&!l,P=e&&!l,L=E.tryGetProperty(En.i,!1),R=b||!!n&&(n!==Ne.P.CTA||!T)&&!i,C={"modal-open":!!n,"tour-playing":u,"stories-tour-showing":s,autohide:R};return(0,c.jsxs)("div",Object.assign({id:"bottom-ui",className:m()("bottom-ui",C,S)},{children:[(0,c.jsx)(Zt,{tourPlaying:u,tourEnded:h}),(0,c.jsxs)(Ie.N,Object.assign({className:m()("bottom-controls",{"faded-out":R}),open:!R},{children:[(0,c.jsxs)(yn,Object.assign({className:"controls"},{children:[(0,c.jsx)(Je,{toolPanelLayout:r,activeTool:i,activeStep:f,currentStep:g,highlights:v||[],tourPlaying:u,tourMode:a,hideReel:!_},"tour_controls"),this.renderModeControls(),I&&this.renderFloorPlanControls(),k&&(0,c.jsx)(en,{},"notes_mode_button"),P&&(0,c.jsx)(nn,{},"measurement_mode_button"),A&&this.renderRightControls()]})),L&&(0,c.jsx)(si,{})]})),w&&this.renderHighlightReel(),(0,c.jsx)(Rn,{})]}))}}oi.contextType=f.I;const li=ai(oi);var ci=n(44523),di=n(70173),ui=n(19564),hi=n(83038),pi=n(96365);const mi=()=>{const e=(0,B.y)(pi.My,pi.ED);return(0,r.useMemo)((()=>Object.assign({},pi.ED,e)),[e])},fi=n.p+"images/matterport-app-icon.svg",{SUBSCRIBER_PROMPT:gi}=g.Z.SHOWCASE,vi=e=>{e.preventDefault()},bi=()=>{const e=(0,ui.z)(),t=(0,w.b)(),{popupDelay:n}=mi(),[i,s]=(0,r.useState)(0),[a,o]=(0,r.useState)(!1),[l,d]=(0,r.useState)(!0),[u,h]=x(pi.pr,!1);(0,ae.U)(di.i,(e=>{if(a)return;const t=e.durationDollhouse+e.durationFloorplan+e.durationInside,r=i+t;hi.L.debug(`Check Visibility: ${r}/${n}ms, User has dismissed popup: ${u.toString()}`),r>=n&&!u&&o(!0),s(r)}));const p=(0,r.useCallback)((()=>{h(!0)}),[h]),m=(0,r.useCallback)((t=>{t.stopPropagation(),e.trackGuiEvent("subscriber_prompt_a_popup_dismissed"),p()}),[p,e]),f=(0,r.useCallback)((t=>{e.trackGuiEvent("subscriber_prompt_a_popup_cta_click"),window.open(pi.Tm,"_blank"),p()}),[p,e]);return(0,r.useEffect)((()=>(a&&l&&(e.trackGuiEvent("subscriber_prompt_a_popup_viewed"),d(!1)),()=>{})),[e,a,l]),a?(0,c.jsxs)("div",Object.assign({className:"subscriber-prompt-popup",onClick:f},{children:[(0,c.jsx)("img",{className:"matterport-app-icon",alt:"Matterport App Icon",src:fi,width:"48",height:"48"}),(0,c.jsxs)("div",Object.assign({className:"subscriber-prompt-body"},{children:[(0,c.jsx)("div",Object.assign({className:"h5 subscriber-prompt-heading"},{children:t.t(gi.POPUP_CTA_HEADING)})),(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",onClick:vi,href:pi.Tm},{children:t.t(gi.POPUP_CTA_LINK_TEXT)}))]})),(0,c.jsx)(k.zx,{icon:"close",onClick:m})]})):null},yi=(0,pe.u)(u.pu);var Ei=n(89557);const Si=new he.f({from:null,to:null,progress:new Ei.z(0),promise:Promise.resolve()});function Oi(){const e=function(){const e=(0,ct.I)();return ue(e?e.transitionObservable:Si)}();return ht((null==e?void 0:e.to)||null)}function Ti(e){const{commandBinder:t}=(0,r.useContext)(f.I),n=function(){const e=yi(),[t,n]=(0,r.useState)(e?e.phase:null);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onPropertyChanged("phase",n);return n(e.phase),()=>t.cancel()}),[e]),t}(),i=function(){const e=pt(),t=Oi(),[n,i]=(0,r.useState)(e?e.name:"");return(0,r.useEffect)((()=>(e?i(e.name):t&&i(t.name),()=>{})),[e,t]),n}(),s=at(),a=(0,r.useCallback)((()=>{t.issueCommand(new it.Vw(null,!1))}),[t]);if(n!==u.nh.PLAYING)return null;const o=m()("floor-container",e.className);return(0,c.jsxs)("div",Object.assign({className:o},{children:[(0,c.jsx)("div",Object.assign({className:"floor-title h4"},{children:i||""})),s&&(0,c.jsx)(G.P,{theme:"dark",onClose:a,tooltip:""})]}))}var _i=n(25071);var wi=n(34029);const Ni=(0,pe.u)(wi.e);var Ai=n(33023),Ii=n(39866);var ki=n(79606);const Pi=()=>{const e=(0,le.v)(ki.I,"applicationKeys",new be.d);return(0,B.y)(pi.B_,!1)&&0===e.length};var Li=n(15258),Ri=n(96776),Ci=n(27839);function Di(){const e=(0,Ci._)(),t=(0,B.y)(Ri.QA,!1),[n,i]=(0,r.useState)((null==e?void 0:e.getEnabledOrderedModelViews(t))||[]);return(0,r.useEffect)((()=>{if(!e)return()=>{};function n(){i((null==e?void 0:e.getEnabledOrderedModelViews(t))||[])}const s=e.onModelViewsChanged(n);return n(),()=>s.cancel()}),[e,t]),n}var Mi=n(23829),xi=n(9373),ji=n(76087);function Ui(e,t,n){const i=n===Mi.RF;return!(!(e&&e.enabled&&((0,xi.ys)(e)||(0,xi.Gl)(e)||(0,xi.AI)(e)))||i||t.length<2)}function Fi(e,t,n){return!Ui(e,t,n)&&!!e&&((0,xi.ys)(e)||(0,xi.Gl)(e))}function Hi(){const e=(0,B.y)(ji.Pe,!1),t=(0,Li.K)(),n=Di(),i=Be(Mi.Sw),[s,a]=(0,r.useState)(e&&Ui(t,n,i));return(0,r.useEffect)((()=>(a(e&&Ui(t,n,i)),()=>{})),[e,t,n,i]),s}function Vi(){const e=(0,B.y)(ji.Pe,!1),t=(0,Li.K)(),n=Di(),i=Be(Mi.Sw),[s,a]=(0,r.useState)(e&&Fi(t,n,i));return(0,r.useEffect)((()=>(a(e&&Fi(t,n,i)),()=>{})),[e,t,n,i]),s}function Bi(){const e=(0,B.y)(ji.Wp,!1),t=(0,Ci._)(),[n,i]=(0,r.useState)(e&&(null==t?void 0:t.getCurrentUserLayers())||[]);return(0,r.useEffect)((()=>{if(!t)return()=>{};function n(){i(e&&(null==t?void 0:t.getCurrentUserLayers())||[])}const s=t.onCurrentLayersChanged(n);return n(),()=>s.cancel()}),[t,e]),n}var Gi=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Wi=class extends r.Component{constructor(){super(...arguments),this.handleTitleClick=async e=>{e.stopPropagation();const{commandBinder:t,analytics:n}=this.context;await t.issueCommand(new h.tT(N.w1.SUMMARY,!0)),t.issueCommand(new h.Fg(!1)),n.trackGuiEvent("click_model_title",{interactionSource:"gui"})}}getFilteredValue(e,t,n,i){return!this.context.settings.tryGetProperty(t,n)||i&&!this.props.brandingEnabled?"":e}render(){const{locale:e}=this.context,{className:t,modelDetails:n}=this.props,{name:i,presentedBy:s}=n,r=this.getFilteredValue(i,Ge.gx.DetailsModelName,!0,!1),a=this.getFilteredValue(s,Ge.gx.PresentedBy,!1,!0),o=a?`${e.t(g.Z.PRESENTED_BY)}${a}`:"",l=`${r} ${o}`;return(0,c.jsx)("div",Object.assign({id:"model-title",onClick:this.handleTitleClick},{children:(0,c.jsx)(k.zx,Object.assign({id:"gui-name",variant:k.Wu.TERTIARY,onClick:this.handleTitleClick,className:m()(t,{"co-branded":!!o}),label:r,ariaLabel:l,theme:"dark",icon:"location",appendChildren:!1},{children:!!o&&(0,c.jsx)("div",Object.assign({className:"co-brand"},{children:(0,c.jsx)("span",Object.assign({className:"title",id:"cobrandTitle"},{children:o}))}))}))}))}};Wi.contextType=f.I,Wi=Gi([Tt.Z],Wi);const zi=Wi;var Ki=n(90197);var Yi=n(63319);const{LAYERS:qi}=g.Z.WORKSHOP;function $i(e,t,n){let i;try{i=n?null==e?void 0:e.getView(n):null}catch(e){}let s=null==i?void 0:i.name;if(!s)switch(null==i?void 0:i.viewType){case Yi.XZ.INSIGHTS:s=t.t(qi.DEFAULT_INSIGHTS_VIEW_NAME);break;case Yi.XZ.TRUEPLAN:s=t.t(qi.DEFAULT_TRUEPLAN_VIEW_NAME);break;default:s=t.t(qi.DEFAULT_VIEW_NAME)}return(0,v.aS)(s,Mi.ty)}function Zi(e){const t=(0,Ci._)(),n=(0,w.b)(),[i,s]=(0,r.useState)($i(t,n,e));return(0,r.useEffect)((()=>{if(!t)return()=>{};function i(){s($i(t,n,e))}const r=t.onModelViewsChanged(i);return i(),()=>r.cancel()}),[t,e,n]),i}var Qi=n(80008),Xi=n(71102);function Ji({id:e,name:t,visible:n}){const{analytics:i,commandBinder:s}=(0,r.useContext)(f.I);return(0,c.jsx)(k.XZ,{className:"data-layer-menu-item",id:`layer-toggle-${e}`,label:t||"Untitled Layer",defaultChecked:n,onChange:t=>{const n=t.target;if(!n)return;const r=n.checked;s.issueCommand(new Qi.MV(e,r)),i.trackToolGuiEvent("layers","layers_toggle_layer")},onClick:e=>{e.stopPropagation()}})}const{SHOWCASE:es}=g.Z;function ts(){const e=function(){const e=Nn(),[t,n]=(0,r.useState)((null==e?void 0:e.model.details.name)||"");return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onChanged(n);return n(e.model.details.name),()=>t.cancel()}),[e]),t}(),t=(0,Li.K)(),n=Zi(null==t?void 0:t.id),i=Bi(),s=Di(),a=Hi(),o=Vi(),{analytics:l,commandBinder:d}=(0,r.useContext)(f.I),u=(0,w.b)(),[h,p]=(0,r.useState)(!1),g=function(){const{mainDiv:e}=(0,r.useContext)(f.I);return e.getRootNode()instanceof ShadowRoot}(),v=async()=>{l.trackToolGuiEvent("layers","layers_view_goto_start_location"),await d.issueCommand(new Ki.Q)},b=e=>{p(e)};if((0,r.useEffect)((()=>{if(!t||g)return;const{name:n}=t;let i;return i=(0,xi.ys)(t)||(0,xi.Gl)(t)?`${e}: ${n}`:e,document.title=i,()=>{}}),[e,t]),!t)return null;const y=i.map((e=>{const{id:t,name:n,toggled:i}=e;return(0,c.jsx)(Ji,{id:t,name:n,visible:i},t)})),E=u.t(es.VIEWS.VIEW_SELECTOR_START_LOCATION_TOOLTIP),S=[];return s.forEach((e=>{const{id:n}=e,i=n===t.id,s=i&&y.length>0?y:void 0,r=s?"parent-menu-item":void 0;S.push((0,c.jsx)(ns,{view:e,active:i,className:r},n)),s&&S.push(...s)})),a&&s.length>1?(0,c.jsxs)("div",Object.assign({className:m()("views-layers-toggles","model-view-selector",{open:h})},{children:[(0,c.jsx)(k.zx,{className:"start-location-btn",icon:"start-location",variant:k.Wu.PRIMARY,size:k.qE.SMALL,onClick:v,tooltip:E}),(0,c.jsx)(k.xz,Object.assign({ariaLabel:n,menuClassName:"views-layers-menu",variant:k.Wu.PRIMARY,size:k.qE.SMALL,label:n,onMenuToggled:b,caret:!0},{children:S}))]})):y.length>0?(0,c.jsx)("div",Object.assign({className:m()("views-layers-toggles",{open:h})},{children:(0,c.jsx)(k.xz,Object.assign({ariaLabel:u.t(es.LAYERS.TOGGLE_LAYERS),menuClassName:m()("views-layers-menu","data-layers-only-menu"),variant:k.Wu.PRIMARY,size:k.qE.SMALL,label:n,onMenuToggled:b,caret:!0},{children:y}))})):o?(0,c.jsx)("div",Object.assign({className:"model-view-display"},{children:n})):null}function ns({view:e,active:t,className:n}){const{analytics:i,commandBinder:s}=(0,r.useContext)(f.I),{id:a}=e,o=Zi(a);return(0,c.jsx)(k.zx,{className:m()("view-name",n),label:o,size:k.qE.SMALL,onClick:async()=>{i.trackToolGuiEvent("layers","layers_view_switch"),await s.issueCommand(new Xi.D(!1)),await s.issueCommand(new Qi.wG(a)),await s.issueCommand(new Xi.D(!0))},active:t,variant:k.Wu.TERTIARY},a)}function is({toolName:e,showing:t=!0,attached:n=!1}){const{commandBinder:i,analytics:s}=(0,r.useContext)(f.I),a=(0,w.b)(),o=(0,Ai.Q)(e),l=(0,Xt.B)();if(!o)return null;const{id:d,namePhraseKey:u,icon:p,analytic:g}=o,v=l===o.id,b=a.t(u),y=p.replace("icon-",""),E=n?"dark":"overlay";return(0,c.jsx)(Ie.N,Object.assign({open:t,className:m()("top-tool-button",{"faded-out":!t})},{children:(0,c.jsx)(k.zx,{onClick:()=>{i.issueCommand(new h.tT(d,!v)),s.trackToolGuiEvent(g,`click_${g}_button`,{interactionSource:"gui"})},tooltip:b,tooltipOptions:{placement:"bottom"},icon:y,theme:E,variant:k.Wu.FAB,active:v})}))}function ss(e){const{brandingEnabled:t,modelDetails:n,tourPlaying:i}=e,s=(0,ci.O)(),a=(0,Xt.B)(),o=(0,Sn.R)(),l=ri(),d=function(){const e=(0,Ai.Q)(N.w1.SEARCH),t=Ni();return!!t&&(0,Ii.J)(t)&&!!e}(),u=function(){const e=(0,ct.I)(),[t,n]=(0,r.useState)(!!e&&e.showFloorSelection);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onShowFloorSelectionChanged(n);return n(e.showFloorSelection),()=>t.cancel()}),[e]),t}(),h=function(){const e=Hi(),t=Vi(),[n,i]=(0,r.useState)(e||t);return(0,r.useEffect)((()=>(i(e||t),()=>{})),[e,t]),n}(),p=function(){const e=Bi(),[t,n]=(0,r.useState)(e.length>0);return(0,r.useEffect)((()=>(n(e.length>0),()=>{})),[e.length]),t}(),f=h||p,g=function(){const e=(0,B.y)(_n.Zz,!0),t=(0,B.y)(Ge.gx.DetailsModelName,!0);return e&&t}()&&n,v=!!g&&!u&&(!f||s.width>_i.Eb),b=(()=>{const e=Pi(),t=mi(),n=H(pi.pr);return t.popupEnabled&&e&&!n})(),y=(0,C.E)(),E=(0,A.T)();if(!y&&E===N.wS.BOTTOM_PANEL)return null;if(!(d||g||u||f))return null;const S=i||l,O=a||o||S;return(0,c.jsxs)(c.Fragment,{children:[b&&!a&&(0,c.jsx)(bi,{}),(0,c.jsxs)("div",Object.assign({className:"top-ui"},{children:[d&&(0,c.jsx)(Ie.N,Object.assign({open:!O,className:m()("top-ui-button",{"faded-out":O})},{children:(0,c.jsx)(is,{toolName:N.w1.SEARCH})})),(0,c.jsxs)("div",Object.assign({className:"child-container"},{children:[(0,c.jsx)(Ie.N,Object.assign({open:u&&!S,className:m()("floor-name-container",{collapsed:!u||O})},{children:(0,c.jsxs)("div",{children:[(0,c.jsx)(Ti,{}),d&&(0,c.jsx)("div",{className:"search-button-spacer"})]})})),g&&(0,c.jsx)(Ie.N,Object.assign({open:v&&!S&&!a,className:m()("title-bar-container",{collapsed:!v||S||a})},{children:(0,c.jsx)(zi,{modelDetails:n,brandingEnabled:!!t})})),f&&(0,c.jsx)(Ie.N,Object.assign({open:f&&!O,className:m()("model-view-container",{collapsed:!f||O})},{children:(0,c.jsx)(ts,{})}))]}))]}))]})}var rs=n(71776),as=n(62612),os=n(60083),ls=n(86283),cs=n(16935),ds=n(5604),us=n(43470),hs=n(66291);const ps=(0,pe.u)(hs.X);function ms(e,t){return t&&e&&e.focusedComment?e.getReply(t,e.focusedComment.id):null}function fs(e){const t=ps(),[n,i]=(0,r.useState)(ms(t,e));return(0,r.useEffect)((()=>{if(!t)return()=>{};const n=t.onFocusedCommentChanged((function(){i(ms(t,e))}));return()=>n.cancel()}),[t,e]),n}function gs(e){const t=ps(),[n,i]=(0,r.useState)((null==t?void 0:t.getNoteView(e))||null);return(0,r.useEffect)((()=>{if(!t)return()=>{};const n=t.getNoteViewsMap().onChanged((function(){t&&i(t.getNoteView(e))}));return()=>n.cancel()}),[t,e]),n}var vs=n(6608);const{NOTES:bs}=g.Z.SHOWCASE;function ys({comment:e,noteView:t}){const n=t?t.created:e.created,{userData:i}=(0,r.useContext)(f.I),s=(0,w.b)(),a=t?t.user.email:e.user.email,o=i.getUserDisplay(a),l=o.color,d=t?t.comments.length-1:0,u=s.t(bs.REPLIES,d),h=""===e.text&&!(e.attachments.length>0)?s.t(bs.CONTENT_DELETED):n.toLocaleString();return(0,c.jsxs)("header",Object.assign({className:"note-header"},{children:[(0,c.jsx)(vs.C,{label:o.initials,badgeStyle:{color:l,borderColor:l}}),(0,c.jsxs)("div",Object.assign({className:"note-details"},{children:[(0,c.jsx)("span",Object.assign({className:"note-user"},{children:o.name})),d>0&&(0,c.jsx)("span",Object.assign({className:"note-summary-info note-replies"},{children:u})),(0,c.jsx)("div",Object.assign({className:"note-subheader"},{children:h}))]}))]}))}var Es=n(38242),Ss=n(35446),Os=n(32347),Ts=n(56382);class _s extends r.Component{constructor(e){super(e)}render(){const{className:e,cover:t,data:n,onClick:i,style:s}=this.props,r=m()("oembed","oembed-text",e,{"oembed-text--cover":t}),a=n.provider_name?`${n.provider_name} content`:"Embedded content",o=n.author_name?`from ${n.author_name}`:"";return(0,c.jsxs)("div",Object.assign({className:r,style:s,onClick:i},{children:[n.title&&(0,c.jsx)("h3",{children:n.title}),(0,c.jsx)("p",{children:`${a} ${o}`})]}))}}const ws=["soundcloud","spotify"];class Ns extends r.Component{constructor(e){super(e)}getAttributes(){const{data:e}=this.props;let t=e.thumbnail_url,n=e.thumbnail_width,i=e.thumbnail_height;return(!t||!n||!i)&&e.type===Ts.ht.PHOTO&&(t=e.url,n=e.width,i=e.height),{url:t,width:n,height:i}}render(){const{className:e,cover:t,data:n,disabled:i,maxHeight:s,maxWidth:r,onClick:a,style:o}=this.props,{url:l,width:d,height:u}=this.getAttributes();if(!l||!d||!u)return(0,c.jsx)(_s,Object.assign({},this.props));const h=function(e,t){return e<128||t<128}(d,u),p=!i&&function(e){const t=(e.provider_name||"").toLowerCase();return e.type===Ts.ht.VIDEO?"giphy"!==t:!(e.type!==Ts.ht.RICH||!ws.includes(t))}(n),f=m()("oembed","oembed-thumbnail",e,{"oembed-thumbnail--cover":t,"oembed-thumbnail--cover--icon":t&&h}),g=Object.assign(Object.assign({},o),{backgroundImage:`url('${l}')`});if(!t){const{width:e,height:t}=function(e,t,n,i){let s=e,r=t;if(n&&s>n){const e=n/s;s*=e,r&&(r*=e)}if(r&&i&&r>i){const e=i/r;s*=e,r*=e}return{width:s,height:r}}(d,u,r,s);g.width=`${e}px`,g.height=`${t}px`}return t&&h&&(g.maxWidth=1.5*d+"px"),(0,c.jsx)("div",Object.assign({className:f,style:g,onClick:i?void 0:a},{children:p&&(0,c.jsx)(dn,{className:"oembed-thumbnail__cta",iconClass:"icon-play-unicode",buttonStyle:on.OVERLAY,buttonSize:an.LARGE})}))}}const As=({id:e,className:t,onClick:n,url:i,cover:s,style:a,containerWidth:o})=>{const{height:l}=V(),d=(0,r.useCallback)((t=>{n&&n(t,e)}),[n,e]),u=m()({"image-cover":!!s},t),h=4/3,p=.8*l,f=Math.min(Math.round(o/h),p);return(0,c.jsxs)("div",Object.assign({className:m()("oembed-image fill-cover-image",u),style:Object.assign(Object.assign({},a),{minHeight:f,maxWidth:o}),onClick:n?d:void 0},{children:[(0,c.jsx)("div",{className:"fill-blur",style:{backgroundImage:`url('${i}')`}}),(0,c.jsx)("img",{className:m()("image",u),src:i,style:{maxHeight:Math.min(p,Math.round(o*h))},onClick:n?d:void 0})]}))};class Is extends r.Component{constructor(e){super(e)}render(){const{className:e,cover:t,data:n,onClick:i,style:s,containerWidth:r}=this.props,a=m()("oembed","oembed-photo",e,{"oembed-photo--cover":t});return(0,c.jsx)(As,{url:n.url,style:s,onClick:i,className:a,containerWidth:r})}}function ks(e){const{className:t,children:n}=e;if(!n)return null;const i=m()("oembed","oembed-loading",t);return(0,c.jsx)("div",Object.assign({className:i},{children:n}))}var Ps=n(70371);const Ls={flickr:!0,instagram:!0},Rs=/^<iframe.*>.*<\/iframe>$/;function Cs(e){return Rs.test(e)}function Ds(e,t){let n;return n=Cs(e)?function(e){const t=document.createElement("div");t.innerHTML=e;const n=t.firstChild,i=n.style;return i.maxWidth="100%",i.maxHeight="100%",i.minWidth="",i.minHeight="",n}(e):function(e,t){const n=document.createElement("iframe");n.setAttribute("allow","encrypted-media; autoplay; fullscreen");let i="";return i=t&&t===Ps.z.Instagram?"\n      <style>\n        html, body { padding: 0; margin: 0; border: 0; }\n        img { display: block; max-width: 100%; height: auto; border: 0; }\n        iframe { display: block; max-width: 100%; border: 0; }\n      </style>\n    ":"\n      <style>\n        html, body { padding: 0; margin: 0; border: 0; }\n        img, iframe { display: block; max-width: 100%; height: auto; border: 0; }\n      </style>\n    ",n.srcdoc=`<!doctype html>${i.replace(/\s+/g," ")}${e}`,n}(e,t),n.src||(e=>void 0!==e&&!!Ls[e.toLowerCase()])(t)?n.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups allow-presentation"):n.setAttribute("sandbox","allow-same-origin"),n}function Ms(e){const{className:t,data:n,loadingComponent:i,onClick:s,style:a,onLoad:o}=e,[l,d]=(0,r.useState)(),[u,h]=(0,r.useState)(),[p,f]=(0,r.useState)(!0),[g,v]=(0,r.useState)(n.height);(0,r.useLayoutEffect)((()=>{const e=l;let t=null;if(e){for(;e.lastChild;)e.removeChild(e.lastChild);const i=Ds(n.html,n.provider_name);i.onload=()=>{o&&i&&o(i),f(!1)},e.appendChild(i),t=e=>{const t=(e=>{let t;try{t=JSON.parse(e.data)}catch(e){return}if("iframe.resize"!==t.context)return;const n=t.src.replace(/http(s?):\/\//,"//"),i=document.querySelector('iframe[src="'+n+'"]');return i?{iframe:i,height:t.height}:void 0})(e);t&&t.iframe===i&&v(t.height)},window.addEventListener("message",t)}return()=>{t&&window.removeEventListener("message",t)}}),[l,n.html,n.provider_name,o]);const b=(0,r.useCallback)((e=>{e&&(h(e.offsetWidth),d(e))}),[]),y=(0,r.useMemo)((()=>{var e;if(!g||!u)return"30%";let t;if((null===(e=n.provider_name)||void 0===e?void 0:e.toLowerCase())===Ps.z.Flickr)t=(n.height||n.thumbnail_height||220)/n.width;else{t=(g||n.height||n.thumbnail_height||220)/u}return`${Math.max(30,100*t).toPrecision(4)}%`}),[g,u,n.height,n.width,n.thumbnail_height,n.provider_name]);return(0,c.jsxs)("div",Object.assign({className:m()("oembed-iframe--wrapper",t),style:a,onClick:s},{children:[(0,c.jsx)(ks,Object.assign({className:p?"":"is-loaded"},{children:i})),(0,c.jsx)("div",{className:m()("oembed-iframe__container",n.provider_name&&`oembed-iframe--src-${n.provider_name.replace(/\s/g,"-")}`,p&&"is-loading"),ref:b,style:{paddingBottom:y}})]}))}var xs=n(17141);const js=new _.Z("oembed-video");class Us extends r.Component{constructor(){super(...arguments),this.isUnmounting=!1,this.onIFrameLoad=async e=>{if(!this.isUnmounting)try{const t=await function(e){const t=new xs.Player(e);return new Promise(((e,n)=>{t.on("ready",(()=>{e(t)}))}))}(e);if(this.isUnmounting)return;(0,bt.tq)()||t.play()}catch(e){js.warn("unable to autoplay video"),js.warn(e)}}}componentWillUnmount(){this.isUnmounting=!0}render(){const{className:e,cover:t}=this.props;if(t)return(0,c.jsx)(Ns,Object.assign({},this.props));const n=m()("oembed","oembed-video",e);return(0,c.jsx)(Ms,Object.assign({},this.props,{className:n,onLoad:this.onIFrameLoad}))}}const Fs=e=>{const{className:t,cover:n}=e;if(n)return(0,c.jsx)(Ns,Object.assign({},e));const i=m()("oembed","oembed-rich",t);return(0,c.jsx)(Ms,Object.assign({},e,{className:i}))};function Hs(e){const{children:t,className:n}=e;if(!t)return null;const i=m()("oembed","oembed-error",n);return(0,c.jsx)("div",Object.assign({className:i},{children:t}))}const Vs=new _.Z("oembed-errors");class Bs extends r.Component{constructor(e){super(e),this.state={caughtError:void 0}}static getDerivedStateFromError(e){return{caughtError:e}}componentDidCatch(e){Vs.warn(e.message)}componentDidUpdate(e){var t,n;e.data!==this.props.data&&this.setState({caughtError:void 0}),e.error!==this.props.error&&(null===(n=(t=this.props).onError)||void 0===n||n.call(t))}render(){const{className:e,cover:t,data:n,disabled:i,renderError:s,loadingComponent:r,maxHeight:a,maxWidth:o,onClick:l,style:d,thumbnail:u,error:h,containerWidth:p}=this.props,{caughtError:m}=this.state;if(s&&(h||m))return(0,c.jsx)(Hs,Object.assign({className:e},{children:s(h,m)}));if(!n)return(0,c.jsx)(ks,Object.assign({className:e},{children:r}));const f={className:e,cover:t,maxHeight:a,maxWidth:o,onClick:l,style:d,containerWidth:p};return u?(0,c.jsx)(Ns,Object.assign({data:n,disabled:i},f)):n.type===Ts.ht.PHOTO?(0,c.jsx)(Is,Object.assign({data:n},f)):n.type===Ts.ht.VIDEO?(0,c.jsx)(Us,Object.assign({data:n,loadingComponent:r},f)):n.type===Ts.ht.RICH?(0,c.jsx)(Fs,Object.assign({data:n,loadingComponent:r},f)):null}}const{ATTACHMENTS:Gs}=g.Z.SHOWCASE,Ws={200:Gs.ERROR_200_MESSAGE,401:Gs.ERROR_401_MESSAGE,403:Gs.ERROR_403_MESSAGE,404:Gs.ERROR_404_MESSAGE,429:Gs.ERROR_429_MESSAGE},zs=({error:e,compact:t,scriptError:n})=>{const[i,s]=(0,r.useState)(null),a=(0,w.b)(),o=(null==e?void 0:e.status)&&(e=>{const t=Ws[e];if(t)return t;switch(Math.floor(+e/100)){case 2:return Gs.ERROR_200_MESSAGE;case 4:return Gs.ERROR_4XX_MESSAGE;case 5:return Gs.ERROR_5XX_MESSAGE}})(e.status),l=n?n.message:a.t(o||Gs.FAILED_TO_LOAD_MESSAGE),d=(0,r.useCallback)((e=>{s(e)}),[]);return(0,c.jsx)("div",Object.assign({className:"embed-error-container",ref:d},{children:t?(0,c.jsx)(k.u,{title:l,target:i}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"icon icon-error"}),(0,c.jsx)("div",Object.assign({className:"embed-error-message"},{children:l}))]})}))};var Ks=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Ys=class extends r.Component{constructor(e){super(e),this.isUnmounting=!1,this.renderError=(e,t)=>{const{compact:n}=this.props;return(0,c.jsx)(zs,{error:e,scriptError:t,compact:n})},this.state={embed:null,error:void 0}}componentDidMount(){this.getEmbeddedMedia()}componentWillUnmount(){this.isUnmounting=!0}componentDidUpdate(e){this.props.attachment.id!==e.attachment.id&&this.getEmbeddedMedia()}async getEmbeddedMedia(){const{attachment:e}=this.props,{commandBinder:t}=this.context;let n,i=null;try{if(i=await t.issueCommand(new Ss.st(e)),!i)throw new Error("embed not found")}catch(e){n=e}this.isUnmounting||this.setState({attachmentId:e.id,embed:i,error:n})}render(){const{compact:e,height:t,width:n,onClick:i,style:s,thumbnail:r,containerWidth:a,onError:o}=this.props,{embed:l,error:d}=this.state,u=l&&this.state.attachmentId===this.props.attachment.id,h=(0,c.jsx)("div",{className:"gui-spinner-icon"}),p=!!n&&!!t,f=m()("embedded-media",{clickable:i&&!d});return(0,c.jsx)(Bs,{className:f,data:u&&null!=l?l:void 0,style:s,cover:p,loadingComponent:h,renderError:this.renderError,error:d,thumbnail:r,disabled:e,maxWidth:n,maxHeight:t,onClick:d?void 0:i,onError:o,containerWidth:a})}};Ys.contextType=f.I,Ys=Ks([Tt.Z],Ys);var qs=n(21149),$s=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const{ATTACHMENTS:Zs}=g.Z.SHOWCASE,Qs=e=>{e.stopPropagation()};let Xs=class extends r.Component{constructor(e){super(e),this.isUnmounting=!1,this.setContainerRef=e=>{this.setState({containerRef:e})},this.state={mediaUrl:"",containerRef:null}}componentDidMount(){this.loadMedia()}componentWillUnmount(){this.isUnmounting=!0}componentDidUpdate(e){e.attachment.id!==this.props.attachment.id&&this.loadMedia()}getImageUrl(){const{attachment:e,cover:t,smartWidth:n,smartHeight:i}=this.props,{mediaUrl:s}=this.state;if(!(0,qs.lV)(e))return null;if(!t||void 0===n||void 0===i||!(0,qs.Uq)(e))return s;const r=-1!==s.indexOf("?");return`${s}${r?"&":"?"}height=${i}&crop=${n}:${i},smart`}async loadMedia(){const{attachment:e,thumbnail:t}=this.props,n=t&&e.thumbnailUrl?e.thumbnailUrl:e.url,i=await n.get();this.isUnmounting||this.setState({mediaUrl:i})}render(){const{attachment:e,inline:t,onClick:n,style:i,containerWidth:s}=this.props,{id:r,category:a,filename:o,bytes:l}=e;if(a!==Os.G$.UPLOAD)return null;const d=this.getImageUrl(),u=m()("attachment-view",{clickable:!!n});if(d)return(0,c.jsx)(As,{id:r,url:d,style:i,onClick:n,className:u,containerWidth:s});{const{mediaUrl:e}=this.state,s=this.context.locale.t(Zs.DOWNLOAD_TOOLTIP),r=l?(0,qs.VV)(l):"";return(0,c.jsxs)("div",Object.assign({className:m()(u,"attachment-other",{inline:t}),onClick:n,style:i},{children:[!t&&(0,c.jsx)("div",{className:"icon icon-paper-clip"}),(0,c.jsxs)("div",Object.assign({className:"attachment-label"},{children:[(0,c.jsx)("div",Object.assign({className:"file-label"},{children:o})),r&&!t&&(0,c.jsx)("div",Object.assign({className:"size-label"},{children:r}))]})),!t&&e&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("a",Object.assign({className:"link download-link",ref:this.setContainerRef,href:e,download:!0,onClick:Qs},{children:(0,c.jsx)("span",{className:"icon-download"})})),(0,c.jsx)(k.u,{target:this.state.containerRef,title:s})]})]}))}}};function Js({id:e,width:t,height:n,srcDoc:i,onLoad:s}){const a=new URLSearchParams(new URL(e,window.location.href).search).get("parent"),o=(0,r.useCallback)((function(e){s(e.currentTarget,a||"")}),[s,a]);return(0,c.jsx)("iframe",{style:{width:t?`${t}px`:"100%",height:n?`${n}px`:"100%",border:0},srcDoc:i,onLoad:o,referrerPolicy:"no-referrer",sandbox:"allow-scripts"},e)}Xs.contextType=f.I,Xs=$s([Tt.Z],Xs);const{ATTACHMENTS:er}=g.Z.SHOWCASE,tr=({attachment:e,onClick:t,inline:n,canDelete:i,hero:s,containerWidth:a,width:o,height:l,thumbnail:d,onError:u,onDelete:h})=>{const{commandBinder:p,locale:g}=(0,r.useContext)(f.I),v=(0,ui.z)(),[b,y]=(0,r.useState)(null),[E,S]=F(),O=(0,r.useMemo)((()=>g.t(er.DELETE_ATTACHMENT_TOOLTIP)),[g]),T=(0,qs.lV)(e),_=(0,Es.e)(),w={attachment:e,thumbnail:d,containerWidth:a||S.width,onClick:t?n=>{t&&t(n,e.id)}:void 0};return(0,c.jsxs)("div",Object.assign({className:m()("attachment",`attachment-${e.category}`,{inline:!!n,hero:!!s,"non-viewable":!T}),ref:E},{children:[e.category===Os.G$.UPLOAD?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",Object.assign({className:"attachment-preview",ref:y},{children:(0,c.jsx)(Xs,Object.assign({},w,{inline:n}))})),i&&(0,c.jsx)(k.u,{target:b,title:null==e?void 0:e.filename})]}):e.category===Os.G$.EXTERNAL?(0,c.jsx)(Ys,Object.assign({},w,{compact:n,width:o,height:l,onError:u})):nr(e)?(0,c.jsx)(Js,{id:e.src,width:e.width,height:e.height,srcDoc:e.srcDoc,onLoad:e.onLoad}):(0,c.jsx)("div",{children:"Unknown Attachment Category"}),i&&(0,c.jsx)(k.zx,{icon:"close",className:"attachment-delete",size:k.qE.SMALL,variant:k.Wu.FAB,theme:"dark",tooltip:O,tooltipOptions:{placement:"bottom-start"},onClick:t=>{t.stopPropagation(),t.preventDefault(),i&&(v.trackGuiEvent("attachments_click_remove",{tool:_}),h?h(e):p.issueCommand(new Ss.$T(e)))}})]}))};function nr(e){return e.category===Os.G$.SANDBOX}function ir(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:"contentBoxSize"===t?e.contentRect["inlineSize"===n?"width":"height"]:void 0}function sr(e){void 0===e&&(e={});var t=e.onResize,n=(0,r.useRef)(void 0);n.current=t;var i=e.round||Math.round,s=(0,r.useRef)(),a=(0,r.useState)({width:void 0,height:void 0}),o=a[0],l=a[1],c=(0,r.useRef)(!1);(0,r.useEffect)((function(){return c.current=!1,function(){c.current=!0}}),[]);var d=(0,r.useRef)({width:void 0,height:void 0}),u=function(e,t){var n=(0,r.useRef)(null),i=(0,r.useRef)(null);i.current=t;var s=(0,r.useRef)(null);(0,r.useEffect)((function(){a()}));var a=(0,r.useCallback)((function(){var t=s.current,r=i.current,a=t||(r?r instanceof Element?r:r.current:null);n.current&&n.current.element===a&&n.current.subscriber===e||(n.current&&n.current.cleanup&&n.current.cleanup(),n.current={element:a,subscriber:e,cleanup:a?e(a):void 0})}),[e]);return(0,r.useEffect)((function(){return function(){n.current&&n.current.cleanup&&(n.current.cleanup(),n.current=null)}}),[]),(0,r.useCallback)((function(e){s.current=e,a()}),[a])}((0,r.useCallback)((function(t){return s.current&&s.current.box===e.box&&s.current.round===i||(s.current={box:e.box,round:i,instance:new ResizeObserver((function(t){var s=t[0],r="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",a=ir(s,r,"inlineSize"),o=ir(s,r,"blockSize"),u=a?i(a):void 0,h=o?i(o):void 0;if(d.current.width!==u||d.current.height!==h){var p={width:u,height:h};d.current.width=u,d.current.height=h,n.current?n.current(p):c.current||l(p)}}))}),s.current.instance.observe(t,{box:e.box}),function(){s.current&&s.current.instance.unobserve(t)}}),[e.box,i]),e.ref);return(0,r.useMemo)((function(){return{ref:u,width:o.width,height:o.height}}),[u,o.width,o.height])}const rr=({attachments:e,onClick:t,onNavigate:n,startIndex:i=0,onError:s})=>{const a=(0,ui.z)(),[o,{width:l}]=F(),{ref:d,height:u}=sr({box:"border-box"}),[h,p]=(0,r.useState)(i),f=e.length,g=(0,Es.e)();(0,r.useEffect)((()=>{i!==h&&p(i)}),[i,e]);const v=(0,r.useCallback)((e=>{e.stopPropagation();const t=h+1<f?h+1:0;a.trackGuiEvent("attachments_viewer_next",{tool:g}),p(t),n&&n(t)}),[n,h,a,f]),b=(0,r.useCallback)((e=>{e.stopPropagation();const t=h>0?h-1:f-1;a.trackGuiEvent("attachments_viewer_prev",{tool:g}),p(t),n&&n(t)}),[n,h,a,f]),y=(0,r.useCallback)(((e,t)=>{e.stopPropagation();const i=t;a.trackGuiEvent("attachments_viewer_dot_clicked",{tool:g}),p(i),n&&n(i)}),[n,a]),E=e[h];if(!E)return null;const S=f>1;return(0,c.jsxs)("div",Object.assign({className:"attachment-carousel",ref:o},{children:[(0,c.jsx)("div",Object.assign({className:"attachment-carousel-view",style:{height:u}},{children:(0,c.jsx)("div",Object.assign({className:"attachment-container",ref:d},{children:(0,c.jsx)(tr,{attachment:E,onClick:t,thumbnail:!1,containerWidth:l||318,onError:s})}))})),S&&(0,c.jsx)(dn,{className:m()("modal-nav","modal-prev"),iconClass:"icon-dpad-left",onClick:b}),S&&(0,c.jsx)(dn,{className:m()("modal-nav","modal-next"),iconClass:"icon-dpad-right",onClick:v}),S&&(0,c.jsx)("div",Object.assign({className:"carousel-bullets"},{children:e.map(((e,t)=>(0,c.jsx)(ar,{index:t,active:t===h,onSelect:y},t)))}))]}))};function ar({index:e,active:t,onSelect:n}){return(0,c.jsx)(k.zx,{icon:"simple-tag",onClick:t=>n(t,e),className:m()("carousel-bullet",{"carousel-bullet-active":t})})}function or(e){const{attachments:t}=e,{analytics:n}=(0,r.useContext)(f.I);if(!(t.length>0))return null;return(0,c.jsx)(rr,{attachments:t,onClick:(t,i)=>{n.trackToolGuiEvent("notes","notes_preview_click_attachment"),t.stopPropagation(),e.onClick(i)}})}var lr=n(95160),cr=n(7159);function dr(e){return e.get("m")||e.get("model")}function ur(e){const t=-1!==e.indexOf("matterport.com/show"),n=-1!==e.indexOf(window.location.host+"/show");if(t||n){const t=new URL(e),n=cr.K.deserialize(e)||void 0,i=dr(t.searchParams),s=dr(new URLSearchParams(window.location.search));return{url:e,pose:n,modelId:i&&i!==s?i:void 0}}return{url:e}}var hr=n(55502),pr=n(97163);const mr=(0,pe.u)(pr.b);function fr(e){const t=mr(),[n,i]=(0,r.useState)(gr(t,e));return(0,r.useEffect)((()=>{if(!t)return()=>{};function n(){i(gr(t,e))}const s=t[e].onChanged(n);return n(),()=>s.cancel()}),[t,e]),n}function gr(e,t){return e?e[t].values:[]}var vr=n(86941),br=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const{ATTACHMENTS:yr}=g.Z.SHOWCASE;let Er=class extends r.Component{constructor(e){super(e),this.setContainerRef=e=>{this.setState({containerRef:e})},this.handleCancelClick=e=>{e.preventDefault(),this.context.commandBinder.issueCommand(new Ss.sE(this.props.id))},this.onRemoveFailed=e=>{const{id:t,error:n}=this.props;n&&(e.stopPropagation(),this.context.commandBinder.issueCommand(new Ss.Rh(t)))},this.state={containerRef:null}}render(){const{className:e,error:t,progress:n,fileName:i}=this.props;let s=yr.ERROR_UPLOAD_FAIL;const r=this.context.locale.t(yr.REMOVE_TOOLTIP),a=t?this.onRemoveFailed:this.handleCancelClick;switch(t){case Os.kV.FILE_TOO_LARGE:s=yr.ERROR_FILE_TOO_LARGE;break;case Os.kV.EMPTY_FILE:s=yr.ERROR_EMPTY_FILE;break;case Os.kV.OVER_QUOTA:s=yr.ERROR_OVER_QUOTA;break;case Os.kV.PERMISSION_DENIED:s=yr.ERROR_PERMISSION_DENIED}const o=t?this.context.locale.t(s):i,l={"upload-error":!!t};return(0,c.jsxs)("div",Object.assign({className:m()("attachment","attachment-upload",l,e)},{children:[(0,c.jsx)("div",Object.assign({ref:this.setContainerRef,className:"upload-status"},{children:t?(0,c.jsx)(k.JO,{name:"error",size:k.Jh.MEDIUM}):(0,c.jsx)(vr.$,{progress:n,innerRadius:20,barWidth:4})})),(0,c.jsx)(k.u,{target:this.state.containerRef,title:o}),(0,c.jsx)(k.zx,{icon:"close",className:"attachment-delete",size:k.qE.SMALL,variant:k.Wu.FAB,theme:"dark",tooltip:r,tooltipOptions:{placement:"bottom-start"},onClick:a})]}))}};function Sr(e){const{inline:t,canDelete:n,attachments:i,annotationType:s,nonViewable:r,children:a,parentId:o,onViewAttachment:l}=e,d=fr("uploads"),u=fr("failures"),h=(e,t)=>{l&&l(t)},p=e=>o!==e.parentId?null:(0,c.jsx)(Er,{id:e.id,fileName:e.file.name,className:"inline",progress:e.progress,error:e.error},e.id),f=s===ls.J.NOTE;return(0,c.jsxs)("div",Object.assign({className:m()("annotation-attachments",{"annotation-attachments-inline":!!t,"annotation-attachments-preview":!r,"annotation-attachments-list":r})},{children:[i.map(((e,s)=>{const a=i.length,o=!t&&!r&&(1===a||0===s&&a>2);let l,d;return f&&(t?(l=60,d=60):o||(l=140,d=140)),(0,c.jsx)(tr,{attachment:e,inline:!!t,canDelete:!!n,hero:o,onClick:h,thumbnail:!!t||!o,width:l,height:d},e.id)})),d&&d.map(p),u&&u.map(p),a]}))}Er.contextType=f.I,Er=br([Tt.Z],Er);var Or=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Tr=class extends r.Component{constructor(e){super(e),this.textElement=(0,r.createRef)(),this.editing=!1,this.isUnmounting=!1,this.stopPropagation=e=>e.stopPropagation(),this.onPaste=e=>{if(!e.clipboardData||!this.textElement.current)return;let t=e.clipboardData.getData("text/plain");t=this.props.textParser.sanitizeText(t),e.preventDefault(),t&&document.execCommand("insertText",!1,t)},this.onKeyDown=e=>{if(!this.textElement.current)return;const{onKeyDown:t}=this.props;(e.which||e.keyCode)===se.R.RETURN&&(e.shiftKey||e.altKey)?document.execCommand("insertText",!1,"\n"):t&&t(e)},this.onMouseDown=e=>{const{onClick:t,clickToEdit:n,readonly:i}=this.props;t&&(e.stopPropagation(),t(e)),i||!this.editing&&n&&this.toggleEditing(!0)},this.onFocus=e=>{this.textElement.current&&(this.context.messageBus.broadcast(new Fn.SN(this.textElement.current,!0)),this.props.onFocus&&this.props.onFocus(e))},this.onBlur=e=>{this.textElement.current&&(this.context.messageBus.broadcast(new Fn.SN(this.textElement.current,!1)),this.props.onBlur&&this.props.onBlur(e))}}componentDidMount(){this.replaceTextContent(this.props.text)}componentWillUnmount(){this.isUnmounting=!0,this.textElement.current&&this.textElement.current.blur()}componentDidUpdate(e){const{text:t,active:n}=this.props;t===e.text&&n===e.active||this.replaceTextContent(t)}shouldComponentUpdate(){return!1}getTextElement(){return this.textElement.current}getPlainText(){var e;return(null===(e=this.textElement.current)||void 0===e?void 0:e.innerText)||""}focus(){this.editing&&this.textElement.current&&this.textElement.current.focus()}toggleEditing(e,t=!0){clearTimeout(this.toggleEditingTimeout),this.toggleEditingTimeout=window.setTimeout((()=>{this.textElement.current&&!this.isUnmounting&&(this.editing!==e&&(this.editing=e,this.textElement.current.contentEditable=e?"true":"false",e?this.textElement.current.classList.add("editing"):this.textElement.current.classList.remove("editing")),e&&t?this.textElement.current.focus():this.textElement.current.blur())}),0)}replaceTextContent(e){clearTimeout(this.replaceTextContentTimeout),this.replaceTextContentTimeout=window.setTimeout((()=>{if(!this.textElement.current||this.isUnmounting)return;for(;this.textElement.current.firstChild;)this.textElement.current.removeChild(this.textElement.current.firstChild);const t=document.createDocumentFragment(),{textParser:n,markers:i,onClickAnchor:s,active:r,readonly:a,maxLength:o,clickableLinks:l}=this.props,c=void 0!==l?l:!r,d=n.deserialize(e,c,s,i);let u=0,h=!d.every((e=>{var n;const i=(null===(n=e.textContent)||void 0===n?void 0:n.length)||0;if(a&&o&&u+i>o){if("#text"===e.nodeName){const n=e.textContent||"";e.textContent=n.substring(0,o-u),t.appendChild(e)}return!1}return!a&&r&&"A"===e.nodeName&&(e.contentEditable="true"),u+=i,t.appendChild(e),!0}));h&&t.appendChild(document.createTextNode("...")),this.textElement.current.appendChild(t),this.focus(),a&&!h&&this.props.maxLines&&this.textElement.current.scrollHeight>this.textElement.current.offsetHeight&&(h=!0,this.textElement.current.appendChild(document.createTextNode("..."))),this.props.onTextReplaced&&this.props.onTextReplaced(h)}),0)}render(){const{placeholder:e,tabIndex:t,onInput:n,readonly:i,maxLines:s,text:r}=this.props,a=i&&s,o=a?{WebkitLineClamp:s}:{},l=m()("text-box-text",{clamped:a,placeholder:!!e&&!r});return(0,c.jsx)("div",{ref:this.textElement,className:l,style:o,role:"textbox",draggable:!1,spellCheck:!0,contentEditable:!1,placeholder:e,"aria-label":e,onMouseDown:this.onMouseDown,onKeyDown:i?void 0:this.onKeyDown,onKeyUp:i?void 0:this.stopPropagation,onFocus:i?void 0:this.onFocus,onBlur:i?void 0:this.onBlur,onInput:i?void 0:n,onPaste:i?void 0:this.onPaste,tabIndex:t})}};Tr.contextType=f.I,Tr=Or([Tt.A],Tr);const _r=Tr;var wr=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Nr=class extends r.Component{constructor(e){super(e),this.onTextReplaced=e=>{const{onTruncationChange:t}=this.props,n=this.state.truncated;this.setState({truncated:e}),t&&n!==e&&t(e)},this.onClickAnchor=e=>{const t=e.target,n=t.dataset.blocktype;if(e.stopPropagation(),n){const{annotationType:i,annotationId:s,linkHandler:r}=this.props,a={blockType:n,text:t.innerText,value:t.dataset.value,id:t.dataset.id};if(n===lr.C.LINK&&r&&a.value){e.preventDefault();const t=ur(a.value),{url:n,modelId:o,pose:l}=t;o?r.handler.openLink({fullLink:n,modelId:o}):l?(r.handler.openLink({fullLink:n,pose:l}),this.context.commandBinder.issueCommand(new us.Aj(s,i))):(r.handler.openLink(n),this.context.messageBus.broadcast(new hr.Ik(n)))}this.context.messageBus.broadcast(new ds.i(i,s,a))}},this.state={truncated:!1}}renderAttachments(e){if(0===e.length)return null;const{onViewAttachment:t,annotationType:n}=this.props;return(0,c.jsx)(Sr,{attachments:e,onViewAttachment:t,annotationType:n})}render(){const{settings:e}=this.context,{text:t,textParser:n,edited:i,attachments:s,maxLength:r,maxLines:a,readMore:o}=this.props,{truncated:l}=this.state,d=e.tryGetProperty(_n.sX,!1);return(0,c.jsxs)("div",Object.assign({className:"annotation-box"},{children:[(0,c.jsx)("div",Object.assign({className:"annotation-text-box"},{children:(0,c.jsx)(_r,{text:t,textParser:n,onClickAnchor:d?void 0:this.onClickAnchor,clickableLinks:!d,onTextReplaced:this.onTextReplaced,maxLength:r,maxLines:a,readonly:!0})})),i&&(0,c.jsx)("div",Object.assign({className:"annotation-edited"},{children:"(edited)"})),o&&l&&(0,c.jsx)("div",Object.assign({className:"annotation-read-more"},{children:(0,c.jsx)("span",Object.assign({className:"link link-more"},{children:o}))})),s&&!d&&this.renderAttachments(s)]}))}};function Ar(e){return e?e.getTextParser():null}function Ir(){const e=ps(),[t,n]=(0,r.useState)(Ar(e));return(0,r.useEffect)((()=>(t||n(Ar(e)),()=>{})),[e]),t}function kr(e){return e?e.getLinkHandler():null}function Pr(){const e=ps(),[t,n]=(0,r.useState)(kr(e));return(0,r.useEffect)((()=>(t||n(kr(e)),()=>{})),[e]),t}Nr.contextType=f.I,Nr=wr([Tt.Z],Nr);function Lr({text:e,noteId:t}){const n=Ir(),i=Pr();return(0,c.jsx)("div",Object.assign({className:m()("note-post",{"note-summary-info":!e})},{children:e&&n&&(0,c.jsx)(Nr,{text:e,textParser:n,linkHandler:i,maxLength:150,annotationType:ls.J.NOTE,annotationId:t})}))}function Rr(e){const t=(0,w.b)(),{moreAttachmentsCount:n}=e;if(0===n)return null;const i=t.t(g.Z.SHOWCASE.ATTACHMENTS.MORE_ATTACHMENT,n);return(0,c.jsx)("div",Object.assign({className:"attachment attachments-truncated"},{children:(0,c.jsx)("div",Object.assign({className:"attachment-view attachment-other "},{children:(0,c.jsx)("div",Object.assign({className:"attachment-label"},{children:(0,c.jsx)("div",Object.assign({className:"file-label"},{children:i}))}))}))}))}const{ANNOTATIONS:Cr}=g.Z.SHOWCASE;function Dr(e){const{previewId:t}=e,n=(0,r.useRef)(null),i=(0,w.b)(),{commandBinder:s}=(0,r.useContext)(f.I),a=fs(t),o=gs(t);if((0,r.useEffect)((()=>(o&&n.current&&n.current.focus(),()=>{})),[n.current,o]),!o)return null;const l=o.comments.get(0),d=l&&l.attachments.length>0,u=l.attachments.values(),h=(0,qs.Ug)(u),p=(0,qs.ae)(u),g=p.slice(0,_i.Ii),v=Math.max(p.length-_i.Ii,0),b=o.comments.length>1||v>0,y=i.t(Cr.READ_MORE_MESSAGE),E=m()("annotation-preview-contents","note-preview-contents",{"viewable-media":d});return(0,c.jsxs)("div",Object.assign({ref:n,role:"dialog",tabIndex:0,className:E,onClick:t=>{t.stopPropagation(),e.onClick()},onKeyDown:e=>{"Escape"===e.code&&(e.stopPropagation(),s.issueCommand(new us.G5))}},{children:[l&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(or,{attachments:h,onClick:e.onClick}),(0,c.jsx)(ys,{noteView:o,comment:l}),(0,c.jsx)(Lr,{text:l.text,noteId:t}),(0,c.jsx)(Sr,Object.assign({annotationType:ls.J.NOTE,attachments:g},{children:(0,c.jsx)(Rr,{moreAttachmentsCount:v})}))]}),a&&(0,c.jsxs)("div",Object.assign({className:"nested-comment-preview"},{children:[(0,c.jsx)(ys,{comment:a}),(0,c.jsx)(Lr,{text:a.text,noteId:t})]})),b&&(0,c.jsx)("div",Object.assign({className:"link link-more"},{children:y}))]}))}var Mr=n(52528),xr=n(61774);const jr=(0,pe.u)(xr.n);function Ur(e){return e?e.getLinkHandler():null}function Fr(){const e=jr(),[t,n]=(0,r.useState)(Ur(e));return(0,r.useEffect)((()=>(t||n(Ur(e)),()=>{})),[e]),t}const Hr=({attachments:e,onClick:t})=>{const{settings:n}=(0,r.useContext)(f.I),i=n.tryGetProperty(_n.sX,!1),[s,a]=(0,r.useState)(!1);(0,r.useEffect)((()=>{a(!1)}),[e]);const o=(0,r.useCallback)(((n,i)=>{0!==e.length&&(n.stopPropagation(),t(n,i))}),[e,t]),l=(0,r.useCallback)((()=>{a(!0)}),[]);return i||0===e.length||1===e.length&&s?null:(0,c.jsx)("div",Object.assign({className:"tag-media"},{children:(0,c.jsx)(rr,{attachments:e,onClick:o,onError:l})}))};var Vr=n(81396),Br=n(15130),Gr=n(23379);function Wr(e){const{label:t,className:n,darkTheme:i,analyticAction:s,urlParams:a,includeCameraView:o,buttonVariant:l}=e,{analytics:d,engine:u,editMode:h,locale:p,market:v,settings:b}=(0,r.useContext)(f.I),[y,E]=(0,r.useState)(!1),S=h||b.tryGetProperty(_n.Yo,!1),O=(0,Es.e)(),T=(0,r.useCallback)((e=>{e.stopPropagation()}),[]),_=(0,r.useCallback)((e=>{e.stopPropagation(),y||(!async function(e,t){const n=(await t.getModuleBySymbol(Gr.DeepLinksModuleKey)).creator.createDeepLink({additionalParams:e,paramFilter:e=>!["q","qK","qF","tag","note","comment","pin-pos","cloudEdit"].includes(e)});n.hash="",(0,Br.v)(n.href)}(a,u),E(!0),d.trackGuiEvent(s,{tool:O}))}),[a,y,E,d,h,o,v]);(0,r.useEffect)((()=>{if(!y)return()=>{};const e=window.setTimeout((()=>E(!1)),2500);return()=>window.clearTimeout(e)}),[y]);let w=l||(!t?k.Wu.FAB:k.Wu.TERTIARY),N="share",A=t,I=t?void 0:p.t(g.Z.COPY_LINK),P=!1;return y&&(w=k.Wu.TERTIARY,N=void 0,A=p.t(g.Z.SHARE_COPIED),I=void 0,P=!0),S?(0,c.jsx)("div",Object.assign({className:m()("url-link-copy",n,{"link-copied":y}),onClick:T},{children:(0,c.jsx)(k.zx,{icon:N,label:A,size:k.qE.SMALL,variant:w,theme:i?"dark":"light",disabled:P,tooltip:I,tooltipOptions:{placement:"bottom"},onClick:_})})):null}var zr=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};function Kr(e){const{prefix:t,pin:n,id:i}=e,s=zr(e,["prefix","pin","id"]),{stemNormal:r,stemLength:a,anchorPosition:o}=n,l={[`${t}`]:i,"pin-pos":cr.K.encodeVector3((new Vr.Vector3).copy(r).setLength(a).add(o))};return(0,c.jsx)(Wr,Object.assign({urlParams:l},s))}var Yr=n(5666);const{TAGS:qr}=g.Z.SHOWCASE;function $r(e){const{tag:t,tagType:n,capabilities:i}=e,{analytics:s,commandBinder:a,editMode:o,locale:l}=(0,r.useContext)(f.I),d=o?l.t(qr.EDIT_TAG_LABEL):void 0,u=o?"toggle-pencil":"dock",h=o?void 0:l.t(qr.DOCK_TAG_LABEL),p=t.id,g=(0,r.useCallback)((e=>{e.stopPropagation(),o&&n===ls.J.OBJECT?(s.trackToolGuiEvent("object_tags","object_tags_billboard_edit_tag"),a.issueCommand(new Yr.OD(p))):(s.trackToolGuiEvent("tags",o?"tags_billboard_edit_tag":"tags_billboard_dock_tag"),a.issueCommand(new us.bd(p,n)))}),[p,o,n]);return n!==ls.J.OBJECT||o?i.share||i.dock?(0,c.jsxs)("header",Object.assign({className:m()("tag-billboard-header",{editable:o})},{children:[!o&&i.share&&(0,c.jsx)(Kr,{prefix:"tag",pin:t,id:t.id,darkTheme:!0,includeCameraView:!0,analyticAction:"tags_copy_share_link",buttonVariant:k.Wu.TERTIARY}),i.dock&&(0,c.jsx)(k.zx,{icon:u,label:d,size:k.qE.SMALL,variant:k.Wu.TERTIARY,theme:"dark",onClick:g,reverse:!0,tooltip:h,tooltipOptions:{placement:"bottom"}})]})):(0,c.jsx)("div",{}):null}var Zr=n(71166);const Qr=({keywords:e,className:t,maxVisible:n=2,theme:i})=>{const{engine:s,editMode:a}=(0,r.useContext)(f.I),o=(0,r.useCallback)((({text:e},t)=>{t.stopPropagation();const n=a?N.w1.LAYERS:N.w1.SEARCH;s.commandBinder.issueCommand(new h.tT(n,!0)),s.commandBinder.issueCommand(new Zr.FZ([e]))}),[s,a]);return(0,c.jsx)(k.no,{className:m()("tag-keywords",t),tokens:e.map((e=>({id:e,text:e}))),onTokenClick:o,maxVisibleTruncated:n,tokenSize:"small",tokenTheme:i})};var Xr=n(85679);const Jr=(0,pe.u)(Xr.n);var ea=n(59512);const ta=(0,pe.u)(ea.h),na=(0,pe.u)(cs.A);var ia=n(48945);const{ANNOTATIONS:sa}=g.Z.SHOWCASE;function ra(e){const t=new Mr.v({links:!0}),n=(0,ui.z)(),{commandBinder:i,editMode:s}=(0,r.useContext)(f.I),a=na(),o=jr(),l=Jr(),d=ta(),u=(0,w.b)(),h=Fr(),p=(0,r.useRef)(null),[g,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)(null),[E,S]=(0,r.useState)({dock:!0,share:!0}),O=(0,B.y)(ia.ho,!0),T=(0,B.y)(ia.MS,!0),_="true"===(0,B.y)(ia.QM,!1),N=(0,r.useCallback)((e=>{n.trackToolGuiEvent("tags",e)}),[n]),A=(0,r.useCallback)(((t,n)=>{N("tags_billboard_click_attachment"),e.onClick(n)}),[e,N]),I=(0,r.useCallback)((t=>{N(s?"tags_billboard_click_to_edit":"tags_billboard_click_to_dock"),t.stopPropagation(),e.onClick()}),[e,N,s]),k=(0,r.useCallback)((e=>{v(e)}),[]);(0,r.useEffect)((()=>(b&&p.current&&p.current.focus(),()=>{})),[b,p.current]),(0,r.useEffect)((()=>{const t=e.previewType,n=e.previewId;if(o&&l)switch(t){case ls.J.OBJECT:const e=null==d?void 0:d.getObjectTag(n);if(!e)return;const t=e.mattertagId?l.getTag(e.mattertagId):void 0,s=e.toTagView(t);y(Object.assign({},s));break;case ls.J.TAG:const r=l.getTag(n),c=o.getTagView(n);if(!r||!c)return void y(null);function i(){const e=null==a?void 0:a.getCapabilities(n);return e&&S(Object.assign({},e)),e}y(Object.assign({},c));const u=i(),h=null==u?void 0:u.onChanged(i),p=r.onChanged((()=>{const e=o.getTagView(n);e&&y(Object.assign({},e))}));return()=>{null==h||h.cancel(),p.cancel()}}}),[a,l,null==d?void 0:d.collection,e.previewId,e.previewType,o]);if(!b)return null;const{layerWidth:P,layerHeight:L,previewType:R}=e,{id:C,label:D,attachments:M,description:x,keywords:j}=b,U=(0,qs.Ug)(M),F=U.length>0,H=(0,qs.ae)(M),V=Math.max(H.length-_i.Ii,0);V>0&&(H.length=_i.Ii);const G=u.t(sa.READ_MORE_MESSAGE),W=!D&&!x,z=(0,c.jsx)(Hr,{attachments:U,layerWidth:P,layerHeight:L,onClick:A}),K=D&&(0,c.jsx)("div",Object.assign({className:"tag-billboard-title"},{children:D})),Y=m()("annotation-preview-contents","tag-billboard",{"viewable-media":F,"media-only":W,"has-keywords":j&&j.length>0});return(0,c.jsxs)("div",Object.assign({ref:p,role:"dialog",tabIndex:0,className:Y,onClick:I,onKeyDown:e=>{"Escape"===e.code&&(e.stopPropagation(),i.issueCommand(new us.G5))}},{children:[(0,c.jsx)($r,{tag:b,tagType:R,capabilities:{share:O&&E.share,dock:T&&E.dock}}),(0,c.jsxs)("div",Object.assign({className:"tag-billboard-contents"},{children:[D?(()=>{const e=_?K:z,t=_?z:K;return(0,c.jsxs)(c.Fragment,{children:[e,t]})})():z,x&&(0,c.jsx)("div",Object.assign({className:"tag-billboard-description"},{children:(0,c.jsx)(Nr,{text:x,textParser:t,linkHandler:h,annotationType:ls.J.TAG,annotationId:C,maxLength:100,maxLines:4,onTruncationChange:k})})),j&&(0,c.jsx)(Qr,{keywords:j,theme:"dark",className:"tag-previewer-keywords"}),H.length>0&&(0,c.jsx)(Sr,Object.assign({annotationType:ls.J.TAG,attachments:H},{children:(0,c.jsx)(Rr,{moreAttachmentsCount:V})})),g&&(0,c.jsx)("div",Object.assign({className:"annotation-read-more"},{children:(0,c.jsx)("span",Object.assign({className:"link link-more"},{children:G}))}))]}))]}))}var aa=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let oa=class extends r.Component{constructor(e){super(e),this.bindings=[],this.isUnmounting=!1,this.clickOuterAnnotation=()=>{const{currentAnnotation:e}=this.state;if(!e)return;const{selectedAnnotation:t,dockedAnnotation:n}=this.viewData;if(t)this.closeAnnotation();else{n||e.annotationType===ls.J.NOTE?this.dockAnnotation():this.selectAnnotation()}},this.onClickNote=async e=>{this.context.analytics.trackGuiEvent("click_note_preview"),this.clickInnerAnnotation(e)},this.onClickTag=e=>{this.context.analytics.trackGuiEvent("tags_click_tag_billboard"),this.clickInnerAnnotation(e)},this.onResize=e=>{e.forEach((e=>{const t=e.target;t.classList.contains("annotation-preview")&&"hidden"!==t.style.visibility||this.updatePositioning(!0)}))},this.updateScreenPosition=()=>{this.updatePositioning(!1)},this.updateCurrentAnnotation=()=>{const{billboardAnnotation:e}=this.viewData;this.setState({currentAnnotation:e}),e&&this.updatePositioning(!0)},this.updatePositioning=e=>{if(!this.pinsViewData||!this.layer||!this.viewData.billboardAnnotation)return;const t=this.pinsViewData.screenPosition;if(t){if(e){const e=t.x,n=t.y;this.updatePreviewDirection(e,n)}this.setState({screenPosition:t,layerWidth:this.layer.offsetWidth,layerHeight:this.layer.offsetHeight})}},this.updatePreviewDirection=(e,t)=>{if(!this.layer||!this.preview)return;const{layerWidth:n,layerHeight:i,previewDirection:s}=this.state,{offsetWidth:r,offsetHeight:a}=this.preview;if(!(n&&i&&r&&a))return;let o=s;const l=t<a,c=t>i-a,d=e<r,u=e>n-r;l&&c?o=u&&!d?as.Od.LEFT:as.Od.RIGHT:l?o=d?as.Od.DOWN_RIGHT:u?as.Od.DOWN_LEFT:as.Od.DOWN:c?o=d?as.Od.UP_RIGHT:u?as.Od.UP_LEFT:as.Od.UP:d&&u?o=l?as.Od.DOWN:as.Od.UP:d?o=as.Od.RIGHT:u?o=as.Od.LEFT:null===o&&(o=as.Od.RIGHT),o!==s&&this.setState({previewDirection:o})},this.setLayerRef=e=>{this.layer=e,e&&(this.resizeObserver.observe(e),this.updatePositioning(!0))},this.setPreviewRef=e=>{this.preview=e,e&&(this.resizeObserver.observe(e),this.updatePositioning(!0))},this.state={currentAnnotation:null,screenPosition:null,previewDirection:null,layerWidth:0,layerHeight:0},this.resizeObserver=new ln.Z(this.onResize)}componentDidMount(){const{market:e}=this.context;Promise.all([e.waitForData(cs.A),e.waitForData(os.B)]).then((([e,t])=>{this.isUnmounting||(this.viewData=e,this.pinsViewData=t,this.bindings.push(e.onChanged(this.updateCurrentAnnotation),t.onScreenPositionChanged(this.updateScreenPosition)),this.isUnmounting||(this.updateCurrentAnnotation(),this.updateScreenPosition()))}))}componentWillUnmount(){this.isUnmounting=!0;for(const e of this.bindings)e.cancel();this.resizeObserver&&this.resizeObserver.disconnect()}async clickInnerAnnotation(e){const{currentAnnotation:t}=this.state;if(t){const{messageBus:n}=this.context,{id:i,annotationType:s}=t;e&&!this.viewData.dockedAnnotation||s===ls.J.OBJECT||this.dockAnnotation(),e&&n.broadcast(new ds.q(s,i,e))}}dockAnnotation(){const{currentAnnotation:e}=this.state;if(!e)return;const{analytics:t,commandBinder:n}=this.context;t.trackGuiEvent(`annotations_dock_${e.annotationType}`),n.issueCommand(new us.bd(e.id,e.annotationType))}selectAnnotation(){const{currentAnnotation:e}=this.state;if(!e)return;const{analytics:t,commandBinder:n}=this.context;t.trackGuiEvent(`annotations_select_${e.annotationType}`),n.issueCommand(new us.oM(e.id,e.annotationType))}closeAnnotation(){const{currentAnnotation:e}=this.state;if(!e)return;const{commandBinder:t}=this.context;t.issueCommand(new us.Aj(e.id,e.annotationType))}getPreviewPositioning(){const{screenPosition:e,previewDirection:t}=this.state;if(e){let n="",i=e.x;switch(t){case as.Od.UP:n="translate(-50%, -100%)";break;case as.Od.DOWN:n="translateX(-50%)";break;case as.Od.LEFT:n="translate(-100%, -50%)";break;case as.Od.RIGHT:n="translateY(-50%)";break;case as.Od.UP_LEFT:i+=50,n="translate(-100%, -100%)";break;case as.Od.UP_RIGHT:n="translate(-50px, -100%)";break;case as.Od.DOWN_LEFT:i+=50,n="translate(-100%, 5px)";break;case as.Od.DOWN_RIGHT:n="translate(-50px, 5px)"}return{top:`${e.y}px`,left:`${i}px`,visibility:null===t?"hidden":"",transform:n}}return{}}render(){const{openModal:e,notesEnabled:t}=this.props;if(e)return null;const{currentAnnotation:n,previewDirection:i,screenPosition:s,layerWidth:r,layerHeight:a}=this.state,o=null===s,l=a-100,d=n&&n.annotationType===ls.J.TAG,u=t&&n&&n.annotationType===ls.J.NOTE,h=n&&n.annotationType===ls.J.OBJECT;return(0,c.jsx)("div",Object.assign({ref:this.setLayerRef,className:"annotations-preview-layer"},{children:n&&(d||u||h)&&!o&&(0,c.jsxs)("div",Object.assign({ref:this.setPreviewRef,className:m()("annotation-preview",`annotation-preview-${i}`,{"tag-preview":!!d||!!h,"note-preview":!!u}),style:this.getPreviewPositioning(),onClick:this.clickOuterAnnotation},{children:[(d||h)&&(0,c.jsx)(ra,{previewId:n.id,previewType:n.annotationType,onClick:this.onClickTag,layerWidth:r,layerHeight:l}),u&&(0,c.jsx)(Dr,{previewId:n.id,onClick:this.onClickNote})]}))}))}};oa.contextType=f.I,oa=aa([Tt.Z],oa);var la=n(13794),ca=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const{ATTACHMENTS:da}=g.Z.SHOWCASE;let ua=class extends r.Component{constructor(e){super(e),this.bindings=[],this.onKey=async e=>{const{attachments:t,attachmentIndex:n}=this.state,i=t.length;let s=-1;switch(e.keyCode){case se.R.ESCAPE:e.stopPropagation(),this.closeAttachmentViewer();break;case se.R.LEFTARROW:e.stopPropagation(),s=n-1,s<0&&(s=i-1);break;case se.R.RIGHTARROW:e.stopPropagation(),s=n+1,s>=i&&(s=0)}-1!==s&&this.setState({attachmentIndex:s})},this.closeAttachmentViewer=()=>{this.state.open&&this.context.commandBinder.issueCommand(new Ss.xW(!1))},this.onModalToggled=e=>{e.modal!==Ne.P.ATTACHMENT||e.open||this.closeAttachmentViewer()},this.onViewerClosed=()=>{this.state.open&&(this.context.mainDiv.getRootNode().removeEventListener("keydown",this.onKey,{capture:!0}),this.context.commandBinder.issueCommand(new Ae.B(Ne.P.ATTACHMENT,!1)),this.setState({open:!1}))},this.onNavigate=e=>{this.setState({attachmentIndex:e})},this.onViewAttachments=e=>{const{attachments:t,attachmentId:n}=e,i=n||this.getCurrentAttachmentId(),s=t.findIndex((e=>e.id===i));0===t.length||-1===s?this.closeAttachmentViewer():(this.state.open||(this.context.mainDiv.getRootNode().addEventListener("keydown",this.onKey,{capture:!0}),this.context.commandBinder.issueCommand(new Ae.B(Ne.P.ATTACHMENT,!0)),this.setState({open:!0})),this.setState({attachments:t,attachmentIndex:s}))},this.state={open:!1,attachmentIndex:-1,attachments:[]}}componentDidMount(){const{messageBus:e}=this.context;this.bindings.push(e.subscribe(la.O,this.onViewAttachments),e.subscribe(la.Rd,this.onViewerClosed),e.subscribe(Fn.nV,this.onModalToggled))}componentWillUnmount(){for(const e of this.bindings)e.cancel();this.context.mainDiv.getRootNode().removeEventListener("keydown",this.onKey,{capture:!0})}getCurrentAttachmentId(){var e;const{attachmentIndex:t,attachments:n}=this.state;return(null===(e=n[t])||void 0===e?void 0:e.id)||void 0}render(){const{open:e,attachments:t,attachmentIndex:n}=this.state,{locale:i}=this.context,s=i.t(da.CLOSE_TOOLTIP),r=i.t(da.VIEWER_INDEX_COUNT,{currentNumber:n+1,totalNumber:t.length});return(0,c.jsx)("div",Object.assign({className:m()("overlay-layer","attachment-overlay",{open:e})},{children:e&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",Object.assign({className:"overlay-top-bar"},{children:[(0,c.jsx)("div",Object.assign({className:"overlay-label"},{children:r})),(0,c.jsx)(G.P,{theme:"overlay",tooltip:s,onClose:this.closeAttachmentViewer})]})),(0,c.jsx)(rr,{attachments:t,startIndex:n,onNavigate:this.onNavigate})]})}))}};ua.contextType=f.I,ua=ca([Tt.Z],ua);var ha=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let pa=class extends r.Component{constructor(e){super(e)}render(){const{showing:e}=this.props;return(0,c.jsx)(Ie.N,Object.assign({open:e,className:m()("load-indicator",{"fade-in":e,"fade-out":!e})},{children:(0,c.jsx)("div",Object.assign({className:"center-container"},{children:(0,c.jsx)(vr.$,{progress:33,barWidth:4,progressColor:"#ffffff"})}))}))}};pa=ha([Tt.Z],pa);const ma=pa;class fa extends r.Component{constructor(e){super(e),this.propertiesToRefreshUi=[rs.re,Jt.Mp],this.bindings=[],this.onLoadSpinnerMessage=e=>{this.setState({loadSpinnerOn:e.isOpen})},this.onLoadSpinnerSuppressMessage=e=>{this.setState({loadSpinnerSuppress:e.suppress})},this.refreshVisibility=()=>{const e=this.context.settings;this.setState({mattertagsOn:e.tryGetProperty(rs.re,!1),notesOn:e.tryGetProperty(Jt.Mp,!1)})},this.state={mattertagsOn:!1,notesOn:!1,loadSpinnerOn:!1,loadSpinnerSuppress:!1}}componentDidMount(){for(const e of this.propertiesToRefreshUi)this.context.settings.onPropertyChanged(e,this.refreshVisibility);this.bindings.push(this.context.messageBus.subscribe(Fn.Z_,this.onLoadSpinnerMessage),this.context.messageBus.subscribe(Fn.bN,this.onLoadSpinnerSuppressMessage),this.context.messageBus.subscribe(we.oR,(()=>this.setState({loadSpinnerSuppress:!0}))),this.context.messageBus.subscribe(we.NR,(()=>this.setState({loadSpinnerSuppress:!1})))),this.refreshVisibility()}componentWillUnmount(){for(const e of this.propertiesToRefreshUi)this.context.settings.removeOnPropertyChanged(e,this.refreshVisibility);this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}render(){const{mattertagsOn:e,notesOn:t,loadSpinnerOn:n,loadSpinnerSuppress:i}=this.state,{openModal:s,notesEnabled:r}=this.props,a=n&&!i,o=t&&r,l=o||e;return(0,c.jsxs)("div",Object.assign({className:"overlay-ui"},{children:[l&&(0,c.jsx)(ua,{}),l&&(0,c.jsx)(oa,{notesEnabled:o,openModal:s}),(0,c.jsx)(ma,{showing:a})]}))}}function ga(e){const t=Le(),{activeStep:n,currentStep:i,highlights:s}=e,r=s[i],a=n!==i,o=((null==r?void 0:r.title)||(null==r?void 0:r.description))&&t&&!a;return(0,c.jsx)("div",Object.assign({className:"overlay-layer"},{children:(0,c.jsx)("div",{className:m()("tour-story-scrim",{active:o})})}))}function va(){const e=Nn(),[t,n]=(0,r.useState)((null==e?void 0:e.model.details)||null);return(0,r.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.model.details)}const i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}fa.contextType=f.I;var ba=n(92915),ya=n(16441),Ea=n(4510),Sa=n(57151),Oa=n(23885);class Ta extends r.Component{constructor(e){super(e),this.horizontal=(0,At.Sv)(),this.vertical=(0,At.Sv)(),this.prevSuppressDrag=!1,this.manuallyMoved=!1,this.isUnmounting=!1,this.scrollPosition={horizontal:At.Ij.Beginning,vertical:At.Ij.End},this.handleEvent=e=>{this.inputFilter.handleEvent(e)},this.getScrollableContainer=()=>this.innerWrapper,this.getScrolledOffset=e=>{const t=At.uG[e].scrollOffset;return this.innerWrapper[t]/this.state[e].childLength},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.state={horizontal:(0,At.cL)(),vertical:(0,At.cL)()},this.scrollTo=this.scrollTo.bind(this),this.handlePressStart=this.handlePressStart.bind(this),this.handlePressMove=this.handlePressMove.bind(this),this.handleDragEnd=this.handleDragEnd.bind(this),this.handleDragStart=this.handleDragStart.bind(this),this.handleWheelEvent=this.handleWheelEvent.bind(this),this.handleClick=this.handleClick.bind(this),this.toggleVisibility=this.toggleVisibility.bind(this),this.hasManuallyMoved=this.hasManuallyMoved.bind(this),this.prevSuppressDrag=!!e.suppressDrag,this.inputFilter=new Sa.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd,handleClick:this.handleClick});const t=this.handleEvent;window.PointerEvent||(window.addEventListener("mousemove",t),window.addEventListener("mouseleave",t),window.addEventListener("mouseup",t)),window.addEventListener("pointermove",t),window.addEventListener("pointerup",t),window.addEventListener("touchmove",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t)}componentDidMount(){if(this.resizeObserver=new ln.Z((()=>this.handleResize())),this.resizeObserver.observe(this.outerWrapper),this.innerWrapper.addEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly)this.innerWrapper.addEventListener("click",this.handleClick);else{const e=this.handleEvent;this.innerWrapper.addEventListener("mousedown",e),this.innerWrapper.addEventListener("pointerdown",e),this.innerWrapper.addEventListener("touchstart",e)}this.firstChild=this.innerWrapper.firstElementChild,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(),this.props.hasOwnProperty("suppressDrag")&&this.inputFilter.setEnabled(!!this.props.suppressDrag)}componentWillUnmount(){var e;this.isUnmounting=!0;const t=this.handleEvent;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),window.PointerEvent||(window.removeEventListener("mousemove",t),window.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",t)),window.removeEventListener("pointermove",t),window.removeEventListener("touchmove",t),window.removeEventListener("pointerup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),this.innerWrapper.removeEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly?this.innerWrapper.removeEventListener("click",this.handleClick):(this.innerWrapper.removeEventListener("mousedown",t),this.innerWrapper.removeEventListener("pointerdown",t),this.innerWrapper.removeEventListener("touchstart",t))}componentDidUpdate(){if(this.props.waitToUpdate||this.handleExternalChange(),this.prevSuppressDrag!==this.props.suppressDrag&&(this.inputFilter.setEnabled(!!this.props.suppressDrag),this.props.suppressDrag&&(this.manuallyMoved=!1),this.prevSuppressDrag=!!this.props.suppressDrag),!this.horizontal.animation&&!this.vertical.animation)return;const e={};for(const t in this.state){const n=t;this[n].animation&&(this[n].animation.isAnimating?e[(0,At.O1)(n)]=this[n].animation.getUpdatedValue():this[n].animation=null)}Object.keys(e).length>0&&window.requestAnimationFrame((()=>{this.innerWrapper&&this.scrollTo(e)}))}scrollTo(e){if(!e.hasOwnProperty(At.RD.x)&&!e.hasOwnProperty(At.RD.y))return;const t={};for(const n of this.getVisibleAxes(e)){const i=(0,At.UC)(n),s=At.uG[i].scrollOffset,r=e[n];if(void 0!==r){if(isNaN(r))return;this.innerWrapper[s]=Math.max(Math.min(1,r)*this.state[i].childLength,0),t[i]=Object.assign(Object.assign({},this.state[i]),{scrollOffset:this.innerWrapper[s]})}}this.setState(t)}animatedScrollTo(e,t){if(e.hasOwnProperty(At.RD.x)||e.hasOwnProperty(At.RD.y))for(const n of this.getVisibleAxes(e)){const i=(0,At.UC)(n),s=At.uG[i].scrollOffset;this[i].animation=new Ea.Z({duration:t||At.UI,startValue:this.innerWrapper[s]/this.state[i].childLength,endValue:Math.max(0,Math.min(1,e[n]))})}}setScrollCenter(e){if(!(e&&e.compareDocumentPosition(this.innerWrapper)&Node.DOCUMENT_POSITION_CONTAINS))return;this.scrollCenter=e;const t={},n={};for(const i of this.getVisibleAxes(this.state)){const s=(0,At.O1)(i);t[s]=e[At.uG[i].positionOffset]+e[At.uG[i].offsetLength]/2;let r=e;for(;r.parentElement&&r!==this.innerWrapper;)r=r.parentElement,t[s]+=r[At.uG[i].positionOffset];const a=this.outerWrapper.parentElement[At.uG[i].offsetLength];n[s]=(t[s]-a/2)/this.state[i].childLength}Object.keys(n).length>0&&this.animatedScrollTo(n)}getVisibleAxes(e){const t=[];for(const n in e)(e[n]||"number"==typeof e[n])&&(n in At.RD&&this.state[(0,At.UC)(n)].isVisible||n in At.Nm&&this.state[n].isVisible)&&t.push(n);return t}handleDragStart(){delete this.scrollCenter,this.hasManuallyMoved()}handlePressStart(){this.horizontal.dragStartScroll=this.innerWrapper.scrollLeft,this.vertical.dragStartScroll=this.innerWrapper.scrollTop}handlePressMove(e){const t={};for(const n of this.getVisibleAxes(e)){const i=(0,At.UC)(n);t[n]=(e[n]+this[i].dragStartScroll)/this.state[i].childLength}this.scrollTo(t)}handleWheelEvent(e){this.props.singleScrollDirection===At.Nm.horizontal&&0===e.deltaX&&0!==e.deltaY?(this.handlePressStart(),this.handlePressMove({x:e.deltaY,y:0})):(this.hasManuallyMoved(),this.handleExternalChange())}handleClick(e){this.props.handleClick&&this.props.handleClick(e)}toggleVisibility(e){return t=>{const n=Object.assign(Object.assign({},this.state[e]),{isVisible:t});if((0,ya.g)(this.state[e],n)){const t={};t[e]=n,this.setState(t),this.props.onScrollbarVisibilityChange&&this.props.onScrollbarVisibilityChange()}}}toggleScrollPosition(e){return t=>{this.scrollPosition[e]=t,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(t)}}handleDragEnd(e,t){for(const n of this.getVisibleAxes(e)){const i=(0,At.UC)(n),s=e[n]/t,r=Math.min(At.UI,Math.abs(At.UI*s)),a=this.innerWrapper[At.uG[i].scrollOffset],o=s*r/2;this[i].animation=new Ea.Z({duration:r,startValue:a/this.state[i].childLength,endValue:Math.max(0,Math.min((a+o)/this.state[i].childLength,1)),easingFunction:Oa.hl})}this.setState({})}handleResize(){this.isUnmounting||(this.scrollCenter&&this.setScrollCenter(this.scrollCenter),this.handleExternalChange())}handleExternalChange(){if(this.isUnmounting)return;const e={};for(const t in this.state){const n=t,i=At.uG[n].clientLength,s=Object.assign(Object.assign({},this.state[n]),{wrapperLength:Number(this.innerWrapper&&this.innerWrapper[i])||1,childLength:Number(this.firstChild&&this.firstChild[i])||1,scrollOffset:this.innerWrapper&&this.innerWrapper[At.uG[n].scrollOffset]});(0,ya.g)(this.state[n],s)&&(e[n]=s)}Object.keys(e).length>0&&this.debouncedSetState(e)}hasManuallyMoved(){this.manuallyMoved=!0,this.props.onScrolled&&this.props.onScrolled()}resetManuallyMoved(){this.manuallyMoved=!1}renderScrollbar(e,t){const{forceHidden:n}=this.props,{wrapperLength:i,childLength:s,scrollOffset:r}=t;return(0,c.jsx)(ba.L,{direction:e,ref:e=>{this.horizontal.scrollbar=e},wrapperLength:i,childLength:s,scrollOffset:r,scrollTo:this.scrollTo,onVisibilityChange:this.toggleVisibility(e),onScrollPositionChange:this.toggleScrollPosition(e),forceHidden:n,onThumbDrag:this.hasManuallyMoved})}render(){const{scrollbarHeight:e,singleScrollDirection:t,name:n,children:i}=this.props,s={maxHeight:e||""},r=t||`${At.Nm.vertical} ${At.Nm.horizontal}`;return(0,c.jsxs)("div",Object.assign({className:m()("outerScrollbarWrapper",r,`scrollbar-${n}`),ref:e=>{this.outerWrapper=e},style:s},{children:[(0,c.jsx)("div",Object.assign({className:"innerScrollbarWrapper",ref:e=>{this.innerWrapper=e}},{children:(0,c.jsx)("div",Object.assign({className:"paddingScrollbarWrapper"},{children:i}))})),t!==At.Nm.vertical&&this.renderScrollbar(At.Nm.horizontal,this.state.horizontal),t!==At.Nm.horizontal&&this.renderScrollbar(At.Nm.vertical,this.state.vertical)]}))}}var _a=n(51801),wa=n(10837);const Na={"en-US":"./terms/terms-en-US.html",es:"./terms/terms-es-MX.html",fr:"./terms/terms-fr-FR.html",de:"./terms/terms-de-DE.html",ru:"./terms/terms-ru-RU.html",ja:"./terms/terms-ja-JP.html","zh-CN":"./terms/terms-zh-CN.html","zh-TW":"./terms/terms-zh-TW.html",ko:"./terms/terms-ko-KR.html",nl:"./terms/terms-nl-NL.html",it:"./terms/terms-it-IT.html",pt:"./terms/terms-pt-BR.html"};class Aa extends r.Component{constructor(e,t){super(e,t),this.isUnmounting=!1,this.onScrollPositionChange=()=>{this.scrollbars&&this.setState({scrollClass:this.scrollbars.scrollPosition.vertical})},this.onClose=()=>{this.context.commandBinder.issueCommand(new Ae.B(Ne.P.TERMS,!1))},this.state={termsText:"",hideScrollbar:(0,wt.w)(kt(t)),scrollClass:At.Ij.None}}async componentDidMount(){const e=function(e){if((0,wa.y)(e)&&e in Na)return Na[e]}(this.context.locale?this.context.locale.languageCode:_a.k$);let t="";if(e)try{t=await this.context.queue.get(e)}catch(e){t=this.context.locale.t(g.Z.TERMS_FAIL)}else t=this.context.locale.t(g.Z.TERMS_FAIL);this.context.market.waitForData(It.V).then((e=>{this.isUnmounting||(this.resizeSubscription=e.onPropertyChanged("size",(e=>{this.setState({hideScrollbar:(0,wt.w)(e)})})))})),window.requestAnimationFrame((()=>{this.isUnmounting||this.setState({termsText:t})}))}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.resizeSubscription)||void 0===e||e.cancel()}componentDidUpdate(e,t){this.state.termsText!==t.termsText&&(this.termsTextDiv.innerHTML=this.state.termsText,[].slice.call(this.termsTextDiv.querySelectorAll("a")).forEach((e=>{e.setAttribute("target","_blank"),e.classList.add("link")})))}render(){const{hideScrollbar:e,scrollClass:t}=this.state;return(0,c.jsxs)(k.Vq,Object.assign({className:m()("terms-modal","full-modal",t),theme:"dark",onClose:this.onClose},{children:[(0,c.jsx)(G.P,{theme:"dark",onClose:this.onClose}),(0,c.jsx)("div",Object.assign({id:"terms-wrapper"},{children:(0,c.jsx)(Ta,Object.assign({name:"terms",ref:e=>this.scrollbars=e,onScrollPositionChange:this.onScrollPositionChange,forceHidden:e},{children:(0,c.jsx)("div",{ref:e=>this.termsTextDiv=e,id:"terms-text"})}))}))]}))}}Aa.contextType=f.I;var Ia,ka=n(11642);!function(e){e.MAIL="mail",e.META="meta",e.PINTEREST="pinterest",e.LINKEDIN="linkedin",e.TWITTER="twitter",e.FACEBOOK="facebook",e.COPYLINK="copylink",e.NATIVE="native"}(Ia||(Ia={}));const{FACEBOOK:Pa,TWITTER:La,MAIL:Ra,META:Ca,PINTEREST:Da,LINKEDIN:Ma,COPYLINK:xa,NATIVE:ja}=Ia,Ua={[Ra]:"em",[Ca]:"mt",[Da]:"pn",[Ma]:"ln",[La]:"tw",[Pa]:"fb",[xa]:"cp",[ja]:"os"},Fa={[Pa]:{width:626,height:436},[La]:{width:550,height:440},[Da]:{width:750,height:749},[Ma]:{width:550,height:453},[xa]:{},[Ra]:{},[Ca]:{},[ja]:{}},Ha=async(e,t=!0)=>{let n;const i=await e.engine.getModuleBySymbol(Gr.DeepLinksModuleKey),s=["ref","gclid","fbclid","cloudEdit","back","note","comment","apiHost","applicationKey","host","sdkKey","tag"],r=e=>!s.includes(e);return n=t?i.creator.createDeepLink({paramFilter:r}):i.creator.createLink({paramFilter:r}),n.searchParams.forEach(((e,t)=>{(s.includes(t)||0===t.indexOf("utm_"))&&n.searchParams.delete(t)})),decodeURIComponent(n.href)},Va=e=>new URLSearchParams(e).toString(),Ba=(e,t,n)=>{const i=e.replace("?",`?ref=${Ua[Pa]}&`);return`http://www.facebook.com/sharer.php?${Va({display:"popup",u:i})}`},Ga=(e,t,n)=>{const i=e.replace("?",`?ref=${Ua[La]}&`),s={text:n.t(g.Z.SHARED_MESSAGE_HASHTAG,{title:t,url:i,hashtag:"#Matterport"})};return`http://twitter.com/intent/tweet?${Va(s)}`},Wa=(e,t,n)=>{const i=e.replace("?",`?ref=${Ua[Ra]}&`),s={subject:n.t(g.Z.SHARED_TITLE,{title:t}),body:n.t(g.Z.SHARED_MESSAGE,{title:t,url:i})};return`mailto:?${Va(s)}`},za=e=>{const t=e.replace("?",`?ref=${Ua[Ca]}&qs=1&`);return`https://www.oculus.com/open_url/?${Va({url:t})}`},Ka=(e,t,n,i)=>{const s={url:e.replace("?",`?ref=${Ua[Da]}&`),media:n,description:i.t(g.Z.SHARED_TITLE,{title:t})};return`http://pinterest.com/pin/create/link/?${Va(s)}`},Ya=(e,t,n)=>{const i=e.replace("?",`?ref=${Ua[Ma]}&`);return`https://www.linkedin.com/shareArticle?${Va({mini:"true",url:i})}`},qa=(e,t,n,i)=>({[Pa]:Ba(e),[La]:Ga(e,t,i),[Ra]:Wa(e,t,i),[Da]:Ka(e,t,n,i),[Ma]:Ya(e),[Ca]:za(e),[xa]:e,[ja]:e});var $a=n(44578),Za=n(40909),Qa=n(81456);const Xa=new _.Z("vr-select");class Ja extends r.Component{constructor(){super(...arguments),this.isUnmounting=!1,this.startWebXR=()=>{const{analytics:e,commandBinder:t}=this.context;t.issueCommand(new Qa.j({type:"immersive-vr",features:["local-floor"]})).then((t=>{if(t){e.trackGuiEvent("vr_enter_app");const n=()=>{e.trackGuiEvent("vr_exit_app"),t.removeEventListener("end",n)};t.addEventListener("end",n)}else Xa.error("requestPresent Failed"),e.trackGuiEvent("vr_present_error"),this.updatePlatformState()})).catch((t=>{Xa.error("requestPresent Failed:",t),e.trackGuiEvent("vr_present_error")}))}}async componentDidMount(){var e;$a.Z.apiExists()&&(null===(e=navigator.xr)||void 0===e||e.addEventListener("ondevicechange",this.updatePlatformState)),await this.updatePlatformState()}componentWillUnmount(){var e;this.isUnmounting=!0,$a.Z.apiExists()&&(null===(e=navigator.xr)||void 0===e||e.removeEventListener("ondevicechange",this.updatePlatformState))}async updatePlatformState(){const{settings:e}=this.context,t=e.tryGetProperty(Za.tK,Za.xK),n=await(0,ka.pl)(t);this.isUnmounting||(this.setState({vrPlatform:n}),Xa.debug(this.state))}}Ja.contextType=f.I;var eo=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const to=new _.Z("vr-select");let no=class extends Ja{constructor(e){super(e),this.renderHeadsetHeader=()=>{const{locale:e}=this.context,{vrPlatform:t}=this.state;switch(t){case ka.bk.unsupported:case ka.bk.webxr:return(0,c.jsxs)("div",Object.assign({className:"headset-header dark"},{children:[(0,c.jsxs)("span",Object.assign({className:"headset-titles"},{children:[(0,c.jsx)("p",{children:e.t(g.Z.VR_RECOMMENDED)}),(0,c.jsx)("p",{children:e.t(g.Z.VR_QUEST)})]})),(0,c.jsx)("img",{className:"headset-quest",src:n(35783),height:200,width:342})]}));default:return null}},this.renderBodyText=()=>{const{locale:e}=this.context,{vrPlatform:t}=this.state;switch(t){case ka.bk.unsupported:case ka.bk.webxr:return(0,c.jsx)("div",{children:(0,c.jsx)("p",{children:e.t(g.Z.VR_SUPPORTS)})});default:return null}},this.getFooterButtons=()=>{const{locale:e}=this.context,{vrPlatform:t,metaLink:n}=this.state,i=[];i.push((0,c.jsx)(k.zx,{variant:k.Wu.SECONDARY,className:m()("button-inline","cancel"),onClick:this.onLearnMoreClicked,label:e.t(g.Z.VR_LEARN_MORE_CAPS),size:"small"},"learn-more"));return t===ka.bk.webxr?i.push((0,c.jsx)(k.zx,{variant:k.Wu.PRIMARY,onClick:this.onActionClicked,label:e.t(g.Z.VR_ENTER),size:"small"},"enter-vr")):i.push((0,c.jsx)(k.zx,{variant:k.Wu.PRIMARY,disabled:!n,onClick:this.onMetaDeepLinkClicked,label:e.t(g.Z.VR_META_LINK),size:"small"},"enter-vr")),(0,c.jsx)(k.hE,Object.assign({spacing:"small"},{children:i}))},this.closeModal=()=>{this.context.commandBinder.issueCommand(new Ae.B(Ne.P.VR_SELECT,!1))},this.onCloseClicked=()=>{this.context.analytics.trackGuiEvent("vr_modal_close"),this.closeModal()},this.onActionClicked=()=>{switch(this.state.vrPlatform){case ka.bk.webxr:this.startWebXR(),this.closeModal()}},this.onMetaDeepLinkClicked=()=>{this.state.metaLink&&(window.open(this.state.metaLink,"_blank"),this.context.analytics.trackGuiEvent("vr_meta_link"))},this.onLearnMoreClicked=()=>{window.open("https://support.matterport.com/hc/en-us/articles/360050098973-Exploring-Matterport-Spaces-in-VR-","_blank"),this.context.analytics.trackGuiEvent("vr_learn_more")},this.state={vrPlatform:null,metaLink:null}}async componentDidMount(){await super.componentDidMount(),this.updateUrls(),this.context.analytics.trackGuiEvent("click_vr_button")}render(){const{isMobile:e}=this.props,{locale:t}=this.context,n=m()("vr-modal","full-modal",{mobile:e,desktop:!e});return(0,c.jsxs)(k.Vq,Object.assign({className:n,onClose:this.onCloseClicked},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:t.t(g.Z.VR_VIEW_SPACE)})),(0,c.jsx)(G.P,{onClose:this.onCloseClicked})]})),this.renderHeadsetHeader(),(0,c.jsx)("div",Object.assign({className:"modal-body"},{children:this.renderBodyText()})),(0,c.jsx)("div",Object.assign({className:"modal-footer"},{children:this.getFooterButtons()}))]}))}async updateUrls(){const[e]=await Promise.all([Ha(this.context,!0)]),t=qa(e,"","",this.context.locale);to.debug("Social Share URLs, with current location",t),this.isUnmounting||this.setState({metaLink:t.meta})}};no=eo([Tt.Z],no);const io=no;var so=n(5332);const ro=(0,pe.u)(so.W);class ao extends r.Component{render(){const{isMobile:e}=this.props,{locale:t}=this.context;return(0,c.jsx)("div",Object.assign({className:"cta"},{children:(0,c.jsx)("header",Object.assign({className:m()({mobile:e})},{children:t.t(e?g.Z.MOBILE_SHORT_CTA:g.Z.DESKTOP_SHORT_CTA)}))}))}}ao.contextType=f.I;const oo={mouse:{click:n(24267),clickInside:n(16554),dragLeft:n(9328),dragRight:n(62002),play:n(8590),positionLeft:n(80208),positionRight:n(75974),zoom:n(5512)},gesture:{drag:n(37161),dragTwoFinger:n(61406),pinch:n(33948),position:n(79264),positionTwoFinger:n(88446),tap:n(44625),tapInside:n(92842),play:n(31603)},keyboard:{all:n(92116),inside:n(71964),leftRight:n(90047),spaceBar:n(130),upDown:n(41922),zoom:n(44889)},moreHelp:{view360:n(61163),mattertag:n(68026)}},{HELP:lo}=g.Z.SHOWCASE;class co extends r.Component{constructor(){super(...arguments),this.keys={header:g.Z.DESKTOP_SHORT_CTA,tourHeader:g.Z.CTA_TOUR_COMPLETE,tourSubhead:g.Z.CTA_EXPLORE_SPACE,restartTour:g.Z.CTA_RESTART_TOUR,share:g.Z.CTA_SHARE,move:g.Z.MOVE,inside:g.Z.INSIDE,rotate:g.Z.ROTATE,play:g.Z.PLAY,zoom:g.Z.ZOOM},this.clickInside={Icon:oo.mouse.clickInside,Label:this.keys.inside,FooterIcon:oo.keyboard.inside,Alt:lo.ALT_MOUSE_CLICKINSIDE,FooterAlt:lo.ALT_KEYBOARD_INSIDE},this.clickMove={Icon:oo.mouse.positionRight,Label:this.keys.move,FooterIcon:"",Alt:lo.ALT_MOUSE_POSITIONRIGHT},this.moveUpDown={Icon:oo.mouse.click,Label:this.keys.move,FooterIcon:oo.keyboard.upDown,Alt:lo.ALT_MOUSE_CLICK,FooterAlt:lo.ALT_KEYBOARD_UPDOWN},this.play={Icon:oo.mouse.play,Label:this.keys.play,FooterIcon:null,Alt:lo.ALT_MOUSE_PLAY},this.zoom={Icon:oo.mouse.zoom,Label:this.keys.zoom,FooterIcon:oo.keyboard.zoom,Alt:lo.ALT_MOUSE_ZOOM,FooterAlt:lo.ALT_KEYBOARD_ZOOM},this.dragMove={Icon:oo.mouse.positionLeft,Label:this.keys.move,FooterIcon:null,Alt:lo.ALT_MOUSE_POSITIONLEFT},this.dragRotateLeft={Icon:oo.mouse.dragLeft,Label:this.keys.rotate,FooterIcon:oo.keyboard.leftRight,Alt:lo.ALT_MOUSE_DRAGLEFT,FooterAlt:lo.ALT_KEYBOARD_LEFTRIGHT},this.dragRotateRight={Icon:oo.mouse.dragRight,Label:this.keys.rotate,FooterIcon:oo.keyboard.leftRight,Alt:lo.ALT_MOUSE_DRAGRIGHT,FooterAlt:lo.ALT_KEYBOARD_LEFTRIGHT},this.left=this.clickInside,this.center=this.clickMove,this.right=this.play,this.close=async()=>{const{commandBinder:e}=this.context;await e.issueCommand(new Ae.B(Ne.P.CTA,!1))},this.restartTour=async()=>{const{commandBinder:e}=this.context;this.context.analytics.trackGuiEvent("restart_highlights_from_cta"),this.close(),await e.issueCommand(new T.rU(0,!0)),e.issueCommand(new T.TH)},this.share=async()=>{const{commandBinder:e}=this.context;this.context.analytics.trackGuiEvent("click_share_button_from_cta"),this.close(),e.issueCommand(new Ae.B(Ne.P.SHARE,!0))}}render(){const{viewmode:e,isHelpCta:t,shareEnabled:n}=this.props,{locale:i}=this.context;this.configureViewmodeSpecifics(e);const s=i.t(t?this.keys.header:this.keys.tourHeader),r=t?"":i.t(this.keys.tourSubhead),a=i.t(g.Z.CTA_SHARE),o=i.t(g.Z.CTA_RESTART_TOUR);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",Object.assign({className:m()({cta:!0})},{children:[(0,c.jsxs)("header",{children:[s,(0,c.jsx)("div",Object.assign({className:"subhead"},{children:r}))]}),(0,c.jsx)("img",{src:this.left.Icon,alt:this.left.Alt}),(0,c.jsx)("h2",{children:i.t(this.left.Label)}),this.left.FooterIcon?(0,c.jsx)("img",{className:"footer-icon",src:this.left.FooterIcon,alt:this.left.FooterAlt}):(0,c.jsx)("span",{}),(0,c.jsx)("img",{src:this.center.Icon,alt:this.center.Alt}),(0,c.jsx)("h2",{children:i.t(this.center.Label)}),this.center.FooterIcon?(0,c.jsx)("img",{className:"footer-icon",src:this.center.FooterIcon,alt:this.center.FooterAlt}):(0,c.jsx)("span",{}),(0,c.jsx)("img",{src:this.right.Icon,alt:this.right.Alt}),(0,c.jsx)("h2",{children:i.t(this.right.Label)}),this.right.FooterIcon?(0,c.jsx)("img",{className:"footer-icon",src:this.right.FooterIcon,alt:this.right.FooterAlt}):(0,c.jsx)("span",{})]})),(0,c.jsx)(k.zx,{className:"close-button",theme:"dark",icon:"close",variant:k.Wu.TERTIARY,onClick:this.close}),!t&&(0,c.jsxs)("div",Object.assign({className:"footer"},{children:[(0,c.jsx)(k.zx,{onClick:this.restartTour,theme:"dark",label:o,icon:"restart",variant:k.Wu.TERTIARY}),n&&(0,c.jsx)(k.zx,{className:"share",theme:"dark",label:a,icon:"share2",variant:k.Wu.SECONDARY,onClick:this.share})]}))]})}configureViewmodeSpecifics(e){switch(e){case S.BD.INSIDE:this.left=this.dragRotateLeft,this.center=this.moveUpDown,this.right=this.props.isHelpCta?this.play:this.zoom;break;case S.BD.OUTSIDE:case S.BD.DOLLHOUSE:this.left=this.dragRotateLeft,this.center=this.clickMove,this.right=this.clickInside;break;case S.BD.FLOORPLAN:this.left=this.dragMove,this.center=this.dragRotateRight,this.right=this.clickInside}}}co.contextType=f.I;const{HELP:uo}=g.Z.SHOWCASE;class ho extends r.Component{constructor(){super(...arguments),this.keys={shortCta:g.Z.MOBILE_SHORT_CTA,tourHeader:g.Z.CTA_TOUR_COMPLETE,tourSubhead:g.Z.CTA_EXPLORE_SPACE,move:g.Z.MOVE,inside:g.Z.INSIDE,rotate:g.Z.ROTATE,play:g.Z.PLAY,zoom:g.Z.ZOOM},this.clickInside={Icon:oo.gesture.tapInside,Label:this.keys.inside,Alt:uo.ALT_GESTURE_TAPINSIDE},this.clickMove={Icon:oo.gesture.tap,Label:this.keys.move,Alt:uo.ALT_GESTURE_TAP},this.dragRotate={Icon:oo.gesture.drag,Label:this.keys.rotate,Alt:uo.ALT_GESTURE_DRAG},this.dragMove={Icon:oo.gesture.position,Label:this.keys.move,Alt:uo.ALT_GESTURE_POSITION},this.play={Icon:oo.gesture.play,Label:this.keys.play,Alt:uo.ALT_GESTURE_PLAY},this.zoom={Icon:oo.gesture.pinch,Label:this.keys.zoom,Alt:uo.ALT_GESTURE_PINCH},this.left=this.dragRotate,this.center=this.clickInside,this.right=this.play}render(){const e=m()({mobile:!0}),{viewmode:t,isHelpCta:n}=this.props,{locale:i}=this.context;this.configureViewmodeSpecifics(t);const s=i.t(n?this.keys.shortCta:this.keys.tourHeader),r=n?"":i.t(this.keys.tourSubhead);return(0,c.jsxs)("div",Object.assign({className:m()({cta:!0,mobile:!0})},{children:[(0,c.jsxs)("header",Object.assign({className:e},{children:[s,(0,c.jsx)("div",Object.assign({className:"subhead"},{children:r}))]})),(0,c.jsx)("h2",Object.assign({className:e},{children:i.t(this.left.Label)})),(0,c.jsx)("img",{src:this.left.Icon}),(0,c.jsx)("h2",Object.assign({className:e},{children:i.t(this.center.Label)})),(0,c.jsx)("img",{src:this.center.Icon}),(0,c.jsx)("h2",Object.assign({className:e},{children:i.t(this.right.Label)})),(0,c.jsx)("img",{src:this.right.Icon})]}))}configureViewmodeSpecifics(e){switch(e){case S.BD.INSIDE:this.left=this.dragRotate,this.center=this.clickMove,this.right=this.props.isHelpCta?this.zoom:this.play;break;case S.BD.DOLLHOUSE:case S.BD.OUTSIDE:this.left=this.dragRotate,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play;break;case S.BD.FLOORPLAN:this.left=this.dragMove,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play}}}var po;ho.contextType=f.I,function(e){e[e.NONE=0]="NONE",e[e.LARGE=1]="LARGE",e[e.SMALL=2]="SMALL"}(po||(po={}));const mo="cta-seen";function fo(e){const{commandBinder:t,settings:n}=(0,r.useContext)(f.I),{touchDevice:i,viewmode:s,shareEnabled:a}=e,o=Se(),l=-1!==Be("ts",-1),d=Be("tourcta",1),u=(0,b.p)(po,d)?d:po.LARGE,h=!!u&&o>0,[p,g]=(0,r.useState)(h&&l),v=Be("help",0),y=(0,b.p)(po,v)?v:po.NONE,E=(0,B.y)(mo,!1),S=E?po.NONE:p?u:y,[O,T]=(0,r.useState)(S),_=(0,Sn.R)(),[w,N]=(0,r.useState)(_===Ne.P.CTA),A=()=>{t.issueCommand(new Ae.B(Ne.P.CTA,!1)),N(!1)},I=function(){const e=ro();return(null==e?void 0:e.canvas)||null}();if((0,r.useEffect)((()=>(I&&(I.addEventListener("mousedown",A),I.addEventListener("pointerdown",A),I.addEventListener("touchstart",A)),()=>{I&&(I.removeEventListener("mousedown",A),I.removeEventListener("pointerdown",A),I.removeEventListener("touchstart",A))})),[]),(0,ae.U)(we.Mt,(()=>{!E&&h&&(g(!0),T(u),t.issueCommand(new Ae.B(Ne.P.CTA,!0)))})),(0,r.useEffect)((()=>{const e=_===Ne.P.CTA;N(e),e&&n.setProperty(mo,!0)}),[_]),O===po.NONE)return null;const k=O===po.SMALL,P=!k&&!i,L=!k&&i,R={mobile:i,small:k,helpCta:!p};return(0,c.jsx)(Ie.N,Object.assign({open:w,className:m()("modal-background","dark-modal-background",{open:w})},{children:(0,c.jsxs)("div",Object.assign({className:m()("modal","ctaContainer",R)},{children:[k&&(0,c.jsx)(ao,{isMobile:i}),P&&(0,c.jsx)(co,{viewmode:s,isHelpCta:!p,shareEnabled:a}),L&&(0,c.jsx)(ho,{viewmode:s,isHelpCta:!p,shareEnabled:a})]}))}))}var go,vo,bo,yo,Eo,So;!function(e){e[e.navigation=0]="navigation",e[e.moreHelp=1]="moreHelp"}(go||(go={})),function(e){e.left="left",e.middle="middle",e.right="right"}(vo||(vo={})),function(e){e.topInfo="topInfo",e.bigImage="bigImage",e.bottomInfo="bottomInfo",e.keyboard="keyboard"}(bo||(bo={})),function(e){e.desktop="desktop",e.mobile="mobile"}(yo||(yo={})),function(e){e.hlr="hlr",e.dollhouse="dollhouse",e.floors="floors",e.mattertag="mattertag",e.floorplan="floorplan",e.tour="tour",e.inside="inside",e.vr="vr",e.view360="view360",e.fullscreen="fullscreen"}(Eo||(Eo={})),function(e){e.landscape="landscape",e.portrait="portrait"}(So||(So={}));const{HELP:Oo}=g.Z.SHOWCASE,To={[yo.desktop]:{[vo.left]:{[bo.topInfo]:"HELP_DESKTOP_PANORAMA_1A",[bo.bottomInfo]:"HELP_DESKTOP_PANORAMA_1B",[bo.bigImage]:{img:oo.mouse.dragLeft,alt:Oo.ALT_MOUSE_DRAGLEFT},[bo.keyboard]:{img:oo.keyboard.leftRight,alt:Oo.ALT_KEYBOARD_LEFTRIGHT}},[vo.middle]:{[bo.topInfo]:"HELP_DESKTOP_PANORAMA_2A",[bo.bottomInfo]:"HELP_DESKTOP_PANORAMA_2B",[bo.bigImage]:{img:oo.mouse.click,alt:Oo.ALT_MOUSE_CLICK},[bo.keyboard]:{img:oo.keyboard.upDown,alt:Oo.ALT_KEYBOARD_UPDOWN}},[vo.right]:{[bo.topInfo]:"HELP_DESKTOP_PANORAMA_3A",[bo.bottomInfo]:"HELP_DESKTOP_PANORAMA_3B",[bo.bigImage]:{img:oo.mouse.zoom,alt:Oo.ALT_MOUSE_ZOOM},[bo.keyboard]:{img:oo.keyboard.zoom,alt:Oo.ALT_KEYBOARD_ZOOM}}},[yo.mobile]:{[vo.left]:{[bo.topInfo]:"HELP_MOBILE_PANORAMA_1",[bo.bigImage]:{img:oo.gesture.drag,alt:Oo.ALT_GESTURE_DRAG}},[vo.middle]:{[bo.topInfo]:"HELP_MOBILE_PANORAMA_2",[bo.bigImage]:{img:oo.gesture.tap,alt:Oo.ALT_GESTURE_TAP}},[vo.right]:{[bo.topInfo]:"HELP_MOBILE_3",[bo.bigImage]:{img:oo.gesture.pinch,alt:Oo.ALT_GESTURE_PINCH}}}},_o={[yo.desktop]:{[vo.left]:{[bo.topInfo]:"HELP_DESKTOP_DOLLHOUSE_1A",[bo.bottomInfo]:"HELP_DESKTOP_DOLLHOUSE_1B",[bo.bigImage]:{img:oo.mouse.dragLeft,alt:Oo.ALT_MOUSE_DRAGLEFT},[bo.keyboard]:{img:oo.keyboard.all,alt:Oo.ALT_KEYBOARD_ALL}},[vo.middle]:{[bo.topInfo]:"HELP_DESKTOP_DOLLHOUSE_2A",[bo.bigImage]:{img:oo.mouse.positionRight,alt:Oo.ALT_MOUSE_POSITIONRIGHT}},[vo.right]:{[bo.topInfo]:"HELP_DESKTOP_DOLLHOUSE_3A",[bo.bigImage]:{img:oo.mouse.zoom,alt:Oo.ALT_MOUSE_ZOOM}}},[yo.mobile]:{[vo.left]:{[bo.topInfo]:"HELP_MOBILE_DOLLHOUSE_1",[bo.bigImage]:{img:oo.gesture.drag,alt:Oo.ALT_GESTURE_DRAG}},[vo.middle]:{[bo.topInfo]:"HELP_MOBILE_DOLLHOUSE_2",[bo.bigImage]:{img:oo.gesture.positionTwoFinger,alt:Oo.ALT_GESTURE_POSITIONTWOFINGER}},[vo.right]:{[bo.topInfo]:"HELP_MOBILE_3",[bo.bigImage]:{img:oo.gesture.pinch,alt:Oo.ALT_GESTURE_PINCH}}}},wo={[yo.desktop]:{[vo.left]:{[bo.topInfo]:"HELP_DESKTOP_FLOORPLAN_1A",[bo.bigImage]:{img:oo.mouse.positionLeft,alt:Oo.ALT_MOUSE_POSITIONLEFT}},[vo.middle]:{[bo.topInfo]:"HELP_DESKTOP_FLOORPLAN_2A",[bo.bottomInfo]:"HELP_DESKTOP_FLOORPLAN_2B",[bo.bigImage]:{img:oo.mouse.dragRight,alt:Oo.ALT_MOUSE_DRAGRIGHT},[bo.keyboard]:{img:oo.keyboard.leftRight,alt:Oo.ALT_KEYBOARD_LEFTRIGHT}},[vo.right]:{[bo.topInfo]:"HELP_DESKTOP_FLOORPLAN_3A",[bo.bottomInfo]:"HELP_DESKTOP_FLOORPLAN_3B",[bo.bigImage]:{img:oo.mouse.zoom,alt:Oo.ALT_MOUSE_ZOOM},[bo.keyboard]:{img:oo.keyboard.upDown,alt:Oo.ALT_KEYBOARD_UPDOWN}}},[yo.mobile]:{[vo.left]:{[bo.topInfo]:"HELP_MOBILE_FLOORPLAN_1",[bo.bigImage]:{img:oo.gesture.position,alt:Oo.ALT_GESTURE_POSITION}},[vo.middle]:{[bo.topInfo]:"HELP_MOBILE_FLOORPLAN_2",[bo.bigImage]:{img:oo.gesture.dragTwoFinger,alt:Oo.ALT_GESTURE_DRAGTWOFINGER}},[vo.right]:{[bo.topInfo]:"HELP_MOBILE_3",[bo.bigImage]:{img:oo.gesture.pinch,alt:Oo.ALT_GESTURE_PINCH}}}},No=JSON.parse(JSON.stringify(To));No.desktop.middle={[bo.topInfo]:"HELP_DESKTOP_360_2A",[bo.bottomInfo]:"HELP_DESKTOP_360_2B",[bo.bigImage]:{img:oo.mouse.clickInside,alt:Oo.ALT_MOUSE_CLICKINSIDE},[bo.keyboard]:{img:oo.keyboard.inside,alt:Oo.ALT_KEYBOARD_INSIDE}},No.mobile.middle={[bo.topInfo]:"HELP_MOBILE_360_2",[bo.bigImage]:{img:oo.gesture.tapInside,alt:Oo.ALT_GESTURE_TAPINSIDE}};const Ao={INSIDE:To,OUTSIDE:No,FLOORPLAN:wo,DOLLHOUSE:_o};var Io=n(66594),ko=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Po=class extends r.Component{constructor(e){super(e),this.state={overflow:!1}}UNSAFE_componentWillReceiveProps(e){(this.navigationDiv&&this.navigationDiv.clientHeight||0)/(this.navigationDiv.parentElement&&this.navigationDiv.parentElement.clientHeight||1)>.7&&this.setState({overflow:!0})}getAssetObj(e){switch(e){case this.props.Modes.DOLLHOUSE:return Ao.DOLLHOUSE[this.props.device];case this.props.Modes.FLOORPLAN:return Ao.FLOORPLAN[this.props.device];case this.props.Modes.OUTSIDE:return Ao.OUTSIDE[this.props.device];case this.props.Modes.INSIDE:default:return Ao.INSIDE[this.props.device]}}buildRows(){const e=this.getAssetObj(this.props.viewmode),t=[];for(const n in bo){const i=[],s=[];for(const t in vo)if(i.push(this.wrapAsset(e,t,n,!1)),n===bo.bigImage){const i=!e[t][bo.bottomInfo];s.push((0,c.jsx)("div",Object.assign({className:m()(t,"column",{noDivider:i})},{children:(0,c.jsx)("hr",{})}),`${n}_${t}_divider_row`))}t.push((0,c.jsx)("div",Object.assign({className:m()(n,"row")},{children:i}),`${n}_vertical_row`))}return t}buildMobilePortrait(){const e=this.getAssetObj(this.props.viewmode),t=[];for(const n in e)for(const i in e[n])t.push(this.wrapAsset(e,n,i,!0));return t}wrapAsset(e,t,n,i){const s=e[t][n],r=n===bo.bigImage||n===bo.keyboard,a=s?s.img:void 0,o=s&&s.alt?this.context.locale.t(s.alt):void 0,l=(0,c.jsx)("img",{src:a,alt:o});return(0,c.jsx)("div",Object.assign({className:i?m()(n,"row"):m()(t,"column")},{children:s&&r?l:s&&this.context.locale.t(s)}),`wrapped_asset_${t}_${n}`)}render(){const e=this.props.device===yo.mobile&&this.props.orientation===Io.t.PORTRAIT,t=m()("navigation",this.props.viewmode,{small:this.state.overflow});return(0,c.jsx)("div",Object.assign({className:t,ref:e=>{this.navigationDiv=e}},{children:e?(0,c.jsx)(Ta,Object.assign({name:"navigation",forceHidden:!1},{children:(0,c.jsx)("div",Object.assign({className:"nav-wrapper"},{children:this.buildMobilePortrait()}))})):this.buildRows()}))}};Po.contextType=f.I,Po=ko([Tt.Z],Po);const Lo=Po,Ro={[Eo.hlr]:{[bo.topInfo]:"HELP_MORE_HLR_A",[bo.bigImage]:"icon-hlr",[bo.bottomInfo]:"HELP_DESKTOP_MORE_HLR_B"},[Eo.dollhouse]:{[bo.topInfo]:"HELP_MORE_DOLLHOUSE_A",[bo.bigImage]:"icon-dollhouse",[bo.bottomInfo]:"HELP_MOBILE_MORE_DOLLHOUSE_B"},[Eo.floors]:{[bo.topInfo]:"HELP_MORE_FLOORS_A",[bo.bigImage]:"icon-floor-controls",[bo.bottomInfo]:"HELP_DESKTOP_MORE_FLOORS_B"},[Eo.mattertag]:{[bo.topInfo]:"HELP_MORE_MATTERTAG_A",[bo.bigImage]:oo.moreHelp.mattertag,[bo.bottomInfo]:"HELP_MOBILE_MORE_MATTERTAG_B"},[Eo.tour]:{[bo.topInfo]:"HELP_MORE_TOUR_A",[bo.bigImage]:"icon-play",[bo.bottomInfo]:"HELP_DESKTOP_MORE_TOUR_B"},[Eo.inside]:{[bo.topInfo]:"HELP_MORE_INSIDE_A",[bo.bigImage]:"icon-panorama",[bo.bottomInfo]:"HELP_MOBILE_MORE_INSIDE_B"},[Eo.vr]:{[bo.topInfo]:"HELP_MORE_VR_A",[bo.bigImage]:"icon-vr",[bo.bottomInfo]:"HELP_MOBILE_MORE_VR_B"},[Eo.view360]:{[bo.topInfo]:"HELP_MORE_360_A",[bo.bigImage]:oo.moreHelp.view360,[bo.bottomInfo]:"HELP_MOBILE_MORE_360_B"},[Eo.floorplan]:{[bo.topInfo]:"HELP_MORE_FLOORPLAN_A",[bo.bigImage]:"icon-floorplan",[bo.bottomInfo]:"HELP_MOBILE_FLOORPLAN_B"}},Co=JSON.parse(JSON.stringify(Ro));Co[Eo.fullscreen]={[bo.topInfo]:"HELP_MORE_FULLSCREEN_A",[bo.bigImage]:"icon-fullscreen",[bo.bottomInfo]:"HELP_DESKTOP_MORE_FULLSCREEN_B"},Co[Eo.dollhouse][bo.bottomInfo]="HELP_DESKTOP_MORE_DOLLHOUSE_B",Co[Eo.mattertag][bo.bottomInfo]="HELP_DESKTOP_MORE_MATTERTAG_B",Co[Eo.inside][bo.bottomInfo]="HELP_DESKTOP_MORE_INSIDE_B",Co[Eo.vr][bo.bottomInfo]="HELP_DESKTOP_MORE_VR_B",Co[Eo.view360][bo.bottomInfo]="HELP_DESKTOP_MORE_360_B",Co[Eo.floorplan][bo.bottomInfo]="HELP_DESKTOP_FLOORPLAN_B";const Do={[yo.desktop]:Co,[yo.mobile]:Ro},Mo=[bo.topInfo,bo.bigImage,bo.bottomInfo];class xo extends r.Component{constructor(e){super(e),this.scrollbarsRef=(0,r.createRef)()}componentDidMount(){const e=this.scrollbarsRef.current;e&&e.scrollTo({x:0,y:0})}buildInstructions(){const e=[],t=this.props.device===yo.desktop?5:this.props.orientation===Io.t.LANDSCAPE?3:2,n=Object.keys(Do[this.props.device]);for(let i=0;i<n.length;i+=t){for(const s of Mo){const r=[];for(let e=0;e<t;e++){if(i+e>=n.length)continue;const t=Do[this.props.device][n[i+e]][s],a=m()(s,n[i+e],{noAsset:!t}),o=`${i}_${s}_${e}`;switch(s){case bo.topInfo:r.push((0,c.jsx)("div",Object.assign({className:a},{children:this.context.locale.t(t)}),`${o}_top_info`));break;case bo.bigImage:r.push((0,c.jsx)("div",Object.assign({className:a},{children:t.indexOf(".png")>-1?(0,c.jsx)("img",{src:t}):(0,c.jsx)("span",Object.assign({className:t},{children:"floors"===n[i+e]?(0,c.jsx)("span",{children:"2"}):null}))}),`${o}_big_img`));break;case bo.bottomInfo:r.push((0,c.jsx)("div",Object.assign({className:a},{children:this.context.locale.t(t)}),`${o}_bottom_info`))}}e.push((0,c.jsx)("div",Object.assign({className:m()("innerRow",s)},{children:r}),`${i}_${s}_top_info`))}e.push((0,c.jsx)("div",{className:"rowPadding"},`${i}_row_padding`))}return e.pop(),e}render(){return(0,c.jsx)("div",Object.assign({className:m()("more-help-wrapper",this.props.device)},{children:(0,c.jsx)(Ta,Object.assign({name:"more-help-wrapper",ref:this.scrollbarsRef,forceHidden:!1},{children:(0,c.jsx)("div",Object.assign({className:m()("more-help")},{children:this.buildInstructions()}))}))}))}}xo.contextType=f.I;var jo=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Uo=class extends r.Component{constructor(e,t){var n,i;super(e,t),this.isUnmounting=!1,this.handleTabClick=e=>()=>{this.setState({tab:e})},this.closeHelp=()=>{this.context.commandBinder.issueCommand(new Ae.B(Ne.P.HELP,!1))},this.device=this.props.isMobile?yo.mobile:yo.desktop,this.state={tab:go.navigation,orientation:null!==(i=null===(n=t.market.tryGetData(It.V))||void 0===n?void 0:n.orientation)&&void 0!==i?i:Io.t.LANDSCAPE}}componentDidMount(){this.context.market.waitForData(It.V).then((e=>{this.isUnmounting||(this.orientationSubscription=e.onPropertyChanged("orientation",(e=>{this.setState({orientation:e})})))}))}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.orientationSubscription)||void 0===e||e.cancel()}render(){const{tab:e,orientation:t}=this.state;return(0,c.jsxs)(k.Vq,Object.assign({className:m()("full-modal","help-modal",this.device),theme:"dark",onClose:this.closeHelp},{children:[(0,c.jsx)(G.P,{theme:"dark",onClose:this.closeHelp}),(0,c.jsxs)("div",Object.assign({className:m()("tabs",e)},{children:[(0,c.jsx)("div",Object.assign({className:m()("navigation-tab",{active:e===go.navigation}),onClick:this.handleTabClick(go.navigation)},{children:(0,c.jsx)("span",{children:this.context.locale.t(g.Z.HELP_NAVIGATION_TAB)})})),(0,c.jsx)("div",Object.assign({className:m()("more-help-tab",{active:e===go.moreHelp}),onClick:this.handleTabClick(go.moreHelp)},{children:(0,c.jsx)("span",{children:this.context.locale.t(g.Z.HELP_MORE_HELP_TAB)})}))]})),e===go.navigation&&(0,c.jsx)(Lo,{device:this.device,Modes:this.props.allModes,viewmode:this.props.viewmode,orientation:t}),e===go.moreHelp&&(0,c.jsx)(xo,{device:this.device,orientation:t})]}))}};Uo.contextType=f.I,Uo=jo([Tt.Z],Uo);const Fo=Uo;var Ho=n(53954);const Vo=new _.Z("share-modal");class Bo extends r.Component{constructor(e){super(e),this.isUnmounting=!1,this.copyURL=()=>{const{deeplink:e}=this.state,t=this.urlInputRef;if(t){const n=new URL(t.value);n.hash="",(0,Br.v)(n.toString()),this.setState({copied:!0}),this.context.analytics.track("showcase_share_action",{channel:Ia.COPYLINK,pano_id:this.sweepData.currentSweep,deeplink:e}),window.setTimeout((()=>{this.setState({copied:!1})}),2500)}},this.toggleDeeplinks=()=>{const{deeplink:e}=this.state;this.setState({deeplink:!e})},this.close=()=>{this.context.commandBinder.issueCommand(new Ae.B(Ne.P.SHARE,!1))},this.openShareWindow=e=>{const{urls:t,deeplink:n,deeplinkUrls:i}=this.state,{width:s,height:r}=Fa[e],a=n?i[e]:t[e];let o;if(s&&r){o="top="+(window.screenY+(window.innerHeight-r)/2)+",left="+(window.screenX+(window.innerWidth-s)/2)+",width="+s+",height="+r}this.context.analytics.track("showcase_share_action",{channel:e,pano_id:this.sweepData.currentSweep,deeplink:n}),window.open(a,"",o)},this.openWebShareApi=e=>{if(!navigator.share)return;const{excerpt:t,title:n,urls:i,deeplinkUrls:s}=this.state,r={url:e?s[Ia.COPYLINK]:i[Ia.COPYLINK],text:t,title:n};Vo.debug("Launching Web Share API",r),navigator.share(r),this.context.analytics.track("showcase_share_action",{channel:Ia.NATIVE,pano_id:this.sweepData.currentSweep,deeplink:e})},this.onWebShareClick=()=>{this.openWebShareApi(!1)},this.onWebShareDeeplinkClick=()=>{this.openWebShareApi(!0)},this.setUrlInputRef=e=>{this.urlInputRef=e},this.state={urls:{},deeplinkUrls:{},title:"",excerpt:"",image:"",copied:!1,deeplink:!1,webShareEnabled:(0,bt.J1)()},this.openFacebook=this.openShareWindow.bind(this,Ia.FACEBOOK),this.openTwitter=this.openShareWindow.bind(this,Ia.TWITTER),this.openPinterest=this.openShareWindow.bind(this,Ia.PINTEREST),this.openLinkedIn=this.openShareWindow.bind(this,Ia.LINKEDIN),this.openEmail=this.openShareWindow.bind(this,Ia.MAIL)}async componentDidMount(){const{market:e}=this.context,[t,n]=await Promise.all([e.waitForData(wn.T),e.waitForData(Ho.Z)]);this.sweepData=n;const i=t.model,s=`${window.location.origin}/api/v1/player/models/${i.sid}/thumb`,r=i.details.name;this.isUnmounting||this.setState({title:r,image:s},this.updateUrls)}componentWillUnmount(){this.isUnmounting=!0}async updateUrls(){const{title:e,image:t}=this.state,[n,i]=await Promise.all([Ha(this.context,!1),Ha(this.context,!0)]),s=qa(n,e,t,this.context.locale),r=qa(i,e,t,this.context.locale);Vo.debug("Social Share URLs:",s),Vo.debug("Social Share URLs, with current location",r),this.isUnmounting||this.setState({urls:s,deeplinkUrls:r})}renderWebShareDialog(){return(0,c.jsxs)("div",Object.assign({className:"share-controls"},{children:[(0,c.jsx)(k.zx,{className:"share-modal-button",variant:k.Wu.PRIMARY,size:k.qE.LARGE,onClick:this.onWebShareDeeplinkClick,label:this.context.locale.t(g.Z.SHARE_CURRENT_LOCATION)}),(0,c.jsx)(k.zx,{className:"share-modal-button",variant:k.Wu.SECONDARY,size:k.qE.LARGE,onClick:this.onWebShareClick,label:this.context.locale.t(g.Z.SHARE_DEFAULT_LOCATION)})]}))}renderShareDialog(){const{copied:e,deeplink:t,urls:n,deeplinkUrls:i}=this.state,{locale:s}=this.context,r=t?i[Ia.COPYLINK]:n[Ia.COPYLINK],a=this.sweepData&&this.sweepData.isSweepDisabled(),o=a?s.t(g.Z.SHARE_ERROR_SWEEP_DISABLED):void 0;return(0,c.jsxs)("div",Object.assign({className:"share-controls"},{children:[(0,c.jsxs)("div",Object.assign({className:"social-icons"},{children:[(0,c.jsx)(k.zx,{onClick:this.openFacebook,icon:"facebook",variant:k.Wu.FAB,size:"large",theme:"dark",ariaLabel:s.t(g.Z.SHARE_FACEBOOK)}),(0,c.jsx)(k.zx,{onClick:this.openTwitter,icon:"twitter",variant:k.Wu.FAB,size:"large",theme:"dark",ariaLabel:s.t(g.Z.SHARE_TWITTER)}),(0,c.jsx)(k.zx,{onClick:this.openLinkedIn,icon:"linkedin",variant:k.Wu.FAB,size:"large",theme:"dark",ariaLabel:s.t(g.Z.SHARE_LINKEDIN)}),(0,c.jsx)(k.zx,{onClick:this.openPinterest,icon:"pinterest",variant:k.Wu.FAB,size:"large",theme:"dark",ariaLabel:s.t(g.Z.SHARE_PINTEREST)}),(0,c.jsx)(k.zx,{onClick:this.openEmail,icon:"email",variant:k.Wu.FAB,size:"large",theme:"dark",ariaLabel:s.t(g.Z.SHARE_MAIL)})]})),(0,c.jsxs)("div",Object.assign({className:"input-group"},{children:[(0,c.jsx)("input",{className:"input",type:"text",value:r||"",ref:this.setUrlInputRef,readOnly:!0}),(0,c.jsx)(k.zx,{className:"input-addon",variant:k.Wu.SECONDARY,onClick:this.copyURL,label:this.context.locale.t(g.Z.COPY),tooltip:e?this.context.locale.t(g.Z.SHARE_COPIED):this.context.locale.t(g.Z.COPY_URL)})]})),(0,c.jsx)(k.XZ,{defaultChecked:t,disabled:a,label:this.context.locale.t(g.Z.SHARE_LINK_TO_LOCATION),onChange:this.toggleDeeplinks}),a&&(0,c.jsx)("p",Object.assign({className:"error-message"},{children:o}))]}))}render(){const{webShareEnabled:e}=this.state,t=m()("share-modal","modal-dialog",{"share-dialog":!e,"web-share-dialog":e}),n=e?this.renderWebShareDialog():this.renderShareDialog();return(0,c.jsxs)(k.Vq,Object.assign({className:t,onClose:this.close},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:this.context.locale.t(g.Z.SHARE_MODAL_TITLE)})),(0,c.jsx)(G.P,{onClose:this.close})]})),(0,c.jsx)("div",Object.assign({className:"modal-body"},{children:n}))]}))}}Bo.contextType=f.I;class Go extends r.Component{constructor(e,t){super(e),this.closeModal=()=>{this.context.commandBinder.issueCommand(new Ae.B(Ne.P.MEASUREMENT_HELP,!1))},this.locale={headerString:t.locale.t(g.Z.MEASUREMENT_MODE),subHeaderString:t.locale.t(g.Z.MEASUREMENT_HELP_MODAL_SUB_HEADER),body1String:t.locale.t(g.Z.MEASUREMENT_HELP_MODAL_BODY_1),body2String:t.locale.t(g.Z.MEASUREMENT_HELP_MODAL_BODY_2)}}render(){const{headerString:e,subHeaderString:t,body1String:n,body2String:i}=this.locale,{mobile:s}=this.props;return(0,c.jsxs)(k.Vq,Object.assign({className:m()("full-modal","measurement-mode-help-modal",{mobile:s}),onClose:this.closeModal},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:e})),(0,c.jsx)(G.P,{onClose:this.closeModal})]})),(0,c.jsx)("div",Object.assign({className:"modal-subheader"},{children:t})),(0,c.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,c.jsx)("p",Object.assign({className:"modal-paragraph"},{children:n})),(0,c.jsx)("p",Object.assign({className:"modal-paragraph"},{children:i}))]}))]}))}}Go.contextType=f.I;var Wo,zo=n(71215);!function(e){e.HandsRaised="hands-raised",e.RotatePhone="rotate-phone"}(Wo||(Wo={}));const Ko=new Map;Ko.set(Wo.HandsRaised,{alt:"Hands Raised",json:n(86184),fallback:n(73355)}),Ko.set(Wo.RotatePhone,{alt:"Rotate your device to portrait orientation",json:n(55519),fallback:n(65338)});var Yo=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let qo=class extends r.Component{constructor(e){super(e),this.lottieTargetRef=(0,r.createRef)(),this.isUnmounting=!1,this.loadLottie=async()=>this.lottieLib?this.lottieLib:await n.e(932).then(n.t.bind(n,11248,23)),this.updateAnimation=async()=>{const{animation:e,loop:t=!1}=this.props;let n;this.setState({fallbackActive:!1});try{n=await this.loadLottie()}catch(e){if(this.isUnmounting)return;return void this.setState({fallbackActive:!0})}const i=Ko.get(e);if(n&&i&&this.lottieTargetRef.current){const e=n.loadAnimation({loop:t,container:this.lottieTargetRef.current,renderer:"svg",autoplay:!1,animationData:i.json});e.addEventListener("data_failed",(()=>{this.isUnmounting||this.setState({fallbackActive:!0})})),setTimeout((()=>{this.isUnmounting||e.play()}),50)}},this.renderFallback=()=>{const{animation:e}=this.props,t=Ko.get(e);return t?(0,c.jsx)("img",{className:"lottie-fallback",src:t.fallback,alt:t.alt}):null},this.state={fallbackActive:!1}}componentDidMount(){this.updateAnimation()}componentDidUpdate(e){e.animation===this.props.animation&&e.loop===this.props.loop||this.updateAnimation()}componentWillUnmount(){this.isUnmounting=!0}render(){return(0,c.jsxs)("div",Object.assign({className:"lottie"},{children:[(0,c.jsx)("div",{className:"lottie-animation",ref:this.lottieTargetRef}),this.state.fallbackActive&&this.renderFallback()]}))}};qo=Yo([Tt.Z],qo);const $o=qo,{MODEL_RATING:Zo}=g.Z.WORKSHOP;class Qo extends r.Component{constructor(){super(...arguments),this.onClose=()=>{this.context.commandBinder.issueCommand(new Ae.B(Ne.P.RATING_THANK_YOU,!1))}}render(){const{locale:e}=this.context;return(0,c.jsxs)(k.Vq,Object.assign({className:"model-rating-thank-you open",onClose:this.onClose},{children:[(0,c.jsx)(G.P,{onClose:this.onClose}),(0,c.jsx)("h4",{children:e.t(Zo.THANK_YOU_HEADING)}),(0,c.jsx)($o,{animation:Wo.HandsRaised}),(0,c.jsx)("p",Object.assign({className:"p4"},{children:e.t(Zo.THANK_YOU_BODY)})),(0,c.jsxs)("small",Object.assign({className:"model-rating-cta"},{children:[e.t(Zo.THANK_YOU_CTA)," ",(0,c.jsx)(zo.r,Object.assign({href:"//matterport.com/resources/support",onClick:this.onClose},{children:e.t(Zo.THANK_YOU_CTA_LINK_TEXT)}))]}))]}))}}Qo.contextType=f.I;var Xo=n(46950),Jo=n(92290);function el({commandBinder:e}){const[t,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(),[a,o]=(0,r.useState)(),l=(0,w.b)(),d=(0,r.useCallback)((async t=>{null==i||i.resolve(t),n(!1),e.issueCommand(new Ae.r)}),[e,i]),u=(0,r.useCallback)((()=>{d(Jo.Uc.CLOSE)}),[d]),h=(0,r.useCallback)((()=>{d(Jo.Uc.CONFIRM)}),[d]),p=(0,r.useCallback)((async r=>{switch(r.action){case Jo.Rx.DISPLAY:if(t){if(!(null==a?void 0:a.cancellable))return Promise.reject("Cannot close non-cancellable modal");await d(Jo.Uc.CLOSE)}n(!0),e.issueCommand(new Ae.B(Ne.P.CONFIRM,!0)),o(r.properties);const l=new Xo.Q;return s(l),l.nativePromise();case Jo.Rx.UPDATE:return o(r.properties),null==i?void 0:i.nativePromise();case Jo.Rx.CLOSE:return t?(d(Jo.Uc.CLOSE),null==i?void 0:i.nativePromise()):Promise.reject("Cannot cancel a closed modal")}}),[d,e,a,t,i]);(0,r.useEffect)((()=>(e.addBinding(Jo.EW,p),()=>{e.removeBinding(Jo.EW,p)})),[e,p]);const f=(0,r.useCallback)((e=>e.stopPropagation()),[]);if(!a)return null;const{title:g,titleLocalizationOptions:v,message:b,messageLocalizationOptions:y,confirmPhraseKey:E,cancelPhraseKey:S,closeButton:O,modalClass:T,confirmDisabled:_,cancelVariant:N}=a;let A=g;if("string"==typeof g){const e=void 0===v?{}:v,t=l.t(g,e);A=(0,c.jsx)("span",{children:t})}let I=b;if("string"==typeof b){const e=void 0===y?{}:y,t=l.t(b,e);I=(0,c.jsx)("p",Object.assign({className:"modal-message"},{children:t}))}return(0,c.jsx)(Ie.N,Object.assign({open:t,className:m()("modal-background","confirm-modal-background",{open:t}),onClick:f,onPointerDown:f,onPointerUp:f},{children:(0,c.jsxs)(k.Vq,Object.assign({testId:"confirm-modal",className:m()("confirm-modal",T),onClose:u},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:A})),O&&(0,c.jsx)(k.zx,{icon:"close",onClick:u})]})),(0,c.jsx)("div",Object.assign({className:"modal-body"},{children:I})),(0,c.jsxs)(k.hE,Object.assign({spacing:"small"},{children:[S&&(0,c.jsx)(k.zx,Object.assign({size:"large",onClick:u,variant:N||k.Wu.SECONDARY},{children:l.t(S)})),E&&(0,c.jsx)(k.zx,Object.assign({disabled:_,variant:k.Wu.PRIMARY,size:"large",onClick:h},{children:l.t(E)}))]}))]}))}))}function tl(e){const{viewmode:t,shareEnabled:n}=e,{commandBinder:i}=(0,r.useContext)(f.I),s=va(),a=(0,Sn.R)(),o=(0,r.useMemo)((()=>(0,bt.Jm)()),[]);if(!s)return null;const l=a===Ne.P.SHARE,d=a===Ne.P.TERMS,u=a===Ne.P.HELP,h=a===Ne.P.MEASUREMENT_HELP,p=a===Ne.P.VR_SELECT,g=a===Ne.P.RATING_THANK_YOU,v=d||u,b=l||v||h||g||p&&!!s;return(0,c.jsxs)("div",Object.assign({id:"showcase-modals"},{children:[(0,c.jsx)(el,{commandBinder:i}),(0,c.jsx)(fo,{touchDevice:o,viewmode:t,shareEnabled:n}),(0,c.jsxs)(Ie.N,Object.assign({className:m()("modal-background",{"dark-modal-background":v,open:b}),open:b,selectChild:!0,childKey:a||void 0,onClick:()=>{i.issueCommand(new Ae.r)}},{children:[(0,c.jsx)(Bo,{},Ne.P.SHARE),(0,c.jsx)(Go,{mobile:o},Ne.P.MEASUREMENT_HELP),(0,c.jsx)(io,{isMobile:o,modelDetails:s},Ne.P.VR_SELECT),d&&(0,c.jsx)(Aa,{},Ne.P.TERMS),u&&(0,c.jsx)(Fo,{isMobile:o,viewmode:t,allModes:S.BD},Ne.P.HELP),g&&(0,c.jsx)(Qo,{},Ne.P.RATING_THANK_YOU)]}))]}))}var nl=n(59279),il=n(10699),sl=n(39586),rl=n(10664);const al=function(e,t){const n=e.classList;switch(t){case N.wS.NORMAL:case N.wS.SIDE_PANEL:n.replace("narrow-layout","standard-layout")||n.add("standard-layout");break;case N.wS.NARROW:case N.wS.BOTTOM_PANEL:n.replace("standard-layout","narrow-layout")||n.add("narrow-layout")}};var ol=n(19663);class ll extends ol.m{constructor(e){super(),this.id="SHOW_TOASTR",this.payload=e}}class cl extends ol.m{constructor(){super(...arguments),this.id="HIDE_TOASTR"}}var dl=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let ul=class extends r.Component{constructor(e){super(e),this.getInitialState=()=>({messagePhraseKey:"",active:!1,ctaPhraseKey:"",timeout:0,multiline:!1,dismissesOnAction:!1,actionHandler:()=>{}}),this.triggerAction=e=>{e.stopPropagation(),this.state.actionHandler&&this.state.actionHandler(),this.state.dismissesOnAction&&this.hide()},this.hide=async()=>{window.clearTimeout(this.timeout),this.setState({active:!1})},this.show=async e=>{const t=Object.assign(this.getInitialState(),e,{active:!0});this.setState(t),window.clearTimeout(this.timeout),t.timeout>0&&(this.timeout=window.setTimeout((()=>{this.setState({active:!1})}),t.timeout))},this.state=this.getInitialState()}componentDidMount(){this.context.commandBinder.addBinding(ll,this.show),this.context.commandBinder.addBinding(cl,this.hide)}componentWillUnmount(){window.clearTimeout(this.timeout),this.context.commandBinder.removeBinding(ll,this.show),this.context.commandBinder.removeBinding(cl,this.hide)}render(){const{locale:e}=this.context,t=this.props.className||"",{active:n,multiline:i,messagePhraseKey:s,ctaPhraseKey:r,dismissesOnAction:a}=this.state,o={active:n,multiline:i},l=s?e.t(s):null,d=r?e.t(r):null;return(0,c.jsx)("div",Object.assign({className:"toastr-wrapper",onClick:a?this.hide:void 0},{children:(0,c.jsxs)("div",Object.assign({className:m()("toastr-contents",`${t}`,o)},{children:[(0,c.jsx)("div",Object.assign({className:"toastr-text"},{children:l})),d&&(0,c.jsx)("a",Object.assign({className:"link",onClick:this.triggerAction},{children:d}))]}))}))}};ul.contextType=f.I,ul=dl([Tt.A],ul);const{PANELS:hl}=g.Z;function pl({children:e,className:t,sidePanelCollapsible:n}){const{commandBinder:i,analytics:s}=(0,r.useContext)(f.I),a=(0,C.E)(),o=(0,rl.x)(),l=(0,w.b)(),d=I(),u=o&&o.panel;let p=null;u&&e&&Array.isArray(e)&&(p=e.find((e=>e&&e.key===(null==o?void 0:o.id)))||!1);const g=(0,r.useCallback)((()=>{p&&!d&&(s.track("showcase_gui",{gui_action:"toggle_side_panel"}),i.issueCommand(new h.Fg(!a)))}),[p,d,s,i,a]);(0,r.useEffect)((()=>{p&&!d&&a&&!n&&i.issueCommand(new h.Fg(!1))}),[p,d,a,n,i]);const v=a?l.t(hl.EXPAND_PANEL):l.t(hl.COLLAPSE_PANEL),b=a?"icon-dpad-left":"icon-dpad-right",y=!!(o&&p&&o.panel),E=p&&!!(null==o?void 0:o.panelLeft)&&!d,S=p&&!E&&!d,O={"panel-open":y&&!a,"panel-collapsed":y&&a,"panel-bottom":d,"panel-side":!d,"panel-left":E,"panel-right":S};return(0,c.jsxs)(c.Fragment,{children:[y&&S&&n&&(0,c.jsx)("div",Object.assign({className:"panel-track"},{children:(0,c.jsx)("div",Object.assign({className:"panel-track-thumb","data-balloon":v,"data-balloon-pos":"left",onClick:g},{children:(0,c.jsx)("span",{className:`icon ${b}`})}))})),(0,c.jsx)(Ie.N,Object.assign({className:m()("panels",O,t),open:y,selectChild:!0,childKey:null==o?void 0:o.id},{children:e}))]})}const ml=e=>{var t;return!!(null===(t=e.ui)||void 0===t?void 0:t.renderPanel)&&!e.panelLeft},fl=e=>{var t;return!!(null===(t=e.ui)||void 0===t?void 0:t.renderPanel)&&!!e.panelLeft};function gl({children:e,className:t}){const{mainDiv:n,commandBinder:i,toolsData:s,editMode:a}=(0,r.useContext)(f.I),o=(0,rl.x)(),l=(0,Sn.R)(),d=(0,C.E)(),u=(0,A.T)(),h=u===N.wS.BOTTOM_PANEL;return(0,r.useEffect)((()=>{al(n,u)}),[n,u]),(0,r.useEffect)((()=>{d?n.classList.add("tool-collapsed"):n.classList.remove("tool-collapsed"),bl(n,o,h)}),[n,d,o,h]),(0,r.useEffect)((()=>{n.classList.remove("bottom-panel","left-panel","right-panel"),o&&o.panel&&n.classList.add(h?"bottom-panel":o.panelLeft?"left-panel":"right-panel"),bl(n,o,h)}),[n,o,h]),(0,r.useEffect)((()=>{l?n.classList.add("modal-open"):n.classList.remove("modal-open"),l&&i.issueCommand(new T.vy,!1)}),[n,l]),(0,c.jsxs)("div",Object.assign({className:t},{children:[(0,c.jsx)(pl,Object.assign({sidePanelCollapsible:!1},{children:s.toolsMap.values.filter(fl).map((e=>(0,c.jsx)(vl,{tool:e},e.id)))})),(0,c.jsxs)("div",Object.assign({className:"scene-overlay"},{children:[e,(0,c.jsx)(ul,{})]})),(0,c.jsx)(pl,Object.assign({sidePanelCollapsible:a},{children:s.toolsMap.values.filter(ml).map((e=>(0,c.jsx)(vl,{tool:e},e.id)))}))]}))}function vl({tool:e}){var t;return(null===(t=e.ui)||void 0===t?void 0:t.renderPanel)?(0,c.jsx)("div",Object.assign({className:"tool-panel"},{children:e.ui.renderPanel()})):null}function bl(e,t,n){n&&!0===(null==t?void 0:t.searchModeType)?e.classList.add("with-search-bar"):e.classList.remove("with-search-bar")}var yl=n(43037);function El(){const e=jr(),[t,n]=(0,r.useState)(e?e.openTagView:null);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onOpenTagViewChanged(n);return n(e.openTagView),()=>t.cancel()}),[e]),t}var Sl=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Ol=class extends r.Component{constructor(){super(...arguments),this.onKey=async e=>{if(this.props.disabled)return;switch(e.keyCode){case se.R.COMMA:this.onGotoPrev();break;case se.R.PERIOD:this.onGotoNext()}},this.onGotoNext=()=>{const e=this.getNextIndex();-1!==e&&this.props.onNavigate(e)},this.onGotoPrev=()=>{const e=this.getPrevIndex();-1!==e&&this.props.onNavigate(e)}}componentDidMount(){this.context.mainDiv.getRootNode().addEventListener("keydown",this.onKey,{capture:!0})}componentWillUnmount(){this.context.mainDiv.getRootNode().removeEventListener("keydown",this.onKey,{capture:!0})}getNextIndex(){const{total:e,index:t,wrapAround:n}=this.props;return t+1<e?t+1:n?0:-1}getPrevIndex(){const{total:e,index:t,wrapAround:n}=this.props;return t>0?t-1:n?e-1:-1}render(){const{total:e,index:t,disabled:n,overlay:i}=this.props;if(e<2||-1===t)return null;const s=i?"dark":"light",r=i?void 0:k.qE.LARGE,a=`${t+1} of ${e}`;return(0,c.jsxs)("div",Object.assign({className:"list-nav"},{children:[(0,c.jsx)(k.zx,{icon:"dpad-left",variant:k.Wu.TERTIARY,size:r,disabled:n,theme:s,onClick:this.onGotoPrev}),(0,c.jsx)("span",Object.assign({className:"list-nav-label"},{children:a})),(0,c.jsx)(k.zx,{icon:"dpad-right",variant:k.Wu.TERTIARY,size:r,disabled:n,theme:s,onClick:this.onGotoNext})]}))}};function Tl({children:e,className:t}){return(0,c.jsx)("div",Object.assign({className:m()("overlay-top-center",t)},{children:(0,c.jsx)("div",Object.assign({className:"overlay-info"},{children:e}))}))}function _l(e){const{overlay:t,analyticAction:n}=e,{analytics:i,commandBinder:s,editMode:a}=(0,r.useContext)(f.I),o=I(),l=function(e){const t=jr(),[n,i]=(0,r.useState)((null==t?void 0:t.getOrderedTags(e))||[]);return(0,r.useEffect)((()=>{if(!t)return()=>{};function n(){t&&i(t.getOrderedTags(e))}const s=t.getOrderedTagViewMapFilter().onChanged(n);return n(),()=>s.cancel()}),[t,e]),n}(!0),d=El(),u=(0,Ci._)(),h=jr(),[p,m]=(0,r.useState)(!1),g=a||!u?l:l.filter((e=>u.layerToggled(e.layerId)&&(!h||h.getCapabilities(e.id).focus)));if(!(d&&g.length>1))return null;const v=g.findIndex((e=>e.id===(null==d?void 0:d.id)));if(-1===v)return null;const b=(0,c.jsx)(Ol,{index:v,total:g.length,disabled:p,overlay:t,wrapAround:!0,onNavigate:e=>{const t=g[e];if(!t)return;m(!0);const r=d?o?Lt.n.Instant:Lt.n.FadeToBlack:Lt.n.Interpolate;i.trackToolGuiEvent("tags",n),s.issueCommand(new yl.lt(t.id,{transition:r})).then((()=>{m(!1)}))}});return t?(0,c.jsx)(Tl,Object.assign({className:"tags-navigation-overlay"},{children:b})):b}function wl(){const e=(0,Sn.R)(),t=(0,Xt.B)(),n=(0,B.y)(ia.ek,"1");return e||t||!n?null:(0,c.jsx)("div",Object.assign({className:"overlay grid-overlay tags-overlay"},{children:(0,c.jsx)(_l,{overlay:!0,analyticAction:"tags_navigate_in_canvas"})}))}Ol.contextType=f.I,Ol=Sl([Tt.Z],Ol);function Nl({className:e,outerLeft:t,children:n,outerRight:i,small:s=!1}){const a=(0,r.useRef)(null);sr({ref:a});let o=!!t!=!!i;if(o&&a.current){const e=a.current.offsetWidth,t=s?40:55;a.current.children[1].offsetWidth+2*t+12>e&&(o=!1)}const l=m()("action-bar",e,{"fill-outer-space":o}),d=m()("action-bar-outer","action-bar-outer-left",{"action-bar-outer-large":!s}),u=m()("action-bar-outer","action-bar-outer-right",{"action-bar-outer-large":!s});return(0,c.jsx)("div",Object.assign({className:"overlay-action-bar"},{children:(0,c.jsxs)("div",Object.assign({ref:a,className:l},{children:[(0,c.jsx)("div",Object.assign({className:d},{children:t})),(0,c.jsx)("div",Object.assign({className:"action-bar-cta"},{children:n})),(0,c.jsx)("div",Object.assign({className:u},{children:i}))]}))}))}var Al=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Il=class extends Ja{constructor(e){super(e),this.state={vrPlatform:null}}render(){return this.state.vrPlatform===ka.bk.webxr?this.renderOverlayCta():null}renderOverlayCta(){const{locale:e}=this.context;return(0,c.jsx)("div",Object.assign({id:"vr-overlay-layer",className:"overlay grid-overlay"},{children:(0,c.jsx)(Nl,Object.assign({small:!0},{children:(0,c.jsx)(k.zx,{size:k.qE.SMALL,variant:k.Wu.FAB,theme:"dark",label:e.t(g.Z.VR_ENTER),onClick:this.startWebXR})}))}))}};Il.contextType=f.I,Il=Al([Tt.Z],Il);const{TOURS:kl}=g.Z.SHOWCASE;function Pl(e){const{locale:t,messageBus:n,settings:i,commandBinder:s}=(0,r.useContext)(f.I),{highlights:a,tourPlaying:o}=e,l=I(),d=t.t(kl.TOUR_CONTROLS_TITLE),u=t.t(kl.TOUR_CONTROLS_CTA),h=0===a.length,[p,g]=(0,r.useState)(!1),v=(0,r.useCallback)((async e=>{h||(e.stopPropagation(),await s.issueCommand(new T.r2))}),[h,s]),b=(0,r.useCallback)((async e=>{h||(e.stopPropagation(),await s.issueCommand(new T.Ri))}),[h,s]);return(0,r.useEffect)((()=>{const e=[];let t=0;const i=()=>{g(!1)};return e.push(n.subscribe(we.oR,(()=>{})),n.subscribe(we.NR,i)),()=>{e.forEach((e=>e.cancel())),clearInterval(t)}}),[n,i,l]),(0,c.jsxs)("div",Object.assign({className:m()("tour-story-controls-mobile",{prompt:p,tourPlaying:o})},{children:[(0,c.jsx)("div",Object.assign({className:"tour-story-help-title"},{children:d})),(0,c.jsx)("div",Object.assign({className:"tour-story-help-cta"},{children:u})),(0,c.jsx)("div",Object.assign({className:"tour-story-prev",onClick:b},{children:(0,c.jsx)("div",{className:"icon icon-dpad-left"})})),(0,c.jsx)("div",Object.assign({className:"tour-story-next",onClick:v},{children:(0,c.jsx)("div",{className:"icon icon-dpad-right"})}))]}))}var Ll=n(46391),Rl=n(56064),Cl=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Dl=class extends r.Component{constructor(e){super(e),this.onChange=e=>{this.props.onChange(e)}}render(){const{id:e,name:t,value:n,checked:i,children:s,enabled:r}=this.props,a=!r;return(0,c.jsxs)("div",Object.assign({className:m()("radio-element","radio-button",{disabled:a})},{children:[(0,c.jsx)("input",{type:"radio",id:e,name:t,value:n,checked:i,onChange:this.onChange}),(0,c.jsx)("label",Object.assign({className:"radio-button-label",htmlFor:e},{children:s}))]}))}};function Ml(){const{settings:e,analytics:t}=(0,r.useContext)(f.I),n=(0,w.b)(),i=(0,Rl.O)(),s=(0,Es.e)(),a=n=>{n.stopPropagation();const r=i===Ll.M.IMPERIAL?Ll.M.METRIC:Ll.M.IMPERIAL;t.trackGuiEvent(`units_click_${r}`,{tool:s}),e.setLocalStorageProperty(L.F.UnitType,r)},o=n.t(g.Z.MEASUREMENT_UNITS),l=n.t(g.Z.MEASUREMENT_IMPERIAL),d=n.t(g.Z.MEASUREMENT_METRIC),u=i===Ll.M.METRIC;return(0,c.jsxs)("div",Object.assign({className:"settings-toggle units-setting"},{children:[(0,c.jsx)("div",Object.assign({className:"settings-label"},{children:o})),(0,c.jsxs)("div",Object.assign({className:"radio-group radio-buttons"},{children:[(0,c.jsx)(Dl,Object.assign({name:"unit",value:Ll.M.IMPERIAL,id:"unit-imperial",enabled:!0,checked:!u,onChange:a},{children:l})),(0,c.jsx)(Dl,Object.assign({name:"unit",value:Ll.M.METRIC,id:"unit-metric",enabled:!0,checked:u,onChange:a},{children:d}))]}))]}))}Dl=Cl([Tt.Z],Dl);var xl=n(38127),jl=n(18544),Ul=n(78596);const Fl=(0,le.M)(jl.e,"visibleInShowcase",Ul.Rw);var Hl=n(47309),Vl=n(57370),Bl=n(89478);function Gl({children:e,className:t}){const n=(0,r.useCallback)((e=>{e.stopPropagation()}),[]);return(0,c.jsx)("div",Object.assign({className:m()("settings-container settings-box",t),onClick:n},{children:e}))}function Wl(e){const{id:t,onToggle:n,labelledBy:i,className:s,onOffLabel:r=!1,enabled:a=!0,toggled:o,testId:l}=e,d=(0,w.b)(),u=d.t(g.Z.GENERIC.SETTING_ON),h=d.t(g.Z.GENERIC.SETTING_OFF),p=o?u:h;return(0,c.jsxs)("div",Object.assign({className:m()("reusable-toggle",s,{"toggle-on":o,enabled:a}),id:t,onClick:e=>{e.stopPropagation(),a&&n&&n(e,!o)},role:"checkbox","aria-checked":o,"aria-labelledby":i,"data-testid":l},{children:[r&&(0,c.jsx)("span",Object.assign({className:"toggle-label"},{children:p})),(0,c.jsx)("div",Object.assign({className:"track"},{children:(0,c.jsx)("div",{className:"thumb"})}))]}))}var zl=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};function Kl(e){var{onToggle:t,className:n,label:i}=e,s=zl(e,["onToggle","className","label"]);return(0,c.jsxs)("div",Object.assign({className:m()("settings-toggle",n)},{children:[(0,c.jsx)("div",Object.assign({className:"settings-label"},{children:i})),(0,c.jsx)(Wl,Object.assign({},s,{onToggle:()=>{t(!s.toggled)}}))]}))}const{ROOMS:Yl}=g.Z.SHOWCASE;function ql(){const e=tt(),t=(0,Xt.B)(),n=(0,w.b)(),{analytics:i,commandBinder:s}=(0,r.useContext)(f.I),a=(0,B.y)(Hl.hW,!1),o=(0,Vl.q)(),l=Fl();if(!a||0===o.length||e!==nt.Ey.Floorplan||t&&[N.w1.MEASUREMENTS,N.w1.NOTES].includes(t))return null;const d=n.t(Yl.SETTINGS),u=n.t(Yl.ROOM_BOUNDS_TOGGLE_LABEL);return(0,c.jsx)("div",Object.assign({className:"overlay grid-overlay"},{children:(0,c.jsx)("div",Object.assign({className:"overlay-top-right"},{children:(0,c.jsx)(Bl.P,Object.assign({icon:"settings",tooltip:d,theme:"overlay",variant:k.Wu.FAB,tooltipPlacement:"bottom",analytic:"showcase_settings_click",className:"showcase-settings"},{children:(0,c.jsxs)(Gl,{children:[(0,c.jsx)(Kl,{onToggle:()=>{s.issueCommand(new xl.Os(!l)),i.trackToolGuiEvent("rooms","rooms_showcase_toggle_"+(l?"off":"on"))},toggled:l,label:u,enabled:!0}),(0,c.jsx)(Ml,{})]})}))}))}))}const $l=new _.Z("showcase-ui"),Zl=(0,nl.FU)();class Ql extends r.Component{constructor(e,t){super(e,t),this.bindings=[],this.propertiesToRefreshUi=[Ge.gx.Measurements,Ge.gx.DetailsModelName,gt.w,Ge.gx.FloorSelect,sl.IA],this.isUnmounting=!1,this.getModeChange=e=>({viewmode:(0,S.ty)(e.toMode)}),this.updateToolPanelLayout=()=>{const{toolsData:e}=this.context,t=e.toolPanelLayout;this.setState({toolPanelLayout:t})},this.showHelpOnPlaying=e=>{e.phase===u.nh.PLAYING&&(this.context.commandBinder.issueCommand(new Ae.B(Ne.P.CTA,!0)),this.context.messageBus.unsubscribe(d.LZ,this.showHelpOnPlaying))},this.updateTools=()=>{const{toolsData:e}=this.context,{toolsLoaded:t}=this.state;e.toolsMap.length>0&&!t&&(this.setState({toolsLoaded:!0}),window.setTimeout((()=>{this.context.commandBinder.issueCommand(new h.r_)}),750))},this.updatePerSettings=()=>{const{settings:e}=this.context;this.setState({measurementsModeEnabled:e.tryGetProperty(Ge.gx.Measurements,!0),notesEnabled:e.tryGetProperty(sl.IA,!1)})},this.updateTourState=()=>{this.tourData&&this.setState({tourState:this.tourData.getCurrentTourState()})},this.updateTourMode=()=>{this.toursViewData&&this.setState({tourMode:this.toursViewData.currentTourMode})},this.isVrButtonEnabled=()=>(0,ka.hX)(this.context.settings),this.updateActiveTool=()=>{const{tourState:e}=this.state,{toolsData:t,commandBinder:n}=this.context,i=t.activeToolName;i&&e.tourPlaying&&n.issueCommand(new T.vy,!1),this.setState({activeToolName:i})},this.openModalChanged=()=>{const{toolsData:e}=this.context,t=e.openModal;this.setState({openModal:t})},this.state={viewmode:S.g,activeToolName:null,openModal:null,toolsLoaded:!1,toolPanelLayout:t.toolsData.toolPanelLayout,tourState:{},tourMode:re.zz.NONE,modelDetails:null,measurementsModeEnabled:!1,notesEnabled:!1,vrEnabled:!1,brandingEnabled:!1,shareEnabled:!1,unaligned:!0,showExternalUrl:!1}}async componentDidMount(){const{settings:e,messageBus:t,market:n,toolsData:i,mainDiv:s}=this.context;s.classList.remove("with-toolbar");for(const t of this.propertiesToRefreshUi)e.onPropertyChanged(t,this.updatePerSettings);try{this.cancelBindings(),this.bindings=[i.onPropertyChanged("activeToolName",this.updateActiveTool),i.onPropertyChanged("openModal",this.openModalChanged),i.onPropertyChanged("toolPanelLayout",this.updateToolPanelLayout),i.toolsMap.onChanged(this.updateTools)],this.handleStartUpHelp();const[e,s,r,a,o]=await Promise.all([n.waitForData(wn.T),n.waitForData(y.O),n.waitForData(Ho.Z),n.waitForData(ce.k),n.waitForData(Fe.T)]);if(this.isUnmounting)return;this.bindings.push(t.subscribe(il.Z,(e=>this.setState(Object.assign(Object.assign({},this.getModeChange(e)),this.getUnalignedSweepState())))),t.subscribe(we.NR,this.updateTourState),t.subscribe(we.oR,this.updateTourState),t.subscribe(we.Vx,this.updateTourState),t.subscribe(we.Mt,this.updateTourState),t.subscribe(we.dW,this.updateTourState),a.getReel().onChanged(this.updateTourState),o.onPropertyChanged("currentTourMode",this.updateTourMode),r.makeSweepChangeSubscription((()=>this.setState(this.getUnalignedSweepState()))));const l=(0,S.ty)(s.currentMode||nt.Ey.Panorama);this.tourData=a,this.toursViewData=o,this.sweepData=r,this.viewmodeData=s,this.setState(Object.assign({viewmode:l,modelDetails:e.model.details,brandingEnabled:this.isBrandingEnabled()&&!this.isMlsEnabled(),shareEnabled:this.isShareEnabled()&&!this.isMlsEnabled(),showExternalUrl:this.isBrandingEnabled()&&!this.isMlsEnabled(),vrEnabled:this.isVrButtonEnabled()},this.getUnalignedSweepState())),this.props.onAppReadyChanged(!0,!1)}catch(e){$l.debug(e)}this.updateTourState(),this.updateTourMode(),this.updateActiveTool(),this.updateToolPanelLayout(),this.updateTools(),this.updatePerSettings()}async componentWillUnmount(){this.isUnmounting=!0;for(const e of this.propertiesToRefreshUi)this.context.settings.removeOnPropertyChanged(e,this.updatePerSettings);this.cancelBindings(),this.props.onAppReadyChanged(!1,!1)}handleStartUpHelp(){const{settings:e,messageBus:t,commandBinder:n}=this.context,i=e.getOverrideParam("help",0);if(1===i||2===i){const i=1===e.getOverrideParam("ts",0),s=!0===e.tryGetProperty("quickstart",!1);i||(s?n.issueCommand(new Ae.B(Ne.P.CTA,!0)):t.subscribe(d.LZ,this.showHelpOnPlaying))}}getUnalignedSweepState(){if(!this.sweepData||!this.viewmodeData)return{unaligned:this.state.unaligned};return{unaligned:this.viewmodeData.isInside()&&this.sweepData.isSweepUnaligned(this.sweepData.currentSweep)}}cancelBindings(){for(const e of this.bindings)e.cancel()}isShareEnabled(){const{settings:e}=this.context,t=e.tryGetProperty(_n.Yo,!1)&&e.tryGetProperty("is_public",!1),n=(0,bt.SP)()&&"0"===Zl.share;return t&&!n}isMlsEnabled(){return this.context.settings.tryGetProperty(_n.sX,!1)}isBrandingEnabled(){const{settings:e}=this.context;return e.tryGetProperty(_n.L,!0)}renderToolOverlay(){var e;const{toolsData:t}=this.context,n=t.toolsMap,{activeToolName:i}=this.state,s=i&&(null===(e=n.get(i))||void 0===e?void 0:e.ui),r=(null==s?void 0:s.renderOverlay)?s.renderOverlay():null;return(0,c.jsxs)("div",Object.assign({className:"tool-overlay"},{children:[r,(0,c.jsx)(ql,{}),!i&&(0,c.jsx)(Il,{}),(0,c.jsx)(wl,{})]}))}render(){const{viewmode:e,unaligned:t,tourState:n,modelDetails:i,measurementsModeEnabled:s,notesEnabled:r,shareEnabled:a,brandingEnabled:o,vrEnabled:l,openModal:d,toolsLoaded:u,toolPanelLayout:h,activeToolName:p,tourMode:m}=this.state,{tourPlaying:f,activeStep:g,currentStep:v,highlights:b}=n,y=m===re.zz.STORIES;return(0,c.jsxs)("div",Object.assign({id:"gui",className:"showcase-ui"},{children:[!!i&&(0,c.jsx)(ss,{modelDetails:i,tourPlaying:f,brandingEnabled:o}),(0,c.jsx)(tl,{viewmode:e,shareEnabled:a}),(0,c.jsx)(gl,Object.assign({className:"showcase-ui-overlay"},{children:(0,c.jsxs)(c.Fragment,{children:[y&&(0,c.jsx)(ga,{currentStep:v,activeStep:g,highlights:b}),y&&(0,c.jsx)(Pl,{highlights:b,tourPlaying:f}),(0,c.jsx)(fa,{viewmode:e,openModal:d,notesEnabled:r}),u&&this.renderToolOverlay(),(0,c.jsx)(li,{openModal:d,openTool:p,unaligned:t,viewmode:e,tourState:n,tourMode:m,measurementsModeEnabled:s,notesEnabled:r,shareEnabled:a,vrEnabled:l,toolPanelLayout:h})]})}))]}))}}Ql.contextType=f.I;var Xl=n(91380),Jl=n(50892),ec=n(29883),tc=n(60975),nc=n(43736),ic=n(23037),sc=n(92001),rc=n(92294),ac=n(62436),oc=n(62292);class lc{constructor(e,t){this.engine=e,this.disabledAssets={[sc.U]:!1,[nc.s]:!1,[ic.Nj]:!1,[rs.re]:!1,[Jt.Mp]:!1},this.settingsToggler=new tc.u(t,this.disabledAssets),this.initPromise=this.init()}async init(){const{market:e}=this.engine;[this.measurementModeData,this.searchData]=await Promise.all([e.waitForData(rc.X),e.waitForData(ec.T)])}async activate(){this.settingsToggler.toggle(!0),await this.engine.commandBinder.issueCommandWhenBound(new ac.O(!0,!0))}async deactivate(){this.settingsToggler.toggle(!1),this.engine.commandBinder.issueCommand(new oc.Q(-1)),await this.engine.commandBinder.issueCommand(new ac.O(!1))}async dispose(){await this.initPromise}}var cc=n(24696),dc=n(38965),uc=n(77230),hc=n(20436);const pc=(0,pe.u)(hc.m);var mc=n(44877);function fc(){const e=ps(),[t,n]=(0,r.useState)(e?e.openNoteView:null);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onOpenNoteViewChanged(n);return n(e.openNoteView),()=>t.cancel()}),[e]),t}(0,We.M)("openNoteView",fc);var gc=n(16589),vc=n(44472);const{NOTES:bc}=g.Z.SHOWCASE;function yc({userName:e,description:t,numAttachments:n,numComments:i,searchText:s}){const r=Ir(),a=(0,w.b)(),o=i-1,l=(s?(0,gc.vr)(e,s):e).trim(),d=a.t(bc.REPLIES,o);let u="";return""===t?n>0?u=a.t(bc.NUM_ATTACHMENTS,n):0===o&&(u=a.t(bc.CONTENT_DELETED)):u=(s?(0,gc.vr)(t,s):t).trim(),(0,c.jsxs)("div",Object.assign({className:"item-details"},{children:[(0,c.jsxs)("div",Object.assign({className:"item-header"},{children:[r&&(0,c.jsx)(vc.S,{text:l.trim(),textParser:r,markers:gc.PP}),o>0&&!s&&(0,c.jsx)("span",Object.assign({className:"note-summary-info note-replies"},{children:d}))]})),r&&(0,c.jsx)("div",Object.assign({className:"item-description"},{children:(0,c.jsx)(vc.S,{text:u,textParser:r,markers:gc.PP,linksActive:!1})}))]}))}const{NOTES:Ec}=g.Z.SHOWCASE,Sc=({item:e})=>e?(0,c.jsx)(Oc,{item:e},e.id):null,Oc=({item:e})=>{const t=(0,r.useRef)(null),{commandBinder:n,analytics:i,editMode:s}=(0,r.useContext)(f.I),a=(0,w.b)(),o=I(),l=(0,Xt.B)(),d=fc(),u=(0,uc.A)(),h=pc(),p=(0,Es.e)();if(!h)return null;const{id:m,title:v,description:b,color:y,resolved:E,user:S,numAttachments:O,numComments:T}=e,_=m,N=e.parentId;if(!N||!_)return null;const A=N===(null==d?void 0:d.id),P=E||!e.isLayerVisible(),L=(0,mc.CM)(h,ls.J.NOTE,S),R=(0,mc.Kd)(h,ls.J.NOTE,S),C=a.t(Ec.EDIT_LIST_ITEM_OPTION_CTA),D=a.t(Ec.DELETE_LIST_ITEM_OPTION_CTA),M=L||R?(0,c.jsx)(k.hE,{children:(0,c.jsxs)(k.xz,Object.assign({ref:t,icon:"more-vert",ariaLabel:a.t(g.Z.MORE_OPTIONS),variant:k.Wu.TERTIARY,menuArrow:!0,menuClassName:"search-result-menu"},{children:[(0,c.jsx)(k.zx,{label:C,size:k.qE.SMALL,disabled:!L,variant:k.Wu.TERTIARY,onClick:()=>{i.trackGuiEvent("notes_list_edit_note",{tool:p}),n.issueCommand(new cc.yP(N,!0,!0,_))}}),(0,c.jsx)(k.zx,{className:"menu-delete-btn",label:D,size:k.qE.SMALL,disabled:!R,variant:k.Wu.TERTIARY,onClick:()=>{i.trackGuiEvent("notes_list_delete_note",{tool:p}),n.issueCommand(new cc.sG(N))}})]}))}):void 0,x=(0,c.jsx)(yc,{description:b,userName:v,numAttachments:O,numComments:T,searchText:u}),j=(0,c.jsx)(vs.C,{badgeStyle:y?{backgroundColor:y,borderColor:y}:void 0,iconClass:"icon-comment"});return(0,c.jsx)(k.HC,{id:_,className:"search-result-item notes-list-item",title:x,badge:j,active:A,disabled:P,onClick:async()=>{i.trackGuiEvent("search_item_note_click",{tool:p}),e.onSelect(s,l,o)},actions:M},_)};var Tc=n(39689);const{NOTES:_c}=g.Z.SHOWCASE;class wc{constructor(e,t){this.engine=e,this.settings=t,this.disabledAssets={[sc.U]:!1,[ic.Nj]:!1,[nc.s]:!1,[rs.re]:!1},this.settingsToggler=new tc.u(this.settings,this.disabledAssets),this.initPromise=this.init()}async init(){const{market:e}=this.engine;[this.notesViewData,this.searchData]=await Promise.all([e.waitForData(hs.X),e.waitForData(ec.T)]),this.setSearchItemFC(!0)}async activate(){this.settingsToggler.toggle(!0),await this.initPromise,await this.engine.commandBinder.issueCommand(new cc.yK(!0))}async deactivate(){await this.engine.commandBinder.issueCommand(new cc.yK(!1)),this.settingsToggler.toggle(!1)}async dispose(){await this.initPromise,this.setSearchItemFC(!1)}setSearchItemFC(e){const t=this.searchData.getSearchDataTypeGroup(l.SF.NOTE);t&&(t.itemFC=e?Oc:void 0)}async deepLink(e){const t=(await this.engine.market.waitForData(hs.X)).getNoteView(e);if(t)(0,Tc.W4)(this.settings,t,(t=>{this.engine.commandBinder.issueCommand(new cc.yP(e,!0,!1,(0,nl.FU)().comment,t))}));else{const e={messagePhraseKey:_c.MISSING_MESSAGE,timeout:4e3,dismissesOnAction:!0};this.engine.commandBinder.issueCommand(new ll(e)),this.engine.commandBinder.issueCommandWhenBound(new h.tT(N.w1.NOTES,!0))}}async hasPendingEdits(){const{notesPhase:e,activeNotation:t}=this.notesViewData;switch(e){case dc.U.IDLE:case dc.U.CLOSED:case dc.U.OPENING:return!1;case dc.U.EDITING:case dc.U.CREATING:return!0;default:return!!t}}}const{TAGS:Nc}=g.Z.SHOWCASE;class Ac{constructor(e,t){this.engine=e,this.settings=t}async activate(){await this.engine.commandBinder.issueCommand(new yl.yU(!0))}async deactivate(){await this.engine.commandBinder.issueCommand(new yl.yU(!1))}async deepLink(e){const t=(await this.engine.market.waitForData(xr.n)).getTagView(e);if(t)(0,Tc.W4)(this.settings,t,(t=>{this.engine.commandBinder.issueCommand(new yl.lt(e,{transition:t,dock:!0}))}));else{const e={messagePhraseKey:Nc.MISSING_MESSAGE,timeout:4e3,dismissesOnAction:!0};this.engine.commandBinder.issueCommand(new ll(e))}}}var Ic=n(46362),kc=n(30851),Pc=n(22744);function Lc(){const e=ps(),[t,n]=(0,r.useState)((null==e?void 0:e.notesFilter)||Pc.$.OPEN);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onNotesFilterChanged(n);return()=>t.cancel()}),[e]),t}const Rc=(0,le.M)(Xl.t,"softOpening",!1);function Cc(){const e=na(),[t,n]=(0,r.useState)(e?e.dockedAnnotation:null);return(0,r.useEffect)((()=>{if(!e)return()=>{};function t(){n(e?e.dockedAnnotation:null)}const i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}(0,We.M)("dockedAnnotation",Cc);const Dc=(0,le.M)(hs.X,"isNewNote",!1);var Mc=n(35004);function xc(){const e=ps(),[t,n]=(0,r.useState)((null==e?void 0:e.notesPhase)||dc.U.CLOSED);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onNotesPhaseChanged(n);return n(e.notesPhase),()=>t.cancel()}),[e]),t}function jc(){const e=ps(),[t,n]=(0,r.useState)((null==e?void 0:e.activeNotation)||null);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onActiveNotationChanged(n);return()=>t.cancel()}),[e]),t}function Uc(e){const t=[];return e&&e.comments.forEach((e=>{t.push(...e.attachments)})),t}function Fc(){const e=pc(),[t,n]=(0,r.useState)((null==e?void 0:e.getUsersWhoMayNeedAccess())||{});return(0,r.useEffect)((()=>{if(!e)return()=>{};function t(){n((null==e?void 0:e.getUsersWhoMayNeedAccess())||{})}const i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}var Hc=n(10359);const Vc=(0,pe.u)(Hc.c);function Bc(){const e=Vc(),[t,n]=(0,r.useState)((null==e?void 0:e.getHashtags())||[]);return(0,r.useEffect)((()=>{if(!e)return()=>{};function t(){n((null==e?void 0:e.getHashtags())||[])}const i=e.onChanged(t);return t(),()=>{i.cancel()}}),[e]),t}var Gc=n(36892),Wc=new RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");const zc=e=>(e=>Wc.test(e))(e)&&/^https?:\/\//.test(e);var Kc=n(5686),Yc=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const qc="​";let $c=class extends r.Component{constructor(e){super(e),this.emailMention=!1,this.wordToken=null,this.endTokens={"@":[","," ","!","?","/",";",":","(",")"],"#":[","," ",".","!","?","/",";",":"]},this.wordElement=null,this.linkElement=null,this.onClickAnchor=e=>{const t=e.target,n=t.dataset.blocktype;this.props.active?(e.preventDefault(),n===lr.C.LINK&&this.prepareLinkForEdit(t)):n&&this.props.onClickBlock({blockType:n,text:t.innerText,value:t.dataset.value,id:t.dataset.id},e)},this.onSelectionChange=()=>{const e=this.getCurrentRange();if(e){this.range=e.cloneRange();const t=this.wordElement&&null===this.wordElement.parentElement,n=!!this.wordElement&&this.wordElement!==this.getAnchorFromSelection();(t||n)&&this.wordElement&&(this.wordElement.classList.add("link-annotation-active"),this.endWordMatching()),this.insertFocusNodeIfNeeded()}},this.addFauxHighlight=()=>{this.execCommand("backColor","#ff315840")},this.removeFauxHighlight=()=>{this.execCommand("backColor","transparent")},this.isEmailMention=(e="")=>e.lastIndexOf("@")>0,this.onInput=e=>{var t;const n=e.nativeEvent,i=n.inputType,s=i.startsWith("insert"),r="insertLineBreak"===i,a=n.data,o=this.startTokens;e.stopPropagation();const{isLinkNode:l,isSpecialNode:c,anchorNode:d}=this.tryGetAnchorNode();if(o.length&&!l&&!r){let r=a&&a.length>0?a.charAt(a.length-1):"";const l=this.getTextElement(),u=((null==l?void 0:l.innerText)||"").trim().length;if(l&&i.startsWith("delete")&&0===u&&(l.innerHTML=""),this.updateWordElement(n,c,d),!this.wordToken&&o.includes(r)?(e.preventDefault(),this.wordToken=r,this.emailMention=!1,this.createWordElement(r),this.updateSuggestions()):!this.wordToken&&a&&a.length>1&&o.includes(a[0])&&(e.preventDefault(),this.wordToken=a[0],r=a[a.length-1],this.emailMention=this.isEmailMention(a),this.createWordElement(a),this.updateSuggestions()),this.wordToken&&this.wordElement){const n=this.wordElement.textContent||"",i=this.getMatches(n),a=i.length,o=null===(t=this.endTokens[this.wordToken])||void 0===t?void 0:t.includes(r);1===a&&this.sanitizeForSearch(n)===this.sanitizeForSearch(i[0].text)&&s?(e.preventDefault(),this.chooseMatch(i[0].text,i[0].value,i[0].id)):o&&"#"===this.wordToken?(e.preventDefault(),this.finishWordElement(!0)):o&&"@"===this.wordToken?(e.preventDefault(),this.emailMention?this.finishWordElement(!0):0===a&&this.clearWordElement()):"@"===this.wordToken?(this.updateUserMatches(),this.isEmailMention(n)&&(this.wordElement.classList.add("link-annotation-active"),this.emailMention=!0)):this.filterSuggestions()}}this.props.onInput(this.getMarkdown())},this.updateUserMatches=(0,Qt.D)((()=>this.fetchUserMatches()),350),this.onClickMatch=e=>{const t=e.currentTarget;if(t){const n=t.dataset.value,i=t.dataset.id,s=t.dataset.text||t.innerText;e.stopPropagation(),e.preventDefault(),this.chooseMatch(s,n,i)}},this.onHoverMatch=e=>{const t=e.currentTarget;if(t){const e=parseInt(t.dataset.index||"0",10);this.setState({activeMatch:e})}},this.onClick=e=>{const{active:t,clickToEdit:n,onStartEditing:i}=this.props;t?(this.removeFauxHighlight(),this.range=null):n&&i&&i(e)},this.handleFocus=()=>{const{onFocusChange:e}=this.props;e&&e(!0)},this.onBlur=()=>{this.endWordMatching(),this.setState({sortedSuggestions:[]});const{onFocusChange:e}=this.props;e&&e(!1)},this.onDone=()=>{const{onDoneEditing:e}=this.props;e?e():this.toggleEditing(!1)},this.onKeyDown=e=>{const{onCancelEditing:t,allowTabbing:n,allowReturnKey:i}=this.props,{matches:s,activeMatch:r}=this.state;e.stopPropagation(),this.range||(this.range=this.getCurrentRange());const a=e.which||e.keyCode;switch(a){case se.R.ESCAPE:return void(t&&t());case se.R.TAB:case se.R.RETURN:if(s.length&&r>-1)e.preventDefault(),this.chooseMatch(s[r].text,s[r].value,s[r].id);else{const{isSpecialNode:t,anchorNode:s}=this.tryGetAnchorNode();if(t&&s&&this.range&&(e.preventDefault(),this.insertAndFocusCharacter(s,!1,"\n​")),this.wordToken&&(e.preventDefault(),this.finishWordElement(!1,!0)),!e.shiftKey){const t=a===se.R.TAB&&n,s=a===se.R.RETURN&&i;t||s||(e.preventDefault(),this.onDone())}}return;case se.R.DOWNARROW:return void(s.length&&(e.preventDefault(),this.setState((e=>{const t=(e.activeMatch+1)%s.length;return this.ensureActiveMatchIsVisible(t),{activeMatch:t}}))));case se.R.UPARROW:return void(s.length&&(e.preventDefault(),this.setState((e=>{const t=0===e.activeMatch?s.length-1:e.activeMatch-1;return this.ensureActiveMatchIsVisible(t),{activeMatch:t}}))));case se.R.B:case se.R.I:case se.R.U:if(e.ctrlKey||e.metaKey)return void e.preventDefault();break;case se.R.BACKSPACE:case se.R.SHIFT:case se.R.CONTROL:case se.R.ALT:case se.R.LEFTARROW:case se.R.RIGHTARROW:case se.R.DELETE:return}},this.saveRef=e=>{this.textBox=e},this.bindSuggestionMenuRef=e=>{this.suggestionMenuRef=e},this.state={activeMatch:-1,matches:[],sortedSuggestions:[]}}componentDidMount(){this.props.active&&this.toggleEditing(!0,this.props.focusOnMount)}componentWillUnmount(){this.toggleEditing(!1),this.wordElement=null}componentDidUpdate(e,t){const{active:n}=this.props;n!==e.active&&this.toggleEditing(n)}toggleEditing(e,t){this.textBox&&this.textBox.toggleEditing(e,t),this.endWordMatching(),this.setState({sortedSuggestions:[]}),e?document.addEventListener("selectionchange",this.onSelectionChange):document.removeEventListener("selectionchange",this.onSelectionChange)}ensureActiveMatchIsVisible(e){if(!this.suggestionMenuRef)return;const{scrollTop:t,offsetHeight:n}=this.suggestionMenuRef,i=this.suggestionMenuRef.querySelector(`[data-index="${e}"]`);if(!i)return;const{offsetTop:s,offsetHeight:r}=i,a=t>s;if(t+n<s+r||a){const e=a;i.scrollIntoView(e)}}getTextElement(){var e;return null===(e=this.textBox)||void 0===e?void 0:e.getTextElement()}focus(){this.textBox&&this.textBox.focus()}getMarkdown(){const e=this.getTextElement();return e?this.props.textParser.serialize(e):""}hasTextSelected(){return!(!this.range||this.range.startOffset===this.range.endOffset)}createAnchor(e,t){const n=document.createElement("a");return n.href=t,n.text=this.props.textParser.sanitizeText(e),n.classList.add(Mr.o.LINK),n.setAttribute("data-value",t),n}prepareLinkForEdit(e){const t=e||this.getAnchorFromSelection();let n="";const i=window.getSelection();if(i){const e=this.getTextElement();t||this.range||!e?(this.addFauxHighlight(),t||(n=this.range?this.range.toString():i.toString())):(this.focus(),i.selectAllChildren(e),i.collapseToEnd(),this.range=i.getRangeAt(0),n=this.range.toString())}n===qc&&(n=""),this.linkElement=t;const s=t?t.innerText:n,r=t?t.dataset.value||t.href:"";this.props.onClickBlock({blockType:lr.C.LINK,text:s,value:r})}saveLink(e,t){this.linkElement?""!==t?this.updateLink(this.linkElement,e,t):this.unlink(this.linkElement):this.linkify(e,t)}updateLink(e,t,n){const i=this.createAnchor(t,n);return e.href=i.href,e.text=i.text,e.setAttribute("data-value",n),!0}cancelLink(){this.focus(),this.removeFauxHighlight()}linkify(e,t){this.removeFauxHighlight(),this.execCommand("createLink",t);let n=this.getAnchorFromSelection();!n&&this.range&&(n=document.createElement("a"),n.href=t,this.range.insertNode(n)),n&&(n.text=e,n.className=`link-annotation ${Mr.o.LINK}`,n.setAttribute("data-blocktype",lr.C.LINK),n.setAttribute("data-value",t),n.onclick=this.onClickAnchor,this.insertAndFocusCharacter(n))}insertAndFocusCharacter(e,t=!1,n="​"){if(this.range=this.getCurrentRange(),this.range){const i=document.createTextNode(n),s=t?"setStartBefore":"setStartAfter",r=t?"setEndBefore":"setEndAfter";this.range[s](e),this.range[r](e),this.range.insertNode(i),this.range.selectNodeContents(i),n!==qc&&this.range.collapse(!1),this.applyRange()}}unlink(e){const t=e.parentNode,n=e.textContent;t&&(t.removeChild(e),n&&!zc(n)&&this.execCommand("insertText",n))}execCommand(e,t){this.range&&(this.applyRange(),document.execCommand(e,!1,t),this.onSelectionChange())}applyRange(){if(this.range){const e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(this.range))}}getAnchorFromSelection(){const e=this.getCurrentRange();if(!e)return null;let t=e.commonAncestorContainer;for(;t&&"A"!==t.nodeName;){if(t===this.getTextElement())return null;t=t.parentNode}return t||null}insertFocusNodeIfNeeded(){var e,t;const n=window.getSelection();if(!n||!this.range)return;const{anchorNode:i,isLinkNode:s}=this.tryGetAnchorNode();if(i){const r=null!==(t=null===(e=i.textContent)||void 0===e?void 0:e.length)&&void 0!==t?t:0,a=0===n.focusOffset&&r>0,o=null===i.nextSibling&&r===n.focusOffset&&s;(a||o)&&this.insertAndFocusCharacter(i,a)}}getCurrentRange(){const e=window.getSelection();if(e&&e.rangeCount>0){const t=e.getRangeAt(0),n=this.getTextElement();if(n&&(n===t.commonAncestorContainer||n.compareDocumentPosition(t.commonAncestorContainer)&Node.DOCUMENT_POSITION_CONTAINED_BY))return t}return null}sortWords(e){return e.sort(((e,t)=>e.text.toLowerCase()<t.text.toLowerCase()?-1:1))}tryGetAnchorNode(){var e;const t=this.getAnchorFromSelection();if(t&&t instanceof HTMLAnchorElement){const n=null===(e=t.dataset)||void 0===e?void 0:e.blocktype,i=n===lr.C.USER||n===lr.C.HASH,s=n===lr.C.LINK;return{isSpecialNode:i,isLinkNode:s,anchorNode:i||s?t:null}}return{isSpecialNode:!1,isLinkNode:!1,anchorNode:null}}updateWordElement(e,t,n){const i=e.inputType.startsWith("delete"),s=window.getSelection(),r=this.startTokens;if(!this.wordElement||this.wordElement.parentElement){if(t&&n&&n.parentElement&&s){const e=n.textContent||"";if(!r.includes(e[0]||""))return void this.clearWordElement();const t=e.substr(0,s.focusOffset),a=s&&s.focusOffset<e.length,o=i||a;if(this.wordElement=n,this.wordToken=t[0],this.emailMention=this.isEmailMention(t),this.updateSuggestions(),this.range=this.getCurrentRange(),o&&this.range){this.range.selectNode(n);const i=this.range.extractContents();if(i&&i.firstElementChild&&i.firstElementChild instanceof HTMLElement){const n=e.substring(t.length),s=document.createTextNode(n);i.firstElementChild.innerText=t,i.firstElementChild.classList.remove("link-annotation-active"),i.firstElementChild.removeAttribute("data-value"),i.firstElementChild.removeAttribute("data-id"),i.appendChild(s),this.range.insertNode(i),this.range.setStartBefore(s),this.range.setEndBefore(s),this.range.collapse(!1),this.range.selectNodeContents(this.wordElement),this.range.collapse(!1),this.applyRange()}}}}else this.endWordMatching()}get startTokens(){const{hashtags:e,userMentions:t}=this.props,n=[];return t&&n.push("@"),e&&n.push("#"),n}fetchUserMatches(){const e=this.wordElement?this.wordElement.textContent:null;if(this.props.active&&this.wordToken&&e){const t=this.sanitizeForSearch(e,!0);this.context.commandBinder.issueCommand(new Kc.V1(t)).then((()=>{this.updateSuggestions()}))}}filterSuggestions(){const{wordToken:e,wordElement:t}=this;if(e&&t&&t.textContent){const e=this.sanitizeForSearch(t.textContent),n=this.getMatches(e),i=n.length>0?0:-1;this.setState({matches:n,activeMatch:i})}}sanitizeForSearch(e="",t){if(!this.wordToken)return e;let n=(e.startsWith(this.wordToken)?e.substr(1):e).toLowerCase().trim().replace(/\s\s+/g," ");if(t){const e=/([^\s]+)/.exec(n);n=e&&e[0]||""}return n}getMatches(e){const{sortedSuggestions:t=[]}=this.state,n=this.sanitizeForSearch(e)||"";return 0===n.length?t:t.filter((e=>{let t=0===this.sanitizeForSearch(e.text).indexOf(n);return!t&&"@"===this.wordToken&&e.value&&(t=0===this.sanitizeForSearch(e.value).indexOf(n)),t}))}chooseMatch(e,t,n){const i=this.wordElement;if(i){const s=this.wordToken&&!e.startsWith(this.wordToken)?this.wordToken:"";i.innerText=`${s}${e}`,i.classList.add("link-annotation-active"),t&&i.setAttribute("data-value",t),n&&i.setAttribute("data-id",n),this.finishWordElement(!1,!0),this.props.onInput(this.getMarkdown())}}updateSuggestions(){const{wordToken:e}=this,{hashtags:t,userMentions:n}=this.props;let i=[];if("#"===e&&t)i=this.sortWords(t.map((e=>({text:e,blockType:lr.C.HASH}))));else if("@"===e&&n){const e=this.context.userData.getKnownUsers();i=this.sortWords(e.map((e=>({text:e.name,id:e.id,value:e.email,blockType:lr.C.USER}))))}this.setState({sortedSuggestions:i},this.filterSuggestions)}endWordMatching(){this.setState({matches:[],activeMatch:-1}),this.wordToken=null,this.wordElement=null,this.emailMention=!1}createWordElement(e){const t=window.getSelection(),n=this.range;if(!n||!t||!this.wordToken)return;const i=document.createElement("a");i.removeAttribute("href"),i.innerText=e,"#"===this.wordToken?(i.className=`link-annotation ${Mr.o.HASH}`,i.setAttribute("data-blocktype",lr.C.HASH)):"@"===this.wordToken&&(i.className=`link-annotation ${Mr.o.USER}`,i.setAttribute("data-blocktype",lr.C.USER));const s=n.startContainer,r=n.startOffset,a=n.endOffset+e.length,o=Math.max(0,(s.textContent||"").length);try{n.setStart(s,Math.min(r,o)),n.setEnd(s,Math.min(a,o))}catch(e){n.selectNodeContents(s)}n.deleteContents(),n.insertNode(i),n.selectNodeContents(i),n.collapse(!1),this.applyRange(),this.wordElement=i}clearWordElement(){const e=this.range,t=window.getSelection();e&&t&&this.wordElement&&this.wordToken&&(this.stripAnchorFromNode(this.wordElement),this.endWordMatching())}stripAnchorFromNode(e){const t=this.range;if(!t)return;const n=e.textContent;if(this.focus(),t.selectNode(e),t.deleteContents(),t.collapse(!1),n){const e=document.createTextNode(n);t.insertNode(e),t.selectNodeContents(e),t.collapse(!1)}this.applyRange()}isValidSpecialWord(e,t){return 0!==this.sanitizeForSearch(t).length||(this.clearWordElement(),!1)}finishWordElement(e,t){const{range:n,wordElement:i,wordToken:s}=this,r=window.getSelection();if(!(n&&r&&i&&s))return;i.contentEditable="true",i.classList.add("link-annotation-active");let a="";const o=i.textContent;if(this.isValidSpecialWord(s,o||"")){if(e&&o&&o.length>1?(a=o.charAt(o.length-1),i.textContent=o.slice(0,-1)):t&&(a=" "),this.focus(),n.setStartAfter(i),a){const e=document.createTextNode(a);n.insertNode(e),n.selectNodeContents(e),n.collapse(!1)}this.applyRange(),this.endWordMatching()}else this.clearWordElement()}renderMatch(e,t){const{activeMatch:n}=this.state,i=t===n,s=e.blockType===lr.C.USER,r=s&&e.value?this.context.userData.getUserDisplay(e.value):null,a=s?e.value:void 0,o=`${e.text}-${t}`;return(0,c.jsxs)("div",Object.assign({className:m()("suggestion",{selected:i}),onMouseDown:this.onClickMatch,onMouseEnter:this.onHoverMatch,"data-value":e.value,"data-id":e.id,"data-text":e.text,"data-index":t},{children:[s&&r&&(0,c.jsx)(vs.C,{badgeStyle:{color:r.color,borderColor:r.color,backgroundColor:"transparent"},label:r.initials}),(0,c.jsx)("span",Object.assign({className:"suggestion-text"},{children:e.text})),a&&(0,c.jsxs)("p",Object.assign({className:"suggestion-hint"},{children:["(",a,")"]}))]}),o)}renderMatches(){if(!this.props.active)return null;const{matches:e}=this.state,t=e.length>0;return(0,c.jsx)("div",Object.assign({className:m()("suggestion-menu",{open:t}),ref:this.bindSuggestionMenuRef},{children:t&&e.map(((e,t)=>this.renderMatch(e,t)))}))}render(){const{text:e,textParser:t,clickToEdit:n,placeholder:i,tabIndex:s,className:r,active:a}=this.props;return(0,c.jsxs)("div",Object.assign({className:m()("smart-text-box",r)},{children:[(0,c.jsx)(_r,{ref:this.saveRef,text:e,textParser:t,active:a,placeholder:i,tabIndex:s,clickToEdit:n&&!a,onClick:this.onClick,onInput:this.onInput,onKeyDown:this.onKeyDown,onBlur:this.onBlur,onFocus:this.handleFocus,onClickAnchor:this.onClickAnchor}),this.renderMatches()]}))}};$c.contextType=f.I,$c=Yc([Tt.A],$c);var Zc=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Qc=class extends r.Component{constructor(e){super(e),this.handleUpload=e=>{const t=e.target;if(!t)return;const n=t.files;n&&this.props.onUpload(n),t.value=""}}render(){const{accept:e,id:t,multi:n,enabled:i,children:s,className:r,tooltip:a}=this.props,o=`file-upload-${t}`;return(0,c.jsxs)("div",Object.assign({className:m()("file-upload-button",r,{disabled:!i})},{children:[(0,c.jsx)("label",Object.assign({className:"file-upload-trigger",htmlFor:o,"data-balloon":a,"data-balloon-pos":"down"},{children:s})),i&&(0,c.jsx)("input",{type:"file",className:"file-input",id:o,accept:e,multiple:!!n,onChange:this.handleUpload})]}))}};Qc=Zc([Tt.Z],Qc);var Xc=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Jc=class extends r.Component{constructor(e){super(e),this.active=!1,this.dropZone=null,this.onDragOver=e=>{e.dataTransfer&&e.dataTransfer.types&&e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),this.activate())},this.onDrop=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer&&e.dataTransfer.files&&this.props.onDropped(e.dataTransfer.files),this.deactivate()},this.onDragEnd=e=>{e.preventDefault(),e.stopPropagation(),this.deactivate()},this.onDragLeave=e=>{e.preventDefault(),e.stopPropagation(),this.deactivate()},this.setDropZoneRef=e=>{this.dropZone=e}}activate(){!this.active&&this.dropZone&&(this.props.onActivate&&this.props.onActivate(!0),this.active=!0,this.dropZone.classList.add("active"))}deactivate(){this.active&&this.dropZone&&(this.active=!1,this.dropZone.classList.remove("active"),this.props.onDone&&this.props.onDone())}render(){const{className:e,children:t,disabled:n}=this.props;return(0,c.jsxs)("div",Object.assign({className:e,onDragEnter:n?void 0:this.onDragOver,onDragLeave:n?void 0:this.onDragLeave,onDragOver:n?void 0:this.onDragOver,onDragEnd:n?void 0:this.onDragEnd,onDrop:n?void 0:this.onDrop},{children:[(0,c.jsxs)("div",Object.assign({className:"file-drop-zone",ref:this.setDropZoneRef},{children:[(0,c.jsx)("span",{className:"icon icon-attach"}),(0,c.jsx)("label",{children:"Upload file"})]})),t]}))}};Jc=Xc([Tt.Z],Jc);const{MATTERTAGS:ed}=g.Z.WORKSHOP;function td(e){const{url:t,text:n,error:i,newLink:s}=e,{locale:a}=(0,r.useContext)(f.I),o=""===n&&""===t&&s?a.t(ed.LINK_EDITOR_TIP_TEXT):null,l=i?a.t(ed.LINK_EDITOR_INVALID_TIP):null,d=m()("modal-message",{"modal-message-error":!!i}),u=l||o||"";return(0,c.jsx)("div",Object.assign({className:d},{children:u}))}const{MATTERTAGS:nd,MODAL:id}=g.Z.WORKSHOP;function sd(e){return zc(e)}function rd(e){const{linkUrl:t,linkText:n,onSaveLink:i,onRemoveLink:s,onCancelLink:a}=e,{locale:o}=(0,r.useContext)(f.I),[l,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(n),[p,g]=(0,r.useState)(t),[v,b]=(0,r.useState)(sd(t));(0,r.useEffect)((()=>(g(t),h(n),b(sd(t)),d(!1),()=>{})),[n,t]);const y=(0,r.useCallback)((()=>{v&&window.open(p,"_blank","noreferrer")}),[p,v]),E=(0,r.useCallback)(((e,t)=>{const n=void 0!==t?t:p;i((void 0!==e?e:u)||n,n)}),[p,u,i]),S=(0,r.useCallback)((()=>{E(u,p)}),[u,p]),O=(0,r.useCallback)(((e,t)=>{const n=sd(e);b(n),d(!n&&""!==e),t&&n&&E(u,e)}),[u,E]),T=(0,r.useCallback)((e=>{h(e)}),[]),_=(0,r.useCallback)((e=>{g(e);const t=sd(e);b(t),l&&t&&d(!1)}),[l]),w=(0,r.useCallback)((()=>{O(p,!1)}),[p,O]),N=(0,r.useCallback)((()=>{O(p,!0)}),[p,O]),A=!t,I=o.t(nd.LINK_EDITOR_TEXT_PLACEHOLDER),P=o.t(id.SAVE),L=o.t(id.CANCEL),R=o.t(nd.LINK_EDITOR_PREVIEW_TIP),C=o.t(nd.LINK_EDITOR_REMOVE_TIP),D=!A&&s;return(0,c.jsxs)("div",Object.assign({className:"modal-contents"},{children:[(0,c.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,c.jsx)("div",Object.assign({className:"link-editor-field link-text-field"},{children:(0,c.jsx)(k.oi,{text:u,placeholder:I,autofocus:!n,onInput:T,onCancel:a})})),(0,c.jsxs)("div",Object.assign({className:"link-editor-field link-url-field"},{children:[(0,c.jsx)(k.oi,{text:p,type:"url",placeholder:"https://",autofocus:!!n,onBlur:w,onReturn:N,onInput:_,onCancel:a}),v&&p&&(0,c.jsx)(k.zx,{className:"preview-link",icon:"ext-link",variant:k.Wu.TERTIARY,size:k.qE.SMALL,tooltip:R,onClick:y})]})),(0,c.jsx)(td,{newLink:A,text:n,url:p,error:l})]})),(0,c.jsx)("div",Object.assign({className:"modal-footer"},{children:(0,c.jsxs)(k.hE,Object.assign({className:m()("modal-footer",{stretch:D})},{children:[D&&(0,c.jsx)(k.zx,{icon:"delete",label:C,className:"remove-link",variant:k.Wu.TERTIARY,size:k.qE.SMALL,onClick:s}),(0,c.jsxs)(k.hE,Object.assign({spacing:"small"},{children:[(0,c.jsx)(k.zx,{label:L,variant:k.Wu.SECONDARY,size:k.qE.SMALL,onClick:a}),(0,c.jsx)(k.zx,{label:P,variant:k.Wu.PRIMARY,disabled:!v,size:k.qE.SMALL,onClick:S})]}))]}))}))]}))}var ad=n(73935);function od(e){const{children:t,className:n,title:i,open:s,onClose:a,fullModal:o}=e,{commandBinder:l,mainDiv:d}=(0,r.useContext)(f.I);let u=!1;const h=(0,r.useCallback)((()=>{l.issueCommand(new Ae.r),a&&a()}),[l,a]),p=(0,r.useCallback)((()=>{u=!0,window.setTimeout((()=>{u=!1}),500)}),[]),g=(0,r.useCallback)((()=>{u&&(u=!1,h())}),[h]),v=d.querySelector("#react-render-root")||document.body,b=m()(n,{open:s,"full-modal":o});return(0,ad.createPortal)((0,c.jsx)(Ie.N,Object.assign({open:s,className:m()("modal-background",{open:s}),onPointerUp:g,onPointerDown:p},{children:(0,c.jsxs)(k.Vq,Object.assign({className:b,onClose:h},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:i})),(0,c.jsx)(G.P,{onClose:h})]})),t]}))})),v)}const{MATTERTAGS:ld}=g.Z.WORKSHOP;function cd(e){const{linkUrl:t,linkText:n,onSaveLink:i,onRemoveLink:s,onCancelLink:a}=e,{locale:o}=(0,r.useContext)(f.I),l=(0,Sn.R)(),d=""===t?o.t(ld.LINK_EDITOR_LINK_ADD_LABEL):o.t(ld.LINK_EDITOR_LINK_EDIT_LABEL),u=l===Ne.P.LINK_EDITOR;return(0,c.jsx)(od,Object.assign({open:u,title:d,fullModal:!1,className:"link-editor-modal"},{children:(0,c.jsx)(rd,{linkText:n,linkUrl:t,onCancelLink:a,onSaveLink:i,onRemoveLink:s})}))}var dd,ud=n(47397),hd=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const{EMBED:pd}=g.Z.WORKSHOP;var md;!function(e){e.NONE="none",e.INVALID_URL_SYNTAX="invalid",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(md||(md={}));let fd=dd=class extends r.Component{constructor(e){super(e),this.inputRef=(0,r.createRef)(),this.isUnmounting=!1,this.onInput=e=>{const t=zc(e)?md.NONE:md.INVALID_URL_SYNTAX;this.setState({validationPhase:t,currentUrl:e})},this.onApply=()=>{this.isDisabled()||this.onDoneEditing(this.state.currentUrl)},this.stopPropagation=e=>{e.stopPropagation()},this.onDoneEditing=async e=>{const{onEmbed:t,onEmbedCleared:n,url:i}=this.props;if(""===e)return n&&n(),void this.setState({validationPhase:md.NONE,error:void 0,currentUrl:""});const s=(0,Ts.V0)(e);if(s&&s!==i)try{const e=await this.loadMedia(s);if(this.isUnmounting)return;e?(this.setState({validationPhase:md.LOADED,error:void 0,currentUrl:s}),t(e)):this.onEmbedError(s)}catch(e){if(this.isUnmounting)return;this.onEmbedError(s,e)}},this.loadMedia=async e=>{const{parentId:t,parentType:n}=this.props;return this.setState({validationPhase:md.LOADING}),this.context.commandBinder.issueCommand(new Ss.wu(t,n,e))},this.state={currentUrl:e.url||"",validationPhase:md.NONE,error:void 0}}componentWillUnmount(){this.isUnmounting=!0,this.setState({currentUrl:"",validationPhase:md.NONE,error:void 0})}componentDidUpdate(e,t){const{url:n,onValidationPhaseChange:i}=this.props;let s=this.state.validationPhase;n!==e.url&&(s=md.NONE,this.setState({currentUrl:n||"",validationPhase:md.NONE,error:void 0})),i&&s!==t.validationPhase&&i(s)}focus(){this.inputRef.current&&this.inputRef.current.focus()}onEmbedError(e,t){this.setState({error:t,validationPhase:md.ERROR,currentUrl:e})}isDisabled(){const{validationPhase:e,currentUrl:t}=this.state;return e===md.ERROR||e===md.LOADING||e===md.INVALID_URL_SYNTAX&&""!==t||""===t}renderError(){const{locale:e}=this.context,{error:t}=this.state;let n=e.t(pd.ERROR_MESSAGE);return t instanceof Ts.HF?n=e.t(pd.PROVIDER_NOT_SUPPORTED_MESSAGE):t instanceof Ts.t1&&(n=e.t(pd.LINK_TYPE_NOT_SUPPORTED_MESSAGE)),(0,c.jsxs)("div",Object.assign({className:"popover-message popover-message-error"},{children:[n," ",(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",rel:"noreferrer",href:dd.supportPage},{children:e.t(pd.HELP_CTA)}))]}))}renderHelpMessage(){const{locale:e}=this.context,{currentUrl:t,validationPhase:n}=this.state;switch(n){case md.ERROR:return this.renderError();case md.LOADING:return(0,c.jsx)("div",Object.assign({className:"popover-message"},{children:e.t(pd.LOADING_MESSAGE)}));case md.INVALID_URL_SYNTAX:if(""!==t)return(0,c.jsx)("div",Object.assign({className:"popover-message popover-message-error"},{children:e.t(pd.INVALID_URL_MESSAGE)}))}return(0,c.jsx)("div",Object.assign({className:"popover-message"},{children:(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",href:dd.supportPage,tabIndex:-1},{children:e.t(pd.SUPPORTED_FORMATS_MESSAGE)}))}))}render(){const{locale:e}=this.context,{className:t,tabIndex:n}=this.props,{currentUrl:i}=this.state,s=void 0!==n&&n>=0,r=e.t(pd.MEDIA_EMBED_PLACEHOLDER);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",Object.assign({className:"media-embed-editor",onClick:this.stopPropagation},{children:[(0,c.jsx)(ud.Z,{ref:this.inputRef,text:i,type:"url",className:m()(t),placeholder:r,onDone:this.onDoneEditing,onInput:this.onInput,allowTabbing:s,tabIndex:n}),(0,c.jsx)("div",Object.assign({className:"popover-footer"},{children:this.renderHelpMessage()}))]})),(0,c.jsx)("div",Object.assign({className:"modal-footer embed-apply"},{children:(0,c.jsx)(k.zx,{variant:k.Wu.PRIMARY,size:"small",disabled:this.isDisabled(),onClick:this.onApply,label:e.t(pd.APPLY_CTA)})}))]})}};fd.contextType=f.I,fd.supportPage="https://support.matterport.com/hc/en-us/articles/115006363868-Add-Multimedia-to-a-Mattertag-Post",fd=dd=hd([Tt.Z],fd);const{EMBED:gd}=g.Z.WORKSHOP;function vd(e){const{parentType:t,parentId:n,onEmbed:i,onCancel:s}=e,{locale:a}=(0,r.useContext)(f.I),o=(0,Sn.R)(),l=a.t(gd.MEDIA_LINK_LABEL),d=o===Ne.P.MEDIA_EMBED_POPUP;return(0,c.jsx)(od,Object.assign({open:d,title:l,fullModal:!1,className:"media-embed-popup",onClose:s},{children:(0,c.jsx)(fd,{parentId:n,parentType:t,onEmbed:i})}))}function bd({current:e,min:t,max:n}){const i=void 0!==t&&e<t||e>n;return(0,c.jsxs)("div",Object.assign({className:m()("text-counter",{error:i})},{children:[e,"/",n]}))}var yd=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const{ANNOTATIONS:Ed}=g.Z.SHOWCASE;let Sd=class extends r.Component{constructor(e){super(e),this.uploadTooltipTimeout=0,this.bindings=[],this.isUnmounting=!1,this.getAttachmentsState=()=>{if(!this.attachmentsData)return;const{active:e,parentId:t,parentType:n}=this.props;if(!e)return;return{pendingAttachments:this.attachmentsData.getPendingAttachmentsForAsset(t,n),removedAttachments:this.attachmentsData.getRemovedAttachmentsForAsset(t,n),failures:this.attachmentsData.failures.values,uploads:this.attachmentsData.uploads.values}},this.updateAttachments=()=>{const e=this.getAttachmentsState();e&&this.setState(e)},this.cancelEdits=()=>{this.props.onCancelEditing&&this.props.onCancelEditing()},this.saveEdits=()=>{this.onDoneEditing()},this.onDoneEditing=()=>{const{onDoneEditing:e}=this.props;if(e){const t=this.getMarkdown();e(t,""===t&&0===this.getAttachmentCount())}},this.onInput=e=>{this.setState({textChanged:e.trim()!==this.props.text,charCount:e.length})},this.openLinkEditor=()=>{!(this.props.openModal===Ne.P.LINK_EDITOR)&&this.textEditor&&(this.context.analytics.trackGuiEvent("annotation_open_link_editor",{tool:"notes"}),this.textEditor.prepareLinkForEdit())},this.onClickBlock=(e,t)=>{const{active:n,annotationType:i,annotationId:s,linkHandler:r}=this.props,a=e.blockType;if(a===lr.C.LINK&&n)this.setState({selectedBlock:e}),this.context.commandBinder.issueCommand(new Ae.B(Ne.P.LINK_EDITOR,!0));else if(!n){if(a===lr.C.LINK&&r&&e.value){t&&t.preventDefault();const n=ur(e.value),{url:a,modelId:o,pose:l}=n;o?r.handler.openLink({fullLink:a,modelId:o}):l?(r.handler.openLink({fullLink:a,pose:l}),this.context.commandBinder.issueCommand(new us.Aj(s,i))):r.handler.openLink(a)}this.context.messageBus.broadcast(new ds.i(i,s,e))}},this.closeLinkEditor=async()=>(this.setState({selectedBlock:null}),this.context.commandBinder.issueCommand(new Ae.B(Ne.P.LINK_EDITOR,!1))),this.onCancelLink=async()=>{await this.closeLinkEditor()},this.openEmbedEditor=()=>{this.context.analytics.trackGuiEvent("annotation_open_embed_editor",{tool:"notes"}),this.context.commandBinder.issueCommand(new Ae.B(Ne.P.MEDIA_EMBED_POPUP,!0))},this.closeEmbedEditor=()=>{this.context.commandBinder.issueCommand(new Ae.B(Ne.P.MEDIA_EMBED_POPUP,!1))},this.onRemoveLink=()=>{this.onSaveLink("","")},this.onSaveLink=(e,t)=>{this.props.openModal===Ne.P.LINK_EDITOR&&this.textEditor&&(this.setState({textChanged:!0}),this.textEditor.saveLink(e,t),this.closeLinkEditor())},this.onClickFileInput=()=>{const{active:e,onClickToEdit:t}=this.props;this.isAtMaxAttachments()?(window.clearTimeout(this.uploadTooltipTimeout),this.setState({showUploadTooltip:!0}),this.uploadTooltipTimeout=window.setTimeout((()=>{this.setState({showUploadTooltip:!1})}),2500)):!e&&t&&t()},this.onFileUpload=e=>{const{parentId:t,parentType:n}=this.props,i=Array.from(e),s=this.getAttachmentCount();e.length+s>Gc.yk&&i.splice(Gc.yk-s),this.context.commandBinder.issueCommand(new Ss.It(t,n,i)),this.edit()},this.onDrop=e=>{this.context.analytics.trackGuiEvent("attachment_drag_and_dropped",{tool:"notes"}),this.onFileUpload(e)},this.onFilesChosen=e=>{this.context.analytics.trackGuiEvent("annotation_files_chosen",{tool:"notes"}),this.onFileUpload(e)},this.dropActivated=()=>{const{active:e,creating:t,onClickToEdit:n}=this.props;t&&!e&&n&&n()},this.setTextEditorRef=e=>this.textEditor=e,this.state={textChanged:!1,charCount:e.text.length,selectedBlock:null,showUploadTooltip:!1,pendingAttachments:[],removedAttachments:[],uploads:[],failures:[]}}componentDidMount(){this.context.market.waitForData(pr.b).then((e=>{this.attachmentsData=e,this.bindings.push(this.attachmentsData.onChanged(this.updateAttachments)),this.isUnmounting||this.updateAttachments()}))}componentWillUnmount(){this.isUnmounting=!0,window.clearTimeout(this.uploadTooltipTimeout);for(const e of this.bindings)e.cancel()}componentDidUpdate(e,t){const{active:n,parentId:i,parentType:s}=this.props;e.active&&!n?this.setState({textChanged:!1,pendingAttachments:[],removedAttachments:[],uploads:[],failures:[]}):i===e.parentId&&s===e.parentType||this.updateAttachments()}edit(){this.textEditor&&this.textEditor.toggleEditing(!0)}focus(){this.textEditor&&this.textEditor.focus()}getMarkdown(){let e;return e=this.textEditor?this.textEditor.getMarkdown():this.props.text,e.trim()}getAttachmentCount(){const{attachments:e}=this.props,{pendingAttachments:t,removedAttachments:n,uploads:i}=this.state;return e.length+t.length+i.length-n.length}isAtMaxAttachments(){return this.getAttachmentCount()>=Gc.yk}inEmptyState(){const{active:e,text:t}=this.props;return!e&&""===t.trim()&&0===this.getAttachmentCount()}renderButtonBar(){const{active:e,creating:t,parentId:n,maxLength:i}=this.props;if(!e)return null;const{pendingAttachments:s,removedAttachments:r,textChanged:a,charCount:o,uploads:l,showUploadTooltip:d}=this.state,u=this.isAtMaxAttachments(),h=a||r.length>0||s.length>0,p=l.length>0,m=!u&&!p,f=h&&e&&!p&&!(i&&o>i),g=u?rn.DIMMED:p?rn.DISABLED:rn.ENABLED,v=this.context.locale.t(u?Ed.MAX_ATTACHMENTS_TOOLTIP:Ed.UPLOAD_TOOLTIP,Gc.yk),b=this.context.locale.t(u?Ed.MAX_ATTACHMENTS_TOOLTIP:Ed.EMBED_TOOLTIP,Gc.yk),y=this.context.locale.t(t?Ed.ADD_CTA:Ed.SAVE_CTA),E=this.context.locale.t(Ed.LINK_TOOLTIP),S=this.context.locale.t(Ed.CANCEL_CTA);return(0,c.jsxs)("div",Object.assign({className:"annotation-button-bar"},{children:[(0,c.jsxs)("div",Object.assign({className:"annotation-editors"},{children:[(0,c.jsx)(Qc,Object.assign({id:`${n}-annotation`,multi:!0,enabled:m,onUpload:this.onFilesChosen},{children:(0,c.jsx)(dn,{iconClass:"icon-attach",buttonStyle:on.PLAIN,buttonState:g,onClick:this.onClickFileInput,tooltipMsg:v,tooltipPersist:d})})),(0,c.jsx)(dn,{iconClass:"icon-media-mix",buttonStyle:on.PLAIN,buttonState:g,tooltipMsg:b,onClick:this.openEmbedEditor}),(0,c.jsx)(dn,{iconClass:"icon-add-link",buttonStyle:on.PLAIN,tooltipMsg:E,onClick:this.openLinkEditor})]})),(0,c.jsxs)(k.hE,Object.assign({className:"annotation-cta-buttons",spacing:"small"},{children:[(0,c.jsx)(k.zx,{variant:k.Wu.TERTIARY,size:"small",onClick:this.cancelEdits,label:S},"cancel"),(0,c.jsx)(k.zx,{variant:k.Wu.TERTIARY,size:"small",disabled:!f,onClick:this.saveEdits,label:y},"save")]}))]}))}renderAttachments(){const{attachments:e,active:t,onViewAttachment:n,annotationType:i,parentId:s}=this.props,{pendingAttachments:r}=this.state,a=this.attachmentsData?e.filter((e=>!this.attachmentsData.removals.get(e.id))):e;if(r.forEach((e=>a.push(e))),t)return(0,c.jsx)(Sr,{annotationType:i,parentId:s,canDelete:t,inline:t,attachments:a,onViewAttachment:n});const o=(a||[]).reduce(((e,t)=>{const n=(0,qs.lV)(t)?"viewable":"nonViewable";return e[n]=[...e[n],t],e}),{viewable:[],nonViewable:[]});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Sr,{annotationType:i,parentId:s,canDelete:t,inline:t,attachments:o.viewable,onViewAttachment:n}),(0,c.jsx)(Sr,{annotationType:i,parentId:s,canDelete:t,inline:t,attachments:o.nonViewable,nonViewable:!0,onViewAttachment:n})]})}renderSmartEditor(){const{placeholder:e,hashtags:t,text:n,creating:i,textParser:s,active:r,maxLength:a,tabIndex:o,annotationType:l,onClickToEdit:d}=this.props,u=l===ls.J.NOTE,h=this.inEmptyState()&&u&&!i?this.context.locale.t(Ed.CONTENT_DELETED):e;return(0,c.jsx)($c,{ref:this.setTextEditorRef,textParser:s,text:n,active:!!r,clickToEdit:!!d,placeholder:h,onClickBlock:this.onClickBlock,onStartEditing:r?void 0:d,onDoneEditing:this.onDoneEditing,onCancelEditing:this.cancelEdits,onInput:this.onInput,tabIndex:o,maxLength:a,hashtags:t||[],userMentions:u})}render(){const{className:e,creating:t,active:n,parentId:i,parentType:s,annotationType:r,onClickToEdit:a,edited:o,title:l,maxLength:d}=this.props,{uploads:u,selectedBlock:h,charCount:p}=this.state,f=this.getAttachmentCount()<Gc.yk,g=!(u.length>0)&&(n||t)&&f,v=r===ls.J.NOTE,b=this.inEmptyState()&&!t&&v,y=!n&&o&&!b,E={annotating:n,"editor-box":n||!!a,"annotation-emptied":b,invalid:n&&!!d&&p>d};let S="",O="";return h&&h.blockType===lr.C.LINK&&(S=h.text,O=h.value||""),(0,c.jsxs)(Jc,Object.assign({className:"annotation-box",onDropped:this.onDrop,disabled:!g,onActivate:this.dropActivated},{children:[l,(0,c.jsxs)("div",Object.assign({className:m()("annotation-text-box",E,e)},{children:[this.renderSmartEditor(),n&&this.renderAttachments(),n&&this.renderButtonBar(),n&&d&&d-p<50&&(0,c.jsx)(bd,{current:p,max:d})]})),y&&(0,c.jsx)("div",Object.assign({className:"annotation-edited"},{children:"(edited)"})),!n&&!t&&this.renderAttachments(),n&&!!i&&(0,c.jsx)(vd,{parentId:i,parentType:s,onEmbed:this.closeEmbedEditor,onCancel:this.closeEmbedEditor}),n&&!!i&&(0,c.jsx)(cd,{linkText:S,linkUrl:O,onCancelLink:this.onCancelLink,onSaveLink:this.onSaveLink,onRemoveLink:this.onRemoveLink})]}))}};Sd.contextType=f.I,Sd=yd([Tt.Z],Sd);var Od=n(66197),Td=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const{INVITE_USER:_d,INVITE_BUTTON:wd,INVITE_USERS:Nd,INVITE_VISIBLE_MSG:Ad}=g.Z.USERS;let Id=class extends r.Component{constructor(e){super(e),this.onInviteUsers=()=>{this.props.onInviteUsers(this.props.invitees)}}render(){const{invitees:e}=this.props;if(0===e.length)return null;const{locale:t}=this.context;let n;const i=t.t(wd,e.length);n=1===e.length?t.t(_d,{email:e[0]}):t.t(Nd,{emails:e.join(", ")});const s=t.t(Ad);return(0,c.jsxs)("div",Object.assign({className:"user-invite-card"},{children:[(0,c.jsxs)("div",Object.assign({className:"user-invite-info"},{children:[(0,c.jsx)("span",{className:"icon icon-eye-show"}),(0,c.jsx)("span",Object.assign({className:""},{children:s}))]})),(0,c.jsx)("p",Object.assign({className:"user-invite-msg"},{children:n})),(0,c.jsx)(k.zx,{onClick:this.onInviteUsers,variant:k.Wu.TERTIARY,className:m()("button-inline","user-invite-button"),label:i})]}))}};Id.contextType=f.I,Id=Td([Tt.Z],Id);var kd=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const{INVITE_VISIBLE_MSG:Pd,INVITE_USER_FAILED:Ld,INVITE_USERS_FAILED:Rd}=g.Z.USERS;let Cd=class extends r.Component{constructor(e){super(e)}render(){const{failedEmails:e}=this.props,{locale:t}=this.context;if(0===e.length)return null;let n;n=1===e.length?t.t(Ld,{email:e[0]}):t.t(Rd,{failedEmails:e.join(", ")});const i=t.t(Pd);return(0,c.jsxs)("div",Object.assign({className:"user-invite-card"},{children:[(0,c.jsxs)("div",Object.assign({className:"user-invite-info"},{children:[(0,c.jsx)("span",{className:"icon icon-eye-show"}),(0,c.jsx)("span",Object.assign({className:""},{children:i}))]})),(0,c.jsx)("p",Object.assign({className:"user-invite-msg"},{children:n}))]}))}};Cd.contextType=f.I,Cd=kd([Tt.Z],Cd);var Dd=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const{UNKNOWN_USER:Md,UNKNOWN_USERS:xd,INVITE_VISIBLE_MSG:jd}=g.Z.USERS;let Ud=class extends r.Component{render(){const{locale:e}=this.context,{emails:t}=this.props;if(0===t.length)return null;let n;n=1===t.length?e.t(Md,{email:t[0]}):e.t(xd,{emails:t.join(", ")});const i=e.t(jd);return(0,c.jsxs)("div",Object.assign({className:"user-invite-card"},{children:[(0,c.jsxs)("div",Object.assign({className:"user-invite-info"},{children:[(0,c.jsx)("span",{className:"icon icon-eye-show"}),(0,c.jsx)("span",Object.assign({className:""},{children:i}))]})),(0,c.jsx)("p",Object.assign({className:"user-invite-msg"},{children:n}))]}))}};Ud.contextType=f.I,Ud=Dd([Tt.Z],Ud);var Fd=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let Hd=class extends r.Component{constructor(e){super(e),this.inviteUsers=async e=>{if(0===e.length)return;const{noteId:t,message:n}=this.props;await this.context.commandBinder.issueCommand(new Kc.JB(e,n,Jt.AT,t))}}getInvitees(){const{userMentions:e}=this.props,t=[];return e.forEach((e=>{(e.userStatus===Od.J.MENTIONED||e.userStatus===Od.J.KNOWN&&e.modelAccess===l.x6.PUBLIC)&&t.push(e.email)})),t}getFailedEmails(){const{userMentions:e}=this.props,t=[];return e.forEach((e=>{e.userStatus===Od.J.FAILED&&t.push(e.email)})),t}render(){const{expires:e,noteId:t}=this.props;if((new Date).getTime()>e)return null;const{userData:n}=this.context,i=n.isInviter(),s=this.getInvitees(),r=this.getFailedEmails();return(0,c.jsxs)("div",Object.assign({className:"user-mentions-unknown"},{children:[i&&s.length>0&&(0,c.jsx)(Id,{invitees:s,modelAccess:Jt.AT,noteId:t,onInviteUsers:this.inviteUsers}),!i&&s.length>0&&(0,c.jsx)(Ud,{emails:s}),r.length>0&&(0,c.jsx)(Cd,{failedEmails:r})]}))}};Hd.contextType=f.I,Hd=Fd([Tt.Z],Hd);const{NOTES:Vd}=g.Z.SHOWCASE;function Bd(e){const{comment:t,noteId:n,onCancel:i,onViewAttachment:s}=e,{user:a,created:o,edited:d,id:u,text:h}=t,{analytics:p,commandBinder:v}=(0,r.useContext)(f.I),b=pc(),y=(0,w.b)(),E=(0,Sn.R)(),S=(0,A.T)(),O=(0,r.useRef)(null),T=Ir(),_=Pr(),N=ps(),I=jc(),P=Bc(),L=Fc();if(!N||!T||!b)return null;function R(e){p.trackToolGuiEvent("notes",e)}const C=I===u,D=t.attachments.values(),M=(0,mc.CM)(b,ls.J.NOTE,a),x=(0,mc.Kd)(b,ls.J.NOTE,a),j=t.modified.getTime()+60*Jt.E8*1e3,U=b.getUserDisplay(a.email),F=U.color,H=T.getPlainText(h),V=N.getCommentUserMentions(h,L),B=!C&&(M||x)?(0,c.jsxs)(k.xz,Object.assign({icon:"more-vert",variant:k.Wu.TERTIARY,ariaLabel:y.t(g.Z.MORE_OPTIONS),menuArrow:!0,menuClassName:"search-result-menu",menuPlacement:"bottom-end"},{children:[M&&(0,c.jsx)(k.zx,{label:y.t(Vd.EDIT),size:k.qE.SMALL,variant:k.Wu.TERTIARY,onClick:()=>{O.current&&(R("notes_click_edit_comment"),v.issueCommand(new cc.x4(t.id)),O.current.edit())}}),x&&(0,c.jsx)(k.zx,{className:"menu-delete-btn",label:y.t(Vd.DELETE),size:k.qE.SMALL,variant:k.Wu.TERTIARY,onClick:()=>{R("notes_click_delete_comment"),v.issueCommand(new cc.mH(n,t.id))}})]})):null;return(0,c.jsxs)("div",Object.assign({className:m()("comment",{active:C}),"data-id":u},{children:[(0,c.jsxs)("div",Object.assign({className:"note-header comment-header"},{children:[(0,c.jsx)(vs.C,{badgeStyle:{color:F,borderColor:F},label:U.initials}),(0,c.jsxs)("div",Object.assign({className:"note-details"},{children:[(0,c.jsx)("span",Object.assign({className:"note-user"},{children:U.name})),(0,c.jsx)("div",Object.assign({className:"note-subheader"},{children:o.toLocaleString()}))]})),B]})),M?(0,c.jsx)(Sd,{ref:O,textParser:T,linkHandler:_,annotationId:n,annotationType:ls.J.NOTE,parentId:u,parentType:l.ud.COMMENT,attachments:D,active:C,edited:d,creating:!1,text:h,hashtags:P,toolPanelLayout:S,openModal:E,onViewAttachment:s,onDoneEditing:(e,s)=>{s?(R("notes_delete_empty_comment"),v.issueCommand(new cc.mH(n,t.id)),i()):v.issueCommand(new cc.Uw(n,t.id,e))},onCancelEditing:i,maxLength:Jt.Ko}):(0,c.jsx)(Nr,{text:h,textParser:T,linkHandler:_,annotationType:ls.J.NOTE,annotationId:n,attachments:D,edited:d,onViewAttachment:s}),M&&V.length>0&&(0,c.jsx)(Hd,{noteId:n,message:H,userMentions:V,expires:j})]}))}const{NOTES:Gd}=g.Z.SHOWCASE;function Wd({noteId:e,replyId:t,active:n,onCancel:i,onReply:s}){const a=(0,w.b)(),{commandBinder:o,analytics:d}=(0,r.useContext)(f.I),u=(0,Sn.R)(),h=(0,A.T)(),p=Ir(),m=Pr(),g=Bc();if(!p)return null;return(0,c.jsx)(Sd,{className:"reply-box",textParser:p,linkHandler:m,annotationType:ls.J.NOTE,annotationId:e,parentType:l.ud.COMMENT,parentId:t,attachments:[],active:n,edited:!1,creating:!0,text:"",hashtags:g,toolPanelLayout:h,openModal:u,placeholder:a.t(Gd.REPLY_PLACEHOLDER),onClickToEdit:()=>{d.trackToolGuiEvent("notes","notes_click_new_comment"),o.issueCommand(new cc.x4(t))},onDoneEditing:(e,n)=>{n?i():s(t,e)},onCancelEditing:i,maxLength:Jt.Ko})}var zd=n(13132);const{NOTES:Kd}=g.Z.SHOWCASE;function Yd({note:e,active:t,onCancelNote:n}){const{analytics:i,commandBinder:s}=(0,r.useContext)(f.I),a=pc(),o=Dc(),l=(0,w.b)();if(!a)return null;const d=e.comments.get(0);function u(e){i.trackToolGuiEvent("notes",e)}const h=(0,mc.CM)(a,ls.J.NOTE,e.user),p=a.getUserDisplay(e.user.email),m=p.color,v=!o&&!t,b=v&&(0,mc.Kd)(a,ls.J.NOTE,e.user),y=v&&!e.resolved,E=v&&e.resolved,S=!o&&(h||E||b)?(0,c.jsxs)(k.xz,Object.assign({icon:"more-vert",ariaLabel:l.t(g.Z.MORE_OPTIONS),variant:k.Wu.TERTIARY,menuArrow:!0,menuClassName:"search-result-menu",menuPlacement:"bottom-end"},{children:[h&&(0,c.jsx)(k.zx,{label:l.t(Kd.EDIT),size:k.qE.SMALL,variant:k.Wu.TERTIARY,onClick:()=>{u("notes_click_edit_note"),d&&s.issueCommand(new cc.x4(d.id))}}),E&&(0,c.jsx)(k.zx,{label:l.t(Kd.UNRESOLVE),size:k.qE.SMALL,variant:k.Wu.TERTIARY,onClick:()=>{u("notes_click_unresolve_note"),s.issueCommand(new cc.yp(e.id,!1))}}),b&&(0,c.jsx)(k.zx,{className:"menu-delete-btn",label:l.t(Kd.DELETE),size:k.qE.SMALL,variant:k.Wu.TERTIARY,onClick:()=>{u("notes_click_delete_note"),s.issueCommand(new cc.sG(e.id))}})]})):null,O=l.t(Kd.MARK_AS_RESOLVED);return(0,c.jsxs)("header",Object.assign({className:"note-header"},{children:[(0,c.jsx)(vs.C,{badgeStyle:{color:m,borderColor:m},label:p.initials}),(0,c.jsxs)("div",Object.assign({className:"note-details"},{children:[(0,c.jsx)("span",Object.assign({className:"note-user"},{children:p.name})),(0,c.jsx)("div",Object.assign({className:"note-subheader"},{children:e.created.toLocaleString()}))]})),(0,c.jsxs)(k.hE,Object.assign({spacing:"small"},{children:[o&&(0,c.jsx)(k.zx,{icon:"close",tooltip:l.t(Kd.CANCEL),onClick:n,tooltipOptions:{placement:"bottom-end"}}),y&&(0,c.jsx)(k.zx,{icon:"checkmark",size:k.qE.SMALL,variant:k.Wu.FAB,theme:"dark",tooltip:O,onClick:()=>{u("notes_click_resolve_note"),s.issueCommand(new cc.yp(e.id,!0))}}),v&&(0,c.jsx)(Kr,{prefix:"note",pin:e,id:e.id,darkTheme:!0,analyticAction:"copy_note_share_link",includeCameraView:!0}),S]}))]}))}const{NOTES:qd}=g.Z.SHOWCASE;function $d({note:e,onViewAttachment:t,onCancel:n}){var i;const{commandBinder:s}=(0,r.useContext)(f.I),a=(0,w.b)(),o=(0,Sn.R)(),d=(0,A.T)(),u=pc(),h=Fc(),p=(0,r.useRef)(null),m=ps(),g=jc(),v=Dc(),b=Bc(),y=Ir(),E=Pr(),S=e.comments.get(0),O=null==S?void 0:S.id,T=!!g&&(g===O||v);if((0,ae.U)(zd.cd,(()=>{v&&x()})),(0,r.useEffect)((()=>{T&&x()}),[T]),!m||!y||!u)return null;const _=e.id,N=(null===(i=null==S?void 0:S.attachments)||void 0===i?void 0:i.values())||[],I=(null==S?void 0:S.text)||"",k=(null==S?void 0:S.edited)||!1,P=(null==S?void 0:S.modified.getTime())+60*Jt.E8*1e3,L=e.user.id===u.getCurrentUserId(),R=!!L&&u.isCommenter(),C=y.getPlainText(I),D=m.getCommentUserMentions(I,h),M=T?a.t(qd.ADD_NOTE_MESSAGE):void 0,x=()=>{p.current&&g===_&&p.current.edit()};return(0,c.jsxs)("div",Object.assign({className:"note-post"},{children:[(0,c.jsx)(Yd,{note:e,active:T,onCancelNote:n}),R?(0,c.jsx)(Sd,{ref:p,textParser:y,linkHandler:E,annotationId:_,annotationType:ls.J.NOTE,parentId:O||_,parentType:l.ud.COMMENT,attachments:N,active:T,edited:k,creating:v,text:I,hashtags:b,placeholder:M,toolPanelLayout:d,openModal:o,onViewAttachment:t,onDoneEditing:async(e,t)=>{t?n():v?await s.issueCommand(new cc.FB(e)):await s.issueCommand(new cc.kd(_,e))},onCancelEditing:n,maxLength:Jt.TM}):(0,c.jsx)(Nr,{text:I,textParser:y,linkHandler:E,annotationType:ls.J.NOTE,annotationId:_,attachments:N,edited:k,onViewAttachment:t}),!v&&S&&L&&D.length>0&&(0,c.jsx)(Hd,{message:C,noteId:_,expires:P,userMentions:D})]}))}function Zd({note:e}){const{commandBinder:t,analytics:n}=(0,r.useContext)(f.I),i=pc(),s=jc(),a=Dc(),o=function(e){const t=gs(e),[n,i]=(0,r.useState)(Uc(t));return(0,r.useEffect)((()=>{if(!t)return()=>{};function e(){i(Uc(t))}const n=t.comments.onChanged(e);return e(),()=>{n.cancel()}}),[t]),n}(e.id),[l,d]=(0,r.useState)((0,v.O1)(11)),u=()=>{t.issueCommand(new cc.oH)},h=e=>{if(o.length){n.trackToolGuiEvent("notes","notes_click_view_attachment");const i=o.filter((e=>(0,qs.lV)(e)));i.length>0&&t.issueCommand(new Ss.xW(!0,i,e))}},p={annotating:!!s,creating:a},g=s===l,b=!a&&(null==i?void 0:i.isCommenter())&&(g||!s);return(0,c.jsxs)("div",Object.assign({className:m()("note-widget",p)},{children:[e&&(0,c.jsx)($d,{note:e,onViewAttachment:h,onCancel:()=>{a?t.issueCommand(new cc.gc):s&&u()}}),!a&&(0,c.jsx)("div",Object.assign({className:"note-comments"},{children:e.comments.map(((t,n)=>0===n?null:(0,c.jsx)(Bd,{noteId:e.id,comment:t,onCancel:u,onViewAttachment:h},t.id)))})),b&&(0,c.jsx)(Wd,{replyId:l,noteId:e.id,active:g,onCancel:()=>{u(),d((0,v.O1)(11))},onReply:(n,i)=>{t.issueCommand(new cc.Df(e.id,i,n)),d((0,v.O1)(11))}})]}))}var Qd=n(79820),Xd=n(72936),Jd=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let eu=class extends r.Component{constructor(e){super(e),this.clickColor=e=>{const t=e.currentTarget;if(t&&t.dataset){const n=t.dataset.value;n&&(e.stopPropagation(),this.props.onColorPicked(n),this.setState({activeColor:n}))}},this.renderColorSwatch=e=>{const{activeColor:t}=this.state,n={backgroundColor:e},i=m()({"color-swatch":!0,"icon-checkmark":!0,active:e===t});return(0,c.jsx)("div",{className:i,style:n,"data-value":e,onClick:this.clickColor},e)},this.state={activeColor:e.defaultColor||""}}UNSAFE_componentWillReceiveProps(e){e.defaultColor&&!this.state.activeColor&&this.setState({activeColor:e.defaultColor})}render(){const{colors:e}=this.props;return(0,c.jsx)("div",Object.assign({className:"color-picker"},{children:e.map((e=>this.renderColorSwatch(e)))}))}};eu=Jd([Tt.Z],eu);var tu=n(78283);var nu=function(){return(nu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function iu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}Object.create;Object.create;var su=function(){return(su=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.create;function ru(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function au(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,s,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){s={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function ou(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;var lu=function(e){return(Array.isArray(e)?e:[e]).filter((function(e){return!!e})).map((function(e){return"mdc-theme--"+e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}))},cu=r.forwardRef((function(e,t){var n=e.tag,i=void 0===n?"div":n,s=(e.theme,e.element),a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}(e,["tag","theme","element"]),o=s?s.props(a):a,l=s?du(t,s.setRef):t;return r.createElement(i,su({},o,{ref:l}))})),du=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n,i;try{for(var s=ru(e),r=s.next();!r.done;r=s.next()){var a=r.value;"function"==typeof a?a(t):a&&"current"in a&&(a.current=t)}}catch(e){n={error:e}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}},uu=function(e,t){"function"==typeof e?e(t):e&&"current"in e&&(e.current=t)};function hu(e){var t=r.forwardRef(e),n=function(e,t){return r.createElement(r.Fragment,null)};return n.displayName=e.constructor.name||"RMWCComponent",t.displayName=n.displayName,t}var pu={blur:"onBlur",cancel:"onCancel",click:"onClick",close:"onClose",contextmenu:"onContextMenu",copy:"onCopy",cut:"onCut",auxclick:"onAuxClick",doubleclick:"onDoubleClick",dragend:"onDragEnd",dragstart:"onDragStart",drop:"onDrop",focus:"onFocus",input:"onInput",invalid:"onInvalid",keydown:"onKeyDown",keypress:"onKeyPress",keyup:"onKeyUp",mousedown:"onMouseDown",mouseup:"onMouseUp",paste:"onPaste",pause:"onPause",play:"onPlay",pointercancel:"onPointerCancel",pointerdown:"onPointerDown",pointerup:"onPointerUp",ratechange:"onRateChange",reset:"onReset",seeked:"onSeeked",submit:"onSubmit",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchstart:"onTouchStart",volumechange:"onVolumeChange",abort:"onAbort",animationend:"onAnimationEnd",animationiteration:"onAnimationIteration",animationstart:"onAnimationStart",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",drag:"onDrag",dragenter:"onDragEnter",dragexit:"onDragExit",dragleave:"onDragLeave",dragover:"onDragOver",durationchange:"onDurationChange",emptied:"onEmptied",encrypted:"onEncrypted",ended:"onEnded",error:"onError",gotpointercapture:"onGotPointerCapture",load:"onLoad",loadeddata:"onLoadedData",loadedmetadata:"onLoadedMetadata",loadstart:"onLoadStart",lostpointercapture:"onLostPointerCapture",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseover:"onMouseOver",playing:"onPlaying",pointermove:"onPointerMove",pointerout:"onPointerOut",pointerover:"onPointerOver",progress:"onProgress",scroll:"onScroll",seeking:"onSeeking",stalled:"onStalled",suspend:"onSuspend",timeupdate:"onTimeUpdate",toggle:"onToggle",touchmove:"onTouchMove",transitionend:"onTransitionEnd",waiting:"onWaiting",wheel:"onWheel",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",change:"onChange",select:"onSelect",beforeinput:"onBeforeInput",compositionend:"onCompositionEnd",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate"},mu=function(e){return pu[e]||e},fu=function(){function e(e){this._classes=new Set,this._events={},this._style={},this._props={},this._ref=null,this._onChange=null,this._onChange=e,this.onChange=this.onChange.bind(this),this.addClass=this.addClass.bind(this),this.removeClass=this.removeClass.bind(this),this.hasClass=this.hasClass.bind(this),this.setProp=this.setProp.bind(this),this.getProp=this.getProp.bind(this),this.removeProp=this.removeProp.bind(this),this.setStyle=this.setStyle.bind(this),this.addEventListener=this.addEventListener.bind(this),this.removeEventListener=this.removeEventListener.bind(this),this.setRef=this.setRef.bind(this)}return e.prototype.onChange=function(){this._onChange&&this._onChange()},e.prototype.destroy=function(){var e=this;this._onChange=null,this._events={},this._style={},this._props={},this._classes=new Set,setTimeout((function(){e._ref=null}))},e.prototype.addClass=function(e){this._classes.has(e)||(this._classes.add(e),this.onChange())},e.prototype.removeClass=function(e){this._classes.has(e)&&(this._classes.delete(e),this.onChange())},e.prototype.hasClass=function(e){return this._classes.has(e)},e.prototype.setProp=function(e,t,n){void 0===n&&(n=!1),this._props[e]!==t&&(this._props[e]=t,!n&&this.onChange())},e.prototype.getProp=function(e){return this._props[e]},e.prototype.removeProp=function(e){void 0!==this._props[e]&&(delete this._props[e],this.onChange())},e.prototype.props=function(e){var t=this,n=e.className,i=void 0===n?"":n,s=e.style,r=void 0===s?{}:s,a=Object.entries(e).reduce((function(e,n){var i=au(n,2),s=i[0],r=i[1],a=t._events[s];if("function"==typeof r&&"function"==typeof a){e[s]=function(e){return a(e),r(e)}}return e}),su({},this._events)),o=m()(i,ou([],au(this._classes))),l=su(su({},this._style),r);return su(su(su(su({},e),this._props),a),{style:l,className:o})},e.prototype.setStyle=function(e,t){e=e.startsWith("--")?e:e.replace(/(-[a-z])/g,(function(e){return e.toUpperCase().replace("-","")})),this._style[e]!==t&&(this._style[e]=t,this.onChange())},e.prototype.addEventListener=function(e,t){var n=mu(e);this._events[n]!==t&&(this._events[n]=t,this.onChange())},e.prototype.removeEventListener=function(e,t){var n=mu(e);this._events[n]&&(delete this._events[n],this.onChange())},e.prototype.setRef=function(e){e&&(this._ref=e)},Object.defineProperty(e.prototype,"ref",{get:function(){return this._ref},enumerable:!1,configurable:!0}),e}(),gu=function(e){return function(t,n,i){var s;void 0===i&&(i=!1),s=new CustomEvent(t,{detail:n,bubbles:i}),Object.defineProperty(s,"target",{value:n,writable:!1}),Object.defineProperty(s,"currentTarget",{value:n,writable:!1});var r=t;return e[r]&&e[r](s),s}},vu={bottom:0,height:0,left:0,right:0,top:0,width:0},bu=function(e,t){return(bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var yu=function(){return(yu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};var Eu={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},Su={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",standard:"transitionend"}};function Ou(e){return Boolean(e.document)&&"function"==typeof e.document.createElement}var Tu=function(){function e(e){void 0===e&&(e={}),this.adapter_=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();var _u={ACTIVE:"mdc-slider--active",DISABLED:"mdc-slider--disabled",DISCRETE:"mdc-slider--discrete",FOCUS:"mdc-slider--focus",HAS_TRACK_MARKER:"mdc-slider--display-markers",IN_TRANSIT:"mdc-slider--in-transit",IS_DISCRETE:"mdc-slider--discrete"},wu={ARIA_DISABLED:"aria-disabled",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",CHANGE_EVENT:"MDCSlider:change",INPUT_EVENT:"MDCSlider:input",PIN_VALUE_MARKER_SELECTOR:".mdc-slider__pin-value-marker",STEP_DATA_ATTR:"data-step",THUMB_CONTAINER_SELECTOR:".mdc-slider__thumb-container",TRACK_MARKER_CONTAINER_SELECTOR:".mdc-slider__track-marker-container",TRACK_SELECTOR:".mdc-slider__track"},Nu={PAGE_FACTOR:4},Au=["mousedown","pointerdown","touchstart"],Iu=["mouseup","pointerup","touchend"],ku={mousedown:"mousemove",pointerdown:"pointermove",touchstart:"touchmove"},Pu="ArrowDown",Lu="ArrowLeft",Ru="ArrowRight",Cu="ArrowUp",Du="End",Mu="Home",xu="PageDown",ju="PageUp",Uu=function(e){function t(n){var i=e.call(this,yu({},t.defaultAdapter,n))||this;return i.savedTabIndex_=NaN,i.active_=!1,i.inTransit_=!1,i.isDiscrete_=!1,i.hasTrackMarker_=!1,i.handlingThumbTargetEvt_=!1,i.min_=0,i.max_=100,i.step_=0,i.value_=0,i.disabled_=!1,i.preventFocusState_=!1,i.thumbContainerPointerHandler_=function(){return i.handlingThumbTargetEvt_=!0},i.interactionStartHandler_=function(e){return i.handleDown_(e)},i.keydownHandler_=function(e){return i.handleKeydown_(e)},i.focusHandler_=function(){return i.handleFocus_()},i.blurHandler_=function(){return i.handleBlur_()},i.resizeHandler_=function(){return i.layout()},i}return function(e,t){function n(){this.constructor=e}bu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return _u},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return wu},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Nu},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},addClass:function(){},removeClass:function(){},getAttribute:function(){return null},setAttribute:function(){},removeAttribute:function(){},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabIndex:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},registerThumbContainerInteractionHandler:function(){},deregisterThumbContainerInteractionHandler:function(){},registerBodyInteractionHandler:function(){},deregisterBodyInteractionHandler:function(){},registerResizeHandler:function(){},deregisterResizeHandler:function(){},notifyInput:function(){},notifyChange:function(){},setThumbContainerStyleProperty:function(){},setTrackStyleProperty:function(){},setMarkerValue:function(){},setTrackMarkers:function(){},isRTL:function(){return!1}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;this.isDiscrete_=this.adapter_.hasClass(_u.IS_DISCRETE),this.hasTrackMarker_=this.adapter_.hasClass(_u.HAS_TRACK_MARKER),Au.forEach((function(t){e.adapter_.registerInteractionHandler(t,e.interactionStartHandler_),e.adapter_.registerThumbContainerInteractionHandler(t,e.thumbContainerPointerHandler_)})),this.adapter_.registerInteractionHandler("keydown",this.keydownHandler_),this.adapter_.registerInteractionHandler("focus",this.focusHandler_),this.adapter_.registerInteractionHandler("blur",this.blurHandler_),this.adapter_.registerResizeHandler(this.resizeHandler_),this.layout(),this.isDiscrete_&&0===this.getStep()&&(this.step_=1)},t.prototype.destroy=function(){var e=this;Au.forEach((function(t){e.adapter_.deregisterInteractionHandler(t,e.interactionStartHandler_),e.adapter_.deregisterThumbContainerInteractionHandler(t,e.thumbContainerPointerHandler_)})),this.adapter_.deregisterInteractionHandler("keydown",this.keydownHandler_),this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter_.deregisterResizeHandler(this.resizeHandler_)},t.prototype.setupTrackMarker=function(){this.isDiscrete_&&this.hasTrackMarker_&&0!==this.getStep()&&this.adapter_.setTrackMarkers(this.getStep(),this.getMax(),this.getMin())},t.prototype.layout=function(){this.rect_=this.adapter_.computeBoundingRect(),this.updateUIForCurrentValue_()},t.prototype.getValue=function(){return this.value_},t.prototype.setValue=function(e){this.setValue_(e,!1)},t.prototype.getMax=function(){return this.max_},t.prototype.setMax=function(e){if(e<this.min_)throw new Error("Cannot set max to be less than the slider's minimum value");this.max_=e,this.setValue_(this.value_,!1,!0),this.adapter_.setAttribute(wu.ARIA_VALUEMAX,String(this.max_)),this.setupTrackMarker()},t.prototype.getMin=function(){return this.min_},t.prototype.setMin=function(e){if(e>this.max_)throw new Error("Cannot set min to be greater than the slider's maximum value");this.min_=e,this.setValue_(this.value_,!1,!0),this.adapter_.setAttribute(wu.ARIA_VALUEMIN,String(this.min_)),this.setupTrackMarker()},t.prototype.getStep=function(){return this.step_},t.prototype.setStep=function(e){if(e<0)throw new Error("Step cannot be set to a negative number");this.isDiscrete_&&("number"!=typeof e||e<1)&&(e=1),this.step_=e,this.setValue_(this.value_,!1,!0),this.setupTrackMarker()},t.prototype.isDisabled=function(){return this.disabled_},t.prototype.setDisabled=function(e){this.disabled_=e,this.toggleClass_(_u.DISABLED,this.disabled_),this.disabled_?(this.savedTabIndex_=this.adapter_.getTabIndex(),this.adapter_.setAttribute(wu.ARIA_DISABLED,"true"),this.adapter_.removeAttribute("tabindex")):(this.adapter_.removeAttribute(wu.ARIA_DISABLED),isNaN(this.savedTabIndex_)||this.adapter_.setAttribute("tabindex",String(this.savedTabIndex_)))},t.prototype.handleDown_=function(e){var t=this;if(!this.disabled_){this.preventFocusState_=!0,this.setInTransit_(!this.handlingThumbTargetEvt_),this.handlingThumbTargetEvt_=!1,this.setActive_(!0);var n=function(e){t.handleMove_(e)},i=ku[e.type],s=function(){t.handleUp_(),t.adapter_.deregisterBodyInteractionHandler(i,n),Iu.forEach((function(e){return t.adapter_.deregisterBodyInteractionHandler(e,s)}))};this.adapter_.registerBodyInteractionHandler(i,n),Iu.forEach((function(e){return t.adapter_.registerBodyInteractionHandler(e,s)})),this.setValueFromEvt_(e)}},t.prototype.handleMove_=function(e){e.preventDefault(),this.setValueFromEvt_(e)},t.prototype.handleUp_=function(){this.setActive_(!1),this.adapter_.notifyChange()},t.prototype.getClientX_=function(e){return e.targetTouches&&e.targetTouches.length>0?e.targetTouches[0].clientX:e.clientX},t.prototype.setValueFromEvt_=function(e){var t=this.getClientX_(e),n=this.computeValueFromClientX_(t);this.setValue_(n,!0)},t.prototype.computeValueFromClientX_=function(e){var t=this.max_,n=this.min_,i=(e-this.rect_.left)/this.rect_.width;return this.adapter_.isRTL()&&(i=1-i),n+i*(t-n)},t.prototype.handleKeydown_=function(e){var t=this.getKeyId_(e),n=this.getValueForKeyId_(t);isNaN(n)||(e.preventDefault(),this.adapter_.addClass(_u.FOCUS),this.setValue_(n,!0),this.adapter_.notifyChange())},t.prototype.getKeyId_=function(e){return e.key===Lu||37===e.keyCode?Lu:e.key===Ru||39===e.keyCode?Ru:e.key===Cu||38===e.keyCode?Cu:e.key===Pu||40===e.keyCode?Pu:e.key===Mu||36===e.keyCode?Mu:e.key===Du||35===e.keyCode?Du:e.key===ju||33===e.keyCode?ju:e.key===xu||34===e.keyCode?xu:""},t.prototype.getValueForKeyId_=function(e){var t=this,n=t.max_,i=t.min_,s=t.step_||(n-i)/100;switch(this.adapter_.isRTL()&&(e===Lu||e===Ru)&&(s=-s),e){case Lu:case Pu:return this.value_-s;case Ru:case Cu:return this.value_+s;case Mu:return this.min_;case Du:return this.max_;case ju:return this.value_+s*Nu.PAGE_FACTOR;case xu:return this.value_-s*Nu.PAGE_FACTOR;default:return NaN}},t.prototype.handleFocus_=function(){this.preventFocusState_||this.adapter_.addClass(_u.FOCUS)},t.prototype.handleBlur_=function(){this.preventFocusState_=!1,this.adapter_.removeClass(_u.FOCUS)},t.prototype.setValue_=function(e,t,n){if(void 0===n&&(n=!1),e!==this.value_||n){var i=this.min_,s=this.max_,r=e===i||e===s;this.step_&&!r&&(e=this.quantize_(e)),e<i?e=i:e>s&&(e=s),e=e||0,this.value_=e,this.adapter_.setAttribute(wu.ARIA_VALUENOW,String(this.value_)),this.updateUIForCurrentValue_(),t&&(this.adapter_.notifyInput(),this.isDiscrete_&&this.adapter_.setMarkerValue(e))}},t.prototype.quantize_=function(e){return Math.round(e/this.step_)*this.step_},t.prototype.updateUIForCurrentValue_=function(){var e=this,t=this,n=t.max_,i=t.min_,s=(t.value_-i)/(n-i),r=s*this.rect_.width;this.adapter_.isRTL()&&(r=this.rect_.width-r);var a=function(e,t){if(Ou(e)&&t in Eu){var n=e.document.createElement("div"),i=Eu[t],s=i.standard,r=i.prefixed;return s in n.style?s:r}return t}(window,"transform"),o=function(e,t){if(Ou(e)&&t in Su){var n=e.document.createElement("div"),i=Su[t],s=i.standard,r=i.prefixed;return i.cssProperty in n.style?s:r}return t}(window,"transitionend");if(this.inTransit_){var l=function(){e.setInTransit_(!1),e.adapter_.deregisterThumbContainerInteractionHandler(o,l)};this.adapter_.registerThumbContainerInteractionHandler(o,l)}requestAnimationFrame((function(){e.adapter_.setThumbContainerStyleProperty(a,"translateX("+r+"px) translateX(-50%)"),e.adapter_.setTrackStyleProperty(a,"scaleX("+s+")")}))},t.prototype.setActive_=function(e){this.active_=e,this.toggleClass_(_u.ACTIVE,this.active_)},t.prototype.setInTransit_=function(e){this.inTransit_=e,this.toggleClass_(_u.IN_TRANSIT,this.inTransit_)},t.prototype.toggleClass_=function(e,t){t?this.adapter_.addClass(e):this.adapter_.removeClass(e)},t}(Tu);var Fu=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(),i=function(e){var t=e.foundation,n=e.props,i=e.elements,s=e.api,a=au((0,r.useState)(0),2)[1],o=(0,r.useRef)(n);o.current=n;var l=(0,r.useMemo)((function(){return Object.keys(i).reduce((function(e,t){return e[t]=new fu((function(){a((function(e){return e+1}))})),e}),{})}),[]),c=(0,r.useMemo)((function(){var e=t(su(su({},l),{getProps:function(){return o.current},emit:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gu(o.current).apply(void 0,ou([],au(e)))}}));return s&&uu(o.current.apiRef,s(su({foundation:e},l))),e}),[]);return(0,r.useEffect)((function(){var e=c;return e.init(),s&&uu(o.current.apiRef,s(su({foundation:e},l))),uu(o.current.foundationRef,e),function(){e.destroy(),uu(o.current.apiRef,null),uu(o.current.foundationRef,null),Object.values(l).map((function(e){return e.destroy()})),o.current={}}}),[c,l]),su({foundation:c},l)}({props:e,elements:{rootEl:!0,thumbContainerEl:!0,sliderPinEl:!0},foundation:function(e){var i,r,a,o=e.rootEl,l=e.thumbContainerEl,c=e.sliderPinEl,d=e.emit;return new Uu({hasClass:function(e){return o.hasClass(e)},addClass:function(e){return o.addClass(e)},removeClass:function(e){return o.removeClass(e)},getAttribute:function(e){return o.getProp(e)},setAttribute:(i=function(e,t){return o.setProp(e,t)},r=300,function(){var e=this,t=arguments,n=function(){a=null,i.apply(e,t)};null!==a&&clearTimeout(a),a=setTimeout(n,r)}),removeAttribute:function(e){return o.removeProp(e)},computeBoundingRect:function(){return o.ref?o.ref.getBoundingClientRect():vu},getTabIndex:function(){return o.ref?o.ref.tabIndex:0},registerInteractionHandler:function(e,t){o.addEventListener(e,t)},deregisterInteractionHandler:function(e,t){o.removeEventListener(e,t)},registerThumbContainerInteractionHandler:function(e,t){l.addEventListener(e,t)},deregisterThumbContainerInteractionHandler:function(e,t){l.removeEventListener(e,t)},registerBodyInteractionHandler:function(e,t){document.body&&document.body.addEventListener(e,t)},deregisterBodyInteractionHandler:function(e,t){document.body&&document.body.removeEventListener(e,t)},registerResizeHandler:function(e){window.addEventListener("resize",e)},deregisterResizeHandler:function(e){window.removeEventListener("resize",e)},notifyInput:function(){d("onInput",{value:s.getValue()})},notifyChange:function(){d("onChange",{value:s.getValue()})},setThumbContainerStyleProperty:function(e,t){l.setStyle(e,t)},setTrackStyleProperty:function(e,n){var i;null===(i=t.current)||void 0===i||i.style.setProperty(e,n)},setMarkerValue:function(e){c.setProp("value",e)},setTrackMarkers:function(e,t,i){var s,r=e.toLocaleString(),a="linear-gradient(to right, currentColor 2px, transparent 0) "+("0 center / calc((100% - 2px) / "+("(("+t.toLocaleString()+" - "+i.toLocaleString()+") / "+r+")")+") 100% repeat-x");null===(s=n.current)||void 0===s||s.style.setProperty("background",a)},isRTL:function(){return!!o.ref&&"rtl"===getComputedStyle(o.ref).direction}})}}),s=i.foundation,a=iu(i,["foundation"]);return(0,r.useEffect)((function(){void 0!==e.max&&s.setMax(+e.max)}),[e.max,s]),(0,r.useEffect)((function(){void 0!==e.min&&s.setMin(+e.min)}),[e.min,s]),(0,r.useEffect)((function(){var t=void 0!==e.value?Number(e.value):s.getValue(),n=s.getMin(),i=s.getMax();t<n&&(console.warn("Attempted to set slider to "+t+" which is less than min: "+n),t=n),t>i&&(console.warn("Attempted to set slider to "+t+" which is greater than max: "+i),t=i),s.setValue(t)}),[e.value,s]),(0,r.useEffect)((function(){void 0!==e.step&&s.setStep(+e.step)}),[e.step,s]),(0,r.useEffect)((function(){void 0!==e.disabled&&s.setDisabled(e.disabled)}),[e.disabled,s]),(0,r.useEffect)((function(){void 0!==e.discrete&&(s.isDiscrete_=e.discrete),e.discrete&&0===s.getStep()&&s.setStep(1)}),[e.discrete,s]),(0,r.useEffect)((function(){var t=s.hasTrackMarker_;void 0!==e.displayMarkers&&e.displayMarkers!==t&&(s.hasTrackMarker_=e.displayMarkers,window.requestAnimationFrame((function(){return s.setupTrackMarker()})))}),[e.displayMarkers,s]),(0,r.useEffect)((function(){var e=s.handleDown_.bind(s);s.handleDown_=function(t){t.persist(),e(t)}}),[s]),nu({setTrackRef:function(e){return t.current=e},setTrackMarkerContainerRef:function(e){return n.current=e}},a)},Hu=r.memo(r.forwardRef((function(e,t){return r.createElement("div",{ref:t,className:"mdc-slider__track"})}))),Vu=r.memo(r.forwardRef((function(e,t){return r.createElement("div",{ref:t,className:"mdc-slider__track-marker-container"})}))),Bu=r.memo((function(e){var t=e.value;return r.createElement("div",{className:"mdc-slider__pin"},r.createElement("span",{className:"mdc-slider__pin-value-marker"},t))})),Gu=r.memo((function(){return r.createElement("svg",{className:"mdc-slider__thumb",width:"21",height:"21"},r.createElement("circle",{cx:"10.5",cy:"10.5",r:"7.875"}))})),Wu=r.memo((function(){return r.createElement("div",{className:"mdc-slider__focus-ring"})})),zu=hu((function(e,t){var n=Fu(e),i=n.rootEl,s=n.thumbContainerEl,a=n.sliderPinEl,o=n.setTrackRef,l=n.setTrackMarkerContainerRef,c=e.value,d=(e.min,e.max),u=e.discrete,h=e.displayMarkers,p=e.step,f=e.disabled,g=(e.onChange,e.onInput,e.children),v=(e.foundationRef,iu(e,["value","min","max","discrete","displayMarkers","step","disabled","onChange","onInput","children","foundationRef"])),b=function(e,t){return m().apply(void 0,ou(ou([e.className],au(e.theme?lu(e.theme):[])),au("function"==typeof t?t(e):t)))}(e,["mdc-slider",{"mdc-slider--discrete":u,"mdc-slider--display-markers":h&&u}]),y=p?{"data-step":p}:{};return h&&!u&&console.warn("The 'displayMarkers' prop on rmwc Slider will\n        only work in conjunction with the 'discrete' prop"),r.createElement(cu,nu({tabIndex:0,role:"slider","aria-valuemax":d,"aria-valuenow":c,"aria-label":"Select Value"},f?{"aria-disabled":f}:{},y,v,{ref:t,element:i,className:b}),r.createElement("div",{className:"mdc-slider__track-container"},r.createElement(Hu,{ref:o}),h&&r.createElement(Vu,{ref:l})),r.createElement(cu,{element:s,className:"mdc-slider__thumb-container"},u&&r.createElement(Bu,{value:a.getProp("value")}),r.createElement(Gu,null),r.createElement(Wu,null)),g)}));n(85925);let Ku=0;class Yu extends r.Component{constructor(e){super(e),this.mdcRef=(0,r.createRef)(),this.setValue=e=>{this.setState({value:e})},this.onSliderInput=e=>{var t;const n=e.detail.value;this.layoutRecalculated||(null===(t=this.mdcRef.current)||void 0===t||t.layout(),this.layoutRecalculated=!0),this.setState({value:n}),this.props.onInput&&this.props.onInput(n)},this.onSliderChange=e=>{const t=e.detail.value;this.setState({value:t}),this.props.onChange&&this.props.onChange(t)},this.getLeftOffset=()=>100*(this.state.value-this.props.min)/(this.props.max-this.props.min)+"%",this.getSliderId=()=>`slider-with-tooltip-${this.id}`,this.getStyleElement=()=>`#${this.getSliderId()} .mdc-slider__thumb-container {\n        left: ${this.getLeftOffset()}\n    }`,this.getDisplayValue=e=>{const{formatNumbers:t,units:n}=this.props;return(t?t(e):e)+(n||"")},this.setActive=e=>()=>this.setState({active:e}),this.hasChanged=()=>{this.setState({hasChanged:!1})},this.onMouseDown=e=>{this.props.onInputStart&&this.props.onInputStart()},this.onEventMouseUp=e=>{this.props.onInputEnd&&this.props.onInputEnd()},this.onMouseUp=e=>{this.props.onInputEnd&&this.props.onInputEnd()},this.id=Ku++,this.state={value:void 0!==e.initialValue?e.initialValue:(e.max+e.min)/2,active:!1,hasChanged:!1},this.setActiveSlider=this.setActive(!0),this.setInactiveSlider=this.setActive(!1)}componentDidMount(){document.addEventListener("mouseup",this.onEventMouseUp),document.addEventListener("mouseleave",this.onEventMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onEventMouseUp),document.removeEventListener("mouseleave",this.onEventMouseUp)}componentDidUpdate(e,t){t.value!==this.state.value&&(clearTimeout(this.hasChangedTimeout),this.setState({hasChanged:!0}),this.hasChangedTimeout=window.setTimeout(this.hasChanged,450))}render(){const{width:e,displayBounds:t,min:n,max:i,discrete:s,tooltipPosition:r=qu.DOWN,variant:a="default",disabled:o,tabIndex:l}=this.props,{active:d,hasChanged:u,value:h}=this.state,p={left:this.getLeftOffset()},f="inline-value"===a,g=!f&&t,v=!f,b=void 0!==l?l:0;return(0,c.jsxs)("div",Object.assign({id:this.getSliderId(),className:m()("slider-with-tooltip",{displayBounds:t,disabled:o}),style:{width:`${e}px`},onMouseEnter:this.setActiveSlider,onMouseLeave:this.setInactiveSlider},{children:[v&&r===qu.UP&&(0,c.jsx)("div",{className:m()("slider-tooltip",{active:d||u}),"data-balloon":this.getDisplayValue(h),"data-balloon-pos":qu.UP,style:p}),g&&(0,c.jsx)("div",Object.assign({className:"min-amount"},{children:this.getDisplayValue(n)})),f&&(0,c.jsx)("div",Object.assign({className:"min-amount"},{children:this.getDisplayValue(h)})),(0,c.jsx)(zu,{discrete:s,min:n,max:i,value:h,onInput:this.onSliderInput,onChange:this.onSliderChange,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,foundationRef:this.mdcRef,disabled:o,tabIndex:b}),g&&(0,c.jsx)("div",Object.assign({className:"max-amount"},{children:this.getDisplayValue(i)})),(0,c.jsx)("style",{dangerouslySetInnerHTML:{__html:this.getStyleElement()}}),v&&r===qu.DOWN&&(0,c.jsx)("div",{className:m()("slider-tooltip",{active:d||u}),"data-balloon":this.getDisplayValue(h),"data-balloon-pos":qu.DOWN,style:p})]}))}}var qu;function $u(e){const{stemEnabled:t,stemLength:n,onLengthUpdate:i,onLengthChanged:s,onStemEnabledChanged:a,variant:o,disabled:l,tabIndex:d}=e,u=(0,r.useRef)(null),h=(0,Rl.O)();(0,r.useEffect)((()=>{u.current&&u.current.setValue((0,tu.zy)(n))}),[n]);return(0,c.jsxs)("div",Object.assign({className:"stem-editor",onClick:e=>e.stopPropagation()},{children:[(0,c.jsx)("div",Object.assign({className:"stem-slider"},{children:(0,c.jsx)(Yu,{ref:u,discrete:!1,min:.1,max:9,initialValue:(0,tu.zy)(n),onChange:(e,t=!0)=>{const n=t?(0,tu._F)(e):e;s(n)},onInput:(e,t=!0)=>{const s=t?(0,tu._F)(e):e;s!==n&&i(s)},displayBounds:!0,width:150,formatNumbers:e=>{if(h===Ll.M.IMPERIAL)return(e=>{let t="";t+=Math.floor(e)+"'";const n=Math.floor(e%1*12);return n<10&&(t+="0"),t+=n+"''",t})(e);return`${Math.round(100*(0,tu._F)(e))/100}m`},tooltipPosition:qu.DOWN,variant:o,disabled:l,tabIndex:d})})),(0,c.jsx)(jn,{enabled:!0,checked:t,label:"Show Stem",onChange:e=>{const t=e.classList.contains("checked");a(t)}})]}))}!function(e){e.UP="up",e.DOWN="down"}(qu||(qu={}));var Zu=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const{PINS:Qu}=g.Z.WORKSHOP;let Xu=class extends r.Component{constructor(e){super(e),this.closePinAssetEditor=()=>{this.props.onClose()},this.handleColorPicked=e=>{this.context.analytics.trackGuiEvent("pin_change_color"),this.props.onSave({color:e})},this.saveStemEnabled=e=>{this.context.analytics.trackGuiEvent(e?"pin_show_stem":"pin_hide_stem"),this.props.onSave({stemEnabled:e})},this.saveStemLength=e=>{this.context.analytics.trackGuiEvent("pin_change_stem_height"),this.props.onSave({stemLength:e})},this.previewStemLength=e=>{const{id:t,pinType:n}=this.props;this.context.commandBinder.issueCommand(new Xd.tE(t,n,{stemLength:e}))},this.stopPropagation=e=>{e.stopPropagation()}}renderStemEditor(){const{pin:e}=this.props;return(0,c.jsx)($u,{stemLength:e.stemLength,stemEnabled:e.stemEnabled,onLengthUpdate:this.previewStemLength,onLengthChanged:this.saveStemLength,onStemEnabledChanged:this.saveStemEnabled})}render(){const{toolPanelLayout:e,open:t,pin:n,colors:i}=this.props,s=e===N.wS.BOTTOM_PANEL;if(!t&&!s)return null;const r=this.context.locale.t(Qu.COLOR_STEM_EDITOR_TITLE);return(0,c.jsxs)("div",Object.assign({className:m()("pin-tool-editor",{"tool-popup":!s,open:s&&t}),onClick:this.stopPropagation},{children:[(0,c.jsxs)("div",Object.assign({className:"tool-editor-title"},{children:[(0,c.jsx)("span",{children:r}),(0,c.jsx)(G.P,{theme:"dark",tooltip:"",onClose:this.closePinAssetEditor})]})),(0,c.jsx)(eu,{colors:i,defaultColor:n.color,onColorPicked:this.handleColorPicked}),this.renderStemEditor()]}))}};Xu.contextType=f.I,Xu=Zu([Tt.Z],Xu);var Ju=n(65428);const eh=(0,he.Y)(!1);function th(e){eh.value=e}function nh(){return[ue(eh),th]}function ih(e){const{analyticAction:t}=e,{analytics:n,commandBinder:i}=(0,r.useContext)(f.I),s=(0,Ic.s)(),a=fc(),o=fs(null==a?void 0:a.id),[l,d]=nh();if(!(a&&s.length>1))return null;const u=s.findIndex((e=>{const t=e.id,n=e.parentId;return n&&n===(null==a?void 0:a.id)&&(!o||t===(null==o?void 0:o.id))}));return(0,c.jsx)(Ol,{index:u,total:s.length,disabled:l,wrapAround:!0,onNavigate:e=>{const r=s[e];if(!r)return;const o=r.id,l=r.parentId;if(!o||!l)return;d(!0);const c=a?null:Lt.n.Interpolate;n.trackToolGuiEvent("notes",t),i.issueCommand(new cc.yP(l,!0,!1,o,c)).then((()=>{d(!1)}))}})}const{NOTES:sh}=g.Z.SHOWCASE;function rh(){const e=jc(),{commandBinder:t}=(0,r.useContext)(f.I),n=(0,w.b)(),i=Rc(),s=(0,Ju.A)(),[a]=nh(),o=i&&s&&(s===N.w1.SEARCH||s===N.w1.LAYERS),l=o||!i,d=!e&&!o,u=l?n.t(sh.NAV_BACK):n.t(sh.NAV_CLOSE),p=l?"back":"close";return(0,c.jsxs)("div",Object.assign({className:"detail-panel-header"},{children:[(0,c.jsx)(G.P,{icon:p,label:u,onClose:()=>{a||(o?t.issueCommand(new h.cR).then((()=>{t.issueCommand(new h.qy(!1))})):i?t.issueCommand(new h.CH(N.w1.NOTES)):t.issueCommand(new cc._N))}}),d&&(0,c.jsx)(ih,{analyticAction:"notes_navigate_in_panel"})]}))}function ah({panelOpen:e,note:t}){const{commandBinder:n}=(0,r.useContext)(f.I),i=pc(),s=(0,A.T)(),a=(0,r.useRef)(null),o=xc(),l=Dc(),d=null==t?void 0:t.id;(0,ae.U)(Mc.J,(e=>{a.current&&a.current.scrollToSelector(`[data-id='${e.commentId}']`)})),(0,r.useEffect)((()=>{a.current&&d&&a.current.resetScrollTop()}),[d]);const u=!(!t||!i)&&(0,mc.CM)(i,ls.J.NOTE,t.user),h=o===dc.U.EDITING,p=s===N.wS.BOTTOM_PANEL,m=h&&p;return(0,c.jsxs)(Qd.J,Object.assign({ref:a,open:e,className:"note-panel",scrollingDisabled:m,onClose:()=>{n.issueCommand(new cc._N)}},{children:[t&&!l&&(0,c.jsx)(rh,{}),t&&(0,c.jsx)(Zd,{note:t}),t&&d&&p&&u&&(0,c.jsx)(Xu,{id:d,pin:t,pinType:as.Er.NOTE,onSave:e=>{d&&n.issueCommand(new cc.oE(d,e))},onClose:()=>{n.issueCommand(new cc.df(!1))},colors:Jt.ZP.colors,open:h,toolPanelLayout:s},d)]}))}var oh=n(70704),lh=n(43363);n(11213);const{NOTES:ch}=g.Z.SHOWCASE;function dh(){const e=(0,w.b)(),t=Lc(),n=(0,r.useRef)(null);return(0,c.jsx)("div",Object.assign({className:"search-filter"},{children:(0,c.jsxs)(k.xz,Object.assign({ref:n,icon:"filter",ariaLabel:e.t(ch.FILTER),variant:k.Wu.TERTIARY,size:k.qE.SMALL,menuClassName:"search-filter-menu"},{children:[(0,c.jsxs)("div",Object.assign({className:"search-filter-menu-header"},{children:[(0,c.jsx)("div",{children:e.t(ch.FILTER_BY)}),(0,c.jsx)(G.P,{onClose:()=>{n.current&&n.current.closeMenu()}})]})),(0,c.jsx)(uh,{id:Pc.$.ALL,label:e.t(ch.FILTER_ALL),selected:t===Pc.$.ALL},Pc.$.ALL),(0,c.jsx)(uh,{id:Pc.$.OPEN,label:e.t(ch.FILTER_UNRESOLVED),selected:t===Pc.$.OPEN},Pc.$.OPEN),(0,c.jsx)(uh,{id:Pc.$.RESOLVED,label:e.t(ch.FILTER_RESOLVED),selected:t===Pc.$.RESOLVED},Pc.$.RESOLVED)]}))}))}function uh({id:e,label:t,selected:n}){const{commandBinder:i,analytics:s}=(0,r.useContext)(f.I);return(0,c.jsx)(lh.e,{id:e,label:t,selected:n,onToggled:()=>{n||(s.trackToolGuiEvent("notes","notes_list_change_filter"),i.issueCommand(new cc.RO(e,!0)))}})}var hh=n(71282);const{NOTES:ph}=g.Z.SHOWCASE;function mh({children:e,title:t,hideBadge:n}){const i=(0,w.b)(),s=(0,uc.A)(),r=(0,Ic.s)().length,a=(0,c.jsx)(hh.B,{filter:(0,c.jsx)(dh,{})}),o=t||i.t(s?ph.COMMENTS:ph.NOTES,r);return(0,c.jsx)(oh.L,Object.assign({toolId:N.w1.NOTES,className:"notes-list-panel",title:o,subheader:a,hideBadge:n},{children:e}))}function fh({children:e,title:t,hideBadge:n}){const i=(0,Sn.R)(),s=(0,A.T)(),a=Rc(),o=fc(),l=function(){const e=fc(),t=Cc();return(null==e?void 0:e.id)===(null==t?void 0:t.id)?e:null}(),d=Dc(),[u,h]=(0,r.useState)(l),p=a;(0,r.useEffect)((()=>{o&&(null==o?void 0:o.id)!==(null==u?void 0:u.id)&&h(o)}),[null==o?void 0:o.id]);const m=d?l:o,f=s===N.wS.BOTTOM_PANEL,g=i&&i!==Ne.P.CONFIRM,v=!(!m||f&&g);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ah,{panelOpen:v,note:m||u}),!p&&(0,c.jsx)(mh,Object.assign({title:t,hideBadge:n},{children:e}))]})}var gh=n(41407),vh=n(43013);const{NOTES:bh}=g.Z.SHOWCASE;function yh(){const e=fc(),t=Yi.HH.DATE,n=!!(0===(0,Ic.s)().length)||void 0;let i;const s=Lc();if(!(0,kc.D)())switch(s){case Pc.$.OPEN:i=bh.HAVE_NONE_OPEN;break;case Pc.$.RESOLVED:i=bh.HAVE_NONE_RESOLVED;break;default:i=bh.HAVE_NONE}return(0,c.jsx)(fh,{children:(0,c.jsx)("div",Object.assign({className:"panel-list"},{children:(0,c.jsx)(gh.D,{renderItem:Sc,renderGroup:vh.v,activeItemId:null==e?void 0:e.id,grouping:t,excludeEmptyGroups:n,emptyPhrase:i})}))})}const Eh=(0,pe.u)(Ho.Z);function Sh(e,t){return!(!e||!t)&&(e.isInside()&&t.isSweepUnaligned(t.currentSweep))}function Oh(){const e=Eh(),t=et(),[n,i]=(0,r.useState)(Sh(t||void 0,e||void 0));function s(){e&&t&&i(Sh(t,e))}return(0,ae.U)(il.Z,s),(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.makeSweepChangeSubscription(s);return s(),()=>t.cancel()}),[e]),n}const Th=(0,pe.u)(os.B);function _h(){const e=Th(),[t,n]=(0,r.useState)(e?e.pinEditorState:as.V8.IDLE);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onPinEditorStateChanged(n);return()=>t.cancel()}),[e]),t}function wh({progress:e,screenPosition:t}){if(!(0,r.useMemo)((()=>(0,bt.Jm)()),[])||!t||0===e)return null;const n={left:t.x-66+"px",top:t.y-66+"px"};return(0,c.jsx)("div",Object.assign({className:"point-button-wrapper",style:n},{children:(0,c.jsx)(vr.$,Object.assign({progress:100*e,innerRadius:132,barWidth:8},{children:(0,c.jsx)("circle",{className:"point",cx:"0",cy:"0",r:"22",transform:"rotate(-90)",fill:"#fff"})}))}))}function Nh({children:e}){return(0,c.jsx)("div",Object.assign({className:"overlay-message"},{children:e}))}const{NOTES:Ah}=g.Z.SHOWCASE;function Ih(){const e=(0,r.useMemo)((()=>(0,bt.Jm)()),[]),t=_h(),n=function(){const e=Th(),[t,n]=(0,r.useState)(!!e&&e.canPlace);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onCanPlaceChanged(n);return n(e.canPlace),()=>t.cancel()}),[e]),t}(),i=(0,w.b)(),s=t===as.V8.CREATING,a=t===as.V8.PLACING;let o=null;if(s||!n||!e&&a){const t=i.t(e?Ah.OVERLAY_ADD_TOUCH:Ah.OVERLAY_ADD_CLICK),s=i.t(e?Ah.OVERLAY_PLACE_TOUCH:Ah.OVERLAY_PLACE_CLICK);o=n?t:s}return o?(0,c.jsxs)(Nh,{children:[(0,c.jsx)("div",{className:"icon icon-notes"}),(0,c.jsx)("span",Object.assign({className:"message"},{children:o}))]}):null}var kh,Ph=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};!function(e){e.ADD="plus",e.CANCEL="cancel",e.CONFIRM="checkmark"}(kh||(kh={}));const Lh=(0,r.forwardRef)(((e,t)=>{var{addIcon:n,className:i}=e,s=Ph(e,["addIcon","className"]);const a=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(()=>({dismissNudge:()=>{a.current&&a.current.dismissNudge()}})),[]);const o=n===kh.CANCEL,l=o?kh.ADD:n,d=m()("add-button",i,{"add-cancel":o});return(0,c.jsx)(K,Object.assign({},s,{ref:a,className:d,variant:k.Wu.FAB,icon:l,theme:"dark",featured:!0}))}));var Rh=n(90055),Ch=n(86191),Dh=n(16326);function Mh({layer:e,active:t,onClick:n}){const{id:i}=e,s=(0,Li.K)(),r=(0,Ch.W)(i,s),a=t?"checkmark":void 0;return(0,c.jsx)(k.zx,{className:"layer-item",label:r,icon:a,active:t,variant:k.Wu.TERTIARY,size:k.qE.SMALL,onClick:()=>{n(i)}})}var xh=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const{LAYERS:jh}=g.Z.WORKSHOP,Uh=(0,r.forwardRef)(((e,t)=>{var{allowLayerChange:n,onChangeLayer:i}=e,s=xh(e,["allowLayerChange","onChangeLayer"]);const a=(0,r.useRef)(null),o=(0,r.useRef)(null),l=(0,B.y)(ji.Wp,!1),{editMode:d,commandBinder:u}=(0,r.useContext)(f.I),h=(0,Rh.LP)(),p=(0,Li.K)(),g=(0,Ch.W)(null==h?void 0:h.id,p),v=(0,Dh.Y)(),b=(0,Rh.LP)(),y=(0,w.b)();(0,r.useImperativeHandle)(t,(()=>({dismissNudge:()=>{a.current&&a.current.dismissNudge()}})),[]);const E=(0,c.jsx)(Lh,Object.assign({ref:a},s));if(!l||!d||v.length<2)return E;const S=e=>{e!==(null==h?void 0:h.id)&&(u.issueCommand(new Qi.cq(e,!0)),i&&i(e))},O=h?g:y.t(jh.UNLAYERED_LAYER_LABEL),T=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",Object.assign({className:"button-menu-label"},{children:y.t(jh.LAYER_ADDING_TO_LABEL)})),(0,c.jsx)("div",Object.assign({className:"active-layer-name"},{children:O}))]}),_=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",Object.assign({className:"menu-title",onClick:e=>e.stopPropagation()},{children:y.t(jh.LAYER_ADDING_TO_CHOICE_LABEL)})),(0,c.jsx)(k.zx,{icon:"close",variant:k.Wu.TERTIARY,size:k.qE.SMALL,onClick:()=>{o.current&&o.current.closeMenu()}})]});return(0,c.jsxs)("div",Object.assign({className:m()("layered-add-button",{"with-layer-menu":n})},{children:[E,(0,c.jsxs)(k.xz,Object.assign({ref:o,label:T,className:"add-menu-button",menuClassName:"add-button-layer-menu",menuPlacement:"top",variant:k.Wu.FAB,size:k.qE.SMALL,theme:"dark",caret:!0},{children:[_,v.map((e=>{const{id:t}=e,n=(null==b?void 0:b.id)===t;return(0,c.jsx)(Mh,{layer:e,onClick:S,active:n},t)}))]}))]}))})),{NOTES:Fh}=g.Z.SHOWCASE;function Hh({canEdit:e,canDelete:t}){const n=(0,r.useRef)(null),{commandBinder:i,analytics:s}=(0,r.useContext)(f.I),a=xc(),o=fc(),l=Dc(),d=(0,A.T)(),u=_h(),h=function(){const e=Th(),[t,n]=(0,r.useState)(!!e&&e.canAdd);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onCanAddChanged(n);return n(e.canAdd),()=>t.cancel()}),[e]),t}(),p=(0,w.b)(),m=u!==as.V8.IDLE,g=a===dc.U.EDITING;function v(){n.current&&n.current.dismissNudge()}const b=p.t(Fh.COLOR_STEM_TOOLTIP),y=p.t(Fh.DELETE_TOOLTIP),E=p.t(Fh.ADD_TOOLTIP),S=p.t(Fh.CANCEL_TOOLTIP),O=m?S:E,T=d===N.wS.SIDE_PANEL,_=!T||m,I=p.t(Fh.ADD_CTA_TOOLTIP),P=L.F.NotesAddNudgeSeen,R=m?kh.CANCEL:kh.ADD,C=m,D=T&&e&&!m?(0,c.jsx)(k.zx,{className:"action-button-outer",icon:"stem-height",variant:k.Wu.FAB,theme:"overlay",active:g,tooltip:b,onClick:()=>{v(),i.issueCommand(new cc.df(!g))}}):void 0,M=T&&t&&!m?(0,c.jsx)(k.zx,{className:"action-button-outer",variant:k.Wu.FAB,theme:"overlay",icon:"delete",tooltip:y,onClick:()=>{v(),o&&(s.trackToolGuiEvent("notes","notes_overlay_click_delete"),i.issueCommand(new cc.sG(o.id)))}}):void 0;return(0,c.jsx)(Nl,Object.assign({outerLeft:D,outerRight:M},{children:(0,c.jsx)(Uh,{ref:n,addIcon:R,allowLayerChange:C,disabled:!h,onClick:()=>{v(),m?l&&i.issueCommand(new cc.gc):(s.trackToolGuiEvent("notes","notes_overlay_click_add"),i.issueCommand(new cc.VI))},tooltip:O,nudgeFeatureKey:Jt.pE,nudgeDisabled:_,nudgeMessage:I,nudgeLocalStorage:P})}))}function Vh(){const{commandBinder:e}=(0,r.useContext)(f.I),t=(0,Sn.R)(),n=(0,A.T)(),i=fc(),s=xc(),a=_h(),o=function(){const e=Th(),[t,n]=(0,r.useState)((null==e?void 0:e.progress)||0);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onProgressChanged(n);return n(e.progress),()=>t.cancel()}),[e]),t}(),l=function(){const e=Th(),[t,n]=(0,r.useState)((null==e?void 0:e.screenPosition)||null);return(0,r.useEffect)((()=>{if(!e)return()=>{};const t=e.onScreenPositionChanged(n);return n(e.screenPosition),()=>t.cancel()}),[e]),t}(),d=pc(),u=jc(),h=Dc(),p=s===dc.U.CLOSED,m=Oh();if(t||!d||p)return null;const g=s===dc.U.OPENING,v=s===dc.U.EDITING,b=d.isCommenter()&&!m&&!u,y=!!i&&(0,mc.CM)(d,ls.J.NOTE,i.user),E=!!i&&(0,mc.Kd)(d,ls.J.NOTE,i.user),S=n===N.wS.SIDE_PANEL,O=a===as.V8.PRESSING,T=!!i&&!g,_=!S&&!h&&i&&y;return(0,c.jsxs)("div",Object.assign({className:"overlay grid-overlay notes-overlay"},{children:[_&&(0,c.jsx)("div",Object.assign({className:"overlay-top-right"},{children:(0,c.jsx)(k.zx,{icon:"stem-height",variant:k.Wu.FAB,theme:"overlay",disabled:!T,active:v,onClick:t=>{t.stopPropagation(),e.issueCommand(new cc.df(!v))}})})),(0,c.jsx)(Ih,{}),b&&(0,c.jsx)(Hh,{canEdit:y,canDelete:E}),i&&S&&y&&(0,c.jsx)(Xu,{pin:i,id:i.id,pinType:as.Er.NOTE,onSave:t=>{i&&e.issueCommand(new cc.oE(i.id,t))},onClose:()=>{e.issueCommand(new cc.df(!1))},open:v,colors:Jt.ZP.colors,toolPanelLayout:n}),O&&(0,c.jsx)(wh,{progress:o,screenPosition:l})]}))}class Bh{constructor(){this.renderPanel=()=>(0,c.jsx)(yh,{}),this.renderOverlay=()=>(0,c.jsx)(Vh,{})}}function Gh(){const{commandBinder:e}=(0,r.useContext)(f.I),t=El(),n=Fr(),i=(0,pe.m)(Xr.n),s=(0,pe.m)(xr.n),a=(0,pe.m)(cs.A),[o,l]=(0,r.useState)(null),[d,u]=(0,r.useState)(!0),h=(0,B.y)(ia.ho,!0),p=(0,B.y)(_n.sX,!1),g=(0,B.y)(ia.RV,!1);(0,r.useEffect)((()=>{if(!(i&&s&&t&&(null==i?void 0:i.getTag(t.id))))return;const e=i.getTag(t.id);function n(e){const t=null==a?void 0:a.getCapabilities(e);return t&&u(t.share),t}l(Object.assign({},t));const r=n(t.id),o=null==r?void 0:r.onChanged((()=>n(t.id))),c=e.onChanged((()=>{const e=s.getTagView(t.id);l(e?Object.assign({},e):null)}));return()=>{c.cancel(),null==o||o.cancel()}}),[a,t,i,s]);const v=t=>{e.issueCommand(new Ss.xW(!0,S,t))};if(!o)return null;const{id:b,description:y,label:E,attachments:S,keywords:O,icon:T,color:_}=o,w=new Mr.v({links:!0}),N=(0,qs.Ug)(S),A=(0,qs.ae)(S),I=N.length>0,P=d&&h;return(0,c.jsxs)("div",Object.assign({className:m()("tag-view-panel",{"viewable-media":I})},{children:[I&&!p&&(0,c.jsx)(Hr,{attachments:N,onClick:(e,t)=>{v(t)}}),(0,c.jsxs)("div",Object.assign({className:m()("tag-view-panel-header",{"no-media":p||!I})},{children:[(0,c.jsx)(vs.C,{badgeStyle:{background:_},iconClass:`icon-${(0,Tc.mg)(as.Er.MATTERTAG,T,g)}`}),(0,c.jsxs)("div",Object.assign({className:"tag-view-panel-header-contents"},{children:[(0,c.jsxs)("div",Object.assign({className:"tag-view-panel-top"},{children:[E&&(0,c.jsx)("div",Object.assign({className:"tag-view-panel-title"},{children:E})),(void 0===P||P)&&(0,c.jsx)(Kr,{prefix:"tag",pin:o,id:o.id,darkTheme:!1,includeCameraView:!0,analyticAction:"tags_copy_share_link",buttonVariant:k.Wu.TERTIARY},o.id)]})),O&&(0,c.jsx)(Qr,{className:"tag-view-panel-keywords",keywords:O,maxVisible:5}),(0,c.jsx)(Nr,{text:y,textParser:w,linkHandler:n,annotationType:ls.J.TAG,annotationId:b,attachments:[],onViewAttachment:v})]}))]})),A.length>0&&(0,c.jsxs)("div",Object.assign({className:"tag-view-panel-attachments"},{children:[(0,c.jsx)("h4",{children:"Attachments"}),(0,c.jsx)(Sr,{annotationType:ls.J.TAG,attachments:A})]}))]}))}const{TAGS:Wh}=g.Z.SHOWCASE;function zh(){const e=(0,Ju.A)(),t=(0,A.T)(),n=(0,Sn.R)(),i=(0,B.y)(ia.ek,"1"),{commandBinder:s,locale:a}=(0,r.useContext)(f.I),o=e&&(e===N.w1.SEARCH||e===N.w1.LAYERS),l=()=>{o?s.issueCommand(new h.cR).then((()=>{s.issueCommand(new h.qy(!1))})):s.issueCommand(new h.CH(N.w1.TAGS))},d=e?"back":"close",u=a.t(o?Wh.NAV_BACK_LABEL:Wh.CLOSE_TAG_LABEL),p=t===N.wS.BOTTOM_PANEL,m=n&&n!==Ne.P.CONFIRM,g=!p||!m;return(0,c.jsxs)(Qd.J,Object.assign({className:"tags-panel",open:g,scrollingDisabled:!1,onClose:l},{children:[(0,c.jsxs)("div",Object.assign({className:"detail-panel-header"},{children:[(0,c.jsx)(G.P,{icon:d,label:u,onClose:l}),i&&(0,c.jsx)(_l,{analyticAction:"tags_navigate_in_panel"})]})),(0,c.jsx)(Gh,{})]}))}class Kh{constructor(){this.renderPanel=()=>(0,c.jsx)(zh,{})}}var Yh=n(55318);const qh=n.p+"images/MP-logo_H_lock-RGB_color-black.svg",{SUBSCRIBER_PROMPT:$h}=g.Z.SHOWCASE,Zh=e=>{e.preventDefault()},Qh=()=>{const e=(0,ui.z)(),t=(0,w.b)(),[n,i]=(0,r.useState)(!0),s=(0,r.useCallback)((t=>{e.trackGuiEvent("subscriber_prompt_b_banner_click"),window.open(pi.Tm,"_blank")}),[e]);return(0,r.useEffect)((()=>(n&&(e.trackGuiEvent("subscriber_prompt_b_banner_viewed"),i(!1)),()=>{})),[e,n]),(0,c.jsxs)("div",Object.assign({className:"subscriber-prompt-banner",onClick:s},{children:[(0,c.jsx)("img",{className:"matterport-logo",alt:"Matterport",src:qh}),(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",onClick:Zh,href:pi.Tm},{children:t.t($h.BANNER_CTA_LINK_TEXT)}))]}))},Xh=(0,We.M)("isSubscriberBannerVisible",(()=>{const e=Pi();return mi().bannerEnabled&&e})),{SUMMARY:Jh}=g.Z.SHOWCASE,ep=_i.MN/1.6;class tp extends r.Component{constructor(e){super(e),this.getImageURL=e=>{const t=new URL(e);return t.searchParams.set("width",String(_i.MN)),t.searchParams.delete("height"),t.searchParams.delete("fit"),t.searchParams.set("crop","16:10"),t.searchParams.set("dpr",String(window.devicePixelRatio)),t.href},this.onExternalLinkClicked=e=>{this.context.analytics.track("showcase_share_origin_link_clicked")},this.state={thumbnail:void 0}}componentDidMount(){const{market:e}=this.context.engine;e.waitForData(Yh.O).then((e=>{e.thumb&&e.thumb.get().then((e=>{try{this.setState({thumbnail:this.getImageURL(e)})}catch(e){this.setState({thumbnail:void 0})}}))}))}getFilteredValue(e,t,n,i){return!this.context.settings.tryGetProperty(t,n)||i&&!this.props.brandingEnabled?"":e}render(){const{modelDetails:e,showExternalUrl:t,isSubscriberBannerVisible:n}=this.props,{thumbnail:i}=this.state,{locale:s}=this.context,{name:r,presentedBy:a,summary:o,formattedAddress:l,contact:d,externalUrl:u}=e,h=t?u:"",p=this.getFilteredValue(r,Ge.gx.DetailsModelName,!0,!1),m=this.getFilteredValue(o,Ge.gx.DetailsSummary,!1,!1),f=this.getFilteredValue(l,Ge.gx.DetailsAddress,!1,!1),v=this.getFilteredValue(a,Ge.gx.PresentedBy,!1,!0),b=this.getFilteredValue(d.name,Ge.gx.DetailsName,!1,!0),y=this.getFilteredValue(d.email,Ge.gx.DetailsEmail,!1,!0),E=this.getFilteredValue(d.phone,Ge.gx.DetailsPhone,!1,!0),S=this.getFilteredValue(d.formattedPhone,Ge.gx.DetailsPhone,!1,!0),O=S||E;return(0,c.jsx)("div",Object.assign({className:"summary-content"},{children:(0,c.jsxs)(Nt.Z,Object.assign({direction:At.Nm.vertical},{children:[i?(0,c.jsx)("img",{className:"summary-image",width:_i.MN,height:ep,src:i,alt:`Photo of "${p}"`}):null,n&&(0,c.jsx)(Qh,{}),(0,c.jsxs)("div",Object.assign({className:"summary-text-content"},{children:[p&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(Jh.LABEL_LOCATION)})),(0,c.jsx)("div",Object.assign({className:"location"},{children:p}))]}),f&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(Jh.LABEL_ADDRESS)})),(0,c.jsx)("div",Object.assign({className:"section-body"},{children:f}))]}),v&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:this.context.locale.t(g.Z.PRESENTED_BY)})),(0,c.jsx)("div",Object.assign({className:"section-body"},{children:v}))]}),(b||E||y)&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(Jh.LABEL_CONTACT)})),(0,c.jsxs)("div",Object.assign({className:"section-body"},{children:[b&&(0,c.jsx)("div",{children:b}),y&&(0,c.jsx)("div",{children:(0,c.jsx)("a",Object.assign({className:"link",href:"mailto:"+y},{children:y}))}),O&&(0,c.jsx)("div",{children:O})]}))]}),m&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(Jh.LABEL_INFORMATION)})),(0,c.jsx)("div",Object.assign({className:"section-body"},{children:m}))]}),h&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:s.t(Jh.LABEL_LEARN_MORE)})),(0,c.jsxs)("div",Object.assign({className:"external-link-wrapper"},{children:[(0,c.jsx)("i",Object.assign({className:"icon-ext-link"},{children:" "})),(0,c.jsx)("a",Object.assign({className:"section-body link",onClick:this.onExternalLinkClicked,href:h,target:"_blank",rel:"noopener"},{children:h}))]}))]})]}))]}))}))}}tp.contextType=f.I;const np=Xh(tp),{SUMMARY:ip}=g.Z.SHOWCASE;function sp(){const e=(0,w.b)(),t=va(),n=(0,B.y)(_n.L,!0),i=(0,B.y)(_n.sX,!1),s=n&&!i,r=n&&!i;return t?(0,c.jsx)(oh.L,Object.assign({toolId:N.w1.SUMMARY,title:e.t(ip.HEADING)},{children:(0,c.jsx)(np,{modelDetails:t,brandingEnabled:s,showExternalUrl:r})})):null}class rp{constructor(){this.renderPanel=()=>(0,c.jsx)(sp,{})}}var ap=n(20341);const op=(0,le.M)(rc.X,"phase",ap.au.CLOSED);var lp=n(96377),cp=n(36893);function dp(){const e=(0,lp.m)();return(0,cp.l)(e||"")}var up=n(75377);const hp=(0,le.M)(rc.X,"pressProgress",-1);function pp(){const{settings:e}=(0,r.useContext)(f.I),t=(0,w.b)(),n=(0,B.y)(L.F.MeasurementSnapping,!1),i=(0,B.y)(L.F.MeasurementContinuousLines,!1),s=(0,r.useCallback)((()=>{e.setLocalStorageProperty(L.F.MeasurementSnapping,!n)}),[e,n]),a=(0,r.useCallback)((()=>{e.setLocalStorageProperty(L.F.MeasurementContinuousLines,!i)}),[e,i]),o=t.t(g.Z.MEASUREMENT_CONTINUOUS_LINES),l=t.t(g.Z.MEASUREMENT_SNAPPING);return(0,c.jsxs)(Gl,{children:[(0,c.jsx)(Kl,{label:l,onToggle:s,enabled:!0,onOffLabel:!0,toggled:n}),(0,c.jsx)(Kl,{label:o,onToggle:a,enabled:!0,onOffLabel:!0,toggled:i}),(0,c.jsx)(Ml,{})]})}function mp({onOpenPopup:e,overlay:t}){const n=(0,w.b)().t(g.Z.MEASUREMENT_SETTINGS),i=t?"overlay":"light",s=t?k.Wu.FAB:k.Wu.TERTIARY,r=t?"bottom":"bottom-end";return(0,c.jsx)(Bl.P,Object.assign({icon:"settings",tooltip:n,theme:i,variant:s,tooltipPlacement:r,analytic:"measurements_settings_click",className:"measurement-settings",popupSize:"large",onOpenPopup:e},{children:(0,c.jsx)(pp,{})}))}const fp={addEnabled:{[ap.au.CREATING]:!0,[ap.au.CONFIRMING_POINT]:!0},deleteVisible:{[ap.au.IDLE]:!0,[ap.au.CREATING]:!0,[ap.au.CREATING_NEXT_POINT]:!0}},gp=(ap.au.CREATING,ap.au.CONFIRMING_POINT,{[ap.au.IDLE]:!0,[ap.au.CREATING]:!0,[ap.au.CREATING_NEXT_POINT]:!0});var vp=n(35870),bp=n(57989),yp=n(51205);const Ep="Measurement-Help",Sp="measurement-mode-help";function Op({touchDevice:e,unaligned:t,phase:n,confirming:i,selectedGroup:s}){const{editMode:a,commandBinder:o}=(0,r.useContext)(f.I),l=(0,r.useRef)(null),d=(0,w.b)();function u(){l.current&&l.current.dismissNudge()}const h=n===ap.au.CREATING&&(!s||0===s.count),p=n===ap.au.CREATING_NEXT_POINT&&!!s&&2===s.count,m=!i&&(h||p),v=n===ap.au.EDITING,b=m||i,y=t||v;let E=kh.ADD,S=d.t(g.Z.MEASUREMENT_ADD_LABEL);i?(E=kh.CONFIRM,S=d.t(g.Z.MEASUREMENT_SAVE_LABEL)):m&&(E=kh.CANCEL,S=d.t(g.Z.MEASUREMENT_CANCEL_LABEL));const O=s&&E!==kh.CANCEL&&(e?!!fp.deleteVisible[n]:!!gp[n]),T=d.t(g.Z.MEASUREMENT_START_ADDING),_=a,N=O?(0,c.jsx)(k.zx,{className:"action-button-outer",icon:"delete",variant:k.Wu.FAB,theme:"overlay",onClick:e=>{u(),e.stopPropagation(),o.issueCommand(new vp.Ev)}}):void 0;return(0,c.jsx)(Nl,Object.assign({outerRight:N},{children:(0,c.jsx)(Uh,{ref:l,disabled:y,addIcon:E,ariaLabel:S,ariaDescribedBy:Ep,allowLayerChange:b,onChangeLayer:()=>{u()},nudgeDisabled:_,nudgeMessage:T,nudgeSessionKey:"measurement-mode-add-tooltip",onClick:e=>{u(),e.stopPropagation(),n===ap.au.IDLE?o.issueCommand(new bp.c):o.issueCommand(new yp.B)}})}))}const Tp=n(69506);function _p(e){const{touchDevice:t,phase:n,groupCount:i}=e,{settings:s}=(0,r.useContext)(f.I),a=(0,w.b)(),o=(0,B.y)(Sp,!1),[l,d]=(0,r.useState)(!1);if((0,r.useEffect)((()=>()=>{l&&s.setProperty(Sp,!0)}),[l,s]),o)return null;const u=a.t(g.Z.MEASUREMENT_HELP_CLICK_ANYWHERE),h=a.t(g.Z.MEASUREMENT_HELP_ESCAPE),p=a.t(g.Z.MEASUREMENT_HELP_PRESS_START),v=a.t(g.Z.MEASUREMENT_HELP_DRAG_EDIT),b=a.t(g.Z.MEASUREMENT_HELP_PRESS_END);let y,E,S;if(t)switch(n){case ap.au.CREATING:y=(0,c.jsx)("div",{className:"icon icon-press-hold"}),E=p;break;case ap.au.CREATING_NEXT_POINT:y=(0,c.jsx)("div",{className:"icon icon-drag-edit"}),E=b,l||d(!0);break;case ap.au.EDITING:case ap.au.POINT_PLACED:y=(0,c.jsx)("div",{className:"icon icon-finger-drag"}),E=v;break;default:return null}else switch(n){case ap.au.CREATING:y=(0,c.jsx)("div",{className:"icon icon-draw-lines"}),E=u;break;case ap.au.CREATING_NEXT_POINT:i>=3&&(y=(0,c.jsx)("div",Object.assign({className:"escape-key"},{children:(0,c.jsx)("img",{src:Tp})})),E=h,S="escape-message",l||d(!0));break;default:return null}return(0,c.jsxs)("div",Object.assign({className:"overlay-message"},{children:[y,E&&(0,c.jsx)("span",Object.assign({id:Ep,className:m()("message",S)},{children:E}))]}))}function wp(){var e;const{editMode:t,analytics:n,commandBinder:i}=(0,r.useContext)(f.I),s=(0,w.b)(),a=(0,Sn.R)(),o=(0,Rl.O)(),l=(0,B.y)(L.F.MeasurementContinuousLines,!1),d=op(),u=a===Ne.P.MEASUREMENT_HELP,p=dp(),m=(0,r.useMemo)((()=>(0,bt.Jm)()),[]),v=function(){var e;const t=(0,up.J)(),[n,i]=(0,r.useState)(null!==(e=null==t?void 0:t.pointPosition)&&void 0!==e?e:null);return(0,r.useEffect)((()=>{if(!t)return()=>{};function e(){t&&i(t.pointPosition)}const n=t.onPointPositionChanged(e);return e(),()=>n.cancel()}),[t]),n}(),b=hp(),y=function(){const e=dp(),t=(0,B.y)(L.F.MeasurementContinuousLines,!1),n=(null==e?void 0:e.count)||0;return t?n>2:2===n}(),E=Oh(),S=!!p&&(y&&(l?d===ap.au.CREATING_NEXT_POINT:d===ap.au.CREATING));function O(){i.issueCommand(new Ae.B(Ne.P.MEASUREMENT_HELP,!1))}(0,r.useEffect)((()=>(d===ap.au.CLOSED&&O(),()=>{})),[d]);const T=fp.addEnabled[d],_=(null==p?void 0:p.info.text)?` ${p.info.text}`:"",A=p?`${((e,t)=>{if(t===Ll.M.METRIC)return`${e.toFixed(2)}m`;const{feet:n,inches:i}=(0,tu.XJ)(e);return n>0?`${n}' ${i}"`:`${i}"`})(p.length,o)} ${_}`:void 0,I=s.t(g.Z.HELP),P=s.t(g.Z.CLOSE);return(0,c.jsxs)("div",Object.assign({className:"overlay grid-overlay measurements-overlay"},{children:[p&&(0,c.jsx)(Tl,{children:A}),!t&&(0,c.jsx)("div",Object.assign({className:"overlay-top-right"},{children:(0,c.jsxs)(k.hE,Object.assign({spacing:"small"},{children:[(0,c.jsx)(mp,{onOpenPopup:()=>{O()},overlay:!0}),(0,c.jsx)(k.zx,{className:"measurement-help-btn",variant:k.Wu.FAB,theme:"overlay",icon:"help",active:u,onClick:e=>{e.stopPropagation(),u||n.trackToolGuiEvent("measurements","measure_mode_help_clicked"),i.issueCommand(new Ae.B(Ne.P.MEASUREMENT_HELP,!u))},ariaLabel:I,tooltip:!u&&I||void 0,tooltipOptions:{placement:"bottom"}}),(0,c.jsx)(k.zx,{icon:"close",variant:k.Wu.FAB,theme:"overlay",tooltip:P,tooltipOptions:{placement:"bottom"},onClick:async e=>{e&&e.stopPropagation(),O(),await i.issueCommand(new h.tT(N.w1.MEASUREMENTS,!1))}})]}))})),(0,c.jsx)(_p,{phase:d,touchDevice:m,groupCount:null!==(e=null==p?void 0:p.count)&&void 0!==e?e:0}),T&&(0,c.jsx)(wh,{progress:b,screenPosition:v}),(0,c.jsx)(Op,{unaligned:E,phase:d,touchDevice:m,selectedGroup:p,confirming:S})]}))}class Np{constructor(){this.renderOverlay=()=>(0,c.jsx)(wp,{})}}var Ap=n(85979),Ip=n(50540),kp=n(73698);const{TOOLS:Pp}=g.Z;class Lp extends o.Y{constructor(){super(),this.name="showcase-gui-module",this.onSaveError=e=>{const{error:t}=e;this.engine.commandBinder.issueCommand(new Ip.I(g.Z.ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE,{throttle:30,timeout:10,type:kp.N.ERROR,error:t}))},this.onForbiddenError=e=>{const{error:t}=e;this.engine.commandBinder.issueCommand(new Ip.I(g.Z.ERRORS.UNAUTHORIZED_ERROR_MESSAGE,{throttle:0,timeout:0,type:kp.N.ERROR,error:t}))},this.loadUi=this.loadUi.bind(this)}async init(e,t){this.engine=t,[this.settingsData,this.toolsData]=await Promise.all([t.market.waitForData(wi.e),t.market.waitForData(Xl.t)]),this.bindings.push(t.subscribe(Ap.dz,this.onSaveError),t.subscribe(Ap.hu,this.onForbiddenError))}async loadUi(e,t,n,i,s,o,l,c,d,u,h,p){const m={editMode:!1,locale:e,analytics:t,settings:n,toolsData:this.toolsData,userData:i,mainDiv:s,engine:l,messageBus:c,market:d,commandBinder:u,queue:p};this.reactRoot=(0,a.s)(o),this.reactRoot.render((0,r.createElement)(f.I.Provider,{value:m},[(0,r.createElement)(Ql,{key:"showcase-ui",onAppReadyChanged:h})])),this.initializeTools()}async unloadUi(){return!!this.reactRoot&&(this.reactRoot.unmount(),!0)}initializeTools(){const e=[new Jl.U({id:N.w1.NOTES,searchModeType:l.SF.NOTE,namePhraseKey:Pp.NOTES,deepLinkParam:"note",panel:!0,icon:"icon-comment-outline",analytic:"notes",dimmed:!1,enabled:this.settingsData.tryGetProperty(sl.IA,!1),hidesAppBar:!0,ui:new Bh,manager:new wc(this.engine,this.settingsData),helpMessagePhraseKey:Pp.NOTES_HELP_MESSAGE,helpHref:"https://support.matterport.com/s/article/Matterport-Notes"}),new Jl.U({id:N.w1.MEASUREMENTS,searchModeType:l.SF.MEASUREMENTPATH,namePhraseKey:Pp.MEASUREMENTS,panel:!1,icon:"icon-tape-measure",analytic:"measurements",dimmed:!1,enabled:this.settingsData.tryGetProperty(Ge.gx.Measurements,!0),ui:new Np,manager:new lc(this.engine,this.settingsData)}),new Jl.U({id:N.w1.SUMMARY,namePhraseKey:Pp.SUMMARY,panel:!0,panelLeft:!0,analytic:"summary",dimmed:!1,enabled:!0,hidesAppBar:!0,ui:new rp})];e.push(new Jl.U({id:N.w1.TAGS,namePhraseKey:Pp.TAGS,deepLinkParam:"tag",panel:!0,icon:"icon-toolbar-mattertags",analytic:"tags",dimmed:!1,enabled:!0,hidesAppBar:!0,ui:new Kh,manager:new Ac(this.engine,this.settingsData)})),this.engine.commandBinder.issueCommand(new h.MV(e))}}},87059:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>U});var i=n(19663);class s extends i.m{}s.id="SHOWCASE_START";class r extends i.m{}r.id="SHOWCASE_STOP";class a extends i.m{}a.id="SHOWCASE_READY";var o=n(97542),l=n(92810),c=n(10374),d=n(34029),u=n(54244),h=n(79606),p=n(2367),m=n(44239),f=n(53954),g=n(26568),v=n(7159),b=n(45059),y=n(38399),E=n(31362),S=n(59279),O=n(39880),T=n(46950),_=n(80694),w=n(98010);class N extends w.v0{constructor(e){super(),this.expanded=e}}var A=n(82668);class I{constructor(e,t){this.lastProgress=0,this.currentProgress=0,this.webpackChunks=[],this.meshAlloc={alloc:2e6,loaded:0},this.showingProgress=!1,this.onWebpackChunkProgress=e=>{this.webpackChunks[e.chunkID]?this.webpackChunks[e.chunkID].loaded=e.loaded:this.webpackChunks[e.chunkID]={loaded:e.loaded,total:e.total},this.calcProgress()},this.progressElm=t.querySelector("#bar"),window.addEventListener("WebpackChunkProgress",this.onWebpackChunkProgress),this.engine=e,this.meshProgressBinding=this.onMeshLoadProgress.bind(this),this.engine.subscribe(A.Z,this.meshProgressBinding)}dispose(){window.removeEventListener("WebpackChunkProgress",this.onWebpackChunkProgress)}showProgress(){this.showingProgress=!0,this.setProgress(this.currentProgress)}setDone(){this.currentProgress=100,this.setProgress(this.currentProgress),this.engine.unsubscribe(A.Z,this.meshProgressBinding)}setProgress(e){if(!this.progressElm||isNaN(e))return;this.lastProgress=Math.max(this.lastProgress,e),e=this.lastProgress;const t=Number.parseFloat(this.progressElm.getAttribute("r")||"0"),n=Math.PI*(2*t),i=(100-(e=Math.max(Math.min(e,100),0)))/100*n;this.progressElm.style.strokeDasharray=n.toString(10),this.progressElm.style.strokeDashoffset=i.toString(10)}calcProgress(){let e=0,t=0;this.webpackChunks.forEach((n=>{e+=n.loaded,t+=n.total})),e+=this.meshAlloc.loaded,t+=this.meshAlloc.alloc,this.currentProgress=95*Math.min(e/t,1),this.showingProgress&&this.setProgress(this.currentProgress)}onMeshLoadProgress(e){this.meshAlloc.loaded=e.loaded/e.total*this.meshAlloc.alloc,this.calcProgress()}}class k extends i.m{constructor(e,t){super(),this.payload={startup:e,editMode:t}}}k.id="START_APPLICATION";class P extends i.m{constructor(e){super(),this.payload={expand:e}}}P.id="EXPAND_APP";var L=n(61687);function R(e){const{width:t,height:n}=window.screen;return E.yL()&&(0,L.w)({width:t,height:n})&&e.height<.6*n}function C(){return E.Ot()&&!E.PI("xr-spatial-tracking")}class D{constructor(e,t,n,i){this.config=e,this.settingsData=t,this.containerData=n,this.sdkData=i,this.bindings=[]}async autoPlayIfWhenAllowed(e){const{editMode:t,openingTool:n,disabled:i,allowAutoPlay:s}=this.config;let r=!1;if(function(e,t,n){return!E.yL()||!!(e||n||t)}(this.settingsData.getOverrideParam("play",!1),n,t)&&(r=s||this.sdkConnected,!r)){(function(e){return e||E.yL()&&C()})(i)||(r=!R(this.containerData.size),r||(this.bindings.push(this.containerData.onPropertyChanged("size",(t=>{R(t)||(e(),this.bindings.forEach((e=>e.cancel())))}))),this.bindings.push(this.sdkData.onChanged((()=>{this.sdkConnected&&(e(),this.bindings.forEach((e=>e.cancel())))})))))}return r&&e(),r}get sdkConnected(){return this.sdkData.applicationKeys.length>0}dispose(){this.bindings.forEach((e=>e.cancel()))}}var M=n(45531),x=n(76721);function j(e,t){let n=function(e){return document.querySelector(`link[rel=${e}]`)}(e);n||(n=document.createElement("link"),document.head.appendChild(n)),n.setAttribute("rel",e),n.setAttribute("href",t)}class U extends o.Y{constructor(){super(...arguments),this.name="loading-ui",this.playPromise=new T.Q,this.onClick=()=>{this.resolvePlayPromise(!0,!1)},this.autoPlay=()=>{this.autoPlaying=!0,this.updatePlayAnalytics(),this.resolvePlayPromise(!0,this.config.editMode)},this.resolvePlayPromise=async(e,t)=>{var n;if(null===(n=this.autoPlayer)||void 0===n||n.dispose(),!this.autoPlaying){const e=this.config.allowPlayInIframe||!E.tq()&&!C();if(!e&&1===this.settings.getOverrideParam("nt",0)){const e=(0,x.m5)(window.location.href);return void window.open(e,"_blank")}if((0,E.yL)())if(t&&(e||1===this.settings.getOverrideParam("expand",0)))this.toggleIframeExpansion(!0);else if(!e){const e=(0,S.kD)();t&&e.set("edit","1"),e.set("back","1"),e.delete("cloudEdit");const n=e.toString(),i=`${window.location.origin}${window.location.pathname}?${n}`;try{return void(window.top&&(window.top.location.href=i))}catch(e){this.log.debug("Couldn't set top window location; was Showcase sandboxed?"),this.log.debug(e)}}}t&&this.settings.setProperty("quickstart",!0),e&&(this.config.disabled||(this.uiRoot.removeEventListener("click",this.onClick),this.playIcon.remove(),this.progressUI.showProgress()),this.playPromise.resolve())},this.toggleIframeExpansion=e=>{const t=e?new s:new r;this.engine.commandBinder.issueCommand(t),this.engine.broadcast(new N(e))},this.onAppPhaseChangeMessage=async e=>{e.phase!==u.nh.STARTING&&e.phase!==u.nh.PLAYING&&e.phase!==u.nh.ERROR||(this.progressUI.setDone(),this.config.quickstart?this.showQuickstartUI():this.uiRoot.classList.add("faded-out"),this.engine.unsubscribe(c.LZ,this.onAppPhaseChangeMessage))}}async init(e,t){this.engine=t,this.config=e;const{market:n,commandBinder:i}=this.engine;[this.locale,this.settings,this.containerData,this.sdkData]=await Promise.all([t.getModuleBySymbol(l.e9),n.waitForData(d.e),n.waitForData(p.V),n.waitForData(h.I)]);const s=await t.market.waitForData(g.T);this.model=s.model.details,this.updateHtmlMetadata(s,this.settings),this.autoPlaying=1===this.settings.getOverrideParam("play",0),this.bindings.push(i.addBinding(k,(async e=>{this.resolvePlayPromise(e.startup,e.editMode)})),i.addBinding(P,(async e=>{this.toggleIframeExpansion(e.expand)})),this.containerData.onPropertyChanged("size",(e=>{this.updatePlayAnalytics()}))),e.disabled||(this.bindings.push(this.settings.onPropertyChanged(M.DU,(()=>this.renderTitle())),this.settings.onPropertyChanged(M.L,(()=>this.renderBranding())),this.settings.onPropertyChanged(M.sX,(()=>this.renderBranding())),t.subscribe(c.LZ,this.onAppPhaseChangeMessage)),this.progressUI=new I(t,this.containerData.element),this.loadUi(),this.getLoadingElements(),this.renderSplashScreen())}dispose(e){var t,n;super.dispose(e),null===(t=this.progressUI)||void 0===t||t.dispose(),null===(n=this.autoPlayer)||void 0===n||n.dispose()}get waitForPlaying(){return this.playPromise.nativePromise()}loadUi(){if(this.uiRoot=this.containerData.element.querySelector("#loading-gui"),!this.uiRoot)throw Error("Loading GUI root not found");this.uiRoot.classList.remove("hidden"),this.config.quickstart&&(this.uiRoot.style.pointerEvents="none")}getPresentationOptions(){const{hideTitle:e,hideBranding:t,quickstart:n}=this.config,i=!n&&(void 0!==e?!e:this.settings.tryGetProperty(M.DU,!0)),s=this.settings.tryGetProperty(M.sX,!1),r=this.settings.tryGetProperty(M.L,!0);return{title:i,presentedBy:void 0!==t?!t:r&&!s}}getLoadingElements(){const e=this.containerData.element;this.presentedBy=e.querySelector("#loading-presented-by"),this.poweredBy=e.querySelector("#loading-powered-by"),this.mpLogo=e.querySelector("#loading-mp-logo"),this.mpLogo.src=_,this.mpLogo.alt=this.locale.t(y.Z.ALT_MATTERPORT_LOGO),this.circleLoader=e.querySelector("#circleLoader"),this.nameHeader=e.querySelector("#loading-header"),this.background=e.querySelector("#loading-background"),this.tint=e.querySelector("#tint"),this.playIcon=e.querySelector("#showcase-play"),this.playIcon.setAttribute("aria-label",this.locale.t(y.Z.PLAY)),this.playIcon.setAttribute("alt",this.locale.t(y.Z.PLAY))}addCobrand(){var e;if(null===(e=this.model)||void 0===e?void 0:e.presentedBy){const e=this.presentedBy.querySelector(".loading-label");e&&(e.textContent=this.locale.t(y.Z.PRESENTED_BY_CAPS));const t=this.presentedBy.querySelector(".subheader");t&&(t.textContent=this.model.presentedBy),this.presentedBy.classList.remove("hidden")}}hidePlayButtonUI(){this.background.style.backgroundImage="none",this.presentedBy.style.transition="none",this.presentedBy.classList.remove("faded-in"),this.poweredBy.style.transition="none",this.poweredBy.classList.remove("faded-in"),this.nameHeader.classList.add("hidden"),this.tint.classList.add("hidden"),this.circleLoader.classList.add("hidden"),this.uiRoot.classList.add("quickstart")}async showQuickstartUI(){this.background.classList.add("faded-out"),await(0,O.gw)(500),this.presentedBy.style.transition="",this.presentedBy.classList.add("faded-in"),this.poweredBy.style.transition="",this.poweredBy.classList.add("faded-in"),await(0,O.gw)(2500),this.presentedBy.classList.remove("faded-in"),this.poweredBy.classList.remove("faded-in"),this.uiRoot.classList.add("faded-out")}showLoadingUI(e){const t=document.createAttribute("data-status");t.value=this.locale.t(y.Z.LOADING);const n=this.containerData.element.querySelector("#loader-cont");n&&(n.attributes.setNamedItem(t),n.classList.add(this.locale.languageCode),n.classList.add("loading")),e.classList.add("faded-out"),this.presentedBy.classList.add("faded-in")}renderTitle(){const{title:e}=this.getPresentationOptions();this.nameHeader.classList.toggle("hidden",!e)}renderBranding(){const{presentedBy:e}=this.getPresentationOptions();e?this.addCobrand():this.presentedBy.classList.add("hidden")}async renderSplashScreen(){const{editMode:e,allowPlayInIframe:t,allowAutoPlay:n,disabled:i,openingTool:s,quickstart:r,hidePoweredBy:a}=this.config;this.renderTitle(),this.renderBranding(),a&&this.poweredBy.classList.add("hidden"),this.nameHeader.textContent=this.model.name,this.poweredBy.classList.add("faded-in"),this.tint.classList.add("faded-in");const o=this.containerData.element.querySelector("#play-prompt");this.playPromise.then((()=>{r?this.hidePlayButtonUI():this.showLoadingUI(o)})),this.autoPlayer=new D({editMode:e,allowPlayInIframe:t,allowAutoPlay:n,disabled:i,openingTool:s},this.settings,this.containerData,this.sdkData),this.autoPlaying=await this.autoPlayer.autoPlayIfWhenAllowed(this.autoPlay),this.autoPlaying||(o.classList.remove("hidden"),o.innerText=this.locale.t(y.Z.EXPLORE_3D_SPACE),this.playIcon.classList.remove("hidden"),this.uiRoot.addEventListener("click",this.onClick)),this.renderBackground(),t||window.scrollTo(0,0)}async renderBackground(){const e=v.K.deserialize();if(this.autoPlaying&&e){const t=await this.engine.market.waitForData(f.Z),n=(0,b.J)(e,t);if(n&&(0,b.l)(n,t))return}const t=window.devicePixelRatio||1,n=Math.max(window.innerWidth,400);this.background.style.backgroundImage=`url(${this.config.baseUrl}/api/v1/player/models/${this.config.viewId}/thumb?width=${n}&dpr=${t}&disable=upscale)`}updatePlayAnalytics(){this.engine.getModuleBySymbol(l.V6).then((e=>{e.setOptions(Object.assign({},(0,m.vx)(this.autoPlaying)))}))}updateHtmlMetadata(e,t){if("function"==typeof ShadowRoot&&this.containerData.rootNode instanceof ShadowRoot)return;const n=t.tryGetProperty(M.r4,null);if(e.hasDiscoverUrl()&&n){j("canonical",`${n}${e.model.sid}`)}}}},97859:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Re});var i=n(97542),s=n(92810),r=n(54165),a=n(56169),o=n(44239);const l=r.K.Logging;var c=n(64773),d=n(5135);class u{constructor(){this.handlers=[{msgType:c.m,func:(e,t,n)=>{const i=n.tryGetData(d.Z);i&&e.track("interaction_mode_changed",{interaction_mode_prev:t.fromMode,interaction_mode:t.mode,interaction_source:i.source})}}]}}var h=n(95160),p=n(5604);class m{constructor(){this.handlers=[{msgType:p.i,func:(e,t,n)=>{const{blockType:i}=t.block;if(i===h.C.TEXT)return;let s=t.block.text;i===h.C.LINK&&(s=t.block.value||""),i===h.C.USER&&(s=t.block.id||""),e.track("annotation_block_clicked",{block_type:i,block_value:s,annotation_type:t.annotationType,annotation_id:t.id})}}]}}var f,g=n(18923),v=n(66563),b=n(2473),y=n(63252);function E(e,t){switch(e){case y.z9.ALIGNED:return 1;case y.z9.UNALIGNED:return 2}switch(t){case y.hU.MANUAL:return 3}return 0}!function(e){e.USER="self-guided",e.TOUR="tour"}(f||(f={}));class S{constructor(){this.startLoadTime=Date.now(),this.endLoadTime=Date.now(),this.panosViewed=0,this.handlers=[{msgType:g.Z,func:(e,t,n)=>{this.onMoveToSweepBegin(t.timestamp)}},{msgType:v.Z,func:(e,t,n)=>{const i=n.tryGetData(d.Z),s=n.tryGetData(b.k);this.endLoadTime=Date.now();const r=this.endLoadTime-this.startLoadTime;e.track("pano_viewed",{pano_id:t.toSweep,pano_view_count:++this.panosViewed,alignment_type:E(t.alignmentType,t.placementType),navigation_source:s&&s.tourPlaying?f.TOUR:f.USER,interaction_source:i?i.source:d.Z.defaultSource,interaction_mode:i?i.mode:d.Z.defaultMode,load_time:r/1e3})}}]}onMoveToSweepBegin(e){this.startLoadTime=e}}var O=n(10699);class T{constructor(){this.handlers=[{msgType:O.Z,func:(e,t,n)=>{const i=n.tryGetData(d.Z),s={view_mode:t.toMode};i&&(s.interaction_source=i.source,s.interaction_mode=i.mode),e.track("mode_changed",s)}}]}}var _=n(51397),w=n(69739),N=n(98010);class A extends N.v0{constructor(e,t,n){super(),this.sweep=e,this.from=t,this.to=n}}var I=n(76957);const k=(e,t)=>{const n=t.tryGetData(I.i);if(!e||!n)return-1;return n.getFloor(e).index};class P{constructor(){this.handlers=[{msgType:w.P,func:(e,t,n)=>{const i=n.tryGetData(d.Z);e.track("floor_changed",{floor_id:t.floorName,interaction_source:i?i.source:d.Z.defaultSource,interaction_mode:i?i.mode:d.Z.defaultMode})}},{msgType:A,func:(e,t,n)=>{const i=n.tryGetData(d.Z);e.track("sweep_floor_fixup",{sweep_index:t.sweep.index,sweep_alignment:t.sweep.alignmentType,sweep_placement:t.sweep.placementType,sweep_floor_from:k(t.from,n),sweep_floor_to:k(t.to,n),interaction_source:i?i.source:d.Z.defaultSource,interaction_mode:i?i.mode:d.Z.defaultMode})}}]}}var L=n(61948),R=n(53954);class C{constructor(){this.firstZoom=!0,this.fromZoom=1,this.toZoom=1,this.handlers=[{msgType:L.Z,func:(e,t,n)=>{this.analytics||(this.analytics=e);const i=n.tryGetData(R.Z);i&&i.currentSweep!==this.currentPano&&(this.firstZoom=!0,this.currentPano=i.currentSweep,this.fromZoom=1),this.toZoom=t.zoomLevel,clearTimeout(this.sendTimeout),this.sendTimeout=window.setTimeout(this.trackZoomEvent.bind(this),150)}}]}trackZoomEvent(){const e=this.firstZoom?"initial":"followup";this.analytics.track("zoom_"+e,{from:this.fromZoom,to:this.toZoom,pano:this.currentPano}),this.firstZoom=!1,this.fromZoom=this.toZoom}}var D=n(10374),M=n(54244),x=n(67992);class j extends x.V{constructor(){super(...arguments),this.name="timing",this.modelLoadingStartTime=0,this.waitingStartTime=0,this.appPlayingTime=0,this.appStartedTime=0}get totalTimeToAppStarting(){let e=this.appStartedTime-performance.timing.navigationStart;return this.modelLoadingStartTime&&this.waitingStartTime&&(e-=this.modelLoadingStartTime-this.waitingStartTime),e}get totalTimeToAppPlaying(){let e=this.appPlayingTime-performance.timing.navigationStart;return this.modelLoadingStartTime&&this.waitingStartTime&&(e-=this.modelLoadingStartTime-this.waitingStartTime),e}}var U=n(97998),F=n(31362),H=n(59279),V=n(59625),B=n(67223);const G=new U.Z("showcase-session"),W=new j;class z{constructor(e,t){this.analytics=e,this.engine=t,this.handlers=[{msgType:D.LZ,func:async(e,t,n)=>{var i,r;switch(t.phase){case M.nh.WAITING:W.waitingStartTime=Date.now(),W.commit(),e.track("impression",{url_params:F.UD(),visible:!0});break;case M.nh.LOADING:W.modelLoadingStartTime=Date.now(),W.commit();break;case M.nh.STARTING:{W.appStartedTime=Date.now(),W.commit(),G.info("First render, model loaded "+W.totalTimeToAppStarting/1e3);const t=this.engine.market.tryGetData(V.af);this.renderer=await this.engine.getModuleBySymbol(s.Aj);const n=this.renderer.getCapabilities(),i={has_hlr:!t||t.options.highlight_reel,duration:Date.now()-W.modelLoadingStartTime,duration_from_navigation_start:Date.now()-performance.timing.navigationStart,gl_v2:n.gl_v2,gl_max_textures:n.gl_max_textures,gl_max_texture_size:n.gl_max_texture_size,gl_max_cubemap_size:n.gl_max_cubemap_size,gl_instancing:n.gl_instancing,gl_oes_texture_float:n.gl_oes_texture_float,gl_oes_texture_half_float:n.gl_oes_texture_half_float,gl_depth_texture:n.gl_depth_texture,gl_draw_buffers:n.gl_draw_buffers,gl_oes_fbo_render_mip_map:n.gl_oes_fbo_render_mip_map,gl_shader_texture_lod:n.gl_shader_texture_lod,gl_oes_vertex_array_obj:n.gl_oes_vertex_array_obj,gl_ovr_multi_view:n.gl_ovr_multi_view,gl_color_buffer_float:n.gl_color_buffer_float,gl_astc_supported:n.gl_astc_supported,gl_etc1_supported:n.gl_etc1_supported,gl_etc2_supported:n.gl_etc2_supported,gl_dxt_supported:n.gl_dxt_supported,gl_bptc_supported:n.gl_bptc_supported,gl_pvrtc_supported:n.gl_pvrtc_supported};e.track("model_loaded",i);break}case M.nh.PLAYING:W.appPlayingTime=Date.now(),W.commit(),G.info("Playing, session started "+W.totalTimeToAppPlaying/1e3),e.track("session_started"),window.addEventListener("unload",this.sessionEnded),e.track("load_times",{time_to_app_start:W.totalTimeToAppStarting,time_to_app_playing:W.totalTimeToAppPlaying});break;case M.nh.ERROR:{const t=await n.waitForData(M.pu),{error:s}=t,a=s&&s.name?s.name:s&&s.constructor?s.constructor.name:null,o=s?s.message:null,l=s&&s.stack?s.stack.split("\n"):[],c=l.length>=2?l[1].match(/\s+at\s+([^\s]+)/):null,d=(0,B.zg)(s),u=!!(0,H.eY)("oops",""),h=null!==(r=null===(i=this.renderer)||void 0===i?void 0:i.estimatedGPUMemoryAllocated())&&void 0!==r?r:-1,p={error_dialog:"oops",error_type:a||"",exception:{message:`${a}: ${o}`,function:c?c[1]:null,stack:l.slice(1,5).join("\n")},duration:W.modelLoadingStartTime>0?Date.now()-W.modelLoadingStartTime:void 0,duration_from_navigation_start:Date.now()-performance.timing.navigationStart,gpu_memory:h<0?void 0:h,mock_error:u};d&&(p.error_code=d),e.track("error_displayed",p);break}}}}],this.sessionEnded=()=>{this.analytics.trackAsync("session_ended",{duration:Date.now()-W.appPlayingTime})}}dispose(){window.removeEventListener("unload",this.sessionEnded)}}var K=n(5090),Y=n(39880),q=n(83021),$=n(95882),Z=n(23254),Q=n(92901);const X=new U.Z("/index.js");class J{constructor(e){this.engine=e,this.trackTime=0,this.trackTimeThreshold=1/0,this.currentPhase=null,this.currentAppPhase=null,this.pixelRatio=window.devicePixelRatio||1,this.recordedPhases={},this.deltas=new q.P(1e3),this.memoryReadings=new q.P(1e3),this.handlers=[{msgType:K.Z,func:(e,t,n)=>{this.currentAppPhase!==M.nh.STARTING&&this.currentAppPhase!==M.nh.PLAYING||this.startRecording(e,$.Ey[t.toMode],1e4)}},{msgType:D.LZ,func:async(e,t,n)=>{const i=n.tryGetData(Z.O);t.phase===M.nh.LOADING?this.startRecording(e,"Loading",6e4):t.phase===M.nh.STARTING?(this.renderer=await this.engine.getModuleBySymbol(s.Aj),this.startRecording(e,"Starting",6e4)):t.phase===M.nh.PLAYING&&i&&i.currentMode&&this.startRecording(e,$.Ey[i.currentMode],1e4),this.currentAppPhase=t.phase}},{msgType:Q.Vx,func:(e,t,n)=>{this.pixelRatio=t.pixelRatio}}],this.resetRecording=()=>{this.currentPhase=null,this.deltas.clear(),this.memoryReadings.clear(),this.trackTime=0}}onUpdate(e,t){var n,i;if(!this.currentPhase)return;this.deltas.push(t);const s=null!==(i=null===(n=this.renderer)||void 0===n?void 0:n.estimatedGPUMemoryAllocated())&&void 0!==i?i:-1;s>-1&&this.memoryReadings.push(s),this.trackTime+=t,this.trackTime>=this.trackTimeThreshold&&(this.sendRecord(e),this.resetRecording())}startRecording(e,t,n){t!==this.currentPhase&&(this.currentPhase&&(this.sendRecord(e),this.resetRecording()),this.recordedPhases[t]||(this.currentPhase=t,this.trackTimeThreshold=n,this.recordedPhases[this.currentPhase]=!0))}sendRecord(e){if(0===this.deltas.count)return;const t=this.deltas.getList(),n=this.memoryReadings.getList();try{const i=this.calcPerformance(t,n);e.track("performance",i)}catch(e){X.warn("Could not send performance metrics",e)}}calcPerformance(e,t){let n=0,i=0,s=0,r=0,a=0,o=0;for(const t of e)n+=t,t<0||(t<=16.7?i+=t:t<=33.3?s+=t:t<=100?r+=t:t<=1e3?a+=t:o+=t);if(n<=0)throw Error("No positive timings, cannot calculate performance data");const l=n/e.length;i/=n,s/=n,r/=n,a/=n,o/=n;let c=e.slice();const d=(0,Y.Pe)(c,50),u=(0,Y.Pe)(c,95,!1),h=c[c.length-1];let p,m,f,g,v;return t.length&&(c=t.slice(),g=(0,Y.Pe)(c,50,!0),v=(0,Y.Pe)(c,95,!1),f=Math.round((0,Y.Y8)(t)),p=c[0],m=c[c.length-1]),{phase:this.currentPhase,frame_delta:l,frame_delta_avg:l,frame_delta_median:d,frame_delta_95th:u,frame_delta_max:h,duration:n,time_60_fps:i,time_60_30_fps:s,time_30_10_fps:r,time_10_1_fps:a,time_1_0_fps:o,gpu_memory_min:p,gpu_memory_max:m,gpu_memory_avg:f,gpu_memory_median:g,gpu_memory_95th:v,pixel_ratio:this.pixelRatio}}}var ee=n(51180),te=n(79727);const ne=(e,t)=>{const n=t.tryGetData(te.c);if(!n)return-1;return(e?n.floors.getFloor(e):n.getHighestVisibleFloor()).index};class ie{constructor(){this.handlers=[{msgType:ee.rf,func:(e,t,n)=>{const i={measure_sid:t.data.sid,start_position:t.data.startPosition,end_position:t.data.endPosition,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:ne(t.data.floorId,n),feature_type:t.data.featureType,constraint_style:t.data.constraint,continuous:t.data.continuous};e.track("measure_segment_add",i)}},{msgType:ee.u6,func:(e,t,n)=>{const i={measure_sid:t.data.sid,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:ne(t.data.floorId,n),feature_type:t.data.featureType,measure_type:t.data.type,constraint_style:t.data.constraint,continuous:t.data.continuous};e.track("measure_add",i)}},{msgType:ee.ty,func:(e,t)=>{const n={measure_sid:t.sid,measure_text:t.text};e.track("measure_add_title",n)}},{msgType:ee.mM,func:(e,t)=>{const n={measure_sid:t.sid,measure_old_text:t.oldText,measure_new_text:t.newText};e.track("measure_update_title",n)}},{msgType:ee.$Z,func:(e,t,n)=>{const i={measure_sid:t.data.sid,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:ne(t.data.floorId,n),measure_count:t.data.count,continuous:t.data.continuous};e.track("measure_remove",i)}},{msgType:ee.av,func:(e,t,n)=>{const i={measure_sid:t.data.sid,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:ne(t.data.floorId,n),feature_type:t.data.featureType,constraint_style:t.data.constraint,continuous:t.data.continuous};e.track("measure_update",i)}},{msgType:ee.$n,func:(e,t)=>{const n=t.opened?"measure_mode_enter":"measure_mode_exit",i={viewmode:t.viewmode,measure_count:t.count};e.track(n,i)}},{msgType:ee.ff,func:(e,t)=>{e.track("measure_cancelled",{})}}]}}var se=n(70173);class re{constructor(){this.handlers=[{msgType:se.i,func:(e,t)=>{const n={duration_dollhouse:t.durationDollhouse,duration_floorplan:t.durationFloorplan,duration_inside:t.durationInside,duration:t.durationDollhouse+t.durationFloorplan+t.durationInside,main_mode:t.mainMode,bytes_downloaded:t.totalBytesDownloaded,tiles_downloaded:t.tilesDownloaded};e.track("activity_ping",n)}}]}}var ae,oe=n(86819),le=n(80592),ce=n(89553),de=n(67678),ue=n(11442),he=n(41326),pe=n(74789);!function(e){e.UNINITIALIZED="uninitialized",e.INACTIVE="inactive",e.ACTIVE="active"}(ae||(ae={}));class me{constructor(){this.name="activity-analytics",this._state=ae.UNINITIALIZED,this.activeModeMap=new Map,this.totalTilesDownloaded=0,this.onTileDownloaded=()=>{this.totalTilesDownloaded++}}async init(e,t,n){this.engine=e,this.requestQueue=n,[this.input,this.viewmodeData,this.applicationData]=await Promise.all([await e.getModuleBySymbol(s.PZ),await e.market.waitForData(Z.O),await e.market.waitForData(M.pu)]);const i=[],r=[oe.R,le._t,ce.e,de.er,ue.G],a=()=>this.active=!0;this.applicationData.phase===M.nh.PLAYING?this._state=ae.INACTIVE:i.push(e.subscribe(D.LZ,(()=>{this.applicationData.phase===M.nh.PLAYING&&(this._state=ae.INACTIVE)}))),i.push(...(()=>{const e=[];return r.forEach((t=>{e.push(this.input.registerUnfilteredHandler(t,a))})),e})()),i.push(e.subscribe(O.Z,(e=>{const t=e.fromMode,n=e.toMode;t&&t!==$.Ey.Transition&&this.applicationData.phase===M.nh.PLAYING&&this.handleModeChange(t,n)}))),i.push(this.engine.subscribe(pe.o,this.onTileDownloaded)),t(i)}get active(){return this._state===ae.ACTIVE}set active(e){this._state!==ae.UNINITIALIZED&&(e&&this._state===ae.INACTIVE&&this.startActivityTimeout(),this._state=e?ae.ACTIVE:ae.INACTIVE)}handleModeChange(e,t){this.activeModeMap.has(t)?this.updateActivityTimeForMode(t,!0):this.activeModeMap.set(t,{previousTime:Date.now(),totalTimeinMS:0}),this.updateActivityTimeForMode(e)}updateActivityTimeForMode(e,t){const n=this.activeModeMap.get(e);if(void 0===n)return;const{previousTime:i,totalTimeinMS:s}=n;t?this.activeModeMap.set(e,{previousTime:Date.now(),totalTimeinMS:s}):this.activeModeMap.set(e,{previousTime:Date.now(),totalTimeinMS:s+(Date.now()-i)})}startActivityTimeout(){this.activeModeMap.set($.Ey.Dollhouse,{previousTime:Date.now(),totalTimeinMS:0}),this.activeModeMap.set($.Ey.Floorplan,{previousTime:Date.now(),totalTimeinMS:0}),this.activeModeMap.set($.Ey.Panorama,{previousTime:Date.now(),totalTimeinMS:0}),window.setTimeout(this.notifyActivityAnalytic.bind(this),me.ACTIVITY_INTERVAL)}notifyActivityAnalytic(){if(this.viewmodeData.currentMode&&this.viewmodeData.currentMode!==$.Ey.Transition&&this.updateActivityTimeForMode(this.viewmodeData.currentMode),this.active){let e=0,t=$.Ey.Panorama;this.activeModeMap.forEach(((n,i)=>{n.totalTimeinMS>e&&(t=i,e=n.totalTimeinMS)})),this.active=!1;const[n,i,s]=[this.activeModeMap.get($.Ey.Dollhouse),this.activeModeMap.get($.Ey.Floorplan),this.activeModeMap.get($.Ey.Panorama)].map((e=>e?e.totalTimeinMS:0));this.engine.broadcast(new se.i(n,i,s,he.KP[t],this.requestQueue.totalBytesDownloaded,this.totalTilesDownloaded))}}}me.ACTIVITY_INTERVAL=15e3;var fe,ge=n(79992);!function(e){e.USER="self-guided",e.TOUR="tour"}(fe||(fe={}));class ve{constructor(){this.handlers=[{msgType:ge.D,func:(e,t,n)=>{const i=n.tryGetData(d.Z),s=n.tryGetData(b.k),r={room_id:t.roomId,room_index:t.meshSubgroup,room_type:t.roomType,viewmode:t.viewmode?he.KP[t.viewmode]:t.viewmode,room_visit_count:t.visitCount,room_count:t.roomCount,navigation_source:s&&s.tourPlaying?fe.TOUR:fe.USER,interaction_source:i?i.source:d.Z.defaultSource,interaction_mode:i?i.mode:d.Z.defaultMode};e.track("room_visited",r)}}]}}class be{constructor(){this.handlers=[]}}var ye=n(75783);const Ee=e=>e.sort(((e,t)=>e.localeCompare(t)));class Se{constructor(){this.handlers=[{msgType:ye.E,func:(e,t)=>{const{happiness:n,quality:i,navigation:s,feedback:r}=t.rating,a={};n&&(a.happiness=+n),(s&&s.length>0||i&&i.length>0)&&(a.issue_types=function(e=[],t=[]){const n=[];return Ee(t).forEach((e=>n.push(`navigation-${e.trim()}`))),Ee(e).forEach((e=>n.push(`quality-${e.trim()}`))),n.join(",")}(i||[],s||[])),r&&r.length>0&&(a.feedback=r),Object.keys(a).length>0&&e.track("model_rated",a)}}]}}var Oe=n(40505),Te=n(30128);const _e=[1e3,3e3,5e3,15e3];class we{constructor(){this.currSpinnerSessionId=null,this.currSpinnerSessionStartTime=null,this.currIntervalIdx=0,this.pingTimeout=null,this.handlers=[{msgType:Oe.Z_,func:(e,t)=>{t.isOpen?this.startPinging(e):this.stopPinging(e)}}]}startPinging(e){null==this.currSpinnerSessionId&&(this.currSpinnerSessionId=(0,Te.D)(),this.currSpinnerSessionStartTime=Date.now(),this.currIntervalIdx=0,this.pingTimeout=window.setTimeout((()=>this.pingAnalytics(e)),_e[this.currIntervalIdx]))}stopPinging(e){if(this.currSpinnerSessionId&&this.currSpinnerSessionStartTime){const t=Date.now()-this.currSpinnerSessionStartTime;e.track("pano_tile_loading",{session_id:this.currSpinnerSessionId,duration:t,final_duration:t}),this.pingTimeout&&(window.clearTimeout(this.pingTimeout),this.pingTimeout=null),this.currSpinnerSessionId=null}}pingAnalytics(e){this.currSpinnerSessionId&&this.currSpinnerSessionStartTime&&(e.track("pano_tile_loading",{session_id:this.currSpinnerSessionId,duration:Date.now()-this.currSpinnerSessionStartTime,final_duration:null}),this.currIntervalIdx=Math.min(this.currIntervalIdx+1,_e.length-1),this.pingTimeout=window.setTimeout((()=>this.pingAnalytics(e)),_e[this.currIntervalIdx]))}}var Ne=n(473),Ae=n.n(Ne);var Ie;!function(e){e.DAM_MESH="dam_mesh",e.TILED_MESH="tiled_mesh",e.PANO_TILE="pano_tile",e.DAM_TEXTURE="dam_texture",e.TILED_TEXTURE="tiled_texture",e.STATIC="static",e.GRAPH="graph"}(Ie||(Ie={}));class ke{constructor(){this.lastFlushTimestamp=null,this.lastSendTimestamp=null,this.isRecording=!1,this.isSending=!1,this.stats={[Ie.DAM_MESH]:{sum:0,count:0},[Ie.TILED_MESH]:{sum:0,count:0},[Ie.PANO_TILE]:{sum:0,count:0},[Ie.DAM_TEXTURE]:{sum:0,count:0},[Ie.TILED_TEXTURE]:{sum:0,count:0},[Ie.STATIC]:{sum:0,count:0},[Ie.GRAPH]:{sum:0,count:0}},this.totalStatsCount=0,this.handlers=[{msgType:D.LZ,func:(e,t)=>{t.phase===M.nh.STARTING?this.isRecording=!0:t.phase===M.nh.PLAYING&&(this.isSending=!0)}}]}get dataBuffer(){return null==this._dataBuffer?(this._dataBuffer=new(Ae())(300),this._dataBuffer):this._dataBuffer}onUpdate(e,t){this.isRecording&&(this.flushTimingDataThrottled(),this.updateStats(t),this.isSending&&this.sendAnalyticsThrottled(e))}flushTimingDataThrottled(){if(null==this.lastFlushTimestamp||performance.now()-this.lastFlushTimestamp>5e3){const e=performance.getEntriesByType("resource");for(const t of e)t.transferSize>0&&this.dataBuffer.enq(t);performance.clearResourceTimings(),this.lastFlushTimestamp=performance.now()}}sendAnalyticsThrottled(e){if((null==this.lastSendTimestamp||performance.now()-this.lastSendTimestamp>5e3)&&this.totalStatsCount>10){const t={};for(const e in this.stats){const n=e,i=this.stats[n];i.count>0&&(t[n]=0|Math.round(i.sum/i.count),i.sum=0,i.count=0)}e.track("resource_timing",t),this.totalStatsCount=0,this.lastSendTimestamp=performance.now()}}updateStats(e){if(e<33.333333333333336){let e=0;for(;e<30&&!this.dataBuffer.isEmpty();){const t=this.dataBuffer.deq(),n=Pe(t);n&&(this.stats[n].sum+=t.duration,this.stats[n].count+=1,this.totalStatsCount+=1),e+=1}}}}const Pe=e=>{const t=new URL(e.name),n=t.hostname,i=t.pathname.split("/"),s=i[i.length-1];return n.includes("static")?Ie.STATIC:"graph"===s?Ie.GRAPH:i.includes("mesh_tiles")&&s.includes(".glb")?Ie.TILED_MESH:i.includes("mesh_tiles")&&(s.includes(".ktx2")||s.includes(".jpg"))?Ie.TILED_TEXTURE:s.includes(".dam")?Ie.DAM_MESH:i.includes("tiles")?Ie.PANO_TILE:i[i.length-2].includes("_texture_")?Ie.DAM_TEXTURE:null};var Le=n(2957);class Re extends i.Y{constructor(){super(...arguments),this.name="showcase-analytics",this.loaded=!1,this.handlers=[],this.track=(e,t)=>{this.analytics.track(e,t)}}async init(e,t){this.analytics=await t.getModuleBySymbol(s.V6),this.apiClient=(await t.getModuleBySymbol(s.Vs)).getApi(),this.addMessageHandlers(this.analytics,t),this.context=(0,o.bC)(e.apiQueue,"",e.appName),this.options=Object.assign({mds_enabled:!0},(0,o.FW)(e.overrideParams)),t.getModuleBySymbol(s.e9).then((e=>{this.context.locale=e.languageCode})),this.activityTracking=new me,this.activityTracking.init(t,this.registerBindings.bind(this),e.apiQueue);const n=await this.createAnalyticsConfigs(e);this.analytics.load(n,e.analyticsQueue,this.options,this.context).then((()=>{this.loaded=!0})),this.apiClient.user.then((e=>{this.analytics.setUser(e)}))}addMessageHandlers(e,t){this.addMessageHandler(new z(e,t),t),this.addMessageHandler(new T,t),this.addMessageHandler(new S,t),this.addMessageHandler(new u,t),this.addMessageHandler(new P,t),this.addMessageHandler(new _.s,t),this.addMessageHandler(new C,t),this.addMessageHandler(new ie,t),this.addMessageHandler(new J(t),t),this.addMessageHandler(new re,t),this.addMessageHandler(new ve,t),this.addMessageHandler(new be,t),this.addMessageHandler(new Se,t),this.addMessageHandler(new m,t),this.addMessageHandler(new we,t),this.addMessageHandler(new ke,t),this.addMessageHandler(new Le.r,t)}addMessageHandler(e,t){this.handlers.push(e),e.handlers.forEach(((e,n)=>{this.bindings.push(t.subscribe(e.msgType,(n=>{e.func(this.analytics,n,t.market)})))}))}registerBindings(e){this.bindings.push(...e)}async createAnalyticsConfig(e,t){if(((e,t)=>{const n=Object.keys(e);for(const i of n)if(e[i]===t)return!0;return!1})(r.K,e)){const{apiClient:n}=this,i=a.H[e],s=null!==i.key?await n.getAppKey(t,i.key):null,r=null!==i.url?await n.getAppKey(t,i.url):null;if(null===i.key||null!==s&&null===i.url||null!==r)return{provider:e,token:s,url:r}}return null}async createAnalyticsConfigs(e){const t=(0,o.F$)(e.appName),n=void 0!==e.provider?e.provider:await this.apiClient.getAppKey(t,"analytics_provider"),i=[];if(!n)return i;const s=n.split(",");for(const e of s){const n=await this.createAnalyticsConfig(e,t);null!==n?i.push(n):this.log.warn(`Failed to set up ${e}, token/url required but not found in config`)}return i.length<1&&i.push({provider:l,token:null,url:null}),i}onUpdate(e){if(this.loaded)for(const t of this.handlers)t.onUpdate&&t.onUpdate(this.analytics,e)}dispose(e){super.dispose(e);for(const e of this.handlers)e.dispose&&e.dispose();this.handlers=[]}getSessionId(){return this.options.session_id||""}trackGuiEvent(e,t={}){const{tool:n,interactionSource:i,panoId:s}=t,r={gui_action:e};n&&Object.assign(r,{tool:n}),i&&Object.assign(r,{interaction_source:i}),s&&Object.assign(r,{pano_id:s}),this.track("showcase_gui",r)}trackToolGuiEvent(e,t,n={}){this.trackGuiEvent(t,Object.assign({tool:e},n))}}},70173:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t,n,i,s,r){super(),this.durationDollhouse=e,this.durationFloorplan=t,this.durationInside=n,this.mainMode=i,this.totalBytesDownloaded=s,this.tilesDownloaded=r}}},96845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var i=n(92810),s=n(67294),r=n(20745),a=n(97542),o=n(47375),l=n(64574),c=n(19801),d=n(33558),u=n(85893),h=n(94184),p=n.n(h),m=n(38399),f=n(80694);class g extends s.Component{render(){const{attributionLinkText:e,attributionLinkUrl:t}=this.props,{locale:n}=this.context;return(0,u.jsxs)("div",Object.assign({className:"powered-by"},{children:[(0,u.jsx)("p",Object.assign({className:"powered-by-label"},{children:n.t(m.Z.POWERED_BY)})),(0,u.jsx)("img",{className:"powered-by-logo",alt:"Matterport",src:f,width:"150",height:"32"}),t&&(0,u.jsx)("a",Object.assign({href:t,className:"powered-by-link"},{children:e||t}))]}))}}g.contextType=d.I;var v=n(97998);const b=n.p+"images/showcase-password-background.jpg";var y=n(2224);class E extends y.y{constructor(e="Invalid password"){super(e),this.name="InvalidPassword"}}class S extends y.y{constructor(e="Too many attempts, please try again in a few minutes"){super(e),this.name="TooManyAttempts"}}const O=new v.Z("showcase-password");class T extends s.Component{constructor(e){super(e),this.isUnmounting=!1,this.onInputChange=e=>{const{name:t,value:n}=e.target;"password"===t&&this.setState({password:n,hasError:!1})},this.onSubmit=async e=>{e.preventDefault(),this.setState({formEnabled:!1}),await this.authenticate(),this.isUnmounting||this.setState({formEnabled:!0})},this.state={formEnabled:!0,hasError:!1,tooManyAttempts:!1,password:""}}componentWillUnmount(){this.isUnmounting=!0}async authenticate(){const{authenticate:e}=this.props,{password:t}=this.state;O.debug("Validating password input...");const n=await e(t).catch((e=>(e instanceof S&&this.setState({hasError:!0,tooManyAttempts:!0}),!1)));this.isUnmounting||this.setState({hasError:!n})}stopPropagation(e){e.stopPropagation()}renderLockout(){const{locale:e}=this.context;return(0,u.jsxs)("div",Object.assign({className:"sc-password-modal sc-password-lockout"},{children:[(0,u.jsx)("header",Object.assign({className:"modal-header"},{children:(0,u.jsx)("h1",Object.assign({className:"modal-title"},{children:e.t(m.Z.SC_LOCKOUT_TITLE)}))})),(0,u.jsx)("p",Object.assign({className:"modal-body"},{children:e.t(m.Z.SC_LOCKOUT_MESSAGE)}))]}))}renderLoginForm(){const{hasError:e,password:t,formEnabled:n}=this.state,{locale:i}=this.context;return(0,u.jsxs)("div",Object.assign({className:"sc-password-modal sc-password-login"},{children:[(0,u.jsx)("header",Object.assign({className:"modal-header"},{children:(0,u.jsx)("h1",Object.assign({className:"modal-title"},{children:i.t(m.Z.SC_PASSWORD_TITLE)}))})),(0,u.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,u.jsxs)("form",Object.assign({onSubmit:this.onSubmit,className:"sc-password-form"},{children:[(0,u.jsx)("input",{type:"password",name:"password",placeholder:i.t(m.Z.SC_PASSWORD_PLACEHOLDER),onInput:this.onInputChange,onKeyDown:this.stopPropagation,onKeyPress:this.stopPropagation,onKeyUp:this.stopPropagation,disabled:!n,value:t,className:p()("sc-password-input",{error:e}),autoComplete:"on"}),(0,u.jsx)("button",Object.assign({type:"submit",disabled:!n,className:"sc-password-submit"},{children:i.t(m.Z.SC_PASSWORD_SUBMIT)}))]})),e&&(0,u.jsxs)("p",Object.assign({className:"help-text error"},{children:[(0,u.jsx)("span",{className:"icon icon-error"}),i.t(m.Z.SC_PASSWORD_INVALID)]})),!e&&(0,u.jsx)("p",{className:"help-text"})]}))]}))}render(){const{hasError:e,tooManyAttempts:t}=this.state,n=e&&t?this.renderLockout():this.renderLoginForm();return(0,u.jsxs)("div",Object.assign({className:"sc-password-ui",style:{backgroundImage:`url(${b})`}},{children:[(0,u.jsx)("div",Object.assign({className:"sc-password-content"},{children:n})),(0,u.jsx)("footer",Object.assign({className:"sc-password-footer"},{children:(0,u.jsx)(g,{})}))]}))}}T.contextType=d.I;var _=n(99610);class w extends a.Y{constructor(){super(...arguments),this.name="showcase-password",this.authenticated=!1}async init(e,t){this.config=e,this.engine=t;const n=e.baseUrl||window.location.origin;this.auth=new o.L(n)}showPasswordScreen(){this.loadUi()}hidePasswordScreen(){this.unloadUi()}async loadUi(){const{container:e}=this.config,t=await this.engine.getModuleBySymbol(i.e9),n=Object.assign(Object.assign({},c.O),{locale:t});this.reactContainer=document.createElement("div"),this.reactContainer.id="showcase-password-container",e.appendChild(this.reactContainer),this.reactRoot=(0,r.s)(this.reactContainer),this.reactRoot.render((0,s.createElement)(d.I.Provider,{value:n},[(0,s.createElement)(T,{key:"showcase-password",authenticate:e=>this.authenticate(e)})]))}async unloadUi(){var e;return!!this.reactRoot&&(this.reactRoot.unmount(),null===(e=this.reactContainer)||void 0===e||e.remove(),delete this.reactContainer,!0)}async authenticate(e){const{modelId:t}=this.config;if(!await this.auth.authenticate(t,e)){switch(this.engine.broadcast(new _.s(this.auth.errorType)),this.auth.errorType){case l.s.INVALID_CREDENTIALS:throw new E;case l.s.TOO_MANY_ATTEMPTS:throw new S}return!1}return this.log.debug("Password authentication was successful"),this.engine.broadcast(new _.L),!0}}},99610:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,s:()=>r});var i=n(98010);class s extends i.v0{}class r extends i.v0{constructor(e){super(),this.errorType=e}}},90197:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,b:()=>s});var i=n(19663);class s extends i.m{constructor(e){super(),this.payload={pose:e}}}s.id="START_LOCATION_FLY_IN_COMMAND";class r extends i.m{}r.id="START_LOCATION_GOTO_COMMAND"},22485:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(26837),s=n(97542),r=n(92810),a=n(92901),o=n(61681);class l extends s.Y{constructor(){super(...arguments),this.name="showcase-webgl-context-loss",this.contextLostEvent=null,this.framesWithLostContext=0}async init(e,t){this.config=e,this.engine=t,this.bindings.push(t.subscribe(a.zq,(e=>{this.contextLostEvent=e.event})),t.subscribe(a.Xq,(()=>{this.contextLostEvent=null,this.framesWithLostContext=0,t.getModuleBySymbol(o.ME).then((e=>{e.currentErrorCode===i.Mb.WEBGL_CONTEXT_LOST&&e.hideError()}))})))}onUpdate(e){const{contextLostEvent:t}=this;if(t){++this.framesWithLostContext===this.config.notificationDelayFrames&&(this.engine.getModuleBySymbol(o.ME).then((e=>{e.currentErrorCode||e.showError(i.Mb.WEBGL_CONTEXT_LOST)})),this.engine.getModuleBySymbol(r.V6).then((e=>{!function(e,t){e.track("error_displayed",{error_dialog:"oops",error_type:"WebGLContextLost",exception:{message:`WebGL context lost: ${t.statusMessage||"no status given"}`},mock_error:!1})}(e,t)})))}}}},31546:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var i=n(81396);class s{constructor(e){this.elements=[],e?(e=>void 0!==e.elements)(e)?this.elements=e.elements.slice():i.Matrix4.prototype.set.apply(this,e):i.Matrix4.prototype.set.apply(this,s.identity)}equals(e){return i.Matrix4.prototype.equals.call(this,e)}clone(){return new s(this)}}s.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];class r extends s{constructor(e){e instanceof Array||e?super(e):super(),this.threeMatrix=new i.Matrix4}set(e,t,n,s,r,a,o,l,c,d,u,h,p,m,f,g){return i.Matrix4.prototype.set.call(this,e,t,n,s,r,a,o,l,c,d,u,h,p,m,f,g),this}makeScale(e,t,n){return i.Matrix4.prototype.makeScale.call(this,e,t,n),this}copy(e){for(let t=0;t<this.elements.length;t++)this.elements[t]=e.elements[t];return this}clone(){return(new r).copy(this)}transpose(){return i.Matrix4.prototype.transpose.call(this)}lookAt(e,t,n){return i.Matrix4.prototype.lookAt.call(this,e,t,n),this}setPosition(e){return i.Matrix4.prototype.setPosition.call(this,e.x,e.y,e.z),this}extractRotation(e){return i.Matrix4.prototype.extractRotation.call(this,e),this}makePerspective(e,t,n,s,r,a){return i.Matrix4.prototype.makePerspective.call(this,e,t,n,s,r,a),this}makePerspectiveFov(e,t,n=.1,s=1e3){const r=n*Math.tan(e*(Math.PI/180)/2),a=-r,o=r*t,l=-o;return i.Matrix4.prototype.makePerspective.call(this,l,o,r,a,n,s),this}makeOrthographic(e,t,n,s,r,a){return i.Matrix4.prototype.makeOrthographic.call(this,e,t,n,s,r,a),this}identity(){return this.set.apply(this,s.identity)}makeRotationFromQuaternion(e){return i.Matrix4.prototype.makeRotationFromQuaternion.call(this,e),this}makeRotationFromEuler(e){return i.Matrix4.prototype.makeRotationFromEuler.call(this,e),this}getInverse(e){return i.Matrix4.prototype.copy.call(this,e),i.Matrix4.prototype.invert.call(this),this}premultiply(e){return i.Matrix4.prototype.premultiply.call(this,e),this}multiplyMatrices(e,t){return i.Matrix4.prototype.multiplyMatrices.call(this,e,t),this}scale(e){return i.Matrix4.prototype.scale.call(this,e),this}compose(e,t,n){return i.Matrix4.prototype.compose.call(this,e,t,n),this}asThreeMatrix4(){return this.threeMatrix.set(this.elements[0],this.elements[4],this.elements[8],this.elements[12],this.elements[1],this.elements[5],this.elements[9],this.elements[13],this.elements[2],this.elements[6],this.elements[10],this.elements[14],this.elements[3],this.elements[7],this.elements[11],this.elements[15])}}},21646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=Object.freeze({signedUrlDefaultExpireTime:24e4,signedUrlCheckInterval:1e4,signedUrlRefreshBuffer:15e3,visionTilingStartDate:new Date("8/26/2016"),visionTilingStartVersion:"1.1.407.13667",epsilon:1e-5,skyboxMeshGroup:"_group_skybox_",skysphereMeshGroup:"_group_skysphere_"})},19663:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});class i{}},57118:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var i=n(30935),s=n(46950);const r=new(n(97998).Z)("command-binder");class a{constructor(e=!1){this.ignoreUnboundCommands=e,this.typeLookup=new i.cj,this.bindings={},this.queuedCommands={},this.hookedCommands={},this.resetHooks=()=>{this.hookedCommands={}},this.issueCommand=this.issueCommand.bind(this),this.issueCommandWhenBound=this.issueCommandWhenBound.bind(this)}addBinding(e,t){const n=this.typeLookup.getKeyByType(e,!0);if(this.bindings[n])throw Error(`Command ${n} already bound to a callback`);this.bindings[n]=t,this.callQueuedCommands(n);return{renew:()=>{this.bindings[n]!==t&&this.addBinding(e,t)},cancel:()=>this.removeBinding(e,t),active:this.bindings[n]===t}}removeBinding(e,t){const n=this.typeLookup.getKeyByType(e);if(!n)return void r.debug("Trying to unbind unbound command");this.bindings[n]===t?delete this.bindings[n]:r.debug("Trying to unbind unbound callback")}issueCommand(e,t=!0){const n=this.typeLookup.getKeyByInstance(e),i=this.bindings[n];return i?this.issueCommandHelper(e,n,i,t):this.ignoreUnboundCommands?Promise.resolve({}):Promise.reject("Command not bound: "+e.id)}issueCommandHelper(e,t,n,i=!0){return this.hookedCommands[t]&&!this.hookedCommands[t].resolving?this.issueHookCommand(e,t):n(e.payload)}issueCommandWhenBound(e){const t=new s.Q;return this.issueCommand(e).then((e=>t.resolve(e))).catch((n=>{const i=this.typeLookup.getKeyByInstance(e,!0);this.queuedCommands[i]||(this.queuedCommands[i]=[]),this.queuedCommands[i].push({command:e,deferred:t})})),t.nativePromise()}callQueuedCommands(e){const t=[];this.queuedCommands[e]&&(this.queuedCommands[e].forEach((e=>{t.push(this.issueCommand(e.command).then((t=>e.deferred.resolve(t))))})),Promise.all(t).then((()=>{delete this.queuedCommands[e]})))}hookCommand(e,t,n){const i=this.typeLookup.getKeyByType(e,!0);if(this.hookedCommands[i]){if(t&&null!==this.hookedCommands[i].preCommandCallback)throw Error(`Command ${e.name} has already been pre hooked`);if(!t&&null!==this.hookedCommands[i].postCommandCallback)throw Error(`Command ${e.name} has already been post hooked`)}else this.hookedCommands[i]={preCommandCallback:null,postCommandCallback:null,resolving:!1};t?this.hookedCommands[i].preCommandCallback=n:this.hookedCommands[i].postCommandCallback=n}async issueHookCommand(e,t){const n=this.hookedCommands[t],i=this.bindings[t],s=e.payload,r=n.preCommandCallback,a=n.postCommandCallback;try{r&&await r(s),n.resolving=!0;const o=await this.issueCommandHelper(e,t,i,!0);return n.resolving=!1,a&&await a(s),o}catch(e){throw Error(`Could not completely issueHookCommand - ${e}`)}}}},67992:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var i=n(75287);class s extends i.T{}},26256:(e,t,n)=>{"use strict";var i,s;n.d(t,{Jj:()=>a,M8:()=>c,ZP:()=>u,p3:()=>i}),function(e){e[e.None=0]="None",e[e.Duration=1]="Duration",e[e.Phase=2]="Phase",e[e.Promise=3]="Promise"}(i||(i={}));class r{constructor(e){this.type=e}}class a extends r{constructor(){super(i.None)}}class o extends r{constructor(e){super(i.Duration),this.duration=e,this.startTime=Date.now()}}class l extends r{constructor(e){super(i.Phase),this.phase=e}}!function(e){e[e.Pending=0]="Pending",e[e.Fulfilled=1]="Fulfilled",e[e.Rejected=2]="Rejected"}(s||(s={}));class c extends r{constructor(e){super(i.Promise),this.promise=e,this.promiseState=s.Pending,e.then((()=>{this.promiseState=s.Fulfilled})).catch((()=>{this.promiseState=s.Rejected}))}}class d{constructor(e,t=!0){this.generator=e,t&&this.start()}start(){this.started||(this.iterator=this.generator()),this.started=!0}iterate(){const e=this.iterator.next();this.currentResult=e.value,e.done&&(this.started=!1)}}class u{constructor(){this.generators=[]}startGenerator(e){let t=this.generators.length;for(let n=0;n<this.generators.length;n++){this.generators[n].generator===e&&(t=n)}this.generators[t]=new d(e)}stopGenerator(e){for(const t of this.generators)t.generator===e&&(t.started=!1)}processGenerators(e,t){for(const n of this.generators)if(n.started)switch(e){case i.None:(!n.currentResult||n.currentResult instanceof a)&&n.iterate();break;case i.Phase:if(n.currentResult instanceof l){const e=n.currentResult;void 0!==t&&e.phase===t&&n.iterate()}break;case i.Promise:if(n.currentResult instanceof c){n.currentResult.promiseState===s.Fulfilled&&n.iterate()}break;case i.Duration:if(n.currentResult instanceof o){const e=n.currentResult;Date.now()-e.startTime>=e.duration&&n.iterate()}}}}},98010:(e,t,n)=>{"use strict";n.d(t,{v0:()=>i});class i{constructor(){this.msgId=-1}setID(e){if(-1!==this.msgId)throw Error("Message.msgId can only be set once.");this.msgId=e}}},13693:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o,Y:()=>l});var i=n(30935),s=n(97998),r=n(35895);const a=new s.Z("message-bus");var o;!function(e){e[e.PERMANENT=0]="PERMANENT",e[e.ONCE=1]="ONCE"}(o||(o={}));class l{constructor(){this.typeLookup=new i.cj,this.callbacks={},this.messageQueue=[],this.messageCount=0}subscribe(e,t,n=o.PERMANENT){return(0,r.k1)((()=>this._subscribe(e,t,n)),(()=>this.unsubscribe(e,t)),!0,(0,i.HS)(e))}_subscribe(e,t,n=o.PERMANENT){const i=this.typeLookup.getKeyByType(e,!0);this.callbacks[i]||(this.callbacks[i]=[]),this.callbacks[i].push({type:n,callback:t})}unsubscribe(e,t){const n=this.typeLookup.getKeyByType(e);n?this.unsubscribeByIndex(n,t):a.debug(`Message callback not bound for Type: ${e.name}`)}unsubscribeByIndex(e,t){const n=this.callbacks[e].findIndex((e=>e.callback===t));-1!==n?this.callbacks[e].splice(n,1):a.debug(`Message callback not bound for TypeIndex: ${e}`)}broadcast(e){if(e.setID(this.messageCount++),this.messageQueue.push(e),1===this.messageQueue.length){for(const e of this.messageQueue){const t=this.typeLookup.getKeyByInstance(e);if(!t)continue;const n=this.callbacks[t].slice();for(const i of n)i.callback(e),i.type===o.ONCE&&this.unsubscribeByIndex(t,i.callback)}this.messageQueue=[]}}}},97542:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var i=n(97998);class s{constructor(){this.bindings=[]}init(e,t){return Promise.resolve()}onUpdate(e){}dispose(e){for(const e of this.bindings)null==e||e.cancel();this.bindings=[]}get log(){return this._logger||(this._logger=new i.Z(this.name||"module")),this._logger}}},46950:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});class i{constructor(){this.base=new Promise(((e,t)=>{this.resolver=e,this.rejecter=t})),this._promise=new s(this.base,this),this.progressCallbacks=[]}then(e,t){return this.base.then(e,t)}catch(e){return this.base.catch(e)}resolve(e){return this.resolver(e),this}reject(e){return this.rejecter(e),this}notify(e){for(const t of this.progressCallbacks)t(e)}progress(e){return this.progressCallbacks.push(e),this}promise(){return this._promise}nativePromise(){return this.base}static resolve(){const e=new i;return e.resolve(),e.promise()}static reject(e){const t=new i;return t.reject(e),t.promise()}static all(e){const t=[];for(const n of e)n.nativePromise?t.push(n.nativePromise()):t.push(n);const n=new i;return Promise.all(t).then((e=>n.resolve(e)),(e=>n.reject(e))),n.promise()}}class s{constructor(e,t){this.basePromise=e,this.baseDeferred=t}then(e,t){return this.baseDeferred.then(e,t),this}catch(e){return this.baseDeferred.catch(e),this}progress(e){return this.baseDeferred.progress(e),this}nativePromise(){return this.basePromise}}},17878:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});class i{constructor(e){this._mask=e}get mask(){return this._mask}addLayers(e){this._mask|=e.mask}removeLayers(e){return this._mask&=~e.mask}clone(){return new i(this._mask)}}class s{constructor(){this.layerRegistry=[],this.unusedLayers=[];for(let e=1;e<32;e++)this.unusedLayers.push(e)}static get ALL(){return new i(-1)}static get NONE(){return new i(0)}static get DEFAULT(){return new i(1)}claimLayer(e){const t=this.getLayer(e);if(t.mask)return t;if(0===this.unusedLayers.length)throw Error("All render layers have already been claimed");const n=this.unusedLayers[0];return this.layerRegistry[n]=e,this.unusedLayers.shift(),new i(1<<n)}getLayer(e){const t=this.layerRegistry.indexOf(e);return-1!==t?new i(1<<t):s.NONE}disposeLayer(e){const t=this.layerRegistry.indexOf(e);-1!==t&&this.unusedLayers.push(t)}}},30935:(e,t,n)=>{"use strict";n.d(t,{HS:()=>a,cj:()=>o,oL:()=>r,z$:()=>s});var i=n(30128);const s=e=>e.prototype.constructor.name,r=e=>e.constructor,a=e=>{if("string"==typeof e)return e;if(e&&e.name)return e.name;const t=e.toString();return t.substring(0,t.indexOf("\n")).split(" ")[1]};class o{constructor(){this.typeLookupMap={},this.classUuids=new WeakMap}getKey(e){if("string"==typeof e)return e;{let t=this.classUuids.get(e);return t||(t=e.name+(0,i.D)(),this.classUuids.set(e,t)),t}}addType(e){if(!e)throw Error("Cannot index undefined type");const t=this.getKey(e);if(this.typeLookupMap[t])throw Error(`Type ${t} already registered`);return this.typeLookupMap[t]=e,t}getKeyByType(e,t){if(!e)throw Error("Cannot index undefined type");const n=this.getKey(e);let i=this.typeLookupMap[n];return!i&&t&&(i=e,this.addType(i)),i?n:""}getKeyByInstance(e,t){if(!e)throw Error("Cannot index undefined data");const n=this.getKey(e.constructor);let i=this.typeLookupMap[n];return!i&&t&&(i=e.constructor,this.addType(i)),i?n:""}getTypeByKey(e){const t=this.typeLookupMap[e];if(!t)throw Error("Key not found");if("string"==typeof t)throw Error("non type keyed result not supported");return t}getKnownTypes(){return Object.values(this.typeLookupMap)}}},947:(e,t,n)=>{"use strict";var i;n.d(t,{A:()=>i}),function(e){e[e.Begin=0]="Begin",e[e.Logic=1]="Logic",e[e.Render=2]="Render",e[e.End=3]="End"}(i||(i={}))},56692:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.width=e,this.height=t}}},54244:(e,t,n)=>{"use strict";n.d(t,{Mx:()=>s,nh:()=>i,pu:()=>l});var i,s,r=n(67992),a=n(1722),o=n(46950);!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.WAITING=1]="WAITING",e[e.LOADING=2]="LOADING",e[e.STARTING=3]="STARTING",e[e.PLAYING=4]="PLAYING",e[e.ERROR=5]="ERROR"}(i||(i={})),function(e){e.UNKNOWN="unknown",e.WEBVR="webvr",e.SHOWCASE="showcase",e.WORKSHOP="workshop"}(s||(s={}));class l extends r.V{constructor(e,t=s.UNKNOWN){super(),this.name="app",this.phases=i,this.playingPromise=new o.Q,this.phase=e,this.application=t,this.phaseTimes=(0,a.$)({[i.UNINITIALIZED]:0,[i.WAITING]:0,[i.LOADING]:0,[i.STARTING]:0,[i.PLAYING]:0,[i.ERROR]:0}),this.error=null,this.onPhase((()=>{this.playingPromise.resolve()}),i.PLAYING)}getName(){return this.application.toString()}getVersion(){return"23.12.1_webgl-103-gcfc28ff2d3"}onPhase(e,t){return this.onPropertyChanged("phase",(n=>{t&&n!==t||e()}))}get waitForPlaying(){return this.playingPromise.nativePromise()}toString(){return JSON.stringify({application:this.getName(),version:this.getVersion(),error:this.error,phaseTimes:this.phaseTimes})}}},38208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(97542),s=n(54244),r=n(10374),a=n(18839),o=n(58533);class l extends i.Y{constructor(){super(...arguments),this.name="app-phase"}async init(e,t){this.market=t.market,this.broadcast=t.broadcast.bind(t),this.tasks=e.tasks,this.appState=new s.pu(s.nh.UNINITIALIZED),this.appState.phase=s.nh.UNINITIALIZED,this.appState.phaseTimes[s.nh.UNINITIALIZED]=Date.now(),this.appState.application=s.Mx.SHOWCASE,this.market.register(this,s.pu,this.appState),this.watchTasks(this.appState.phase),this.watchErrors(),this.updateAppHeaders(),this.bindings.push(this.appState.onPropertyChanged("application",(()=>this.updateAppHeaders())))}async watchTasks(e){if(e>=s.nh.PLAYING)return;const t=e+1;try{await Promise.all(this.tasks[t])}catch(e){this.error(e)}t===s.nh.PLAYING&&this.broadcast(new r.pB(this.appState.application)),this.appState.phase!==s.nh.ERROR&&e!==s.nh.ERROR&&(this.updateCurrentPhase(t),this.watchTasks(t))}async watchErrors(){try{await Promise.all(this.tasks[s.nh.ERROR])}catch(e){this.error(e)}}updateCurrentPhase(e){this.log.devInfo(`Entering "${s.nh[e]}" for "${this.appState.application}"`),this.appState.phase=e,this.appState.phaseTimes[e]=Date.now(),this.log.debug(this.appState.toString()),this.appState.commit(),this.broadcast(new r.LZ(e,this.appState.application))}error(e){this.appState.error=e,this.updateCurrentPhase(s.nh.ERROR)}updateActiveApp(e){this.appState.application=e,this.appState.commit(),this.broadcast(new r.bS(e))}getData(){return this.appState}updateAppHeaders(){this.log.debug(`updating application headers ${this.appState.application}`),(0,a.l)(this.appState.getName()),(0,o.t)(this.appState.getVersion())}}},10374:(e,t,n)=>{"use strict";n.d(t,{LZ:()=>s,bS:()=>r,pB:()=>a});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.phase=e,this.application=t}}class r extends i.v0{constructor(e){super(),this.application=e}}class a extends i.v0{constructor(e){super(),this.application=e}}},61864:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>r,Mv:()=>s,h7:()=>i});const i=Symbol("app-phase"),s=Symbol("sdk"),r=Symbol("settings")},79606:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var i=n(67992),s=n(10385);class r extends i.V{constructor(){super(...arguments),this.name="sdk",this.applicationKeys=new s.d}}},85787:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CommunicationMethod:()=>u,Sdk:()=>Se,default:()=>Ee});var i,s,r=n(97542),a=n(79606),o=n(13594);!function(e){e.EMBED="sdk.embed",e.BUNDLE="sdk.bundle",e.PLUGIN="sdk.plugin",e.NPM_SDK="npm.embed",e.NPM_WEB_COMPONENT="npm.webcomponent",e.NPM_R3F="npm.r3f"}(i||(i={})),function(e){e.CONNECTION="sdk.connection",e.DISCONNECT="sdk.disconnect",e.MESSAGED="sdk.messaged",e.SUBSCRIBED="sdk.subscribed",e.UNSUBSCRIBED="sdk.unsubscribed",e.OBSERVABLE_SUB="sdk.obs.subscribe",e.OBSERVABLE_UNSUB="sdk.obs.unsubscribe",e.COLLECTION_SUB="sdk.coll.subscribe",e.COLLECTION_UNSUB="sdk.coll.unsubscribe"}(s||(s={}));class l{constructor(e){this.analytics=e,this.trackedEvents=new o.X}track(e,t,n){this.trackedEvents.has(e,t)||(this.trackedEvents.add(e,t),this.analytics.track(e,Object.assign({},n)))}alwaysTrack(e,t,n){this.trackedEvents.add(e,t),this.analytics.track(e,Object.assign({},n))}setOptions(e){this.analytics.setOptions(e)}}class c{constructor(e){this.analytics=e,this.messageType="client call"}onMessage(e,t){const{namespace:n,name:i}=e,s={applicationKey:t.applicationKey,namespace:n,name:i,method:t.communicationMethod,provider:t.context.provider,sdkType:t.context.sdkType};this.analytics.track("sdk_call",n+i,s)}}class d{constructor(){this.usedIds=new Set,this.usedIds.add(0)}generate(){let e;do{e=Math.floor(1e6*Math.random())}while(this.usedIds.has(e));return this.usedIds.add(e),e}isInUse(e){return this.usedIds.has(e)}}var u,h=n(93153);!function(e){e.POSTMESSAGE="postmessage",e.DIRECT="direct",e.WEBSOCKET="websocket"}(u||(u={}));var p,m=n(48913);class f{constructor(e,t,n,i,s){this.hostWindow=e,this.hostId=t,this.applicationKey=n,this.idGenerator=i,this.connectionReceiver=s,this.inFlightClients=new Set,this.connectionHandler=new h.TY(t,new h.R9(window)),this.connectionHandler.addObserver(new m.OR({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){var n,i;if(this.inFlightClients.has(t.id))return;e=e||{},this.inFlightClients.add(t.id);const s=e&&e.bootstrapVersion?this.idGenerator.generate():t.id,r=this.hostId,a=t.source,o=this.hostWindow,l=new h.l(r,o,s,a).createMessenger();this.connectionReceiver.onConnectionReceived(t.origin,e.options,{applicationKey:e.applicationKey||this.applicationKey,id:s,messenger:l,communicationMethod:u.POSTMESSAGE,context:{provider:(null===(n=e.options)||void 0===n?void 0:n.provider)||"",sdkType:(null===(i=e.options)||void 0===i?void 0:i.sdkType)||""}},{accept(e,t){l.send(new m.U7(e,t,s,r,window.location.origin))},handshake(){l.send(new m.RS)},reject(e){l.send(new m.HX(e)),l.dispose()}})}}!function(e){e.CONNECT_PLUGIN="connect.plugin"}(p||(p={}));class g{constructor(e,t,n,i){this.type=p.CONNECT_PLUGIN,this.payload={bootstrapVersion:e,applicationKey:n,pluginId:i,options:{auth:t.auth,provider:t.provider,sdkType:t.sdkType}}}}class v{constructor(e){this.receiver=e,this.messageType=p.CONNECT_PLUGIN}notify(e,t){this.receiver.onConnectionReceived(e,t)}}var b=n(8403);function y(e){return(0,b.K)(e)&&void 0!==e.pluginId}class E{constructor(e,t,n){this.idGenerator=t,this.connectionReceiver=n,this.host={id:e,node:new h.Ej(window.location.origin)},this.connectionHandler=new h.TY(e,new h.tY(this.host.node)),this.connectionHandler.addObserver(new v({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){T(e,this.host,{info:t,applicationKey:e.applicationKey},this.connectionReceiver,{pluginId:e.pluginId})}connect(e){const t={id:this.idGenerator.generate(),node:new h.Ej(origin)};return O(this.host,t,(t=>t.send(new g("plugin",{sdkType:i.PLUGIN},e.applicationKey,e.pluginId))))}}class S{constructor(e,t,n,i){this.applicationKey=t,this.idGenerator=n,this.connectionReceiver=i,this.host={id:e,node:new h.Ej(window.location.origin)},this.connectionHandler=new h.TY(e,new h.tY(this.host.node)),this.connectionHandler.addObserver(new m.OR({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){T(e,this.host,{info:t,applicationKey:this.applicationKey},this.connectionReceiver)}connect(e,t={}){const n={id:this.idGenerator.generate(),node:new h.Ej(e)};return O(this.host,n,(e=>e.send(new m.HE("direct",t))))}}function O(e,t,n){const{id:i,node:s}=e,{id:r,node:a}=t,o=new h.UX(r,a,i,s);return new Promise(((e,t)=>{const l=new h.UX(r,a,i,s).createMessenger();l.init();const c=new class{accept(t,n,i,s){e({targetOrigin:origin,sourceId:t,targetId:s,scriptUrl:n,serializedInterface:i,messengerFactory:o}),l.dispose()}reject(e){t(e),l.dispose()}};l.addObserver(new m.fE(c)),l.addObserver(new m.MJ(c)),n(l)}))}function T(e,t,n,i,s){var r,a;const{id:o,node:l}=t,{id:c,source:d,source:{origin:p}}=n.info,f=new h.UX(o,l,c,d).createMessenger();i.onConnectionReceived(p,e.options,{id:c,applicationKey:n.applicationKey,messenger:f,communicationMethod:u.DIRECT,context:{provider:(null===(r=e.options)||void 0===r?void 0:r.provider)||"",sdkType:(null===(a=e.options)||void 0===a?void 0:a.sdkType)||"",pluginId:y(s)?s.pluginId:void 0}},{accept(e,t){f.send(new m.U7(e,t,c,o,p))},handshake(){f.send(new m.RS)},reject(e){f.send(new m.HX(e)),f.dispose()}})}var _,w,N,A,I,k,P,L,R,C,D,M,x,j,U,F,H,V,B,G,W=n(97998);!function(e){e.EVENT="postmessage.event",e.RESPONSE="postmessage.response",e.OBSERVATION="postmessage.observation",e.COLLECTION_UPDATE="collection.updated",e.PRIVATE_MESSAGE="private.message"}(_||(_={})),function(e){e.ITEM_ADDED="collection.item.added",e.ITEM_REMOVED="collection.item.removed",e.ITEM_UPDATED="collection.item.updated",e.COLL_UPDATED="collection.coll.updated"}(w||(w={}));!function(e){e.DISCONNECT="sdk.client.disconnect",e.ACTION="postmessage.action",e.EVENT_SUB="postmessage.subscribe",e.EVENT_UNSUB="postmessage.unsubscribe",e.OBSERVABLE_SUB="postmessage.observe",e.OBSERVABLE_UNSUB="postmessage.unobserve",e.COLLECTION_SUB="collection.sub",e.COLLECTION_UNSUB="collection.unsub",e.PRIVATE_MESSAGE="private.message"}(N||(N={}));!function(e){let t,n,i;!function(e){e.PHASE_CHANGE="application.phasechange"}(t=e.Event||(e.Event={})),function(e){e.UNINITIALIZED="appphase.uninitialized",e.WAITING="appphase.waiting",e.LOADING="appphase.loading",e.STARTING="appphase.starting",e.PLAYING="appphase.playing",e.ERROR="appphase.error"}(n=e.Phase||(e.Phase={})),function(e){e.UNKNOWN="application.unknown",e.WEBVR="application.webvr",e.SHOWCASE="application.showcase",e.WORKSHOP="application.workshop"}(i=e.Application||(e.Application={}))}(A||(A={})),function(e){let t,n,i;!function(e){e.IMAGE="image",e.PDF="pdf",e.VIDEO="video",e.RICH="rich",e.ZIP="zip",e.TEXT="text",e.AUDIO="audio",e.MODEL="model",e.APPLICATION="application"}(t=e.MediaType||(e.MediaType={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload",e.SANDBOX="sandbox"}(n=e.AttachmentCategory||(e.AttachmentCategory={})),function(e){e.COMMENT="comment",e.MATTERTAG="mattertag"}(i=e.ParentType||(e.ParentType={}))}(I||(I={})),function(e){let t,n;!function(e){e.MOVE="camera.move"}(t=e.Event||(e.Event={})),function(e){e.FORWARD="FORWARD",e.LEFT="LEFT",e.RIGHT="RIGHT",e.BACK="BACK",e.UP="UP",e.DOWN="DOWN"}(n=e.Direction||(e.Direction={}))}(k||(k={})),function(e){let t;!function(e){e.CHANGE_START="floors.changestart",e.CHANGE_END="floors.changeend"}(t=e.Event||(e.Event={}))}(P||(P={})),function(e){let t;!function(e){e.SUCCESS="astar.status.success",e.NO_PATH="astar.status.no_path",e.TIMEOUT="astar.status.timeout",e.NO_START_VERTEX="astar.status.no_start",e.NO_END_VERTEX="astar.status.no_end"}(t=e.AStarStatus||(e.AStarStatus={}))}(L||(L={})),function(e){let t;!function(e){e.POSITION_UPDATED="label.positionupdated"}(t=e.Event||(e.Event={}))}(R||(R={})),function(e){let t,n,i;!function(e){e.WINDOW="link.creationpolicy.window",e.REFERRER="link.creationpolicy.referrer",e.MATTERPORT="link.creationpolicy.matterport"}(t=e.CreationPolicy||(e.CreationPolicy={})),function(e){e.DEFAULT="link.openpolicy.default",e.NEW_WINDOW="link.openpolicy.newwindow",e.SAME_FRAME="link.openpolicy.sameframe",e.CURRENT_WINDOW="link.openpolicy.current"}(n=e.OpenPolicy||(e.OpenPolicy={})),function(e){e.DEFAULT="link.destination.default",e.MATTERPORT="link.destination.matterport"}(i=e.DestinationPolicy||(e.DestinationPolicy={}))}(C||(C={})),function(e){let t,n,i,s,r;!function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(t=e.Transition||(e.Transition={})),function(e){e.NAVIGATION="tag.link.nav",e.MODEL="tag.link.model",e.EXT_LINK="tag.link.ext"}(n=e.LinkType||(e.LinkType={})),function(e){e.NONE="tag.chunk.none",e.TEXT="tag.chunk.text",e.LINK="tag.chunk.link"}(i=e.DescriptionChunkType||(e.DescriptionChunkType={})),function(e){e.HOVER="tag.hover",e.CLICK="tag.click",e.LINK_OPEN="tag.linkopen"}(s=e.Event||(e.Event={})),function(e){e.NONE="mattertag.media.none",e.PHOTO="mattertag.media.photo",e.VIDEO="mattertag.media.video",e.RICH="mattertag.media.rich"}(r=e.MediaType||(e.MediaType={}))}(D||(D={})),function(e){let t,n,i;!function(e){e.INSIDE="mode.inside",e.OUTSIDE="mode.outside",e.DOLLHOUSE="mode.dollhouse",e.FLOORPLAN="mode.floorplan",e.TRANSITIONING="mode.transitioning"}(t=e.Mode||(e.Mode={})),function(e){e.CHANGE_START="viewmode.changestart",e.CHANGE_END="viewmode.changeend"}(n=e.Event||(e.Event={})),function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(i=e.TransitionType||(e.TransitionType={}))}(M||(M={})),function(e){let t;!function(e){e.MODEL_LOADED="model.loaded"}(t=e.Event||(e.Event={}))}(x||(x={})),function(e){let t;!function(e){e.NONE="intersectedobject.none",e.MODEL="intersectedobject.model",e.TAG="intersectedobject.tag",e.SWEEP="intersectedobject.sweep",e.UNKNOWN="intersectedobject.unknown"}(t=e.Colliders||(e.Colliders={}))}(j||(j={})),U||(U={}),function(e){let t,n;!function(e){e.CAMERA="sensor.sensortype.camera"}(t=e.SensorType||(e.SensorType={})),function(e){e.SPHERE="sensor.sourcetype.sphere",e.BOX="sensor.sourcetype.box",e.CYLINDER="sensor.sourcetype.cylinder"}(n=e.SourceType||(e.SourceType={}))}(F||(F={})),function(e){let t,n,i,s;!function(e){e.ENTER="sweep.enter",e.EXIT="sweep.exit"}(t=e.Event||(e.Event={})),function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(n=e.Transition||(e.Transition={})),function(e){e.ALIGNED="aligned",e.UNALIGNED="unaligned"}(i=e.Alignment||(e.Alignment={})),function(e){e.UNPLACED="unplaced",e.AUTO="auto",e.MANUAL="manual"}(s=e.Placement||(e.Placement={}))}(H||(H={})),function(e){let t;!function(e){e.UNKNOWN="tag.attachment.unknown",e.APPLICATION="tag.attachment.application",e.AUDIO="tag.attachment.audio",e.IMAGE="tag.attachment.image",e.MODEL="tag.attachment.model",e.PDF="tag.attachment.pdf",e.RICH="tag.attachment.rich",e.TEXT="tag.attachment.text",e.VIDEO="tag.attachment.video",e.ZIP="tag.attachment.zip",e.SANDBOX="tag.attachment.sandbox"}(t=e.AttachmentType||(e.AttachmentType={}))}(V||(V={})),function(e){let t,n;!function(e){e.STARTED="tour.started",e.STOPPED="tour.stopped",e.ENDED="tour.ended",e.STEPPED="tour.stepped"}(t=e.Event||(e.Event={})),function(e){e.INACTIVE="tour.inactive",e.ACTIVE="tour.active",e.STOP_SCHEDULED="tour.stopscheduled"}(n=e.PlayState||(e.PlayState={}))}(B||(B={})),function(e){let t,n,i;!function(e){e.OBJ_LOADER="mp.objLoader",e.FBX_LOADER="mp.fbxLoader",e.DAE_LOADER="mp.daeLoader",e.GLTF_LOADER="mp.gltfLoader",e.SCROLLING_TUBE="mp.scrollingTube",e.TRANSFORM_CONTROLS="mp.transformControls",e.LIGHTS_COMPONENT="mp.lights",e.POINT_LIGHT="mp.pointLight",e.DIRECTIONAL_LIGHT="mp.directionalLight",e.AMBIENT_LIGHT="mp.ambientLight",e.CAMERA="mp.camera",e.INPUT="mp.input",e.XR="mp.xr"}(t=e.Component||(e.Component={})),function(e){e.CLICK="INTERACTION.CLICK",e.HOVER="INTERACTION.HOVER",e.DRAG="INTERACTION.DRAG",e.DRAG_BEGIN="INTERACTION.DRAG_BEGIN",e.DRAG_END="INTERACTION.DRAG_END",e.POINTER_MOVE="INTERACTION.POINTER_MOVE",e.POINTER_BUTTON="INTERACTION.POINTER_BUTTON",e.SCROLL="INTERACTION.SCROLL",e.KEY="INTERACTION.KEY",e.LONG_PRESS_START="INTERACTION.LONG_PRESS_START",e.LONG_PRESS_END="INTERACTION.LONG_PRESS_END",e.MULTI_SWIPE="INTERACTION.MULTI_SWIPE",e.MULTI_SWIPE_END="INTERACTION.MULTI_SWIPE_END",e.PINCH="INTERACTION.PINCH",e.PINCH_END="INTERACTION.PINCH_END",e.ROTATE="INTERACTION.ROTATE",e.ROTATE_END="INTERACTION.ROTATE_END"}(n=e.InteractionType||(e.InteractionType={})),function(e){e.INPUT="input",e.OUTPUT="output",e.EVENT="event",e.EMIT="emit"}(i=e.PathType||(e.PathType={}))}(G||(G={}));n(32597),n(6667),n(16782);Math.PI;M.Mode.DOLLHOUSE,new Float32Array(16);var z=n(26306);z.h.Success,L.AStarStatus.SUCCESS,z.h.NoPath,L.AStarStatus.NO_PATH,z.h.Timeout,L.AStarStatus.TIMEOUT;Symbol.iterator;var K,Y;!function(e){e.LOADED="inject.loaded",e.SETUP="inject.setup",e.RESOLVE="inject.resolve"}(K||(K={}));!function(e){e[e.POSTMESSAGE=1]="POSTMESSAGE"}(Y||(Y={}));var q;!function(e){e.map=new Map}(q||(q={}));var $;!function(e){e.ADD="view.add.layer",e.REMOVE="view.remove.layer"}($||($={}));new WeakMap,new WeakMap,new WeakMap;new WeakMap,new WeakMap,new WeakMap;const Z=new W.Z("SDK client");"undefined"!=typeof __SDK_CLIENT_VERSION__&&Z.info("Showcase SDK client version:",__SDK_CLIENT_VERSION__);class Q{constructor(e,t,n,i){this.type=_.RESPONSE,this.payload={uid:e,message:t,success:n,error:i},this.uid=e,this.message=t,this.success=n,this.error=i}}class X{constructor(e,t){this.type=_.EVENT,this.payload={eventType:e,eventData:t},this.eventType=e,this.eventData=t}}class J{constructor(e,t){this.type=_.OBSERVATION,this.payload={observableKey:e,observableData:t}}}class ee{constructor(e,t,n,i){this.type=_.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:n,item:i}}}class te{constructor(e,t,n){this.type=_.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:n}}}class ne{constructor(e,t,n,i){this.type=_.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:n,item:i}}}class ie{constructor(e,t){this.type=_.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t}}}class se{constructor(e,t){this.type=_.PRIVATE_MESSAGE,this.payload={messageType:e,messagePayload:t}}}class re{constructor(e,t){this.receiver=e,this.clientInfo=t,this.messageType=N.ACTION}notify(e){this.receiver.onActionReceived(e,this.clientInfo)}}class ae{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.EVENT_SUB}notify(e){this.observer.onEventSubReceived(e,this.clientInfo)}}class oe{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.EVENT_UNSUB}notify(e){this.observer.onEventUnsubReceived(e,this.clientInfo)}}class le{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.OBSERVABLE_SUB}notify(e){this.observer.onObservableSubReceived(e,this.clientInfo)}}class ce{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.OBSERVABLE_UNSUB}notify(e){this.observer.onObservableUnsubReceived(e,this.clientInfo)}}class de{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.COLLECTION_SUB}notify(e){this.observer.onCollectionSubReceived(e,this.clientInfo)}}class ue{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.COLLECTION_UNSUB}notify(e){this.observer.onCollectionUnsubReceived(e,this.clientInfo)}}class he{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.PRIVATE_MESSAGE}notify(e){this.observer.onPrivateMessageReceived(e,this.clientInfo)}}class pe{constructor(){this.dirty=!1}}var me=n(53261),fe=n(92810),ge=n(15637),ve=n(29708),be=n(37082);const ye=new W.Z("sdk");class Ee extends r.Y{constructor(){super(...arguments),this.name="sdk",this.hostId=Math.floor(1e6*Math.random()),this.connectionHandlers=[],this.clientInterface={functions:{},commands:{},enums:{},observables:{},collections:{}},this.perOriginInterfaces=new Map,this.perSdkTypeInterfaces=new Map,this.pendingClients=new ge.v,this.clientConnections=new Map,this.eventToClientSubMap=new o.X,this.clientToEventSubMap=new o.X,this.observableToClientSubMap=new o.X,this.clientToObservableSubMap=new Map,this.collectionToClientSubMap=new o.X,this.clientToCollectionSubMap=new Map,this.privateMessageHandlers=new o.X,this.valueToClientInterface={},this.commandCreators={},this.commands={},this.asyncCommands={},this.observables={},this.collections={},this.firstTimeCollectionSubs=new o.X,this.sdkTypeByBuild=i.EMBED}async init(e,t){this.config=e,this.validationUrl=e.validationUrl,this.facade=new Ee.MessengerHostFacade(this),this.clientIdGenerator=new d,this.postmessageConnectHandler=new f(window,this.hostId,e.applicationKey,this.clientIdGenerator,this.facade),this.directConnectHandler=new S(this.hostId,e.applicationKey,this.clientIdGenerator,this.facade),this.pluginConnectHandler=new E(this.hostId,this.clientIdGenerator,this.facade),this.connectionHandlers.push(this.postmessageConnectHandler,this.directConnectHandler,this.pluginConnectHandler),this.sdkTypeByBuild=i.BUNDLE,this.analytics=new l(await t.getModuleBySymbol(fe.V6)),this.clientFilter=e.clientFilter||(()=>!0),this.issueCommand=t.commandBinder.issueCommand.bind(t.commandBinder),this.getSdkConfig=e.getSdkConfig,this.requestQueue=e.queue,this.data=new a.I,t.market.register(this,a.I,this.data),this.addPrivateMessageHandler(new c(this.analytics)),this.enableHandshaking()}dispose(){for(const e of this.connectionHandlers)e.dispose();this.clearInterface()}connect(e,t){return this.directConnectHandler.connect(e,t)}connectPlugin(e,t){return this.pluginConnectHandler.connect({applicationKey:e,pluginId:t})}getClientAuth(e){const t=this.pendingClients.get(e);return t?Promise.resolve(t):new Promise((t=>{const n=this.pendingClients.onElementChanged({onAdded(i,s){s===e&&(t(i),n.cancel())}})}))}enableHandshaking(){for(const e of this.connectionHandlers)e.init()}async setupInterface(){return this.interfaceLoading||(this.interfaceLoading=this.config.setupExternalSdk(this)),this.interfaceLoading}clearInterface(){this.clientInterface.functions={},this.clientInterface.commands={},this.clientInterface.enums={},this.clientInterface.observables={},this.clientInterface.collections={},this.commandCreators={}}onUpdate(){for(const[e,t]of this.clientToObservableSubMap)for(const[n,[i,s]]of t)i.dirty&&(this.notifyObservableUpdate(n,s.getData(),e),i.dirty=!1);for(const[e,t]of this.clientToCollectionSubMap)for(const[n,[,i]]of t)i.dirty&&this.notifyCollectionUpdates(n,i.readDiff(),e)}addCommandCreator(e,t){const n=this.getInterfaceIndex(e);if(this.clientInterface.functions.hasOwnProperty(n)&&ye.debug(`Overwriting ${n} function in sdk interface`),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.functions[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.functions[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.functions[n]=e,this.commandCreators[n]=t}addEnumToInterface(e){const t=this.getInterfaceIndex(e);if(this.clientInterface.functions.hasOwnProperty(t)&&ye.debug(`Overwriting ${t} enum in sdk interface`),e.sdkTypes)for(const n of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(n)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.enums[t]=Object.assign({},e),this.perSdkTypeInterfaces.set(n,i)}if(e.origins)for(const n of e.origins){const i=this.perOriginInterfaces.get(n)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.enums[t]=Object.assign({},e),this.perOriginInterfaces.set(n,i)}if(this.clientInterface.enums[t]=Object.assign(Object.assign({},e),{values:Object.assign({},e.values)}),"Event"===e.name){const t=Object.keys(e.values);for(const n in t){this.valueToClientInterface;const i=e.values[t[n]];this.valueToClientInterface.hasOwnProperty(i)?ye.warn(`Duplicate event detected for ${JSON.stringify(e)}`):this.valueToClientInterface[i]=e}}}async addCommandToInterface(e,t){const n=this.getInterfaceIndex(e);if(this.addCommand(n,t),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.commands[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.commands[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.commands[n]=e}async addAsyncCommandToInterface(e,t){const n=this.getInterfaceIndex(e);if(this.addCommand(n,t,!0),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.commands[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.commands[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.commands[n]=Object.assign({},e)}async addCommand(e,t,n=!1){this.clientInterface.commands.hasOwnProperty(e);const i=this;return n?(this.asyncCommands[e]=t,{dispose(){delete i.asyncCommands[e]}}):(this.commands[e]=await t,{dispose(){delete i.commands[e]}})}addObservableToInterface(e,t){const n=this.getInterfaceIndex(e);if(this.addObservable(n,t),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.observables[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.observables[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.observables[n]=Object.assign({},e)}addObservable(e,t){this.clientInterface.observables.hasOwnProperty(e),this.observables[e]=t;const n=this;return{dispose(){n.removeObservable(e)}}}removeObservable(e){var t;delete this.observables[e];for(const n of this.observableToClientSubMap.getValuesAtKey(e))null===(t=this.clientToObservableSubMap.get(n.id))||void 0===t||t.delete(e);this.observableToClientSubMap.removeKey(e)}addCollectionToInterface(e,t){const n=this.getInterfaceIndex(e);if(this.addCollection(n,t),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.collections[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.collections[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.collections[n]=Object.assign({},e)}addCollection(e,t){this.clientInterface.collections.hasOwnProperty(e),this.collections[e]=t;const n=this;return{dispose(){n.removeCollection(e)}}}removeCollection(e){var t;delete this.collections[e];for(const n of this.collectionToClientSubMap.getValuesAtKey(e))null===(t=this.clientToCollectionSubMap.get(n.id))||void 0===t||t.delete(e);this.collectionToClientSubMap.removeKey(e)}addPrivateMessageHandler(e){const{privateMessageHandlers:t}=this;return t.add(e.messageType,e),{dispose(){t.remove(e.messageType,e)}}}getInterfaceIndex(e){let t=`${e.name}`;return e.namespace&&(t=`${e.namespace}.${t}`),t}sendPrivateMessage(e,t){for(const[,n]of this.clientConnections)n.messenger.send(new se(e,t))}broadcast(e,t,n){for(const[,i]of this.clientConnections)if(t){const s=t(n);i.messenger.send(new X(e,s||[]))}else i.messenger.send(new X(e,[]))}notifyObservableUpdate(e,t,n){for(const i of this.observableToClientSubMap.getValuesAtKey(e))i.id===n&&i.messenger.send(new J(e,t))}notifyCollectionUpdates(e,t,n){const{added:i,removed:s,updated:r}=t,a=i.size>0,o=s.size>0,l=r.size>0,c=this.clientConnections.get(n);if(c){const t=c.id;if(a)for(const[t,n]of i)c.messenger.send(new ee(w.ITEM_ADDED,e,t,n));if(o)for(const[t]of s)c.messenger.send(new te(w.ITEM_REMOVED,e,t));if(l)for(const[t,n]of r)c.messenger.send(new ne(w.ITEM_UPDATED,e,t,n));(a||o||l||this.firstTimeCollectionSubs.has(t,e))&&(c.messenger.send(new ie(w.COLL_UPDATED,e)),this.firstTimeCollectionSubs.remove(t,e))}}verifyConnection(e,t){const n={cache:!1,headers:{"X-Matterport-Application-Key":t,"X-Matterport-Referrer":e},priority:me.ru.HIGH};return this.requestQueue.get(this.validationUrl,n)}async onConnectionReceived(e,t={},n,s){if(!this.clientFilter(e))return s.reject(new m.WG);t&&(0,ve.p)(i,t.sdkType)?n.context.sdkType=t.sdkType:n.context.sdkType=this.sdkTypeByBuild;const r=new Oe(t.auth,t.provider);if(!y(n.context))try{await this.verifyConnection(e,n.applicationKey),this.pendingClients.set(n.applicationKey,r)}catch(t){return r.reject(),s.reject(new m.hu(`${n.applicationKey}@${e} - Key/referrer mismatch`))}const a=()=>{const t=new URL(e).hostname,i=this.perOriginInterfaces.get(t.toLowerCase()),s=this.perSdkTypeInterfaces.get(n.communicationMethod),r={enums:{},functions:{},observables:{},collections:{}},a=function(e,t,n,i){const s=e[t].sdkTypes,r=e[t].origins;if(!s&&!r)return!0;const a=s&&r&&(null==n?void 0:n[t])&&(null==i?void 0:i[t]),o=s&&!r&&(null==n?void 0:n[t]),l=!s&&r&&(null==i?void 0:i[t]);return a||o||l};for(const e in this.clientInterface.enums)a(this.clientInterface.enums,e,null==s?void 0:s.enums,null==i?void 0:i.enums)&&(r.enums[e]=this.clientInterface.enums[e]);for(const e in this.clientInterface.observables)a(this.clientInterface.observables,e,null==s?void 0:s.observables,null==i?void 0:i.observables)&&(r.observables[e]=this.clientInterface.observables[e]);for(const e in this.clientInterface.collections)a(this.clientInterface.collections,e,null==s?void 0:s.collections,null==i?void 0:i.collections)&&(r.collections[e]=this.clientInterface.collections[e]);for(const e in this.clientInterface.functions)a(this.clientInterface.functions,e,null==s?void 0:s.functions,null==i?void 0:i.functions)&&(r.functions[e]=this.clientInterface.functions[e]);for(const e in this.clientInterface.commands)a(this.clientInterface.commands,e,null==s?void 0:s.commands,null==i?void 0:i.commands)&&(r.functions[e]=this.clientInterface.commands[e]);return r};s.handshake();try{if(!y(n.context)){if(!await this.config.validateProvider(t.provider))throw r.reject(),new m.xA}r.accept(),await this.setupInterface();const i=a();this.onConnectionAccepted(e,n,t),s.accept((await this.getSdkConfig).client,i),this.data.atomic((()=>{this.data.applicationKeys.push({key:n.applicationKey,provider:n.context.provider}),this.data.commit()}))}catch(e){s.reject(e)}}onConnectionAccepted(e,t,n){const i=t.id,s=t.messenger,r={id:i,applicationKey:t.applicationKey,origin:e,communicationMethod:t.communicationMethod,messenger:s,context:{provider:t.context.provider,sdkType:t.context.sdkType,pluginId:t.context.pluginId}};this.clientConnections.set(i,r);const a=this.facade;s.addObserver(new re(a,r)),s.addObserver(new ae(a,r)),s.addObserver(new oe(a,r)),s.addObserver(new le(a,r)),s.addObserver(new ce(a,r)),s.addObserver(new de(a,r)),s.addObserver(new ue(a,r)),s.addObserver(new he(a,r)),s.init(),this.trackSdkConnect(r,n)}onDisconnectReceived(e,t){const n=this.clientToEventSubMap.getValuesAtKey(t.id),i=this.clientToObservableSubMap.get(t.id)||[],s=this.clientToCollectionSubMap.get(t.id)||[];for(const e of n)this.eventToClientSubMap.remove(e,t);for(const[e]of i)this.observableToClientSubMap.remove(e,t);for(const[e]of s)this.collectionToClientSubMap.remove(e,t);this.clientToEventSubMap.removeKey(t.id),this.clientToObservableSubMap.delete(t.id),this.clientToCollectionSubMap.delete(t.id);const r=this.data.applicationKeys.indexOf({key:t.applicationKey,provider:t.context.provider});r>-1&&this.data.applicationKeys.splice(r,1)}onActionReceived(e,t){if(this.tryActionThroughCommand(e,t))return;const n=this.commandCreators[e.targetFunction];if(n){this.trackSdkCall(e,t.id);try{this.issueCommand(n(e.params,t)).then((n=>t.messenger.send(new Q(e.uid,n,!0,"")))).catch((n=>t.messenger.send(new Q(e.uid,{},!1,n.message||n))))}catch(n){ye.debug(n),t.messenger.send(new Q(e.uid,{},!1,n.message))}}else t.messenger.send(new Q(e.uid,{},!1,`${e.targetFunction} is not a valid command`))}tryActionThroughCommand(e,t){if(this.tryActionThroughAsyncCommand(e,t))return!0;const n=this.commands[e.targetFunction];if(!n)return!!this.clientInterface.commands.hasOwnProperty(e.targetFunction)&&(t.messenger.send(new Q(e.uid,{},!1,`${e.targetFunction} is not ready to be called`)),!0);this.trackSdkCall(e,t.id);try{n.exec(e.params,t).then((n=>{t.messenger.send(new Q(e.uid,n,!0,""))})).catch((n=>{t.messenger.send(new Q(e.uid,{},!1,n.message||n))}))}catch(n){ye.debug(n),t.messenger.send(new Q(e.uid,{},!1,n.message))}return!0}tryActionThroughAsyncCommand(e,t){const n=this.asyncCommands[e.targetFunction];return!!n&&(n.then((n=>{this.trackSdkCall(e,t.id);try{n.exec(e.params,t).then((n=>{t.messenger.send(new Q(e.uid,n,!0,""))})).catch((n=>{t.messenger.send(new Q(e.uid,{},!1,n.message||n))}))}catch(n){ye.debug(n),t.messenger.send(new Q(e.uid,{},!1,n.message))}})),!0)}onEventSubReceived(e,t){this.eventToClientSubMap.add(e.subscription,t),this.trackSdkEvent(s.SUBSCRIBED,e,t)}onEventUnsubReceived(e,t){this.eventToClientSubMap.remove(e.subscription,t),this.trackSdkEvent(s.UNSUBSCRIBED,e,t)}async onObservableSubReceived(e,t){const n=e.observableKey,i=this.observables[n];if(i){const r=await i;if(!this.observables[n])return;if(!this.observableToClientSubMap.has(n,t)){const i=new pe,a=r.subscribe(i);this.observableToClientSubMap.add(n,t);const o=this.clientToObservableSubMap.get(t.id)||new Map;o.set(n,[i,r,a]),this.clientToObservableSubMap.set(t.id,o),this.trackClientObservableSub(s.OBSERVABLE_SUB,e,t)}}else ye.error(n,"is not a valid, registered observable")}onObservableUnsubReceived(e,t){const n=e.observableKey;this.observableToClientSubMap.remove(n,t);const i=this.clientToObservableSubMap.get(t.id);if(i){const r=i.get(n);if(r){const[,,a]=r;a.cancel(),i.delete(n),this.trackClientObservableSub(s.OBSERVABLE_UNSUB,e,t)}}}async onCollectionSubReceived(e,t){const n=e.collectionKey,i=this.collections[n];if(i){const r=await i;if(!this.collections[n])return;if(!this.collectionToClientSubMap.has(n,t)){const i=r.subscribe(t),a=[r,i];this.collectionToClientSubMap.add(n,t);const o=this.clientToCollectionSubMap.get(t.id)||new Map;o.set(n,a),this.clientToCollectionSubMap.set(t.id,o),this.firstTimeCollectionSubs.add(t.id,n),this.trackClientCollectionSub(s.COLLECTION_SUB,e,t)}}else ye.error(n,"is not a valid, registered collection")}onCollectionUnsubReceived(e,t){const n=e.collectionKey;this.collectionToClientSubMap.remove(n,t);const i=this.clientToCollectionSubMap.get(t.id);if(i){const r=i.get(n);if(r){const[,a]=r;a.cancel(),i.delete(n),this.trackClientCollectionSub(s.COLLECTION_UNSUB,e,t)}}}onPrivateMessageReceived(e,t){const{messageType:n,messagePayload:i}=e;for(const e of this.privateMessageHandlers.getValuesAtKey(n))e.onMessage(i,t)}trackSdkConnect(e,t){if(!this.analytics)return;const n="string"==typeof(null==t?void 0:t.auth),i={origin:e.origin,applicationKey:e.applicationKey,provider:e.context.provider,method:e.communicationMethod,sdkType:e.context.sdkType,pluginId:e.context.pluginId,authTokenProvided:n};this.analytics.setOptions({authTokenProvided:n}),this.analytics.alwaysTrack("sdk_connect","connect",i)}trackSdkEvent(e,t,n){if(!this.analytics)return;const i=e===s.SUBSCRIBED?"on":"off",r=this.valueToClientInterface[t.subscription];if(!r)return;const a=Object.keys(r.values),o=a.find(((e,n)=>{const i=a[n];return r.values[i]===t.subscription}));if(!o)return;const l={origin:n.origin,applicationKey:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType,name:i,namespace:r.namespace,eventType:o,count:this.eventToClientSubMap.valuesPerKey(t.subscription),method:n.communicationMethod,pluginId:n.context.pluginId};this.analytics.track("sdk_event",t.subscription,l)}trackSdkCall(e,t){const n=this.clientConnections.get(t);if(!n)return;const i=this.clientInterface.functions[e.targetFunction]||this.clientInterface.commands[e.targetFunction],s=Object.assign(Object.assign({origin:n.origin,applicationKey:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType},i),{method:n.communicationMethod,pluginId:n.context.pluginId});this.analytics.track("sdk_call",e.targetFunction,s)}trackClientObservableSub(e,t,n){const i=e===s.OBSERVABLE_SUB,r=this.clientInterface.observables[t.observableKey],a=Object.assign(Object.assign({origin:n.origin,applicationKey:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType},r),{is_collection:!1,action:i?"subscribe":"cancel",method:n.communicationMethod,pluginId:n.context.pluginId});this.analytics.track("sdk_subscribe",t.observableKey,a)}trackClientCollectionSub(e,t,n){const i=e===s.COLLECTION_SUB,r=this.clientInterface.collections[t.collectionKey],a=Object.assign(Object.assign({origin:n.origin,applicationKey:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType},r),{is_collection:!0,action:i?"subscribe":"cancel",method:n.communicationMethod,pluginId:n.context.pluginId});this.analytics.track("sdk_subscribe",t.collectionKey,a)}}var Se;Ee.MessengerHostFacade=class{constructor(e){this.messageHandler=e}onConnectionReceived(e,t,n,i){this.messageHandler.onConnectionReceived(e,t,n,i)}onDisconnectReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onDisconnectReceived(e,n)}onActionReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onActionReceived(e,n)}onEventSubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onEventSubReceived(e,n)}onEventUnsubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onEventUnsubReceived(e,n)}onObservableSubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onObservableSubReceived(e,n)}onObservableUnsubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onObservableUnsubReceived(e,n)}onCollectionSubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onCollectionSubReceived(e,n)}onCollectionUnsubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onCollectionUnsubReceived(e,n)}onPrivateMessageReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onPrivateMessageReceived(e,n)}},function(e){e.name="sdk"}(Se||(Se={}));class Oe{constructor(e,t){this.token=e,this.provider=t,this.isAccepted=new be.f(null)}get accepted(){if(null!==this.isAccepted.value){if(this.isAccepted.value)return Promise.resolve();if(!this.isAccepted.value)return Promise.reject()}return new Promise(((e,t)=>{if(null===this.isAccepted.value){const n=this.isAccepted.onChanged((i=>{i?e():t(),n.cancel()}))}}))}accept(){this.isAccepted.value=!0}reject(){this.isAccepted.value=!1}}},26158:(e,t,n)=>{"use strict";var i;n.d(t,{F:()=>i}),function(e){e.BlursAddNudgeSeen="user_preference/blurs_add_nudge",e.DollhouseUserNudgeSeen="user_preference/dollhouse_nudge",e.HighlightReelSettingsTab="user_preference/highlight_reel_settings_tab",e.LastRatingPromptTime="user_preference/model_rating_last_prompt_time",e.MeasurementContinuousLines="user_preference/measurement_continuous",e.MeasurementSnapping="user_preference/measurement_snapping",e.MeasurementUserNudgeSeen="user_preference/measurement_nudge",e.NotesAddNudgeSeen="user_preference/notes_add_nudge",e.NotesModeNudgeSeen="user_preference/notes_mode_nudge",e.SubscriberPromptDismissed="user_preference/subscriber_prompt_dismissed",e.TagsAddNudgeSeen="user_preference/tags_add_nudge",e.TourMobileNavigationPromptSeen="user_preference/tour_mobile_nav_prompt_seen",e.TourTextNudgeDismissed="user_preference/tour_text_nudge_dismissed",e.UnitType="user_preference/unit_type"}(i||(i={}))},60975:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});class i{constructor(e,t){this.settingsData=e,this.settings=t,this.cache={},this.toggle=e=>{e?this.apply():this.reset()}}apply(){this.cache={};for(const e of Object.keys(this.settings)){const t=this.settingsData.tryGetProperty(e,void 0);t!==this.settings[e]&&(this.cache[e]=t,this.settingsData.setProperty(e,this.settings[e]))}}reset(){for(const e of Object.keys(this.cache)){const t=this.cache[e];this.settingsData.setProperty(e,void 0!==t&&t)}this.cache={}}}},34029:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var i=n(67992),s=n(15637),r=n(73180),a=n(59279);class o extends i.V{constructor(e={}){super(),this.overrideParams=e,this.name="settings",this.properties=(0,s.q)()}setProperty(e,t){const n=this.properties.get(e);null!=t&&n===t||(this.properties.set(e,t),this.commit([e]))}notifyPropertyObserver(e,t){e(this.properties.get(t))}setLocalStorageProperty(e,t){(0,r.m8)(e,t),this.setProperty(e,t)}hasProperty(e){return this.properties.has(e)}tryGetProperty(e,t){return this.hasProperty(e)?this.properties.get(e):t}getProperty(e){if(this.hasProperty(e))return this.properties.get(e);throw new Error("SettingsData: "+e+" not found")}getOverrideParam(e,t=null,n=typeof t){var i;return(0,a.O$)(null!==(i=this.overrideParams[e])&&void 0!==i?i:null,t,n)}iterate(e){for(const t of this.properties.keys)e(t,this.getProperty(t))}}},52223:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SettingPersistence:()=>l,default:()=>m});var i,s=n(46950);!function(e){e[e.Init=0]="Init",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded"}(i||(i={}));class r{constructor(e,t){this.queryScope=e,this.onChange=t,this.settings={},this.helperObject={colors:{},vectors:{},quaternions:{}},this.initPromise=new s.Q,this.loadState=i.Init,this.uninitError="ControlKit not yet initialized",this.lastKeys=[],this.lastKeysBufferLength=0,this.controlKit=void 0,this.updateRequired=!1,this.panels=[],this.onToggleCallbacks={},this.onKeyDown=e=>{this.lastKeys.unshift(e.keyCode),this.lastKeys.length>this.lastKeysBufferLength&&this.lastKeys.pop();for(let e=0;e<this.panels.length;e++){const t=this.panels[e].activationSequence;o(this.lastKeys,t)&&this.toggle(e)}},this.getPanelId=e=>{for(const t of this.panels)if(e===t.header)return t.index;return-1},this.getSubGroup=(e,t)=>{const n=this.panels[e];n.guiPanel||(n.guiPanel=n.makeGuiPanel()),n.allowSubGroups||(t="");let i=n.subGroups.get(t||"");if(!i){n.guiPanel.addSubGroup({label:t,enable:!n.allowSubGroups});const e=n.guiPanel._groups[n.guiPanel._groups.length-1],s=e._subGroups[e._subGroups.length-1];i=new a(n.guiPanel,e,s),n.subGroups.set(t||"",i)}return i},this.addColor=(e,t,n,i)=>{this.updateHelperObject(t+n,i),e.addColor(this.helperObject.colors,t+n,{label:n,colorMode:"hex",onChange:e=>{this.settings[t+n].setHex(parseInt(e.substring(1),16));const i={};i[n]=this.settings[t+n],this.onChange(i)}})},this.addVector3=(e,t,n,i)=>{this.updateHelperObject(e+n,i);const s=this.getSubGroup(e,`${t}: ${n}`),r=["x","y","z"];for(const t in r)s.addNumberInput(this.helperObject.vectors[e+n],r[t],{label:r[t],onChange:()=>{this.settings[e+n].set(this.helperObject.vectors[n].x,this.helperObject.vectors[n].y,this.helperObject.vectors[n].z);const t={};t[n]=this.settings[e+n],this.onChange(t)}})},this.addQuaternion=(e,t,n,i)=>{this.updateHelperObject(e+n,i);const s=this.getSubGroup(e,`${t}: ${n}`),r=["x","y","z","w"];for(const t in r)s.addNumberInput(this.helperObject.quaternions[e+n],r[t],{label:r[t],onChange:()=>{this.settings[e+n].set(this.helperObject.quaternions[e+n].x,this.helperObject.quaternions[e+n].y,this.helperObject.quaternions[e+n].z,this.helperObject.quaternions[e+n].w);const t={};t[n]=this.settings[e+n],this.onChange(t)}})}}init(){}async loadGuiPackage(){return this.loadState===i.Init&&(Promise.all([n.e(958),n.e(66)]).then(n.t.bind(n,94810,23)).then((async e=>{const t=this.queryScope.getElementById("control-kit-wrapper")||document.body,{default:s}=await n.e(858).then(n.t.bind(n,70858,23));s.getNodeById=e=>(new s).setElement(this.queryScope.getElementById(e));const{default:r}=await n.e(958).then(n.t.bind(n,64958,23)),a=document.createElement("style");a.innerText=r.string,t.appendChild(a);const o=document.createElement("div");o.id="controlKitElement",t.appendChild(o);const l=e=>e.stopPropagation();o.addEventListener("keydown",l),o.addEventListener("keyup",l),o.addEventListener("keypress",l),this.controlKit=new e.default({opacity:.9,enable:!1,parentDomElementId:"controlKitElement",useExternalStyle:!0}),this.controlKit.setShortcutEnable(""),this.controlKit.enable(),this.initPromise.resolve(),this.loadState=i.Loaded})),this.loadState=i.Loading),this.loadPromise}get loadPromise(){return this.initPromise.nativePromise()}get isLoaded(){return void 0!==this.controlKit}addPanel(e,t,n={}){for(void 0===n.width&&(n.width=250),void 0===n.allowSubGroups&&(n.allowSubGroups=!0),void 0===n.ratio&&(n.ratio=60),this.lastKeysBufferLength=Math.max(this.lastKeysBufferLength,t.length);this.lastKeysBufferLength>this.lastKeys.length;)this.lastKeys.unshift(-1);return this.panels.push({index:this.panels.length,header:e,guiPanel:null,makeGuiPanel:()=>this.controlKit.addPanel({label:e,align:"right",ratio:n.ratio,width:n.width}),subGroups:new Map,allowSubGroups:n.allowSubGroups,activationSequence:t.reverse()}),this.panels.length-1}isVisible(e){if(!this.controlKit)throw new Error(this.uninitError);return this.panels[e].guiPanel._enabled}toggle(e){this.controlKit?this.toggleVisibility(e):this.loadGuiPackage().then((()=>{this.toggleVisibility(e)}))}onToggle(e,t){this.onToggleCallbacks[e]||(this.onToggleCallbacks[e]=[]),this.onToggleCallbacks[e].push(t)}toggleVisibility(e){if(!this.controlKit)throw new Error(this.uninitError);const t=this.panels[e].guiPanel._enabled;if(t?this.panels[e].guiPanel.disable():this.panels[e].guiPanel.enable(),this.onToggleCallbacks[e])for(const n of this.onToggleCallbacks[e])n(!t)}dispose(){const e=this.queryScope.getElementById("controlKit");e&&e.remove(),this.controlKit=void 0}activate(e){this.queryScope.addEventListener("keydown",this.onKeyDown)}deactivate(e){this.controlKit&&this.controlKit.disable(),this.queryScope.removeEventListener("keydown",this.onKeyDown)}render(){this.controlKit&&this.updateRequired&&(this.updateRequired=!1,this.controlKit.update())}updateSetting(e,t,n){if(!this.controlKit)throw new Error(this.uninitError);const i=e+t,s=this.settings[i];n&&"function"==typeof n.equals&&"function"==typeof n.copy&&s&&"function"==typeof s.equals&&"function"==typeof s.copy?n.equals(this.settings[i])||(this.settings[i].copy(n),this.updateHelperObject(i,n),this.updateRequired=!0):n!==this.settings[e+t]&&(this.settings[i]=n,this.updateRequired=!0)}getSetting(e,t){return this.settings[e+t]}isRegistered(e,t){return void 0!==this.settings[e+t]}addControl(e,t,n,i,s,r=2,a){if(!this.controlKit)throw new Error(this.uninitError);const o=`${e}${n}`;this.settings[o]=i;let l=typeof i;("string"===l&&"true"===i||"false"===i)&&(l="boolean");const c="object"===l;if(c&&(null==i?void 0:i.isColor))this.addColor(this.getSubGroup(e,t),e,n,i);else if(c&&(null==i?void 0:i.isVector3))this.addVector3(e,t,n,i);else if(c&&(null==i?void 0:i.isQuaternion))this.addQuaternion(e,t,n,i);else{const c=this.getSubGroup(e,t);switch(l){case"string":Array.isArray(a)?(this.settings[o]={options:a,selected:i},c.addSelect(this.settings[o],"options",{target:"selected",label:n,onChange:e=>{const t={[n]:a[e]};this.onChange(t)}})):c.addStringInput(this.settings,e+n,{label:n,onChange:t=>{const i={};this.settings[e+n]=t,i[n]=this.settings[e+n],this.onChange(i)}});break;case"number":this.settings[`${e+n}_range`]=s||[0,10],c.addSlider(this.settings,e+n,`${e+n}_range`,{label:n,onChange:()=>{const t={};t[n]=this.settings[e+n],this.onChange(t)},dp:r});break;case"boolean":c.addCheckbox(this.settings,e+n,{label:n,ratio:10,onChange:()=>{const t={};t[n]=this.settings[e+n],this.onChange(t)}});break;default:c.addStringOutput(this.settings,e+n,{label:n})}}}addButton(e,t,n,i){if(!this.controlKit)throw new Error(this.uninitError);this.getSubGroup(e,t).addButton(n,i,{label:"none",ratio:100})}addSlider(e,t,n,i,s,r,a){if(!this.controlKit)throw new Error(this.uninitError);const o=this.getSubGroup(e,t);this.settings[e+n]=i,this.settings[e+n+"_range"]=[s,r],o.addSlider(this.settings,e+n,e+n+"_range",{label:n,dp:a,onChange:()=>{const t={};t[n]=this.settings[e+n],this.onChange(t)}})}updateHelperObject(e,t){const n="object"==typeof t;n&&(null==t?void 0:t.isColor)?this.helperObject.colors[e]="#"+t.getHexString():n&&(null==t?void 0:t.isVector3)?(this.helperObject.vectors[e]={},this.helperObject.vectors[e].x=t.x,this.helperObject.vectors[e].y=t.y,this.helperObject.vectors[e].z=t.z):n&&(null==t?void 0:t.isQuaternion)&&(this.helperObject.quaternions[e]={},this.helperObject.quaternions[e].x=t.x,this.helperObject.quaternions[e].y=t.y,this.helperObject.quaternions[e].z=t.z,this.helperObject.quaternions[e].w=t.w)}}class a{constructor(e,t,n){this.panel=e,this.group=t,this.subGroup=n}addButton(...e){this.invoke("addButton",e)}addSlider(...e){this.invoke("addSlider",e)}addSelect(...e){this.invoke("addSelect",e)}addCheckbox(...e){this.invoke("addCheckbox",e)}addColor(...e){this.invoke("addColor",e)}addStringInput(...e){this.invoke("addStringInput",e)}addStringOutput(...e){this.invoke("addStringOutput",e)}addNumberInput(...e){this.invoke("addNumberInput",e)}invoke(e,t){const n=this.panel._groups,i=this.group._subGroups,s=n.indexOf(this.group),r=i.indexOf(this.subGroup);n.splice(s,1),n.push(this.group),i.splice(r,1),i.push(this.subGroup);try{this.panel[e](...t)}finally{n.splice(s,0,n.pop()),i.splice(r,0,i.pop())}}}const o=function(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0};var l,c=n(97542),d=n(34029),u=n(73180),h=n(31362),p=n(59279);!function(e){e[e.NONE=0]="NONE",e[e.LOCAL_STORAGE=1]="LOCAL_STORAGE"}(l||(l={}));class m extends c.Y{constructor(){super(...arguments),this.name="settings",this.queuedControls=[],this.queuedButtons=[],this.secretWord=[38,38,40,40,37,39,37,39,66,65,72],this.panelID=-1,this.addPanel=(e,t,n)=>{const i=this.getPanelId(e);return-1===i?this.settingsGUI.addPanel(e,t,n):i},this.getPanelId=e=>this.settingsGUI.getPanelId(e)}async init(e,t){var n;this.engine=t,this.settings=new d.e(e.overrideParams),this.engine.market.register(this,d.e,this.settings),e.useGUI&&(this.settingsGUI=new r(null!==(n=e.queryScope)&&void 0!==n?n:document,(e=>{this.updateSettings(e)})),t.addComponent(this,this.settingsGUI),this.panelID=this.settingsGUI.addPanel("23.12.1_webgl-103-gcfc28ff2d3",this.secretWord)),e.useGUI&&this.settingsGUI.loadPromise.then((()=>{for(const e of this.queuedControls)this.settingsGUI.addControl(e.panelId,e.group,e.settingName,e.value,e.range,e.rangePrecision,e.options);for(const e of this.queuedButtons)this.settingsGUI.addButton(e.panelId,e.group,e.buttonName,e.callback);this.settingsGUI.toggle(this.panelID)}))}get settingsData(){return this.settings}get loadPromise(){return this.settingsGUI.loadPromise}getSettingsGui(){return this.settingsGUI}getMainPanelId(){return this.panelID}updateSetting(e,t,n=this.panelID){t&&t.clone&&"function"==typeof t.clone?this.settings.setProperty(e,t.clone()):this.settings.setProperty(e,t),this.settingsGUI&&this.settingsGUI.isLoaded&&this.settingsGUI.updateSetting(n,e,t)}updateSettings(e){for(const t in e)this.updateSetting(t,e[t])}registerSetting(e,t,n,i=!0,s=l.NONE,r,a=this.panelID,o=2,c){if(this.settingsGUI&&this.settingsGUI.isRegistered(a,t))return void this.log.warn(`Duplicate setting ${t} registered. Is a module being used twice?`);let d;d=n&&n.clone&&"function"==typeof n.clone?n.clone():n,this.settingsGUI&&i&&(this.settingsGUI.isLoaded?this.settingsGUI.addControl(a,e,t,d,r,o,c):this.queuedControls.push({panelId:a,group:e,settingName:t,value:n,range:r,rangePrecision:o,options:c}));const h=s===l.LOCAL_STORAGE?(0,u.fp)(t,n):n;this.updateSetting(t,h)}registerMenuEntry(e){const{header:t,setting:n,initialValue:i,persist:s,displayInUi:r,range:a,panel:o,onChange:l,rangePrecision:c,options:d,urlParam:u}=e;let m=i();const f=encodeURIComponent(n);if(u){const e=(0,p.eY)(f,null);null!==e&&(m="true"===e||"false"!==e&&function(e){if(""===e)return e;const t=+e;return isNaN(t)?e:t}(e))}if(this.registerSetting(t,n,m,r,s,a,o,c,d),!l&&!u)return null;if(l&&l(m),u){const e=i(),t=t=>{const n=(0,p.kD)();n.has(f)&&t===e?n.delete(f):n.set(f,t),(0,h.Vf)(n.toString(),!0),l&&l(t)};return this.settings.onPropertyChanged(n,t)}return l?this.settings.onPropertyChanged(n,l):null}registerMenuButton(e){const{header:t,buttonName:n,panel:i,callback:s}=e;this.registerButton(t,n,s,i)}registerButton(e,t,n,i=this.panelID){this.settingsGUI&&(this.settingsGUI.isLoaded?this.settingsGUI.addButton(i,e,t,n):this.queuedButtons.push({panelId:i,group:e,buttonName:t,callback:n}))}hasProperty(e){return this.settings.hasProperty(e)}getProperty(e){return this.settings.getProperty(e)}tryGetProperty(e,t){return this.settings.tryGetProperty(e,t)}toggleMenu(){this.settingsGUI&&this.settingsGUI.toggle(0)}disposeGui(){this.settingsGUI.dispose()}}},2541:(e,t,n)=>{"use strict";var i;n.d(t,{E:()=>i}),function(e){e[e.Immediate=0]="Immediate",e[e.NextFrame=1]="NextFrame",e[e.Duration=2]="Duration",e[e.Manual=3]="Manual"}(i||(i={}))},71954:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>o,KI:()=>i,Z8:()=>l});var i,s=n(38042),r=n(2541),a=n(947);!function(e){e.added="added",e.removed="removed",e.updated="updated"}(i||(i={}));class o{constructor(e,t,n){this.index=e,this.action=t,this.diff=n}}class l{constructor(e,t){if(this.changedHandlers=[],this.awaitingInvoke=!1,this.diffRecord=[],this.targetMonitors={},this.triggerChangeHandlers=this.invokeChangeHandlers.bind(this),this.config=e,this.updatePhaseSync=t,this.config.aggregationType===r.E.NextFrame){if(!t)throw Error("UpdatePhaseSync required for NextFrame aggregation")}else if(this.config.aggregationType===r.E.Duration)throw Error("Aggregation Type not implemented")}hasDiffRecord(){return this.diffRecord.length>0}clearDiffRecord(){this.diffRecord=[];for(const e in this.targetMonitors){const t=this.targetMonitors[e];t.hasDiffRecord()&&t.clearDiffRecord()}}onChanged(e){this.changedHandlers.push(e)}removeOnChanged(e){(0,s.bX)(this.changedHandlers,e)}invokeCallbacks(e){if(this.changedHandlers.length>0)for(const t of this.changedHandlers)t(e)}invokeChangeHandlers(e){switch(this.config.aggregationType){case r.E.Immediate:this.invokeCallbacks(e);break;case r.E.NextFrame:this.awaitingInvoke||(this.awaitingInvoke=!0,this.updatePhaseSync.after(a.A.End).then((()=>{this.awaitingInvoke=!1,this.invokeCallbacks(e)})));break;case r.E.Manual:}}}},64567:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var i=n(71954),s=n(86090),r=n(37262);class a extends i.Z8{constructor(e,t,n){super(t,n),this.target=e;for(const i of e.keys){const r=e.get(i),a=new s.u(r,t,n);a.onChanged(this.triggerChangeHandlers),this.targetMonitors[i]=a}const a={onAdded:(e,a)=>{const o=new s.u(e,t,n);o.onChanged(this.triggerChangeHandlers),this.targetMonitors[a]=o;const l=this.diffRecord.findIndex((e=>e.index===a));-1!==l&&this.diffRecord.splice(l,1);const c=new i.AQ(a,i.KI.added,(0,r.p$)(e));-1===l&&this.diffRecord.push(c),this.triggerChangeHandlers(c)},onRemoved:(e,t)=>{delete this.targetMonitors[t];const n=this.diffRecord.findIndex((e=>e.index===t));-1!==n&&this.diffRecord.splice(n,1);const s=new i.AQ(t,i.KI.removed,(0,r.p$)(e));-1===n&&this.diffRecord.push(s),this.triggerChangeHandlers(s)}};this.target.onElementChanged(a)}commitChanges(){this.invokeCallbacks(this.getDiffRecord())}getDiffRecord(){const e=[];for(const t in this.targetMonitors){const n=this.targetMonitors[t];if(n.hasDiffRecord()){const s=n.getDiffRecord(),a=this.diffRecord.findIndex((e=>e.index===t));-1!==a?(0,r.TS)(this.diffRecord[a].diff,s):e.push(new i.AQ(t,i.KI.updated,s))}}return this.diffRecord.concat(e)}}},86090:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var i=n(2541),s=n(37262),r=n(947),a=n(38042);class o{constructor(e,t,n){this.updatePhaseSync=n,this.target=e,this.clearDiffRecord(),this.target.onChanged((()=>{this.diffRecord=(0,s.br)(this.originalData,(0,s.p$)(this.target),t.shallow),this.handleAggregation()})),this.aggregationType=t.aggregationType,this.changedHandlers=[]}hasDiffRecord(){return Object.keys(this.diffRecord).length>0}getDiffRecord(){return this.diffRecord}clearDiffRecord(){this.originalData=(0,s.p$)(this.target),this.diffRecord={}}onChanged(e){this.changedHandlers.push(e)}removeOnChanged(e){(0,a.bX)(this.changedHandlers,e)}commitChanges(){this.triggerChangeHandlers(this.diffRecord)}handleAggregation(){switch(this.aggregationType){case i.E.Immediate:this.triggerChangeHandlers(this.diffRecord);break;case i.E.NextFrame:if(!this.updatePhaseSync)throw new Error("handleAggregation() -> Next frame aggregation requested, but updatePhaseSync is null");this.nextFramePromise||(this.nextFramePromise=this.updatePhaseSync.after(r.A.Begin).then((()=>{this.triggerChangeHandlers(this.diffRecord)})).finally((()=>{this.nextFramePromise=void 0})));break;case i.E.Duration:throw new Error("AggregationType.Duration: Please implement me :)");case i.E.Manual:}}triggerChangeHandlers(e){if(this.changedHandlers.length>0)for(const t of this.changedHandlers)t(e)}}},56221:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var i=n(35895);class s{constructor(){this.isObservable=!0,this._dirtyObservable=!1,this._activeObservable=!0,this._observerNotifying=!1,this._changeObservers=new Set,this._parentObservables=new Set,this._childObservables=new Set,Object.defineProperties(this,{isObservable:{value:this.isObservable,writable:!1,enumerable:!1},_dirtyObservable:{value:this._dirtyObservable,enumerable:!1},_activeObservable:{value:this._activeObservable,enumerable:!1},_observerNotifying:{value:this._observerNotifying,enumerable:!1},_changeObservers:{value:this._changeObservers,writable:!1,enumerable:!1},_childObservables:{value:this._childObservables,writable:!1,enumerable:!1},_parentObservables:{value:this._parentObservables,writable:!1,enumerable:!1}})}onChanged(e){if(this._changeObservers.has(e))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,i.k1)((()=>this._changeObservers.add(e)),(()=>this.removeOnChanged(e)),!0)}removeOnChanged(e){this._changeObservers.delete(e)}notifyObservers(){if(this._dirtyObservable&&!this._observerNotifying&&this._activeObservable){this._observerNotifying=!0;for(const e of this._changeObservers)this.notifyObserver(e);this._dirtyObservable=!1,this._observerNotifying=!1}}notifyObserver(e){e(void 0)}notifyDown(){for(const e of this._childObservables)e.notifyDown();this.notifyObservers()}notifyUp(){for(const e of this._parentObservables)e.notifyUp();this.notifyObservers()}setDirty(e=!0){this.setDirtyUp(),e&&this.notifyUp()}setDirtyUp(){if(!this._dirtyObservable){this._dirtyObservable=!0;for(const e of this._parentObservables)e.setDirtyUp()}}addChildObservable(e){s.isObservable(e)&&(this._childObservables.add(e),e._parentObservables.add(this))}removeChildObservables(e){s.isObservable(e)&&(this._childObservables.delete(e),e._parentObservables.delete(this))}atomic(e){if(!this._activeObservable)return e();try{this.setActive(!1),e()}finally{this.setActive(!0)}}setActive(e){const t=this._activeObservable;this._activeObservable=e,!t&&e&&this.notifyObservers();for(const t of this._childObservables)t.setActive(e)}deepCopy(){throw Error("deepCopy is only implemented in subclasses of Observable")}static isObservable(e){return e&&e.isObservable}}},10385:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,d:()=>r});var i=n(56221),s=n(37262);class r extends i.y{constructor(){super(),this.isObservableArray=!0,this.elements=[]}push(e){return this.elements.push(e),this.addChildObservable(e),this.setDirty(),this.length}concat(e){const t=this.elements.length;this.elements=this.elements.concat(e);for(let e=t;e<this.elements.length;e++)this.addChildObservable(this.elements[e]);return this.setDirty(),this.length}replace(e){for(const e of this.elements)this.removeChildObservables(e);return this.elements=[],this.concat(e)}remove(e){if(e<0||e>=this.length)throw new Error(`Index ${e} not in range of ObservableArray`);const[t]=this.elements.splice(e,1);this.removeChildObservables(t),this.setDirty()}update(e,t){const n=this.elements[e];n!==t&&(this.elements[e]=t,this.removeChildObservables(n),this.addChildObservable(t),this.setDirty())}get length(){return this.elements.length}set length(e){if(e<this.elements.length){for(let t=this.elements.length-1;t>=e;t--){const e=this.elements[t];this.removeChildObservables(e)}this.elements.length=e,this.setDirty()}}values(){return[...this.elements]}filter(e){return this.elements.filter(e)}find(e){return this.elements.find(e)}*[Symbol.iterator](){for(const e of this.elements)yield e}map(e,t){return this.elements.map(e,t)}forEach(e,t){this.elements.forEach(e,t)}sort(e){this.elements.sort(e)}get(e){return this.elements[e]}findIndex(e,t){return this.elements.findIndex(e,t)}indexOf(e){return this.elements.indexOf(e)}splice(e,t,...n){let i;if(n.length){i=this.elements.splice(e,t,...n);for(const e of n)this.addChildObservable(e)}else i=this.elements.splice(e,t);for(const e of i)this.removeChildObservables(e);return this.setDirty(),i}insert(e,t){if(e>this.elements.length)throw new Error(`Tried to insert at index ${e} in an array that's only ${this.elements.length} long`);e!==this.elements.length?(this.elements.splice(e,0,t),this.addChildObservable(t),this.setDirty()):this.push(t)}shift(){const e=this.elements.shift();return e&&(this.removeChildObservables(e),this.setDirty()),e}move(e,t){if(t>this.elements.length-1)throw Error("Index to move to is out of bounds");const n=this.elements[e];this.elements.splice(e,1),this.elements.splice(t,0,n),this.setDirty()}includes(e,t){return this.elements.includes(e,t)}some(e,t){return this.elements.some(e,t)}every(e,t){return this.elements.every(e,t)}onElementChanged(e){let t=this.elements.slice();return this.onChanged((()=>{for(const n in t){const i=parseInt(n,10);e.onRemoved&&void 0===this.get(i)&&e.onRemoved(t[i],i)}for(const n in this.elements){const s=parseInt(n,10),r=this.get(s);void 0===t[s]?e.onAdded&&e.onAdded(r,s):(i.y.isObservable(r)&&r._dirtyObservable||r!==t[s])&&(e.onUpdated?e.onUpdated(r,s):e.onRemoved&&null===r&&e.onRemoved(t[s],s))}t=this.elements.slice()}))}deepCopy(){return this.map((e=>(0,s.p$)(e)))}}const a=e=>{const t=new r;return e&&t.concat(e),t}},15637:(e,t,n)=>{"use strict";n.d(t,{q:()=>o,v:()=>a});var i=n(56221),s=n(37262);function r(e){return(0,s.hj)(e)?""+e:e}class a extends i.y{constructor(){super(),this.map={},this._keysSet=new Set,this._keysList=[]}get keys(){return this._keysList.slice()}get values(){return this._keysList.map((e=>this.get(e)))}entries(){const e=[];for(const t in this.map)e.push([t,this.map[t]]);return e}get length(){return this._keysList.length}*[Symbol.iterator](){for(const e of this._keysList)yield this.get(e)}get(e){return this.map[e]}has(e){return void 0!==this.map[e]}set(e,t){e=r(e);this.map[e]!==t&&(this.removeChildObservables(this.map[e]),this.addChildObservable(t),this.map[e]=t,this._keysSet.has(e)||(this._keysList.push(e),this._keysSet.add(e)),this.setDirty())}clear(){if(this.length>0){for(const e in this.map)this.removeChildObservables(this.map[e]);this.map={},this._keysSet.clear(),this._keysList=[],this.setDirty()}}replace(e){this.clear();for(const t in e)this.set(t,e[t])}delete(e){e=r(e),this.removeChildObservables(this.map[e]);const t=this.map.hasOwnProperty(e);return delete this.map[e],t&&(this._keysSet.delete(e),this._keysList.splice(this._keysList.indexOf(e),1),this.setDirty()),t}forEach(e,t){for(const n of this._keysList){const i=this.map[n];e.call(t,i,n,this)}}onElementChanged(e){let t=Object.assign({},this.map);return this.onChanged((()=>{for(const n in t)e.onRemoved&&!this.has(n)&&e.onRemoved(t[n],n);for(const n of this._keysList){const s=this.get(n);void 0===t[n]?e.onAdded&&e.onAdded(s,n):(i.y.isObservable(s)&&s._dirtyObservable||s!==t[n])&&(e.onUpdated&&null!==s?e.onUpdated(s,n):e.onRemoved&&null===s&&e.onRemoved(t[n],n))}t=Object.assign({},this.map)}))}deepCopy(){const e={};for(const t of this._keysList)e[t]=(0,s.p$)(this.map[t]);return e}}const o=(e={})=>{const t=new a;return t.replace(e),t}},19077:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,Q:()=>a});var i,s=n(56221),r=n(35895);!function(e){e.LOW="low",e.NORMAL="normal"}(i||(i={}));class a extends s.y{constructor(e){super(),this.priority=i.NORMAL,this.filters=new Map,this.view=[],this._keys=new Map,this._dirty=!1,this.sortNeeded=!1,this.map=e,this.applyFilters(),this.map.onElementChanged({onAdded:(e,t)=>this.onAdded(t,e),onRemoved:(e,t)=>this.onRemoved(t,e),onUpdated:(e,t)=>this.onUpdated(t,e)}),this.map.onChanged((()=>{this.sortNeeded&&(this.applySort(),this.setDirty(),this.sortNeeded=!1)}))}has(e){return this._keys.has(e)}get(e){return this.has(e)?this.map.get(e):void 0}setFilter(e,t){return(0,r.k1)((()=>{this.filters.set(e,t),this.applyFilters()}),(()=>this.clearFilter(e)),!0)}clearFilter(e){return!!this.filters.has(e)&&(this.filters.delete(e),this.applyFilters(),!0)}clearFilters(){this.filters.clear(),this.applyFilters()}sort(e){this.compareFunc=e,this.applySort(),this.setDirty()}*[Symbol.iterator](){for(const e of this.view)yield e}get length(){return this.view.length}groupBy(e){const t={};for(const n of this.view){const i=String(n[e]);t[i]||(t[i]=[]),t[i].push(n)}return t}get values(){return this.view.slice()}setDirty(e=!0){this.priority===i.LOW?this._dirty||(this._dirty=!0,requestAnimationFrame((()=>{this._dirty=!1,super.setDirty(e)}))):super.setDirty(e)}add(e){if(this.has(e))return!1;const t=this.map.get(e);return this._keys.set(e,t),this.view.push(t),!0}delete(e){const t=this._keys.get(e);if(!t)return!1;this._keys.delete(e);const n=this.view.indexOf(t);return-1!==n&&this.view.splice(n,1),!0}testFilters(e){return[...this.filters.values()].every((t=>t(e)))}applyFilters(e,t=!1){let n=!1;const i=e?[e]:this.map.keys;for(const e of i){const t=this.map.get(e),i=this.testFilters(t);(i&&this.add(e)||!i&&this.delete(e))&&(n=!0)}e&&this.has(e)&&(n=!0),n&&(t?this.sortNeeded=!0:(this.applySort(),this.setDirty()))}applySort(){this.compareFunc&&this.view.sort(this.compareFunc)}onRemoved(e,t){this.delete(e)&&this.setDirty()}onAdded(e,t){this.testFilters(t)&&this.applyFilters(e,!0)}onUpdated(e,t){const n=this._keys.get(e),i=this.view.findIndex((e=>e===n));-1!==i&&(this.view[i]=t,this._keys.set(e,t)),this.applyFilters(e,!0)}}},75287:(e,t,n)=>{"use strict";n.d(t,{T:()=>d});var i=n(56221),s=n(37262),r=n(59279),a=n(97998),o=n(35895);const l=new a.Z("ObservableObject"),c=1===(0,r.eY)("debug",0);class d extends i.y{constructor(){super(),this._propertyObservables={},this._valueCache={},this._dirtyKeys=new Set,Object.defineProperties(this,{_propertyObservables:{value:this._propertyObservables,writable:!1,enumerable:!1},_valueCache:{value:this._valueCache,writable:!1,enumerable:!1},_dirtyKeys:{value:this._dirtyKeys,writable:!1,enumerable:!1}}),c&&setTimeout((()=>{!function(e){const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n],e._valueCache[n]=e[n],Object.defineProperty(e,n,{get:()=>t[n],set:s=>{const r=e._valueCache[n];(r!==s||i.y.isObservable(r)&&r._dirtyObservable)&&h(e,n),t[n]=s},enumerable:!0}))}(this)}),1)}onPropertyChanged(e,t){if(this._propertyObservables[e]||(this._propertyObservables[e]=[]),-1!==this._propertyObservables[e].indexOf(t))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,o.k1)((()=>this._propertyObservables[e].push(t)),(()=>this.removeOnPropertyChanged(e,t)),!0,e)}removeOnPropertyChanged(e,t){const n=this._propertyObservables[e].indexOf(t);n>=0&&this._propertyObservables[e].splice(n,1)}commit(e=[]){for(const t of e)this._dirtyKeys.add(t);this.setDirtyUp(),this.notifyUp()}setDirtyUp(){for(const e in this){if(!this.hasOwnProperty(e))continue;const t=this._valueCache[e],n=this[e],s=typeof n,r="undefined"===s||"string"===s||"number"===s||"boolean"===s||null===n;if(this._propertyObservables[e]&&!r&&!i.y.isObservable(n))throw new Error(`Property ${e} has property listeners, but has a value that is not observable or a primitive!`);t!==n?(this.removeChildObservables(t),this.addChildObservable(n),this._valueCache[e]=n,this._dirtyKeys.add(e)):i.y.isObservable(t)&&t._dirtyObservable&&this._dirtyKeys.add(e)}super.setDirtyUp()}notifyObservers(){if(this._dirtyObservable&&!this._observerNotifying&&this._activeObservable){this._observerNotifying=!0;for(const e of this._dirtyKeys){for(const t of this._propertyObservables[e]||[])this.notifyPropertyObserver(t,e);c&&p(this,e)}this._observerNotifying=!1,this._dirtyKeys.clear()}super.notifyObservers()}notifyPropertyObserver(e,t){e(this._valueCache[t])}notifyObserver(e){e(this)}deepCopy(){const e={};for(const t in this)this.hasOwnProperty(t)&&(e[t]=(0,s.p$)(this[t]));return e}}const u=new Map;function h(e,t){u.has(e)||u.set(e,{});u.get(e)[t]=Error()}function p(e,t){if(u.has(e)){const n=u.get(e);n[t]&&delete n[t]}}if(c){const e=setInterval((()=>{(function(){for(const e of u.values())for(const t in e)return l.error(`ObservableObject property "${t}" was still dirty after one tick! Did you forget a .commit()?`),l.error("See stack trace of the property write below:"),l.error(e[t].stack),!0;return!1})()&&void 0!==e&&clearInterval(e)}),16)}},1722:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});var i=n(56221),s=n(37082),r=n(37262),a=n(13297),o=n(75287);const l=e=>{if(!e||0===Object.keys(e).length)throw new Error("createObservableProxy() only works on objects that has predefined keys. Did you mean createObservableMap or createObservableArray?");if(e instanceof o.T)throw new Error("Using ObservableProxy on an ObservableObject is a BUG!");if(e.isObservableProxy)return e;const t={},n=new i.y,l=Object.create(e);Object.defineProperties(l,{isObservableProxy:{value:!0},onPropertyChanged:{value:(e,n)=>t[e].onChanged(n)},removeOnPropertyChanged:{value:(e,n)=>t[e].removeOnChanged(n)},deepCopy:{value:()=>(0,r.p$)(e)}}),(0,a.Bx)(l,n);for(const n in e)if(e.hasOwnProperty(n)){const i=(0,s.Y)(e[n]);t[n]=i,l.addChildObservable(i),Object.defineProperty(l,n,{get:()=>e[n],set:i=>{e[n]=i,t[n].value=i},enumerable:!0})}return Object.seal(l),l}},37082:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a,f:()=>r});var i=n(56221),s=n(37262);class r extends i.y{constructor(e){super(),this.value=e}notifyObserver(e){e(this.value)}get value(){return this._value}set value(e){this._value!==e&&(this.removeChildObservables(this._value),this.addChildObservable(e),this._value=e,this.setDirty())}deepCopy(){return(0,s.p$)(this._value)}}const a=e=>new r(e)},98748:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});class i{constructor(){this.observers=new Set}observe(e){this.observers.add(e);const t=this;return{renew(){t.observers.add(e)},cancel(){t.removeObserver(e)}}}removeObserver(e){this.observers.delete(e)}notify(){for(const e of this.observers)e.notify()}}},13297:(e,t,n)=>{"use strict";function i(e,t){const n=Object.getOwnPropertyNames(t);for(const i of n)void 0===e[i]&&("function"==typeof t[i]?Object.defineProperty(e,i,{value:t[i].bind(e)}):Object.defineProperty(e,i,{value:t[i],writable:!0}));null!==Object.getPrototypeOf(Object.getPrototypeOf(t))&&i(e,Object.getPrototypeOf(t))}function s(e,t){return new Promise((n=>{if(t(e))n();else{const i=e.onChanged((()=>{t(e)&&(i.cancel(),n())}))}}))}n.d(t,{Bx:()=>i,PM:()=>s})},79728:(e,t,n)=>{"use strict";var i;n.d(t,{g:()=>i}),function(e){e.BLURS="blurs",e.BLUR_SUGGESTIONS="blur-suggestions",e.FLOORS="floors",e.HIGHLIGHTS="highlights",e.LABELS="labels",e.MATTERTAGS="mattertags",e.MEASUREMENTS="measurements",e.NOTES="notes",e.OBJECT_ANNOTATIONS="objectAnnotations",e.ORDERED_LISTS="orderedLists",e.PHOTOS="photos",e.PLUGINS="plugins",e.SETTINGS="settings",e.START_LOCATION="startlocation",e.SWEEPS="sweeps",e.LAYERS="layers",e.ROOM_BOUNDS="room_bounds"}(i||(i={}))},89570:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});class i{constructor(...e){this.subs=e}renew(){for(const e of this.subs)e.renew()}cancel(){for(const e of this.subs)e.cancel()}}},35895:(e,t,n)=>{"use strict";n.d(t,{gm:()=>s,k1:()=>a});const i=new(n(97998).Z)("Subscription");class s{constructor(e,t,n){this.watchedData=e,this.registerSubscription=t,this.unregisterSubscription=n}createSubscription(e,t){return new r((()=>this.registerSubscription(e)),(()=>this.unregisterSubscription(e)),t)}getData(){return this.watchedData()}}class r{constructor(e,t,n=!1,i=""){this.startSubscription=e,this.endSubscription=t,this.id=i,this.isSubbed=!1,n&&this.renew()}renew(){this.isSubbed?i.debugWarn(`Duplicate subscription renew ${this.id}`):(this.startSubscription(),this.isSubbed=!0)}cancel(){this.isSubbed&&(this.endSubscription(),this.isSubbed=!1)}get active(){return this.isSubbed}}function a(e,t,n=!0,i=""){return new r(e,t,n,i)}},92826:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});class i{constructor(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.options=i,this.renew()}renew(){this.target.addEventListener(this.type,this.listener,this.options)}cancel(){this.target.removeEventListener(this.type,this.listener)}}},37262:(e,t,n)=>{"use strict";n.d(t,{NK:()=>o,TS:()=>r,br:()=>a,hj:()=>l,p$:()=>s});const i=e=>"propertyObservers"===e||"changeObservers"===e||"isObservable"===e||"childChangeFunctions"===e||"isObservableProxy"===e||"diffRoot"===e||"elementChangedHandlers"===e||"knownKeysMap"===e||"knownKeysList"===e||"isVector2"===e||"isVector3"===e||"isQuaternion"===e||"onPropertyChanged"===e||"removeOnPropertyChanged"===e||"onChanged"===e||"target"===e,s=(e,t=[])=>{if(void 0!==e){if(t.includes(e))return Array.isArray(e)||ArrayBuffer.isView(e)?[]:{};if(e instanceof Date)return new Date(e);if(null===e)return null;if(e.deepCopy)return e.deepCopy();if(e.isQuaternion)return{x:e.x,y:e.y,z:e.z,w:e.w};if("object"==typeof e){const n=Array.isArray(e)||ArrayBuffer.isView(e)?[]:{};for(const r in e){if(i(r))continue;const a=e[r];a instanceof Date?n[r]=new Date(a):"function"!=typeof a&&(t.push(e),n[r]="object"==typeof a?s(a,t):a,t.pop())}return n}return e}},r=(e,t)=>{for(const n in t){if("function"==typeof t[n])continue;if(i(n)&&!e.hasOwnProperty(n))continue;const a=t[n];if(e.hasOwnProperty(n)){const t=e[n];(null===t?null:typeof t)!==(null===a?null:typeof a)?e[n]=s(a):"object"==typeof t?t instanceof Date?e[n]=new Date(a):r(t,a):e[n]=a}else e[n]=s(a)}},a=(e,t,n=!1)=>{const i={};for(const s in e){const r=e[s],l=t[s];o(r,l)&&(void 0===r||void 0===l||typeof r!=typeof l||"object"!=typeof r?i[s]=l:Array.isArray(l)?o(r,l)&&(i[s]=l):i[s]=n?l:a(r,l))}for(const n in t)n in e||(i[n]=t[n]);return i},o=(e,t)=>{if(null===e||"object"!=typeof e)return e!==t;if(!t)return!0;for(const n in t)if(!(n in e))return!0;for(const n in e)if(o(e[n],t[n]))return!0;return!1};function l(e){return"number"==typeof e}},15462:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var i=n(81396);class s{}s.MP_BRAND=new i.Color("rgb(255, 49, 88)"),s.MATTERTAG_BLUE=new i.Color("rgb(3, 104, 125)"),s.WHITE=new i.Color("rgb(255, 255, 255)"),s.BLACK=new i.Color("rgb(0, 0, 0)"),s.RED=new i.Color(16711680),s.GREEN=new i.Color(65280),s.BLUE=new i.Color(255),s.YELLOW=new i.Color(16776960),s.SINE=new i.Color(11908275),s.NEPTUNE=new i.Color("rgb(64, 91, 246)"),s.LENS_GRAY=new i.Color(4473924),s.MIRROR=new i.Color(14342874),s.PORTAL=new i.Color(2236962)},35221:(e,t,n)=>{"use strict";var i;function s(e){const t=new Date;t.setHours(0,0,0,0),e.setHours(0,0,0,0);const n=(t.getTime()-e.getTime())/864e5;if(0===n)return i.TODAY;if(1===n)return i.YESTERDAY;if(n<7)return i.THIS_WEEK;const s=Math.floor(n/7);return 1===s?i.ONE_WEEK_AGO:2===s?i.TWO_WEEKS_AGO:3===s?i.THREE_WEEKS_AGO:i.OLDER}n.d(t,{Z:()=>i,f:()=>s}),function(e){e.TODAY="TODAY",e.YESTERDAY="YESTERDAY",e.THIS_WEEK="THIS_WEEK",e.ONE_WEEK_AGO="ONE_WEEK_AGO",e.TWO_WEEKS_AGO="TWO_WEEKS_AGO",e.THREE_WEEKS_AGO="THREE_WEEKS_AGO",e.OLDER="OLDER"}(i||(i={}))},88977:(e,t,n)=>{"use strict";var i;n.d(t,{Z:()=>s}),function(e){e[e.GL_TEXTURE_CUBE_MAP_POSITIVE_X=0]="GL_TEXTURE_CUBE_MAP_POSITIVE_X",e[e.GL_TEXTURE_CUBE_MAP_NEGATIVE_X=1]="GL_TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.GL_TEXTURE_CUBE_MAP_POSITIVE_Y=2]="GL_TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.GL_TEXTURE_CUBE_MAP_NEGATIVE_Y=3]="GL_TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.GL_TEXTURE_CUBE_MAP_POSITIVE_Z=4]="GL_TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.GL_TEXTURE_CUBE_MAP_NEGATIVE_Z=5]="GL_TEXTURE_CUBE_MAP_NEGATIVE_Z"}(i||(i={}));const s=i},12529:(e,t,n)=>{"use strict";var i;n.d(t,{z:()=>i}),function(e){e[e.boundingSkybox=-100]="boundingSkybox",e[e.default=0]="default",e[e.panoMarker=4]="panoMarker",e[e.reticule=5]="reticule",e[e.grid=5]="grid",e[e.meshTrims=5]="meshTrims",e[e.pins360=6]="pins360",e[e.roomBounds=7]="roomBounds",e[e.portals=9]="portals",e[e.rotators=10]="rotators",e[e.pins=14]="pins",e[e.pinSelectedHalo=15]="pinSelectedHalo",e[e.lines=20]="lines",e[e.endpoints=21]="endpoints",e[e.labels=22]="labels",e[e.gizmos=23]="gizmos",e[e.ghostFloorDepthPrepass=50]="ghostFloorDepthPrepass",e[e.ghostFloor=51]="ghostFloor",e[e.colorOverlay=1e3]="colorOverlay"}(i||(i={}))},95160:(e,t,n)=>{"use strict";var i;n.d(t,{C:()=>i}),function(e){e.TEXT="text",e.LINK="link",e.HASH="hash",e.USER="user"}(i||(i={}))},90304:(e,t,n)=>{"use strict";n.d(t,{Hk:()=>a,eD:()=>i,fU:()=>r});var i,s=n(81396);class r{}r.UP=new s.Vector3(0,1,0),r.DOWN=new s.Vector3(0,-1,0),r.LEFT=new s.Vector3(-1,0,0),r.RIGHT=new s.Vector3(1,0,0),r.FORWARD=new s.Vector3(0,0,-1),r.BACK=new s.Vector3(0,0,1),r.ZERO=new s.Vector3(0,0,0),r.UNIT=new s.Vector3(1,1,1),r.HORIZONTAL_PLANE=new s.Vector3(1,0,1),function(e){e.NONE="NONE",e.UP="UP",e.DOWN="DOWN",e.LEFT="LEFT",e.RIGHT="RIGHT",e.FORWARD="FORWARD",e.BACK="BACK",e.ZERO="ZERO",e.UNIT="UNIT",e.HORIZONTAL_PLANE="HORIZONTAL_PLANE"}(i||(i={}));class a{}a.DOWNWARD=new s.Quaternion(-Math.SQRT1_2,0,0,Math.SQRT1_2)},2224:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var i=n(67223);class s extends Error{constructor(e,t){super(e instanceof Error?e.message:e),this.name="BaseException",t&&(this.code=t),e instanceof Error&&(this.originalError=e,(0,i.Ad)(e)&&(this.isMock=!0))}}},66746:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var i=n(2224);class s extends i.y{constructor(e="Not implemented"){super(e),this.name="NotImplemented"}}},7689:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(2224);class s extends i.y{constructor(e="Out of range"){super(e),this.name="OutOfRangeException"}}},41753:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var i=n(2224);class s extends i.y{constructor(e="Unhandled Transition Exception"){super(e),this.name="TransitionException"}}},67223:(e,t,n)=>{"use strict";function i(e){return!!(e&&e instanceof Error&&e.code)}function s(e){return!!(e&&e instanceof Error&&e.originalError)}function r(e){return!!(e&&e instanceof Error&&e.isMock)}function a(e){return i(e)?e.code:""}function o(e){const t=[];let n=e;for(;n;)i(n)&&t.push(n.code),n=s(n)?n.originalError:void 0;return t}n.d(t,{Ad:()=>r,UX:()=>o,bh:()=>i,zg:()=>a})},17788:(e,t,n)=>{"use strict";n.d(t,{u:()=>d});var i=n(66746),s=n(27553),r=n(95548),a=n(97998),o=n(59279),l=n(35895);const c=new a.Z("MdsStore");class d{constructor(e){this.viewId=null,this.newDataCallbacks=new Set;const{baseUrl:t,viewId:n}=e;this.config=e,this.context=e.context,this.client=new s.w({baseUrl:t}),n&&(this.viewId=n)}dispose(){this.context.refreshableStores.delete(this)}async create(...e){throw new i.n}async read(e={}){throw new i.n}async update(...e){throw new i.n}async delete(...e){throw new i.n}onNewData(e){this.context.refreshableStores.add(this);return(0,l.k1)((()=>this.newDataCallbacks.add(e)),(()=>this.newDataCallbacks.delete(e)))}async refresh(){const e=await this.read();return await Promise.all(Array.from(this.newDataCallbacks.values()).map((t=>t(e)))),e}async query(e,t,n={}){if(!this.getViewId())throw new r.SN("No model view specified for query");const i=Object.assign({fetchPolicy:"cache-first",prefetchKey:this.prefetchKey},n),{fetchPolicy:s}=n;let a;if("no-cache"!==s){for(const n of this.context.sharedCaches)if(a=await n.read(e,t,i),void 0!==a){c.debug(`Using cached response for ${i.prefetchKey}`);break}if(a)return a}return this.client.query(e,t,i)}async mutate(e,t,n){const{readonly:i}=this.config;if(i)throw new r.pp("Cannot mutate in read-only mode");if(!this.getViewId())throw new r.SN("Cannot mutate, no view was specified");return this.client.mutate(e,t,n).then((e=>{const t="53100"===(0,o.eY)("error","");if(!s.w.isOk(e)||t){const n=new r.w0(s.w.getErrorMessage(e));throw t&&(n.isMock=!0),n}return e}))}setStoreViewId(e){this.viewId=e}getViewId(){const e=this.viewId||this.context.currentViewId||this.context.baseViewId;if(!e)throw new Error("Invalid view id!");return e}getBaseViewId(){const e=this.context.baseViewId;if(!e)throw new Error("MdsStore baseViewId invalid!");return e}readLayerId(){return!!this.context.readLayerId}writeLayerId(e){return this.context.shouldWriteLayerId(e)}}},27553:(e,t,n)=>{"use strict";n.d(t,{w:()=>f,z:()=>m});var i=n(97704),s=n(23564),r=n(81707),a=n(80496);var o=n(18448),l=n(97998),c=n(39011),d=n(95548),u=n(63422),h=n(44584);const p=new l.Z("model-api-client");const m=(e={})=>()=>new f(e);class f{constructor(e={}){const t=e.baseUrl||window.location.origin,n=e.server||u.fH;this.graphUrl=e.url||`${t}${n}`,p.debug(`Initialized Model API client for ${this.graphUrl}`);const o=(0,i.createHttpLink)({uri:this.graphUrl}),l=(c=(e,{headers:t={}})=>((0,h.m)(this.graphUrl,t),{headers:t}),new r.ApolloLink((function(e,t){var n=(0,s._T)(e,[]);return new a.y$((function(i){var s;return Promise.resolve(n).then((function(t){return c(t,e.getContext())})).then(e.setContext).then((function(){s=t(e).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)})})).catch(i.error.bind(i)),function(){s&&s.unsubscribe()}}))})));var c;this.apollo=new i.ApolloClient({link:l.concat(o),cache:new i.InMemoryCache})}async query(e,t,n={}){const i=Object.assign(Object.assign({errorPolicy:"all"},n),{query:e,variables:t,fetchPolicy:"no-cache"});return this.apollo.query(i).then((e=>{const{data:t,errors:n}=e;return{data:t,errors:n}})).catch((e=>{throw p.error(e),new d.Zb(e,this.getApolloErrorCode(e))}))}async mutate(e,t,n={}){const i=Object.assign(Object.assign({errorPolicy:"all"},n),{mutation:e,variables:t});return this.apollo.mutate(i).then((e=>{const{data:t,errors:n}=e;return{data:t,errors:n}})).catch((e=>{throw p.error(e),new d.w0(e,this.getApolloErrorCode(e))}))}async upload(e,t,n,i,s){const r={};let a=0;(0,o.y)(n,((e,t,n)=>{if(e&&((i=e).filename&&i.blob&&i.blob instanceof Blob)){const i="file"+a++;r[i]=e,n[t]=`multipart:${i}`}var i}));const l=new FormData;for(const[e,t]of Object.entries(r))l.append(e,t.blob,t.filename);l.append("query",(0,c.S)(e)),l.append("operation",t),l.append("variables",JSON.stringify(n));const u=(0,h.m)(this.graphUrl,{});return this.uploadFormData(l,u,i,s).then((e=>{if(!f.isOk(e)){const t=f.getErrorCode(e)||"54200";throw new d.BR(f.getErrorMessage(e),t)}return e}))}getApolloErrorCode(e){var t;if(e instanceof i.ApolloError){const n=null===(t=e.networkError)||void 0===t?void 0:t.statusCode;if(n)return`61${n}`}return"61000"}async uploadFormData(e,t,n,i=new XMLHttpRequest){i.open("POST",this.graphUrl,!0),i.responseType="json",i.setRequestHeader("Accept","application/json"),n&&(i.upload.onprogress=n);for(const e in t)i.setRequestHeader(e,t[e]);return new Promise(((t,n)=>{i.onreadystatechange=()=>{4===i.readyState&&(200===i.status?t(i.response):0!==i.status&&n(new d.BR(`${i.status} ${i.statusText}`,`54${i.status}`)))},i.onerror=()=>{n(new d.BR("Network error","54002"))},i.onabort=()=>{p.info("upload canceled!")},i.send(e)}))}static isOk(e,t){if(t){const n=t.split(".");return 0===(e.errors||[]).filter((e=>{if(!e.path)return!0;for(let t=0;t<Math.min(e.path.length,n.length);t++)if(e.path[t]!==n[t])return!1;return!0})).length}return!(null==e?void 0:e.errors)||0===e.errors.length}static getErrorCode({errors:e}){var t;return(null==e?void 0:e.length)&&(null===(t=e[0].extensions)||void 0===t?void 0:t.code)||""}static getErrorMessage({errors:e}){let t="";return Array.isArray(e)&&e[0]&&(t=e[0].message||e[0].toString(),e.length>1&&(t+=` (+${e.length-1})`)),t}}f.version="2020.05.28"},11221:(e,t,n)=>{"use strict";var i;n.d(t,{h:()=>i}),function(e){e.CACHE="cache",e.PRELOAD="preload",e.NONE="none"}(i||(i={}))},95548:(e,t,n)=>{"use strict";n.d(t,{BR:()=>a,SN:()=>o,Zb:()=>s,pp:()=>l,w0:()=>r});var i=n(2224);class s extends i.y{constructor(e,t="62001"){super(e),this.name="MdsReadError",this.code=t}}class r extends i.y{constructor(e,t="63001"){super(e),this.name="MdsWriteError",this.code=t}}class a extends i.y{constructor(e,t="63002"){super(e),this.name="MdsUploadError",this.code=t}}class o extends i.y{constructor(e,t="52404"){super(e),this.name="InvalidView",this.code=t}}class l extends i.y{constructor(e,t="53001"){super(e),this.name="ReadOnly",this.code=t}}},5823:(e,t,n)=>{"use strict";var i,s,r,a,o,l,c,d,u,h,p,m,f,g,v,b,y,E,S,O,T,_,w,N,A,I,k,P,L,R,C,D,M,x,j,U,F,H,V,B,G,W,z,K,Y,q,$,Z,Q,X,J,ee,te,ne,ie,se,re,ae,oe,le,ce,de,ue,he,pe,me,fe,ge,ve,be,ye,Ee,Se,Oe,Te,_e,we,Ne,Ae,Ie,ke,Pe,Le,Re,Ce,De,Me,xe,je,Ue,Fe;n.d(t,{Au:()=>ge,BE:()=>be,EG:()=>fe,EV:()=>m,J1:()=>Ie,L0:()=>F,LU:()=>ae,Mk:()=>ue,Pb:()=>w,SF:()=>j,TS:()=>Oe,XR:()=>V,Y6:()=>ce,Z1:()=>M,bW:()=>de,d7:()=>Se,eR:()=>H,gb:()=>ie,km:()=>I,l5:()=>h,nL:()=>xe,rq:()=>Y,ud:()=>pe,wO:()=>Ue,x6:()=>G,y8:()=>Me}),function(e){e.ROLE="ROLE",e.TYPE="TYPE",e.USER_EMAIL="USER_EMAIL"}(i||(i={})),function(e){e.EMPTY="empty",e.PARSED="parsed",e.RAW="raw",e.VERIFIED="verified"}(s||(s={})),function(e){e.FULL="full",e.NONE="none",e.PARTIAL="partial"}(r||(r={})),function(e){e.FOREVER="FOREVER",e.LAST_7_DAYS="LAST_7_DAYS",e.LAST_30_DAYS="LAST_30_DAYS"}(a||(a={})),function(e){e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.OPENED="OPENED",e.PENDING="PENDING"}(o||(o={})),function(e){e.IMPRESSION="impression",e.MODELLOADED="modelLoaded"}(l||(l={})),function(e){e.LAST7DAYS="last7Days",e.LAST30DAYS="last30Days",e.LIFETIME="lifetime"}(c||(c={})),function(e){e.CREATED="created",e.IMPRESSIONS="impressions",e.NAME="name",e.UNIQUE_VISITORS="unique_visitors",e.VIEWS="views"}(d||(d={})),function(e){e.LZMA="lzma",e.NONE="none"}(u||(u={})),function(e){e.AVAILABLE="available",e.LOCKED="locked",e.UNAVAILABLE="unavailable"}(h||(h={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload"}(p||(p={})),function(e){e.IMAGE="image",e.PDF="pdf",e.RICH="rich",e.VIDEO="video",e.ZIP="zip"}(m||(m={})),function(e){e.PROVISIONED="provisioned",e.UPLOADED="uploaded"}(f||(f={})),function(e){e.LOCKED="locked",e.UNAVAILABLE="unavailable",e.UNLOCKED="unlocked"}(g||(g={})),function(e){e.COMPLETED="completed",e.FAILED="failed",e.INPROGRESS="inprogress",e.ORDERED="ordered",e.PLACED="placed",e.PREVIEWABLE="previewable"}(v||(v={})),function(e){e.DOLLHOUSE="dollhouse",e.FLOORPLAN="floorplan",e.OUTDOOR="outdoor",e.PANORAMA="panorama",e.TRANSITION="transition",e.UNKNOWN="unknown"}(b||(b={})),function(e){e.WALL="wall",e.WINDOW="window"}(y||(y={})),function(e){e.HANDHELD="handheld",e.OTHER="other",e.PRO="pro",e.SPHERICAL="spherical"}(E||(E={})),function(e){e.DUPLICATE="duplicate",e.FAIL="fail",e.REPLACE="replace",e.SKIP="skip"}(S||(S={})),function(e){e.CREATED="created",e.MODIFIED="modified"}(O||(O={})),function(e){e.FAST="fast",e.NORMAL="normal",e.URGENT="urgent"}(T||(T={})),function(e){e.KILOMETERS="kilometers",e.MILES="miles"}(_||(_={})),function(e){e.INVISIBLE="invisible",e.WALL="wall"}(w||(w={})),function(e){e.CSV="CSV"}(N||(N={})),function(e){e.MATTERTAGS="Mattertags",e.NOTECOMMENTS="NoteComments",e.NOTES="Notes"}(A||(A={})),function(e){e.BLOCKED="blocked",e.DISABLED="disabled",e.GATED="gated",e.UNLOCKED="unlocked"}(I||(I={})),function(e){e.MAY="may",e.MUST="must",e.MUST_NOT="must_not"}(k||(k={})),function(e){e.ALPHA="alpha",e.COLORED_ROOMS="colored_rooms",e.MEASUREMENTS="measurements",e.PHOTOGRAMY="photogramy",e.SCHEMATIC="schematic"}(P||(P={})),function(e){e.ADMIN="Admin",e.FOLDERCREATOR="FolderCreator",e.FOLDERSHARES="FolderShares",e.USERGROUPFOLDERSHARES="UserGroupFolderShares"}(L||(L={})),function(e){e.ALL="all",e.ID="id",e.NAME="name"}(R||(R={})),function(e){e.CREATED="created",e.MODIFIED="modified",e.NAME="name"}(C||(C={})),function(e){e.COMPLETE="COMPLETE",e.ERROR="ERROR",e.PENDING="PENDING"}(D||(D={})),function(e){e.REEL="reel",e.STORY="story"}(M||(M={})),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.CREATED="created",e.FAILED="failed",e.INPROGRESS="inprogress"}(x||(x={})),function(e){e.ANCHORLOCATION="AnchorLocation",e.HIGHLIGHTREEL="HighlightReel",e.LABEL="Label",e.MATTERTAG="Mattertag",e.MEASUREMENTPATH="MeasurementPath",e.MODELFLOOR="ModelFloor",e.MODELROOM="ModelRoom",e.NOTE="Note",e.OBJECTANNOTATION="ObjectAnnotation",e.ORDEREDLIST="OrderedList",e.PANORAMICIMAGELOCATION="PanoramicImageLocation",e.PHOTO="Photo"}(j||(j={})),function(e){e.SHOWCASE="showcase"}(U||(U={})),function(e){e.PHOTO="photo",e.RICH="rich",e.VIDEO="video"}(F||(F={})),function(e){e.LINETYPE_2D="linetype_2D",e.LINETYPE_3D="linetype_3D"}(H||(H={})),function(e){e.DISABLED="disabled",e.MEASURE="measure",e.MEASUREANDVIEW="measureAndView"}(V||(V={})),function(e){e.FLOORS="floors",e.HIGHLIGHTREEL="highlightReel",e.IMAGE="image",e.LABELS="labels",e.MATTERTAGS="mattertags",e.MEASUREMENTPATHS="measurementPaths",e.ORDEREDLISTS="orderedLists",e.PLAYEROPTIONS="playerOptions",e.SWEEPS="sweeps"}(B||(B={})),function(e){e.FULL="full",e.PUBLIC="public",e.VIEWER="viewer"}(G||(G={})),function(e){e.ADMIN="Admin",e.MODELCREATOR="ModelCreator",e.MODELSHARES="ModelShares",e.USERGROUPMODELSHARES="UserGroupModelShares"}(W||(W={})),function(e){e.PASSWORD="password",e.PRIVATE="private",e.PUBLIC="public",e.UNLISTED="unlisted"}(z||(z={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived",e.FLAGGED="flagged",e.PENDING="pending"}(K||(K={})),function(e){e.BLACK="black",e.GREY="grey",e.WHITE="white"}(Y||(Y={})),function(e){e.DEFAULT="default",e.MLS="mls",e.UNBRANDED="unbranded"}(q||(q={})),function(e){e.BUNDLE_COMPLETED="bundle_completed",e.BUNDLE_REQUESTED="bundle_requested",e.DELETED="deleted",e.INSERTED="inserted",e.PROCESSED="processed",e.REPLACED="replaced",e.UPDATED="updated",e.UPLOADED="uploaded"}($||($={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived"}(Z||(Z={})),function(e){e.ID="id",e.INTERNALID="internalId",e.MLSID="mlsId"}(Q||(Q={})),function(e){e.DEFAULT="default",e.VR="vr"}(X||(X={})),function(e){e.COMPLETED="completed",e.FAILED="failed",e.PROCESSING="processing",e.STAGING="staging"}(J||(J={})),function(e){e.ADDRESS="address",e.CAMERA="camera",e.CAMERAMANUFACTURER="cameraManufacturer",e.CAMERAMODEL="cameraModel",e.EXTENSIONTAG="extensiontag",e.GEODISTANCE="geoDistance",e.GEOREGION="geoRegion",e.ID="id",e.NAME="name",e.STANDARD="standard",e.SUMMARY="summary"}(ee||(ee={})),function(e){e.CREATED="created",e.LAST7IMPRESSIONSEVENTCOUNT="last7ImpressionsEventCount",e.LAST7MODELSLOADEDEVENTCOUNT="last7ModelsLoadedEventCount",e.LAST7MODELSLOADEDUSERCOUNT="last7ModelsLoadedUserCount",e.LAST30IMPRESSIONSEVENTCOUNT="last30ImpressionsEventCount",e.LAST30MODELSLOADEDEVENTCOUNT="last30ModelsLoadedEventCount",e.LAST30MODELSLOADEDUSERCOUNT="last30ModelsLoadedUserCount",e.LIFETIMEIMPRESSIONSEVENTCOUNT="lifetimeImpressionsEventCount",e.LIFETIMEMODELSLOADEDEVENTCOUNT="lifetimeModelsLoadedEventCount",e.LIFETIMEMODELSLOADEDUSERCOUNT="lifetimeModelsLoadedUserCount",e.MODIFIED="modified",e.SCORE="score"}(te||(te={})),function(e){e.COPY="copy",e.DEMO="demo",e.PROCESSING="processing",e.TRANSFER="transfer",e.UNKNOWN="unknown"}(ne||(ne={})),function(e){e.ACTIVATING="activating",e.ACTIVATION_PENDING="activation_pending",e.ACTIVE="active",e.FAILED="failed",e.INACTIVATING="inactivating",e.INACTIVATION_PENDING="inactivation_pending",e.INACTIVE="inactive",e.PENDING="pending",e.PROCESSING="processing",e.STAGING="staging"}(ie||(ie={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(se||(se={})),function(e){e.COPY="copy",e.DEMO="demo",e.ORIGINAL="original"}(re||(re={})),function(e){e.PRIVATE="private",e.PUBLIC="public"}(ae||(ae={})),function(e){e.SERIAL="serial"}(oe||(oe={})),function(e){e.DOORWAY="doorway",e.OPENING="opening"}(le||(le={})),function(e){e.AUTO="auto",e.LEFT="left",e.RIGHT="right"}(ce||(ce={})),function(e){e.AUTO="auto",e.MANUAL="manual",e.UNPLACED="unplaced"}(de||(de={})),function(e){e.UPLOAD="upload",e.VISION="vision"}(ue||(ue={})),function(e){e.CYLINDRICAL="cylindrical",e.EQUIRECTANGULAR="equirectangular",e.SKYBOX="skybox"}(he||(he={})),function(e){e.COMMENT="comment",e.MATTERTAG="mattertag"}(pe||(pe={})),function(e){e.FOLDER="folder",e.GRANT="grant",e.MODEL="model",e.ORGANIZATION="organization",e.USAGE="usage",e.USER="user"}(me||(me={})),function(e){e.SNAPSHOT="snapshot",e.TOUR="tour"}(fe||(fe={})),function(e){e.USER="user",e.VISION="vision"}(ge||(ge={})),function(e){e.ICON="icon",e.ORIGINAL="original",e.PRESENTATION="presentation",e.PREVIEW="preview",e.THUMBNAIL="thumbnail",e.WEB="web"}(ve||(ve={})),function(e){e.EQUIRECTANGULAR="equirectangular",e.PHOTO2D="photo2D"}(be||(be={})),function(e){e.AVAILABILITY="availability",e.FLAG="flag",e.QUOTA="quota",e.VALUE="value"}(ye||(ye={})),function(e){e.COMPLETE="complete",e.FAILED="failed",e.INPROGRESS="inprogress",e.STAGING="staging"}(Ee||(Ee={})),function(e){e.OPEN="open",e.RESOLVED="resolved"}(Se||(Se={})),function(e){e.BOUNDARYEDGE="boundaryEdge",e.BOUNDARYVERTEX="boundaryVertex",e.ROOM="room"}(Oe||(Oe={})),function(e){e.ALIGNED="aligned",e.FAILED="failed",e.UNALIGNED="unaligned"}(Te||(Te={})),function(e){e.ANCHOR="anchor",e.ID="id",e.LOCATION="location"}(_e||(_e={})),function(e){e.FACE_BLURRING="face_blurring",e.FIDUCIAL_DETECTION="fiducial_detection",e.FIDUCIAL_REMOVAL="fiducial_removal"}(we||(we={})),function(e){e.ADDRESS="ADDRESS",e.ALL="ALL",e.CREATED_BY="CREATED_BY",e.INTERNAL_ID="INTERNAL_ID",e.MLS_ID="MLS_ID",e.MLS_NAME="MLS_NAME"}(Ne||(Ne={})),function(e){e.DEMO="demo",e.DISCOVERABLE="discoverable",e.FLAGGED="flagged",e.INACTIVE="inactive"}(Ae||(Ae={})),function(e){e.DEFAULT="default",e.DISABLED="disabled",e.ENABLED="enabled"}(Ie||(Ie={})),function(e){e.FOLDER="Folder",e.MODEL="Model",e.ORGANIZATION="Organization"}(ke||(ke={})),function(e){e.USER="USER",e.USER_GROUP="USER_GROUP"}(Pe||(Pe={})),function(e){e.ASC="asc",e.DESC="desc"}(Le||(Le={})),function(e){e.ACCEPTED="accepted",e.DISMISSED="dismissed",e.REJECTED="rejected",e.UNREVIEWED="unreviewed"}(Re||(Re={})),function(e){e.HIGH="high",e.LOW="low"}(Ce||(Ce={})),function(e){e.AFTERNOON="afternoon",e.DAWN="dawn",e.DUSK="dusk",e.MORNING="morning",e.NIGHT="night"}(De||(De={})),function(e){e.FADE_TO_BLACK="fade_to_black",e.INSTANT="instant",e.INTERPOLATE="interpolate"}(Me||(Me={})),function(e){e.IMPERIAL="imperial",e.METRIC="metric"}(xe||(xe={})),function(e){e.CREATED="created",e.EMAIL="email",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.MODIFIED="modified"}(je||(je={})),function(e){e.DOLLHOUSE="dollhouse",e.FLOORPLAN="floorplan",e.MESH="mesh",e.PANORAMA="panorama"}(Ue||(Ue={})),function(e){e.BASIC="basic",e.NONE="none",e.TOKEN="token"}(Fe||(Fe={}))},63422:(e,t,n)=>{"use strict";n.d(t,{AR:()=>r,SJ:()=>a,fH:()=>i,gi:()=>o,wO:()=>s});const i="/api/mp/models/graph",s="/api/mp/attachments/graph",r="features/mds_prefetch",a="data.model.views",o="aaaaaaaaaaaaaaaaaaaaaaaaa"},29282:(e,t,n)=>{"use strict";function i(e){return null!=e}n.d(t,{r:()=>i})},92810:(e,t,n)=>{"use strict";n.d(t,{$n:()=>se,$q:()=>ae,A7:()=>ee,Aj:()=>xe,An:()=>Se,B9:()=>I,Bq:()=>ce,C3:()=>Ae,Cm:()=>m,EK:()=>Ne,EX:()=>U,Go:()=>G,HC:()=>L,Hd:()=>le,Hw:()=>he,Kf:()=>N,LG:()=>Re,Lk:()=>b,Lx:()=>ve,M4:()=>Te,MH:()=>w,MI:()=>_e,Mi:()=>a,Ng:()=>h,P4:()=>c,PZ:()=>A,Q_:()=>g,RR:()=>ye,S:()=>$,SM:()=>J,SP:()=>k,Sd:()=>Ee,TU:()=>S,V6:()=>i,VN:()=>Le,Ve:()=>V,Vg:()=>me,Vs:()=>r,XT:()=>Ce,Y5:()=>Pe,YP:()=>p,Yi:()=>Q,Z4:()=>ge,Ze:()=>K,Zp:()=>E,_K:()=>s,bQ:()=>re,c3:()=>O,cf:()=>Z,d2:()=>De,dp:()=>v,e9:()=>C,eD:()=>we,ei:()=>u,ep:()=>Me,f7:()=>z,fF:()=>ie,fG:()=>D,fQ:()=>te,gk:()=>fe,gx:()=>ke,hi:()=>j,hn:()=>R,i0:()=>Oe,iM:()=>d,im:()=>x,jH:()=>f,kg:()=>l,l:()=>be,lC:()=>pe,nn:()=>Y,oz:()=>_,pw:()=>je,qc:()=>H,qp:()=>ue,rL:()=>T,rt:()=>B,s6:()=>Ie,sw:()=>M,t2:()=>o,tA:()=>ne,tg:()=>y,vF:()=>X,wF:()=>F,wK:()=>de,wR:()=>W,xo:()=>oe,zK:()=>P,zr:()=>q});const i=Symbol("analytics"),s=Symbol("annotations"),r=Symbol("apiv2"),a=Symbol("attachments"),o=Symbol("automation-support"),l=(Symbol("blur-data"),Symbol("camera")),c=Symbol("camera-start"),d=Symbol("canvas"),u=Symbol("container-data"),h=Symbol("controls-common"),p=Symbol("controls-dh"),m=Symbol("controls-fp"),f=Symbol("controls-inside"),g=Symbol("controls-zoom"),v=Symbol("current-pano"),b=Symbol("cursor-controller"),y=Symbol("cursors"),E=Symbol("cursor-mesh"),S=Symbol("dwell-analytics"),O=Symbol("raycast-fat"),T=Symbol("floors"),_=Symbol("floors-state"),w=Symbol("raycast-floor"),N=Symbol("gui"),A=Symbol("input"),I=Symbol("interaction"),k=Symbol("label-data"),P=Symbol("label-render"),L=Symbol("layers"),R=Symbol("lines"),C=Symbol("locale"),D=Symbol("login-redirect"),M=Symbol("mattertag-data"),x=Symbol("measurement-mode"),j=Symbol("mesh-query"),U=Symbol("mesh-api-fixup"),F=Symbol("mesh-trim-data"),H=Symbol("model-data"),V=Symbol("model-mesh"),B=Symbol("model-rating"),G=Symbol("mouse"),W=Symbol("navigation"),z=Symbol("notes"),K=Symbol("object-tag-suggestions-data"),Y=Symbol("ordered-lists"),q=Symbol("orthographic-controls"),$=Symbol("pins"),Z=Symbol("plugin"),Q=Symbol("plugin-config-data-module"),X=Symbol("policy"),J=Symbol("pre-renderer"),ee=Symbol("react-three-fiber-external"),te=Symbol("raycaster"),ne=Symbol("rtt"),ie=Symbol("room-bound"),se=Symbol("room-bound-data"),re=Symbol("rooms"),ae=(Symbol("room-selector"),Symbol("scan-info")),oe=Symbol("scene"),le=Symbol("scheduler"),ce=Symbol("screenshots"),de=Symbol("sdk-landing"),ue=Symbol("search"),he=Symbol("sensors"),pe=Symbol("ses"),me=Symbol("skybox"),fe=Symbol("snapshots-editor"),ge=Symbol("snapshots-data"),ve=Symbol("storage"),be=Symbol("sweep-data"),ye=Symbol("pano"),Ee=Symbol("pucks"),Se=Symbol("path"),Oe=Symbol("sweep-pin-mesh"),Te=Symbol("sweep-pin"),_e=Symbol("portal"),we=Symbol("portal-nav"),Ne=Symbol("sweep-viewdata"),Ae=Symbol("tags"),Ie=Symbol("tours-controls"),ke=Symbol("tours-data"),Pe=Symbol("tools"),Le=(Symbol("transform-gizmo"),Symbol("users")),Re=Symbol("mode-change"),Ce=Symbol("mode"),De=Symbol("video"),Me=Symbol("visible-mesh-bounds"),xe=Symbol("webgl-renderer"),je=Symbol("webxr")},54165:(e,t,n)=>{"use strict";var i;n.d(t,{K:()=>i}),function(e){e.Segment="segment",e.Logging="logging",e.Matterport="mp"}(i||(i={}))},56169:(e,t,n)=>{"use strict";n.d(t,{H:()=>f});var i=n(54165),s=n(97998);const r=new s.Z("segment");const a=new s.Z("log-analytics");var o=n(30128),l=n(9133),c=n(41404),d=n(73180),u=n(76721);const h=new s.Z("mp-analytics"),p="ajs_anonymous_id",m="sc_anonymous_id";const f={[i.K.Segment]:{class:class{constructor(e){this.token=e,this.endpointType=i.K.Segment,this.options={}}init(e,t){return this.setOptions(e),this.context=t,this.token?(window.analytics&&window.analytics.initialize&&(window.analytics=null),window.analytics||function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"],e.factory=function(t){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(t),e.push(n),e}};for(var t=0;t<e.methods.length;t++){var n=e.methods[t];e[n]=e.factory(n)}e.load=function(t,n){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(i,s),e._loadOptions=n},e.SNIPPET_VERSION="4.15.2"}}(),window.analytics.load(this.token),new Promise(((e,t)=>{window.analytics.ready(e)}))):Promise.resolve()}identify(e){window.analytics.identify(e.id,{first_name:e.firstName,last_name:e.lastName,email:e.email})}track(e,t,n){s.Z.level>=3&&r.debug(e,t?JSON.stringify(t).replace('\\"','"'):t),t=Object.assign(t||{},this.options);const i=this.context.integrations?Object.assign({},this.context.integrations):{};i.Intercom=!!n;try{window.analytics.track(e,t,Object.assign(Object.assign({},this.context),{integrations:i}))}catch(t){r.error(`Failed to send data to segment for ${e}`)}}trackAsync(e,t,n){if(t=t||{},navigator.sendBeacon)try{navigator.sendBeacon("https://api.segment.io/v1/t",JSON.stringify({event:e,anonymousId:window.analytics.user().anonymousId(),properties:Object.assign({data:t},this.options),integrations:{Intercom:!!n},writeKey:this.token,sentAt:Date.now(),type:"track",context:this.context}))}catch(e){r.error("Failed to send async segment request")}}setOptions(e){Object.assign(this.options,e)}},key:"segment_key",url:null},[i.K.Logging]:{class:class{init(e,t){return a.debug("logging analytics to console",{options:e,context:t}),Promise.resolve()}identify(e){a.debug("identify as",e)}track(e,t,n){a.debug({eventName:e,data:t,intercom:n})}trackAsync(e,t,n){a.debug({eventName:e,data:t,intercom:n})}setOptions(e){a.debug("set options",e)}},key:null,url:null},[i.K.Matterport]:{class:class{constructor(e,t,n){this.token=e,this.url=t,this.queue=n,this.options={},this.segmentStylePayload=(e,t,n)=>({timestamp:(0,l.U)(new Date),integrations:{Intercom:!!n},context:this.segmentStyleContext(this.context),properties:t,event:e,messageId:(0,o.D)(),anonymousId:this.anonymousId,type:"track",userId:this.user?this.user.id:null,sentAt:(0,l.U)(new Date)}),this.segmentStyleContext=e=>{const t={page:{path:window.location.pathname,referrer:(0,u.an)(),search:window.location.search,title:window.document.title,url:window.location.href},userAgent:navigator.userAgent,library:{name:"showcase",version:"1"},campaign:{}};return Object.assign(Object.assign({},e),t)};const i=(0,d.fp)(m);if(i)this.anonymousId=i;else{const e=(0,c.$)(p);this.anonymousId=e&&"string"==typeof e?e.replace(/%22/g,""):(0,o.D)(),(0,d.m8)(m,this.anonymousId)}this.headers={"X-API-Key":this.token,"Content-Type":"application/json",Accept:"application/json"}}init(e,t){return this.setOptions(e),this.context=t,h.debug("init",{options:this.options,context:this.segmentStyleContext(this.context)}),Promise.resolve()}identify(e){h.debug("identify as",e),this.user=e}track(e,t,n){s.Z.level>=3&&h.debug(e,t?JSON.stringify(t).replace('\\"','"'):t),t=Object.assign(t||{},this.options);const i=this.segmentStylePayload(e,t,n);this.queue.post(this.url,{body:i,headers:this.headers})}trackAsync(e,t,n){if(t=Object.assign(t||{},this.options),navigator.sendBeacon)try{const i=this.segmentStylePayload(e,t,n);navigator.sendBeacon(`${this.url}?api_key=${this.token}`,JSON.stringify(i))}catch(e){h.error("Failed to sendBeacon analytics request")}}setOptions(e){Object.assign(this.options,e)}},key:"analytics_mp_key",url:"analytics_mp_url"}}},19564:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var i=n(67294),s=n(33558);function r(){const{analytics:e}=(0,i.useContext)(s.I);return e}},15201:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Analytics:()=>a,default:()=>l,useAnalytics:()=>o.z});var i=n(56169),s=n(97542),r=n(39880);class a extends s.Y{constructor(){super(...arguments),this.name="analytics",this.endpoints=[],this.loaded=!1,this.bufferedData=[],this.options={}}async load(e,t,n,s){this.loaded=!1,Object.assign(this.options,n);for(const n of e){const{provider:e,token:r,url:a}=n;if(void 0===i.H[e])continue;const o=new(0,i.H[e].class)(r,a,t);await o.init(this.options,s),this.endpoints.push(o),this.loaded=!0}return this.loaded&&this.flushBufferedData(),this.loaded}setOptions(e){Object.assign(this.options,e),this.endpoints.forEach((t=>{t.setOptions(e)}))}setUser(e){if(e&&e.loggedIn)for(const t of this.endpoints)t.identify(e)}track(e,t,n){return this.loaded?(0,r.gw)(0).then((()=>{this.endpoints.forEach((i=>{i.track(e,t,n)}))})):(this.bufferedData.push({event:e,data:t}),Promise.resolve())}trackAsync(e,t,n){this.loaded?this.endpoints.forEach((i=>{i.trackAsync(e,t,n)})):this.bufferedData.push({event:e,data:t})}trackFeatures(...e){this.options.ab_tests||(this.options.ab_tests=[]);const t=this.options.ab_tests;t.push(...e);const n=new Map(t.map((e=>e.split(":")))),i={ab_tests:Array.from(n,(([e,t])=>`${e}:${t}`))};this.endpoints.forEach((e=>{e.setOptions(i)}))}flushBufferedData(){for(const e of this.bufferedData)this.endpoints.forEach((t=>{t.track(e.event,e.data,e.intercom)}));this.bufferedData.length=0}}var o=n(19564);const l=a},44239:(e,t,n)=>{"use strict";n.d(t,{F$:()=>l,FW:()=>m,bC:()=>v,vx:()=>f});var i=n(42238),s=n(82864),r=n(31362),a=n(30128);const o=e=>`${e}_3.0`,l=e=>e,c=e=>{var t,n;return{pme:null!==(n=(null!==(t=window.MP_PLATFORM_METADATA)&&void 0!==t?t:{}).pme)&&void 0!==n&&n}},d=e=>({height:e.innerHeight,width:e.innerWidth}),u=e=>({width:e.screen.width,height:e.screen.height,density:e.devicePixelRatio}),h=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return""}},p=()=>{const e=(new i.UAParser).getResult();let t=e.os.name,n=e.browser.name;const s=Object.assign({},e.device);return(0,r._1)()&&(t="iPadOS",s.vendor="Apple",s.model="iPad",s.type="tablet","Safari"===n&&(n="Mobile Safari")),{browser:{name:n,major:e.browser.major,version:e.browser.version,language:navigator.language||"",languages:navigator.languages?navigator.languages.join(", "):""},os:{name:t,version:e.os.version},device:{vendor:s.vendor,model:s.model,type:s.type}}};function m(e){var t;const n=window,i=n.parent!==n,s="1"===e.play||"true"===e.play;return Object.assign({model_id:e.model||e.m||"",language_tag:null!==(t=e.lang)&&void 0!==t?t:null,quickstart:"1"===e.qs,is_mobile:(0,r.tq)(),iframe:i,session_id:(0,a.D)(),platform:p(),pme:c(),authTokenProvided:!!e.auth||!!e.connectauth},f(s))}function f(e){const t=window,n=t.innerWidth/t.innerHeight,i=t.parent!==t;return{start_source:e?"autoplay":i?"click":"fullpage",autoplay:e,aspect_ratio:isFinite(n)?n:1,window:d(t)}}function g(e,t){const n=window;return{app:{name:o(t),version:"23.12.1_webgl-103-gcfc28ff2d3"},locale:e,screen:u(n),timezone:h(),location:{}}}function v(e,t,n){const i=g(t,n);return(0,s.Z)(e).then((e=>{i.location={city:e.city,country:e.country_name,region:e.region}})),i}},16935:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(67992),s=n(1722),r=n(37082);class a extends i.V{constructor(){super(),this.name="annotations-view-data",this.dockedAnnotationObservable=(0,r.Y)(null),this.billboardAnnotationObservable=(0,r.Y)(null),this.billboardSelectedObservable=(0,r.Y)(!1),this.capabilities=new Map}setDockedAnnotation(e,t){const n=e&&t?{id:e,annotationType:t}:null;this.isEqual(n,this.dockedAnnotation)||this.atomic((()=>{this.dockedAnnotationObservable.value=n,n&&this.billboardSelected&&(this.billboardSelectedObservable.value=!1)}))}get dockedAnnotation(){return this.dockedAnnotationObservable.value}onDockedAnnotationChanged(e){return this.dockedAnnotationObservable.onChanged(e)}setBillboardAnnotation(e,t,n){const i=e&&t?{id:e,annotationType:t}:null;this.atomic((()=>{this.isEqual(i,this.billboardAnnotation)||(this.billboardAnnotationObservable.value=i),void 0===n&&i||(this.billboardSelectedObservable.value=!!n,n&&this.dockedAnnotation&&(this.dockedAnnotationObservable.value=null))}))}get billboardAnnotation(){return this.billboardAnnotationObservable.value}get billboardSelected(){return this.billboardSelectedObservable.value}get selectedAnnotation(){return this.billboardSelected?this.billboardAnnotation:null}updateCapabilities(e,t){const n=this.getCapabilities(e);n.atomic((()=>{n.dock=t.dock,n.preview=t.preview,n.share=t.share}))}getCapabilities(e){const t={dock:!0,preview:!0,select:!0,share:!0};this.capabilities.has(e)||this.capabilities.set(e,(0,s.$)(t));return this.capabilities.get(e)||(0,s.$)(t)}isEqual(e,t){return(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.annotationType)===(null==t?void 0:t.annotationType)}}},43470:(e,t,n)=>{"use strict";n.d(t,{Aj:()=>d,G5:()=>o,JD:()=>l,Kw:()=>a,bd:()=>s,oM:()=>r,yL:()=>c});var i=n(19663);class s extends i.m{constructor(e,t,n=!1){super(),this.id="ANNOTATION_DOCK",this.payload={id:e,annotationType:t,force:n}}}class r extends i.m{constructor(e,t,n=!1){super(),this.id="ANNOTATION_SELECT",this.payload={id:e,annotationType:t,force:n}}}class a extends i.m{constructor(e,t){super(),this.id="ANNOTATION_PREVIEW",this.payload={id:e,annotationType:t}}}class o extends i.m{constructor(){super(...arguments),this.id="ANNOTATIONS_CLOSE_BILLBOARD"}}class l extends i.m{constructor(){super(...arguments),this.id="ANNOTATIONS_CLOSE_DOCKED_ANNOTATION"}}class c extends i.m{constructor(e,t){super(),this.id="ANNOTATIONS_CLOSE_ALL",this.payload={exceptType:e,exceptId:t}}}class d extends i.m{constructor(e,t){super(),this.id="ANNOTATION_CLOSE",this.payload={id:e,annotationType:t}}}},86283:(e,t,n)=>{"use strict";var i;n.d(t,{J:()=>i}),function(e){e.NOTE="note",e.TAG="tag",e.OBJECT="object"}(i||(i={}))},5604:(e,t,n)=>{"use strict";n.d(t,{i:()=>r,q:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t,n){super(),this.annotationType=e,this.id=t,this.attachmentId=n}}class r extends i.v0{constructor(e,t,n){super(),this.block=n,this.id=t,this.annotationType=e}}},44877:(e,t,n)=>{"use strict";n.d(t,{CM:()=>r,Kd:()=>a});var i=n(86283);function s(e,t){return!!t&&t.id===e.getCurrentUserId()}function r(e,t,n){if(t===i.J.NOTE){return e.isCommenter()&&s(e,n)}return e.isEditor()}function a(e,t,n){if(t===i.J.NOTE){return e.isCommenter()&&s(e,n)||e.isOrgAdmin()}return e.isEditor()}},48575:(e,t,n)=>{"use strict";var i;n.d(t,{X:()=>i}),function(e){e.ACCESS_TOKEN_REQUIRED="object.access.token.required",e.FORBIDDEN="spaces.public.access.password.forbidden",e.INVALID_PASSWORD="spaces.public.access.invalid_password",e.TOO_MANY_ATTEMPTS="spaces.public.access.too_many_attempts",e.UNAUTHORIZED="user.unauthorized",e.NOT_FOUND="not.found",e.PASSWORD_REQUIRED="model.unauthorized"}(i||(i={}))},64574:(e,t,n)=>{"use strict";var i;n.d(t,{s:()=>i}),function(e){e.INVALID_CREDENTIALS="invalidcredentials",e.TOO_MANY_ATTEMPTS="toomanyattempts",e.UNKNOWN="unknown"}(i||(i={}))},66672:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var i=n(59279);class s{constructor(){const e=(0,i.eY)("auth","");this.authenticate(e)}isAuthenticated(){return!!s.token}authenticate(e){return!(!e||"string"!=typeof e)&&(s.token=e.replace(","," "),!0)}getAuthorizationHeader(){return s.token?s.token:""}}},47375:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var i=n(97998),s=n(64574),r=n(48575),a=n(44584);const o=new i.Z("mp-password-authentication");class l{constructor(e=window.location.origin){this.baseUrl=e,this.errorType=s.s.UNKNOWN}async authenticate(e,t){if(!e.match(/[a-zA-Z0-9]+/))return o.error(`Invalid Model ID ${e}`),!1;const n=`${this.baseUrl}/api/v2/models/${e}/public-access/`;return this.fetchToken(n,t).then((async e=>{let t={};return e&&(t=await e.json(),e.ok&&t.token)?(this.login(t.token),!0):(this.errorType=l.getErrorType(t.code),this.logout(),!1)}))}isAuthenticated(){return void 0!==l.token}login(e){l.token=e}logout(){l.token=void 0}getAuthorizationHeader(){return l.token?`Matterport-Object-Access ${l.token}`:""}async fetchToken(e,t){const n=JSON.stringify({password:t}),i={"Content-Type":"application/json"};return(0,a.m)(e,i),fetch(e,{method:"POST",cache:"no-cache",headers:i,body:n})}static getErrorType(e){switch(e){case r.X.TOO_MANY_ATTEMPTS:return s.s.TOO_MANY_ATTEMPTS;case r.X.INVALID_PASSWORD:return s.s.INVALID_CREDENTIALS}return s.s.UNKNOWN}}},74533:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});class i{static setToken(e){i.token="Bearer "+e}isAuthenticated(){return!!i.token}authenticate(e){return!(!e||"string"!=typeof e)}getAuthorizationHeader(){return i.token?i.token:""}}},76609:(e,t,n)=>{"use strict";var i,s;n.d(t,{AB:()=>s,Qf:()=>a,SL:()=>i,eE:()=>r}),function(e){e.BASE="base",e.STANDARD="standard",e.HIGH="high",e.ULTRAHIGH="ultrahigh"}(i||(i={})),function(e){e[e.BASE=512]="BASE",e[e.STANDARD=1024]="STANDARD",e[e.HIGH=2048]="HIGH",e[e.ULTRAHIGH=4096]="ULTRAHIGH"}(s||(s={}));const r={[i.BASE]:s.BASE,[i.STANDARD]:s.STANDARD,[i.HIGH]:s.HIGH,[i.ULTRAHIGH]:s.ULTRAHIGH},a={[s.BASE]:i.BASE,[s.STANDARD]:i.STANDARD,[s.HIGH]:i.HIGH,[s.ULTRAHIGH]:i.ULTRAHIGH}},59625:(e,t,n)=>{"use strict";n.d(t,{af:()=>c,gx:()=>i});var i,s=n(67992),r=n(75287),a=n(28361),o=n(46391),l=n(14715);class c extends s.V{constructor(e={}){super(),this.name="player-options",this.options=new d(e)}resetDefaultTourOptions(){this.options.fast_transitions=l.LI,this.options.transition_speed=l.p$,this.options.transition_time=l.rd,this.options.pan_speed=l.tu,this.options.dollhouse_pan_speed=l.nr,this.options.zoom_duration=l.we,this.options.pan_angle=l.Cj,this.options.pan_direction=l.y6,this.options.commit()}}class d extends r.T{constructor(e){super(),this.presented_by=!1,this.highlight_reel=!0,this.floor_plan=!0,this.tour_buttons=!0,this.room_bounds=!1,this.labels=!0,this.labels_dh=!0,this.floor_select=!0,this.space_search=!0,this.measurements=!0,this.measurements_saved=!0,this.dollhouse=!0,this.contact_email=!1,this.address=!1,this.contact_name=!1,this.model_summary=!1,this.contact_phone=!1,this.model_name=!1,this.external_url=!1,this.unit_type=o.M.IMPERIAL,this.background_color=a.z.default,this.fast_transitions=l.LI,this.transition_speed=l.p$,this.transition_time=l.rd,this.pan_speed=l.tu,this.dollhouse_pan_speed=l.nr,this.zoom_duration=l.we,this.pan_angle=l.Cj,this.pan_direction=l.y6,e&&this.copy(e)}copy(e){this.presented_by=!!e.presented_by,this.highlight_reel=!!e.highlight_reel,this.floor_plan=!!e.floor_plan,this.room_bounds=!!e.room_bounds,this.tour_buttons=!!e.tour_buttons,this.labels=!!e.labels,this.space_search=!!e.space_search,this.dollhouse=!!e.dollhouse,this.fast_transitions=!!e.fast_transitions,this.contact_email=!!e.contact_email,this.address=!!e.address,this.contact_name=!!e.contact_name,this.model_summary=!!e.model_summary,this.contact_phone=!!e.contact_phone,this.model_name=!!e.model_name,this.external_url=!!e.external_url,void 0!==e.measurements&&(this.measurements=e.measurements),void 0!==e.labels_dh&&(this.labels_dh=e.labels_dh),void 0!==e.floor_select&&(this.floor_select=e.floor_select),void 0!==e.measurements_saved&&(this.measurements_saved=e.measurements_saved),void 0!==e.unit_type&&(this.unit_type=e.unit_type),void 0!==e.background_color&&void 0!==a.z[e.background_color]&&(this.background_color=e.background_color),void 0!==e.transition_speed&&(this.transition_speed=e.transition_speed),void 0!==e.transition_time&&(this.transition_time=e.transition_time),void 0!==e.pan_speed&&(this.pan_speed=e.pan_speed),void 0!==e.dollhouse_pan_speed&&(this.dollhouse_pan_speed=e.dollhouse_pan_speed),void 0!==e.zoom_duration&&(this.zoom_duration=e.zoom_duration),void 0!==e.pan_angle&&(this.pan_angle=e.pan_angle),void 0!==e.pan_direction&&(this.pan_direction=e.pan_direction)}}!function(e){e.PresentedBy="presented_by",e.HighlightReel="highlight_reel",e.FloorPlan="floor_plan",e.RoomBounds="room_bounds",e.TourButtons="tour_buttons",e.Labels="labels",e.LabelsDollhouse="labels_dh",e.Measurements="measurements",e.FloorSelect="floor_select",e.SavedMeasurements="measurements_saved",e.Dollhouse="dollhouse",e.InstantTransitions="fast_transitions",e.TransitionSpeed="transition_speed",e.TransitionTime="transition_time",e.PanSpeed="pan_speed",e.DollhousePanSpeed="dollhouse_pan_speed",e.ZoomDuration="zoom_duration",e.PanAngle="pan_angle",e.PanDirection="pan_direction",e.Units="unit_type",e.DetailsEmail="contact_email",e.DetailsAddress="address",e.DetailsName="contact_name",e.DetailsSummary="model_summary",e.DetailsPhone="contact_phone",e.DetailsModelName="model_name",e.DetailsExternalUrl="external_url",e.BackgroundColor="background_color",e.SpaceSearch="space_search"}(i||(i={}))},66777:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(81396),s=n(97998),r=n(76609),a=n(39880);const o=new s.Z("api"),l={[r.SL.BASE]:256,[r.SL.STANDARD]:1024,[r.SL.HIGH]:2048,[r.SL.ULTRAHIGH]:4096};class c{constructor(e){this.urls=e,this.sweepCubeTextures={}}useTexture(e){const t=this.getTexture(e);if(!t)throw Error("Texture for sweep not loaded before using");return t}loadFace(e,t,n,s){return this.loadFaceImage(e,t,n,s).then((e=>{const t=new i.Texture(e);return t.needsUpdate=!0,t}))}load(e,t=r.SL.STANDARD){const n=this.sweepCubeTextures[e.id];if(n)return o.debug("Skipping load of pano, already loaded"),new Promise((function(e,t){e(n)}));const s=[2,4,0,5,1,3].map((n=>this.loadFaceImage(e,t,n))),a=Promise.all(s).then((t=>{const n=new i.CubeTexture(t);return n.flipY=!1,n.needsUpdate=!0,this.sweepCubeTextures[e.id]=n,n}));return a.catch((()=>{o.error(`Downloading cubemap for pano ${e.id} failed`)})),a}unload(e){var t;const n=this.sweepCubeTextures[e];if(!n)throw Error("Texture for sweep not loaded before unloading");n.dispose(),null===(t=n.images)||void 0===t||t.forEach((e=>{var t,n;null===(n=(t=e).close)||void 0===n||n.call(t)})),this.sweepCubeTextures[e]=null}unloadAll(e){const t=(0,a.ow)(e);for(const e of Object.keys(this.sweepCubeTextures))this.sweepCubeTextures[e]&&!t[e]&&this.unload(e)}async loadFaceImage(e,t,n,i){const s=l[t],r=await e.getFaceUrl(t,n);return this.urls.getImageBitmap(r,s,s,i)}getTexture(e){return this.sweepCubeTextures[e]}}},28361:(e,t,n)=>{"use strict";n.d(t,{K:()=>s,z:()=>r});const i={bgPrimary:"#0F1011",bgSecondary:"#1e2023",gridPrimary:"#2d3035",gridSecondary:"#171a1c"},s={black:i,grey:{bgPrimary:"#c9cbcc",bgSecondary:"#9d9d9e",gridPrimary:"#c9cbcc",gridSecondary:"#b0b1b1"},white:{bgPrimary:"#fcfdff",bgSecondary:"#ced0d3",gridPrimary:"#fcfdff",gridSecondary:"#e2e3e5"},default:i};var r;!function(e){e.black="black",e.grey="grey",e.white="white",e.default="black"}(r||(r={}))},51454:(e,t,n)=>{"use strict";n.d(t,{Fx:()=>c,GT:()=>r,LJ:()=>d,TR:()=>o,V2:()=>a,Zh:()=>p,aJ:()=>u,iE:()=>l,pi:()=>h});var i=n(2224);class s extends i.y{constructor(e="Api Exception"){super(e),this.name="ApiException"}}class r extends s{constructor(e="Unauthorized"){super(e),this.name="Unauthorized"}}class a extends s{constructor(e="Forbidden"){super(e),this.name="Forbidden"}}class o extends s{constructor(e="Not Found"){super(e),this.name="NotFound"}}class l extends s{constructor(e="Model Processing"){super(e),this.name="ModelProcessing",this.code="unavailable.processing"}}class c extends s{constructor(e="Model Failed"){super(e),this.name="ModelFailed",this.code="model.failed"}}class d extends s{constructor(e="Model Archived"){super(e),this.name="ModelArchived",this.code="unavailable.archived"}}class u extends s{constructor(e="Model Pending"){super(e),this.name="ModelPending",this.code="unavailable.pending"}}class h extends s{constructor(e="Model Deleted"){super(e),this.name="ModelDeleted",this.code="unavailable.gone"}}class p extends s{constructor(e="Model Compliance"){super(e),this.name="ModelCompliance",this.code="unavailable.compliance"}}},82864:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(53261),s=n(44443);async function r(e){return(0,s.mM)(window.location.href)?e.get("https://static.matterport.com/geoip/",{responseType:"json",priority:i.ru.LOW}):{city:"",country_code:"",country_name:"",region:""}}},25795:(e,t,n)=>{"use strict";n.d(t,{P8:()=>r,PT:()=>o,gM:()=>a});var i=n(65650);let s=null;const r=e=>{s=e},a=()=>s,o=(e,t)=>(s&&(0,i.S)(e)&&(t["x-matterport-application-key"]=s),t)},18839:(e,t,n)=>{"use strict";n.d(t,{I:()=>a,l:()=>r});var i=n(65650);let s=null;const r=e=>{s=e},a=(e,t)=>(s&&(0,i.S)(e)&&(t["x-matterport-application-name"]=s),t)},58533:(e,t,n)=>{"use strict";n.d(t,{X:()=>a,t:()=>r});var i=n(65650);let s=null;const r=e=>{s=e},a=(e,t)=>(s&&(0,i.S)(e)&&(t["x-matterport-application-version"]=s),t)},44584:(e,t,n)=>{"use strict";n.d(t,{m:()=>h});var i=n(18839),s=n(58533),r=n(25795),a=n(47375),o=n(66672),l=n(74533);const c=[new o.r,new l.w,new a.L];var d=n(65650);const u=[(e,t,n=c)=>{const i=n.map((e=>e.getAuthorizationHeader())).find(Boolean);return i&&(0,d.S)(e)&&(t.authorization=i),t},i.I,s.X,r.PT],h=(e,t,n=u)=>(n.forEach((n=>n(e,t))),t)},65650:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});const i=["matterport.com","matterportvr.cn","localhost"],s=["/api/"],r=e=>{let t;try{t=new URL(e.toLowerCase())}catch(e){return!1}const{hostname:n,pathname:r}=t,a=i.some((e=>n===e||n.endsWith(`.${e}`))),o=s.some((e=>r.startsWith(e)));return a&&o}},42404:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var i=n(97998),s=n(53261),r=n(48575),a=n(51454);class o{constructor(e){this.blurEnabled=!1,e&&Object.assign(this,e)}}var l,c=n(82864),d=n(59279);!function(e){e.USER="user",e.ADMIN="admin"}(l||(l={}));class u{constructor(e){this.loggedIn=!1,this.flags=new Set,this.memberships=[],e&&Object.assign(this,e)}getFlags(e=""){if(this.memberships){const e=(0,d.eY)("organization","");for(const t of this.memberships)if(""===e||t.organizationId===e)for(const e of t.flags)this.flags.add(e)}const t=new Set;return this.flags.forEach((n=>{if(0===n.indexOf(e)){const i=n.replace(e,"");t.add(i)}})),t}hasFlag(e,t="showcase"){return this.getFlags().has(`${t}/${e}`)}isOrganizationAdmin(e){const t=this.getMembership(e);return!!(null==t?void 0:t.roles.includes(l.ADMIN))}getMembershipFlags(e){const t=this.getMembership(e);return t?t.flags:[]}getMembership(e){return this.memberships.find((t=>t.organizationId===e))}hasMembershipFlag(e,t){return this.getMembershipFlags(e).includes(t)}getMembershipFeature(e,t){const n=this.getMembership(e);return(null==n?void 0:n.features[t])||!1}hasMembership(e){return this.memberships.some((t=>t.organizationId===e))}}class h{constructor(e){this.features={},e&&Object.assign(this,e)}}var p=n(7162);const m=new i.Z("user.serializers");function f(e,t="23.12.1_webgl-103-gcfc28ff2d3"){const n=[];for(let i of e){const e=i.match(/^.*\-(\d+(?:\.\d+)*)$/);if(e&&e[1]){if(i=i.replace(/-(\d+(?:\.\d+)*)$/,""),p.o.lt(t,e[1])){m.debug(`Dropping feature flag ${i}, version >= ${e[1]} required`);continue}m.debug(`Enabled versioned feature flag ${i}`)}n.push(i)}return n}var g=n(44584),v=n(31362);const b=new i.Z("ImageBitmapSupport"),y=(0,d.eY)("imageBitmap",null);let E=null;function S(){return"1"===y||(null===E&&function(){if(E=!1,(0,v.vU)()){const e=(0,v.rI)();e.major<=95&&(b.error(`Firefox/${e.major} issue, Disabling ImageBitmap support, upgrade to 96 for better performance.`),E=!0)}}(),!E&&("createImageBitmap"in window?"0"!==y:"1"===y))}var O=n(66672),T=n(27553),_=n(10960),w=n(37262);class N{constructor(e,t,n){this.query=e,this.variables=t,this.response=n}read(e,t,n){return e!==this.query||(0,w.NK)(t,this.variables)?Promise.resolve(void 0):Promise.resolve(this.response)}}var A=n(5823),I=n(26837);const k=new i.Z("api"),P=Object.freeze({cacheClearTimeout:6e4});class L{constructor(e=new s.gO,t=new s.gO,n={},i=window.location.origin,r){this.apiQueue=e,this.storeQueue=t,this.prefetchedData=n,this.baseUrl=i,this.mdsContext=r,this._configCache={},this._userCache={},this._organizationCache={},this.cacheClearTimer=self.setTimeout((()=>{this.prefetchedData={}}),P.cacheClearTimeout)}async init(e){this.user=this.getUser(),e&&await this.getConfigs(e)}dispose(){clearTimeout(this.cacheClearTimer),this.prefetchedData={}}getOnStoreQueue(e,t={}){return this.get(e,t,this.storeQueue)}get(e,t={},n=this.apiQueue){const{headers:i={},prefetchFrom:s}=t;return s&&this.prefetchedData[s]?Promise.resolve(this.prefetchedData[s]):(t.headers=(0,g.m)(e,i),n.get(e,t).then((e=>{if(null===e)throw Error("Data from get was null, possibly unparsable JSON");return e})))}getImage(e,t){return this.get(e,Object.assign(Object.assign({},t),{responseType:"image"}))}async getImageBitmap(e,t,n,i={}){if(S()){const s=-1!==e.indexOf("?"),r=e+(s?"&":"?")+"imgopt=1",a=await this.get(r,Object.assign(Object.assign({},i),{responseType:"blob"}));return createImageBitmap(a,0,0,t,n,{imageOrientation:i.flipY?"flipY":"none"})}return this.getImage(e,i)}async getConfigs(e,t){if(e=e.toLowerCase(),!t&&this._configCache[e])return this._configCache[e];const n=t?{responseType:"json"}:{responseType:"json",prefetchFrom:"config"};let i={};const s=this.baseUrl+`/api/v1/config/${e}`;try{i=await this.get(s,n)}catch(e){k.warn(`Failed to load config from ${s}, ignoring`)}return t||(this._configCache[e]=i),i||{}}async getAppKey(e,t,n){if(""===e||""===t)return null;const i=await this.getConfigs(e,n);return i.hasOwnProperty(t)?i[t]:null}async getGeoIpLocation(){return(0,c.Z)(this.apiQueue)}async modelExists(e,t={ignorePrefetch:!1}){var n,i,s,o,l,c,d,u,h,p,m;const{ignorePrefetch:f}=t;if(!f&&this.prefetchedData&&this.prefetchedData.model){const{model:t,queries:u}=this.prefetchedData,h=null===(i=null===(n=null==u?void 0:u.GetModelPrefetch)||void 0===n?void 0:n.data)||void 0===i?void 0:i.model;if(!(null==h?void 0:h.id)&&t.has_public_access_password)throw new a.GT("Model requires a password");if(!(new O.r).isAuthenticated()){const t=null===(o=null===(s=this.prefetchedData)||void 0===s?void 0:s.model)||void 0===o?void 0:o.error_code,n=null==h?void 0:h.state;if(t===I.Mb.MODEL_COMPLIANCE)throw new a.Zh;if(t===I.Mb.MODEL_DELETED)throw new a.pi;if(t===I.Mb.MODEL_PROCESSING||n===A.gb.PROCESSING)throw new a.iE;if(t===I.Mb.MODEL_FAILED||n===A.gb.FAILED)throw new a.Fx;if(t===I.Mb.MODEL_ARCHIVED||n===A.gb.INACTIVE)throw new a.LJ;if(t===I.Mb.MODEL_PENDING||n===A.gb.PENDING)throw new a.aJ;const i=null===(c=null===(l=null==u?void 0:u.GetModelPrefetch)||void 0===l?void 0:l.errors)||void 0===c?void 0:c.find((e=>{var t;return(null===(t=null==e?void 0:e.path)||void 0===t?void 0:t.length)&&"model"===(null==e?void 0:e.path[0])}));if((null===(d=null==i?void 0:i.extensions)||void 0===d?void 0:d.code)===r.X.NOT_FOUND)throw new a.TR("Model not found (404)");if(h&&(null==h?void 0:h.id)!==e)throw new a.V2("Access denied (403)")}}const g=await this.modelQuery(e);if(null===(u=g.errors)||void 0===u?void 0:u.length){switch(null===(h=g.errors[0].extensions)||void 0===h?void 0:h.code){case r.X.PASSWORD_REQUIRED:throw new a.GT("Access token required (401)");case r.X.NOT_FOUND:throw new a.TR("Model not found (404)");default:throw new a.V2("Access denied (403)")}}else if((null===(m=null===(p=g.data)||void 0===p?void 0:p.model)||void 0===m?void 0:m.id)!==e)throw new a.V2("Access denied (403)")}async getOrganization(e){if(e in this._organizationCache)return this._organizationCache[e];const t=`${this.baseUrl}/api/v2/organizations/${e}`,n=await this.get(t,{responseType:"json"}).catch((e=>{k.error(e)}));let i=null;return n&&(i=new o({id:n.sid,name:n.company_name||"",blurEnabled:!!n.manual_blur})),this._organizationCache[e]=i,i}async getUser(e){if(e&&e in this._userCache)return this._userCache[e];const t=`${this.baseUrl}/api/v2/users/${e||"current"}`,n=function(e){if(!e)return new u;const t=(e.memberships||[]).map((t=>new h({userId:e.user_sid,organizationId:t.organization_sid,name:t.name,flags:f(t.flags||[]),roles:t.roles||[],features:t.features||{}})));return new u({id:e.user_sid,firstName:e.first_name,lastName:e.last_name,email:e.email,loggedIn:e.is_authenticated,flags:new Set(f(e.flags)),memberships:t})}(await this.get(t,{responseType:"json"}).catch((e=>{k.error(e)})));return n.id&&(this._userCache[n.id]=n),n}async modelQuery(e){const t=new T.w({baseUrl:this.baseUrl}),n=await t.query(_.GetModelPolicies,{modelId:e}),i=(n.errors||[]).filter((e=>{var t;return 1===(null===(t=e.path)||void 0===t?void 0:t.length)&&"model"===e.path[0]}));return 0===i.length&&this.mdsContext&&(this.modelDetailCache&&this.mdsContext.sharedCaches.delete(this.modelDetailCache),this.modelDetailCache=new N(_.GetModelPolicies,{modelId:e},n),this.mdsContext.sharedCaches.add(this.modelDetailCache)),{data:n.data,errors:i}}}var R=n(97542);class C extends R.Y{constructor(){super(...arguments),this.name="api-client"}async init(e,t){this.api=new L(e.apiQueue,e.storeQueue,e.prefetchedData,e.baseUrl,e.mdsContext),await this.api.init(e.preloadConfig)}dispose(e){super.dispose(e),this.api.dispose()}getApi(){return this.api}}},14715:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>h,LI:()=>a,gj:()=>r,nr:()=>d,p$:()=>o,rd:()=>l,tu:()=>c,we:()=>u,y6:()=>p});var i=n(17686),s=n(14439);const r="TransitionType",a=!0,o=s.Mk,l=s.mL,c=s.pn,d=s.su,u=s.i7,h=s.BA,p=i.kw.Auto},71608:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var i=n(75287),s=n(32347);class r extends i.T{constructor(e){super(),this.category=s.G$.EXTERNAL,this.mediaType=s.DD.IMAGE,this.mimeType="",this.src="",this.height=0,this.width=0,e&&Object.assign(this,e)}copy(e){return this.id=e.id,this.src=e.src,this.url=e.url,this.thumbnailUrl=e.thumbnailUrl,this.height=e.height,this.width=e.width,this.created=e.created,this.category=e.category,this.mediaType=e.mediaType,this.parentId=e.parentId||"",this.parentType=e.parentType,this.filename=e.filename,this.bytes=e.bytes,this.mimeType=e.mimeType||"",this}}},97163:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var i=n(67992),s=n(15637),r=n(71608);class a extends i.V{constructor(){super(),this.name="attachments-data",this.pendingAttachments=(0,s.q)(),this.removedAttachments=(0,s.q)(),this.currentUploads=(0,s.q)(),this.failedUploads=(0,s.q)()}iteratePending(e){for(const t of this.pendingAttachments)e(t)}iterateRemoved(e){for(const t of this.removedAttachments)e(t)}get pendings(){return this.pendingAttachments}get removals(){return this.removedAttachments}getPendingAttachment(e){return this.pendingAttachments.get(e)}getRemovedAttachment(e){return this.removedAttachments.get(e)}addPending(e){this.pendingAttachments.set(e.id,e)}removePendingAttachment(e){this.pendingAttachments.has(e)&&this.pendingAttachments.delete(e)}clearPending(){this.pendingAttachments.clear()}getPendingAttachmentsForAsset(e,t){const n=[];return this.iteratePending((i=>{i.parentType===t&&i.parentId===e&&n.push(i)})),n}getRemovedAttachmentsForAsset(e,t){const n=[];return this.iterateRemoved((i=>{i.parentType===t&&i.parentId===e&&n.push(i)})),n}markAttachmentForDelete(e){const t=new r.P(e);this.removedAttachments.set(t.id,t)}clearRemovals(){this.removedAttachments.clear()}get uploads(){return this.currentUploads}addUpload(e){this.uploads.set(e.id,e)}updateUpload(e){this.uploads.has(e.id)&&this.uploads.set(e.id,e)}removeUpload(e){this.uploads.has(e)&&this.uploads.delete(e)}clearUploads(){this.uploads.clear()}get failures(){return this.failedUploads}addFailure(e){this.failures.set(e.id,e)}removeFailure(e){this.failures.has(e)&&this.failures.delete(e)}clearFailures(){this.failures.clear()}}},35446:(e,t,n)=>{"use strict";n.d(t,{$T:()=>h,It:()=>a,Rh:()=>p,ZT:()=>m,Ze:()=>c,iu:()=>o,sE:()=>l,st:()=>r,wu:()=>s,x9:()=>d,xW:()=>u});var i=n(19663);class s extends i.m{constructor(e,t,n){super(),this.id="EMBED_MEDIA",this.payload={parentId:e,parentType:t,src:n}}}class r extends i.m{constructor(e){super(),this.id="LOAD_ATTACHMENT_EMBED",this.payload={attachment:e}}}class a extends i.m{constructor(e,t,n){super(),this.id="UPLOAD_ATTACHMENTS",this.payload={parentId:e,parentType:t,files:n}}}class o extends i.m{constructor(e,t,n){super(),this.id="CONFIRM_ATTACHMENT_CHANGES",this.payload={parentId:e,parentType:t,prevParentId:n}}}class l extends i.m{constructor(e){super(),this.id="CANCEL_ATTACHMENT_UPLOAD",this.payload={uploadId:e}}}class c extends i.m{constructor(){super(...arguments),this.id="CANCEL_ATTACHMENT_CHANGES"}}class d extends i.m{constructor(){super(),this.id="ATTACHMENTS_RESET_DATA"}}class u extends i.m{constructor(e,t,n){super(),this.id="TOGGLE_VIEW_ATTACHMENTS",this.payload={open:e,attachments:t,attachmentId:n}}}class h extends i.m{constructor(e){super(),this.id="ATTACHMENT_REMOVE",this.payload={attachment:e}}}class p extends i.m{constructor(e){super(),this.id="ATTACHMENT_REMOVE_FAILED_UPLOAD",this.payload={id:e}}}class m extends i.m{constructor(e){super(),this.id="ATTACHMENT_DELETE",this.payload={id:e}}}},32347:(e,t,n)=>{"use strict";var i,s,r,a;n.d(t,{DD:()=>r,G$:()=>a,_V:()=>s,kV:()=>i}),function(e){e.FILE_TOO_LARGE="oversize",e.EMPTY_FILE="empty",e.OVER_QUOTA="overQuota",e.UPLOAD_FAILED="failed",e.PERMISSION_DENIED="permission"}(i||(i={})),function(e){e.EMBED_FAIL="embedFail",e.EMBED_SUCCESS="success"}(s||(s={})),function(e){e.IMAGE="image",e.PDF="pdf",e.VIDEO="video",e.RICH="rich",e.ZIP="zip",e.TEXT="text",e.AUDIO="audio",e.MODEL="model",e.APPLICATION="application"}(r||(r={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload",e.SANDBOX="sandbox"}(a||(a={}))},13794:(e,t,n)=>{"use strict";n.d(t,{O:()=>s,RE:()=>o,Rd:()=>r,Vj:()=>a,v8:()=>l});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.attachments=e,this.attachmentId=t}}class r extends i.v0{}class a extends i.v0{constructor(e){super(),this.upload=e}}class o extends i.v0{constructor(e){super(),this.upload=e}}class l extends i.v0{constructor(e,t,n,i){super(),this.attachment=e,this.status=t,this.parentId=n,this.parentType=i}}},36892:(e,t,n)=>{"use strict";n.d(t,{Aw:()=>r,t8:()=>a,yk:()=>i,z6:()=>s});const i=25,s=524288e3,r=["image/gif","image/png","image/jpeg","image/webp","image/bmp"],a=["image/gif","image/png","image/jpeg","image/webp"]},63665:(e,t,n)=>{"use strict";n.d(t,{d:()=>d,n:()=>u});var i=n(97998),s=n(56367),r=n(9133),a=n(21149),o=n(71608),l=n(32347);const c=new i.Z("external-attachment-deserializer");class d{constructor(){}deserialize(e){if(!e||!this.validate(e))return c.debug("Deserialized invalid external attachment data from MDS",e),null;const t=new o.P;return t.id=e.id,t.created=(0,r.p)(e.created),t.src=e.url||"",t.thumbnailUrl=new s.n(e.thumbnailUrl||"",(0,r.p)(e.validUntil,null)),t.url=new s.n(e.url||"",(0,r.p)(e.validUntil,null)),e.mediaType&&(t.mediaType=(0,a.bY)(e.mediaType)),t.category=l.G$.EXTERNAL,e.width&&(t.width=e.width),e.height&&(t.height=e.height),t.parentType=e.parentDetails.type,t.parentId=e.parentDetails.parent.id,t}validate(e){if(!e)return!1;const t=["id","created","modified","mediaType","parentDetails"].filter((t=>!(t in e))),n=0===t.length;return n||c.debug("Attachment invalid:",{missingFields:t}),n}}const u=function(){return new d}},65222:(e,t,n)=>{"use strict";n.d(t,{O:()=>d,f:()=>u});var i=n(97998),s=n(9133),r=n(21149),a=n(71608),o=n(32347),l=n(56367);const c=new i.Z("file-attachment-deserializer");class d{constructor(){}deserialize(e){if(!e||!this.validate(e))return c.debug("Deserialized invalid file attachment data from MDS",e),null;const t=new a.P;return t.id=e.id,t.created=(0,s.p)(e.created),e.mimeType&&(t.mimeType=e.mimeType,t.mediaType=(0,r.id)(e.mimeType)),t.category=o.G$.UPLOAD,t.thumbnailUrl=new l.n(e.url||"",(0,s.p)(e.validUntil,null)),t.url=new l.n(e.url||"",(0,s.p)(e.validUntil,null)),t.filename=e.filename||"",t.bytes=e.bytes||0,t.width=e.imageWidth||0,t.height=e.imageHeight||0,t}validate(e){if(!e)return!1;return["id","created","url","mimeType","filename"].every((t=>t in e))}}const u=function(){return new d}},21149:(e,t,n)=>{"use strict";n.d(t,{Ug:()=>l,Uq:()=>a,VV:()=>p,ae:()=>c,bY:()=>u,id:()=>d,lV:()=>o,m:()=>h});var i=n(32347),s=n(36892),r=n(5823);function a(e){return!(e.category!==i.G$.UPLOAD||!e.mimeType)&&s.t8.includes(e.mimeType)}function o(e){return e.category===i.G$.EXTERNAL||e.category===i.G$.SANDBOX||!!e.mimeType&&s.Aw.includes(e.mimeType)}function l(e){return e.filter((e=>o(e)))}function c(e){return e.filter((e=>!o(e)))}function d(e){return e.startsWith("image")?i.DD.IMAGE:e.startsWith("video")?i.DD.VIDEO:e.startsWith("audio")?i.DD.AUDIO:e.startsWith("model")?i.DD.MODEL:e.startsWith("text")?i.DD.TEXT:"application/pdf"===e?i.DD.PDF:i.DD.APPLICATION}function u(e){switch(e){case r.EV.IMAGE:return i.DD.IMAGE;case r.EV.PDF:return i.DD.PDF;case r.EV.VIDEO:return i.DD.VIDEO;case r.EV.RICH:return i.DD.RICH;case r.EV.ZIP:return i.DD.ZIP;default:throw Error(`Unknown attachment media type ${e}`)}}function h(e){switch(e){case i.DD.IMAGE:return r.EV.IMAGE;case i.DD.PDF:return r.EV.PDF;case i.DD.VIDEO:return r.EV.VIDEO;case i.DD.RICH:return r.EV.RICH;case i.DD.ZIP:return r.EV.ZIP;default:throw Error(`Unknown media type ${e}`)}}function p(e){if(!e)return"0";const t=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),3),n=["B","kB","MB","GB"][t];return`${Number((e/Math.pow(1e3,t)).toFixed(1))}${n}`}},47047:(e,t,n)=>{"use strict";n.d(t,{B:()=>h});var i=n(18596),s=n(73121),r=n(81396),a=n(75287),o=n(90304),l=n(69505),c=n(93411),d=n(23885);const u=75*l.Ue;class h extends a.T{constructor(e){super(),this.position=new r.Vector3,this.rotation=new r.Quaternion,this.focalDistance=-1,this._autoOrthoApplied=!1,this._shouldAutoOrtho=!1,this.fovCorrectedPosition=(()=>{const e=new r.Vector3;return()=>(e.copy(o.fU.FORWARD).applyQuaternion(this.rotation).multiplyScalar(this.fovCorrectionOffset()).add(this.position),e)})(),this.fovCorrectionOffsetVec=(()=>{const e=new r.Vector3;return()=>(e.copy(o.fU.FORWARD).applyQuaternion(this.rotation).multiplyScalar(-this.fovCorrectionOffset()),e)})(),this.focalPoint=(()=>{const e=new r.Vector3,t=new r.Vector3;return()=>(e.copy(o.fU.FORWARD).applyQuaternion(this.rotation).multiplyScalar(this.focalDistance),t.copy(this.position).add(e),t)})(),this.forward=(()=>{const e=new r.Vector3;return()=>(e.copy(o.fU.FORWARD).applyQuaternion(this.rotation),e)})(),this.phi=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3;return()=>{e.copy(o.fU.FORWARD).applyQuaternion(this.rotation).multiplyScalar(-1),t.copy(o.fU.UP).applyQuaternion(this.rotation);const i=t.dot(o.fU.UP)<=0;n.set(e.x,0,e.z);const s=i?-n.length():n.length(),r=e.y;return Math.atan2(r,s)}})(),this.pitchFactor=(()=>{const e=(0,d.z6)(.6,0,.88,.5);return()=>{const t=(0,l.ZY)(this.phi()),n=(0,l.ZY)(u),i=Math.max((t-n)/(90-n),0);return 1-e(i)}})(),this.projection=(0,i.AN)(e)}setAutoOrtho(e){this._shouldAutoOrtho=e}get autoOrtho(){return this._shouldAutoOrtho}get autoOrthoApplied(){return this._autoOrthoApplied}fovCorrectedFocalDistance(){return this.focalDistance/this.fovDistanceScale()}fovCorrectionOffset(){return this.focalDistance-this.fovCorrectedFocalDistance()}aspect(){return this.projection.elements[5]/this.projection.elements[0]}halfHeight(){return this.fovCorrectedFocalDistance()*Math.tan((0,l.Id)(i.oR.fov/2))}fovDistanceScale(e){const{minFov:t}=i.oR,n=null!=e?Math.max(e,t):this.isOrtho()?t:(0,l.ZY)(this.fovY());return Math.tan((0,l.Id)(i.oR.fov/2))/Math.tan((0,l.Id)(n)/2)}clone(e=new h(this.aspect())){return e.position.copy(this.position),e.rotation.copy(this.rotation),e.focalDistance=this.focalDistance,e.projection.copy(this.projection),e}applyPhiBasedFovSquish(){if(!this._shouldAutoOrtho)return;const e=(0,c.t)(0,i.oR.fov,this.pitchFactor()),t=this.aspect(),n=this.fovCorrectedFocalDistance(),s=this.fovDistanceScale(e);if(e>i.oR.minFov)this.projection.makePerspectiveFov(e,t,i.oR.near*s,i.oR.far*s);else{const e=this.halfHeight(),t=this.aspect()*e;this.projection.makeOrthographic(-t,t,e,-e,i.oR.near*s,i.oR.far*s)}this.focalDistance=n*s,this.position.add(this.fovCorrectionOffsetVec()),this._autoOrthoApplied=!0}unapplyPhiBasedFovSquish(){if(!this._autoOrthoApplied)return;const e=this.fovCorrectedPosition().clone(),t=this.fovCorrectedFocalDistance();this.position.copy(e),this.focalDistance=t,this.resetProjMatrix(),this._autoOrthoApplied=!1}copy(e){return this.position.copy(e.position),this.rotation.copy(e.rotation),this.focalDistance=e.focalDistance,this.projection.copy(e.projection),this._autoOrthoApplied=e.autoOrthoApplied,this._shouldAutoOrtho=e.autoOrtho,this}isOrtho(){return(0,s.Pp)(this.projection)}fovX(){return 2*Math.atan(1*this.aspect()/this.projection.elements[5])}fovY(){return 2*Math.atan(1/this.projection.elements[5])}resetProjMatrix(){this.projection.makePerspectiveFov(i.oR.fov,this.aspect(),i.oR.near,i.oR.far)}}},42147:(e,t,n)=>{"use strict";n.d(t,{LR:()=>s,Nb:()=>r,qK:()=>a});var i=n(19663);class s extends i.m{}class r extends i.m{}class a extends i.m{}},9037:(e,t,n)=>{"use strict";n.d(t,{M:()=>g,r:()=>m});var i=n(18596),s=n(67992);const r=(e,t)=>e&&t?e.equals(t):e===t;var a=n(73121),o=n(31546),l=n(69505),c=n(47047),d=n(89557),u=n(81396),h=n(75287);class p extends h.T{constructor(){super(...arguments),this.startTime=0,this.duration=0,this.active=!1,this.autoOrtho=!1,this.type=null,this.progress=new d.z(0),this.blackoutProgress=new d.z(0),this.from={position:new u.Vector3,rotation:new u.Quaternion,projection:new o.M},this.to={position:new u.Vector3,rotation:new u.Quaternion,projection:new o.M},this.rotationDelay=0,this.rotationDuration=1,this.matrixDelay=0,this.matrixDuration=1,this.activeInternal=!1,this.promise=null}}const m=(e,t,n=!0)=>{t.position=f(e.position,t.position,n),t.rotation=f(e.rotation,t.rotation,n),t.projection=f(e.projection,t.projection,n),t.focalDistance=e.focalDistance},f=(e,t,n=!0)=>(e&&!t?t=e.clone():e&&t?t.copy(e):n&&(t=void 0),t);class g extends s.V{constructor(e,t){super(),this._width=e,this._height=t,this.name="camera",this._baseProjection=new o.M,this._orthoMatrix=new o.M,this._lastOrthoZoom=1,this._perspectiveMatrix=new o.M,this.pose=new c.B(e/t),this.transition=new p,this.setCameraDimensions(e,t),this._baseFovY=l.Ue*i.oR.fov}setCameraDimensions(e,t){if(void 0===e||void 0===t)return;this._width=e,this._height=t;const n=e/t,s=this.pose.autoOrtho?this.pose.fovDistanceScale():1,r=this.isOrtho()?(0,i.aH)(e,t,t/(2*this.orthoZoom()),s,this._orthoMatrix):this._perspectiveMatrix.makePerspectiveFov(l.MN*this.fovY(),n,i.oR.near*s,i.oR.far*s);if(this.pose.projection.copy(r),this.transition.active&&this.transition.to.projection)if((0,a.Pp)(this.transition.to.projection)){const n=(0,a.S3)(this.transition.to.projection);this.transition.to.projection.copy((0,i.aH)(e,t,t/(2*n),1))}else{const e=2*l.MN*Math.atan(1/this.transition.to.projection.elements[5]);this.transition.to.projection.makePerspectiveFov(e,n,i.oR.near,i.oR.far)}this.pose.commit()}setAutoOrtho(e){e!==this.pose.autoOrtho&&(this.pose.setAutoOrtho(e),e?this.pose.applyPhiBasedFovSquish():this.pose.unapplyPhiBasedFovSquish(),this.pose.commit())}setBaseProjection(e){this._baseProjection=e}get width(){return this._width}get height(){return this._height}get screenDiagonalPx(){return Math.sqrt(this.width*this.width+this.height*this.height)}get baseFovY(){return this._baseFovY}aspect(){return this.pose.aspect()}fovY(){return this.pose.fovY()}fovX(){return this.pose.fovX()}isOrtho(){return this.pose.isOrtho()}baseZoom(){return this.pose.projection.elements[0]/2}defaultZoom(){return(0,a.Pp)(this._baseProjection)?(0,a.S3)(this._baseProjection):this.perspectiveZoom()}zoom(){return this.isOrtho()?this.orthoZoom():this.perspectiveZoom()}orthoZoom(){const e=(0,a.S3)(this.pose.projection);return isNaN(e)?this._lastOrthoZoom:(this._lastOrthoZoom=e,e)}perspectiveZoom(){return this.baseFovY/this.fovY()}copyTransition(e){this.transition.active=e.active,this.transition.activeInternal=e.activeInternal,this.transition.type=e.type,this.transition.startTime=e.startTime,this.transition.duration=e.duration,this.transition.rotationDelay=e.rotationDelay,this.transition.rotationDuration=e.rotationDuration,this.transition.matrixDelay=e.matrixDelay,this.transition.matrixDuration=e.matrixDuration,e.progress&&this.transition.progress.copy(e.progress),e.blackoutProgress&&this.transition.blackoutProgress.copy(e.blackoutProgress),e.from&&m(e.from,this.transition.from),e.to&&m(e.to,this.transition.to),this.transition.promise=e.promise}canTransition(){return!this.transition.active}clone(){const e=new g(this.width,this.height);return e.copy(this),e}copy(e){this.pose.position.copy(e.pose.position),this.pose.rotation.copy(e.pose.rotation),this.pose.focalDistance=e.pose.focalDistance,this.pose.projection.copy(e.pose.projection),this.pose.commit(),this._baseFovY=e.baseFovY,this.copyTransition(e.transition),this.transition.commit(),this._width=e.width,this._height=e.height}shallowIsEqual(e){return this.pose.position.equals(e.pose.position)&&this.pose.rotation.equals(e.pose.rotation)&&this.pose.projection.equals(e.pose.projection)&&this.pose.focalDistance===e.pose.focalDistance&&this.baseFovY===e.baseFovY}isEqual(e){return this.shallowIsEqual(e)&&this.transitionIsEqual(e.transition)}transitionIsEqual(e){return this.transition.active===e.active&&this.transition.type===e.type&&this.transition.progress.equals(e.progress)&&this.transition.blackoutProgress.equals(e.blackoutProgress)&&this.transition.rotationDelay===e.rotationDelay&&this.transition.rotationDuration===e.rotationDuration&&this.transition.matrixDelay===e.matrixDelay&&this.transition.matrixDuration===e.matrixDuration&&this.transition.activeInternal===e.activeInternal&&r(this.transition.from.position,e.from.position)&&r(this.transition.from.rotation,e.from.rotation)&&r(this.transition.from.projection,e.from.projection)&&r(this.transition.to.position,e.to.position)&&r(this.transition.to.rotation,e.to.rotation)&&r(this.transition.to.projection,e.to.projection)&&this.transition.startTime===e.startTime&&this.transition.duration===e.duration}}},18596:(e,t,n)=>{"use strict";n.d(t,{AN:()=>r,aH:()=>a,oR:()=>s});var i=n(31546);const s={fov:75,near:.1,far:3e3,minFov:.1},r=(e,t)=>(t||(t=new i.M),t.makePerspectiveFov(s.fov,e,s.near,s.far)),a=(e,t,n=1,r=1,a)=>{a||(a=new i.M);const o=e/2,l=t/2,c=a.makeOrthographic(-o,o,l,-l,s.near*r,s.far*r);return c.elements[0]*=n,c.elements[5]*=n,c}},83141:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TRANSITION_DISTANCE_MULTIPLIER:()=>I,baseTransitionSpeedKey:()=>k,default:()=>P});var i=n(81396);var s=n(93411),r=n(73121),a=n(56692),o=n(97542),l=n(9037),c=n(98010);class d extends c.v0{constructor(e,t){super(),this.from=t,this.to=e,this.timestamp=Date.now()}}class u extends d{}var h=n(46950),p=n(23885),m=n(65636),f=n(34029),g=n(5332),v=n(49827),b=n(26256),y=n(64918),E=n(42147),S=n(41753);class O extends S.f{constructor(e="Unhandled Camera Exception"){super(e),this.name="CameraTransitionException"}}class T extends S.f{constructor(e="Cannot move while the camera is already moving"){super(e),this.name="CameraTransitionException"}}var _=n(35895);class w{constructor(e,t){this.proxy=e,this.target=t}updateCameraPose(e){this.proxy.activeSession(this)&&this.target.updateCameraPose(e)}beginExternalTransition(){this.proxy.activeSession(this)&&this.target.beginExternalTransition()}endExternalTransition(){this.proxy.activeSession(this)&&this.target.endExternalTransition()}updateCameraPosition(e){this.proxy.activeSession(this)&&this.target.updateCameraPosition(e)}updateCameraRotation(e){this.proxy.activeSession(this)&&this.target.updateCameraRotation(e)}updateCameraFocus(e){this.proxy.activeSession(this)&&this.target.updateCameraFocus(e)}updateCameraProjection(e){this.proxy.activeSession(this)&&this.target.updateCameraProjection(e)}moveTo(e){return this.proxy.activeSession(this)?this.target.moveTo(e):h.Q.resolve()}}class N{constructor(e,t){this.controller=e,this.data=t,this.proxies=[]}get pose(){return this.data}activeSession(e){if(0===this.proxies.length)return!1;return this.proxies[this.proxies.length-1].controller===e}newSession(e){let t=null;if(-1!==this.proxies.findIndex((t=>t.requester===e)))throw new Error("Cannot create two sessions with the same requester");return(0,_.k1)((()=>{if(!t){if(this.proxies.length>0){const e=this.proxies[this.proxies.length-1];e.requester.onAccessRevoked(e.controller)}t=new w(this,this.controller),this.proxies.push({controller:t,requester:e}),e.onAccessGranted(t)}}),(()=>{if(t){const e=this.proxies.findIndex((e=>e.controller===t));if(-1!==e){const t=this.proxies[e],n=e===this.proxies.length-1;if(n&&t.requester.onAccessRevoked(t.controller),this.proxies.splice(e,1),this.proxies.length>0&&n){const e=this.proxies[this.proxies.length-1];e.requester.onAccessGranted(e.controller)}}}}))}}const A={[y.n.Instant]:{blackoutTime:0,transitionTime:0},[y.n.FadeToBlack]:{blackoutTime:m.ZP.camera.transitionBlackoutTime,transitionTime:2*m.ZP.camera.transitionBlackoutTime},[y.n.Interpolate]:{blackoutTime:0,transitionTime:m.ZP.camera.transitionFadeTime},[y.n.MoveToBlack]:{blackoutTime:m.ZP.camera.transitionBlackoutTime,transitionTime:m.ZP.camera.transitionFadeTime}},I=166,k="Transition time";class P extends o.Y{constructor(){super(...arguments),this.name="camera-data",this.transitionSpeed=m.ZP.camera.transitionSpeed,this.baseTransitionTime=m.ZP.camera.baseTransitionTime,this.eulerCache=new i.Euler,this.quaternionCache=new i.Quaternion,this.alwaysAutoOrtho=!1}async init(e,t){this.alwaysAutoOrtho=!!e.alwaysAutoOrtho,this.engine=t,this.market=t.market,this.canvas=await t.market.waitForData(g.W),this.cameraData=new l.M(this.canvas.width,this.canvas.height),this.alwaysAutoOrtho&&this.cameraData.setAutoOrtho(!0),this.market.register(this,l.M,this.cameraData),this.cameraPoseProxy=((e,t)=>new N(e,t))(this,this.cameraData.pose),t.market.waitForData(f.e).then((e=>{this.bindings.push(e.onPropertyChanged(k,(e=>{this.baseTransitionTime=e})),t.commandBinder.addBinding(E.Nb,(async()=>{this.cameraData.setAutoOrtho(!0)})),t.commandBinder.addBinding(E.qK,(async()=>{this.alwaysAutoOrtho||this.cameraData.setAutoOrtho(!1)})))})),this.bindings.push(t.commandBinder.addBinding(E.LR,(async()=>this.resetPitch())),t.subscribe(a.a,(e=>this.cameraData.setCameraDimensions(e.width,e.height))))}onUpdate(e){}fromPose(e=!1){const t=this.cameraData.pose;return{position:e?t.fovCorrectedPosition().clone():t.position.clone(),rotation:t.rotation.clone(),projection:t.projection.clone(),focalDistance:e?t.fovCorrectedFocalDistance():t.focalDistance}}updateCameraPosition(e){this.cameraData.pose.position.copy(e),this.cameraData.pose.commit()}updateCameraProjection(e){this.cameraData.pose.projection.copy(e),this.cameraData.pose.commit()}updateCameraFocus(e){this.cameraData.pose.focalDistance=e,this.cameraData.pose.commit()}updateCameraRotation(e){this.cameraData.pose.rotation.copy(e),this.cameraData.pose.commit()}updateCameraPose(e){this.cameraData.pose.copy(e),this.cameraData.pose.commit()}resetPitch(){this.eulerCache.setFromQuaternion(this.cameraData.pose.rotation,"YXZ"),this.eulerCache.x=0,this.eulerCache.z=0,this.quaternionCache.setFromEuler(this.eulerCache),this.updateCameraRotation(this.quaternionCache)}canTransition(){return this.cameraData.canTransition()}moveTo(e){if(!this.canTransition())return h.Q.reject(new T("Tried to start transition while another transition was active"));const t=A[e.transitionType],n=e.pose.rotation,i=e.pose.position;let s=e.projection;e.autoOrtho?s=void 0:e.pose.zoom&&(s&&(0,r.Pp)(s)||this.cameraData.isOrtho())&&(s=this.adjustProjectionZoom(s||this.cameraData.pose.projection.clone(),e.pose.zoom));const a=void 0!==e.blackoutTime?e.blackoutTime:t.blackoutTime,o=e.transitionType,l=e.transitionSpeedMultiplier?1/e.transitionSpeedMultiplier:1;let c=o===y.n.Instant?0:e.transitionTime;if(void 0===c)if(e.transitionType===y.n.Interpolate&&i){const e=i.distanceTo(this.cameraData.pose.position);c=this.baseTransitionTime+Math.log2(1+e)*I*this.transitionSpeed*l}else c=t.transitionTime;const p=this.fromPose(!!e.autoOrtho);this.beginInternalTransition({transitionType:o,transitionTime:c,blackoutTime:a,pose:{position:i,rotation:n},autoOrtho:!!e.autoOrtho,projection:s,easing:e.easing,rotationDelay:e.rotationDelay||0,rotationDuration:e.rotationDuration||1,matrixDelay:e.matrixDelay||0,matrixDuration:e.matrixDuration||1,focalDistance:e.focalDistance||p.focalDistance});const m={position:e.pose.position?e.pose.position.clone():void 0,rotation:e.pose.rotation?e.pose.rotation.clone():void 0,projection:e.projection?e.projection.clone():void 0,focalDistance:e.focalDistance?e.focalDistance:void 0};this.engine.broadcast(new d(m,p));const f=this.cameraData.transition.promise;if(!f)return h.Q.reject(new O("Expected promise to have been created."));const g=this.progressInternalTransition.bind(this),E=this.endInternalTransition.bind(this),S=this;return f.notify(0),this.engine.startGenerator((function*(){let t=16;for(t>=S.cameraData.transition.duration&&(f.notify(.5),yield new b.Jj);t<S.cameraData.transition.duration;){g(t,a);const e=(0,v.uZ)(t/S.cameraData.transition.duration,0,1);f.notify(e),yield new b.Jj,t=16+Date.now()-S.cameraData.transition.startTime}E(e.transitionType),S.cameraData.commit(),f.notify(1),f.resolve(),S.engine.broadcast(new u(m,p))})),f.promise()}get transitionActive(){return this.cameraData.transition.active}setBaseProjection(e){this.cameraData.setBaseProjection(e)}async cancelTransition(){if(this.cameraData.transition.active)return new Promise((e=>{(0,l.r)(this.cameraData.pose,this.cameraData.transition.to,!1);const t=Date.now()-this.cameraData.transition.startTime;this.cameraData.transition.duration=t,this.cameraData.transition.progress.stop(1),this.cameraData.pose.commit(),this.cameraData.transition.commit();const n=this.cameraData.transition.onPropertyChanged("active",(t=>{t||(n&&n.cancel(),e())}))}))}updateTransitionSpeed(e){if(this.cameraData.transition.active){const t=Date.now(),n=t-this.cameraData.transition.startTime,i=n/e,s=this.cameraData.transition.progress,r=(s.duration-n)/e+i;this.cameraData.transition.duration=r,this.cameraData.transition.startTime=t-i,s.modifyAnimation(s.value,s.endValue,r,s.easing,i),this.cameraData.transition.commit()}}beginExternalTransition(){this.cameraData.transition.activeInternal||(this.cameraData.transition.startTime=Date.now(),this.cameraData.transition.active=!0,this.cameraData.transition.promise=new h.Q,this.cameraData.transition.commit())}endExternalTransition(){var e;this.cameraData.transition.activeInternal||(this.cameraData.transition.active=!1,null===(e=this.cameraData.transition.promise)||void 0===e||e.resolve(),this.cameraData.transition.commit())}beginInternalTransition(e){const t=e.transitionTime||0;if(this.cameraData.transition.startTime=Date.now(),this.cameraData.transition.duration=t,this.cameraData.transition.active=!0,this.cameraData.transition.promise=new h.Q,this.cameraData.transition.activeInternal=!0,this.cameraData.transition.type=e.transitionType,this.cameraData.transition.progress.modifyAnimation(0,1,t,e.easing||p.to),this.cameraData.transition.rotationDelay=e.rotationDelay||0,this.cameraData.transition.rotationDuration=e.rotationDuration||1,this.cameraData.transition.matrixDelay=e.matrixDelay||0,this.cameraData.transition.matrixDuration=e.matrixDuration||1,this.cameraData.transition.autoOrtho=!!e.autoOrtho,e.transitionType===y.n.FadeToBlack&&this.cameraData.transition.blackoutProgress.modifyAnimation(0,1,e.blackoutTime,p.vG),e.transitionType===y.n.MoveToBlack){const e=500;this.cameraData.transition.blackoutProgress.modifyAnimation(0,1,t-2*e,p.aB,0,e)}this.cameraData.transition.from=this.fromPose(!!e.autoOrtho),this.cameraData.transition.to.position=e.pose.position?e.pose.position.clone():void 0,this.cameraData.transition.to.rotation=e.pose.rotation?e.pose.rotation.clone():void 0,this.cameraData.transition.to.projection=e.projection?e.projection.clone():void 0,this.cameraData.transition.to.focalDistance=e.focalDistance?e.focalDistance:void 0,this.cameraData.transition.commit()}progressInternalTransition(e,t){if(this.cameraData.transition.active){if(this.cameraData.transition.progress.updateAbsolute(e),this.cameraData.transition.type===y.n.Interpolate)this.updateInterpolateTransition();else if(this.cameraData.transition.type===y.n.FadeToBlack){let n=0;const i=this.cameraData.transition.duration;e<=t?n=e:((0,l.r)(this.cameraData.transition.to,this.cameraData.pose,!1),n=e>=i-t?i-e:t),this.cameraData.transition.blackoutProgress.updateAbsolute(n),this.cameraData.transition.progress.updateAbsolute(e<=t?0:i)}else if(this.cameraData.transition.type===y.n.MoveToBlack){const t=this.cameraData.transition.blackoutProgress;this.updateInterpolateTransition(),t.updateAbsolute(e-t.delay)}this.cameraData.pose.commit(),this.cameraData.transition.commit()}}updateInterpolateTransition(){const e=this.cameraData.transition.from,t=this.cameraData.transition.to;if(t.position&&e.position&&this.cameraData.pose.position.copy(e.position).lerp(t.position,this.cameraData.transition.progress.value),t.focalDistance&&e.focalDistance&&(this.cameraData.pose.focalDistance=(0,s.t)(e.focalDistance,t.focalDistance,this.cameraData.transition.progress.value)),t.rotation&&e.rotation){const n=(0,p.e3)(this.cameraData.transition.progress.easing,this.cameraData.transition.progress.value,this.cameraData.transition.progress.elapsed,this.cameraData.transition.progress.duration*this.cameraData.transition.rotationDuration,this.cameraData.transition.rotationDelay);this.cameraData.pose.rotation.copy(e.rotation).slerp(t.rotation,n)}if(this.cameraData.transition.autoOrtho)this.cameraData.pose.resetProjMatrix(),this.cameraData.pose.applyPhiBasedFovSquish();else if(t.projection&&e.projection){const n=(0,p.e3)(p.w2,this.cameraData.transition.progress.value,this.cameraData.transition.progress.elapsed,this.cameraData.transition.progress.duration*this.cameraData.transition.matrixDuration,this.cameraData.transition.matrixDelay);!function(e,t,n,i){const s=i.elements,r=e.elements,a=t.elements;for(let e=0;e<16;e++)s[e]=r[e]*(1-n)+a[e]*n}(e.projection,t.projection,n,this.cameraData.pose.projection)}}endInternalTransition(e){(0,l.r)(this.cameraData.transition.to,this.cameraData.pose,!1),this.cameraData.transition.autoOrtho&&(this.cameraData.pose.resetProjMatrix(),this.cameraData.pose.applyPhiBasedFovSquish()),this.cameraData.transition.type=null,this.cameraData.transition.active=!1,this.cameraData.transition.activeInternal=!1,this.cameraData.transition.progress.stop(1),e!==y.n.FadeToBlack&&e!==y.n.MoveToBlack||this.cameraData.transition.blackoutProgress.stop(0),this.cameraData.pose.commit(),this.cameraData.transition.commit()}adjustProjectionZoom(e,t){const n=1/t;return e.elements[0]=n/this.canvas.aspectRatio,e.elements[5]=n,e}}},64918:(e,t,n)=>{"use strict";var i;n.d(t,{n:()=>i}),function(e){e[e.Instant=0]="Instant",e[e.FadeToBlack=1]="FadeToBlack",e[e.Interpolate=2]="Interpolate",e[e.MoveToBlack=3]="MoveToBlack"}(i||(i={}))},65636:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r,y4:()=>a});var i=n(57053),s=n(64918);const r=Object.freeze({camera:{transitionBlackoutTime:300,transitionFadeTime:800,baseTransitionTime:200,transitionSpeed:3}}),a={[i.s.Desktop]:s.n.Interpolate,[i.s.Mobile]:s.n.Interpolate,[i.s.VrOrientOnly]:s.n.FadeToBlack,[i.s.VrWithController]:s.n.FadeToBlack,[i.s.VrWithTrackedController]:s.n.FadeToBlack}},59370:(e,t,n)=>{"use strict";n.d(t,{D_:()=>o,Eb:()=>p,Kh:()=>u,bD:()=>a,fi:()=>h,q9:()=>r,st:()=>d,z5:()=>c});var i=n(81396),s=n(90304);const r=(()=>{const e=new i.Matrix4,t=new i.Matrix4;return(n,s,r,a)=>(r=r||new i.Vector2,a=a||new i.Vector3,l(n.pose,t),e.copy(t),e.invert(),a.set(s.x,s.y,s.z).applyMatrix4(e).applyMatrix4(n.pose.projection.asThreeMatrix4()),h(n.width,n.height,a,r),{screenPosition:r,ndcPosition:a})})(),a=(()=>{const e=new i.Vector3,t=new i.Vector2;return(n,i,s,r,a,l)=>(e.copy(o(n,i,s,l)),h(r,a,e,t),t)})(),o=(()=>{const e=new i.Matrix4,t=new i.Matrix4,n=new i.Vector3;return(i,r,a,o)=>(e.compose(r,a,s.fU.UNIT),t.copy(e),t.invert(),n.copy(i).applyMatrix4(t).applyMatrix4(o),n)})(),l=(e,t)=>(t=t||new i.Matrix4).compose(e.position,e.rotation,s.fU.UNIT),c=(e,t,n,s,r)=>((r=r||new i.Vector2).x=e/n*2-1,r.y=-t/s*2+1,r),d=(e,t,n=.5,s)=>((s=s||new i.Vector3).x=t.x,s.y=t.y,s.z=n,u(e.pose,s)),u=(()=>{const e=new i.Matrix4,t=new i.Matrix4;return(n,s,r)=>((r=r||new i.Vector3).copy(s),t.copy(n.projection.asThreeMatrix4()),t.invert(),l(n,e),r.applyMatrix4(t).applyMatrix4(e))})(),h=(e,t,n,s)=>((s=s||new i.Vector2).set((n.x+1)*e/2,(1-n.y)*t/2),s),p=e=>Math.abs(e)<1e-8},55318:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,O:()=>r});var i=n(95882),s=n(67992);class r extends s.V{constructor(e,t,n){super(),this.name="cam-start",this.moveCameraOnViewChange=!0,this.icon=e,this.thumb=t,this.pose=new a,n&&this.pose.copy(n)}copy(e,t=!1){var n;return this.icon=e.icon,t?e.thumb&&(null===(n=this.thumb)||void 0===n||n.refreshFrom(e.thumb)):this.thumb=e.thumb,this.pose.copy(e.pose),this}getStartingPose(){return this.deepLinkPose||this.pose}get hasCameraPose(){return this.pose&&this.pose.camera&&void 0!==this.pose.camera.position}}class a{constructor(e=i.Ey.Panorama,t,n,s,r,a){this.mode=e,this.camera={position:t||void 0,rotation:n||void 0,zoom:s||void 0},this.pano=r||{uuid:void 0},this.floorVisibility=a||void 0}copy(e){return this.camera.position=o(e.camera.position,this.camera.position),this.camera.rotation=o(e.camera.rotation,this.camera.rotation),this.camera.zoom=e.camera.zoom,this.pano.uuid=e.pano.uuid?e.pano.uuid.slice():void 0,this.mode=e.mode,this.floorVisibility=e.floorVisibility?e.floorVisibility.slice():void 0,this}}const o=(e,t)=>e&&t?t.copy(e):e&&!t?e.clone():void 0},7159:(e,t,n)=>{"use strict";n.d(t,{K:()=>u});var i=n(81396),s=n(95882),r=n(59279),a=n(97998),o=n(2569),l=n(44237);const c=new a.Z("navurl");class d extends Error{constructor(e,t){super(`view mode ${e} is invalid${t?` when ${t}`:""}`)}}class u{static encodeVector3(e,t=2){const{x:n,y:i,z:s}=e;return u.packFloats([n,i,s],t)}static decodeVector3(e){const t=u.unpackFloats(e,3);return t?new i.Vector3(...t):null}static encodeQuaternion(e,t=2){return u.packFloats([e.x,e.y,e.z,e.w],t)}static decodeQuaternion(e){const t=u.unpackFloats(e,4);return t&&!(0,l.mB)(t)?new i.Quaternion(...t):null}static encodeEuler(e,t=2){return u.packFloats([e.x,e.y,e.z],t)}static decodeEuler(e){const t=u.unpackFloats(e,3);return t?new i.Euler(t[0],t[1],t[2],"XYZ"):void 0}static packFloats(e,t=2){let n=e.map((e=>{const n=parseFloat(e.toFixed(t)).toString().replace(/^(\-)?0+.(\d+)/,"$1.$2");return"0"===n?"":n})).join(",");return n=n.replace(/,+$/,""),n}static unpackFloats(e,t=0){const n=e.split(",").map((e=>""===e?0:parseFloat(e)));if(!n||n.includes(NaN))return[];for(;n.length<t;)n.push(0);return n}static getQueryString(e,t=!0){return u.serialize(e,t).toString()}static serialize(e,t=!0){const n=u.removeNavigationKeys();try{if(t){const t=u.getShortPose(e);for(const[e,i]of Object.entries(t))n.set(e,i)}else{const t=u.getStartPose(e),i=JSON.stringify(t);n.set("start",i)}}catch(e){c.debug(e)}return n}static deserialize(e=window.location.href){try{const t=new URL(e.trim()).searchParams,n=t.get("start");return n?u.parseStartObject(n):u.parseShortUrl(t)}catch(e){c.debug(e)}return null}static removeNavigationKeys(){const e=(0,r.kD)();for(const t of u.navigationKeys)e.delete(t);return e}static get navigationKeys(){return new Set(["start","sm","sp","sq","sr","ss","sf","sz"])}static parseShortUrl(e){const t=e.get("sm"),n=e.get("sp"),r=e.get("sq"),a=e.get("sr"),l=e.get("ss"),h=e.get("sf"),p=e.get("sz"),m=u.parseViewmode(t),f=u.decodeEuler(a||"")||new i.Euler(0,0,0),g=u.decodeQuaternion(r||"")||new i.Quaternion(0,0,0,1),v=n?u.decodeVector3(n):void 0,b=l?parseInt(l,10)-1:void 0,y=h?u.unpackFloats(h,4):void 0,E=p?parseFloat(p):void 0;if((0,s.Bw)(m)&&void 0===b)throw new d(m,"sweep index not defined");if(!(0,s.Bw)(m)&&!v)throw new d(m,"position is falsy");let S=r?g:(new i.Quaternion).setFromEuler(f);(0,s.Bw)(m)&&(S=(0,o.Z)(S));const O={mode:m,quaternion:S,position:v||void 0,sweepIndex:b,floorVisibility:y,zoom:E};return c.debug("Parsed short URL pose data:",O),O}static parseStartObject(e){const t=JSON.parse(decodeURIComponent(e));if(!t.camera_quaternion)throw Error("Start override is missing camera_quaternion");if(!t.camera_position)throw Error("Start override is missing camera_position");const n=u.parseViewmode(t.camera_mode),s=(new i.Quaternion).copy(t.camera_quaternion),r={mode:n,panoId:t.scan_id,position:(new i.Vector3).copy(t.camera_position),quaternion:s,zoom:t.ortho_zoom,floorVisibility:t.floor_visibility};return c.debug("Parsed &start URL pose data:",r),r}static getShortPose({cameraData:e,viewmodeData:t,floorsViewData:n,sweepData:r}){const a=(new i.Euler).setFromQuaternion(e.pose.rotation,"XYZ"),o=r.currentSweepIndex,l={};if(t.isInside())a.z=0,l.sr=u.encodeEuler(a),void 0!==o&&(l.ss=o+1),t.currentMode===s.Ey.Mesh&&(l.sm=u.validateViewmode(t.currentMode));else{l.sm=u.validateViewmode(t.currentMode),l.sr=u.encodeEuler(a),l.sp=u.encodeVector3(e.pose.position);const i=n.getFloorsVisibility();i.length&&n.totalFloors>1&&(l.sf=i)}return t.currentMode===s.Ey.Floorplan&&(l.sz=parseFloat(e.zoom().toFixed(2))),l.sq=u.encodeQuaternion(e.pose.rotation),c.debug(`Short URL params for current location ${JSON.stringify(l)}`),delete l.sq,l}static getStartPose({cameraData:e,viewmodeData:t,floorsViewData:n,sweepData:i}){const r={x:0,y:0,z:0,w:1};r.x=e.pose.rotation.x,r.y=e.pose.rotation.y,r.z=e.pose.rotation.z,r.w=e.pose.rotation.w;const a={x:0,y:0,z:0};a.x=e.pose.position.x,a.y=e.pose.position.y,a.z=e.pose.position.z;const o={camera_mode:u.validateViewmode(t.currentMode),camera_position:a,camera_quaternion:r};return t.isInside()?o.scan_id=i.currentSweep:o.floor_visibility=n.getFloorsVisibility(),t.currentMode===s.Ey.Floorplan&&(o.ortho_zoom=e.zoom()),o}static parseViewmode(e){let t=u.DEFAULT_VIEW_MODE;return null!=e&&(t=parseInt(e,10)),u.validateViewmode(t)}static validateViewmode(e){if(null===e||!u.VALID_URL_VIEW_MODES.includes(e))throw new d(e);return e}}u.DEFAULT_VIEW_MODE=s.Ey.Panorama,u.VALID_URL_VIEW_MODES=[s.Ey.Panorama,s.Ey.Dollhouse,s.Ey.Floorplan,s.Ey.Outdoor,s.Ey.Mesh]},71102:(e,t,n)=>{"use strict";n.d(t,{D:()=>r,n:()=>s});var i=n(19663);class s extends i.m{constructor(e){super(),this.payload={snapshotSid:e}}}s.id="SET_CAMERA_START";class r extends i.m{constructor(e){super(),this.payload={moveCamera:e}}}r.id="SET_MOVE_CAMERA_ON_VIEW_CHANGE"},94194:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var i=n(68717),s=n(92810),r=n(55318),a=n(97542),o=n(7159),l=n(95882),c=n(98010);class d extends c.v0{constructor(e){super(),this.is360=e}}var u=n(67992),h=n(15637);class p extends u.V{constructor(){super(),this.name="start-location-view-data",this.startLocationsObservable=(0,h.q)()}setStartLocations(e){this.atomic((()=>{this.startLocationsObservable.clear(),e.forEach((e=>{this.addStartLocationForView(e.sweepId,e.viewId)}))}))}getStartLocationsForSweep(e){return this.startLocationsObservable.get(e)||[]}isStartLocation(e){return this.startLocationsObservable.has(e)}isStartLocationForView(e,t){return this.getStartLocationsForSweep(e).includes(t)}onStartLocationSweepsChanged(e){return this.startLocationsObservable.onChanged(e)}addStartLocationForView(e,t){const n=this.startLocationsObservable.get(e);n?n.push(t):this.startLocationsObservable.set(e,[t])}}var m=n(45059),f=n(53954),g=n(2569),v=n(79728),b=n(635),y=n(17788),E=n(64927),S=n(97998),O=n(91431);class T{serialize(e){return{image:e.sid}}}const _=new S.Z("mds-camera-start-store");class w extends y.u{constructor(e,t){super(e),this.baseModelId=t,this.deserializer=new O.f,this.serializer=new T,this.prefetchKey="data.model.image"}async read(e){var t,n;const i={modelId:this.getViewId()},s=await this.query(E.GetModelImage,i,e),r=null===(n=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.image;return{image:(null==r?void 0:r.id)||"",snapshot:this.deserializer.deserialize(r)}}async update(e){const t=this.getViewId(),n=this.serializer.serialize(e);if(0===Object.keys(n).length)throw new Error("No data to update?");return this.mutate(E.PatchModel,{modelId:t,patch:n}).then((e=>{_.debug(e)}))}async getStartLocationSweeps(){var e,t;const n={modelId:this.baseModelId},i=null===(t=null===(e=(await this.query(E.GetStartLocations,n,{fetchPolicy:"no-cache"})).data)||void 0===e?void 0:e.model)||void 0===t?void 0:t.views,s=[];return i&&i.forEach((e=>{var t,n,i,r;const a=null===(r=null===(i=null===(n=null===(t=e.model)||void 0===t?void 0:t.image)||void 0===n?void 0:n.snapshotLocation)||void 0===i?void 0:i.anchor)||void 0===r?void 0:r.id;a&&s.push({viewId:e.id,sweepId:a})})),s}}var N=n(71102),A=n(56367),I=n(80742),k=n(80008);class P extends a.Y{constructor(){super(...arguments),this.name="camera-start",this.store=null,this.duplicateViewData=new r.O(void 0,new A.n("",new Date)),this.processData=async e=>{var t,n,i;let s,a;const o=e.image,l=e.snapshot;if(l?(s=this.buildCameraStart(l),a=l.thumbnailUrl):o&&(await this.snapshotDataLoadPromise,s=null!==(t=this.getIconStartPose(o))&&void 0!==t?t:void 0,a=this.getIconThumbnail(o)),s||(s=null!==(n=this.getStartFallback())&&void 0!==n?n:void 0),null===(i=null==s?void 0:s.pano)||void 0===i?void 0:i.uuid){const e=this.sweepData.getSweep(s.pano.uuid);e&&!e.enabled&&(this.log.warn(`Enabled hidden start sweep ${s.pano.uuid}`),e.enabled=!0,e.commit())}this.data.atomic((()=>{this.data.icon=o,a&&this.data.thumb?this.data.thumb.refreshFrom(a):(this.data.thumb=a,a&&(a.onStale=async()=>{var e;await(null===(e=this.store)||void 0===e?void 0:e.refresh())})),this.data.pose.copy(null!=s?s:new r.B)})),this.data.commit()},this.beforeViewDuplicate=async()=>{this.duplicateViewData.copy(this.data,!0)},this.afterViewDuplicate=async()=>{this.data.copy(this.duplicateViewData,!0),this.data.commit(),await this.save()}}async init(e,t){const{readonly:n,baseUrl:a,baseModelId:l}=e,{commandBinder:c,market:d}=t,[u,h,g]=await Promise.all([t.getModuleBySymbol(s.Lx),d.waitForData(f.Z),d.waitForData(I.R)]);this.storage=u,this.sweepData=h,this.data=new r.O,this.engine=t,this.snapshotDataLoadPromise=d.waitForData(i.P).then((e=>{this.snapshotsData=e}));const b=o.K.deserialize();if(b){const e=(0,m.J)(b,this.sweepData);(0,m.l)(e,this.sweepData)?(this.data.deepLinkPose=new r.B,this.data.deepLinkPose.copy(e),this.log.debug("Starting Camera Pose",this.data.deepLinkPose)):this.log.error("Invalid start pose",e)}this.bindings.push(c.addBinding(N.n,(async e=>this.updateStartLocationFromSnapshot(e.snapshotSid))),c.addBinding(N.D,(async e=>{this.data.moveCameraOnViewChange=e.moveCamera}))),this.store=new w({context:g.mdsContext,readonly:n,baseUrl:a},l),this.store.onNewData(this.processData),await this.store.refresh(),n||this.bindings.push(this.storage.onSave((()=>this.save()),{dataType:v.g.START_LOCATION})),this.duplicateViewHelper={beforeDuplicate:this.beforeViewDuplicate,afterDuplicate:this.afterViewDuplicate},c.issueCommand(new k.Ch(this.duplicateViewHelper)),t.market.register(this,r.O,this.data),this.startLocationViewData=new p,n?t.market.register(this,p,this.startLocationViewData):this.fetchAllStartLocations().then((()=>{t.market.register(this,p,this.startLocationViewData)}))}dispose(e){e.commandBinder.issueCommand(new k.EO(this.duplicateViewHelper))}async updateStartLocationFromSnapshot(e){const t=this.snapshotsData.get(e),n=this.buildCameraStart(t),i=new r.O(t.sid,t.thumbnailUrl,n);this.data.copy(i,!0),this.data.commit(),this.engine.broadcast(new d(t.is360)),await this.engine.commandBinder.issueCommand(new b.V({dataTypes:[v.g.START_LOCATION]}))}async fetchAllStartLocations(){if(this.store){const e=await this.store.getStartLocationSweeps();this.startLocationViewData.setStartLocations(e)}}async save(){const e=this.data.icon;if(!e||!this.store)return void this.log.warn("Unable to save start location");const t=this.snapshotsData.get(e);this.store.update(t).then((()=>{this.fetchAllStartLocations()}))}buildCameraStart(e){const t={mode:e.metadata.cameraMode,camera:{position:e.metadata.cameraPosition,rotation:e.metadata.cameraQuaternion,zoom:e.metadata.orthoZoom},pano:{}};return(0,l.Bw)(t.mode)&&(t.pano={uuid:e.metadata.scanId}),t.floorVisibility=e.metadata.floorVisibility,t}defaultCameraStart(e){return{mode:l.Ey.Panorama,camera:{position:e.position,rotation:(0,g.Z)(e.rotation),zoom:0},pano:{uuid:e.id}}}getStartFallback(){const e=this.sweepData.getFirstAlignedSweep()||this.sweepData.getFirstSweep();return void 0===e?null:this.defaultCameraStart(e)}getIconStartPose(e){let t=null;return e&&e in this.snapshotsData.collection&&(t=(new r.B).copy(this.buildCameraStart(this.snapshotsData.get(e)))),(0,m.l)(t,this.sweepData)||(t=null),t}getIconThumbnail(e){if(e&&e in this.snapshotsData.collection)return this.snapshotsData.get(e).thumbnailUrl}}},45059:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,l:()=>a});var i=n(95882);const s=new(n(97998).Z)("camera-start-util");function r(e,t){const{mode:n,quaternion:i,position:r,floorVisibility:a,sweepIndex:o,zoom:l}=e;let{panoId:c}=e;if(c&&!t.containsSweep(c)){const e=t.getSweepByUuid(c);e&&(c=e.id)}if(!c&&void 0!==o){const e=t.getSweepByIndex(o);e?c=e.id:s.debug(`Failed to load sweep index ${o}`)}return{mode:n,camera:{position:r,rotation:i,zoom:l},pano:{uuid:c},floorVisibility:a}}function a(e,t){return!!e&&(!(0,i.Bw)(e.mode)||!!e.pano.uuid&&t.containsSweep(e.pano.uuid))}},50575:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,P:()=>i});var i,s=n(19663);!function(e){e.left="left",e.top="top",e.width="width",e.height="height"}(i||(i={}));class r extends s.m{constructor(e){super(),this.name="resize-canvas",this.payload=Object.assign({},e)}}},5332:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var i=n(67992);class s extends i.V{constructor(e,t,n){super(),this.name="canvas",this.x=0,this.y=0,this.width=e||0,this.height=t||0,this.canvas=n||null}get aspectRatio(){const e=this.width/this.height;return isFinite(e)?e:1}}},6819:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n(97542),s=n(5332),r=n(56692),a=n(98010);class o extends a.v0{constructor(e,t){super(),this.x=e,this.y=t}}var l=n(50575),c=n(46950),d=n(19663);class u extends d.m{constructor(e){super(),this.name="screen-to-canvas-point",this.payload=Object.assign({},e)}}var h=n(39880);class p extends d.m{constructor(e,t){super(),this.name="blur-canvas",this.payload={duration:e,pixelBlur:t}}}var m=n(2224),f=n(33102),g=n(9037);class v extends m.y{}const b={[l.P.width]:"width",[l.P.height]:"height",[l.P.top]:"top",[l.P.left]:"left"};class y extends i.Y{constructor(){super(...arguments),this.name="canvas",this.getNewX=()=>0,this.getNewY=()=>0,this.getNewWidth=e=>e.width,this.getNewHeight=e=>e.height,this.activeTransitions=[],this.activeTransitionMap={left:null,top:null,width:null,height:null},this.onResize=e=>{e.propertyName in l.P&&(this.resolveActiveTransition(e.propertyName),this._canvas.style.transitionDuration=this.stringifyTransitionDurations())},this.onContainerResize=()=>{this.transitionDurations.left=this.transitionDurations.top=this.transitionDurations.width=this.transitionDurations.height="0s",this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this.applySize(),this.applyPosition(),this.activeTransitions.forEach(this.resolveActiveTransition.bind(this)),this._canvas.style.transitionDuration=this.stringifyTransitionDurations()},this.resizeCanvas=async e=>{if(0!==e.resizeDimensions.length)return this.cameraData&&!this.cameraData.canTransition()&&await this.cameraData.transition.promise,this.activeTransitions.forEach(this.resolveActiveTransition.bind(this)),e.resizeDimensions.forEach((e=>{const{property:t,setDimension:n,duration:i=0}=e,s=b[t],r=this._canvas.style[s];switch(t){case l.P.height:this.setHeight(n,i);break;case l.P.width:this.setWidth(n,i);break;case l.P.top:this.setY(n,i);break;case l.P.left:this.setX(n,i)}if(this._canvas.style[s]!==r&&i>0){const e=new c.Q;e.then((()=>{clearTimeout(n)}));const n=setTimeout((()=>{this.resolveActiveTransition(t)}),i+500);this.activeTransitionMap[t]=e,this.activeTransitions.push(t)}})),this.hasActiveTransitions()||(this.canvasBounds=this._canvas.getBoundingClientRect()),this.getTransitionPromise()}}async init(e,t){if(this.engine=t,!e.container)throw new v;this.container=e.container,this.container.appendChild(e.canvas),this.containerBounds=this.container.getBoundingClientRect(),this._canvas=e.canvas,this._canvas.style.position="absolute",this._canvas.style.left="0",this._canvas.style.top="0",this.transitionDurations={left:"0s",top:"0s",width:"0s",height:"0s",filter:"0.4s"},this._canvas.style.transitionProperty=Object.keys(this.transitionDurations).join(","),this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this.updateTransitions(),this.bindings.push(t.subscribe(f.B,this.onContainerResize),t.commandBinder.addBinding(l.M,this.resizeCanvas),this.makeTransitionEndSubscription(),t.commandBinder.addBinding(u,(async e=>this.screenToCanvasPoint(e.x,e.y))),t.commandBinder.addBinding(p,this.blur.bind(this)));for(const e of this.bindings)e.renew();this.canvasBounds=this._canvas.getBoundingClientRect(),this.containerBounds=this.container.getBoundingClientRect(),this.data=new s.W(this.canvasBounds.width,this.canvasBounds.height,this._canvas),t.market.register(this,s.W,this.data),this.cameraData=await this.engine.market.waitForData(g.M)}makeTransitionEndSubscription(){let e=!1;return{renew:()=>{e||(this.element.addEventListener("transitionend",this.onResize),e=!0)},cancel:()=>{e&&(this.element.removeEventListener("transitionend",this.onResize),e=!1)}}}dispose(e){super.dispose(e)}get element(){return this._canvas}get width(){return this.canvasBounds.width}get height(){return this.canvasBounds.height}get x(){return this.canvasBounds.left}get y(){return this.canvasBounds.top}onUpdate(){const e=this.container.getBoundingClientRect(),t=this.containerHasChanged(e);t&&(this.containerBounds=e,this.updateTransitions()),(t||this.hasActiveTransitions())&&(this.canvasBounds=this._canvas.getBoundingClientRect());const n=this.data.width!==this.width||this.data.height!==this.height,i=this.data.x!==this.x||this.data.y!==this.y;n&&(this.data.width=this.width,this.data.height=this.height,this.data.commit(),this.engine.broadcast(new r.a(this.width,this.height))),i&&(this.data.x=this.x,this.data.y=this.y,this.data.commit(),this.engine.broadcast(new o(this.x-this.containerBounds.left,this.y-this.containerBounds.top)))}containerHasChanged(e){return e.left!==this.containerBounds.left||e.top!==this.containerBounds.top||e.width!==this.containerBounds.width||e.height!==this.containerBounds.height}setX(e,t=0){this.getNewX="number"==typeof e?()=>e:e,this.transitionDurations.left=`${t}ms`,this.updateTransitions()}setY(e,t=0){this.getNewY="number"==typeof e?()=>e:e,this.transitionDurations.top=`${t}ms`,this.updateTransitions()}setWidth(e,t=0){this.getNewWidth="number"==typeof e?()=>e:e,this.transitionDurations.width=`${t}ms`,this.updateTransitions()}setHeight(e,t=0){this.getNewHeight="number"==typeof e?()=>e:e,this.transitionDurations.height=`${t}ms`,this.updateTransitions()}screenToCanvasPoint(e,t){return{x:e-this.x,y:t-this.y}}async blur(e){this.transitionDurations.filter=`${e.duration}ms`,this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this._canvas.style.filter=`blur(${e.pixelBlur}px)`,await(0,h.gw)(e.duration),0===e.pixelBlur&&(this._canvas.style.filter="")}getTransitionPromise(){return Promise.all(this.activeTransitions.map((e=>this.activeTransitionMap[e])).filter((e=>!!e)))}updateTransitions(){this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this.applySize(),this.applyPosition()}applySize(){this._canvas.style.width=`${this.getNewWidth(this.containerBounds)}px`,this._canvas.style.height=`${this.getNewHeight(this.containerBounds)}px`}applyPosition(){this._canvas.style.left=`${this.getNewX(this.containerBounds)}px`,this._canvas.style.top=`${this.getNewY(this.containerBounds)}px`}stringifyTransitionDurations(){return Object.keys(this.transitionDurations).map((e=>this.transitionDurations[e])).join(",")}resolveActiveTransition(e){this.canvasBounds=this._canvas.getBoundingClientRect();const t=this.activeTransitions.indexOf(e);-1!==t&&this.activeTransitions.splice(t,1);const n=this.activeTransitionMap[e];n&&n.resolve(),this.activeTransitionMap[e]=null,this.transitionDurations[e]="0s"}hasActiveTransitions(){return this.activeTransitions.length>0}}},2367:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var i=n(67992),s=n(66594),r=n(37082);class a extends i.V{constructor(e){super(),this.name="container",this.sizeObservable=new r.f({width:0,height:0}),this.orientation=s.t.LANDSCAPE,this.element=e,this.rootNode=e.getRootNode()}get size(){return this.sizeObservable.value}set size(e){this.sizeObservable.value=e}onPropertyChanged(e,t){return"size"===e?this.sizeObservable.onChanged(t):super.onPropertyChanged(e,t)}}},44523:(e,t,n)=>{"use strict";n.d(t,{O:()=>o,P:()=>l});var i=n(73085),s=n(2367),r=n(74554);const a={width:0,height:0};function o(e){return(0,i.v)(s.V,"size",e||a)}const l=(0,r.M)("containerSize",o)},16512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(97542),s=n(2367),r=n(66594),a=n(33102),o=n(91033);class l extends i.Y{constructor(){super(...arguments),this.name="container-data",this.onResize=()=>{const{clientWidth:e,clientHeight:t}=this.data.element;this.data.size={width:e,height:t},this.data.orientation=e>t?r.t.LANDSCAPE:r.t.PORTRAIT,this.data.commit()}}async init(e,t){this.data=new s.V(e.element),t.market.register(this,s.V,this.data),this.resizeObserver=new o.Z(this.onResize),this.resizeObserver.observe(e.element),this.onResize(),this.data.onPropertyChanged("size",(e=>{t.broadcast(new a.B(e.width,e.height))})),this.data.onPropertyChanged("orientation",(e=>{t.broadcast(new a.p(e))}))}dispose(e){e.market.unregister(this,s.V),this.resizeObserver.disconnect(),super.dispose(e)}}},66594:(e,t,n)=>{"use strict";var i;n.d(t,{t:()=>i}),function(e){e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE"}(i||(i={}))},33102:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,p:()=>r});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.width=e,this.height=t}}class r extends i.v0{constructor(e){super(),this.orientation=e}}},29900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(19663);class s extends i.m{constructor(e){super(),this.payload=Object.assign({},e)}}},69739:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.floorId=e,this.floorName=t}}},56159:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.from=e,this.to=t}}},76957:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var i=n(67992),s=n(35895),r=n(15637),a=n(67238);class o extends i.V{constructor(e){super(),this.name="floors",this.floors=(0,r.q)(e)}onNameChange(e){let t=[];return(0,s.k1)((()=>{this.getOrderedValues().forEach(((n,i)=>{t.push(n.onPropertyChanged("name",e))}))}),(()=>{t.forEach((e=>e.cancel())),t=[]}),!0)}getFloor(e){if(!this.floors.has(e))throw new a.H;return this.floors.get(e)}hasFloor(e){return this.floors.has(e)}getFloorAtIndex(e){return this.floors.values.find((t=>t.index===e))}getFloorByMeshGroup(e){return this.floors.values.find((t=>t.meshGroup===e))}getFloorCount(){return this.floors.length}getCollection(){return this.floors}iterate(e){return this.getOrderedValues().forEach(e)}getTopFloor(){const e=this.getOrderedValues();if(!e.length)throw new a.H("Cannot get top floor, model has no floors");return e[e.length-1]}getBottomFloor(){const e=this.getOrderedValues();if(!e.length)throw new a.H("Cannot get bottom floor, model has no floors");return e[0]}getFloorAtHeight(e,t=!1){const n=this.getOrderedValues();t&&n.reverse();for(const t of n){const n=t.boundingBox;if(n.min.y<=e&&e<=n.max.y)return t}const i=this.getBottomFloor();return e<i.boundingBox.min.y?i:this.getTopFloor()}getClosestFloorAtHeight(e){let t,n=1/0;for(const i of this.floors){const s=Math.abs(i.medianSweepHeight()-e);n>s&&(n=s,t=i)}return t}rename(e,t){if(!this.floors.has(e))return;const n=this.floors.get(e);n.name=t,n.commit()}getOrderedValues(){return this.floors.values.sort(((e,t)=>e.index-t.index))}getFloorIdMap(e){const t={};for(const n of this.floors.values)e?t[String(n.index)]=n.id:t[n.id]=String(n.index);return t}}},67238:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var i=n(2224);class s extends i.y{constructor(e="Invalid Floor"){super(e),this.name="InvalidFloorException"}}},79727:(e,t,n)=>{"use strict";n.d(t,{c:()=>v});var i=n(89557),s=n(67992),r=n(38399),a=n(37082),o=n(63252),l=n(75287);class c extends l.T{constructor(){super(...arguments),this.hidden=!1,this.navigable=!0,this.hasEnabledAlignedSweeps=!1,this.hasEnabledUnalignedSweeps=!1}}var d=n(15637),u=n(10385),h=n(54244);class p{constructor(e,t,n,i,s){this.floors=e,this.viewmodeData=t,this.sweepData=n,this.applicationData=i,this.currentFloorObservable=s,this.bindings=[],this.states=new d.v,this._navigableFloorIds=new u.d,this.hasEnabledAlignedSweeps=!1,this.updateFloorSweepData=()=>{const e=this.sweepData;this.isEditMode()||(this.states.values.forEach((e=>{e.hasEnabledAlignedSweeps=!1,e.hasEnabledUnalignedSweeps=!1})),e.iterate((e=>{if(null!==e.floorId){let t=this.getState(e.floorId);t||(t=this.initializeFloorState(e.floorId)),e.alignmentType===o.z9.ALIGNED?t.hasEnabledAlignedSweeps||(t.hasEnabledAlignedSweeps=e.enabled):t.hasEnabledUnalignedSweeps||(t.hasEnabledUnalignedSweeps=e.enabled),t.commit(),this.hasEnabledAlignedSweeps||(this.hasEnabledAlignedSweeps=e.enabled)}}))),this.updateNavigable()},this.updateHidden=()=>{const e=!this.currentFloorId,t=this.isViewingAlignedPano();this.states.keys.forEach((n=>{const i=!!n&&n===this.currentFloorId,s=this.getState(n);s.hidden=!(e||i||t),s.commit()}))},this.updateNavigable=()=>{const e=this.isEditMode(),t=this.isViewingAlignedPano(),n=this.viewmodeData.isDollhouse()||this.viewmodeData.isFloorplan();this.states.keys.forEach((i=>{const s=this.getState(i);s.navigable=!!e||(t?s.hasEnabledAlignedSweeps:!!n||(s.hasEnabledAlignedSweeps||s.hasEnabledUnalignedSweeps)),s.commit()}));const i=[];this.floors.iterate((e=>{this.getState(e.id).navigable&&i.push(e.id)})),this._navigableFloorIds.replace(i)},this.bindings.push(t.makeModeChangeSubscription(this.updateHidden),n.makeSweepChangeSubscription(this.updateHidden),s.onChanged(this.updateHidden),t.makeModeChangeSubscription(this.updateNavigable),n.makeSweepChangeSubscription(this.updateNavigable),i.onPropertyChanged("application",this.updateFloorSweepData)),this.initializeFloorStates(),this.updateFloorSweepData(),this.updateHidden()}getState(e){return this.states.get(e)}get navigableFloorIds(){return this._navigableFloorIds.values()}onNavigableFloorIdsChanged(e){return this._navigableFloorIds.onChanged(e)}isViewingAlignedPano(){return this.viewmodeData.isInside()&&void 0!==this.sweepData.currentAlignedSweepObject}isEditMode(){return this.applicationData.application===h.Mx.WORKSHOP}get currentFloorId(){return this.currentFloorObservable.value?this.currentFloorObservable.value.id:null}initializeFloorStates(){this.floors.iterate((e=>this.initializeFloorState(e.id)))}initializeFloorState(e){const t=new c;return this.states.set(e,t),t}}var m=n(52498);function f(e,t){return e}const g={floorChangesEnabled:()=>!0};class v extends s.V{constructor(e,t,n,s,r,o){super(),this.name="floors-view",this.floorSelectable=!1,this.currentFloorObservable=new a.f(null),this.transitionObservable=new a.f({from:null,to:null,progress:new i.z(0),promise:Promise.resolve()}),this._observableFloorsSelectMode=new a.f(!1),this._observableRoomSelectMode=new a.f(!1),this._showFloorSelection=new a.f(!1),this.onlyShowActiveFloor=new a.f(!1),this.showAllFloorsOption=!0,this.floorSelectHoverEnabled=!0,this.getFloorMin=e=>{const t=e||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(t).bottom},this.getFloorMinPlane=e=>{const t=e||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(t).groundPlane},this.getFloorCentroid=(e,t)=>{const n=t||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(n).boundingBox.getCenter(e)},this.isHidden=e=>"string"==typeof e&&this.stateHelper.getState(e).hidden,this.isNavigable=e=>"string"==typeof e&&this.stateHelper.getState(e).navigable,this.updateViewData=()=>{this.floors.iterate((e=>{this.derivedData[e.id]={id:e.id,index:e.index,name:this.getFloorName(e.id)}})),this.commit()},this.getViewData=e=>{if(!this.derivedData[e]){const t=this.floors.getFloor(e);this.derivedData[e]={id:t.id,index:t.index,name:this.getFloorName(t.id)}}return this.derivedData[e]},this.getAllViewData=()=>{const e=[];return this.floors.iterate((t=>{e.push(this.getViewData(t.id))})),e},this.getFloor=e=>this.floors.getFloor(e),this.floors=e,this.config=null!=o?o:g,this.localize=null!=r?r:f,this.derivedData={},this.stateHelper=new p(e,t,n,s,this.currentFloorObservable),this.updateViewData()}isCurrentOrAllFloors(e){return!e||!this.currentFloorId||e===this.currentFloorId}isCurrentMeshGroupOrAllFloors(e){return this.currentFloorMeshGroup===m.eh||this.currentFloorMeshGroup===e}isCurrentFloorIndexOrAllFloors(e){return this.currentFloorIndex===e||this.currentFloorIndex===m.qE}makeFloorChangeSubscription(e){return this.currentFloorObservable.onChanged(e)}get currentFloor(){return this.currentFloorObservable.value}get currentFloorId(){var e;return(null===(e=this.currentFloorObservable.value)||void 0===e?void 0:e.id)||null}get currentFloorIndex(){return this.currentFloorObservable.value?this.currentFloorObservable.value.index:m.qE}get currentFloorMeshGroup(){return this.currentFloorObservable.value?this.currentFloorObservable.value.meshGroup:m.eh}getFloorIndexForMeshGroup(e){if(e===m.eh)return m.qE;const t=this.floors.getFloorByMeshGroup(e);return t?t.index:m.qE}get bottomFloorId(){return this.floors.getBottomFloor().id}get topFloorId(){return this.floors.getTopFloor().id}get singleFloor(){if(1===this.floors.getFloorCount())return this.floors.getFloorAtIndex(0)}isMultifloor(){return this.floors.getFloorCount()>1}get nearestFloorId(){return this.transitionActive?this.transition.progress.value>.5?this.transition.to:this.transition.from:this.currentFloorId}get nearestFloor(){const e=this.nearestFloorId;return e?this.floors.getFloor(e):void 0}get transitionActive(){return this.transition.progress.active}get transition(){return this.transitionObservable.value}transitionToFloorInstant(e){this.currentFloorObservable.value=e?this.floors.getFloor(e):null,this.commit()}transitionToFloor(e,t,n,i){const s=this.transitionObservable.value.progress;s.modifyAnimation(0,1,n),this.transitionObservable.value={from:e,to:t,progress:s,promise:i},this.commit(),i.then((()=>{this.transitionToFloorInstant(t)}))}get totalFloors(){return this.floorsEnabled?this.floors.getFloorCount():1}hasEnabledAlignedSweeps(e){return null!==e?this.stateHelper.getState(e).hasEnabledAlignedSweeps:this.stateHelper.hasEnabledAlignedSweeps}getNavigableFloorIds(){return this.stateHelper.navigableFloorIds}onNavigableFloorIdsChanged(e){return this.stateHelper.onNavigableFloorIdsChanged(e)}getHighestVisibleFloor(){return this.currentFloor?this.currentFloor:this.floors.getTopFloor()}getHighestVisibleFloorId(){return this.getHighestVisibleFloor().id}getFloorIdMap(){const e={};return this.iterate((t=>{e[t.id]={id:t.id,name:t.name,items:[]}})),e}iterate(e){this.floors.iterate((t=>{const n=this.getViewData(t.id);n&&e(n)}))}getFloorNames(){const e=[];return this.floorsEnabled?(this.floors.iterate((t=>{e[t.index]=this.getFloorName(t.id)})),e):e}getFloorName(e){if(!e)return this.localize(r.Z.FLOOR_ALL);const t=this.floors.getFloor(e);return void 0!==t.name&&""!==t.name?t.name:this.getDefaultFloorName(e)}getDefaultFloorName(e){const t=this.floors.getFloor(e);return this.localize(r.Z.SHOWCASE.FLOORS.DEFAULT_NAME,t.index+1)}getFloorsVisibility(){if(this.currentFloorId){const e=[];return this.floors.iterate((t=>{e[t.index]=t.id===this.currentFloorId?1:0})),e}return[]}get floorsEnabled(){return this.config.floorChangesEnabled()}get floorSelectModeActive(){return this._observableFloorsSelectMode.value}set floorSelectModeActive(e){const t=e&&this.floorsEnabled;t!==this._observableFloorsSelectMode.value&&(this._observableFloorsSelectMode.value=t,this.commit())}onFloorSelectModeChange(e){return this._observableFloorsSelectMode.onChanged(e)}get showFloorSelection(){return this._showFloorSelection.value}set showFloorSelection(e){e!==this._showFloorSelection.value&&(this._showFloorSelection.value=e,this.commit())}onShowFloorSelectionChanged(e){return this._showFloorSelection.onChanged(e)}get roomSelectModeActive(){return this._observableRoomSelectMode.value}set roomSelectModeActive(e){const t=e;t!==this._observableRoomSelectMode.value&&(this._observableRoomSelectMode.value=t,this.commit())}onRoomSelectModeChange(e){return this._observableRoomSelectMode.onChanged(e)}}},33324:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,LW:()=>l,Md:()=>d,TS:()=>c,Vw:()=>s,h9:()=>r,tR:()=>o});var i=n(19663);class s extends i.m{constructor(e,t=!1,n,i){super(),this.id="MOVETO_FLOOR",this.payload={floorId:e,suppressCameraMovement:t,transitionTime:n,focusPoint:i}}}class r extends i.m{constructor(e,t=!1,n,i){super(),this.id="MOVETO_FLOOR_NUMBER",this.payload={floorIndex:e,suppressCameraMovement:t,transitionTime:n,focusPoint:i}}}class a extends i.m{constructor(e){super(),this.id="SHOW_ALL_FLOORS",this.payload=e}}class o extends i.m{constructor(){super(...arguments),this.id="DISABLE_ALL_FLOORS_OPTION"}}class l extends i.m{constructor(){super(...arguments),this.id="ENABLE_ALL_FLOORS_OPTION"}}class c extends i.m{constructor(){super(...arguments),this.id="LOCK_FLOOR_NAV"}}class d extends i.m{constructor(){super(...arguments),this.id="UNLOCK_FLOOR_NAV"}}},52498:(e,t,n)=>{"use strict";n.d(t,{cw:()=>r,eh:()=>s,qE:()=>i});const i=-1,s=-1,r=500},20334:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var i=n(45755),s=n(74554),r=n(79727);const a=(0,i.u)(r.c);(0,s.M)("floorsViewData",a)},39642:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});const i="features/floorselect"},50540:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var i=n(19663);class s extends i.m{constructor(e,t){super(),this.id="DEFAULT_ERROR",this.payload={messagePhraseKey:e,options:t}}}},58892:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var i=n(67992),s=n(15637);class r extends i.V{constructor(){super(),this.name="gui-view-data",this.collapsedAccordionGroupsObservable=(0,s.q)()}isAccordionGroupCollapsed(e){return this.collapsedAccordionGroupsObservable.get(e)}setAccordionGroupCollapsed(e,t){this.collapsedAccordionGroupsObservable.set(e,t)}getAccordionGroupCollapsedStates(){return this.collapsedAccordionGroupsObservable.deepCopy()}onAccordionCollapsedGroupsChanged(e){return this.collapsedAccordionGroupsObservable.onChanged(e)}}},92211:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,r:()=>r});var i=n(19663);class s extends i.m{constructor(e,t){super(),this.payload={modal:e,open:t}}}s.id="TOGGLE_MODAL";class r extends i.m{constructor(){super()}}r.id="CLOSE_MODAL"},92290:(e,t,n)=>{"use strict";n.d(t,{EW:()=>o,Rx:()=>s,Uc:()=>i});var i,s,r=n(19663);!function(e){e[e.CONFIRM=0]="CONFIRM",e[e.CLOSE=1]="CLOSE"}(i||(i={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.DISPLAY=1]="DISPLAY",e[e.UPDATE=2]="UPDATE"}(s||(s={}));const a={message:"",title:"",modalClass:"",cancellable:!0,closeButton:!0,confirmDisabled:!1};class o extends r.m{constructor(e,t){if(super(),e&&!t)throw new Error("Cannot open empty modal");this.payload={action:e,properties:Object.assign(Object.assign({},a),t)}}}o.id="CONFIRM_MODAL"},73536:(e,t,n)=>{"use strict";var i;n.d(t,{P:()=>i}),function(e){e.ADD_FROM_PHOTOS="add_from_photos",e.ATTACHMENT="attachmentViewer",e.CONFIRM="confirm",e.CTA="cta",e.HELP="help",e.HIGHLIGHT_EDITOR="highlight_editor",e.LAYER_ADD="layer_add",e.LINK_EDITOR="link_editor",e.MEASUREMENT_HELP="measurementModeHelp",e.MEDIA_EMBED_POPUP="mediaEmbedPopup",e.MODEL_VIEW_ADD="model_view_add",e.MODEL_VIEW_EDITOR="model_view_editor",e.MODEL_VIEW_DUPLICATE="model_view_duplicate",e.PHOTO_VIEWER="photo_viewer",e.RATING_THANK_YOU="rating_thank_you",e.SETTINGS="settings",e.SHARE="share",e.TERMS="terms",e.TOUR_SETTINGS="hlr_settings",e.VIEWS_INFO="views_info",e.VR_SELECT="vrSelect"}(i||(i={}))},43363:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var i=n(85893),s=n(66102),r=n(38399),a=n(84426);function o({id:e,icon:t,label:n,selected:o,onToggled:l}){const c=(0,s.b)();return(0,i.jsx)(a.zx,Object.assign({icon:t,label:n,ariaLabel:o?c.t(r.Z.SHOWCASE.SEARCH.FILTER_SEARCH_SELECTED):n,size:a.qE.SMALL,variant:a.Wu.TERTIARY,onClick:l,appendChildren:!1},{children:(0,i.jsx)("div",Object.assign({className:"search-filter-selected"},{children:o&&(0,i.jsx)(a.JO,{name:"checkmark"})}))}),e)}},41407:(e,t,n)=>{"use strict";n.d(t,{D:()=>F});var i=n(85893),s=n(67294),r=n(38399),a=n(66102),o=n(63319),l=n(30851),c=n(46362),d=n(33558),u=n(61531),h=n(45755),p=n(58892);const m=(0,h.u)(p.v);var f=n(35221);var g=n(36676),v=n(20334);function b(e){return e?e.floors.getOrderedValues():[]}var y=n(57370),E=n(16326),S=n(31855);function O(e=!0){const t=function(){const e=(0,v.I)(),[t,n]=(0,s.useState)(b(e));return(0,s.useEffect)((()=>{if(!e)return()=>{};const t=()=>n(b(e)),i=e.floors.getCollection().onChanged(t);return t(),()=>i.cancel()}),[e]),t}();return _((0,c.s)(),t,o.HH.FLOOR,e)}function T(e=!0){return _((0,c.s)(),function(){const e=[];for(const t in f.Z)e.push({id:t});const[t]=(0,s.useState)(e);return t}(),o.HH.DATE,e)}function _(e,t,n,i){const r=(0,g.s)(),[a,l]=(0,s.useState)([]);return(0,s.useEffect)((()=>{if(!r)return()=>{};const s=t.reduce(((e,t,i)=>Object.assign(Object.assign({},e),{[t.id]:{id:t.id,grouping:n,groupOrder:i,items:[],batchSupported:!0}})),{}),a={};e.forEach((e=>{const t=e.getGroupingId(n);if(t&&s[t])t&&s[t].items.push(e);else{const t=e.getGroupingId(o.HH.TYPE);if(t){const n=r.getSearchDataTypeGroup(t);a[t]||(a[t]={id:t,grouping:o.HH.TYPE,groupOrder:(0,S.j)(r,t,o.HH.TYPE),items:[],batchSupported:n.batchSupported}),a[t].items.push(e)}}}));let c=Object.values(s);return i&&(c=c.filter((e=>e.items.length>0))),l(c.concat(Object.values(a))),()=>{}}),[r,e,t,n,i]),a}var w=n(32279),N=n(49571);var A=n(28022),I=n(90055),k=n(84426);const{SEARCH:P}=r.Z.SHOWCASE,L=({group:e})=>{const t=(0,a.b)().t(P.EMPTY_LIST_MESSAGE);return(0,i.jsx)(k.gQ,{message:t})};function R(e){const{excludeEmptyGroups:t}=e,n=O(t);return(0,i.jsx)(j,Object.assign({},e,{dataGroups:n}))}function C(e){const{excludeEmptyGroups:t}=e,n=function(e=!0){const t=(0,y.q)();return _((0,c.s)(),t,o.HH.ROOM,e)}(t);return(0,i.jsx)(j,Object.assign({},e,{dataGroups:n}))}function D(e){const{excludeEmptyGroups:t}=e,n=T(t);return(0,i.jsx)(j,Object.assign({},e,{dataGroups:n}))}function M(e){const{excludeEmptyGroups:t}=e,n=function(e=!0){const t=(0,w.b)(),n=Object.values(t).sort(((e,t)=>(e.groupOrder||N.Xs)-(t.groupOrder||N.Xs))).map((e=>({id:e.id,grouping:o.HH.TYPE,groupOrder:e.groupOrder||N.Xs,items:e.matches,batchSupported:e.batchSupported})));return e?n.filter((e=>e.items.length>0)):n}(t);return(0,i.jsx)(j,Object.assign({},e,{dataGroups:n}))}function x(e){const{excludeEmptyGroups:t}=e,{editMode:n}=(0,s.useContext)(d.I),r=function(e=!0){const t=(0,E.Y)();return _((0,c.s)(),t,o.HH.LAYER,e)}(t),a=(0,I.LP)(),l=n&&(null==a?void 0:a.id)||void 0,[h,p]=(0,s.useState)(void 0);return(0,u.U)(A.ue,(({layerId:e})=>{p(e)})),(0,i.jsx)(j,Object.assign({},e,{dataGroups:r,activeGroupId:l,scrollToGroupId:h,onScrolled:()=>{p(void 0)}}))}function j(e){const{renderGroup:t,renderItem:n,dataGroups:o,activeItemId:c,activeGroupId:d,scrollToGroupId:u,onScrolled:h}=e,[p,f]=function(){const e=m(),[t,n]=(0,s.useState)((null==e?void 0:e.getAccordionGroupCollapsedStates())||{});return(0,s.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.getAccordionGroupCollapsedStates())}const i=e.onAccordionCollapsedGroupsChanged(t);return t(),()=>i.cancel()}),[e]),[t,(t,n)=>{e&&e.setAccordionGroupCollapsed(t,n)}]}(),g=(0,s.useRef)(null),v=(0,l.D)(),b=(0,s.useRef)(0),y=(0,a.b)();return(0,s.useEffect)((()=>()=>{window.clearTimeout(b.current)}),[]),(0,s.useEffect)((()=>(window.clearTimeout(b.current),v&&(b.current=window.setTimeout((()=>{v&&o.forEach((e=>{e.items.length>0&&f(e.id,!1)}))}),500)),()=>{})),[o]),(0,s.useEffect)((()=>{if(u&&g.current){g.current.scrollIntoView(`[data-id='${u}']`)&&h&&h()}return()=>{}}),[u,g.current,o]),(0,s.useEffect)((()=>{var e;if(c){let t=-1;const n=null===(e=o.find((e=>{const n=e.items.findIndex((e=>e.id===c));return-1!==n&&(t=n,!0)})))||void 0===e?void 0:e.id;g.current&&n&&g.current.focusGroupItem(n,t)}return()=>{}}),[o,c,g]),(0,i.jsx)(k.UQ,{ref:g,ariaExpandLabel:y.t(r.Z.ACCORDIONS.EXPAND),ariaCollapseLabel:y.t(r.Z.ACCORDIONS.COLLAPSE),data:o,itemHeight:60,renderItem:n,renderGroup:t,renderEmpty:L,onToggleCollapse:f,collapsedIds:p,activeGroupId:d,collapseEmptyGroups:o.length>1})}const{SEARCH:U}=r.Z.SHOWCASE;function F(e){const{excludeEmptyGroups:t,activeItemId:n,grouping:r,emptyPhrase:d}=e,u=(0,s.useRef)(null),h=(0,a.b)(),p=(0,l.D)(),m=0===(0,c.s)().length,f=r===o.HH.FLOOR,g=r===o.HH.ROOM,v=r===o.HH.LAYER,b=r===o.HH.DATE,y=void 0!==t?t:p,E=h.t(d||U.EMPTY_LIST_MESSAGE),S=!!y&&m,O=Object.assign(Object.assign({},e),{scrollRef:null==u?void 0:u.current,excludeEmptyGroups:y,activeItemId:n});return S?(0,i.jsx)(k.gQ,{message:E}):(0,i.jsx)("div",Object.assign({className:"list-contents searchable-list",ref:u},{children:f?(0,i.jsx)(R,Object.assign({},O)):g?(0,i.jsx)(C,Object.assign({},O)):v?(0,i.jsx)(x,Object.assign({},O)):b?(0,i.jsx)(D,Object.assign({},O)):(0,i.jsx)(M,Object.assign({},O))}))}},43013:(e,t,n)=>{"use strict";n.d(t,{v:()=>E});var i=n(85893),s=n(38399),r=n(66102),a=n(63319),o=n(20334),l=n(67294),c=n(1358),d=n(84784);var u=n(15258),h=n(86191),p=n(84426);function m({id:e,numItems:t}){const n=(0,u.K)(),s=(0,h.W)(e,n);return(0,i.jsx)(p._m,{id:e,title:s,className:"layers-group-header",decals:(0,i.jsx)("span",Object.assign({className:"mp-list-item-text"},{children:`(${t})`}))})}var f=n(32279),g=n(77230);function v({dataTypeGroup:e}){return e.groupActionsFC?(0,i.jsx)(e.groupActionsFC,{group:e}):null}function b(e){const{id:t,numItems:n,numSelected:s,selected:a,selectDisabled:o,selectMode:l,onSelect:c}=e,d=(0,f.b)(),u=(0,g.A)(),h=(0,r.b)(),m=d[t];if(!m)return null;const b=u&&m.groupMatchingPhraseKey||m.groupPhraseKey,y=b?h.t(b):t,E=l?`(${s}/${n})`:`(${n})`;return(0,i.jsx)(p._m,{id:t,title:y,decals:(0,i.jsx)("span",Object.assign({className:"mp-list-item-text"},{children:E})),actions:(0,i.jsx)(v,{dataTypeGroup:m}),selectMode:l,selectDisabled:o,selected:a,onSelect:c})}function y(e){const{id:t,numItems:n,numSelected:s,selected:a,selectMode:o,onSelect:l}=e,c=(0,r.b)().t(`SHOWCASE.NOTES.${t}`),d=o?`(${s}/${n})`:`(${n})`;return(0,i.jsx)(p._m,{id:t,title:c,decals:(0,i.jsx)("span",Object.assign({className:"mp-list-item-text"},{children:d})),selectMode:o,selected:a,onSelect:l})}const E=({group:e})=>{const{id:t,items:n,grouping:s}=e;switch(s){case a.HH.TYPE:return(0,i.jsx)(b,{id:t,numItems:n.length});case a.HH.FLOOR:return(0,i.jsx)(S,{id:t,numItems:n.length});case a.HH.ROOM:return(0,i.jsx)(O,{id:t,numItems:n.length});case a.HH.DATE:return(0,i.jsx)(y,{id:t,numItems:n.length});case a.HH.LAYER:return(0,i.jsx)(m,{id:t,numItems:n.length})}return null};function S({id:e,numItems:t}){const n=(0,o.I)();let a=(0,r.b)().t(s.Z.FLOOR_ALL);return n&&e&&(a=n.getFloorName(e)),(0,i.jsx)(p._m,{id:e,title:a,decals:(0,i.jsx)("span",Object.assign({className:"mp-list-item-text"},{children:`(${t})`}))})}function O({id:e,numItems:t}){const n=function(e){const t=(0,c.S)(),n=(0,r.b)(),[i,s]=(0,l.useState)((0,d.LN)(e,n,t));return(0,l.useEffect)((()=>{if(!t)return()=>{};function i(){s((0,d.LN)(e,n,t))}const r=t.onRoomsChanged({onUpdated:i});return i(),()=>r.cancel()}),[n,t,e]),i}(e);return(0,i.jsx)(p._m,{id:e,title:n,decals:(0,i.jsx)("span",Object.assign({className:"mp-list-item-text"},{children:`(${t})`}))})}},71282:(e,t,n)=>{"use strict";n.d(t,{B:()=>D});var i=n(85893),s=n(67294),r=n(94184),a=n.n(r),o=n(33558),l=n(38399),c=n(76631),d=n(89549),u=n(40216),h=n(51588),p=n(66102),m=n(31362),f=n(25071),g=n(77230),v=n(37034),b=n(37190),y=n(71166),E=n(15130),S=n(44443),O=n(84426),T=n(45531);function _(e){const{query:t,keywordFilters:n,typeFilters:r}=e,{locale:a,analytics:c,editMode:d,settings:u}=(0,s.useContext)(o.I),[h,p]=(0,s.useState)(!1),m=d||u.tryGetProperty(T.Yo,!1),f=(0,s.useCallback)((()=>{const e=(0,S.Uo)(t,n,r);(0,E.v)(e),p(!0);const i=d?"workshop_gui":"showcase_gui";c.track(i,{gui_action:"space_search_share_link_clicked"})}),[t,n,r,d,c]);return(0,s.useEffect)((()=>{if(!h)return()=>{};const e=window.setTimeout((()=>p(!1)),2500);return()=>window.clearTimeout(e)}),[h]),m?h?(0,i.jsx)("span",Object.assign({className:"link-copied"},{children:a.t(l.Z.SHARE_COPIED)})):(0,i.jsx)(O.zx,{onClick:f,icon:"share",variant:O.Wu.TERTIARY,tooltip:a.t(l.Z.COPY_URL)}):null}var w=n(47397),N=n(19280),A=n(44523);const{SEARCH:I}=l.Z.SHOWCASE;function k({filter:e,readOnly:t,shareEnabled:n}){const{commandBinder:r}=(0,s.useContext)(o.I),l=(0,s.useRef)(null),E=(0,s.useRef)(null),S=(0,p.b)(),T=(0,u.T)(),k=(0,h.E)(),P=(0,g.A)(),L=(0,v.f)(),R=(0,b.b)(),C=(0,s.useMemo)((()=>(0,m.Jm)()),[]),D=T===c.wS.BOTTOM_PANEL&&k,M=(0,N.p)((0,A.O)()),x=(0,s.useCallback)((e=>{r.issueCommand(new y.H1(e))}),[r]),j=S.t(I.SEARCH_IN_TOOL_PLACEHOLDER),U=S.t(I.CLEAR_SEARCH).toLocaleUpperCase(),F=L.length>0||R.length>0||""!==P,H=n&&F,V=C?void 0:f.El;return(0,i.jsxs)("div",Object.assign({ref:E,className:a()("list-search","search-panel-header")},{children:[(0,i.jsxs)("div",Object.assign({className:"search-bar"},{children:[(0,i.jsx)("span",{className:a()("search-header-icon","icon","icon-magnifying-glass",{"search-header-icon-active":F})}),(0,i.jsx)(w.Z,{text:P,onInput:x,onDone:e=>{D&&e&&r.issueCommand(new d.Fg(!1))},onCancel:()=>{r.issueCommand(new d.eS)},placeholder:j,onFocus:()=>{M&&D&&C&&(r.issueCommand(new d.Fg(!1)),window.setTimeout((()=>{E.current&&E.current.scrollIntoView({behavior:"smooth",block:"start"})}),f.El))},ref:l,focusOnMount:V,readOnly:t}),(0,i.jsxs)("div",Object.assign({className:"search-header-button-container"},{children:[""!==P&&(0,i.jsx)(O.zx,{onClick:()=>{x(""),l.current&&!C&&l.current.focus()},label:U,size:O.qE.SMALL,variant:O.Wu.TERTIARY}),H&&(0,i.jsx)(_,{query:P,keywordFilters:L,typeFilters:R})]}))]})),e]}))}var P=n(32279);const{SEARCH:L}=l.Z.SHOWCASE;function R({id:e,label:t}){const{commandBinder:n}=(0,s.useContext)(o.I),r=(0,p.b)().t(L.FILTER_SEARCH_REMOVE);return(0,i.jsx)(O.zx,{icon:"close",label:t,tooltip:r,tooltipOptions:{placement:"bottom"},size:O.qE.SMALL,variant:O.Wu.FAB,theme:"dark",onClick:()=>{n.issueCommand(new y.Mp(e,!1))},reverse:!0})}function C(){const e=(0,p.b)(),t=(0,P.b)(),n=(0,b.b)();if(0===n.length)return null;const s=[];return n.forEach((n=>{const r=t[n];if(r){const t=e.t(r.groupPhraseKey);s.push((0,i.jsx)(R,{id:n,label:t},n))}})),(0,i.jsx)("div",Object.assign({className:"search-filter-pills"},{children:s}))}function D(e){const{shareEnabled:t=!1,filterPills:n=!1,filter:s}=e;return(0,i.jsxs)("div",Object.assign({className:"list-subheaders"},{children:[(0,i.jsx)(k,{filter:s,shareEnabled:t}),n&&(0,i.jsx)(C,{})]}))}},16589:(e,t,n)=>{"use strict";n.d(t,{PP:()=>i,vr:()=>a,zf:()=>o});const i=["<mark>","</mark>"];function s(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function r(e,t){const[n,r]=i,a=`${n}|${r}`;let o=!1;if(e.match(new RegExp(a))&&(e=e.replace(new RegExp(`(${a})`,"g"),((e,t)=>t.split("").join("‌"))),o=!0),t){let i;i=o?t.split("").map(s).join("[‌]?"):s(t),e=e.replace(new RegExp(`(${i})`,"gi"),((e,t)=>`${n}${t}${r}`))}return e}const a=r;function o(e,t){return r(function(e,t){var n;const i=e.toLowerCase(),[r,a,o]=[i.indexOf(t),e.length,(null===(n=i.match(new RegExp(`${s(t)}`,"g")))||void 0===n?void 0:n.length)||1];let l=e,c=r;if(a>20&&c>0){if(1===o){const e=Math.floor((20-t.length)/2);e>0&&c>e&&(c-=e)}l=`...${l.substr(c)}`,l.length<20&&(c-=20-l.length,c>0&&(l=`...${e.substr(c)}`))}return l}(e,t),t)}},79820:(e,t,n)=>{"use strict";n.d(t,{J:()=>E});var i=n(85893),s=n(67294),r=n(94184),a=n.n(r),o=n(76631),l=n(40216),c=n(61531),d=n(31362),u=n(40505),h=n(38772),p=n(91033),m=n(88951),f=n(57151),g=n(23885),v=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let b=class extends s.Component{constructor(e){super(e),this.usePointerEvents=window.PointerEvent,this.scrollerRef=(0,s.createRef)(),this.trackRef=(0,s.createRef)(),this.thumbRef=(0,s.createRef)(),this.focusedSelector=null,this.listening=!1,this.startY=0,this.onThumb=!1,this.scrollTop=0,this.isUnmounting=!1,this.handleResize=()=>{this.isUnmounting||(this.computeStateValues(),this.focusedSelector&&this.scrollToSelector(this.focusedSelector))},this.handleWheelEvent=e=>{this.props.disabled||(this.onThumb=!1,this.focusedSelector=null,this.scrollBy(e.deltaY))},this.handleEvent=e=>{if(this.scrollerRef.current&&!this.props.disabled){this.scrollVelocityPixelsMS=0;if("mousedown"===e.type||"pointerdown"===e.type||"touchstart"===e.type){const t=e.target;this.onThumb=t&&t.classList.contains("scroller-thumb")}this.focusedSelector=null,this.inputFilter.handleEvent(e)}},this.handlePressStart=e=>{this.onThumb?this.startY=this.getThumbTop():this.startY=this.getScrollTop()},this.handlePressMove=e=>{const{trackHeight:t,contentsHeight:n}=this.state;let i;this.onThumb?(i=(this.startY-e.y)/t,this.scrollToPercent(i)):(i=(e.y+this.startY)/n,this.scrollToPercent(i))},this.handleDragStart=()=>{},this.handleDragEnd=(e,t)=>{this.scrollVelocityPixelsMS=e.y/t,this.lastScrollTimeMS=void 0,Math.abs(this.scrollVelocityPixelsMS)<1?this.scrollVelocityPixelsMS=0:this.animateScroll()},this.onTrackClick=e=>{const t=this.trackRef.current;if(e.target!==t||!t)return;const n=this.getThumbHeight(),i=this.getThumbTop(),s=t.getBoundingClientRect().top,r=this.state.trackHeight;let a;a=e.clientY<s+i?Math.max(0,(i-n)/r):Math.min(r,(i+n)/r),this.scrollToPercent(a)},this.scrollToPercent=e=>{this.isOverflowing()&&this.scrollerRef.current&&!isNaN(e)&&this.setScrollPosition(Math.max(Math.min(1,e)*this.state.contentsHeight,0))},this.scrollBy=e=>{this.isOverflowing()&&this.scrollerRef.current&&!isNaN(e)&&this.setScrollPosition(Math.max(this.scrollerRef.current.scrollTop+e,0))},this.computeStateValues=()=>{if(this.props.disabled)return;const e=this.scrollerRef.current,t=this.trackRef.current,n=Number(e&&e.clientHeight)||1,i=Number(t&&t.clientHeight)||n,s=Number(this.contents&&this.contents.clientHeight)||1,r=Number(this.contents&&this.contents.offsetTop)||0;this.debouncedSetState({scrollerHeight:n,contentsHeight:s,trackHeight:i,offsetTop:r})},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.setContentsRef=e=>{e?(this.contents=e,this.resizeObserver.observe(this.contents)):this.contents&&this.resizeObserver.unobserve(this.contents)},this.setContainerRef=e=>{e?(this.container=e,this.resizeObserver.observe(e)):this.container&&this.resizeObserver.unobserve(this.container)},this.state={scrollerHeight:1,contentsHeight:1,trackHeight:1,offsetTop:0},this.resizeObserver=new p.Z(this.handleResize),this.inputFilter=new f.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd})}componentDidMount(){this.toggleEventHandling(!0),this.computeStateValues()}componentWillUnmount(){this.isUnmounting=!0,this.toggleEventHandling(!1),this.resizeObserver&&this.resizeObserver.disconnect()}componentDidUpdate(e,t){this.scrollerRef.current&&e.disabled!==this.props.disabled&&(this.props.disabled?this.toggleEventHandling(!1):this.toggleEventHandling(!0))}resetScrollTop(){this.focusedSelector=null,this.setScrollPosition(0)}getScroller(){return this.scrollerRef.current}getScrollHeight(){return Number(this.contents&&this.contents.clientHeight)||0}scrollToElement(e,t="center",n){const i=this.scrollerRef.current;if(!e||!i)return;if(!(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINS))return;if(!this.isOverflowing())return;const{contentsHeight:s,scrollerHeight:r,offsetTop:a}=this.state;let o=e.offsetTop;if(!n){let t=e;for(;t.parentElement&&(t=t.parentElement,o+=t.offsetTop,t.offsetParent!==this.contents););}let l=a+o;"center"===t&&(l+=e.offsetHeight/2-r/2),l=Math.max(Math.min(s,l),0);const c=i.scrollTop,d=l-c;let u=0;const h=e=>{u||(u=e);const t=e-u,n=(0,g.hN)(t,c,d,500);i.scrollTo(0,n),t<500?window.requestAnimationFrame(h):this.setScrollPosition(l)};window.requestAnimationFrame(h)}scrollToSelector(e,t="center",n){const i=this.scrollerRef.current;if(!i)return;const s=i.querySelector(e);s?(this.focusedSelector=e,this.scrollToElement(s,t,n)):this.focusedSelector=null}setScrollPosition(e){const t=this.scrollerRef.current;if(t){const n=t.scrollTop;t.scrollTop=e,this.scrollTop=this.getScrollTop(),this.props.onScrolled&&n!==this.scrollTop&&this.props.onScrolled(this.scrollTop);const i=this.thumbRef.current;i&&(i.style.height=`${this.getThumbHeight()}px`,i.style.top=`${this.getThumbTop()}px`)}}toggleEventHandling(e){const t=this.scrollerRef.current,n=this.handleEvent,i=m.h?{passive:!0}:void 0;!this.listening&&e&&t?(t.addEventListener("wheel",this.handleWheelEvent,i),this.usePointerEvents?(t.addEventListener("pointerdown",n,i),window.addEventListener("pointermove",n,i),window.addEventListener("pointerup",n,i)):(t.addEventListener("touchstart",n,i),t.addEventListener("mousedown",n,i),window.addEventListener("mousemove",n,i),window.addEventListener("mouseleave",n,i),window.addEventListener("mouseup",n,i),window.addEventListener("touchmove",n,i),window.addEventListener("touchend",n,i),window.addEventListener("touchcancel",n,i))):this.listening&&!e&&t&&(t.removeEventListener("wheel",this.handleWheelEvent),this.usePointerEvents?(t.removeEventListener("pointerdown",n),window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",n)):(t.removeEventListener("touchstart",n),t.removeEventListener("mousedown",n),window.removeEventListener("mousemove",n),window.removeEventListener("mouseleave",n),window.removeEventListener("mouseup",n),window.removeEventListener("touchmove",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n)))}animateScroll(){window.requestAnimationFrame((e=>{void 0===this.lastScrollTimeMS&&(this.lastScrollTimeMS=e);let t=e-this.lastScrollTimeMS;if(t>0){this.scrollBy(this.scrollVelocityPixelsMS*t);const e=this.scrollVelocityPixelsMS>0?-1:1;for(;t>0;)this.scrollVelocityPixelsMS+=this.scrollVelocityPixelsMS*this.scrollVelocityPixelsMS*.01*e,t-=1}Math.abs(this.scrollVelocityPixelsMS)>.001&&this.animateScroll()}))}getThumbTop(){const{contentsHeight:e,trackHeight:t}=this.state;return Math.min(this.scrollTop/e*t,t-this.getThumbHeight())}getThumbHeight(){const{scrollerHeight:e,contentsHeight:t,trackHeight:n}=this.state;return e/t*n}getScrollTop(){return this.scrollerRef.current?this.scrollerRef.current.scrollTop:0}isOverflowing(){const{contentsHeight:e,scrollerHeight:t,offsetTop:n}=this.state;return e+n>t}renderTrack(){const e={height:`${this.getThumbHeight()}px`,top:`${this.getThumbTop()}px`};return(0,i.jsx)("div",Object.assign({ref:this.trackRef,className:"scroller-track",onClick:this.onTrackClick},{children:(0,i.jsx)("div",{ref:this.thumbRef,className:"scroller-thumb",style:e,onPointerDown:this.usePointerEvents?this.handleEvent:void 0,onMouseDown:this.usePointerEvents?void 0:this.handleEvent,onTouchStart:this.usePointerEvents?void 0:this.handleEvent})}))}render(){const{children:e,className:t,hideThumb:n,disabled:s}=this.props,r=!s&&this.isOverflowing();return(0,i.jsxs)("div",Object.assign({ref:this.setContainerRef,className:a()("scroller-container",t)},{children:[(0,i.jsx)("div",Object.assign({className:"scroller-scroller",ref:this.scrollerRef},{children:(0,i.jsx)("div",Object.assign({className:"scroller-contents",ref:this.setContentsRef},{children:e}))})),!n&&r&&this.renderTrack()]}))}};b=v([h.Z],b);var y=n(44523);const E=(0,s.forwardRef)((({children:e,open:t,className:n,onClose:r,scrollingDisabled:h=!1},p)=>{const m=(0,s.useRef)(null),f=(0,s.useRef)(null),g=(0,s.useMemo)((()=>(0,d.Jm)()),[]),v=(0,l.T)(),[E,S]=(0,s.useState)(!1),O=(0,y.O)();(0,c.U)(u.SN,(e=>{S(e.focused)})),(0,s.useImperativeHandle)(p,(()=>({resetScrollTop:()=>{f.current&&f.current.resetScrollTop()},scrollToSelector:e=>{f.current&&f.current.scrollToSelector(e)}})),[f]),(0,s.useEffect)((()=>(m.current&&t&&m.current.focus(),()=>{})),[t,m.current]);const T=v===o.wS.BOTTOM_PANEL,_=g&&E&&T,w=_&&!function(){var e;if(!f.current)return!1;const t=f.current.getScrollHeight(),n=(null===(e=f.current.getScroller())||void 0===e?void 0:e.getBoundingClientRect().top)||0;return t<=O.height-n}(),N=T,A={open:t,"sticky-header":!_,"detail-panel-align-top":w};return(0,i.jsx)("div",Object.assign({className:a()("detail-panel",A,n),onKeyDown:function(e){r&&"Escape"===e.code&&(e.stopPropagation(),r())},ref:m,tabIndex:t?0:void 0},{children:(0,i.jsx)(b,Object.assign({ref:f,hideThumb:N,disabled:h},{children:e}))}))}))},70704:(e,t,n)=>{"use strict";n.d(t,{L:()=>k});var i=n(85893),s=n(67294),r=n(94184),a=n.n(r),o=n(33558),l=n(89549),c=n(76631),d=n(14355),u=n(51588),h=n(40216),p=n(33023),m=n(25071),f=n(66102),g=n(38399),v=n(89478),b=n(84426);function y({analytic:e,children:t,className:n}){const s=(0,f.b)().t(g.Z.REUSABLES.HELP_BUTTON_TOOLTIP_MESSAGE);return(0,i.jsx)(v.P,Object.assign({icon:"help",tooltip:s,popupSize:"medium",analytic:`${e}_help_click`,className:a()("help-button",n),variant:b.Wu.TERTIARY},{children:t}))}var E=n(71215);const{EDIT_BAR:S}=g.Z.WORKSHOP;function O({tool:e}){const{helpHref:t,helpMessagePhraseKey:n}=e,s=(0,f.b)(),r=s.t(S.HELP_LINK);return(0,i.jsxs)("div",Object.assign({className:"tool-help"},{children:[n&&s.t(n),t&&(0,i.jsx)(E.r,Object.assign({href:t},{children:r}))]}))}function T({tool:e}){const{analytic:t,helpMessagePhraseKey:n}=e;return n?(0,i.jsx)(y,Object.assign({analytic:t,className:"tool-help-button"},{children:(0,i.jsx)(O,{tool:e})})):null}const _=({children:e,className:t})=>{if(!e)return null;const n=a()("panel-title",t);return(0,i.jsx)("div",Object.assign({className:n},{children:e}))};var w=n(38490);const{COLLAPSE_PANEL:N,EXPAND_PANEL:A}=g.Z.PANELS;function I(e){const{tool:t,title:n,titleNode:r,children:a,expandable:c,hideHelp:d,hideBadge:h,onTogglePanel:p}=e,m=(0,f.b)(),g=(0,u.E)(),{commandBinder:v}=(0,s.useContext)(o.I),y=!d,E=(0,s.useCallback)((()=>{v.issueCommand(new l.CH(t.id))}),[v,t]),S=(0,s.useCallback)((e=>{e&&e.stopPropagation();const t=!g;p&&p(t),v.issueCommand(new l.Fg(t))}),[v,g,p]),O=g?"dpad-up":"dpad-down",I=g?m.t(A):m.t(N);return(0,i.jsxs)("div",Object.assign({className:"panel-header",onClick:c?S:void 0},{children:[(0,i.jsxs)(_,{children:[(0,i.jsxs)("div",Object.assign({className:"panel-name"},{children:[c&&(0,i.jsx)(b.zx,{icon:O,label:n,tooltip:I,tooltipOptions:{placement:"bottom-start"},variant:b.Wu.TERTIARY,onClick:S}),!c&&n]})),t.badgePhraseKey&&!h&&(0,i.jsx)("span",Object.assign({className:"word-badge"},{children:m.t(t.badgePhraseKey)})),r||null]}),(0,i.jsxs)(b.hE,Object.assign({className:"panel-header-controls"},{children:[a,y&&(0,i.jsx)(T,{tool:t}),(0,i.jsx)(w.P,{tooltipOptions:{placement:"bottom"},onClose:E})]}))]}))}function k(e){const{closed:t,toolId:n,children:r,className:f,filmstrip:g,title:v,titleNode:b,subheader:y,hideHelp:E,hideBadge:S,footer:O,controls:T,subheaderCollapsedHeight:_}=e,{commandBinder:w}=(0,s.useContext)(o.I),N=(0,u.E)(),A=(0,h.T)(),k=(0,p.Q)(n),[P,L]=(0,s.useState)(N),[R,C]=(0,s.useState)(!1);let D=0;const M=e=>{if(e){if(R||P)return;window.clearTimeout(D),C(!0),D=window.setTimeout((()=>{C(!1),L(!0)}),m.g)}else L(!1),window.clearTimeout(D)};(0,s.useEffect)((()=>{M(N)}),[N]),(0,s.useEffect)((()=>()=>{window.clearTimeout(D)}),[]);const x=!!k&&!t,j=A===c.wS.BOTTOM_PANEL,U=!(P&&!R),F={closed:t,collapsed:P,collapsing:R,"filmstrip-panel":g},H=_&&(j&&P)?{height:_+m.oO}:void 0,V=y&&(_||!P),B=g||j;return(0,i.jsxs)(d.N,Object.assign({open:x,className:a()("list-panel",F,f),style:H,onKeyDown:function(e){"Escape"===e.code&&(e.stopPropagation(),w.issueCommand(new l.CH(n)))},focus:!0},{children:[k&&(0,i.jsx)(I,Object.assign({tool:k,title:v,titleNode:b,hideHelp:E,hideBadge:S,expandable:B,onTogglePanel:M},{children:T})),V&&y,U&&r,U&&O||null]}))}},19801:(e,t,n)=>{"use strict";n.d(t,{O:()=>W});var i=n(53261);const s=()=>{},r=()=>null,a=()=>!1,o=()=>Promise.reject(),l=()=>Promise.resolve(),c=()=>"",d=()=>({}),u=()=>[],h=()=>({renew:s,cancel:s}),p={register:s,unregister:s,waitForData:o,tryGetData:r,getModuleNameFromData:()=>""},m={subscribe:h,unsubscribe:s,broadcast:s};var f=n(57118);class g extends f.B{constructor(){super(...arguments),this.addBinding=h,this.removeBinding=s,this.issueCommand=o,this.issueCommandWhenBound=o,this.hookCommand=s,this.resetHooks=s}}const v=new g,b={mask:0,addLayers:s,removeLayers:s,clone:()=>b},y=()=>b;const E={market:p,msgBus:m,commandBinder:v,getModuleBySymbol:o,getModuleBySymbolSync:function(){throw new Error("getModuleBySymbolSync not supported")},tryGetModuleBySymbolSync:r,addComponent:l,removeComponent:l,getComponentByType:r,getComponents:function*(){},claimRenderLayer:y,getRenderLayer:y,subscribe:h,unsubscribe:s,broadcast:s,disposeRenderLayer:s,startGenerator:s,stopGenerator:s,after:l,toggleRendering:s};var S=n(97859);class O extends S.default{constructor(){super(...arguments),this.init=l,this.onUpdate=s,this.dispose=s,this.track=s,this.trackGuiEvent=s,this.trackToolGuiEvent=s,this.getSessionId=c}}const T=new O;var _=n(94126);class w extends _.default{constructor(){super(...arguments),this.t=e=>e}get languageCode(){return"en"}}const N=new w;var A=n(20436);const I=(0,n(67622).Q)(""),k=()=>I;class P extends A.m{constructor(){super(...arguments),this.getUserInfoByEmail=r,this.getUserInfoById=r,this.getUserDisplay=k,this.iterate=s,this.getUsersWhoMayNeedAccess=d,this.getKnownUsers=u,this.getCurrentUser=k,this.isLoggedIn=a,this.isOrgAdmin=a,this.isInviter=a,this.isEditor=a,this.isCommenter=a,this.getCurrentUserId=()=>I.id,this.onUsersChanged=h}}const L=new P(I,!1,!1);var R=n(91380),C=n(15637),D=n(50892),M=n(76631);const x={activate:l,deactivate:l},j=new D.U({id:M.w1.LABELS,namePhraseKey:"",panel:!1,panelLeft:!1,hidesAppBar:!1,icon:"",analytic:"labels",dimmed:!1,enabled:!1,manager:x,ui:{}}),U=new C.v;class F extends R.t{constructor(){super(...arguments),this.addTools=s,this.iterate=s,this.getTool=()=>j,this.removeTool=s,this.removeAllTools=s,this.setOpenAsset=s,this.onOpenAssetChanged=h,this.getActiveTool=r,this.activeToolName=null,this.previousToolName=null,this.openModal=null,this.toolChangeInProgress=!1,this.isPanelOpen=a,this.isToolCollapsedToBottom=a,this.toolPanelLayout=M.wS.NORMAL,this.softOpening=!1,this.toolCollapsed=!1}get toolsMap(){return U}get openAsset(){return null}}const H=new F;var V=n(34029);class B extends V.e{constructor(){super(...arguments),this.setProperty=s,this.setLocalStorageProperty=s,this.hasProperty=a,this.tryGetProperty=s,this.getProperty=s,this.getOverrideParam=s,this.iterate=s}}const G=new B,W={editMode:!1,mainDiv:document.createElement("div"),queue:new i.gO,messageBus:m,userData:L,toolsData:H,settings:G,analytics:T,engine:E,market:p,commandBinder:v,locale:N}},33558:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var i=n(67294),s=n(19801);const r=(0,i.createContext)(s.O)},45755:(e,t,n)=>{"use strict";n.d(t,{m:()=>a,u:()=>r});var i=n(67294),s=n(33558);function r(e){return()=>a(e)}function a(e){const{market:t}=(0,i.useContext)(s.I),[n,r]=(0,i.useState)(t.tryGetData(e));return(0,i.useEffect)((()=>{let n=!1;return t.waitForData(e).then((e=>{n||r(e)})),()=>{n=!0}}),[t,e]),n}},74554:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var i=n(85893),s=n(67294);function r(e,t){return n=>(0,s.forwardRef)(((s,r)=>{const a=t(),o=Object.assign(Object.assign({},s),{[e]:a});return(0,i.jsx)(n,Object.assign({},o,{ref:r}))}))}},73085:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,v:()=>a});var i=n(67294),s=n(45755);function r(e,t,n){return()=>a(e,t,n)}function a(e,t,n){const r=(0,s.m)(e),[a,o]=(0,i.useState)(r?r[t]:n);return(0,i.useEffect)((()=>{if(!r)return()=>{};const e=r.onPropertyChanged(t,o);return o(r[t]),()=>e.cancel()}),[r,t]),a}},61531:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var i=n(67294),s=n(33558);function r(e,t){const{messageBus:n}=(0,i.useContext)(s.I);(0,i.useEffect)((()=>{const i=n.subscribe(e,t);return()=>i.cancel()}),[n,e,t])}},51978:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var i=n(67294),s=n(33558);function r(e,t){const{settings:n}=(0,i.useContext)(s.I),[r,a]=(0,i.useState)(n.tryGetProperty(e,t));return(0,i.useEffect)((()=>{if(!e)return a(t),()=>{};const i=()=>{a(n.tryGetProperty(e,t))},s=n.onPropertyChanged(e,i);return i(),()=>s.cancel()}),[n,e,t]),r}},56064:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var i=n(26158),s=n(51978),r=n(46391);function a(){return(0,s.y)(i.F.UnitType,r.M.METRIC)}},11898:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var i=n(97542),s=n(92810),r=n(67294),a=n(20745),o=n(19801),l=n(33558),c=n(85893),d=n(50540),u=n(94184),h=n.n(u),p=n(97998),m=n(98010);class f extends m.v0{constructor(e){super(),this.open=e}}var g=n(38490),v=n(73698);const b=new p.Z("alert-notification");class y extends r.Component{constructor(e){super(e),this.throttledMessages=new Map,this.onClose=()=>{clearTimeout(this.alertTimer),this.setState({open:!1})},this.state={open:!1}}componentDidMount(){this.update()}componentWillUnmount(){this.state.open&&this.props.messageBus.broadcast(new f(!1))}UNSAFE_componentWillReceiveProps(e){this.update(e)}componentDidUpdate(e,t){this.state.open!==t.open&&this.props.messageBus.broadcast(new f(this.state.open))}update(e=this.props){const{show:t,timeout:n,message:i,throttle:s,type:r}=e,{analytics:a}=this.context;if(t){if(s>0){if(this.throttledMessages.has(i)&&this.throttledMessages.get(i)>Date.now())return void b.debug(`Suppressed alert dialog due to message throttling: ${i}`);this.throttledMessages.set(i,Date.now()+1e3*s)}clearTimeout(this.alertTimer),this.setState({open:!0}),n>0&&(this.alertTimer=window.setTimeout(this.onClose,1e3*n)),a&&a.track("alert_gui",{alert_action:"show",alert_type:r,alert_message:i})}}render(){const{title:e,message:t,type:n}=this.props,{open:i}=this.state,s={active:i,[`notification-${n}`]:!0};return(0,c.jsxs)("aside",Object.assign({className:h()("alert-notification",s)},{children:[(0,c.jsxs)("div",Object.assign({className:"notification-body"},{children:[e&&(0,c.jsx)("h3",Object.assign({className:"notification-title"},{children:e})),(0,c.jsx)("p",Object.assign({className:"notification-text"},{children:t}))]})),i&&(0,c.jsx)(g.P,{theme:"dark",tooltip:"",onClose:this.onClose})]}))}}y.contextType=l.I,y.defaultProps={type:v.N.INFO,show:!1,timeout:10,throttle:0};var E=n(67223);class S extends r.Component{constructor(e){super(e),this.bindings=[],this.state={guiError:!1,errorMessagePhraseKey:""}}componentDidMount(){const{commandBinder:e}=this.context;this.bindings.push(e.addBinding(d.I,(async e=>{this.showErrorMessage(e.messagePhraseKey,e.options)})))}componentWillUnmount(){this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}componentDidUpdate(e,t){const{guiError:n}=this.state;n&&this.setState({guiError:!1})}showErrorMessage(e,t){this.setState({guiError:!0,errorMessagePhraseKey:e,errorOptions:t})}render(){const{messageBus:e,locale:t}=this.context,{guiError:n,errorMessagePhraseKey:i,errorOptions:s}=this.state;let r=i&&t.t(i);const{error:a}=s||{};return a&&(0,E.bh)(a)&&(r=`${r} (${a.code})`),(0,c.jsx)(y,Object.assign({messageBus:e,show:n,message:r},s))}}S.contextType=l.I;var O=n(34029),T=n(20436),_=n(58892),w=n(61681);class N extends i.Y{constructor(){super(...arguments),this.name="gui",this.workshopApp=!1,this.onAppReadyChanged=(e,t)=>{this.workshopApp&&(t&&e?this.mainDiv.classList.add("edit-mode"):this.mainDiv.classList.remove("edit-mode"))}}async init(e,t){this.workshopApp=e.workshopApp,this.mainDiv=e.mainDiv,this.container=e.container,this.reactContainer=e.reactContainer,this.queue=e.queue,this.engine=t,this.messageBus=t,this.market=t.market,this.commandBinder=t.commandBinder;const n=t.getModuleBySymbol(s.e9),i=t.getModuleBySymbol(w.dX),r=t.market.waitForData(T.m),a=t.market.waitForData(O.e);this.mainArgs=await Promise.all([n,i,a,r]),this.loadErrorBar(this.mainArgs),this.guiViewData=new _.v,this.market.register(this,_.v,this.guiViewData)}async loadUi(e){let t=[];return t=t.concat(this.mainArgs),t=t.concat([this.mainDiv,this.reactContainer,this.engine,this.messageBus,this.market,this.commandBinder,this.onAppReadyChanged,this.queue]),e.apply(this,t)}loadErrorBar(e){const{dispose:t}=((e,t,n,i,s,c,d)=>{const u=document.createElement("div");u.className="error-bar",i.insertBefore(u,i.firstElementChild);const h=Object.assign(Object.assign({},o.O),{messageBus:e,commandBinder:t,market:n,analytics:s,settings:c,locale:d}),p=(0,a.s)(u);return p.render((0,r.createElement)(l.I.Provider,{value:h},[(0,r.createElement)(S,{key:"error-bar"})])),{dispose:()=>{p.unmount(),u.remove()}}})(this.engine,this.commandBinder,this.market,this.container,e[1],e[2],e[0]);this.bindings.push({renew:()=>{},cancel:t})}}},40505:(e,t,n)=>{"use strict";n.d(t,{SN:()=>o,Z_:()=>r,bN:()=>a,nV:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.modal=e,this.open=t}}class r extends i.v0{constructor(e){super(),this.isOpen=e}}class a extends i.v0{constructor(e){super(),this.suppress=e}}class o extends i.v0{constructor(e,t){super(),this.textElement=e,this.focused=t}}},73698:(e,t,n)=>{"use strict";var i;n.d(t,{N:()=>i}),function(e){e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(i||(i={}))},6608:(e,t,n)=>{"use strict";n.d(t,{C:()=>c});var i=n(85893),s=n(67294),r=n(38772),a=n(94184),o=n.n(a),l=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let c=class extends s.Component{constructor(e){super(e)}render(){const{iconClass:e,label:t,badgeStyle:n,onClick:s,className:r,imageUrl:a}=this.props;return(0,i.jsxs)("span",Object.assign({className:o()("badge",r,{clickable:!!s}),style:n,onClick:s},{children:[e&&(0,i.jsx)("span",{className:`icon badge-icon ${e}`}),t&&(0,i.jsx)("span",Object.assign({className:"badge-label"},{children:t})),a&&(0,i.jsx)("span",Object.assign({className:"badge-img"},{children:(0,i.jsx)("img",{src:a})}))]}))}};c=l([r.Z],c)},86941:(e,t,n)=>{"use strict";n.d(t,{$:()=>u});var i,s=n(85893),r=n(67294),a=n(94184),o=n.n(a),l=n(38772),c=n(49827),d=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let u=i=class extends r.Component{constructor(e){super(e),this.strokePattern=[0,100],this.strokeOffset=0,this.innerRadius=15.92,this.strokeWidth=1,this.drawRadius=this.innerRadius+this.strokeWidth/2,this.updateSvgAttributes(e),this.elementId=this.props.id||"circle-progress-"+i.id++}UNSAFE_componentWillReceiveProps(e){this.updateSvgAttributes(e)}updateSvgAttributes(e){this.strokeWidth=e.barWidth||this.strokeWidth,this.innerRadius=e.innerRadius||this.innerRadius,this.drawRadius=this.innerRadius+this.strokeWidth/2;const t=2*this.drawRadius*Math.PI;this.strokeOffset=t*(e.startPosition||this.strokeOffset),this.strokePattern[0]=t*(0,c.uZ)(e.progress,0,100)/100,this.strokePattern[1]=t-this.strokePattern[0]}render(){const{progressColor:e}=this.props,t=2*(this.innerRadius+this.strokeWidth),n=t/2;return(0,s.jsxs)("svg",Object.assign({id:this.elementId,className:o()("circular-progress",this.props.className),viewBox:`${-n} ${-n} ${t} ${t}`},{children:[(0,s.jsx)("circle",{className:"bar-bg",cx:"0",cy:"0",r:this.drawRadius,transform:"rotate(-90) "+(this.props.ccw?"scale(-1 1)":""),strokeDasharray:`${this.strokePattern[1]} ${this.strokePattern[0]}`,strokeDashoffset:this.strokeOffset-this.strokePattern[0],strokeWidth:this.strokeWidth,fill:"none"}),(0,s.jsx)("circle",{className:e?void 0:"progress",cx:"0",cy:"0",r:this.drawRadius,transform:"rotate(-90) "+(this.props.ccw?"scale(-1 1)":""),strokeDasharray:`${this.strokePattern[0]} ${this.strokePattern[1]}`,strokeWidth:this.strokeWidth,stroke:e,fill:"none"}),this.props.children]}))}};u.id=0,u=i=d([l.Z],u)},6335:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var i=n(85893),s=n(94184),r=n.n(s),a=n(67294);function o({resource:e,className:t,children:n,onClick:s}){const[o]=function(e){var t;const[n,i]=(0,a.useState)(e.getCurrentValue()),[s,r]=(0,a.useState)(null===(t=e.validUntil)||void 0===t?void 0:t.getTime()),o=!!s&&s-Date.now()<=0;return(0,a.useEffect)((()=>{if(void 0===s)return()=>{};let t=!1;const n=s-Date.now(),a=()=>{e.get().then((n=>{var s;t||(i(n),r(null===(s=e.validUntil)||void 0===s?void 0:s.getTime()))}))};if(n<=0)return a(),()=>t=!0;const o=window.setTimeout(a,n);return()=>{t=!0,window.clearTimeout(o)}}),[e,s]),(0,a.useEffect)((()=>{i(e.getCurrentValue())}),[e]),[n,o]}(e),l=o?{backgroundImage:`url('${o}')`}:{};return(0,i.jsx)("div",Object.assign({className:r()(t),style:l,onClick:s},{children:n}))}},71215:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var i=n(85893),s=n(67294),r=n(94184),a=n.n(r);class o extends s.Component{render(){const{className:e,href:t,children:n,onClick:s}=this.props;return(0,i.jsx)("a",Object.assign({className:a()("link",{className:e}),href:t,target:"_blank",onClick:s},{children:n}))}}},77543:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(85893),s=n(67294),r=n(94184),a=n.n(r),o=n(91033),l=n(38399),c=n(49827),d=n(16441),u=n(8659),h=n(92915),p=n(4510),m=n(57151),f=n(23885),g=n(84426),v=n(33558);class b extends s.Component{constructor(e,t){super(e,t),this.outerWrapperRef=(0,s.createRef)(),this.innerWrapperRef=(0,s.createRef)(),this.contentContainerRef=(0,s.createRef)(),this.dragStartScroll=0,this.listening=!1,this.animation=null,this.handlingPaused=!1,this.isDragging=!1,this.isUnmounting=!1,this.handleEvent=e=>{"mousedown"!==e.type&&"pointerdown"!==e.type&&"touchstart"!==e.type||(this.handlingPaused=!1),this.props.suppressDrag||this.handlingPaused||this.inputFilter.handleEvent(e)},this.getScrolledOffset=()=>{if(!this.innerWrapperRef.current||0===this.state.contentSize)return 0;const e=this.props.direction===u.Nm.vertical?"scrollTop":"scrollLeft";return this.innerWrapperRef.current[e]/this.state.contentSize},this.getScrollableContainer=()=>this.innerWrapperRef.current||void 0,this.pauseScrollHandling=()=>{this.handlingPaused=!0,this.toggleDownEventListening(!1)},this.scrollWithScrollBar=e=>{if(!this.props.suppressDrag){const t=this.getAxis();e.hasOwnProperty(t)&&this.scrollTo(e[t])}},this.scrollTo=e=>{void 0===e||isNaN(e)||(this.setScrollPosition(Math.max(Math.min(1,e)*this.state.contentSize,0)),this.setState({scrollOffset:this.getScrollPosition()}))},this.handleDragStart=()=>{this.setState({scrollCenter:null}),this.isDragging=!0},this.handlePressStart=()=>{this.dragStartScroll=this.getScrollPosition()},this.handlePressMove=e=>{if(!this.props.suppressDrag){const t=(e[this.getAxis()]+this.dragStartScroll)/this.state.contentSize;this.scrollTo(t)}},this.handleWheelEvent=e=>{if(this.props.suppressDrag)return void e.preventDefault();this.props.direction===u.Nm.horizontal&&0===e.deltaX&&0!==e.deltaY?(this.handlePressStart(),this.handlePressMove({x:e.deltaY,y:0})):(this.setState({scrollCenter:null}),this.handleExternalChange())},this.handleClick=e=>{this.props.handleClick&&this.props.handleClick(e)},this.handleDragEnd=(e,t)=>{this.isDragging=!1;const n=e[this.getAxis()]/t,i=Math.min(u.UI,Math.abs(u.UI*n)),s=this.getScrollPosition(),r=n*i/2;this.animation=new p.Z({duration:i,startValue:s/this.state.contentSize,endValue:Math.max(0,Math.min((s+r)/this.state.contentSize,1)),easingFunction:f.hl})},this.handleResize=()=>{!this.isUnmounting&&this.innerWrapperRef.current&&this.contentContainerRef.current&&this.state.scrollCenter&&this.scrollToElement(this.state.scrollCenter)},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.onManualScroll=()=>{this.props.onScrolled&&this.props.onScrolled()},this.onButtonScroll=e=>{if(this.contentContainerRef.current&&this.props.steps){const t=this.props.direction===u.Nm.vertical?"offsetHeight":"offsetWidth",n=this.contentContainerRef.current[t]/this.props.steps,i=this.getScrollPosition();let s;s=e?(i+n)/this.state.contentSize:(i-n)/this.state.contentSize,this.scrollTo((0,c.uZ)(s,0,1))}},this.onScrollBack=()=>{this.onButtonScroll(!1)},this.onScrollForward=()=>{this.onButtonScroll(!0)},this.onHoldScrollBack=()=>{this.mouseInterval=window.setInterval(this.onScrollBack,300)},this.onHoldScrollForward=()=>{this.mouseInterval=window.setInterval(this.onScrollForward,300)},this.onScrollButtonUp=()=>{window.clearInterval(this.mouseInterval)},this.renderScrollBackButton=()=>{const e=this.getScrollPosition(),t=this.props.direction===u.Nm.vertical?"dpad-up":"dpad-left",n=this.context.locale.t(l.Z.SCROLLING.SCROLL_BUTTON_LABEL),s=0===e;return(0,i.jsx)(g.zx,{className:a()("scroll-button","scroll-back"),icon:t,ariaLabel:n,variant:g.Wu.TERTIARY,theme:"dark",disabled:s,onClick:this.onScrollBack,onPointerDown:this.onHoldScrollBack,onPointerUp:this.onScrollButtonUp})},this.renderScrollForwardButton=()=>{const e=this.contentContainerRef.current,t=this.innerWrapperRef.current;if(!e||!t)return null;const n=this.getScrollPosition(),s=this.props.direction===u.Nm.vertical?"offsetHeight":"offsetWidth",r=this.props.direction===u.Nm.vertical?"dpad-down":"dpad-right",o=this.context.locale.t(l.Z.SCROLLING.SCROLL_BUTTON_LABEL),c=e[s]-t[s]-n<=0;return(0,i.jsx)(g.zx,{className:a()("scroll-button","scroll-forward"),icon:r,ariaLabel:o,variant:g.Wu.TERTIARY,theme:"dark",disabled:c,onClick:this.onScrollForward,onPointerDown:this.onHoldScrollForward,onPointerUp:this.onScrollButtonUp})},this.state={scrollCenter:null,scrollOffset:0,innerSize:0,contentSize:0},this.resizeObserver=new o.Z(this.handleResize),this.inputFilter=new m.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd,handleClick:this.handleClick})}componentDidMount(){this.outerWrapperRef.current&&this.resizeObserver.observe(this.outerWrapperRef.current),this.props.thumbScrollingOnly?this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("click",this.handleClick):this.toggleDownEventListening(!0),this.toggleDragHandling(!0),this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("wheel",this.handleWheelEvent),this.inputFilter.setEnabled(!this.props.suppressDrag),this.handleExternalChange(!0)}componentWillUnmount(){this.isUnmounting=!0,this.resizeObserver.disconnect(),this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("wheel",this.handleWheelEvent),this.toggleDragHandling(!1),this.props.thumbScrollingOnly?this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("click",this.handleClick):this.toggleDownEventListening(!1)}UNSAFE_componentWillReceiveProps(e){e.thumbScrollingOnly&&!this.props.thumbScrollingOnly?(this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("click",this.handleClick),this.toggleDownEventListening(!1)):!e.thumbScrollingOnly&&this.props.thumbScrollingOnly&&(this.toggleDownEventListening(!0),this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("click",this.handleClick)),e.suppressDrag!==this.props.suppressDrag&&this.inputFilter.setEnabled(!e.suppressDrag)}componentDidUpdate(e,t){this.props.waitToUpdate||this.handleExternalChange();const n=this.animation;if(n)if(n.isAnimating){const e=n.getUpdatedValue();window.requestAnimationFrame((()=>{this.innerWrapperRef.current&&this.scrollTo(e)}))}else this.animation=null;t.scrollOffset!==this.state.scrollOffset&&this.props.onScrolled&&this.props.onScrolled()}toggleDownEventListening(e){const t=this.handleEvent;this.innerWrapperRef.current&&(e?window.PointerEvent?this.innerWrapperRef.current.addEventListener("pointerdown",t):(this.innerWrapperRef.current.addEventListener("mousedown",t),this.innerWrapperRef.current.addEventListener("touchstart",t)):window.PointerEvent?this.innerWrapperRef.current.removeEventListener("pointerdown",t):(this.innerWrapperRef.current.removeEventListener("mousedown",t),this.innerWrapperRef.current.removeEventListener("touchstart",t)))}toggleDragHandling(e){const t=this.handleEvent;!this.listening&&e?(this.listening=!0,window.PointerEvent?(window.addEventListener("pointermove",t),window.addEventListener("pointerup",t)):(window.addEventListener("mousemove",t),window.addEventListener("mouseleave",t),window.addEventListener("mouseup",t),window.addEventListener("touchmove",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t))):this.listening&&!e&&(this.listening=!1,window.PointerEvent?(window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",t)):(window.removeEventListener("mousemove",t),window.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",t),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t)))}getScrollPosition(){if(!this.innerWrapperRef.current)return 0;const e=this.props.direction===u.Nm.vertical?"scrollTop":"scrollLeft";return this.innerWrapperRef.current[e]}setScrollPosition(e){if(!this.innerWrapperRef.current)return;const t=this.props.direction===u.Nm.vertical?"scrollTop":"scrollLeft";this.innerWrapperRef.current[t]=e}getAxis(){return this.props.direction===u.Nm.vertical?"y":"x"}scrollToPercentage(e,t){this.animation=new p.Z({duration:t,startValue:this.getScrolledOffset(),endValue:Math.max(0,Math.min(1,e))})}scrollToElement(e){const t=this.innerWrapperRef.current,n=this.outerWrapperRef.current;if(!e||!t||!n)return;if(!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINS))return;const i=this.props.direction===u.Nm.vertical;this.setState({scrollCenter:e});const s=i?"offsetTop":"offsetLeft",r=i?"offsetHeight":"offsetWidth";let a=e[s]+e[r]/2,o=e;for(;o.parentElement&&o!==t;)o=o.parentElement,a+=o[s];const l=(a-n.parentElement[r]/2)/this.state.contentSize;this.animation=new p.Z({duration:u.UI,startValue:this.getScrollPosition()/this.state.contentSize,endValue:Math.max(0,Math.min(1,l))})}handleExternalChange(e){if(this.isUnmounting||!this.innerWrapperRef.current||!this.contentContainerRef.current)return;const t=this.props.direction===u.Nm.vertical?"clientHeight":"clientWidth",n={innerSize:Number(this.innerWrapperRef.current&&this.innerWrapperRef.current[t])||1,contentSize:Number(this.contentContainerRef.current&&this.contentContainerRef.current[t])||1,scrollOffset:this.innerWrapperRef.current&&this.getScrollPosition()};(0,d.g)(this.state,n)&&(e?this.setState(n):this.debouncedSetState(n))}needScrolling(){if(!this.contentContainerRef.current||!this.outerWrapperRef.current)return!1;const e=this.props.direction===u.Nm.vertical?"offsetHeight":"offsetWidth";return this.contentContainerRef.current[e]>this.outerWrapperRef.current[e]}render(){const{hideScrollbar:e,children:t,onScrollableChanged:n,scrollButtons:s,steps:r,onScrollPositionChange:o,direction:l,className:c}=this.props,{innerSize:d,contentSize:u,scrollOffset:p}=this.state,m=s&&!!r&&this.needScrolling();return(0,i.jsxs)("div",Object.assign({className:a()("outerScrollbarWrapper",[l],[c],{"button-scrolling":m}),ref:this.outerWrapperRef},{children:[m&&this.renderScrollBackButton(),(0,i.jsx)("div",Object.assign({className:"innerScrollbarWrapper",ref:this.innerWrapperRef},{children:(0,i.jsx)("div",Object.assign({className:"paddingScrollbarWrapper",ref:this.contentContainerRef},{children:t}))})),(0,i.jsx)(h.L,{direction:l,wrapperLength:d,childLength:u,scrollOffset:p,scrollTo:this.scrollWithScrollBar,forceHidden:!!e,onVisibilityChange:n,onScrollPositionChange:o,onThumbDrag:this.onManualScroll}),m&&this.renderScrollForwardButton()]}))}}b.contextType=v.I},47397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(85893),s=n(67294),r=n(38772),a=n(33558),o=n(94184),l=n.n(o),c=n(32597),d=n(40505),u=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let h=class extends s.Component{constructor(e){super(e),this.focusTimeout=0,this.onInput=e=>{if(this.props.onInput){const t=e.target;this.props.onInput(t.value)}},this.onKeyPress=e=>{e.stopPropagation();const{allowTabbing:t}=this.props,n=e.which||e.keyCode,i=[c.R.TAB,c.R.RETURN,c.R.ESCAPE];if("keydown"===e.type&&!i.includes(n))return!1;const s=e.target;switch(this.props.maxLength&&s.value.length>this.props.maxLength&&e.preventDefault(),n){case c.R.ESCAPE:this.props.onCancel&&this.props.onCancel();break;case c.R.TAB:case c.R.RETURN:this.props.onBlur||e.shiftKey||(n===c.R.TAB&&t||e.preventDefault(),this.blur())}return!1},this.stopPropagation=e=>e.stopPropagation(),this.onFocus=e=>{this.context.messageBus.broadcast(new d.SN(this.input,!0)),this.props.onFocus&&this.props.onFocus(e)},this.onBlur=e=>{this.context.messageBus.broadcast(new d.SN(this.input,!1));const t=e.target.value,{onBlur:n,onDone:i}=this.props;n?n(t):i&&i(t)},this.setRef=e=>this.input=e,this.state={currentText:e.text}}componentWillUnmount(){window.clearTimeout(this.focusTimeout),this.input&&this.input.blur()}componentDidMount(){const{focusOnMount:e,readOnly:t}=this.props;t||(0===e?this.focus():void 0!==e&&(this.focusTimeout=window.setTimeout((()=>{this.focus()}),e)))}UNSAFE_componentWillReceiveProps(e){e.text!==this.props.text&&this.setState({currentText:e.text})}getText(){return this.input?this.input.value:""}focus(){this.input.focus()}blur(){this.input.blur()}scrollIntoView(e){this.input.scrollIntoView(e)}render(){const{placeholder:e,tabIndex:t,maxLength:n,type:s,className:r,readOnly:a,disabled:o}=this.props,{currentText:c}=this.state;return(0,i.jsx)("div",Object.assign({className:l()("text-field",r)},{children:(0,i.jsx)("input",{ref:this.setRef,className:"text-input-box",type:s||"text",value:c,placeholder:e,"aria-label":e,maxLength:n,onInput:this.onInput,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyPress,onKeyUp:this.stopPropagation,onBlur:this.onBlur,onFocus:this.onFocus,tabIndex:t,readOnly:a,disabled:!!o})}))}};h.contextType=a.I,h=u([r.Z],h);const p=h},89478:(e,t,n)=>{"use strict";n.d(t,{P:()=>u});var i=n(67294),s=n(31362),r=n(33558),a=n(38242),o=n(40216),l=n(84426),c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const d=(0,s.Jm)();function u(e){const{ariaLabel:t,tooltip:n,tooltipPlacement:s="bottom",analytic:u,children:h,popupSize:p,onOpenPopup:m}=e,f=c(e,["ariaLabel","tooltip","tooltipPlacement","analytic","children","popupSize","onOpenPopup"]),{analytics:g}=(0,i.useContext)(r.I),[v,b]=(0,i.useState)(!1),y=(0,a.e)(),E=(0,o.T)();(0,i.useEffect)((()=>{v&&b(!1)}),[E]);const S=!(!v||!h),O=d||S?"static":"hover";let T;S?T=h:d&&!v||(T=n);const _={placement:s,onToggle:e=>{e||b(e)},trigger:O,theme:S?"light":"dark",size:S?p:"small"},w=`button-tooltip-${n}-${O}`,N=t||f.label||n;return(0,i.createElement)(l.zx,Object.assign({},f,{key:w,ariaLabel:N,onClick:e=>{e.stopPropagation(),v||(u&&g.trackGuiEvent(u,{tool:y}),m&&m()),b(!v)},tooltip:T,tooltipOptions:_}))}},14355:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var i,s=n(85893),r=n(67294),a=n(94184),o=n.n(a),l=n(38772),c=function(e,t,n,i){var s,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.OPEN="open",e.UNLOADING="unloading",e.CLOSED="closed"}(i||(i={}));let d=class extends r.Component{constructor(e){super(e),this.ref=(0,r.createRef)(),this.closeTimeout=0,this.onTransitionCancel=e=>{e.target===e.currentTarget&&this.state.phase===i.UNLOADING&&(window.clearTimeout(this.closeTimeout),this.setState({phase:i.CLOSED,activeChild:null}))},this.onTransitionEnd=e=>{e.target===e.currentTarget&&this.state.phase===i.UNLOADING&&(window.clearTimeout(this.closeTimeout),this.setState({phase:i.CLOSED,activeChild:null}))},this.state={phase:e.open?i.OPEN:i.CLOSED,activeChild:e.selectChild&&e.childKey||null}}componentDidMount(){this.ref.current&&this.ref.current.addEventListener("transitioncancel",this.onTransitionCancel),this.props.focus&&this.focus()}componentWillUnmount(){window.clearTimeout(this.closeTimeout),this.ref.current&&this.ref.current.removeEventListener("transitioncancel",this.onTransitionCancel)}UNSAFE_componentWillReceiveProps(e){const{open:t,childKey:n}=this.props;t&&!e.open?(this.setState({phase:i.UNLOADING}),window.clearTimeout(this.closeTimeout),this.closeTimeout=window.setTimeout((()=>{this.state.phase===i.UNLOADING&&this.setState({phase:i.CLOSED,activeChild:null})}),1e3)):!t&&e.open?(window.clearTimeout(this.closeTimeout),this.setState({phase:i.OPEN,activeChild:e.selectChild&&e.childKey||null})):n!==e.childKey&&this.setState({activeChild:e.selectChild&&e.childKey||null})}focus(){this.ref.current&&this.ref.current.focus()}renderChildren(){const{children:e,selectChild:t}=this.props,{phase:n,activeChild:s}=this.state;return n===i.CLOSED||t&&!s?null:t?e&&Array.isArray(e)&&e.length&&e.find((e=>e&&e.key===s))||null:e}render(){const{className:e,firstChild:t,style:n,onKeyDown:r,onPointerDown:a,onPointerUp:l,onClick:c,focus:d}=this.props,{phase:u}=this.state,h=o()({unloading:u===i.UNLOADING},e);return(0,s.jsxs)("div",Object.assign({ref:this.ref,className:h,style:n,onTransitionEnd:this.onTransitionEnd,onClick:c,onPointerDown:a,onPointerUp:l,onKeyDown:r,tabIndex:d?0:void 0},{children:[t||null,this.renderChildren()]}))}};d=c([l.Z],d)},38490:(e,t,n)=>{"use strict";n.d(t,{P:()=>u});var i=n(85893),s=n(94184),r=n.n(s),a=n(38399),o=n(66102),l=n(84426),c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const{CLOSE_BUTTON_TOOLTIP_MESSAGE:d}=a.Z.REUSABLES;function u(e){var{variant:t=l.Wu.TERTIARY,tooltip:n,onClose:s,className:a}=e,u=c(e,["variant","tooltip","onClose","className"]);const h=(0,o.b)(),p=u.label||h.t(d),m=u.label?void 0:p,f=u.icon||"close";return(0,i.jsx)(l.zx,Object.assign({className:r()("close-button",a),icon:f,ariaLabel:p,tooltip:m,variant:t,onKeyDown:function(e){s&&"Escape"===e.code&&(e.stopPropagation(),s())},onClick:s},u))}},8659:(e,t,n)=>{"use strict";n.d(t,{Ij:()=>u,Nm:()=>a,O1:()=>l,RD:()=>o,Sv:()=>r,UC:()=>c,UI:()=>i,cL:()=>s,uG:()=>d,w5:()=>h});const i=250,s=()=>({wrapperLength:1,childLength:1,scrollOffset:1,isVisible:!1}),r=()=>({scrollbar:null,animation:null,dragStartScroll:0});var a,o;!function(e){e.horizontal="horizontal",e.vertical="vertical"}(a||(a={})),function(e){e.x="x",e.y="y"}(o||(o={}));const l=e=>{switch(e){case a.horizontal:return o.x;case a.vertical:return o.y}throw Error()},c=e=>{switch(e){case o.x:return a.horizontal;case o.y:return a.vertical}throw Error()},d={[a.horizontal]:{scrollOffset:"scrollLeft",offsetLength:"offsetWidth",clientLength:"clientWidth",positionOffset:"offsetLeft",lengthName:"width",offsetName:"left",eventPosition:"clientX",delta:o.x},[a.vertical]:{scrollOffset:"scrollTop",offsetLength:"offsetHeight",clientLength:"clientHeight",positionOffset:"offsetTop",lengthName:"height",offsetName:"top",eventPosition:"clientY",delta:o.y}};var u;!function(e){e.Beginning="Beginning",e.Middle="Middle",e.End="End",e.None="None"}(u||(u={}));const h=(e,t)=>t?e<.01?u.Beginning:1-e<.01?u.End:u.Middle:u.None},92915:(e,t,n)=>{"use strict";n.d(t,{L:()=>d});var i=n(85893),s=n(67294),r=n(16441),a=n(57151),o=n(8659),l=n(44523);class c extends s.Component{constructor(e){super(e),this.state={visible:!1,trackLength:1,thumbLength:1,thumbOffset:0},this.direction=o.uG[e.direction],this.handlePressStart=this.handlePressStart.bind(this),this.handlePressMove=this.handlePressMove.bind(this),this.handleTrackClick=this.handleTrackClick.bind(this),this.inputFilter=new a.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove}),window.PointerEvent||(window.addEventListener("mousemove",this.inputFilter.handleEvent),window.addEventListener("mouseleave",this.inputFilter.handleEvent),window.addEventListener("mouseup",this.inputFilter.handleEvent)),window.addEventListener("pointermove",this.inputFilter.handleEvent),window.addEventListener("pointerup",this.inputFilter.handleEvent)}componentWillUnmount(){window.PointerEvent||(window.removeEventListener("mousemove",this.inputFilter.handleEvent),window.removeEventListener("mouseleave",this.inputFilter.handleEvent),window.removeEventListener("mouseup",this.inputFilter.handleEvent)),window.removeEventListener("pointermove",this.inputFilter.handleEvent),window.removeEventListener("pointerup",this.inputFilter.handleEvent)}getTrackLength(){return Number(this.thumbTrack&&this.thumbTrack[this.direction.clientLength]||this.props.containerSize.width)}handleTrackClick(e){if(e.target!==this.thumbTrack)return;const t=this.direction.eventPosition,n=this.thumbTrack.getBoundingClientRect()[this.direction.offsetName],i=e[t]<n+this.state.thumbOffset,s=this.getTrackLength();let r=0;r=i?Math.max(0,(this.state.thumbOffset-this.state.thumbLength)/s):Math.min(s,(this.state.thumbOffset+this.state.thumbLength)/s),this.props.scrollTo({[(0,o.O1)(this.props.direction)]:r})}handlePressStart(e){this.dragStartThumbOffset=this.state.thumbOffset}handlePressMove(e){const t=this.getTrackLength(),n=(this.dragStartThumbOffset-e[this.direction.delta])/t;this.props.scrollTo({[(0,o.O1)(this.props.direction)]:n}),this.props.onThumbDrag&&this.props.onThumbDrag()}componentDidUpdate(){const{wrapperLength:e,childLength:t,scrollOffset:n}=this.props;if(e>0&&t>0){const i=this.getTrackLength(),s=e/t*i,a={thumbLength:s,visible:t>e,thumbOffset:Math.min(n/t*i,i-s)};if((0,r.g)(this.state,a)){const e=this.state.visible!==a.visible;e&&this.props.onVisibilityChange&&this.props.onVisibilityChange(a.visible);const t=(0,o.w5)(a.thumbOffset/(i-s),a.visible);(t!==this.scrollPosition||e)&&(this.scrollPosition=t,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(t)),this.setState(a)}}}render(){const e={[`${this.direction.lengthName}`]:this.state.thumbLength+"px",[`${this.direction.offsetName}`]:this.state.thumbOffset+"px"},t=this.inputFilter.handleEvent,n=window.PointerEvent,s=n?t:void 0,r=n?void 0:t,a=n?void 0:t;return(0,i.jsx)("div",{children:this.state.visible&&!this.props.forceHidden&&(0,i.jsx)("div",Object.assign({className:"scrollbarTrack "+this.props.direction,onClick:this.handleTrackClick,ref:e=>{this.thumbTrack=e}},{children:(0,i.jsx)("div",{className:"scrollbarThumb",style:e,onPointerDown:s,onMouseDown:a,onTouchStart:r})}))})}}const d=(0,l.P)(c)},44472:(e,t,n)=>{"use strict";n.d(t,{S:()=>m});var i=n(85893),s=n(94184),r=n.n(s),a=n(95160),o=n(52528),l=n(67294);function c(e){const{text:t,keyPrefix:n,markers:s}=e,[r,a]=s,o=[];let c=t,d=c.search(`${r}|${a}`),u=c.search(r);for(;d>-1;){const e=d===u,s=c.slice(0,d),h=t.length-c.length,p=`${n},${h}-${h+d}`;e?o.push((0,i.jsx)(l.Fragment,{children:s},p)):o.push((0,i.jsx)("span",Object.assign({"data-blocktype":"marker"},{children:s}),p)),c=c.slice(d+(e?r.length:a.length),c.length),d=c.search(`${r}|${a}`),u=c.search(r)}if(c.length){const e=`${n},${t.length-c.length}-${t.length}`;o.push((0,i.jsx)(l.Fragment,{children:c},e))}return 0===o.length?(0,i.jsx)(i.Fragment,{children:t}):(0,i.jsx)(i.Fragment,{children:o})}function d(e){const{block:t,children:n,onClick:s}=e;return s?(0,i.jsx)("a",Object.assign({className:`link-annotation ${o.o.USER}`,onClick:s,"data-id":t.id||void 0,"data-value":t.value||void 0,"data-blocktype":t.blockType},{children:n})):(0,i.jsx)("span",Object.assign({"data-blocktype":t.blockType},{children:n}))}function u(e){const{block:t,children:n,onClick:s}=e;return s?(0,i.jsx)("a",Object.assign({className:`link-annotation ${o.o.USER}`,onClick:s,"data-blocktype":t.blockType},{children:n})):(0,i.jsx)("span",Object.assign({"data-blocktype":t.blockType},{children:n}))}function h(e){const{block:t,children:n,linksActive:s,onClick:r}=e;return r||s?(0,i.jsx)("a",Object.assign({href:`${t.value}`,target:"_blank",className:`link-annotation ${o.o.LINK}`,onClick:r,"data-blocktype":t.blockType,"data-value":t.value},{children:n})):(0,i.jsx)("span",Object.assign({"data-blocktype":t.blockType,"data-value":t.value},{children:n}))}function p(e){const{block:t,keyPrefix:n,markers:s}=e,{blockType:r,text:o}=t,l=s?(0,i.jsx)(c,{keyPrefix:n,text:o,markers:s}):(0,i.jsx)(i.Fragment,{children:o});return r===a.C.USER?(0,i.jsx)(d,Object.assign({},e,{children:l})):r===a.C.HASH?(0,i.jsx)(u,Object.assign({},e,{children:l})):r===a.C.LINK&&t.value?(0,i.jsx)(h,Object.assign({},e,{children:l})):l}function m(e){const t=e.textParser.parse(e.text),n=r()("text-box-text",e.className);return(0,i.jsx)("div",Object.assign({className:n},{children:t.map(((t,n)=>(0,i.jsx)(p,{keyPrefix:`${t.blockType}${n}`,block:t,linksActive:!!e.linksActive,onClick:e.onClick,markers:e.markers},`${t.blockType}${n}`)))}))}},52528:(e,t,n)=>{"use strict";n.d(t,{o:()=>i,v:()=>a});var i,s=n(95160),r=n(31362);!function(e){e.TEXT="",e.LINK="link-url",e.HASH="link-hashtag",e.USER="link-user"}(i||(i={}));class a{constructor(e){this.serialize=e=>{const t=[],n=[].slice.call(e.childNodes);for(const e of n)switch(e.nodeName){case"#text":t.push(this.serializeText(e));break;case"A":t.push(this.serializeAnchor(e));break;case"P":case"DIV":t.push(this.serializeElement(e,!0));break;case"SPAN":t.push(this.serializeElement(e,!1));break;case"BR":break;default:t.push(this.serialize(e))}return t.join("")},this.deserialize=(e,t,n,i=this.markers)=>{const s=this.parse(e).map((e=>this.createNode(e,t,n)));return i?this.parseMarkers(s,i):s},this.serializeText=e=>{let t=this.sanitizeText(e.textContent||"");if(this.links){const e=new RegExp(/https?:\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?/gi),n=document.createElement("a");t=t.replace(e,(e=>(n.href=e,`[${e}](${n.href})`))),n.remove()}return this.hashtags&&(t=t.replace(/(#\w*)/,(e=>`[${e}]`))),t.replace(/\<\s*br\s*\/?>/gi,"\n")},this.serializeAnchor=e=>{const t=e.dataset.blocktype,n=this.sanitizeText(e.innerText||e.textContent||"");let i=n;switch(t){case s.C.HASH:i=`[${n}]`;break;case s.C.USER:if(this.users){let t=e.dataset.id||"",n=e.dataset.value||"";if(!t&&!n&&(n="@"===i[0]?i.substr(1):i,n)){const e=this.users.getUserInfoByEmail(n);e&&(t=e.id)}(t||this.validateEmail(n))&&(i=`[@${t}](${n})`)}break;case s.C.LINK:const t=e.dataset.value||e.href;t&&(i=`[${n}](${t})`);break;default:e.href&&(i=`[${n}](${e.href})`)}return i},this.serializeElement=(e,t)=>{let n=t?"\n":" ";return e.childNodes.length>0&&(n+=this.serialize(e)),n},this.validateEmail=(()=>{const e=/\S+@\S+\.\S+/,t=document.createElement("input");return t.type="email",t.required=!0,n=>(t.value=n,"function"==typeof t.checkValidity?t.checkValidity():e.test(n))})();const{links:t,hashtags:n,users:i,markers:r}=e;this.links=t||!1,this.hashtags=n||!1,this.users=i,this.markers=r}parseMarkers(e,t){const[n,i]=t;let s=!1;const r=new RegExp(n+"|"+i);for(let t=0;t<e.length;t++){const n=e[t],{nodeType:i,textContent:a}=n,o=3===i;if(!a)continue;o?e.splice(t,1):n.textContent=null;const l=a.split(r);l.forEach(((i,r)=>{if(""!==i){let r;if(s){const e=document.createElement("span");e.setAttribute("data-blocktype","marker"),r=e,r.textContent=i}else r=document.createTextNode(i);o?e.splice(t++,0,r):n.appendChild(r)}r<l.length-1&&(s=!s)})),o&&t--}return e}createNode(e,t,n){switch(e.blockType){case s.C.USER:const r=document.createElement(n?"a":"span");if(r.setAttribute("data-blocktype",e.blockType),n){const t=r;t.className=`link-annotation ${i.USER}`,t.removeAttribute("href"),n&&(t.onclick=n);const s=e.id||"",a=e.value||"";s&&t.setAttribute("data-id",s),a&&t.setAttribute("data-value",a)}return r.textContent=`${e.text}`,r;case s.C.HASH:const a=document.createElement(n?"a":"span");if(a.setAttribute("data-blocktype",e.blockType),n){const e=a;e.className=`link-annotation ${i.HASH}`,e.removeAttribute("href"),n&&(e.onclick=n)}return a.textContent=`${e.text}`,a;case s.C.LINK:if(e.value){const s=document.createElement(n||t?"a":"span");if(s.setAttribute("data-blocktype",e.blockType),s.setAttribute("data-value",e.value),n||t){const r=s;t&&(r.href=`${e.value}`),r.target="_blank",r.className=`link-annotation ${i.LINK}`,n&&(r.onclick=n)}return s.textContent=`${e.text}`,s}}return document.createTextNode(""+e.text)}parse(e){const t=[];if(!e)return[];const n=e.split("[").map(((e,t)=>0===t?e:"["+e));let i=0;for(;i<n.length;){const e=this.parseIntoBlocks(n[i],t);e&&n.splice(i+1,0,e),i++}return t}getPlainText(e){return this.parse(e).map((e=>e.text)).join("")}searchMarkdown(e,t){let n=-1,i=0,s=0;const r=this.parse(e).map((e=>{let r;return this.matchTextBlock(e,t)?(s++,-1===n&&(n=i),r=e.markdown):r=e.text,i+=e.text.length,r}));return-1===n?null:{markdown:r.join(""),matchIndex:n,textLength:i,numMatches:s}}getUserMentions(e){return this.parse(e).filter((e=>e.blockType===s.C.USER&&e.value)).map((e=>e.value||""))}matchTextBlock(e,t){if(e.blockType===t.blockType)if(e.blockType===s.C.USER){if(e.id===t.id)return!0;if(e.value===t.value)return!0}else if(e.blockType===s.C.HASH)return e.text===t.text;return!1}parseIntoBlocks(e,t){if(this.users){const n=this.getUserBlock(e);if(n)return t.push(n),e.slice(n.markdown.length)}if(this.links){const n=this.getLinkBlock(e);if(n&&n.value&&-1===n.value.indexOf("javascript:"))return t.push(n),e.slice(n.markdown.length)}if(this.hashtags){const n=this.getHashBlock(e);if(n)return t.push(n),e.slice(n.markdown.length)}const n=this.getTextBlock(e);return n&&t.push(n),null}getTextBlock(e){return 0===e.length?null:{blockType:s.C.TEXT,text:e,markdown:e}}getHashBlock(e){const t=e.match(a.hashRegex);return!t||t.length<2?null:{blockType:s.C.HASH,markdown:t[0],text:t[1]}}getUserBlock(e){if(!this.users)return null;const t=e.match(a.userRegex);if(!t||t.length<3)return null;let n=t[1].substr(1),i=t[2];const r=i?this.users.getUserInfoByEmail(i):this.users.getUserInfoById(n),o=r?r.name:"";return n=r?r.id:n,i=r?r.email:i,{blockType:s.C.USER,markdown:t[0],id:n,value:i,text:`@${o||i}`}}getLinkBlock(e){const t=e.match(a.linkRegEx);if(!t)return null;const n=t[2];let i=1,r=0;for(;r<n.length&&("("===n[r]?i++:")"===n[r]&&i--,0!==i);)r++;const o=n.length-r;let l=this.conditionallyEncode(t[2].substring(0,r));return-1===l.indexOf("://")&&(l="http://"+l),{blockType:s.C.LINK,markdown:t[0].substring(0,t[0].length-o),text:t[1],value:l}}conditionallyEncode(e){const t=e.trim();return this.needsEncoding(t)?encodeURI(t):t}needsEncoding(e){if(e.match(r.jx))return!0;let t=e;try{t=decodeURI(e)}catch(e){}return!1}sanitizeText(e){return e.replace(/\]\(/g,"]&zwnj;(").replace(/[\u200B]/g,"").replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"')}}a.hashRegex=/\[(#(\w|-)*)\]/,a.userRegex=/\[(@\w*)\]\(([^\)\(\[\]]*)\)/,a.linkRegEx=/\[([^\]]*)\]\((.*)\)/},25071:(e,t,n)=>{"use strict";n.d(t,{Eb:()=>s,El:()=>c,Ii:()=>d,LH:()=>r,MN:()=>i,g:()=>l,oO:()=>a,vH:()=>o});const i=767,s=576,r=375,a=55,o=70,l=500,c=750,d=3},4510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(23885);class s{constructor(e){this.isAnimating=!0,this.duration=e.duration,this.startValue=e.startValue,this.changeValue=e.endValue-this.startValue,this.easingFunction=e.easingFunction||i.to}getUpdatedValue(){this.startTime||(this.startTime=Date.now());const e=Date.now()-this.startTime;return e>this.duration&&(this.isAnimating=!1),this.easingFunction(Math.min(e,this.duration),this.startValue,this.changeValue,this.duration)}}},16441:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});const i=(e,t)=>{for(const n in t)if(e[n]!==t[n])return!0;return!1}},57151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(54106),s=n(41602);class r{constructor(e){this.couldBeDrag=!1,this.isDragging=!1,this.shouldHandleEvents=!0,this.handleEvent=e=>{if(this.shouldHandleEvents)switch(e.stopPropagation(),e.type){case"mousedown":case"touchstart":case"pointerdown":this.onPressStart(e);break;case"mousemove":case"pointermove":case"touchmove":this.onPressMove(e);break;case"mouseup":case"pointerup":case"mouseleave":case"touchend":case"touchcancel":case"pointercancel":case"pointerleave":this.onPressEnd(e)}},this.callbacks=e}setEnabled(e){this.shouldHandleEvents=e,this.couldBeDrag=this.couldBeDrag&&e}getPosition(e){return(0,i.z6)(e)?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}onPressStart(e){this.couldBeDrag=!0,this.dragEvents=[],this.dragStart=this.getPosition(e),this.callbacks.handlePressStart&&this.callbacks.handlePressStart(this.getPosition(e))}onPressMove(e){if(!this.couldBeDrag)return;const t=this.getPosition(e);this.addDragEvent(t),this.isDragging||Math.sqrt(Math.pow(t.x-this.dragStart.x,2)+Math.pow(t.y-this.dragStart.y,2))>s.JU&&(this.isDragging=!0,this.callbacks.handleDragStart&&this.callbacks.handleDragStart()),this.callbacks.handlePressMove&&this.callbacks.handlePressMove({x:this.dragStart.x-t.x,y:this.dragStart.y-t.y})}onPressEnd(e){if(this.couldBeDrag){if(this.couldBeDrag=!1,this.isDragging){if(!this.dragEvents||!this.dragEvents[0])return;const e=this.dragEvents[0],t=this.dragEvents[this.dragEvents.length-1];if(this.callbacks.handleDragEnd){const n={x:0,y:0};Date.now()-t.timestamp<r.dragMoveTimeout&&(n.x=e.position.x-t.position.x,n.y=e.position.y-t.position.y),this.callbacks.handleDragEnd(n,t.timestamp-e.timestamp)}}else this.callbacks.handleClick&&this.callbacks.handleClick(e);this.isDragging=!1}}addDragEvent(e){this.dragEvents.push({position:e,timestamp:Date.now()}),this.dragEvents.length>10&&this.dragEvents.shift()}}r.dragMoveTimeout=100},61687:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});const i=({width:e,height:t})=>e<487||t<487},19280:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var i=n(25071);function s(e){return e.width<=i.MN}},23612:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,z:()=>s});var i=n(84429);class s extends i.G{constructor(e){super(),this.nativeEvent=e,this.type="hover"}}class r extends i.G{constructor(e){super(),this.nativeEvent=e,this.type="unhover"}}},84429:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});class i{constructor(){this.eventType="input",this._propagationStopped=!1,this._defaultPrevented=!1}stopPropagation(){this._propagationStopped=!0}get propagationStopped(){return this._propagationStopped}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}},51788:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,t:()=>s});var i=n(19663);class s extends i.m{constructor(){super(...arguments),this.id="GUTTER_TOUCH_SCROLL_DISABLE"}}class r extends i.m{constructor(){super(...arguments),this.id="GUTTER_TOUCH_SCROLL_ENABLE"}}},86819:(e,t,n)=>{"use strict";n.d(t,{R:()=>r,T:()=>s});var i=n(22453);class s extends i.C{constructor(e,t){super(),this.position=e,this.buttons=t}}class r extends i.C{constructor(e,t){super(),this.position=e,this.button=t}}},80592:(e,t,n)=>{"use strict";n.d(t,{E0:()=>s,Zv:()=>l,_R:()=>a,_t:()=>r,u4:()=>o});var i=n(22453);class s extends i.C{constructor(e,t,n){super(),this.position=e,this.buttons=t,this.device=n}}class r extends i.C{constructor(e,t,n,i,s){super(),this.position=e,this.clientPosition=i,this.delta=t,this.buttons=n,this.device=s}}class a extends i.C{constructor(e,t,n,i,s,r){super(),this.position=e,this.delta=t,this.buttons=n,this.timeSinceLastMove=i,this.fullDelta=s,this.device=r}}class o extends i.C{constructor(e,t){super(),this.position=e,this.pointer=t}}class l extends i.C{constructor(e,t){super(),this.position=e,this.fullDelta=t}}},22453:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var i=n(84429);class s extends i.G{}},62017:(e,t,n)=>{"use strict";n.d(t,{$b:()=>o,DG:()=>s,PC:()=>r,Vh:()=>a,pt:()=>l});var i=n(22453);class s extends i.C{constructor(e,t,n,i){super(),this.position=e,this.clientPosition=t,this.delta=n,this.buttons=i}}class r extends i.C{constructor(e,t,n,i,s){super(),this.position=e,this.clientPosition=t,this.delta=n,this.buttons=i,this.progress=s}}class a extends i.C{constructor(e,t,n){super(),this.position=e,this.clientPosition=t,this.buttons=n}}class o extends i.C{constructor(e,t){super(),this.position=e,this.clientPosition=t}}class l extends i.C{constructor(e,t,n){super(),this.position=e,this.clientPosition=t,this.cancelled=n}}},80160:(e,t,n)=>{"use strict";n.d(t,{d:()=>s,h:()=>r});var i=n(22453);class s extends i.C{constructor(e,t,n){super(),this.pointerCount=e,this.position=Object.assign({},t),this.delta=Object.assign({},n)}}class r extends i.C{constructor(e,t,n,i){super(),this.pointerCount=e,this.position=Object.assign({},t),this.delta=Object.assign({},n),this.timeSinceLastMove=i}}},11442:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,i:()=>r});var i=n(22453);class s extends i.C{constructor(e){super(),this.pinchDelta=e}}class r extends i.C{constructor(e,t){super(),this.pinchDelta=e,this.timeSinceLastMove=t}}},96955:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var i=n(22453);class s extends i.C{constructor(e){super(),this.pointers=e}}},10082:(e,t,n)=>{"use strict";n.d(t,{D:()=>s,u:()=>r});var i=n(22453);class s extends i.C{constructor(e){super(),this.rotateDelta=e}}class r extends i.C{constructor(e,t){super(),this.rotateDelta=e,this.timeSinceLastMove=t}}},12250:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var i=n(22453);class s extends i.C{constructor(e,t){super(),this.position=e,this.delta=t}}},96280:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ie});var i=n(97542),s=n(30935),r=n(54106),a=n(16782);const o=e=>{const t=a.r[a.M[e]];return"number"==typeof t?t:void 0};var l=n(67678),c=n(41927),d=n(88951),u=n(39880),h=n(31362),p=n(92826),m=n(92937);class f{constructor(e,t,n,i,s){if(this.config=e,this.canvasData=n,this.gutterScrollEnabled=s,this.handledTouchesAsPointer=0,this.lastTouchEnd=0,this.scrollGutterStart=!1,this.bindings=[],this.activeButtons=a.r.NONE,this.preventDoubleTap=e=>{e.cancelable&&e.timeStamp-this.lastTouchEnd<=f.doubleTapThreshold&&e.preventDefault(),this.lastTouchEnd=e.timeStamp},this.preventMultiTouchGesture=e=>{const t=e.touches&&e.touches.length>1,n="scale"in e&&1!==e.scale;(t||n)&&e.cancelable&&e.preventDefault()},this.onEventCallback=i,window.PointerEvent||this.bindings.push(new p.r(t,"mousedown",(e=>this.onMouseDown(e))),new p.r(t,"mouseup",(e=>this.onMouseUp(e))),new p.r(t,"mousemove",(e=>this.onMouseMove(e))),new p.r(t,"mouseenter",(e=>this.onMouseEnter(e)))),this.bindings.push(new p.r(t,"contextmenu",(e=>e.preventDefault())),new p.r(t,"touchstart",(e=>this.onTouchStart(e))),new p.r(t,"touchend",(e=>this.onTouchEnd(e))),new p.r(t,"touchmove",(e=>this.onTouchMove(e))),new p.r(t,"touchcancel",(e=>this.onTouchEnd(e))),new p.r(t,"pointerdown",(e=>this.onPointerDown(e))),new p.r(t,"pointerup",(e=>this.onPointerUp(e))),new p.r(t,"pointermove",(e=>this.onPointerMove(e))),new p.r(t,"pointercancel",(e=>this.onPointerUp(e))),new p.r(t,"pointerenter",(e=>this.onMouseEnter(e)))),(0,h.Tt)()||(0,h._1)()){const e=d.h?{passive:!1}:void 0;this.bindings.push(new p.r(t,"touchmove",this.preventMultiTouchGesture,e),new p.r(t,"touchend",this.preventDoubleTap,e))}}dispose(){for(const e of this.bindings)e.cancel();this.bindings.length=0}toggleTouchScrolling(e){this.gutterScrollEnabled=e}onMouseDown(e){e.currentTarget.focus(),this.tryPreventDefault(e),this.activeButtons|=1<<e.button;const{ndc:t,client:n}=this.getPointerPosition(e);this.onEventCallback(new l.er(this.getPointerId(e),t,n,e.button,!0,c._.MOUSE,e))}onMouseUp(e){this.tryPreventDefault(e),this.activeButtons&=~(1<<e.button);const{ndc:t,client:n}=this.getPointerPosition(e);this.onEventCallback(new l.er(this.getPointerId(e),t,n,e.button,!1,c._.MOUSE,e))}onMouseMove(e){this.tryPreventDefault(e);const{ndc:t,client:n}=this.getPointerPosition(e);this.onEventCallback(new l.mE(this.getPointerId(e),t,n,this.activeButtons,c._.MOUSE,e))}onMouseEnter(e){this.checkMissingButtons(e)}checkMissingButtons(e){const t=(0,u.lY)(e.buttons,a.M.MIDDLE,a.M.SECONDARY),n=(this.activeButtons^t)&~t;for(let t=a.M.PRIMARY;t<a.M.COUNT;++t){const i=o(t);if(i&&(n&i)>0){const{ndc:n,client:i}=this.getPointerPosition(e);this.onEventCallback(new l.er(this.getPointerId(e),n,i,t,!1,c._.MOUSE,e))}}this.activeButtons=t}onTouchStart(e){if(this.scrollGutterStart=this.isScrollGutter(e),e.currentTarget.focus(),this.scrollGutterStart||this.tryPreventDefault(e),this.handledTouchesAsPointer)--this.handledTouchesAsPointer;else for(let t=0;t<e.changedTouches.length;t++){const n=e.changedTouches.item(t),{ndc:i,client:s}=this.getTouchPosition(n);this.onEventCallback(new l.er(n.identifier,i,s,a.M.PRIMARY,!0,c._.TOUCH,e))}}onTouchEnd(e){if(this.scrollGutterStart?this.scrollGutterStart=!1:this.tryPreventDefault(e),this.handledTouchesAsPointer)--this.handledTouchesAsPointer;else for(let t=0;t<e.changedTouches.length;t++){const n=e.changedTouches.item(t),{ndc:i,client:s}=this.getTouchPosition(n);this.onEventCallback(new l.er(n.identifier,i,s,a.M.PRIMARY,!1,c._.TOUCH,e))}}onTouchMove(e){if(this.scrollGutterStart&&(this.isScrollGutter(e)||(this.scrollGutterStart=!1)),this.scrollGutterStart||this.tryPreventDefault(e),this.handledTouchesAsPointer)--this.handledTouchesAsPointer;else for(let t=0;t<e.changedTouches.length;t++){const n=e.changedTouches.item(t),{ndc:i,client:s}=this.getTouchPosition(n),r=new l.mE(n.identifier,i,s,a.r.PRIMARY,c._.TOUCH,e);this.onEventCallback(r)}}onPointerDown(e){const{ndc:t,client:n}=this.getPointerPosition(e);switch(this.scrollGutterStart=this.isScrollGutter(e),this.scrollGutterStart||this.tryPreventDefault(e),e.pointerType){case c._.MOUSE:this.onMouseDown(e);break;case c._.GAMEPAD:case c._.TOUCH:++this.handledTouchesAsPointer,this.onEventCallback(new l.er(e.pointerId,t,n,a.M.PRIMARY,!0,e.pointerType,e))}}onPointerUp(e){switch(this.scrollGutterStart?this.scrollGutterStart=!1:this.tryPreventDefault(e),e.pointerType){case c._.MOUSE:this.onMouseUp(e);break;case c._.GAMEPAD:case c._.TOUCH:++this.handledTouchesAsPointer;const{ndc:t,client:n}=this.getPointerPosition(e);this.onEventCallback(new l.er(e.pointerId,t,n,a.M.PRIMARY,!1,e.pointerType,e))}}onPointerMove(e){switch(this.scrollGutterStart&&(this.isScrollGutter(e)||(this.scrollGutterStart=!1)),this.scrollGutterStart||this.tryPreventDefault(e),e.pointerType){case c._.MOUSE:-1!==e.button?this.activeButtons<e.buttons?this.onMouseDown(e):this.activeButtons>e.buttons&&this.onMouseUp(e):this.onMouseMove(e);break;case c._.GAMEPAD:case c._.TOUCH:++this.handledTouchesAsPointer;const{ndc:t,client:n}=this.getPointerPosition(e);this.onEventCallback(new l.mE(e.pointerId,t,n,a.r.PRIMARY,e.pointerType,e))}}getPointerId(e){return(0,r.bX)(e)?e.pointerId:0}getPointerPosition(e){return{ndc:this.normalizePosition(e.clientX,e.clientY),client:{x:e.clientX-this.canvasData.x,y:e.clientY-this.canvasData.y}}}getTouchPosition(e){return{ndc:this.normalizePosition(e.clientX,e.clientY),client:{x:e.clientX-this.canvasData.x,y:e.clientY-this.canvasData.y}}}normalizePosition(e,t){return{x:2*(e-this.canvasData.x)/this.canvasData.width-1,y:-2*(t-this.canvasData.y)/this.canvasData.height+1}}isScrollGutter(e){if(!this.gutterScrollEnabled)return!1;let t;if(!(e instanceof PointerEvent)){if(1!==e.changedTouches.length)return!1;const n=e.changedTouches.item(0);t=this.getTouchPosition(n).client.x}else{if(e.pointerType!==c._.TOUCH)return!1;t=this.getPointerPosition(e).client.x}return(0,m.y)(t,e.currentTarget)}tryPreventDefault(e){if(!e.cancelable)return;(!(e instanceof MouseEvent||e instanceof PointerEvent)||this.config.pointerPreventDefault)&&e.preventDefault()}}f.doubleTapThreshold=300;var g,v=n(32597),b=n(6667),y=n(89553);!function(e){e[e.SEMICOLON=59]="SEMICOLON",e[e.PLUSEQUALS=61]="PLUSEQUALS",e[e.DASHUNDERSCORE=173]="DASHUNDERSCORE"}(g||(g={}));const E=[v.R.TAB,v.R.RETURN,v.R.SPACE,v.R.ESCAPE];class S{constructor(e,t){this.rootNode=e,this.keysDown={},this.bindings=[],this.onEventCallback=t,this.bindHandlers()}dispose(){for(const e of this.bindings)e.cancel();this.bindings.length=0}isKeyHeld(e){return!!this.keysDown[e]}bindHandlers(){const e=this.rootNode;this.bindings.push(new p.r(e,"focusout",(({relatedTarget:e})=>{e&&e instanceof Node&&this.rootNode.contains(e)||Object.keys(this.keysDown).forEach((e=>this.keysDown[e]=!1))})),new p.r(e,"keydown",(e=>{if(e.ctrlKey||e.metaKey)return;E.includes(e.keyCode)||(e.preventDefault(),e.stopPropagation());const t=this.translateFirefoxKeys(e.which||e.keyCode);this.keysDown[t]=!0,this.onEventCallback(new y.e(t,b.M.DOWN,e))})),new p.r(e,"keyup",(e=>{if(e.ctrlKey||e.metaKey)return;E.includes(e.keyCode)||(e.preventDefault(),e.stopPropagation());const t=this.translateFirefoxKeys(e.which||e.keyCode);this.keysDown[t]&&this.onEventCallback(new y.e(t,b.M.PRESSED,e)),this.keysDown[t]=!1,this.onEventCallback(new y.e(t,b.M.UP,e))})))}translateFirefoxKeys(e){switch(e){case g.SEMICOLON:return v.R.SEMICOLON;case g.PLUSEQUALS:return v.R.PLUSEQUALS;case g.DASHUNDERSCORE:return v.R.DASHUNDERSCORE}return e}}var O,T=n(81396);!function(e){e[e.WAITING=0]="WAITING",e[e.WAITINGTOEXCEEDTHRESHOLD=1]="WAITINGTOEXCEEDTHRESHOLD",e[e.GESTURING=2]="GESTURING"}(O||(O={}));var _=n(86819);class w{constructor(e=.04,t=300){this.dragLimit=e,this.holdLimit=t,this.startPosition=new T.Vector2,this.pointerDelta=new T.Vector2,this.activeButtons=a.r.NONE,this.state=O.WAITING}start(e){if(this.state===O.WAITING&&this.startPosition.copy(e.position),0==(e.buttons&e.buttons-1))this.startTime=Date.now(),this.activeButtons=e.buttons,this.state=O.WAITINGTOEXCEEDTHRESHOLD;else if(this.activeButtons)return this.state=O.GESTURING,new _.T(e.position,this.activeButtons)}stop(){let e;return this.state===O.WAITINGTOEXCEEDTHRESHOLD&&Date.now()-this.startTime<this.holdLimit&&(e=new _.R(this.startPosition.add(this.pointerDelta),(e=>{const t=a.M[a.r[e]];return"number"==typeof t?t:void 0})(this.activeButtons)),this.pointerDelta.set(0,0)),this.state=O.WAITING,e}onMove(e){if(this.state===O.WAITINGTOEXCEEDTHRESHOLD&&(this.pointerDelta.copy(e.position).sub(this.startPosition),this.pointerDelta.length()>this.dragLimit))return this.state=O.GESTURING,new _.T(e.position,e.buttons)}compareState(e){return e===this.state}}var N=n(80592);class A{constructor(e,t=.04){this.onEventCallback=e,this.startPosition=new T.Vector2,this.previousPosition=new T.Vector2,this.pointerDelta=new T.Vector2,this.lastPointerMove=Date.now(),this.state=O.WAITING,this.threshold=t,this.device=null}start(e){return this.state===O.WAITING&&(this.startPosition.copy(e.position),this.previousPosition.copy(this.startPosition),this.state=O.WAITINGTOEXCEEDTHRESHOLD,this.device=e.device),new N.E0(e.position,e.buttons,e.device)}stop(){const e=(new T.Vector2).copy(this.previousPosition).sub(this.startPosition);this.state===O.GESTURING&&this.onEventCallback(new N.Zv(this.startPosition,e)),this.state===O.WAITING&&this.pointerDelta.set(0,0),this.state=O.WAITING;const t=Date.now()-this.lastPointerMove,n=this.device;if(this.device=null,!n)throw new Error("Cannot stop a drag gesture without a device that was tracked at the start");return new N._R(this.previousPosition,this.pointerDelta,a.r.NONE,t,e,n)}onMove(e){let t;return this.state===O.WAITINGTOEXCEEDTHRESHOLD&&(this.pointerDelta.copy(e.position).sub(this.startPosition),this.pointerDelta.length()>this.threshold&&(this.state=O.GESTURING,this.onEventCallback(new N.u4(this.startPosition,e)))),this.state===O.GESTURING&&(this.pointerDelta.copy(e.position).sub(this.previousPosition),this.device=e.device,this.pointerDelta.length()>0&&(t=new N._t(this.previousPosition,this.pointerDelta,e.buttons,e.clientPosition,e.device))),this.previousPosition.copy(e.position),this.lastPointerMove=Date.now(),t}compareState(e){return e===this.state}compareStartPoint(e){return e.equals(this.startPosition)}compareDelta(e){return e.equals(this.pointerDelta)}}var I=n(22453);class k extends I.C{constructor(e){super(),this.scrollY=e}}class P{constructor(e,t,n=3){this.gutterScrollEnabled=e,this.canvas=t,this.threshold=n,this.state=O.WAITING}toggleTouchScrolling(e){this.gutterScrollEnabled=e}start(e){this.gutterScrollEnabled&&(0,m.y)(e.clientPosition.x,this.canvas)&&this.state===O.WAITING&&(this.startPosition=Object.assign({},e.clientPosition),this.previousY=e.clientPosition.y,this.state=O.WAITINGTOEXCEEDTHRESHOLD)}stop(){this.gutterScrollEnabled&&(this.state=O.WAITING)}onMove(e){if(!this.gutterScrollEnabled)return;const{x:t,y:n}=e.clientPosition,i=(0,m.y)(t,this.canvas);if(i&&this.state===O.WAITINGTOEXCEEDTHRESHOLD){const e=Math.abs(t-this.startPosition.x),i=Math.abs(n-this.startPosition.y);i>e&&i>this.threshold&&(this.state=O.GESTURING)}const s=n-this.previousY;if(this.previousY=n-s,i&&this.state===O.GESTURING)return new k(-s);!i&&[O.GESTURING,O.WAITINGTOEXCEEDTHRESHOLD].includes(this.state)&&(this.state=O.WAITING)}}var L=n(11442);class R{constructor(e=new T.Vector2,t=new T.Vector2,n=0){this.lastPosition=e,this.velocity=t,this.samePositionTicks=n}start(e){this.lastPosition.copy(e),this.velocity.set(0,0),this.samePositionTicks=0}update(e){if(this.lastPosition.distanceTo(e)<=.01){if(this.samePositionTicks++,this.samePositionTicks<2)return}else this.samePositionTicks=0;this.velocity.copy(this.lastPosition).sub(e),this.lastPosition.copy(e)}stationary(){return this.samePositionTicks>=2||this.velocity.length()<.01}}const C=2*Math.SQRT2;class D{constructor(e=.04){this.threshold=e,this.startDistance=0,this.previousDistance=0,this.pointerDelta=new T.Vector2,this.lastPointerMove=Date.now(),this.pinchDelta=0,this.state=O.WAITING,this.pointerMovement1=new R,this.pointerMovement2=new R}start(e,t){this.state===O.WAITING&&(this.restart(e,t),this.pointerMovement1.start(e.position),this.pointerMovement2.start(t.position))}stop(){this.state=O.WAITING;const e=Date.now()-this.lastPointerMove;return new L.i(this.pinchDelta,e)}onMove(e,t){this.pointerMovement1.update(e.position),this.pointerMovement2.update(t.position);if(!(this.pointerMovement1.stationary()||this.pointerMovement2.stationary()||this.pointerMovement1.velocity.dot(this.pointerMovement2.velocity)<0))return void this.restart(e,t);this.pointerDelta.copy(e.position).sub(t.position);const n=this.pointerDelta.length()/C;if(this.state===O.WAITINGTOEXCEEDTHRESHOLD){const e=n-this.startDistance;Math.abs(e)>this.threshold&&(this.state=O.GESTURING)}let i;if(this.state===O.GESTURING){const e=n-this.previousDistance;Math.abs(e)>0&&(this.pinchDelta=e,i=new L.G(e))}return this.previousDistance=n,this.lastPointerMove=Date.now(),i}restart(e,t){this.state=O.WAITINGTOEXCEEDTHRESHOLD,this.startDistance=e.position.distanceTo(t.position)/C,this.previousDistance=this.startDistance}}var M=n(49827),x=n(10082);class j{constructor(e=.1){this.startPointerDelta=new T.Vector2,this.previousPointerDelta=new T.Vector2,this.pointerDelta=new T.Vector2,this.lastPointerMove=Date.now(),this.angleWithDirection=0,this.state=O.WAITING,this.threshold=e}start(e,t){this.state===O.WAITING&&(this.state=O.WAITINGTOEXCEEDTHRESHOLD,this.startPointerDelta.copy(e.position).sub(t.position).normalize(),this.pointerDelta.copy(this.startPointerDelta),this.previousPointerDelta.copy(this.pointerDelta))}stop(){this.state=O.WAITING;const e=Date.now()-this.lastPointerMove;return new x.u(this.angleWithDirection,e)}onMove(e,t){if(this.pointerDelta.copy(e.position).sub(t.position).normalize(),this.state===O.WAITINGTOEXCEEDTHRESHOLD){Math.acos((0,M.uZ)(this.pointerDelta.dot(this.startPointerDelta),-1,1))>this.threshold&&(this.state=O.GESTURING)}let n;if(this.state===O.GESTURING){const e=Math.acos((0,M.uZ)(this.pointerDelta.dot(this.previousPointerDelta),-1,1));if(e>0){const t=this.previousPointerDelta.x*this.pointerDelta.y-this.previousPointerDelta.y*this.pointerDelta.x;this.angleWithDirection=t>=0?e:-e,n=new x.D(this.angleWithDirection)}}return this.previousPointerDelta.copy(this.pointerDelta),this.lastPointerMove=Date.now(),n}compareState(e){return e===this.state}}const U=function(e,t){if(t.setLength(0),0===e.length)return t;let n=0;for(const i of e)t.add(i),n++;return t.divideScalar(n),t};var F=n(80160);class H{constructor(e=.04){this.startEpicenter=new T.Vector2,this.previousEpicenter=new T.Vector2,this.deltaEpicenter=new T.Vector2,this.currentEpicenter=new T.Vector2,this.pointerCount=0,this.lastPointerMove=Date.now(),this.state=O.WAITING,this.pointerMovements=[],this.threshold=e}start(e){this.state===O.WAITING&&(this.restart(e),this.pointerMovements=e.map((e=>new R)),e.forEach(((e,t)=>{this.pointerMovements[t].start(e.position)})))}stop(){this.state=O.WAITING;const e=this.pointerCount;this.pointerCount=0;const t=Date.now()-this.lastPointerMove;return new F.h(e,this.currentEpicenter,this.deltaEpicenter,t)}onMove(e){U(this.getPointerPositions(e),this.currentEpicenter),e.forEach(((e,t)=>{this.pointerMovements[t].update(e.position)}));if(this.pointerMovements.find((e=>e.stationary())))return void this.restart(e);const t=this.pointerMovements[0].velocity;if(this.pointerMovements.find((e=>t.dot(e.velocity)<0)))return void this.restart(e);if(this.state===O.WAITINGTOEXCEEDTHRESHOLD){this.currentEpicenter.distanceTo(this.startEpicenter)>this.threshold&&(this.state=O.GESTURING)}let n;return this.state===O.GESTURING&&(this.deltaEpicenter.copy(this.currentEpicenter).sub(this.previousEpicenter),n=new F.d(e.length,this.currentEpicenter,this.deltaEpicenter)),this.previousEpicenter.copy(this.currentEpicenter),this.lastPointerMove=Date.now(),n}getPointerPositions(e){return e.map((e=>e.position))}restart(e){U(this.getPointerPositions(e),this.startEpicenter),this.previousEpicenter.copy(this.startEpicenter),this.currentEpicenter.copy(this.previousEpicenter),this.state=O.WAITINGTOEXCEEDTHRESHOLD,this.pointerCount=e.length}}var V=n(12250),B=n(62017);const G=new(n(97998).Z)("longpress");var W;!function(e){e[e.IDLE=0]="IDLE",e[e.WAITING=1]="WAITING",e[e.STARTED=2]="STARTED",e[e.SUCCESSFUL=3]="SUCCESSFUL"}(W||(W={}));class z{constructor(e,t=500){this.onEventCallback=e,this.state=W.IDLE,this.ndcStartPosition=new T.Vector2,this.pointerDelta=new T.Vector2,this.ndcPosition=new T.Vector2,this.clientPosition=new T.Vector2,this.pressConfirmThreshold=this.pressStartThreshold=Math.max(t,1e-4)}start(e){this.state!==W.IDLE&&this.stop(),this.state===W.IDLE&&0==(e.buttons&e.buttons-1)&&(this.ndcStartPosition.copy(e.position),this.state=W.WAITING,this.buttons=e.buttons,this.pointerDelta.set(0,0),this.ndcPosition.copy(e.position),this.clientPosition.copy(e.clientPosition),this.holdTimeout=window.setTimeout((()=>{this.state=W.STARTED,G.debug("STARTED"),this.startTime=Date.now(),this.progress(0),this.onEventCallback(new B.Vh(e.position,e.clientPosition,e.buttons)),this.successTimeout=window.setTimeout((()=>{G.debug("SUCCESSFUL"),this.state=W.SUCCESSFUL,this.progress(1),this.onEventCallback(new B.$b(this.ndcPosition,this.clientPosition))}),this.pressConfirmThreshold)}),this.pressStartThreshold))}stop(){const e=this.state;if(this.state=W.IDLE,window.clearTimeout(this.holdTimeout),window.clearTimeout(this.successTimeout),e>W.WAITING){G.debug("DONE, cancelled:",e<W.SUCCESSFUL);const t=e<W.SUCCESSFUL;this.onEventCallback(new B.pt(this.ndcPosition,this.clientPosition,t))}}onMove(e){const t=this.state===W.STARTED||this.state===W.WAITING,n=this.state===W.STARTED||this.state===W.SUCCESSFUL;(t||n)&&(this.ndcPosition.copy(e.position),this.clientPosition.copy(e.clientPosition),this.pointerDelta.copy(this.ndcPosition).sub(this.ndcStartPosition)),t&&this.pointerDelta.length()>.1?this.stop():n&&this.onEventCallback(new B.DG(this.ndcPosition,this.clientPosition,this.pointerDelta,this.buttons))}tick(){if(this.state===W.STARTED){const e=1-(this.pressStartThreshold-(Date.now()-this.startTime))/this.pressStartThreshold;this.progress(Math.min(1,e))}}progress(e){this.onEventCallback(new B.PC(this.ndcPosition,this.clientPosition,this.pointerDelta,this.buttons,e))}}var K=n(96955),Y=n(61864);class q{constructor(){this.displayTouches=!1,this.touches=new Map}async init(e){const[t]=await Promise.all([e.getModuleBySymbol(Y.Ak)]);t.registerMenuButton({header:"Input",buttonName:"Toggle pointer visualization",callback:()=>{this.displayTouches=!this.displayTouches}})}addPointer(e,t){this.displayTouches&&(this.touches.set(e,this.createPointer(t)),this.movePointer(e,t))}removePointer(e){const t=this.touches.get(e);t&&(document.body.removeChild(t),this.touches.delete(e))}movePointer(e,t){const n=this.touches.get(e);n&&(n.style.left=t.x-25+"px",n.style.top=t.y-25+"px")}createPointer(e){const t=document.createElement("div");return t.style.position="fixed",t.style.backgroundColor="#aa11aa",t.style.width="50px",t.style.height="50px",t.style.zIndex="99999",t.style.pointerEvents="none",t.style.touchAction="none",t.style.borderRadius="50px",document.body.appendChild(t),t}}var $,Z=n(92810);!function(e){e[e.NONE=0]="NONE",e[e.CLICK_DRAG_LONGPRESS=1]="CLICK_DRAG_LONGPRESS",e[e.PINCH_ROTATE=2]="PINCH_ROTATE",e[e.MULTI_SWIPE_ONLY=3]="MULTI_SWIPE_ONLY"}($||($={}));class Q{constructor(){this.activeGesture=$.NONE,this.pointers=[],this.couldBeClick=!1,this.isScrolling=!1,this.bindings=[]}async init(e,t,n){this.onEventCallback=t;const i=await n.getModuleBySymbol(Z.iM);this.clicker=new w(e.dragThreshold),this.longPress=new z(t,e.holdThreshold),this.dragger=new A(t,e.dragThreshold),this.pincher=new D(e.pinchThreshold),this.rotater=new j(e.rotateThreshold),this.multiswiper=new H(e.dragThreshold);const s=(0,h.yL)()&&(0,h.Jm)();this.scroller=new P(s,i.element,e.scrollThreshold),e.disableWheel||this.bindWheelHandlers(i.element),this.inputDebug=new q,this.inputDebug.init(n)}dispose(){for(const e of this.bindings)null==e||e.cancel();this.bindings=[]}get activePointers(){return this.pointers.length}onPointerChange(e){this.isMoveEvent(e)?this.onPointerMove(e):this.onPointerButton(e)}toggleTouchScrolling(e){this.scroller.toggleTouchScrolling(e)}isMoveEvent(e){return!e.hasOwnProperty("down")}onPointerMove(e){this.movePointer(e),this.inputDebug.movePointer(e.id,e.clientPosition)}onPointerButton(e){e.down?(this.addPointer(e),this.inputDebug.addPointer(e.id,e.clientPosition)):(this.removePointer(e),this.inputDebug.removePointer(e.id))}bindWheelHandlers(e){this.bindings.push(new p.r(e,"wheel",(t=>{(0,h.yL)()&&(0,m.y)(t.clientX,e)||(t.preventDefault(),this.onEventCallback(new V.a({x:t.clientX,y:t.clientY},{x:this.normalizeWheelDelta(t.deltaMode,t.deltaX),y:this.normalizeWheelDelta(t.deltaMode,t.deltaY)})))})))}normalizeWheelDelta(e,t){if(e===WheelEvent.DOM_DELTA_LINE){return.7*t*t*t+13*t}return t}addPointer(e){const{id:t,button:n,position:i,clientPosition:s,device:r}=e,a=o(n);if(!a)return;const l=this.getPointer(t);l&&0==(l.buttons&a)?(l.buttons|=a,l.activeButtons++,l.device=r):this.pointers.push({id:t,position:new T.Vector2(i.x,i.y),clientPosition:new T.Vector2(s.x,s.y),buttons:a,activeButtons:1,device:r}),this.toggleGestures(e)}removePointer(e){const{id:t,button:n}=e,i=o(n);if(!i)return;const s=this.getPointerIndex(t);if(-1!==s){const t=this.pointers[s];0!=(t.buttons&i)&&(t.buttons&=~i,t.activeButtons--),t.activeButtons||this.pointers.splice(s,1),this.toggleGestures(e)}}movePointer(e){const{id:t,position:n,clientPosition:i,buttons:s}=e,r=this.getPointer(t);if(r)switch(r.position.copy(n),r.clientPosition.copy(i),r.buttons!==s?this.updateOffscreenPointer(r,e):this.onEventCallback(new K.h(this.pointers)),this.activeGesture){case $.CLICK_DRAG_LONGPRESS:const e=this.scroller.onMove(r);this.isScrolling=!!e;const t=this.clicker.onMove(r);t&&this.onEventCallback(t);const n=this.dragger.onMove(r);n&&!this.isScrolling&&this.onEventCallback(n),this.longPress.onMove(r);break;case $.PINCH_ROTATE:const i=this.pincher.onMove(this.pointers[0],this.pointers[1]),s=this.rotater.onMove(this.pointers[0],this.pointers[1]);i&&this.onEventCallback(i),s&&this.onEventCallback(s);case $.MULTI_SWIPE_ONLY:const a=this.multiswiper.onMove(this.pointers);a&&this.onEventCallback(a)}}getPointer(e){const t=this.getPointerIndex(e);if(-1!==t)return this.pointers[t]}toggleGestures(e){this.onEventCallback(new K.h(this.pointers));const t=this.activeGesture;if(this.activeGesture=this.pointers.length,t===$.CLICK_DRAG_LONGPRESS&&this.activeGesture===$.NONE&&this.couldBeClick){const e=this.clicker.stop();e&&!this.isScrolling&&this.onEventCallback(e)}if(this.couldBeClick=t===$.NONE&&this.activeGesture===$.CLICK_DRAG_LONGPRESS,this.activeGesture===$.CLICK_DRAG_LONGPRESS){const t=this.clicker.start(this.pointers[0]);if(t&&this.onEventCallback(t),!e.defaultPrevented){this.scroller.start(this.pointers[0]);const e=this.dragger.start(this.pointers[0]);e&&this.onEventCallback(e),this.longPress.start(this.pointers[0])}}else if(t===$.CLICK_DRAG_LONGPRESS){const e=this.dragger.stop();this.scroller.stop(),this.isScrolling=!1,this.longPress.stop(),this.onEventCallback(e)}this.activeGesture===$.PINCH_ROTATE?(this.pincher.start(this.pointers[0],this.pointers[1]),this.rotater.start(this.pointers[0],this.pointers[1]),this.multiswiper.start(this.pointers)):t===$.PINCH_ROTATE&&(this.onEventCallback(this.pincher.stop()),this.onEventCallback(this.rotater.stop()),this.onEventCallback(this.multiswiper.stop())),this.activeGesture===$.MULTI_SWIPE_ONLY?this.multiswiper.start(this.pointers):t===$.MULTI_SWIPE_ONLY&&this.onEventCallback(this.multiswiper.stop())}getPointerIndex(e){for(let t=0;t<this.pointers.length;t++){if(this.pointers[t].id===e)return t}return-1}updateOffscreenPointer(e,t){if(e.buttons=t.buttons,0===t.buttons){const n=this.getPointerIndex(e.id);this.pointers.splice(n,1),this.toggleGestures(t)}}tick(){this.longPress.tick()}}var X=n(48917),J=n(23612),ee=n(5332),te=n(51788);class ne{constructor(e,t,n){this._renew=e,this._cancel=t,this.active=n}renew(){this.active()||this._renew()}cancel(){this.active()&&this._cancel()}}class ie extends i.Y{constructor(){super(...arguments),this.name="input-ini",this.fallbackHandlerMap={},this.meshHandlerMap={},this.priorityHandlerMap={},this.unfilteredHandlerMap={},this.captureHandlerMap={},this.gesturing=!1,this.gestureCapture=new X.Z((e=>e.object.id)),this.activeIntersections=new X.Z((e=>e.object.id)),this.eventTypeLookup=new s.cj,this.meshTypeLookup=new s.cj,this.hoveredMesh={object:null,instanceId:void 0,index:void 0},this.registerUnfilteredHandler=(e,t)=>{this.insertHandler(e,this.unfilteredHandlerMap,t);const n=this.eventTypeLookup.getKeyByType(e);return new ne((()=>this.registerUnfilteredHandler(e,t)),(()=>this.unregisterUnfilteredHandler(e,t)),(()=>-1!==this.unfilteredHandlerMap[n].indexOf(t)))},this.registerMesh=(e,t,n)=>{this.raycaster.targets.addTarget(e,t,n)},this.unregisterMesh=e=>{this.raycaster.targets.removeTarget(e)},this.onPointerEvent=e=>{const t=!e.hasOwnProperty("down"),n=!t&&e.down,i=!n&&!t;this.raycaster.pointer.updatePointer(e.position),this.activeIntersections.clear();for(const e of this.raycaster.pointer.cast())this.activeIntersections.add(e);if(t||n){if(!this.gesturing){this.gestureCapture.clear();for(const e of this.activeIntersections)this.gestureCapture.add(e);this.updateHoveredMesh(e)}n&&(this.gesturing=!0),this.onEvent(e)}i&&this.onEvent(e),this.inputGesture.onPointerChange(e),0===this.inputGesture.activePointers&&(this.activeIntersections.clear(),this.gestureCapture.clear(),this.gesturing&&this.updateHoveredMesh(e),this.gesturing=!1)},this.onEvent=e=>{const t=this.eventTypeLookup.getKeyByInstance(e),n=this.captureHandlerMap[t];if(n&&n.length>0){for(const t of n)t(e);return void(n.length=0)}const i=this.unfilteredHandlerMap[t];if(i)for(const t of i)t(e);const s=this.iterateMeshCallbacks(e,this.gesturing?this.gestureCapture:this.activeIntersections),r=this.fallbackHandlerMap[t];if(!s&&r)for(const t of r)t(e)}}async init(e,t){const n={disableWheel:!!e.disableWheel},i=(0,h.yL)()&&(0,h.Jm)();this.bindings.push(t.commandBinder.addBinding(te.U,(async()=>{i&&(this.inputGesture.toggleTouchScrolling(!0),this.inputPointer.toggleTouchScrolling(!0))})),t.commandBinder.addBinding(te.t,(async()=>{i&&(this.inputGesture.toggleTouchScrolling(!1),this.inputPointer.toggleTouchScrolling(!1))})));const s=await t.getModuleBySymbol(Z.iM),r=await t.market.waitForData(ee.W);this.raycaster=await t.getModuleBySymbol(Z.fQ),this.inputPointer=new f({pointerPreventDefault:e.pointerPreventDefault},s.element,r,this.onPointerEvent,i),this.keyboardState=new S(e.rootNode,this.onEvent),this.inputGesture=new Q,this.inputGesture.init(n,this.onEvent,t)}dispose(e){super.dispose(e),this.inputPointer.dispose(),this.keyboardState.dispose(),this.inputGesture.dispose()}registerHandler(e,t){this.insertHandler(e,this.fallbackHandlerMap,t);const n=this.eventTypeLookup.getKeyByType(e,!0);return new ne((()=>this.registerHandler(e,t)),(()=>this.unregisterHandler(e,t)),(()=>-1!==this.fallbackHandlerMap[n].indexOf(t)))}unregisterHandler(e,t){this.removeHandler(e,this.fallbackHandlerMap,t)}registerMeshHandler(e,t,n,i){return this._registerMeshHandler(e,{comparator:t,callback:n,default:null==i?void 0:i.default})}_registerMeshHandler(e,t){var n;const i=this.eventTypeLookup.getKeyByType(e,!0);this.meshHandlerMap[i]||(this.meshHandlerMap[i]=[]);const s=this.meshHandlerMap[i];let r=s.length;if(!t.default)for(;null===(n=s[r-1])||void 0===n?void 0:n.default;)r--;return s.splice(r,0,t),new ne((()=>this._registerMeshHandler(e,t)),(()=>this.unregisterMeshHandler(e,t)),(()=>-1!==s.indexOf(t)))}unregisterMeshHandler(e,t){const n=this.eventTypeLookup.getKeyByType(e,!0);if(this.meshHandlerMap[n]){const e=this.meshHandlerMap[n],i=e.indexOf(t);i>-1&&e.splice(i,1)}}registerPriorityHandler(e,t,n){const i=this.eventTypeLookup.getKeyByType(e,!0),r=this.meshTypeLookup.getKeyByType(t,!0);this.priorityHandlerMap[i]||(this.priorityHandlerMap[i]={});const a=this.priorityHandlerMap[i];if(a[r]){const n=(0,s.z$)(e),i=(0,s.z$)(t);throw Error(`${n} already has a priority handler registered for mesh type: ${i}`)}return a[r]=n,new ne((()=>this.registerPriorityHandler(e,t,n)),(()=>this.unregisterPriorityHandler(e,t,n)),(()=>void 0!==a[r]))}unregisterPriorityHandler(e,t,n){const i=this.eventTypeLookup.getKeyByType(e),s=this.priorityHandlerMap[i];if(s){const e=this.meshTypeLookup.getKeyByType(t),i=s[e];i&&n===i&&delete s[e]}}unregisterUnfilteredHandler(e,t){this.removeHandler(e,this.unfilteredHandlerMap,t)}captureNext(e,t){return this.insertHandler(e,this.captureHandlerMap,t),t}removeCaptureHandler(e,t){this.removeHandler(e,this.captureHandlerMap,t)}registerSnappingMeshGeometry(e,t,n,i){this.raycaster.snapping.addMeshGeometry(e,t,n,i)}unregisterSnappingMeshGeometry(e){this.raycaster.snapping.removeMeshGeometry(e)}getCurrentPointerRay(){return this.raycaster.pointer.pointerRay.clone()}getCurrentRayHits(){return this.activeIntersections.copyToList([])}updateHoveredMesh(e){const t=this.activeIntersections.getByIndex(0),n=t&&t.object===this.hoveredMesh.object&&t.instanceId===this.hoveredMesh.instanceId&&t.index===this.hoveredMesh.index;let i=!1;if(this.hoveredMesh.object&&(void 0===t||!n)){const n=this.getMeshHandler(J.A,(0,s.oL)(this.hoveredMesh.object),this.priorityHandlerMap);if(n&&(i=n(new J.A(e.nativeEvent),this.hoveredMesh.object,t)||!1),!i){const n=this.meshHandlerMap[this.eventTypeLookup.getKeyByType(J.A)];if(n)for(const i of n)i.comparator.compare(this.hoveredMesh.object)&&i.callback(new J.A(e.nativeEvent),this.hoveredMesh.object,t)}}let r=!1;if(t&&!n){const n=this.getMeshHandler(J.z,(0,s.oL)(t.object),this.priorityHandlerMap);if(n&&(r=n(new J.z(e.nativeEvent),t.object,t)||!1),!r){const n=this.meshHandlerMap[this.eventTypeLookup.getKeyByType(J.z)];if(n)for(const i of n)i.comparator.compare(t.object)&&i.callback(new J.z(e.nativeEvent),t.object,t)}}this.hoveredMesh.object=t&&t.object||null,this.hoveredMesh.instanceId=null==t?void 0:t.instanceId,this.hoveredMesh.index=null==t?void 0:t.index}iterateMeshCallbacks(e,t){let n=!1;const i=this.eventTypeLookup.getKeyByInstance(e);for(let s=0;s<t.count();s++){const r=t.getByIndex(s);if(!r)continue;if(n)break;const a=r.object,o=this.activeIntersections.get(a.id)||r;for(const t in this.priorityHandlerMap[i])if(r.object instanceof this.meshTypeLookup.getTypeByKey(t)){const s=this.priorityHandlerMap[i]&&this.priorityHandlerMap[i][t];if(s&&(n=!0,s(e,a,o)||e.propagationStopped))return!0}const l=this.meshHandlerMap[i];if(l)for(const t of l)if(t.comparator.compare(a)&&(!t.default||!e.defaultPrevented)){const i=t.callback(e,a,o);(i||void 0===i||e.propagationStopped)&&(n=!0)}}return n}insertHandler(e,t,n){const i=this.eventTypeLookup.getKeyByType(e,!0);t[i]||(t[i]=[]),t[i].push(n)}removeHandler(e,t,n){const i=t[this.eventTypeLookup.getKeyByType(e)];if(i)for(let e=0;e<i.length;e++)if(i[e]===n){i.splice(e,1);break}}getMeshHandler(e,t,n){const i=n[this.eventTypeLookup.getKeyByType(e)];if(i){return i[this.meshTypeLookup.getKeyByType(t)]}return null}onUpdate(){this.inputGesture.tick()}}},89553:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var i=n(84429);class s extends i.G{constructor(e,t,n){super(),this.key=e,this.state=t,this.modifiers=n}}},67678:(e,t,n)=>{"use strict";n.d(t,{er:()=>r,mE:()=>a});var i=n(84429);class s extends i.G{}class r extends s{constructor(e,t,n,i,s,r,a){super(),this.id=e,this.position=t,this.clientPosition=n,this.button=i,this.down=s,this.device=r,this.nativeEvent=a}}class a extends s{constructor(e,t,n,i,s,r){super(),this.id=e,this.position=t,this.clientPosition=n,this.buttons=i,this.device=s,this.nativeEvent=r}}},92937:(e,t,n)=>{"use strict";n.d(t,{_:()=>r,y:()=>a});var i=n(86819),s=n(16782);const r=e=>e instanceof i.R?e.button===s.M.PRIMARY:e.buttons===s.r.PRIMARY,a=(e,t)=>{var n;const i=(null===(n=t.parentElement)||void 0===n?void 0:n.clientWidth)||0,s=t.offsetLeft,r=t.offsetWidth,a=Math.max(60,Math.min(90,.08*r));return 0===s&&e>0&&e<a||!(s+r<i)&&e>i-a}},57053:(e,t,n)=>{"use strict";var i,s;n.d(t,{f:()=>s,s:()=>i}),function(e){e.Desktop="desktop",e.Mobile="mobile",e.VrOrientOnly="xr.orientonly",e.VrWithController="xr.controller",e.VrWithTrackedController="xr.trackedcontroller"}(i||(i={})),function(e){e.None="interaction.none",e.Direct="interaction.direct",e.Key="interaction.key",e.Gui="interaction.gui",e.Mouse="interaction.mouse",e.Touch="interaction.touch",e.Pen="interaction.pen",e.XRController="interaction.xr.controller",e.XRGaze="interaction.xr.gaze",e.XRScreen="interaction.xr.screen"}(s||(s={}))},5135:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67992),s=n(57053);class r extends i.V{constructor(){super(...arguments),this.name="interaction",this._source=r.defaultSource,this._mode=r.defaultMode}static get defaultMode(){return s.s.Desktop}static get defaultSource(){return s.f.None}get mode(){return this._mode}get source(){return this._source}updateSource(e){this._source=e}updateMode(e){this._mode=e}hasController(e=this.mode){return e===s.s.VrWithController||e===s.s.VrWithTrackedController}isVR(e=this.mode){return e===s.s.VrOrientOnly||e===s.s.VrWithController||e===s.s.VrWithTrackedController}isMobile(e=this.mode){return e===s.s.Mobile}}},64773:(e,t,n)=>{"use strict";n.d(t,{a:()=>r,m:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.mode=e,this.fromMode=t}}class r extends i.v0{constructor(e){super(),this.source=e}}},34361:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var i=n(67992),s=n(15637),r=n(39880);const a=new(n(97998).Z)("label-data");class o extends i.V{constructor(e){super(),this.name="label",this.has=e=>this.map.has(e),this.getLabel=e=>this.map.get(e),this.map=(0,s.q)(e||{})}getCount(){return this.map.length}add(e){let t=e.sid;return this.map.has(t)&&a.warn("Label already tracked:",{sid:t,label:e,existing:this.getLabel(t)}),t=t||this.generateSid(),e.sid=t,e.commit(),this.map.set(e.sid,e),t}generateSid(){let e="";for(;!e||this.map.has(e);)e=(0,r.O1)(11);return e}remove(e){return!!this.map.has(e)&&(this.map.delete(e),!0)}clear(){this.map.clear()}replace(e){this.map.replace(e)}getCollection(){return this.map}iterate(e){for(const t of this.map.keys)e(this.map.get(t),t)}isEqual(e){if(this.map.length!==e.map.length)return!1;for(const t of this.map){const n=e.map.get(t.sid);if(!n||!o.labelsAreEqual(t,n))return!1}return!0}static labelsAreEqual(e,t){return e.floorId===t.floorId&&e.roomId===t.roomId&&e.position.x===t.position.x&&e.position.y===t.position.y&&e.position.z===t.position.z&&e.sid===t.sid&&e.text===t.text&&e.floorId===t.floorId&&e.roomId===t.roomId&&e.visible===t.visible}getLabelsForRoom(e){const t=[];return this.iterate((n=>{n.roomId===e&&t.push(n)})),t}}},23037:(e,t,n)=>{"use strict";n.d(t,{Cu:()=>s,Nj:()=>i});const i="features/labels",s="features/3d_labels_enabled"},14784:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var i=n(75287);class s extends i.T{constructor(e={}){super(),Object.assign(this,e)}}},80742:(e,t,n)=>{"use strict";n.d(t,{R:()=>g});var i=n(67992),s=n(97998),r=n(10385),a=n(95548),o=n(63422),l=n(63319),c=n(23829),d=n(14784),u=n(9373),h=n(89570),p=n(35895),m=n(39880);const f=new s.Z("layers-data");class g extends i.V{constructor(e,t){super(),this.inMemoryLayers=new r.d,this.layerObservers=new Set,this.layerVisibilityCache=new Map,this.layerToggledCache=new Map,this.currentViewId="",this.initialViewId="",this.layersEnabled=!1,this.initialViewId=t.id,this.viewsObservable=(0,r.C)([t]),this.mdsContext=e}setCurrentView(e){if(e===this.currentViewId)return;const t=this.getView(e);if(!t)throw new a.SN("Model View not found");this.aggregateLayerObserver&&this.aggregateLayerObserver.cancel(),f.debug(`Active view set to ${e} (${t.viewType})`),this.currentViewId=e,this.commit();const n=()=>{this.refreshLayerCaches(),this.layerObservers.forEach((e=>e()))};this.aggregateLayerObserver=new h.V(this.getCurrentView().layers.onChanged(n),this.inMemoryLayers.onChanged(n)),n()}getCurrentView(){const e=this.getView(this.currentViewId);if(!e)throw new a.SN("Missing current model view");return e}getInitialView(){const e=this.getView(this.initialViewId);if(!e)throw new a.SN("Missing initial model view");return e}addView(e){this.viewsObservable.push(e)}canDeleteView(e){const t=this.getView(e);return!!t&&((0,u.ys)(t)||(0,u.Gl)(t))}canDisableView(e){const t=this.getView(e);return!!t&&((0,u.ys)(t)||(0,u.Gl)(t))}canDuplicateView(e){const t=this.getView(e);return!!t&&((0,u.ys)(t)||(0,u.AI)(t))}canBatchDeleteInActiveView(){return this.isModelLayered()||!(0,u.AI)(this.getCurrentView())}validateViewName(e){return e.length>0&&e.length<=c.ty}setViews(e){this.viewsObservable.replace(e)}getView(e){const t=this.viewsObservable.find((t=>t.id===e));if(!t)throw new a.SN(`Model View not found: ${e}`);return t}deleteView(e){const t=this.viewsObservable.findIndex((t=>t.id===e));-1!==t&&this.viewsObservable.remove(t)}hasUserViews(){return!!this.viewsObservable.find((e=>(0,u.ys)(e)))}getOrderedModelViews(e=!1){const t=this.viewsObservable.filter((t=>(0,u.ys)(t)||e&&(0,u.Gl)(t))).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{numeric:!0}))),n=this.getBaseModelView();return n&&t.unshift(n),t}getEnabledOrderedModelViews(e=!1){return this.viewsObservable.filter((t=>t.enabled&&((0,u.ys)(t)||e&&(0,u.Gl)(t)||(0,u.AI)(t)))).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{numeric:!0})))}onModelViewsChanged(e){return this.viewsObservable.onChanged(e)}onCurrentLayersChanged(e){return(0,p.k1)((()=>this.layerObservers.add(e)),(()=>this.layerObservers.delete(e)))}currentLayers(){return this.getCurrentView().layers.values().concat(this.inMemoryLayers.values())}viewLayers(){const e=this.currentLayers();return this.filterUserFacingLayers(e)}filterUserFacingLayers(e){return!!e.find((e=>e.layerType===l.s0.VIEW_DATA_LAYER))?e.filter((e=>e.layerType!==l.s0.BASE_LAYER)):[...e]}getLayer(e){return this.currentLayers().find((t=>t.id===e))}getActiveLayer(){return this.getLayer(this.activeLayerId)}getBaseLayerId(){const e=this.currentLayers().find((e=>e.layerType===l.s0.BASE_LAYER));return(null==e?void 0:e.id)||o.gi}getViewLayerId(){const e=this.currentLayers().find((e=>e.layerType===l.s0.VIEW_DATA_LAYER));return null==e?void 0:e.id}getViewLayerIdForBaseView(){const e=this.getBaseModelView();let t;return e&&(t=e.layers.find((e=>e.layerType===l.s0.VIEW_DATA_LAYER))),null==t?void 0:t.id}getCurrentUserLayers(){return this.currentLayers().filter((e=>e.visible&&[l.s0.USER_LAYER,l.s0.COMMON_USER_LAYER].includes(e.layerType)))}setActiveCurrentLayer(e){if(e===this.activeLayerId)return;if(!this.currentLayers().find((t=>t.id===e)))throw new Error("Invalid layer id!");this.activeLayerId=e,this.commit()}layerVisible(e){return!e||!this.layersEnabled||!!this.layerVisibilityCache.get(e)}layerToggled(e){return!e||!this.layersEnabled||!!this.layerVisible(e)&&!!this.layerToggledCache.get(e)}toggleLayer(e,t){const n=this.getLayer(e);if(!n)throw new Error("Attempt to toggle unknown layer!");this.layerToggledCache.set(e,t),n.toggled=t,n.commit()}isInMemoryLayer(e){return this.layersEnabled&&(!e||!!this.inMemoryLayers.find((t=>t.id===e)))}addInMemoryLayer(e){let t=(0,m.O1)(11);for(;this.inMemoryLayers.find((e=>e.id===t));)t=(0,m.O1)(11);const n=new d.W(Object.assign(Object.assign({},e),{id:t,layerType:l.s0.IN_MEMORY}));return n.toggled=!0,n.visible=!0,this.inMemoryLayers.push(n),n}removeInMemoryLayer(e){const t=this.inMemoryLayers.findIndex((t=>t.id===e));if(-1===t)throw new Error("In memory layer not found!");this.inMemoryLayers.splice(t,1)}validateLayerName(e){return e.length>0&&e.length<=c.Pd}replaceBackendLayers(e,t){for(const t of e.keys)this.isInMemoryLayer(e.get(t).layerId)||e.delete(t);for(const n of Object.keys(t))e.set(n,t[n])}setBaseLayerOnly(){this.inMemoryLayers.push(new d.W({id:o.gi,layerType:l.s0.BASE_LAYER}))}getWorkshopSessionView(){return this.viewsObservable.find((e=>e.viewType===l.XZ.SESSION))}isWorkshopSessionView(){var e;return(null===(e=this.getWorkshopSessionView())||void 0===e?void 0:e.id)===this.currentViewId}isWorkshopSessionViewEnabled(){var e;return(null===(e=this.getWorkshopSessionView())||void 0===e?void 0:e.enabled)||!1}getBaseModelView(){return this.viewsObservable.find((e=>(0,u.AI)(e)))}getBaseModelId(){var e;return(null===(e=this.getBaseModelView())||void 0===e?void 0:e.id)||this.initialViewId}isModelLayered(){const e=this.getBaseModelView();return!!e&&(0,u.dW)(e)}isCurrentViewLayered(){const e=this.getCurrentView(),{viewType:t}=e;return t===l.XZ.LAYERED_BASE||t===l.XZ.USER||t===l.XZ.INSIGHTS}getNonworkshopViewId(){const e=this.getCurrentView();return e.viewType!==l.XZ.SESSION?e.id:this.getBaseModelId()}getWorkshopOrBaseId(){const e=this.getCurrentView();return e.viewType===l.XZ.SESSION?e.id:this.getBaseModelId()}getNotesLayerId(e){if(e&&this.layersEnabled)return this.activeLayerId;const t=this.getViewLayerId();if(t)return t;const n=this.getCurrentView();if((0,u.AI)(n))return this.getBaseLayerId();if(this.layersEnabled)throw new Error("No View Layer in User View");return this.activeLayerId}getOrderedListsLayerId(){if(!this.layersEnabled)return;const e=this.getViewLayerId();if(e)return e;const t=this.getCurrentView();if((0,u.AI)(t))return this.getBaseLayerId();throw new Error("No View Layer in User View")}refreshLayerCaches(){this.layerToggledCache.clear(),this.layerVisibilityCache.clear();const e=this.currentLayers();for(const t of e)this.layerToggledCache.set(t.id,t.toggled),this.layerVisibilityCache.set(t.id,t.visible)}}},80008:(e,t,n)=>{"use strict";n.d(t,{Ap:()=>I,BK:()=>w,Bv:()=>c,Ch:()=>f,EO:()=>g,GD:()=>b,Go:()=>A,Ib:()=>T,Ld:()=>O,MV:()=>L,Qz:()=>S,Tj:()=>N,Wb:()=>v,Wx:()=>_,bR:()=>u,cj:()=>y,cq:()=>P,d:()=>p,dL:()=>d,fk:()=>a,iS:()=>E,mU:()=>h,oS:()=>o,vM:()=>m,wG:()=>l,wQ:()=>k});var i=n(19663);class s extends i.m{constructor(e){super(),this.payload={viewId:e}}}class r extends i.m{constructor(e,t){super(),this.payload={viewId:e,name:t}}}class a extends i.m{constructor(){super(...arguments),this.id="MODEL_TO_LAYERED_COMMAND"}}class o extends i.m{constructor(){super(...arguments),this.id="DISABLE_WORKSHOP_SESSION_COMMAND"}}class l extends s{constructor(){super(...arguments),this.id="MODEL_VIEW_SET_COMMAND"}}class c extends i.m{constructor(e){super(),this.id="USER_VIEW_ADD_COMMAND",this.payload={name:e}}}class d extends s{constructor(){super(...arguments),this.id="VIEW_DELETE_COMMAND"}}class u extends r{constructor(){super(...arguments),this.id="VIEW_RENAME_COMMAND"}}class h extends i.m{constructor(e,t){super(),this.id="VIEW_TOGGLE_ENABLE_COMMAND",this.payload={viewId:e,enabled:t}}}class p extends r{constructor(){super(...arguments),this.id="VIEW_DUPLICATE_COMMAND"}}class m extends i.m{constructor(e){super(),this.id="REGISTER_CONFIRM_VIEW_CHANGE",this.payload={confirmViewChange:e}}}class f extends i.m{constructor(e){super(),this.id="REGISTER_DUPLICATE_VIEW_HELPER_COMMAND",this.payload=e}}class g extends i.m{constructor(e){super(),this.id="UNREGISTER_DUPLICATE_VIEW_HELPER_COMMAND",this.payload=e}}class v extends i.m{constructor(e,t){super(),this.id="LAYER_ITEMS_COPY_COMMAND",this.payload={layerId:e,items:t}}}class b extends i.m{constructor(e,t){super(),this.id="LAYER_ITEMS_COPY_NEW_COMMAND",this.payload={name:e,items:t}}}class y extends i.m{constructor(e,t){super(),this.id="LAYER_ITEMS_MOVE_COMMAND",this.payload={layerId:e,items:t}}}class E extends i.m{constructor(e){super(),this.id="VIEW_ITEMS_DELETE_COMMAND",this.payload={items:e}}}class S extends i.m{constructor(e,t){super(),this.id="ADD_LAYER_COMMAND",this.payload={label:e,common:t}}}class O extends i.m{constructor(e){super(),this.id="ADD_INMEMORY_LAYER_COMMAND",this.payload={layerProps:e}}}class T extends i.m{constructor(e,t){super(),this.id="DATA_LAYER_DUPLICATE_COMMAND",this.payload={layerId:e,label:t}}}class _ extends i.m{constructor(e){super(),this.id="DELETE_LAYER_COMMAND",this.payload={layerId:e}}}class w extends i.m{constructor(e){super(),this.id="REMOVE_LAYER_COMMAND",this.payload={layerId:e}}}class N extends i.m{constructor(e,t){super(),this.id="RENAME_LAYER_COMMAND",this.payload={layerId:e,label:t}}}class A extends i.m{constructor(e,t){super(),this.id="LAYER_TOGGLE_VISIBLE_COMMAND",this.payload={layerId:e,visible:t}}}class I extends i.m{constructor(e,t){super(),this.id="LAYER_TOGGLE_COMMON_COMMAND",this.payload={layerId:e,common:t}}}class k extends i.m{constructor(e,t){super(),this.id="SET_LAYER_POSITION_COMMAND",this.payload={layerId:e,position:t}}}class P extends i.m{constructor(e,t){super(),this.id="LAYER_SELECT_COMMAND",this.payload={layerId:e,selected:t}}}class L extends i.m{constructor(e,t){super(),this.id="LAYER_TOGGLE_COMMAND",this.payload={layerId:e,on:t}}}},63319:(e,t,n)=>{"use strict";var i,s,r;n.d(t,{HH:()=>r,XZ:()=>i,s0:()=>s}),function(e){e.BASE="base",e.LAYERED_BASE="layered-base",e.INSIGHTS="insights",e.TRUEPLAN="trueplan",e.SESSION="session",e.USER="user",e.OTHER="other"}(i||(i={})),function(e){e.BASE_LAYER="matterport.base",e.VIEW_DATA_LAYER="matterport.user.data",e.USER_LAYER="matterport.user.data.ext",e.IN_MEMORY="matterport.in-memory",e.WORKSHOP="matterport.workshop.jsonstore",e.COMMON_USER_LAYER="matterport.user.data.common",e.OTHER="other layer type"}(s||(s={})),function(e){e.TYPE="type",e.FLOOR="floor",e.ROOM="room",e.LAYER="layer",e.DATE="date"}(r||(r={}))},76087:(e,t,n)=>{"use strict";n.d(t,{Eo:()=>l,N$:()=>o,Od:()=>c,Pe:()=>s,Uo:()=>r,Wp:()=>a,lr:()=>d,uB:()=>h,vK:()=>u});var i=n(59279);const s="model-views-feature",r="views",a="data-layers-feature",o="layers",l="spaces.webgl.layers.mode";var c;!function(e){e.DISABLED="disabled",e.VIEWS_OPTIONAL_OPT_IN="user_views",e.VIEWS_ENABLED="views_enabled",e.VIEWS_AND_LAYERS="views_layers",e.LAYERS_ONLY="layers"}(c||(c={}));const d="layers";var u;function h(e){const t=function(){switch((0,i.FU)()[d]){case u.DISABLED:return c.DISABLED;case u.VIEWS_ENABLED:return c.VIEWS_ENABLED;case u.VIEWS_AND_LAYERS:return c.VIEWS_AND_LAYERS;case u.LAYERS_ONLY:return c.LAYERS_ONLY}}();if(void 0!==t)return t;const n=e.getPolicy(l);return n&&n.value?n.value:c.DISABLED}!function(e){e.DISABLED="0",e.VIEWS_ENABLED="2",e.VIEWS_AND_LAYERS="3",e.LAYERS_ONLY="4"}(u||(u={}))},90055:(e,t,n)=>{"use strict";n.d(t,{LP:()=>o});var i=n(73085),s=n(67294),r=n(27839),a=n(80742);(0,i.M)(a.R,"activeLayerId","");function o(){const e=(0,r._)(),[t,n]=(0,s.useState)(null==e?void 0:e.getActiveLayer());return(0,s.useEffect)((()=>{if(!e)return()=>{};function t(){n(null==e?void 0:e.getActiveLayer())}const i=e.onPropertyChanged("activeLayerId",t);return t(),()=>i.cancel()}),[e]),t}},15258:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var i=n(67294),s=n(27839);function r(){const e=(0,s._)(),[t,n]=(0,i.useState)((null==e?void 0:e.getCurrentView())||void 0);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){n((null==e?void 0:e.getCurrentView())||void 0)}const i=e.onPropertyChanged("currentViewId",t);return t(),()=>i.cancel()}),[e]),t}(0,n(74554).M)("activeModelView",r)},86191:(e,t,n)=>{"use strict";n.d(t,{W:()=>h});var i=n(67294),s=n(38399),r=n(66102),a=n(39880),o=n(63319),l=n(27839),c=n(23829);const{LAYERS:d}=s.Z.WORKSHOP;function u(e,t,n,i){const s=n?null==e?void 0:e.getLayer(n):null;let r=null==s?void 0:s.name;if(!r){r=t.t(d.UNTITLED_LAYER_PLACEHOLDER);const e=null==s?void 0:s.layerType;(null==i?void 0:i.viewType)===o.XZ.TRUEPLAN&&e===o.s0.OTHER?r=t.t(d.TRUEPLAN_LAYER_LABEL):e!==o.s0.BASE_LAYER&&e!==o.s0.VIEW_DATA_LAYER||(r=t.t(d.UNLAYERED_LAYER_LABEL))}return(0,a.aS)(r,c.Pd)}function h(e,t){const n=(0,l._)(),s=(0,r.b)(),[a,o]=(0,i.useState)(u(n,s,e,t));return(0,i.useEffect)((()=>{if(!n)return()=>{};function i(){o(u(n,s,e,t))}const r=n.onCurrentLayersChanged(i);return i(),()=>r.cancel()}),[n,e,t,s]),a}},27839:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(45755),s=n(80742);const r=(0,i.u)(s.R)},16326:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var i=n(67294),s=n(27839);function r(e){if(!e)return[];const t=e.viewLayers();return t.length>1&&t.unshift(t.splice(t.length-1,1)[0]),t}function a(){const e=(0,s._)(),[t,n]=(0,i.useState)(r(e));return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){n(r(e))}const i=e.onCurrentLayersChanged(t);return t(),()=>i.cancel()}),[e]),t}},95674:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AddInMemoryLayerCommand:()=>i.Ld,AddUserLayerCommand:()=>i.Qz,AddUserViewCommand:()=>i.Bv,AnnotationGrouping:()=>s.HH,ConvertModelToLayeredCommand:()=>i.fk,CopyItemsToLayerCommand:()=>i.Wb,CopyItemsToNewLayerCommand:()=>i.GD,DataLayer:()=>u.W,DataLayerType:()=>s.s0,DeleteItemsFromViewCommand:()=>i.iS,DeleteLayerCommand:()=>i.Wx,DeleteViewCommand:()=>i.dL,DisableWorkshopSessionCommand:()=>i.oS,DuplicateLayerCommand:()=>i.Ib,DuplicateViewCommand:()=>i.d,LAYERS_POLICY:()=>o.Eo,LAYERS_SUPPORT_PAGE_URL:()=>l.fB,LAYERS_URL_PARAM:()=>o.lr,LayerAddedMessage:()=>c.ue,LayersBatchItemsCompleteMessage:()=>c.WG,LayersData:()=>h.R,LayersModule:()=>K,LayersPolicy:()=>o.Od,LayersUrlParam:()=>o.vK,LayersViewError:()=>a,MAX_LAYER_NAME_LENGTH:()=>l.Pd,MAX_VIEW_NAME_LENGTH:()=>l.ty,ModelView:()=>w,ModelViewChangeCompleteMessage:()=>c.YB,ModelViewType:()=>s.XZ,MoveItemsToLayerCommand:()=>i.cj,RegisterConfirmViewChangeCommand:()=>i.vM,RegisterDuplicateViewHelperCommand:()=>i.Ch,RemoveLayerCommand:()=>i.BK,RenameLayerCommand:()=>i.Tj,RenameViewCommand:()=>i.bR,SETTING_DATA_LAYERS_ANALYTIC:()=>o.N$,SETTING_DATA_LAYERS_FEATURE:()=>o.Wp,SETTING_MODEL_VIEWS_FEATURE:()=>o.Pe,SETTING_USER_VIEWS_ANALYTIC:()=>o.Uo,SelectLayerCommand:()=>i.cq,SetActiveModelViewCommand:()=>i.wG,SetLayerPositionCommand:()=>i.wQ,SetViewEnabledCommand:()=>i.mU,ToggleLayerAsCommonCommand:()=>i.Ap,ToggleLayerCommand:()=>i.MV,ToggleLayerVisibleCommand:()=>i.Go,UnregisterDuplicateViewHelperCommand:()=>i.EO,VIEWS_SUPPORT_PAGE_URL:()=>l.dS,VIEW_SELECTOR_PARAM:()=>l.Sw,VIEW_SELECTOR_STANDALONE:()=>l.RF,default:()=>K,getViewsPolicy:()=>o.uB,isBaseView:()=>d.AI,isInsightsView:()=>d.Gl,isLayeredBaseView:()=>d.dW,isUserView:()=>d.ys});var i=n(80008),s=n(63319),r=n(2224);class a extends r.y{constructor(e,t="80001"){super(e),this.name="LayersViewError",this.code=t}}var o=n(76087),l=n(23829),c=n(28022),d=n(9373),u=n(14784),h=n(80742),p=n(97542),m=n(92810),f=n(89570),g=n(8807),v=n(34029),b=n(63422),y=n(11221),E=n(5823),S=n(39586),O=n(96776),T=n(10385),_=n(75287);class w extends _.T{constructor(e={}){super(),this.name="",this.viewType=null,this.rawViewType="",this.enabled=!0,this.layers=new T.d,Object.assign(this,e)}}var N=n(17788),A=n(95548),I=n(97998),k=n(9133);const P=new I.Z("mds-modelview-deserializer");class L{deserialize(e){return e&&e.id&&e.type?new w({id:e.id,viewType:this.getModelViewType(e),rawViewType:e.type,name:e.name||"",enabled:!!e.enabled,created:(0,k.p)(e.created),modified:(0,k.p)(e.modified)}):(P.debug("Deserialized invalid ModelView data from MDS",e),null)}getModelViewType(e){const t={"matterport.workshop.session":s.XZ.SESSION,"matterport.model.default":s.XZ.BASE,"matterport.model.layered":s.XZ.LAYERED_BASE,"matterport.user.insights":s.XZ.INSIGHTS,"matterport.user.view":s.XZ.USER,"trueplan.session":s.XZ.TRUEPLAN};return e.type in t?t[e.type]:s.XZ.OTHER}}var R=n(54232);const C=new I.Z("MdsModelViewStore");class D extends N.u{constructor(e){super(e),this.prefetchKey=b.SJ,this.deserializer=new L}async read(){var e,t;if(!this.viewId)throw new A.SN("Cannot read Views, no initial view configured");const n=null===(t=null===(e=(await this.query(R.GetViews,{modelId:this.viewId}).catch((e=>{throw new A.Zb(e)}))).data)||void 0===e?void 0:e.model)||void 0===t?void 0:t.views,i=[];if(n)for(const e of n){const t=this.deserializer.deserialize(e);t&&i.push(t)}return i.sort(((e,t)=>e.created.getTime()-t.created.getTime())),i}async readView(e){var t,n;const i=null===(n=null===(t=(await this.query(R.GetView,{viewId:e}).catch((e=>{throw new A.Zb(e)}))).data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.views;if(!i||1!==i.length)throw new A.SN("GetView failed");const s=this.deserializer.deserialize(i[0]);if(!s)throw new A.SN("Cannot read view");return s}async create(e){const t=this.getBaseViewId();return this.mutate(R.AddUserView,{modelId:t,name:e}).then((e=>{var t;return this.deserializer.deserialize(null===(t=e.data)||void 0===t?void 0:t.addView)}))}async delete(e,t){var n;const i=this.getBaseViewId();if(e===i)throw new A.SN("Cannot delete the base view");const s=!!(null===(n=(await this.mutate(R.DeleteView,{modelId:i,viewId:e,deleteLayersIfOrphaned:t})).data)||void 0===n?void 0:n.deleteView);return s||C.error("View deletion failed!"),s}async copyItemsToLayer(e,t,n){var i;const s=!!(null===(i=(await this.mutate(R.CopyViewDataToLayer,{viewId:e,layerId:t,copyDataFrom:n})).data)||void 0===i?void 0:i.copyViewData);return s||C.error("CopyViewData failed!"),s}async moveItemsToLayer(e,t,n){var i;const s=!!(null===(i=(await this.mutate(R.MoveViewDataToLayer,{viewId:e,layerId:t,viewSelections:n})).data)||void 0===i?void 0:i.moveViewData);return s||C.error("MoveViewDataToLayer failed!"),s}async deleteItemsFromView(e,t){var n;if(t.find((e=>!e.ids||0===e.ids.length)))return C.error("deleteItemsFromView fails without list of ids"),!1;const i=!!(null===(n=(await this.mutate(R.DeleteFromView,{viewId:e,viewSelections:t})).data)||void 0===n?void 0:n.deleteFromView);return i||C.error("DeleteFromView failed!"),i}async rename(e,t){var n,i;const s=null===(i=null===(n=(await this.mutate(R.RenameView,{viewId:e,name:t})).data)||void 0===n?void 0:n.patchView)||void 0===i?void 0:i.name;if(null==s)throw new A.w0("Unable to rename view!");return s}async setEnabled(e,t){var n,i;const s=null===(i=null===(n=(await this.mutate(R.SetViewEnabled,{viewId:e,enabled:t})).data)||void 0===n?void 0:n.patchView)||void 0===i?void 0:i.enabled;if(null==s)throw new A.w0("Unable to enable/disable view!");return s}async convertModelToLayered(e){var t;const n=null===(t=(await this.mutate(R.ConvertRootViewToLayered,{modelId:e})).data)||void 0===t?void 0:t.convertRootViewToLayered;if(null==n)throw new A.w0("Unable to convert model to layered!");const i=this.deserializer.deserialize(n);if(!i)throw new A.SN("Cannot read converted view");return i}async convertModelToLegacy(e){var t;const n=null===(t=(await this.mutate(R.ConvertRootViewToLegacy,{modelId:e})).data)||void 0===t?void 0:t.convertRootViewToLegacy;if(null==n)throw new A.w0("Unable to convert model to legacy!");const i=this.deserializer.deserialize(n);if(!i)throw new A.SN("Cannot read converted view");return i}async duplicate(e,t,n,i){var s;const r=await this.mutate(R.DuplicateView,{modelId:e,viewId:t,name:n,enabled:i});return this.deserializer.deserialize(null===(s=r.data)||void 0===s?void 0:s.addView)}async hasWorkshopChanges(e){var t,n,i;const s=null===(i=null===(n=null===(t=(await this.client.query(R.GetMergeDiff,{viewId:e}).catch((e=>{throw new A.Zb(e)}))).data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.mergeDiff)||void 0===i?void 0:i.typesModified;return!!s&&s.length>0}}var M=n(69430),x=n(29708);const j=new I.Z("mds-modelview-deserializer");class U{deserialize(e){return e&&e.layer.id&&e.layer.type?new u.W({id:e.layer.id,name:e.layer.label||"",visible:e.visible,position:e.position,toggled:!0,layerType:this.getLayerType(e.layer.type),created:(0,k.p)(e.layer.created),modified:(0,k.p)(e.layer.modified)}):(j.debug("Invalid layer data from MDS"),null)}getLayerType(e){return(0,x.p)(s.s0,e)?e:s.s0.OTHER}}class F extends N.u{constructor(){super(...arguments),this.deserializer=new U,this.prefetchKey="data.view.layers"}async read(){return this.readLayersForView(this.getViewId())}async readLayersForView(e,t=!0){var n,i;const s={viewId:e,modelId:e},r={prefetchKey:t?this.prefetchKey:void 0,fetchPolicy:t?"cache-first":"no-cache"},a=null===(i=null===(n=(await this.query(M.GetLayers,s,r).catch((e=>{throw new A.Zb(e)}))).data)||void 0===n?void 0:n.view)||void 0===i?void 0:i.layers;if(!a)throw new Error("No layers to read for view!");const o=[];for(const e of a){const t=this.deserializer.deserialize(e);t&&o.push(t)}return o}async addLayer(e,t,n,i,s=!0){var r,a;const o={viewId:this.getViewId(),label:e,writable:t,position:n,copyDataFrom:i,generateIds:s},l=null===(a=null===(r=(await this.mutate(M.AddLayer,o).catch((e=>{throw new A.w0(e)}))).data)||void 0===r?void 0:r.layer)||void 0===a?void 0:a.id;if(!l)throw new Error("Unable to get id for new layer");return l}async addCommonLayer(e,t){var n,i;const s={viewId:this.getViewId(),label:e,position:t},r=null===(i=null===(n=(await this.mutate(M.AddCommonLayer,s).catch((e=>{throw new A.w0(e)}))).data)||void 0===n?void 0:n.layer)||void 0===i?void 0:i.id;if(!r)throw new Error("Unable to get id for new common layer");return await this.refresh(),r}async duplicateLayer(e,t,n){var i,s;const r={viewId:this.getViewId(),label:e,visible:t,copyDataFrom:n},a=null===(s=null===(i=(await this.mutate(M.DuplicateLayer,r).catch((e=>{throw new A.w0(e)}))).data)||void 0===i?void 0:i.layer)||void 0===s?void 0:s.id;if(!a)throw new Error("Unable to duplicate layer");return await this.refresh(),a}async convertLayerToCommon(e,t,n){var i,s;const r={viewId:this.getViewId(),layerId:e,visible:t,position:n};if(!(null===(s=null===(i=(await this.mutate(M.ConvertToCommonLayer,r).catch((e=>{throw new A.w0(e)}))).data)||void 0===i?void 0:i.convertToCommonLayer)||void 0===s?void 0:s.id))throw new Error("Unable to convert layer to common");await this.refresh()}async convertLayerToDedicated(e){var t,n;const i={viewId:this.getViewId(),layerId:e};if(!(null===(n=null===(t=(await this.mutate(M.ConvertToDedicatedLayer,i).catch((e=>{throw new A.w0(e)}))).data)||void 0===t?void 0:t.convertToDedicatedLayer)||void 0===n?void 0:n.id))throw new Error("Unable to convert layer to dedicated");await this.refresh()}async patchLayer(e,t,n,i,s){var r,a;const o={viewId:this.getViewId(),layerId:e,layerLabel:t,writable:n,position:i,visible:s};if(!(null===(a=null===(r=(await this.mutate(M.PatchLayer,o).catch((e=>{throw new A.w0(e)}))).data)||void 0===r?void 0:r.patchLayer)||void 0===a?void 0:a.id))throw new Error("No data returned by patch");null===n&&null===i&&null===s||await this.refresh()}async patchLayerViews(e,t,n,i){var s,r;const a=t.map((e=>({viewId:e,visible:n,remove:i}))),o={viewId:this.getViewId(),layerId:e,views:a};if(!(null===(r=null===(s=(await this.mutate(M.PatchLayerViews,o).catch((e=>{throw new A.w0(e)}))).data)||void 0===s?void 0:s.patchLayerViews)||void 0===r?void 0:r.id))throw new Error("No data returned by patchLayerViews");await this.refresh()}async deleteLayer(e){const t={viewId:this.getViewId(),layerId:e};await this.mutate(M.DeleteLayer,t).catch((e=>{throw new A.w0(e)}))}}var H=n(54559),V=n(82591),B=n(635),G=n(79728),W=n(31362),z=n(59279);class K extends p.Y{constructor(){super(...arguments),this.name="layers",this.viewChangeConfirmers=[],this.duplicateHelpers=new Set,this.onHistoryPop=()=>{if(this.data.getCurrentView().viewType===s.XZ.SESSION)return;const e=(0,z.kD)(),t=e.get("m")||e.get("model");t&&t!==this.data.currentViewId&&this.setActiveModelView(t)},this.layerModelAndUpdate=this.modifyInsideSaveCommand((()=>{let e;return async()=>e||(e=new Promise((async e=>{const t=this.data.getBaseModelView();if(t&&!(0,d.dW)(t)){const e=await this.viewStore.convertModelToLayered(t.id);this.updateViewDetails(t,e);const n=await this.layerStore.readLayersForView(this.data.getBaseModelId(),!1);t.layers.replace(n)}e()})),e)})())}async init(e,t){var n;const{baseUrl:r,readonly:a,viewId:l,mdsContext:c}=e,{commandBinder:d,market:u}=t,[p,m]=await Promise.all([t.market.waitForData(v.e),t.market.waitForData(g.n)]);this.data=new h.R(c,new w({id:l})),this.settingsData=p,this.config=e,this.viewStore=new D({context:c,readonly:a,baseUrl:r,viewId:l}),this.engine=t,await this.loadViews();const y=await this.getInitialViewId(),E=y===(null===(n=this.data.getWorkshopSessionView())||void 0===n?void 0:n.id),S=(0,o.uB)(m),O=!E&&this.isViewsPolicyEnabled(S);this.setViewsFeatureSetting(O);const T=!E&&this.isDataLayersPolicyEnabled(S);if(this.setLayersFeatureSetting(T),c.baseViewId=this.data.getBaseModelId(),this.layerStore=new F({context:c,readonly:a,baseUrl:r}),T&&this.layerStore.onNewData((async e=>{const t=e.filter((e=>e.layerType!==s.s0.WORKSHOP)).sort(((e,t)=>e.position-t.position));if(!t.length)throw new Error("No layers available!!");this.data.getCurrentView().layers.replace(t);const n=this.data.activeLayerId;n&&t.find((e=>e.id===n))||this.data.setActiveCurrentLayer(t[0].id)})),this.data.currentViewId!==this.data.getBaseModelId()||!T){const e=await this.layerStore.readLayersForView(this.data.getBaseModelId(),!1),t=this.data.getBaseModelView();t&&t.layers.replace(e)}c.autoProvisionLayerCheckCallback=async e=>{this.data.getLayer(e)||await this.layerStore.refresh()},await this.setActiveModelView(y),this.updateMdsContext(),T||(this.data.setBaseLayerOnly(),this.data.setActiveCurrentLayer(b.gi)),window.addEventListener("popstate",this.onHistoryPop),this.config.readonly||(this.bindings.push(d.addBinding(i.oS,this.modifyInsideSaveCommand((()=>this.disableWorkshopSession()))),d.addBinding(i.fk,(()=>this.convertModelToLayered()))),O&&(this.editViewHandlers=new f.V(d.addBinding(i.Bv,this.modifyInsideSaveCommand((e=>this.addUserView(e.name)))),d.addBinding(i.dL,this.modifyInsideSaveCommand((e=>this.deleteView(e.viewId)))),d.addBinding(i.bR,this.modifyInsideSaveCommand((e=>this.renameView(e.viewId,e.name)))),d.addBinding(i.mU,this.modifyInsideSaveCommand((e=>this.setViewEnabled(e.viewId,e.enabled)))),d.addBinding(i.d,this.modifyInsideSaveCommand((e=>this.duplicateView(e.viewId,e.name))))),O||this.editViewHandlers.cancel()),T&&(this.editLayerHandlers=new f.V(d.addBinding(i.Qz,this.modifyInsideSaveCommand((e=>this.addLayer(e.label,e.common)))),d.addBinding(i.Ib,this.modifyInsideSaveCommand((e=>this.duplicateLayer(e.layerId,e.label)))),d.addBinding(i.Wx,this.modifyInsideSaveCommand((e=>this.deleteLayer(e.layerId)))),d.addBinding(i.Ap,this.modifyInsideSaveCommand((e=>this.toggleLayerAsCommon(e.layerId,e.common)))),d.addBinding(i.Go,this.modifyInsideSaveCommand((e=>this.toggleLayerVisible(e.layerId,e.visible)))),d.addBinding(i.Tj,this.modifyInsideSaveCommand((e=>this.renameLayer(e.layerId,e.label)))),d.addBinding(i.wQ,this.modifyInsideSaveCommand((e=>this.setLayerPosition(e.layerId,e.position)))),d.addBinding(i.Wb,this.modifyInsideSaveCommand((e=>this.copyItemsToLayer(e.items,e.layerId)))),d.addBinding(i.GD,this.modifyInsideSaveCommand((e=>this.copyItemsToLayer(e.items,null,e.name)))),d.addBinding(i.cj,this.modifyInsideSaveCommand((e=>this.moveItemsToLayer(e.items,e.layerId)))),d.addBinding(i.iS,this.modifyInsideSaveCommand((e=>this.deleteItemsFromView(e.items))))),T||this.editLayerHandlers.cancel())),T&&this.bindings.push(d.addBinding(i.MV,(e=>this.toggleLayer(e.layerId,e.on))),d.addBinding(i.Ld,(async e=>this.addInMemoryLayer(e.layerProps)))),O&&T&&this.bindings.push(this.data.onPropertyChanged("currentViewId",(()=>this.updateMdsContext()))),this.bindings.push(d.addBinding(i.wG,(e=>this.setActiveModelView(e.viewId))),d.addBinding(i.vM,(async e=>this.registerConfirmViewChange(e.confirmViewChange))),d.addBinding(i.Ch,(async e=>this.duplicateHelpers.add(e))),d.addBinding(i.EO,(async e=>this.duplicateHelpers.delete(e))),d.addBinding(i.cq,(e=>this.selectLayer(e.layerId,e.selected)))),u.register(this,h.R,this.data)}dispose(e){var t,n;super.dispose(e),null===(t=this.editViewHandlers)||void 0===t||t.cancel(),null===(n=this.editLayerHandlers)||void 0===n||n.cancel(),window.removeEventListener("popstate",this.onHistoryPop)}async getInitialViewId(){const{viewId:e,inWorkshop:t}=this.config,n=this.data.getBaseModelView();if(t&&n&&n.id===e&&!(0,d.dW)(n)){const e=this.data.getWorkshopSessionView();if(e&&e.enabled){if(await this.viewStore.hasWorkshopChanges(e.id))return e.id}}return e}isDataLayersPolicyEnabled(e){return[o.Od.LAYERS_ONLY,o.Od.VIEWS_AND_LAYERS].includes(e)}isViewsPolicyEnabled(e){return[o.Od.VIEWS_OPTIONAL_OPT_IN,o.Od.VIEWS_ENABLED,o.Od.VIEWS_AND_LAYERS].includes(e)}setViewsFeatureSetting(e){this.settingsData.setProperty(o.Pe,e),this.engine.getModuleBySymbol(m.V6).then((t=>{t.trackFeatures(`${o.Uo}:${e}`)}))}setLayersFeatureSetting(e){this.data.layersEnabled=e,this.settingsData.setProperty(o.Wp,e),this.engine.getModuleBySymbol(m.V6).then((t=>{t.trackFeatures(`${o.N$}:${e}`)}))}async loadViews(){const e=await this.viewStore.read();e.length>0&&(this.data.setViews(e),this.log.debug("Loaded views",e))}async setActiveModelView(e){const{currentViewId:t}=this.data;if(e===t||!await this.canChangeView())return;const n=this.data.getView(e);if(n){const e=t;this.log.debug(`Switching to view: ${n.id} (${n.viewType}), from: ${e}`),this.data.setCurrentView(n.id),await this.refreshView(n,e)}else this.log.warn(`Missing model view '${e}'`)}async refreshView(e,t){const{mdsContext:n}=this.config,i=this.settingsData.tryGetProperty(o.Wp,!1),s=new H.R({baseUrl:this.config.baseUrl,prefetchPolicy:y.h.PRELOAD,query:V.GetModelViewPrefetch,variables:{modelId:e.id,includeDisabled:!this.config.readonly,includeLayers:i&&this.viewSupportsLayers()},initialData:void 0});n.sharedCaches.add(s),await s.preload()?(i&&(this.layerStore.setStoreViewId(e.id),await this.layerStore.refresh()),await n.setCurrentViewId(e.id),this.updateBrowserOnViewChange(e),t?(n.sharedCaches.delete(s),this.engine.broadcast(new c.YB)):this.config.modulesLoadedPromise.then((()=>{n.sharedCaches.delete(s)}))):t&&this.data.setCurrentView(t)}async canChangeView(){for(const e of this.viewChangeConfirmers)if(!await e())return!1;return!0}registerConfirmViewChange(e){this.viewChangeConfirmers.push(e)}updateBrowserOnViewChange(e){if(e.viewType===s.XZ.SESSION)return;const t=(0,z.kD)(),n=t.get("m")||t.get("model");e.id!==n&&(t.has("model")?t.set("model",e.id):t.has("m")&&t.set("m",e.id),(0,W.Vf)(t.toString(),!0))}async disableWorkshopSession(){const e=this.data.getWorkshopSessionView();if(!e)return void this.log.debug("No Workshop Session View to disable.");if(!e.enabled)return;const t=await this.viewStore.setEnabled(e.id,!1);e.enabled=t,e.commit()}async addUserView(e){if(!this.data.validateViewName(e))throw new a("Invalid view name!");const t=await this.viewStore.create(e);t&&(this.data.addView(t),this.log.debug("Added new view"),await this.setActiveModelView(t.id))}async deleteView(e){if(!this.data.canDeleteView(e))throw new a("Cannot delete model view");const t=this.data.getView(e);if(!t)throw new a("Cannot delete missing view");const n=e===this.data.currentViewId,i=!(0,d.Gl)(t);await this.viewStore.delete(e,i)&&this.data.atomic((()=>{if(this.data.deleteView(e),this.log.debug("Deleted user view"),n){const e=this.data.getBaseModelId();if(!e)throw new a("No base view");this.setActiveModelView(e)}}))}async copyItemsToLayer(e,t,n){const{currentViewId:i}=this.data,s={},r=[];e.forEach((e=>{if(e.supportsLayeredCopyMove()){s[e.typeId]||(s[e.typeId]=[]);const t=e.parentId||e.id;s[e.typeId].push(t),r.push(e)}}));const o=[];for(const e in s)o.push({viewId:i,type:e,ids:s[e]});let l;if(t)l=await this.viewStore.copyItemsToLayer(i,t,o);else{if(!n)throw new a("No layer id or name for copy");l=await this.addLayer(n,!1,o)}l&&(this.data.mdsContext.refreshLayeredStores(o.map((e=>e.type))),this.engine.broadcast(new c.WG(r)))}async moveItemsToLayer(e,t){const{currentViewId:n}=this.data,i={},s=[];e.forEach((e=>{if(e.supportsLayeredCopyMove()){i[e.typeId]||(i[e.typeId]=[]);const t=e.parentId||e.id;i[e.typeId].push(t),s.push(e)}}));const r=[];for(const e in i)r.push({type:e,ids:i[e],all:!1});await this.viewStore.moveItemsToLayer(n,t,r)&&(this.data.mdsContext.refreshLayeredStores(r.map((e=>e.type))),this.engine.broadcast(new c.WG(s)))}async deleteItemsFromView(e){if(!this.data.canBatchDeleteInActiveView())return void this.log.debug("Cannot batch delete items in non-layered model");const{currentViewId:t}=this.data,n={},i=[];e.forEach((e=>{if(e.supportsBatchDelete()){n[e.typeId]||(n[e.typeId]=[]);const t=e.parentId||e.id;n[e.typeId].push(t),i.push(e)}}));const s=[];for(const e in n)s.push({type:e,ids:n[e]});await this.viewStore.deleteItemsFromView(t,s)&&(this.data.mdsContext.refreshLayeredStores(s.map((e=>e.type))),this.engine.broadcast(new c.WG(i)))}getLayerTypesToDuplicate(){const e=[E.SF.LABEL,E.SF.MEASUREMENTPATH,E.SF.MATTERTAG];this.settingsData.tryGetProperty(S.IA,!1)&&e.push(E.SF.NOTE);return this.settingsData.tryGetProperty(O.QA,!1)&&e.push(E.SF.OBJECTANNOTATION),e}async duplicateLayer(e,t){const n=this.data.getLayer(e);if(!n)throw new a("Unable to find layer to duplicate");const i=n.layerType===s.s0.BASE_LAYER,r=n.layerType===s.s0.VIEW_DATA_LAYER;if(i||r)return void this.log.debug("Duplicate not supported on base or view layer");const o=this.getLayerTypesToDuplicate(),l=this.data.getCurrentView().id,c=o.map((t=>({viewId:l,layerId:e,type:t})));await this.layerStore.duplicateLayer(t,n.visible,c)&&this.data.mdsContext.refreshLayeredStores(o)}async renameView(e,t){const n=this.data.getView(e);if(!n)throw new a("View does not exist");if(!this.data.validateViewName(t))throw new a("Invalid view name!");const i=await this.viewStore.rename(e,t);n.name=i,n.commit()}async setViewEnabled(e,t){const n=this.data.getView(e);if(!n)throw new a("View does not exist");if(!this.data.canDisableView(e))throw new a("Unable to enable/disable view");const i=await this.viewStore.setEnabled(e,t);n.enabled=i,n.commit()}async duplicateView(e,t){const n=this.data.getView(e);if(!n)throw new a("Cannot duplicate, view does not exist");if(!this.data.canDuplicateView(e))throw new a("Duplicate not supported on this view");const i=Array.from(this.duplicateHelpers.keys());await Promise.all(i.map((e=>e.beforeDuplicate())));const s=await this.viewStore.duplicate(this.data.getBaseModelId(),e,t,n.enabled);if(!s)throw new a("Unable to duplicate view!");this.data.addView(s),await this.setActiveModelView(s.id),await Promise.all(i.map((e=>e.afterDuplicate())))}viewSupportsLayers(){return this.data.getCurrentView().viewType!==s.XZ.SESSION}updateMdsContext(){const e=this.viewSupportsLayers(),t=this.settingsData.tryGetProperty(o.Wp,!1),n=this.data.isCurrentViewLayered();this.data.mdsContext.readLayerId=e;const i=e&&t&&n;this.data.mdsContext.toggleNonBaseLayeredWrites(i)}updateViewDetails(e,t){Object.assign(e,{viewType:t.viewType,rawViewType:t.rawViewType,name:t.name,enabled:t.enabled,modified:t.modified}),e.commit(),this.updateMdsContext()}async convertModelToLayered(){if(this.data.isWorkshopSessionView())return;const e=this.data.getBaseModelView();e&&!(0,d.dW)(e)&&await this.layerModelAndUpdate()}async addLayer(e,t,n=[]){let i;i=t?await this.layerStore.addCommonLayer(e,0):await this.layerStore.addLayer(e,!0,0,n);const s=this.data.getCurrentView();if((0,d.AI)(s)&&!(0,d.dW)(s)){const e=await this.viewStore.readView(s.id);this.updateViewDetails(s,e)}return await this.layerStore.refresh(),this.selectLayer(i,!0),this.engine.broadcast(new c.ue(i)),i}addInMemoryLayer(e){return this.data.addInMemoryLayer(e)}async toggleLayerAsCommon(e,t){const n=this.data.getLayer(e);if(!n)throw new a("Unable to find layer to toggle common");t?await this.layerStore.convertLayerToCommon(e,n.visible,0):await this.layerStore.convertLayerToDedicated(e)}async toggleLayerVisible(e,t){const n=this.data.getLayer(e);if(!n)throw new a("Unable to find layer to toggle visibility");if(n.layerType===s.s0.COMMON_USER_LAYER){const n=this.data.getOrderedModelViews(!0).map((e=>e.id));await this.layerStore.patchLayerViews(e,n,t)}else await this.layerStore.patchLayer(e,null,null,null,t)}async renameLayer(e,t){const n=this.data.getLayer(e);if(!n)throw new a("Unable to find layer to rename");await this.layerStore.patchLayer(e,t,null,null,null),n.name=t,n.commit()}async setLayerPosition(e,t){await this.layerStore.patchLayer(e,null,null,t,null)}async deleteLayer(e){if(!this.data.getLayer(e))throw new a("Unable to find layer to delete");await this.layerStore.deleteLayer(e),this.refreshView(this.data.getCurrentView())}async selectLayer(e,t){const n=this.data.getViewLayerId(),i=this.data.getBaseLayerId(),s=e===n||e===i,r=n||i;let o;if(t)o=s?r:e;else{if(s)throw new a("Cannot deselect a system layer!");o=r}if(!o)throw new a("No Active layer to set");o!==this.data.activeLayerId&&this.data.setActiveCurrentLayer(o)}async toggleLayer(e,t){this.data.toggleLayer(e,t)}modifyInsideSaveCommand(e){return async(...t)=>{await this.engine.commandBinder.issueCommand(new B.V({dataTypes:[G.g.LAYERS],onCallback:()=>e(...t),skipDirtyUpdate:!0}))}}}},28022:(e,t,n)=>{"use strict";n.d(t,{WG:()=>r,YB:()=>s,ue:()=>a});var i=n(98010);class s extends i.v0{}class r extends i.v0{constructor(e){super(),this.items=e}}class a extends i.v0{constructor(e){super(),this.layerId=e}}},23829:(e,t,n)=>{"use strict";n.d(t,{Pd:()=>s,RF:()=>a,Sw:()=>r,dS:()=>o,fB:()=>l,ty:()=>i});const i=50,s=50,r="views",a="0",o="https://support.matterport.com/s/article/Create-and-Share-Views",l="https://support.matterport.com/s/article/Working-with-Layers"},9373:(e,t,n)=>{"use strict";n.d(t,{AI:()=>r,Gl:()=>o,dW:()=>s,ys:()=>a});var i=n(63319);function s(e){return e.viewType===i.XZ.LAYERED_BASE}function r(e){return s(e)||e.viewType===i.XZ.BASE}function a(e){return e.viewType===i.XZ.USER}function o(e){return e.viewType===i.XZ.INSIGHTS}},27990:(e,t,n)=>{"use strict";n.d(t,{Ko:()=>h,hJ:()=>f,up:()=>m});var i=n(81396),s=n(69505),r=n(46391),a=n(59370),o=n(78283);const l=new i.Vector2,c=new i.Vector3,d=new i.Vector2,u=new i.Vector2,h=(e,t,n)=>{const i=((e,t,n)=>((0,a.q9)(n,e,d),(0,a.q9)(n,t,u),{pixelDistance:d.distanceTo(u),startScreenPosition:d,endScreenPosition:u}))(e,t,n);return{screenPosition:((e,t,n)=>(c.copy(e).add(t).multiplyScalar(.5),(0,a.q9)(n,c,l),l))(e,t,n),rotation:p(d,u),pixelDistance:i.pixelDistance,startScreenPosition:i.startScreenPosition,endScreenPosition:i.endScreenPosition}},p=(e,t)=>{const n=e.y-t.y,i=e.x-t.x;let r=Math.atan2(n,i)*s.MN;return r=r>=90||r<=-90?r+180:r,r},m=(e,t=r.M.IMPERIAL)=>{let n='0"';switch(t){case r.M.IMPERIAL:const{feet:t,inches:i}=(0,o.XJ)(e);n=t>0?`${t}' ${i}"`:`${i}"`;break;case r.M.METRIC:n=`${e.toFixed(2)}m`}return n},f=(e,t=10,n=40)=>({width:Math.max(9*Math.max(e,2)+t,n),height:18+t})},38399:(e,t,n)=>{"use strict";var i;n.d(t,{Z:()=>s}),function(e){e.LOADING="LOADING",e.PRESENTED_BY_CAPS="PRESENTED_BY_CAPS",e.EXPLORE_3D_SPACE="EXPLORE_3D_SPACE",e.POWERED_BY="POWERED_BY",e.SC_LOCKOUT_MESSAGE="SC_LOCKOUT_MESSAGE",e.SC_LOCKOUT_TITLE="SC_LOCKOUT_TITLE",e.SC_PASSWORD_TITLE="SC_PASSWORD_TITLE",e.SC_PASSWORD_INVALID="SC_PASSWORD_INVALID",e.SC_PASSWORD_PLACEHOLDER="SC_PASSWORD_PLACEHOLDER",e.SC_PASSWORD_SUBMIT="SC_PASSWORD_SUBMIT",e.VIEW_INSIDE="VIEW_INSIDE",e.VIEW_INSIDE_MESH="VIEW_INSIDE_MESH",e.VIEW_DOLLHOUSE="VIEW_DOLLHOUSE",e.VIEW_FLOORPLAN="VIEW_FLOORPLAN",e.VIEW_FULLSCREEN="VIEW_FULLSCREEN",e.EXIT_FULLSCREEN="EXIT_FULLSCREEN",e.OPEN_HIGHLIGHTS="OPEN_HIGHLIGHTS",e.CLOSE_HIGHLIGHTS="CLOSE_HIGHLIGHTS",e.PAUSE="PAUSE",e.SOCIAL_SHARING="SOCIAL_SHARING",e.VIEW_IN_VR="VIEW_IN_VR",e.FLOOR_NAME="FLOOR_NAME",e.FLOOR_ALL="FLOOR_ALL",e.PRESENTED_BY="PRESENTED_BY",e.MORE="MORE",e.LESS="LESS",e.LEARN_MORE="LEARN_MORE",e.FEEDBACK="FEEDBACK",e.TERMS="TERMS",e.HELP="HELP",e.ALT_MATTERPORT_LOGO="ALT_MATTERPORT_LOGO",e.TERMS_FAIL="TERMS_FAIL",e.HELP_NAVIGATION_TAB="HELP_NAVIGATION_TAB",e.HELP_MORE_HELP_TAB="HELP_MORE_HELP_TAB",e.HELP_DESKTOP_360_2A="HELP_DESKTOP_360_2A",e.HELP_DESKTOP_360_2B="HELP_DESKTOP_360_2B",e.HELP_DESKTOP_DOLLHOUSE_1A="HELP_DESKTOP_DOLLHOUSE_1A",e.HELP_DESKTOP_DOLLHOUSE_1B="HELP_DESKTOP_DOLLHOUSE_1B",e.HELP_DESKTOP_DOLLHOUSE_2A="HELP_DESKTOP_DOLLHOUSE_2A",e.HELP_DESKTOP_DOLLHOUSE_3A="HELP_DESKTOP_DOLLHOUSE_3A",e.HELP_DESKTOP_FLOORPLAN_1A="HELP_DESKTOP_FLOORPLAN_1A",e.HELP_DESKTOP_FLOORPLAN_2A="HELP_DESKTOP_FLOORPLAN_2A",e.HELP_DESKTOP_FLOORPLAN_2B="HELP_DESKTOP_FLOORPLAN_2B",e.HELP_DESKTOP_FLOORPLAN_3A="HELP_DESKTOP_FLOORPLAN_3A",e.HELP_DESKTOP_FLOORPLAN_3B="HELP_DESKTOP_FLOORPLAN_3B",e.HELP_DESKTOP_MORE_360_B="HELP_DESKTOP_MORE_360_B",e.HELP_DESKTOP_MORE_DOLLHOUSE_B="HELP_DESKTOP_MORE_DOLLHOUSE_B",e.HELP_DESKTOP_MORE_FLOORS_B="HELP_DESKTOP_MORE_FLOORS_B",e.HELP_DESKTOP_MORE_FULLSCREEN_B="HELP_DESKTOP_MORE_FULLSCREEN_B",e.HELP_DESKTOP_MORE_HLR_B="HELP_DESKTOP_MORE_HLR_B",e.HELP_DESKTOP_MORE_INSIDE_B="HELP_DESKTOP_MORE_INSIDE_B",e.HELP_DESKTOP_MORE_MATTERTAG_B="HELP_DESKTOP_MORE_MATTERTAG_B",e.HELP_DESKTOP_MORE_TOUR_B="HELP_DESKTOP_MORE_TOUR_B",e.HELP_DESKTOP_MORE_VR_B="HELP_DESKTOP_MORE_VR_B",e.HELP_DESKTOP_MORE_ZOOM_B="HELP_DESKTOP_MORE_ZOOM_B",e.HELP_DESKTOP_PANORAMA_1A="HELP_DESKTOP_PANORAMA_1A",e.HELP_DESKTOP_PANORAMA_1B="HELP_DESKTOP_PANORAMA_1B",e.HELP_DESKTOP_PANORAMA_2A="HELP_DESKTOP_PANORAMA_2A",e.HELP_DESKTOP_PANORAMA_2B="HELP_DESKTOP_PANORAMA_2B",e.HELP_DESKTOP_PANORAMA_3A="HELP_DESKTOP_PANORAMA_3A",e.HELP_DESKTOP_PANORAMA_3B="HELP_DESKTOP_PANORAMA_3B",e.HELP_MOBILE_3="HELP_MOBILE_3",e.HELP_MOBILE_360_2="HELP_MOBILE_360_2",e.HELP_MOBILE_DOLLHOUSE_1="HELP_MOBILE_DOLLHOUSE_1",e.HELP_MOBILE_DOLLHOUSE_2="HELP_MOBILE_DOLLHOUSE_2",e.HELP_MOBILE_FLOORPLAN_1="HELP_MOBILE_FLOORPLAN_1",e.HELP_MOBILE_FLOORPLAN_2="HELP_MOBILE_FLOORPLAN_2",e.HELP_MOBILE_MORE_360_B="HELP_MOBILE_MORE_360_B",e.HELP_MOBILE_MORE_DOLLHOUSE_B="HELP_MOBILE_MORE_DOLLHOUSE_B",e.HELP_MOBILE_MORE_INSIDE_B="HELP_MOBILE_MORE_INSIDE_B",e.HELP_MOBILE_MORE_MATTERTAG_B="HELP_MOBILE_MORE_MATTERTAG_B",e.HELP_MOBILE_MORE_VR_B="HELP_MOBILE_MORE_VR_B",e.HELP_MOBILE_PANORAMA_1="HELP_MOBILE_PANORAMA_1",e.HELP_MOBILE_PANORAMA_2="HELP_MOBILE_PANORAMA_2",e.HELP_MORE_360_A="HELP_MORE_360_A",e.HELP_MORE_DOLLHOUSE_A="HELP_MORE_DOLLHOUSE_A",e.HELP_MORE_FLOORS_A="HELP_MORE_FLOORS_A",e.HELP_MORE_FLOORPLAN_A="HELP_MORE_FLOORPLAN_A",e.HELP_MORE_FULLSCREEN_A="HELP_MORE_FULLSCREEN_A",e.HELP_MORE_HLR_A="HELP_MORE_HLR_A",e.HELP_MORE_INSIDE_A="HELP_MORE_INSIDE_A",e.HELP_MORE_MATTERTAG_A="HELP_MORE_MATTERTAG_A",e.HELP_MORE_TOUR_A="HELP_MORE_TOUR_A",e.HELP_MORE_VR_A="HELP_MORE_VR_A",e.HELP_MORE_ZOOM_A="HELP_MORE_ZOOM_A",e.VR_ENTER="VR_ENTER",e.VR_LEARN_MORE_CAPS="VR_LEARN_MORE_CAPS",e.VR_QUEST="VR_QUEST",e.VR_META_LINK="VR_META_LINK",e.VR_RECOMMENDED="VR_RECOMMENDED",e.VR_SUPPORTS="VR_SUPPORTS",e.VR_VIEW_SPACE="VR_VIEW_SPACE",e.CTA_TOUR_COMPLETE="CTA_TOUR_COMPLETE",e.CTA_EXPLORE_SPACE="CTA_EXPLORE_SPACE",e.CTA_RESTART_TOUR="CTA_RESTART_TOUR",e.CTA_SHARE="CTA_SHARE",e.DESKTOP_SHORT_CTA="DESKTOP_SHORT_CTA",e.MOBILE_SHORT_CTA="MOBILE_SHORT_CTA",e.ROTATE="ROTATE",e.MOVE="MOVE",e.PLAY="PLAY",e.NEXT="NEXT",e.PREVIOUS="PREVIOUS",e.INSIDE="INSIDE",e.ZOOM="ZOOM",e.MEASUREMENT="MEASUREMENT",e.MEASUREMENT_START_ADDING="MEASUREMENT_START_ADDING",e.MEASUREMENT_CONTINUOUS_LINES="MEASUREMENT_CONTINUOUS_LINES",e.MEASUREMENT_SNAPPING="MEASUREMENT_SNAPPING",e.MEASUREMENT_UNITS="MEASUREMENT_UNITS",e.MEASUREMENT_IMPERIAL="MEASUREMENT_IMPERIAL",e.MEASUREMENT_METRIC="MEASUREMENT_METRIC",e.MEASUREMENT_SETTINGS="MEASUREMENT_SETTINGS",e.MEASUREMENT_HELP_CLICK_ANYWHERE="MEASUREMENT_HELP_CLICK_ANYWHERE",e.MEASUREMENT_HELP_ESCAPE="MEASUREMENT_HELP_ESCAPE",e.MEASUREMENT_HELP_PRESS_START="MEASUREMENT_HELP_PRESS_START",e.MEASUREMENT_HELP_DRAG_EDIT="MEASUREMENT_HELP_DRAG_EDIT",e.MEASUREMENT_HELP_PRESS_END="MEASUREMENT_HELP_PRESS_END",e.MEASUREMENT_MODE="MEASUREMENT_MODE",e.MEASUREMENT_HELP_MODAL_SUB_HEADER="MEASUREMENT_HELP_MODAL_SUB_HEADER",e.MEASUREMENT_HELP_MODAL_BODY_1="MEASUREMENT_HELP_MODAL_BODY_1",e.MEASUREMENT_HELP_MODAL_BODY_2="MEASUREMENT_HELP_MODAL_BODY_2",e.MEASUREMENT_NUDGE_TITLE="MEASUREMENT_NUDGE_TITLE",e.MEASUREMENT_NUDGE_MESSAGE="MEASUREMENT_NUDGE_MESSAGE",e.MEASUREMENT_ADD_LABEL="MEASUREMENT_ADD_LABEL",e.MEASUREMENT_CANCEL_LABEL="MEASUREMENT_CANCEL_LABEL",e.MEASUREMENT_SAVE_LABEL="MEASUREMENT_SAVE_LABEL",e.NOTES_MODE="NOTES_MODE",e.NOTES_NUDGE_TITLE="NOTES_NUDGE_TITLE",e.NOTES_NUDGE_MESSAGE="NOTES_NUDGE_MESSAGE",e.CLOSE="CLOSE",e.SHOW="SHOW",e.HIDE="HIDE",e.MORE_OPTIONS="MORE_OPTIONS",e.COPY="COPY",e.COPY_URL="COPY_URL",e.COPY_LINK="COPY_LINK",e.SHARE="SHARE",e.SHARE_COPIED="SHARE_COPIED",e.SHARE_CURRENT_LOCATION="SHARE_CURRENT_LOCATION",e.SHARE_DEFAULT_LOCATION="SHARE_DEFAULT_LOCATION",e.SHARE_ERROR_SWEEP_DISABLED="SHARE_ERROR_SWEEP_DISABLED",e.SHARE_EXPLORE="SHARE_EXPLORE",e.SHARE_LINK_TO_LOCATION="SHARE_LINK_TO_LOCATION",e.SHARE_AT="SHARE_AT",e.SHARE_WITH="SHARE_WITH",e.SHARE_3D="SHARE_3D",e.SHARE_MODAL_TITLE="SHARE_MODAL_TITLE",e.SHARE_MAIL="SHARE_MAIL",e.SHARE_FACEBOOK="SHARE_FACEBOOK",e.SHARE_TWITTER="SHARE_TWITTER",e.SHARE_LINKEDIN="SHARE_LINKEDIN",e.SHARE_PINTEREST="SHARE_PINTEREST",e.SHARED_TITLE="SHARED_TITLE",e.SHARED_MESSAGE="SHARED_MESSAGE",e.SHARED_MESSAGE_HASHTAG="SHARED_MESSAGE_HASHTAG",e.DOLLHOUSE_NUDGE_TITLE="DOLLHOUSE_NUDGE_TITLE",e.DOLLHOUSE_NUDGE_MESSAGE="DOLLHOUSE_NUDGE_MESSAGE"}(i||(i={})),function(e){let t,n,i,s,r,a,o,l,c,d,u,h,p,m;!function(e){e.NEW_MESSAGE="GENERIC.NEW_MESSAGE",e.READ_MORE="GENERIC.READ_MORE",e.SETTING_OFF="GENERIC.SETTING_OFF",e.SETTING_ON="GENERIC.SETTING_ON"}(t=e.GENERIC||(e.GENERIC={})),function(e){e.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE="ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE",e.UNAUTHORIZED_ERROR_MESSAGE="ERRORS.UNAUTHORIZED_ERROR_MESSAGE"}(n=e.ERRORS||(e.ERRORS={})),function(e){e.COLLAPSE="ACCORDIONS.COLLAPSE",e.EXPAND="ACCORDIONS.EXPAND"}(i=e.ACCORDIONS||(e.ACCORDIONS={})),function(e){e.INVITED_MESSAGE="LOGIN.INVITED_MESSAGE",e.CREATE_ACCOUNT="LOGIN.CREATE_ACCOUNT",e.HAVE_ACCOUNT="LOGIN.HAVE_ACCOUNT",e.SIGN_IN="LOGIN.SIGN_IN"}(s=e.LOGIN||(e.LOGIN={})),function(e){e.COLLAPSE_PANEL="PANELS.COLLAPSE_PANEL",e.EXPAND_PANEL="PANELS.EXPAND_PANEL"}(r=e.PANELS||(e.PANELS={})),function(e){e.CLOSE_BUTTON_TOOLTIP_MESSAGE="REUSABLES.CLOSE_BUTTON_TOOLTIP_MESSAGE",e.HELP_BUTTON_TOOLTIP_MESSAGE="REUSABLES.HELP_BUTTON_TOOLTIP_MESSAGE",e.EMOJI_ALT_DISAPPOINTED="REUSABLES.EMOJI_ALT_DISAPPOINTED",e.EMOJI_ALT_UNSATISFIED="REUSABLES.EMOJI_ALT_UNSATISFIED",e.EMOJI_ALT_NEUTRAL="REUSABLES.EMOJI_ALT_NEUTRAL",e.EMOJI_ALT_SATISFIED="REUSABLES.EMOJI_ALT_SATISFIED",e.EMOJI_ALT_HAPPY="REUSABLES.EMOJI_ALT_HAPPY",e.FEEDBACK_LINK_LABEL="REUSABLES.FEEDBACK_LINK_LABEL",e.BETA_FEEDBACK_LINK_LABEL="REUSABLES.BETA_FEEDBACK_LINK_LABEL"}(a=e.REUSABLES||(e.REUSABLES={})),function(e){e.SCROLL_BUTTON_LABEL="SCROLLING.SCROLL_BUTTON_LABEL"}(o=e.SCROLLING||(e.SCROLLING={})),function(e){e.PINK="COLORS.PINK",e.PLUM="COLORS.PLUM",e.PURPLE="COLORS.PURPLE",e.COBALT="COLORS.COBALT",e.CERULEAN="COLORS.CERULEAN",e.TEAL="COLORS.TEAL",e.FOG="COLORS.FOG",e.IRON="COLORS.IRON",e.FOREST="COLORS.FOREST",e.EMERALD="COLORS.EMERALD",e.MINT="COLORS.MINT",e.LIME="COLORS.LIME",e.CANARY="COLORS.CANARY",e.SUNFLOWER="COLORS.SUNFLOWER",e.TANGERINE="COLORS.TANGERINE",e.SUNSET="COLORS.SUNSET",e.SIERRA="COLORS.SIERRA",e.MAGENTA="COLORS.MAGENTA"}(l=e.COLORS||(e.COLORS={})),function(e){e.GENERIC_HELPTEXT="OOPS.GENERIC.HELPTEXT",e.GENERIC_TITLE="OOPS.GENERIC.TITLE",e.MODEL_ARCHIVED_TITLE="OOPS.MODEL_ARCHIVED.TITLE",e.MODEL_ARCHIVED_HELPTEXT="OOPS.MODEL_ARCHIVED.HELPTEXT",e.MODEL_COMPLIANCE_TITLE="OOPS.MODEL_COMPLIANCE.TITLE",e.MODEL_COMPLIANCE_HELPTEXT="OOPS.MODEL_COMPLIANCE.HELPTEXT",e.MODEL_DELETED_TITLE="OOPS.MODEL_DELETED.TITLE",e.MODEL_FAILED_TITLE="OOPS.MODEL_FAILED.TITLE",e.MODEL_FAILED_HELPTEXT="OOPS.MODEL_FAILED.HELPTEXT",e.MODEL_PENDING_TITLE="OOPS.MODEL_PENDING.TITLE",e.MODEL_PENDING_HELPTEXT="OOPS.MODEL_PENDING.HELPTEXT",e.MODEL_PROCESSING_TITLE="OOPS.MODEL_PROCESSING.TITLE",e.MODEL_PROCESSING_HELPTEXT="OOPS.MODEL_PROCESSING.HELPTEXT",e.SIGNED_IN_AS="OOPS.SIGNED_IN_AS",e.WEBGL_CONTEXT_LOST_HELPTEXT="OOPS.WEBGL_CONTEXT_LOST.HELPTEXT",e.WEBGL_CONTEXT_LOST_TITLE="OOPS.WEBGL_CONTEXT_LOST.TITLE",e.WEBGL_GENERIC_HELPTEXT="OOPS.WEBGL_GENERIC.HELPTEXT",e.WEBGL_GENERIC_TITLE="OOPS.WEBGL_GENERIC.TITLE",e.WEBGL_UNSUPPORTED_HELPTEXT="OOPS.WEBGL_UNSUPPORTED.HELPTEXT",e.WEBGL_UNSUPPORTED_TITLE="OOPS.WEBGL_UNSUPPORTED.TITLE"}(c=e.OOPS||(e.OOPS={})),function(e){e.AWAITING="SDK.AWAITING"}(d=e.SDK||(e.SDK={})),function(e){let t,n,i,s,r,a,o,l,c,d,u,h,p,m,f,g;!function(e){e.UPLOAD_TOOLTIP="SHOWCASE.ANNOTATIONS.UPLOAD_TOOLTIP",e.EMBED_TOOLTIP="SHOWCASE.ANNOTATIONS.EMBED_TOOLTIP",e.MAX_ATTACHMENTS_TOOLTIP="SHOWCASE.ANNOTATIONS.MAX_ATTACHMENTS_TOOLTIP",e.LINK_TOOLTIP="SHOWCASE.ANNOTATIONS.LINK_TOOLTIP",e.ADD_CTA="SHOWCASE.ANNOTATIONS.ADD_CTA",e.SAVE_CTA="SHOWCASE.ANNOTATIONS.SAVE_CTA",e.CANCEL_CTA="SHOWCASE.ANNOTATIONS.CANCEL_CTA",e.CONTENT_DELETED="SHOWCASE.ANNOTATIONS.CONTENT_DELETED",e.READ_MORE_MESSAGE="SHOWCASE.ANNOTATIONS.READ_MORE_MESSAGE"}(t=e.ANNOTATIONS||(e.ANNOTATIONS={})),function(e){e.ERROR_UPLOAD_FAIL="SHOWCASE.ATTACHMENTS.ERROR_UPLOAD_FAIL",e.ERROR_FILE_TOO_LARGE="SHOWCASE.ATTACHMENTS.ERROR_FILE_TOO_LARGE",e.ERROR_EMPTY_FILE="SHOWCASE.ATTACHMENTS.ERROR_EMPTY_FILE",e.ERROR_OVER_QUOTA="SHOWCASE.ATTACHMENTS.ERROR_OVER_QUOTA",e.ERROR_PERMISSION_DENIED="SHOWCASE.ATTACHMENTS.ERROR_PERMISSION_DENIED",e.REMOVE_TOOLTIP="SHOWCASE.ATTACHMENTS.REMOVE_TOOLTIP",e.CLOSE_TOOLTIP="SHOWCASE.ATTACHMENTS.CLOSE_TOOLTIP",e.DELETE_ATTACHMENT_TOOLTIP="SHOWCASE.ATTACHMENTS.DELETE_ATTACHMENT_TOOLTIP",e.DOWNLOAD_TOOLTIP="SHOWCASE.ATTACHMENTS.DOWNLOAD_TOOLTIP",e.EXPAND_ATTACHMENT_TOOLTIP="SHOWCASE.ATTACHMENTS.EXPAND_ATTACHMENT_TOOLTIP",e.VIEWER_INDEX_COUNT="SHOWCASE.ATTACHMENTS.VIEWER_INDEX_COUNT",e.FAILED_TO_LOAD_MESSAGE="SHOWCASE.ATTACHMENTS.FAILED_TO_LOAD_MESSAGE",e.MORE_ATTACHMENT="SHOWCASE.ATTACHMENTS.MORE_ATTACHMENT",e.ERROR_200_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_200_MESSAGE",e.ERROR_401_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_401_MESSAGE",e.ERROR_403_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_403_MESSAGE",e.ERROR_404_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_404_MESSAGE",e.ERROR_429_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_429_MESSAGE",e.ERROR_4XX_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_4XX_MESSAGE",e.ERROR_5XX_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_5XX_MESSAGE"}(n=e.ATTACHMENTS||(e.ATTACHMENTS={})),function(e){e.DEFAULT_NAME="SHOWCASE.FLOORS.DEFAULT_NAME"}(i=e.FLOORS||(e.FLOORS={})),function(e){e.ALT_GESTURE_DRAG="SHOWCASE.HELP.ALT_GESTURE_DRAG",e.ALT_GESTURE_DRAGTWOFINGER="SHOWCASE.HELP.ALT_GESTURE_DRAGTWOFINGER",e.ALT_GESTURE_POSITION="SHOWCASE.HELP.ALT_GESTURE_POSITION",e.ALT_GESTURE_PINCH="SHOWCASE.HELP.ALT_GESTURE_PINCH",e.ALT_GESTURE_PLAY="SHOWCASE.HELP.ALT_GESTURE_PLAY",e.ALT_GESTURE_POSITIONTWOFINGER="SHOWCASE.HELP.ALT_GESTURE_POSITIONTWOFINGER",e.ALT_GESTURE_TAP="SHOWCASE.HELP.ALT_GESTURE_TAP",e.ALT_GESTURE_TAPINSIDE="SHOWCASE.HELP.ALT_GESTURE_TAPINSIDE",e.ALT_KEYBOARD_ALL="SHOWCASE.HELP.ALT_KEYBOARD_ALL",e.ALT_KEYBOARD_INSIDE="SHOWCASE.HELP.ALT_KEYBOARD_INSIDE",e.ALT_KEYBOARD_LEFTRIGHT="SHOWCASE.HELP.ALT_KEYBOARD_LEFTRIGHT",e.ALT_KEYBOARD_UPDOWN="SHOWCASE.HELP.ALT_KEYBOARD_UPDOWN",e.ALT_KEYBOARD_ZOOM="SHOWCASE.HELP.ALT_KEYBOARD_ZOOM",e.ALT_MOUSE_CLICK="SHOWCASE.HELP.ALT_MOUSE_CLICK",e.ALT_MOUSE_CLICKINSIDE="SHOWCASE.HELP.ALT_MOUSE_CLICKINSIDE",e.ALT_MOUSE_DRAGLEFT="SHOWCASE.HELP.ALT_MOUSE_DRAGLEFT",e.ALT_MOUSE_DRAGRIGHT="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT",e.ALT_MOUSE_PLAY="SHOWCASE.HELP.ALT_MOUSE_PLAY",e.ALT_MOUSE_POSITIONLEFT="SHOWCASE.HELP.ALT_MOUSE_POSITIONLEFT",e.ALT_MOUSE_POSITIONRIGHT="SHOWCASE.HELP.ALT_MOUSE_POSITIONRIGHT",e.ALT_MOUSE_ZOOM="SHOWCASE.HELP.ALT_MOUSE_ZOOM"}(s=e.HELP||(e.HELP={})),function(e){e.EMPTY_REEL_TITLE="SHOWCASE.HLR.EMPTY_REEL_TITLE",e.EMPTY_REEL_MESSAGE="SHOWCASE.HLR.EMPTY_REEL_MESSAGE",e.EMPTY_REEL_LEARN_MORE="SHOWCASE.HLR.EMPTY_REEL_LEARN_MORE"}(r=e.HLR||(e.HLR={})),function(e){e.SEARCH_GROUP_HEADER="SHOWCASE.LABELS.SEARCH_GROUP_HEADER"}(a=e.LABELS||(e.LABELS={})),function(e){e.TOGGLE_LAYERS="SHOWCASE.LAYERS.TOGGLE_LAYERS"}(o=e.LAYERS||(e.LAYERS={})),function(e){e.SEARCH_GROUP_HEADER="SHOWCASE.MEASUREMENTS.SEARCH_GROUP_HEADER"}(l=e.MEASUREMENTS||(e.MEASUREMENTS={})),function(e){e.TODAY="SHOWCASE.NOTES.TODAY",e.YESTERDAY="SHOWCASE.NOTES.YESTERDAY",e.THIS_WEEK="SHOWCASE.NOTES.THIS_WEEK",e.ONE_WEEK_AGO="SHOWCASE.NOTES.ONE_WEEK_AGO",e.TWO_WEEKS_AGO="SHOWCASE.NOTES.TWO_WEEKS_AGO",e.THREE_WEEKS_AGO="SHOWCASE.NOTES.THREE_WEEKS_AGO",e.OLDER="SHOWCASE.NOTES.OLDER",e.NO_MATCHES="SHOWCASE.NOTES.NO_MATCHES",e.HAVE_NONE="SHOWCASE.NOTES.HAVE_NONE",e.HAVE_NONE_OPEN="SHOWCASE.NOTES.HAVE_NONE_OPEN",e.HAVE_NONE_RESOLVED="SHOWCASE.NOTES.HAVE_NONE_RESOLVED",e.CONTENT_DELETED="SHOWCASE.NOTES.CONTENT_DELETED",e.RESULTS="SHOWCASE.NOTES.RESULTS",e.NUM_ATTACHMENTS="SHOWCASE.NOTES.ATTACHMENTS",e.COMMENTS="SHOWCASE.NOTES.COMMENTS",e.NOTES="SHOWCASE.NOTES.NOTES",e.REPLIES="SHOWCASE.NOTES.REPLIES",e.FILTER="SHOWCASE.NOTES.FILTER",e.FILTER_RESOLVED="SHOWCASE.NOTES.FILTER_RESOLVED",e.FILTER_UNRESOLVED="SHOWCASE.NOTES.FILTER_UNRESOLVED",e.FILTER_ALL="SHOWCASE.NOTES.FILTER_ALL",e.FILTER_BY="SHOWCASE.NOTES.FILTER_BY",e.CANCEL="SHOWCASE.NOTES.CANCEL",e.DELETE="SHOWCASE.NOTES.DELETE",e.EDIT="SHOWCASE.NOTES.EDIT",e.ADD_NOTE_MESSAGE="SHOWCASE.NOTES.ADD_NOTE_MESSAGE",e.MARK_AS_RESOLVED="SHOWCASE.NOTES.MARK_AS_RESOLVED",e.UNRESOLVE="SHOWCASE.NOTES.UNRESOLVE",e.FEEDBACK="SHOWCASE.NOTES.FEEDBACK",e.NAV_BACK="SHOWCASE.NOTES.NAV_BACK",e.NAV_CLOSE="SHOWCASE.NOTES.NAV_CLOSE",e.REPLY_PLACEHOLDER="SHOWCASE.NOTES.REPLY_PLACEHOLDER",e.EDIT_LIST_ITEM_OPTION_CTA="SHOWCASE.NOTES.EDIT_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="SHOWCASE.NOTES.DELETE_LIST_ITEM_OPTION_CTA",e.MISSING_MESSAGE="SHOWCASE.NOTES.MISSING_MESSAGE",e.ADD_CTA_TOOLTIP="SHOWCASE.NOTES.ADD_CTA_TOOLTIP",e.ADD_TOOLTIP="SHOWCASE.NOTES.ADD_TOOLTIP",e.CANCEL_TOOLTIP="SHOWCASE.NOTES.CANCEL_TOOLTIP",e.COLOR_STEM_TOOLTIP="SHOWCASE.NOTES.COLOR_STEM_TOOLTIP",e.DELETE_TOOLTIP="SHOWCASE.NOTES.DELETE_TOOLTIP",e.OVERLAY_ADD_TOUCH="SHOWCASE.NOTES.OVERLAY_ADD_TOUCH",e.OVERLAY_ADD_CLICK="SHOWCASE.NOTES.OVERLAY_ADD_CLICK",e.OVERLAY_PLACE_TOUCH="SHOWCASE.NOTES.OVERLAY_PLACE_TOUCH",e.OVERLAY_PLACE_CLICK="SHOWCASE.NOTES.OVERLAY_PLACE_CLICK",e.SEARCH_GROUP_HEADER="SHOWCASE.NOTES.SEARCH_GROUP_HEADER",e.SEARCH_GROUP_HEADER_NOTES="SHOWCASE.NOTES.SEARCH_GROUP_HEADER_NOTES",e.SELECTED_NOTES="SHOWCASE.NOTES.SELECTED_NOTES",e.SELECTED_COMMENTS="SHOWCASE.NOTES.SELECTED_COMMENTS"}(c=e.NOTES||(e.NOTES={})),function(e){e.BACK="SHOWCASE.ROOMS.BACK",e.CLOSE="SHOWCASE.ROOMS.CLOSE",e.DEFAULT_NAME="SHOWCASE.ROOMS.DEFAULT_NAME",e.DEFAULT_ROOM="SHOWCASE.ROOMS.DEFAULT_ROOM",e.DOORWAY_TYPE="SHOWCASE.ROOMS.DOORWAY_TYPE",e.DOORWAY_TYPE_DOOR="SHOWCASE.ROOMS.DOORWAY_TYPE_DOOR",e.DOORWAY_TYPE_OPENING="SHOWCASE.ROOMS.DOORWAY_TYPE_OPENING",e.LIST_PANEL_TITLE="SHOWCASE.ROOMS.LIST_PANEL_TITLE",e.LIST_PANEL_EDIT="SHOWCASE.ROOMS.LIST_PANEL_EDIT",e.QUANTITY_IN_UNITS="SHOWCASE.ROOMS.QUANTITY_IN_UNITS",e.ROOM_AREA="SHOWCASE.ROOMS.ROOM_AREA",e.ROOM_BOUNDS_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_TOGGLE_LABEL",e.ROOM_DIMENSIONS="SHOWCASE.ROOMS.ROOM_DIMENSIONS",e.ROOM_INFORMATION="SHOWCASE.ROOMS.ROOM_INFORMATION",e.ROOM_PERIMETER="SHOWCASE.ROOMS.ROOM_PERIMETER",e.ROOM_TYPE="SHOWCASE.ROOMS.ROOM_TYPE",e.SEARCH_GROUP_HEADER="SHOWCASE.ROOMS.SEARCH_GROUP_HEADER",e.SETTINGS="SHOWCASE.ROOMS.SETTINGS",e.WALL_THICKNESS="SHOWCASE.ROOMS.WALL_THICKNESS",e.WALL_TYPE="SHOWCASE.ROOMS.WALL_TYPE",e.WALL_TYPE_SOLID="SHOWCASE.ROOMS.WALL_TYPE_SOLID",e.WALL_TYPE_DIVIDER="SHOWCASE.ROOMS.WALL_TYPE_DIVIDER"}(d=e.ROOMS||(e.ROOMS={})),function(e){e.CLOSE_TAG_LABEL="SHOWCASE.TAGS.CLOSE_TAG_LABEL",e.DOCK_TAG_LABEL="SHOWCASE.TAGS.DOCK_TAG_LABEL",e.EDIT_TAG_LABEL="SHOWCASE.TAGS.EDIT_TAG_LABEL",e.MISSING_MESSAGE="SHOWCASE.TAGS.MISSING_MESSAGE",e.SEARCH_GROUP_HEADER="SHOWCASE.TAGS.SEARCH_GROUP_HEADER",e.SHARE_TAG_LABEL="SHOWCASE.TAGS.SHARE_TAG_LABEL",e.UNDOCK_TAG_LABEL="SHOWCASE.TAGS.UNDOCK_TAG_LABEL",e.NAV_BACK_LABEL="SHOWCASE.TAGS.NAV_BACK_LABEL"}(u=e.TAGS||(e.TAGS={})),function(e){e.QUERY_PLACEHOLDER="SHOWCASE.SEARCH.QUERY_PLACEHOLDER",e.SEARCH_IN_TOOL_PLACEHOLDER="SHOWCASE.SEARCH.SEARCH_IN_TOOL_PLACEHOLDER",e.CLEAR_SEARCH="SHOWCASE.SEARCH.CLEAR_SEARCH",e.FILTER_SEARCH="SHOWCASE.SEARCH.FILTER_SEARCH",e.FILTER_SEARCH_LABEL="SHOWCASE.SEARCH.FILTER_SEARCH_LABEL",e.FILTER_SEARCH_ALL="SHOWCASE.SEARCH.FILTER_SEARCH_ALL",e.FILTER_SEARCH_REMOVE="SHOWCASE.SEARCH.FILTER_SEARCH_REMOVE",e.FILTER_SEARCH_SELECTED="SHOWCASE.SEARCH.FILTER_SEARCH_SELECTED",e.GROUP_DATE="SHOWCASE.SEARCH.GROUP_DATE",e.GROUP_DATE_SELECTED="SHOWCASE.SEARCH.GROUP_DATE_SELECTED",e.GROUP_FLOOR="SHOWCASE.SEARCH.GROUP_FLOOR",e.GROUP_FLOOR_SELECTED="SHOWCASE.SEARCH.GROUP_FLOOR_SELECTED",e.GROUP_LAYER="SHOWCASE.SEARCH.GROUP_LAYER",e.GROUP_LAYER_SELECTED="SHOWCASE.SEARCH.GROUP_LAYER_SELECTED",e.GROUP_ROOM="SHOWCASE.SEARCH.GROUP_ROOM",e.GROUP_ROOM_SELECTED="SHOWCASE.SEARCH.GROUP_ROOM_SELECTED",e.GROUP_TYPE="SHOWCASE.SEARCH.GROUP_TYPE",e.GROUP_TYPE_SELECTED="SHOWCASE.SEARCH.GROUP_TYPE_SELECTED",e.ITEMS="SHOWCASE.SEARCH.ITEMS",e.EMPTY_LIST_MESSAGE="SHOWCASE.SEARCH.EMPTY_LIST_MESSAGE",e.VALIDATION_MESSAGE="SHOWCASE.SEARCH.VALIDATION_MESSAGE"}(h=e.SEARCH||(e.SEARCH={})),function(e){e.BANNER_CTA_LINK_TEXT="SHOWCASE.SUBSCRIBER_PROMPT.BANNER_CTA_LINK_TEXT",e.POPUP_CTA_HEADING="SHOWCASE.SUBSCRIBER_PROMPT.POPUP_CTA_HEADING",e.POPUP_CTA_LINK_TEXT="SHOWCASE.SUBSCRIBER_PROMPT.POPUP_CTA_LINK_TEXT"}(p=e.SUBSCRIBER_PROMPT||(e.SUBSCRIBER_PROMPT={})),function(e){e.HEADING="SHOWCASE.SUMMARY.HEADING",e.LABEL_ADDRESS="SHOWCASE.SUMMARY.LABEL_ADDRESS",e.LABEL_CONTACT="SHOWCASE.SUMMARY.LABEL_CONTACT",e.LABEL_INFORMATION="SHOWCASE.SUMMARY.LABEL_INFORMATION",e.LABEL_LOCATION="SHOWCASE.SUMMARY.LABEL_LOCATION",e.LABEL_LEARN_MORE="SHOWCASE.SUMMARY.LABEL_LEARN_MORE"}(m=e.SUMMARY||(e.SUMMARY={})),function(e){e.TOUR_BUTTON_LABEL="SHOWCASE.TOURS.TOUR_BUTTON_LABEL",e.TOUR_CONTROLS_TITLE="SHOWCASE.TOURS.TOUR_CONTROLS_TITLE",e.TOUR_CONTROLS_CTA="SHOWCASE.TOURS.TOUR_CONTROLS_CTA"}(f=e.TOURS||(e.TOURS={})),function(e){e.VIEW_SELECTOR_START_LOCATION_TOOLTIP="SHOWCASE.VIEWS.VIEW_SELECTOR_START_LOCATION_TOOLTIP"}(g=e.VIEWS||(e.VIEWS={}))}(u=e.SHOWCASE||(e.SHOWCASE={})),function(e){e.BLUR="TOOLS.BLUR",e.BLUR_HELP_MESSAGE="TOOLS.BLUR_HELP_MESSAGE",e.HLR="TOOLS.HLR",e.HLR_HELP_MESSAGE="TOOLS.HLR_HELP_MESSAGE",e.LABELS="TOOLS.LABELS",e.LABELS_HELP_MESSAGE="TOOLS.LABELS_HELP_MESSAGE",e.LAYERS="TOOLS.LAYERS",e.LAYERS_HELP_MESSAGE="TOOLS.LAYERS_HELP_MESSAGE",e.MATTERTAGS="TOOLS.MATTERTAGS",e.MATTERTAGS_HELP_MESSAGE="TOOLS.MATTERTAGS_HELP_MESSAGE",e.MEASUREMENTS="TOOLS.MEASUREMENTS",e.MEASUREMENTS_HELP_MESSAGE="TOOLS.MEASUREMENTS_HELP_MESSAGE",e.MESH_TRIM="TOOLS.MESH_TRIM",e.MESH_TRIM_HELP_MESSAGE="TOOLS.MESH_TRIM_HELP_MESSAGE",e.NOTES="TOOLS.NOTES",e.NOTES_HELP_MESSAGE="TOOLS.NOTES_HELP_MESSAGE",e.PHOTOS="TOOLS.PHOTOS",e.PHOTOS_HELP_MESSAGE="TOOLS.PHOTOS_HELP_MESSAGE",e.PLUGIN_CONFIG="TOOLS.PLUGIN_CONFIG",e.PLUGIN_CONFIG_HELP_MESSAGE="TOOLS.PLUGIN_CONFIG_HELP_MESSAGE",e.ROOMPLAN="TOOLS.ROOMPLAN",e.SCANS_3D="TOOLS.SCANS_3D",e.SCANS_3D_HELP_MESSAGE="TOOLS.SCANS_3D_HELP_MESSAGE",e.SETTINGS_PANEL="TOOLS.SETTINGS_PANEL",e.START_LOCATION="TOOLS.START_LOCATION",e.START_LOCATION_HELP_MESSAGE="TOOLS.START_LOCATION_HELP_MESSAGE",e.SUMMARY="TOOLS.SUMMARY",e.TAGS="TOOLS.TAGS",e.TAGS_HELP_MESSAGE="TOOLS.TAGS_HELP_MESSAGE",e.TOURS="TOOLS.TOURS",e.TOURS_HELP_MESSAGE="TOOLS.TOURS_HELP_MESSAGE",e.VIEW_360="TOOLS.VIEW_360",e.VIEW_360_HELP_MESSAGE="TOOLS.VIEW_360_HELP_MESSAGE",e.VR_PATH="TOOLS.VR_PATH",e.VR_PATH_HELP_MESSAGE="TOOLS.VR_PATH_HELP_MESSAGE",e.SEARCH="TOOLS.SEARCH",e.UNSAVED_CHANGES_TITLE="TOOLS.UNSAVED_CHANGES_TITLE",e.UNSAVED_CHANGES_MESSAGE="TOOLS.UNSAVED_CHANGES_MESSAGE",e.UNSAVED_CHANGES_CONFIRM="TOOLS.UNSAVED_CHANGES_CONFIRM",e.UNSAVED_CHANGES_CANCEL="TOOLS.UNSAVED_CHANGES_CANCEL"}(h=e.TOOLS||(e.TOOLS={})),function(e){e.INVITE_USER="USERS.INVITE_USER",e.INVITE_USER_FAILED="USERS.INVITE_USER_FAILED",e.INVITE_BUTTON="USERS.INVITE_BUTTON",e.INVITE_USERS="USERS.INVITE_USERS",e.INVITE_USERS_FAILED="USERS.INVITE_USERS_FAILED",e.INVITE_VISIBLE_MSG="USERS.INVITE_VISIBLE_MSG",e.UNKNOWN_USER="USERS.UNKNOWN_USER",e.UNKNOWN_USERS="USERS.UNKNOWN_USERS"}(p=e.USERS||(e.USERS={})),function(e){let t,n,i,s,r,a,o,l,c,d,u,h,p,m,f,g,v,b,y,E,S,O,T,_,w;!function(e){e.DELETE_SELECTED_CTA="WORKSHOP.ACCORDION.DELETE_SELECTED_CTA",e.SELECT_ALL_CTA="WORKSHOP.ACCORDION.SELECT_ALL_CTA",e.ENTER_SELECT_MODE_CTA="WORKSHOP.ACCORDION.ENTER_SELECT_MODE_CTA",e.EXIT_SELECT_MODE_CTA="WORKSHOP.ACCORDION.EXIT_SELECT_MODE_CTA",e.DELETE_FOOTER_CTA="WORKSHOP.ACCORDION.DELETE_FOOTER_CTA",e.TOGGLE_VISIBILITY_FOOTER_CTA="WORKSHOP.ACCORDION.TOGGLE_VISIBILITY_FOOTER_CTA",e.BATCH_DELETE_MODAL_TITLE="WORKSHOP.ACCORDION.BATCH_DELETE_MODAL_TITLE",e.BATCH_DELETE_MODAL_MESSAGE="WORKSHOP.ACCORDION.BATCH_DELETE_MODAL_MESSAGE",e.BATCH_ITEMS_TYPE="WORKSHOP.ACCORDION.BATCH_ITEMS_TYPE",e.BATCH_COPY_LABEL="WORKSHOP.ACCORDION.BATCH_COPY_LABEL",e.BATCH_MOVE_LABEL="WORKSHOP.ACCORDION.BATCH_MOVE_LABEL",e.BATCH_DELETE_LABEL="WORKSHOP.ACCORDION.BATCH_DELETE_LABEL",e.RENAME_HEADER_OPTION_CTA="WORKSHOP.ACCORDION.RENAME_HEADER_OPTION_CTA"}(t=e.ACCORDION||(e.ACCORDION={})),function(e){e.CHANGES_SAVED_MESSAGE="WORKSHOP.APP_SWITCH.CHANGES_SAVED_MESSAGE",e.CHANGES_SAVED_AUTOSAVE_MESSAGE="WORKSHOP.APP_SWITCH.CHANGES_SAVED_AUTOSAVE_MESSAGE",e.EDIT_CTA="WORKSHOP.APP_SWITCH.EDIT_CTA",e.UNSUPPORTED_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.UNSUPPORTED_TOOLTIP_MESSAGE",e.UNSUPPORTED_TOOLTIP_TITLE="WORKSHOP.APP_SWITCH.UNSUPPORTED_TOOLTIP_TITLE",e.FLOORS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.FLOORS_CHECKBOX_LABEL",e.MEASUREMENTS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.MEASUREMENTS_CHECKBOX_LABEL",e.MATTERTAGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.MATTERTAGS_CHECKBOX_LABEL",e.TAGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.TAGS_CHECKBOX_LABEL",e.LABELS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.LABELS_CHECKBOX_LABEL",e.HIGHLIGHTS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.HIGHLIGHTS_CHECKBOX_LABEL",e.START_LOCATION_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.START_LOCATION_CHECKBOX_LABEL",e.SETTINGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.SETTINGS_CHECKBOX_LABEL",e.SWEEPS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.SWEEPS_CHECKBOX_LABEL",e.BLURS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.BLURS_CHECKBOX_LABEL",e.EXIT_EDIT_MODE_CTA="WORKSHOP.APP_SWITCH.EXIT_EDIT_MODE_CTA",e.EXIT_EDIT_MODE_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.EXIT_EDIT_MODE_TOOLTIP_MESSAGE",e.PREVIEW_CHANGES_CTA="WORKSHOP.APP_SWITCH.PREVIEW_CHANGES_CTA"}(n=e.APP_SWITCH||(e.APP_SWITCH={})),function(e){e.ACCEPT_ALL_SUGGESTIONS="WORKSHOP.BLURS.ACCEPT_ALL_SUGGESTIONS",e.ACCEPT_SUGGESTION_TOOLTIP="WORKSHOP.BLURS.ACCEPT_SUGGESTION_TOOLTIP",e.ALREADY_PROCESSING_ALERT_MESSAGE="WORKSHOP.BLURS.ALREADY_PROCESSING_ALERT_MESSAGE",e.ALREADY_PROCESSING_ALERT_TITLE="WORKSHOP.BLURS.ALREADY_PROCESSING_ALERT_TITLE",e.APPLY_BLURS_CTA="WORKSHOP.BLURS.APPLY_BLURS_CTA",e.APPLYING="WORKSHOP.BLURS.APPLYING",e.APPLY_MODAL_CONFIRM="WORKSHOP.BLURS.APPLY_MODAL_CONFIRM",e.APPLY_MODAL_NUDGE_CANCEL="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_CANCEL",e.APPLY_MODAL_MESSAGE="WORKSHOP.BLURS.APPLY_MODAL_MESSAGE",e.APPLY_MODAL_NUDGE_MESSAGE="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_MESSAGE",e.APPLY_MODAL_RETRY="WORKSHOP.BLURS.APPLY_MODAL_RETRY",e.APPLY_MODAL_TITLE="WORKSHOP.BLURS.APPLY_MODAL_TITLE",e.APPLY_MODAL_NUDGE_TITLE="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_TITLE",e.APPLY_MODAL_TRUNCATED="WORKSHOP.BLURS.APPLY_MODAL_TRUNCATED",e.APPLY_MODAL_WARNING="WORKSHOP.BLURS.APPLY_MODAL_WARNING",e.BATCH_SELECT="WORKSHOP.BLURS.BATCH_SELECT",e.BLUR_STATUS="WORKSHOP.BLURS.BLUR_STATUS",e.BLUR_STATUS_ALL="WORKSHOP.BLURS.BLUR_STATUS_ALL",e.BLUR_STATUS_APPLIED="WORKSHOP.BLURS.BLUR_STATUS_APPLIED",e.BLUR_STATUS_FAILED="WORKSHOP.BLURS.BLUR_STATUS_FAILED",e.BLUR_STATUS_PENDING="WORKSHOP.BLURS.BLUR_STATUS_PENDING",e.BLUR_STATUS_PROCESSING="WORKSHOP.BLURS.BLUR_STATUS_PROCESSING",e.BLUR_STATUS_SUGGESTED="WORKSHOP.BLURS.BLUR_STATUS_SUGGESTED",e.BRUSH_TOOLTIP_MESSAGE="WORKSHOP.BLURS.BRUSH_TOOLTIP_MESSAGE",e.BRUSH_TOOLTIP_TITLE="WORKSHOP.BLURS.BRUSH_TOOLTIP_TITLE",e.CLOSE_SUGGESTIONS="WORKSHOP.BLURS.CLOSE_SUGGESTIONS",e.CREATE_TOOLTIP_MESSAGE="WORKSHOP.BLURS.CREATE_TOOLTIP_MESSAGE",e.CREATE_TOOLTIP_TITLE="WORKSHOP.BLURS.CREATE_TOOLTIP_TITLE",e.DEFAULT_ALERT_CONFIRMATION="WORKSHOP.BLURS.DEFAULT_ALERT_CONFIRMATION",e.DEFAULT_ALERT_TITLE="WORKSHOP.BLURS.DEFAULT_ALERT_TITLE",e.DEFAULT_BLUR_NAME="WORKSHOP.BLURS.DEFAULT_BLUR_NAME",e.DELETE_BLUR_CTA="WORKSHOP.BLURS.DELETE_BLUR_CTA",e.GROUP_BY="WORKSHOP.BLURS.GROUP_BY",e.GROUP_BY_FLOOR="WORKSHOP.BLURS.GROUP_BY_FLOOR",e.GROUP_BY_SCAN="WORKSHOP.BLURS.GROUP_BY_SCAN",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.BLURS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.BLURS.MULTI_FLOOR_EMPTY_MESSAGE",e.NO_BLURS="WORKSHOP.BLURS.NO_BLURS",e.NO_SUGGESTIONS="WORKSHOP.BLURS.NO_SUGGESTIONS",e.NO_SUGGESTIONS_ON_FLOOR="WORKSHOP.BLURS.NO_SUGGESTIONS_ON_FLOOR",e.NUM_BLUR_SUGGESTIONS="WORKSHOP.BLURS.NUM_BLUR_SUGGESTIONS",e.NUM_TYPE="WORKSHOP.BLURS.NUM_TYPE",e.OTHER_GROUP_LABEL="WORKSHOP.BLURS.OTHER_GROUP_LABEL",e.OVERLAY_MESSAGE="WORKSHOP.BLURS.OVERLAY_MESSAGE",e.OVERLAY_MESSAGE_TOUCH="WORKSHOP.BLURS.OVERLAY_MESSAGE_TOUCH",e.REJECT_ALL_SUGGESTIONS="WORKSHOP.BLURS.REJECT_ALL_SUGGESTIONS",e.REJECT_SUGGESTION_TOOLTIP="WORKSHOP.BLURS.REJECT_SUGGESTION_TOOLTIP",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.BLURS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.BLURS.SINGLE_FLOOR_EMPTY_MESSAGE",e.SORT="WORKSHOP.BLURS.SORT",e.SORT_CREATED_ASC="WORKSHOP.BLURS.SORT_CREATED_ASC",e.SORT_CREATED_DESC="WORKSHOP.BLURS.SORT_CREATED_DESC",e.STATUS="WORKSHOP.BLURS.STATUS",e.SUGGESTED_BLUR="WORKSHOP.BLURS.SUGGESTED_BLUR",e.SUGGESTIONS_AVAILABLE_MESSAGE="WORKSHOP.BLURS.SUGGESTIONS_AVAILABLE_MESSAGE",e.SUGGESTIONS_FOUND_MESSAGE="WORKSHOP.BLURS.SUGGESTIONS_FOUND_MESSAGE",e.TYPE="WORKSHOP.BLURS.TYPE",e.VIEW_SUGGESTIONS="WORKSHOP.BLURS.VIEW_SUGGESTIONS"}(i=e.BLURS||(e.BLURS={})),function(e){e.TYPE="WORKSHOP.SUGGESTIONS.TYPE"}(s=e.SUGGESTIONS||(e.SUGGESTIONS={})),function(e){e.HELP_LINK="WORKSHOP.EDIT_BAR.HELP_LINK",e.BETA_TAG="WORKSHOP.EDIT_BAR.BETA_TAG",e.COLLAPSE_LIST_TOOLTIP_MESSAGE="WORKSHOP.EDIT_BAR.COLLAPSE_LIST_TOOLTIP_MESSAGE",e.EXPAND_LIST_TOOLTIP_MESSAGE="WORKSHOP.EDIT_BAR.EXPAND_LIST_TOOLTIP_MESSAGE",e.NEW_BADGE="WORKSHOP.EDIT_BAR.NEW_BADGE"}(r=e.EDIT_BAR||(e.EDIT_BAR={})),function(e){e.APPLY_CTA="WORKSHOP.EMBED.APPLY_CTA",e.HELP_CTA="WORKSHOP.EMBED.HELP_CTA",e.ERROR_MESSAGE="WORKSHOP.EMBED.ERROR_MESSAGE",e.LOADING_MESSAGE="WORKSHOP.EMBED.LOADING_MESSAGE",e.INVALID_URL_MESSAGE="WORKSHOP.EMBED.INVALID_URL_MESSAGE",e.SUPPORTED_FORMATS_MESSAGE="WORKSHOP.EMBED.SUPPORTED_FORMATS_MESSAGE",e.MEDIA_LINK_LABEL="WORKSHOP.EMBED.MEDIA_LINK_LABEL",e.PROVIDER_NOT_SUPPORTED_MESSAGE="WORKSHOP.EMBED.PROVIDER_NOT_SUPPORTED_MESSAGE",e.LINK_TYPE_NOT_SUPPORTED_MESSAGE="WORKSHOP.EMBED.LINK_TYPE_NOT_SUPPORTED_MESSAGE",e.MEDIA_EMBED_PLACEHOLDER="WORKSHOP.EMBED.MEDIA_EMBED_PLACEHOLDER"}(a=e.EMBED||(e.EMBED={})),function(e){e.ADD_FROM_PHOTOS_TOOLTIP_MESSAGE="WORKSHOP.HLR.ADD_FROM_PHOTOS_TOOLTIP_MESSAGE",e.ADD_HIGHLIGHT_CTA="WORKSHOP.HLR.ADD_HIGHLIGHT_CTA",e.ADD_HIGHLIGHT_DISABLED_CTA="WORKSHOP.HLR.ADD_HIGHLIGHT_DISABLED_CTA",e.ADD_HIGHLIGHT_INSTRUCTIONS="WORKSHOP.HLR.ADD_HIGHLIGHT_INSTRUCTIONS",e.APPLY_TO_ALL_CTA="WORKSHOP.HLR.APPLY_TO_ALL_CTA",e.CLEAR_HLR_MODAL_MESSAGE="WORKSHOP.HLR.CLEAR_HLR_MODAL_MESSAGE",e.CLEAR_HLR_MODAL_TITLE="WORKSHOP.HLR.CLEAR_HLR_MODAL_TITLE",e.CLEAR_REEL_CTA="WORKSHOP.HLR.CLEAR_REEL_CTA",e.CLOSE_SETTINGS_CTA="WORKSHOP.HLR.CLOSE_SETTINGS_CTA",e.DELETE_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.DELETE_HIGHLIGHT_TOOLTIP_MESSAGE",e.DISMISS_TOOLTIP_CTA="WORKSHOP.HLR.DISMISS_TOOLTIP_CTA",e.DOLLHOUSE_ROTATION_SPEED_SETTING_LABEL="WORKSHOP.HLR.DOLLHOUSE_ROTATION_SPEED_SETTING_LABEL",e.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE",e.EDIT_SETTINGS_TOOLTIP_MESSAGE="WORKSHOP.HLR.EDIT_SETTINGS_TOOLTIP_MESSAGE",e.HIGHLIGHT_CAPTION_HINT="WORKSHOP.HLR.HIGHLIGHT_CAPTION_HINT",e.HIGHLIGHT_CAPTION_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_CAPTION_PLACEHOLDER",e.HIGHLIGHT_DESCRIPTION_HINT="WORKSHOP.HLR.HIGHLIGHT_DESCRIPTION_HINT",e.HIGHLIGHT_DESCRIPTION_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_DESCRIPTION_PLACEHOLDER",e.HIGHLIGHT_SCENE_HINT="WORKSHOP.HLR.HIGHLIGHT_SCENE_HINT",e.HIGHLIGHT_SCENE_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_SCENE_PLACEHOLDER",e.HIGHLIGHT_TITLE_HINT="WORKSHOP.HLR.HIGHLIGHT_TITLE_HINT",e.HIGHLIGHT_TITLE_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_TITLE_PLACEHOLDER",e.INDIVIDUAL_PAN_DIRECTION_SETTING_LABEL="WORKSHOP.HLR.INDIVIDUAL_PAN_DIRECTION_SETTING_LABEL",e.INDIVIDUAL_TRANSITION_SETTING_LABEL="WORKSHOP.HLR.INDIVIDUAL_TRANSITION_SETTING_LABEL",e.NUM_TYPE="WORKSHOP.HLR.NUM_TYPE",e.PANNING_SETTINGS_TAB_TITLE="WORKSHOP.HLR.PANNING_SETTINGS_TAB_TITLE",e.PAN_DIRECTION_SETTING_AUTO="WORKSHOP.HLR.PAN_DIRECTION_SETTING_AUTO",e.PAN_DIRECTION_SETTING_LABEL="WORKSHOP.HLR.PAN_DIRECTION_SETTING_LABEL",e.PAN_DIRECTION_SETTING_LEFT="WORKSHOP.HLR.PAN_DIRECTION_SETTING_LEFT",e.PAN_DIRECTION_SETTING_RIGHT="WORKSHOP.HLR.PAN_DIRECTION_SETTING_RIGHT",e.PANEL_COLLAPSE="WORKSHOP.HLR.PANEL_COLLAPSE",e.PANEL_EXPAND="WORKSHOP.HLR.PANEL_EXPAND",e.PREVIEW_SETTINGS_CTA="WORKSHOP.HLR.PREVIEW_SETTINGS_CTA",e.PRESENTATION_SETTINGS_TAB_TITLE="WORKSHOP.HLR.PRESENTATION_SETTINGS_TAB_TITLE",e.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE",e.RESTORE_DEFAULTS_CTA="WORKSHOP.HLR.RESTORE_DEFAULTS_CTA",e.ROTATION_ANGLE_SETTING_LABEL="WORKSHOP.HLR.ROTATION_ANGLE_SETTING_LABEL",e.ROTATION_SPEED_SETTING_LABEL="WORKSHOP.HLR.ROTATION_SPEED_SETTING_LABEL",e.SCAN_GENERIC_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_GENERIC_HIDDEN_TOOLTIP_TITLE",e.SCAN_NOT_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_NOT_HIDDEN_TOOLTIP_TITLE",e.SCAN_NUMBER_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_NUMBER_HIDDEN_TOOLTIP_TITLE",e.SEARCH_HIGHLIGHT_DEFAULTNAME="WORKSHOP.HLR.SEARCH_HIGHLIGHT_DEFAULTNAME",e.SEARCH_ITEM_DELETE="WORKSHOP.HLR.SEARCH_ITEM_DELETE",e.SEARCH_ITEM_EDIT="WORKSHOP.HLR.SEARCH_ITEM_EDIT",e.SEARCH_TOUR_HEADER="WORKSHOP.HLR.SEARCH_TOUR_HEADER",e.SETTINGS_MODAL_TITLE="WORKSHOP.HLR.SETTINGS_MODAL_TITLE",e.SLIDESHOW_SPEED_SETTING_LABEL="WORKSHOP.HLR.SLIDESHOW_SPEED_SETTING_LABEL",e.SPEED_SETTING_FAST="WORKSHOP.HLR.SPEED_SETTING_FAST",e.SPEED_SETTING_MEDIUM="WORKSHOP.HLR.SPEED_SETTING_MEDIUM",e.SPEED_SETTING_SLOW="WORKSHOP.HLR.SPEED_SETTING_SLOW",e.TOAST_ERROR_CTA="WORKSHOP.HLR.TOAST_ERROR_CTA",e.TOAST_ERROR_MESSAGE="WORKSHOP.HLR.TOAST_ERROR_MESSAGE",e.TOUR_EDITOR_BEHAVIORS_TAB="WORKSHOP.HLR.TOUR_EDITOR_BEHAVIORS_TAB",e.TOUR_EDITOR_LABELS_TAB="WORKSHOP.HLR.TOUR_EDITOR_LABELS_TAB",e.TOUR_EDITOR_EMPTY_MESSAGE="WORKSHOP.HLR.TOUR_EDITOR_EMPTY_MESSAGE",e.TOUR_EDITOR_EMPTY_TITLE="WORKSHOP.HLR.TOUR_EDITOR_EMPTY_TITLE",e.TOUR_EDITOR_TITLE_DESCRIPTION_HELPER="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_HELPER",e.TOUR_EDITOR_TITLE_DESCRIPTION_TIP="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_TIP",e.TOUR_EDITOR_TITLE_DESCRIPTION_TIP_LINK="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_TIP_LINK",e.TOUR_SETTINGS_LABEL="WORKSHOP.HLR.TOUR_SETTINGS_LABEL",e.TOUR_SETTINGS_MOVED_HEADER="WORKSHOP.HLR.TOUR_SETTINGS_MOVED_HEADER",e.TOUR_SETTINGS_MOVED_MESSAGE="WORKSHOP.HLR.TOUR_SETTINGS_MOVED_MESSAGE",e.TRANSITION_AFTER_360_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_AFTER_360_DISABLED_MESSAGE",e.TRANSITION_EDITOR_TITLE="WORKSHOP.HLR.TRANSITION_EDITOR_TITLE",e.TRANSITION_IS_360_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_IS_360_DISABLED_MESSAGE",e.TRANSITION_NO_ROTATION_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_NO_ROTATION_DISABLED_MESSAGE",e.TRANSITION_SAME_SWEEP_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_SAME_SWEEP_DISABLED_MESSAGE",e.TRANSITION_SETTINGS_TAB_TITLE="WORKSHOP.HLR.TRANSITION_SETTINGS_TAB_TITLE",e.TRANSITION_SETTING_LABEL="WORKSHOP.HLR.TRANSITION_SETTING_LABEL",e.TRANSITION_SETTING_SLIDESHOW="WORKSHOP.HLR.TRANSITION_SETTING_SLIDESHOW",e.TRANSITION_SETTING_WALKTHROUGH="WORKSHOP.HLR.TRANSITION_SETTING_WALKTHROUGH",e.TYPE="WORKSHOP.HLR.TYPE",e.WALKTHROUGH_SPEED_SETTING_LABEL="WORKSHOP.HLR.WALKTHROUGH_SPEED_SETTING_LABEL",e.ZOOM_SPEED_SETTING_LABEL="WORKSHOP.HLR.ZOOM_SPEED_SETTING_LABEL"}(o=e.HLR||(e.HLR={})),function(e){e.TYPE="WORKSHOP.LABELS.TYPE",e.NUM_TYPE="WORKSHOP.LABELS.NUM_TYPE",e.SELECTED_LABELS="WORKSHOP.LABELS.SELECTED_LABELS",e.EDIT_TEXT_CANCEL_CTA="WORKSHOP.LABELS.EDIT_TEXT_CANCEL_CTA",e.EDIT_TEXT_DONE_CTA="WORKSHOP.LABELS.EDIT_TEXT_DONE_CTA",e.INPUT_PLACEHOLDER="WORKSHOP.LABELS.INPUT_PLACEHOLDER",e.MOBILE_OVERLAY_MESSAGE="WORKSHOP.LABELS.MOBILE_OVERLAY_MESSAGE",e.ADD_LABEL_TOOLTIP_MESSAGE="WORKSHOP.LABELS.ADD_LABEL_TOOLTIP_MESSAGE",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.LABELS.RENAME_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.LABELS.DELETE_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.LABELS.LIST_ITEM_INPUT_PLACEHOLDER",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.LABELS.MULTI_FLOOR_EMPTY_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.LABELS.SINGLE_FLOOR_EMPTY_MESSAGE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.LABELS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.LABELS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.EDIT_LABEL="WORKSHOP.LABELS.EDIT_LABEL"}(l=e.LABELS||(e.LABELS={})),function(e){e.BACKYARD="WORKSHOP.LABEL_SUGGESTIONS.BACKYARD",e.BALCONY="WORKSHOP.LABEL_SUGGESTIONS.BALCONY",e.BASEMENT="WORKSHOP.LABEL_SUGGESTIONS.BASEMENT",e.BATHROOM="WORKSHOP.LABEL_SUGGESTIONS.BATHROOM",e.BEDROOM="WORKSHOP.LABEL_SUGGESTIONS.BEDROOM",e.BONUS_ROOM="WORKSHOP.LABEL_SUGGESTIONS.BONUS_ROOM",e.BREAK_ROOM="WORKSHOP.LABEL_SUGGESTIONS.BREAK_ROOM",e.CLOSET="WORKSHOP.LABEL_SUGGESTIONS.CLOSET",e.CONFERENCE_ROOM="WORKSHOP.LABEL_SUGGESTIONS.CONFERENCE_ROOM",e.DEN="WORKSHOP.LABEL_SUGGESTIONS.DEN",e.DINING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.DINING_ROOM",e.DRIVEWAY="WORKSHOP.LABEL_SUGGESTIONS.DRIVEWAY",e.ELEVATOR="WORKSHOP.LABEL_SUGGESTIONS.ELEVATOR",e.ENTRANCE="WORKSHOP.LABEL_SUGGESTIONS.ENTRANCE",e.ESCALATOR="WORKSHOP.LABEL_SUGGESTIONS.ESCALATOR",e.EXERCISE_ROOM="WORKSHOP.LABEL_SUGGESTIONS.EXERCISE_ROOM",e.EXTERIOR="WORKSHOP.LABEL_SUGGESTIONS.EXTERIOR",e.FACADE="WORKSHOP.LABEL_SUGGESTIONS.FACADE",e.FAMILY_ROOM="WORKSHOP.LABEL_SUGGESTIONS.FAMILY_ROOM",e.FRONT_YARD="WORKSHOP.LABEL_SUGGESTIONS.FRONT_YARD",e.GAME_ROOM="WORKSHOP.LABEL_SUGGESTIONS.GAME_ROOM",e.GARAGE="WORKSHOP.LABEL_SUGGESTIONS.GARAGE",e.GARDEN="WORKSHOP.LABEL_SUGGESTIONS.GARDEN",e.GREAT_ROOM="WORKSHOP.LABEL_SUGGESTIONS.GREAT_ROOM",e.GYM="WORKSHOP.LABEL_SUGGESTIONS.GYM",e.HALLWAY="WORKSHOP.LABEL_SUGGESTIONS.HALLWAY",e.KITCHEN="WORKSHOP.LABEL_SUGGESTIONS.KITCHEN",e.LAUNDRY="WORKSHOP.LABEL_SUGGESTIONS.LAUNDRY",e.LIBRARY="WORKSHOP.LABEL_SUGGESTIONS.LIBRARY",e.LIVING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.LIVING_ROOM",e.LOBBY="WORKSHOP.LABEL_SUGGESTIONS.LOBBY",e.LOFT="WORKSHOP.LABEL_SUGGESTIONS.LOFT",e.LUNCH_ROOM="WORKSHOP.LABEL_SUGGESTIONS.LUNCH_ROOM",e.MEDIA_ROOM="WORKSHOP.LABEL_SUGGESTIONS.MEDIA_ROOM",e.MEETING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.MEETING_ROOM",e.OFFICE="WORKSHOP.LABEL_SUGGESTIONS.OFFICE",e.OTHER="WORKSHOP.LABEL_SUGGESTIONS.OTHER",e.PANTRY="WORKSHOP.LABEL_SUGGESTIONS.PANTRY",e.PATIO="WORKSHOP.LABEL_SUGGESTIONS.PATIO",e.POOL="WORKSHOP.LABEL_SUGGESTIONS.POOL",e.PRIMARY_BATHROOM="WORKSHOP.LABEL_SUGGESTIONS.PRIMARY_BATHROOM",e.PRIMARY_BEDROOM="WORKSHOP.LABEL_SUGGESTIONS.PRIMARY_BEDROOM",e.RECEPTION="WORKSHOP.LABEL_SUGGESTIONS.RECEPTION",e.SAUNA="WORKSHOP.LABEL_SUGGESTIONS.SAUNA",e.SPA="WORKSHOP.LABEL_SUGGESTIONS.SPA",e.STAIRCASE="WORKSHOP.LABEL_SUGGESTIONS.STAIRCASE",e.STAIRWAY="WORKSHOP.LABEL_SUGGESTIONS.STAIRWAY",e.STORAGE="WORKSHOP.LABEL_SUGGESTIONS.STORAGE",e.STUDY="WORKSHOP.LABEL_SUGGESTIONS.STUDY",e.UNFURNISHED="WORKSHOP.LABEL_SUGGESTIONS.UNFURNISHED",e.UTILITY_ROOM="WORKSHOP.LABEL_SUGGESTIONS.UTILITY_ROOM",e.VOID="WORKSHOP.LABEL_SUGGESTIONS.VOID",e.WORKSHOP_ROOM="WORKSHOP.LABEL_SUGGESTIONS.WORKSHOP_ROOM"}(c=e.LABEL_SUGGESTIONS||(e.LABEL_SUGGESTIONS={})),function(e){e.ADD_LAYER_BUTTON_LABEL="WORKSHOP.LAYERS.ADD_LAYER_BUTTON_LABEL",e.ADD_VIEW_ITEM="WORKSHOP.LAYERS.ADD_VIEW_ITEM",e.ADD_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.ADD_VIEW_MODAL_TITLE",e.APPLY_TO_ALL_VIEWS_BLURS="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_BLURS",e.APPLY_TO_ALL_VIEWS_SCANS_3D="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_SCANS_3D",e.APPLY_TO_ALL_VIEWS_TRIM="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_TRIM",e.APPLY_TO_ALL_VIEWS_VIEW_360="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_VIEW_360",e.BATCH_NEW_LAYER="WORKSHOP.LAYERS.BATCH_NEW_LAYER",e.COMMON_LAYER="WORKSHOP.LAYERS.COMMON_LAYER",e.COMMON_LAYER_DESCRIPTION="WORKSHOP.LAYERS.COMMON_LAYER_DESCRIPTION",e.COMMON_LAYER_ITEM="WORKSHOP.LAYERS.COMMON_LAYER_ITEM",e.COPY_LAYER_ITEM="WORKSHOP.LAYERS.COPY_LAYER_ITEM",e.DEDICATED_LAYER="WORKSHOP.LAYERS.DEDICATED_LAYER",e.DEDICATED_LAYER_DESCRIPTION="WORKSHOP.LAYERS.DEDICATED_LAYER_DESCRIPTION",e.DEDICATED_LAYER_ITEM="WORKSHOP.LAYERS.DEDICATED_LAYER_ITEM",e.DEFAULT_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_VIEW_NAME",e.DEFAULT_INSIGHTS_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_INSIGHTS_VIEW_NAME",e.DEFAULT_TRUEPLAN_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_TRUEPLAN_VIEW_NAME",e.DELETE_COMMON_LAYER_CONFIRMATION_MESSAGE="WORKSHOP.LAYERS.DELETE_COMMON_LAYER_CONFIRMATION_MESSAGE",e.DELETE_COMMON_LAYER_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_COMMON_LAYER_MODAL_TITLE",e.DELETE_LAYER_CONFIRMATION_MESSAGE="WORKSHOP.LAYERS.DELETE_LAYER_CONFIRMATION_MESSAGE",e.DELETE_LAYER_ITEM="WORKSHOP.LAYERS.DELETE_LAYER_ITEM",e.DELETE_LAYER_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_LAYER_MODAL_TITLE",e.DELETE_VIEW_ITEM="WORKSHOP.LAYERS.DELETE_VIEW_ITEM",e.DELETE_VIEW_MODAL_MESSAGE="WORKSHOP.LAYERS.DELETE_VIEW_MODAL_MESSAGE",e.DELETE_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_VIEW_MODAL_TITLE",e.DUPLICATE_LAYER_ITEM="WORKSHOP.LAYERS.DUPLICATE_LAYER_ITEM",e.DUPLICATE_LAYER_PLACEHOLDER="WORKSHOP.LAYERS.DUPLICATE_LAYER_PLACEHOLDER",e.DUPLICATE_LAYER_TITLE="WORKSHOP.LAYERS.DUPLICATE_LAYER_TITLE",e.DUPLICATE_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.DUPLICATE_VIEW_MODAL_TITLE",e.EDIT_LAYER_TITLE="WORKSHOP.LAYERS.EDIT_LAYER_TITLE",e.EDIT_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.EDIT_VIEW_MODAL_TITLE",e.HIDDEN_LAYER_ITEM_TOOLTIP="WORKSHOP.LAYERS.HIDDEN_LAYER_ITEM_TOOLTIP",e.HIDE_LAYER="WORKSHOP.LAYERS.HIDE_LAYER",e.LAYER_ADDING_TO_CHOICE_LABEL="WORKSHOP.LAYERS.LAYER_ADDING_TO_CHOICE_LABEL",e.LAYER_ADDING_TO_LABEL="WORKSHOP.LAYERS.LAYER_ADDING_TO_LABEL",e.LAYER_TYPE_LABEL="WORKSHOP.LAYERS.LAYER_TYPE_LABEL",e.LAYER_NAME_PLACEHOLDER="WORKSHOP.LAYERS.LAYER_NAME_PLACEHOLDER",e.MOVE_LAYER_ITEM="WORKSHOP.LAYERS.MOVE_LAYER_ITEM",e.NEW_LAYER_LABEL="WORKSHOP.LAYERS.NEW_LAYER_LABEL",e.NEW_LAYER_TITLE="WORKSHOP.LAYERS.NEW_LAYER_TITLE",e.NEW_VIEW_NAME_PLACEHOLDER="WORKSHOP.LAYERS.NEW_VIEW_NAME_PLACEHOLDER",e.SHARE_THIS_VIEW="WORKSHOP.LAYERS.SHARE_THIS_VIEW",e.SHARED_ENABLED_VIEWS="WORKSHOP.LAYERS.SHARED_ENABLED_VIEWS",e.SHOW_LAYER="WORKSHOP.LAYERS.SHOW_LAYER",e.SWITCH_TO_VIEWS_LEARN_MORE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LEARN_MORE",e.SWITCH_TO_VIEWS_LIST_HEADER="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_HEADER",e.SWITCH_TO_VIEWS_LIST_ITEM_1="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_1",e.SWITCH_TO_VIEWS_LIST_ITEM_2="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_2",e.SWITCH_TO_VIEWS_LIST_ITEM_3="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_3",e.SWITCH_TO_VIEWS_LIST_ITEM_4="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_4",e.SWITCH_TO_VIEWS_TITLE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_TITLE",e.SWITCH_TO_VIEWS_USE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_USE",e.SELECTED_ITEMS="WORKSHOP.LAYERS.SELECTED_ITEMS",e.UNLAYERED_LAYER_LABEL="WORKSHOP.LAYERS.UNLAYERED_LAYER_LABEL",e.TRUEPLAN_LAYER_LABEL="WORKSHOP.LAYERS.TRUEPLAN_LAYER_LABEL",e.UNTITLED_LAYER_PLACEHOLDER="WORKSHOP.LAYERS.UNTITLED_LAYER_PLACEHOLDER",e.VIEW_DISABLED_MESSAGE="WORKSHOP.LAYERS.VIEW_DISABLED_MESSAGE",e.VIEW_DUPLICATE="WORKSHOP.LAYERS.VIEW_DUPLICATE",e.VIEW_DUPLICATE_NAME_SUFFIX="WORKSHOP.LAYERS.VIEW_DUPLICATE_NAME_SUFFIX",e.VIEW_ENABLED_MESSAGE="WORKSHOP.LAYERS.VIEW_ENABLED_MESSAGE",e.VIEW_HIDE_MESSAGE="WORKSHOP.LAYERS.VIEW_HIDE_MESSAGE",e.VIEW_PLACEHOLDER="WORKSHOP.LAYERS.VIEW_PLACEHOLDER",e.VIEW_PREVIEW="WORKSHOP.LAYERS.VIEW_PREVIEW",e.VIEW_PREVIEW_NARROW="WORKSHOP.LAYERS.VIEW_PREVIEW_NARROW",e.VIEW_RENAME="WORKSHOP.LAYERS.VIEW_RENAME",e.VIEW_SHOW_MESSAGE="WORKSHOP.LAYERS.VIEW_SHOW_MESSAGE",e.VIEWS_HELP="WORKSHOP.LAYERS.VIEWS_HELP"}(d=e.LAYERS||(e.LAYERS={})),function(e){e.ADD="WORKSHOP.MATTERTAGS.ADD",e.ADD_FILE="WORKSHOP.MATTERTAGS.ADD_FILE",e.ADD_MATTERTAG_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.ADD_MATTERTAG_TOOLTIP_MESSAGE",e.ADD_TAG_NUDGE="WORKSHOP.MATTERTAGS.ADD_TAG_NUDGE",e.ADD_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.ADD_TAG_TOOLTIP",e.ATTACHMENTS_LABEL="WORKSHOP.MATTERTAGS.ATTACHMENTS_LABEL",e.APPEARANCE_LABEL="WORKSHOP.MATTERTAGS.APPEARANCE_LABEL",e.BACK="WORKSHOP.MATTERTAGS.BACK",e.CANCEL_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.CANCEL_TAG_TOOLTIP",e.COLOR_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.COLOR_TOOLTIP_MESSAGE",e.DEFAULT_LIST_ITEM_TEXT="WORKSHOP.MATTERTAGS.DEFAULT_LIST_ITEM_TEXT",e.DEFAULT_TAG_TITLE="WORKSHOP.MATTERTAGS.DEFAULT_TAG_TITLE",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.MATTERTAGS.DELETE_LIST_ITEM_OPTION_CTA",e.DELETE_MATTERTAGS_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DELETE_MATTERTAGS_MODAL_MESSAGE",e.DELETE_MATTERTAGS_MODAL_TITLE="WORKSHOP.MATTERTAGS.DELETE_MATTERTAGS_MODAL_TITLE",e.DELETE_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.DELETE_TAG_TOOLTIP",e.DELETE_TAGS_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DELETE_TAGS_MODAL_MESSAGE",e.DELETE_TAGS_MODAL_TITLE="WORKSHOP.MATTERTAGS.DELETE_TAGS_MODAL_TITLE",e.DESCRIPTION_PLACEHOLDER="WORKSHOP.MATTERTAGS.DESCRIPTION_PLACEHOLDER",e.DISCARD_MATTERTAG_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DISCARD_MATTERTAG_MODAL_MESSAGE",e.DISCARD_MATTERTAG_MODAL_TITLE="WORKSHOP.MATTERTAGS.DISCARD_MATTERTAG_MODAL_TITLE",e.DROP_FILES_MESSAGE="WORKSHOP.MATTERTAGS.DROP_FILES_MESSAGE",e.EDIT_BILLBOARD_CANCEL_CTA="WORKSHOP.MATTERTAGS.EDIT_BILLBOARD_CANCEL_CTA",e.EDIT_BILLBOARD_DONE_CTA="WORKSHOP.MATTERTAGS.EDIT_BILLBOARD_DONE_CTA",e.EDIT_LIST_ITEM_OPTION_CTA="WORKSHOP.MATTERTAGS.EDIT_LIST_ITEM_OPTION_CTA",e.EDIT_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.EDIT_TAG_TOOLTIP",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.HIDE_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.HIDE_TOOLTIP_MESSAGE",e.KEYWORDS_LABEL="WORKSHOP.MATTERTAGS.KEYWORDS_LABEL",e.LINK_DISABLED_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.LINK_DISABLED_TOOLTIP_MESSAGE",e.LINK_EDITOR_APPLY_CTA="WORKSHOP.MATTERTAGS.LINK_EDITOR_APPLY_CTA",e.LINK_EDITOR_INVALID_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_INVALID_TIP",e.LINK_EDITOR_LINK_ADD_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_LINK_ADD_LABEL",e.LINK_EDITOR_LINK_EDIT_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_LINK_EDIT_LABEL",e.LINK_EDITOR_MAX_LENGTH_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_MAX_LENGTH_TIP",e.LINK_EDITOR_PREVIEW_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_PREVIEW_TIP",e.LINK_EDITOR_REMOVE_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_REMOVE_TIP",e.LINK_EDITOR_TEXT_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_TEXT_LABEL",e.LINK_EDITOR_TEXT_PLACEHOLDER="WORKSHOP.MATTERTAGS.LINK_EDITOR_TEXT_PLACEHOLDER",e.LINK_EDITOR_TIP_TEXT="WORKSHOP.MATTERTAGS.LINK_EDITOR_TIP_TEXT",e.LINK_EDITOR_URL_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_URL_LABEL",e.LINK_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.LINK_TOOLTIP_MESSAGE",e.LIST_BY_FLOOR_ALPHABETICAL_LABEL="WORKSHOP.MATTERTAGS.LIST_BY_FLOOR_ALPHABETICAL_LABEL",e.LIST_BY_FLOOR_ORDERED_LABEL="WORKSHOP.MATTERTAGS.LIST_BY_FLOOR_ORDERED_LABEL",e.LIST_IN_TAG_ORDER_LABEL="WORKSHOP.MATTERTAGS.LIST_IN_TAG_ORDER_LABEL",e.LIST_IN_TAG_TITLE_ORDER_LABEL="WORKSHOP.MATTERTAGS.LIST_IN_TAG_TITLE_ORDER_LABEL",e.LIST_SORT_TAG_ORDER="WORKSHOP.MATTERTAGS.LIST_SORT_TAG_ORDER",e.LIST_SORT_TAG_TITLE="WORKSHOP.MATTERTAGS.LIST_SORT_TAG_TITLE",e.MAX_ATTACHMENTS_MESSAGE="WORKSHOP.MATTERTAGS.MAX_ATTACHMENTS_MESSAGE",e.MEDIA_LINK_APPLY_CTA="WORKSHOP.MATTERTAGS.MEDIA_LINK_APPLY_CTA",e.MEDIA_LINK_ERROR_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_ERROR_MESSAGE",e.MEDIA_LINK_HELP_LINK="WORKSHOP.MATTERTAGS.MEDIA_LINK_HELP_LINK",e.MEDIA_LINK_INVALID_URL_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_INVALID_URL_MESSAGE",e.MEDIA_LINK_LABEL="WORKSHOP.MATTERTAGS.MEDIA_LINK_LABEL",e.MEDIA_LINK_LOADING_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_LOADING_MESSAGE",e.MEDIA_LINK_SUPPORTED_FORMATS_LINK="WORKSHOP.MATTERTAGS.MEDIA_LINK_SUPPORTED_FORMATS_LINK",e.MEDIA_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_TOOLTIP_MESSAGE",e.MOBILE_OVERLAY_MESSAGE="WORKSHOP.MATTERTAGS.MOBILE_OVERLAY_MESSAGE",e.MOBILE_REORDER_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.MOBILE_REORDER_MODAL_MESSAGE",e.MOBILE_REORDER_MODAL_TITLE="WORKSHOP.MATTERTAGS.MOBILE_REORDER_MODAL_TITLE",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.MATTERTAGS.MULTI_FLOOR_EMPTY_MESSAGE",e.NUM_TYPE="WORKSHOP.MATTERTAGS.NUM_TYPE",e.SAVE="WORKSHOP.MATTERTAGS.SAVE",e.SAVE_PROCESSING="WORKSHOP.MATTERTAGS.SAVE_PROCESSING",e.SAVE_INVALID="WORKSHOP.MATTERTAGS.SAVE_INVALID",e.SELECTED_TAGS="WORKSHOP.MATTERTAGS.SELECTED_TAGS",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_STEM_LABEL="WORKSHOP.MATTERTAGS.SHOW_STEM_LABEL",e.SHOW_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.SHOW_TOOLTIP_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.MATTERTAGS.SINGLE_FLOOR_EMPTY_MESSAGE",e.STEM_SLIDER_RESET_CTA="WORKSHOP.MATTERTAGS.STEM_SLIDER_RESET_CTA",e.STEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.STEM_TOOLTIP_MESSAGE",e.SUPPORTED_FORMATS_MESSAGE="WORKSHOP.MATTERTAGS.SUPPORTED_FORMATS_MESSAGE",e.TAG_NUM_TYPE="WORKSHOP.MATTERTAGS.TAG_NUM_TYPE",e.TAG_REORDER_ENTER_LABEL="WORKSHOP.MATTERTAGS.TAG_REORDER_ENTER_LABEL",e.TAG_REORDER_EXIT_LABEL="WORKSHOP.MATTERTAGS.TAG_REORDER_EXIT_LABEL",e.TAG_RESET_ORDER="WORKSHOP.MATTERTAGS.TAG_RESET_ORDER",e.TAG_TYPE="WORKSHOP.MATTERTAGS.TAG_TYPE",e.TAGS_EMPTY_MULTI_FLOOR_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_EMPTY_MULTI_FLOOR_MESSAGE",e.TAGS_EMPTY_SINGLE_FLOOR_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_EMPTY_SINGLE_FLOOR_MESSAGE",e.TAGS_HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.TAGS_ORDERED_BY_CUSTOM_LABEL="WORKSHOP.MATTERTAGS.TAGS_ORDERED_BY_CUSTOM_LABEL",e.TAGS_ORDERED_BY_LOCATION_LABEL="WORKSHOP.MATTERTAGS.TAGS_ORDERED_BY_LOCATION_LABEL",e.TAGS_RESET_MODAL_BODY="WORKSHOP.MATTERTAGS.TAGS_RESET_MODAL_BODY",e.TAGS_RESET_MODAL_TITLE="WORKSHOP.MATTERTAGS.TAGS_RESET_MODAL_TITLE",e.TAGS_SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.TITLE_DESC_LABEL="WORKSHOP.MATTERTAGS.TITLE_DESC_LABEL",e.TITLE_PLACEHOLDER="WORKSHOP.MATTERTAGS.TITLE_PLACEHOLDER",e.TYPE="WORKSHOP.MATTERTAGS.TYPE",e.UPLOAD_FILE="WORKSHOP.MATTERTAGS.UPLOAD_FILE",e.UPLOAD_IN_PROGRESS="WORKSHOP.MATTERTAGS.UPLOAD_IN_PROGRESS"}(u=e.MATTERTAGS||(e.MATTERTAGS={})),function(e){e.TYPE="WORKSHOP.MEASUREMENTS.TYPE",e.NUM_TYPE="WORKSHOP.MEASUREMENTS.NUM_TYPE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.OTHER_GROUP_LABEL="WORKSHOP.MEASUREMENTS.OTHER_GROUP_LABEL",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.MEASUREMENTS.RENAME_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.MEASUREMENTS.DELETE_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.MEASUREMENTS.LIST_ITEM_INPUT_PLACEHOLDER",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.MEASUREMENTS.MULTI_FLOOR_EMPTY_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.MEASUREMENTS.SINGLE_FLOOR_EMPTY_MESSAGE",e.SELECTED_MEASUREMENTS="WORKSHOP.MEASUREMENTS.SELECTED_MEASUREMENTS"}(h=e.MEASUREMENTS||(e.MEASUREMENTS={})),function(e){e.ERROR_TITLE="WORKSHOP.MODAL.ERROR_TITLE",e.SAVING_ERROR_TITLE="WORKSHOP.MODAL.SAVING_ERROR_TITLE",e.SAVING_ERROR_MESSAGE="WORKSHOP.MODAL.SAVING_ERROR_MESSAGE",e.NO="WORKSHOP.MODAL.NO",e.YES="WORKSHOP.MODAL.YES",e.CANCEL="WORKSHOP.MODAL.CANCEL",e.OK="WORKSHOP.MODAL.OK",e.DISCARD="WORKSHOP.MODAL.DISCARD",e.DELETE="WORKSHOP.MODAL.DELETE",e.SAVE="WORKSHOP.MODAL.SAVE"}(p=e.MODAL||(e.MODAL={})),function(e){e.HAPPINESS_TITLE="WORKSHOP.MODEL_RATING.HAPPINESS_TITLE",e.HAPPINESS_BODY="WORKSHOP.MODEL_RATING.HAPPINESS_BODY",e.QUALITY_ISSUES_TITLE="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_TITLE",e.QUALITY_ISSUES_LIGHTING="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_LIGHTING",e.QUALITY_ISSUES_3D_MESH="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_3D_MESH",e.QUALITY_ISSUES_COLORING="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_COLORING",e.QUALITY_ISSUES_IMAGE_QUALITY="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_IMAGE_QUALITY",e.NAVIGATION_ISSUES_TITLE="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_TITLE",e.NAVIGATION_ISSUES_BLOCKED_DOORWAYS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_BLOCKED_DOORWAYS",e.NAVIGATION_ISSUES_OBSTRUCTIONS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_OBSTRUCTIONS",e.NAVIGATION_ISSUES_MISALIGNED_SCANS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_MISALIGNED_SCANS",e.NAVIGATION_ISSUES_FLOOR_SEPARATION="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_FLOOR_SEPARATION",e.NAVIGATION_ISSUES_DISAPPEARING_FLOORS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_DISAPPEARING_FLOORS",e.FEEDBACK_TITLE="WORKSHOP.MODEL_RATING.FEEDBACK_TITLE",e.FEEDBACK_LABEL="WORKSHOP.MODEL_RATING.FEEDBACK_LABEL",e.THANK_YOU_HEADING="WORKSHOP.MODEL_RATING.THANK_YOU_HEADING",e.THANK_YOU_BODY="WORKSHOP.MODEL_RATING.THANK_YOU_BODY",e.THANK_YOU_CTA="WORKSHOP.MODEL_RATING.THANK_YOU_CTA",e.THANK_YOU_CTA_LINK_TEXT="WORKSHOP.MODEL_RATING.THANK_YOU_CTA_LINK_TEXT",e.SAVE="WORKSHOP.MODEL_RATING.SAVE",e.NEXT="WORKSHOP.MODEL_RATING.NEXT",e.PROGRESS="WORKSHOP.MODEL_RATING.PROGRESS"}(m=e.MODEL_RATING||(e.MODEL_RATING={})),function(e){e.SEARCH_GROUP_HEADER="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_HEADER",e.SEARCH_GROUP_HIDE_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_HIDE_ALL",e.SEARCH_GROUP_SHOW_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_SHOW_ALL",e.SEARCH_GROUP_DELETE_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_DELETE_ALL",e.SEARCH_ITEM_HIDE_TOOLTIP="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_HIDE_TOOLTIP",e.SEARCH_ITEM_SHOW_TOOLTIP="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_SHOW_TOOLTIP",e.SEARCH_ITEM_EDIT="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_EDIT",e.SEARCH_ITEM_DELETE="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_DELETE",e.SHOW_ONLY_IN_SEARCH="WORKSHOP.OBJECT_TAG_SUGGESTION.SHOW_ONLY_IN_SEARCH"}(f=e.OBJECT_TAG_SUGGESTION||(e.OBJECT_TAG_SUGGESTION={})),function(e){e.TYPE="WORKSHOP.PHOTOS.TYPE",e.NUM_TYPE="WORKSHOP.PHOTOS.NUM_TYPE",e.ADD_PHOTOS_CTA="WORKSHOP.PHOTOS.ADD_PHOTOS_CTA",e.ADDING_PHOTOS_CTA="WORKSHOP.PHOTOS.ADDING_PHOTOS_CTA",e.CATURE_PHOTO="WORKSHOP.PHOTOS.CATURE_PHOTO",e.BACK_TO_PHOTOS="WORKSHOP.PHOTOS.BACK_TO_PHOTOS",e.MODAL_TITLE="WORKSHOP.PHOTOS.MODAL_TITLE",e.NUM_SELECTED="WORKSHOP.PHOTOS.NUM_SELECTED",e.SELECT_ALL_CTA="WORKSHOP.PHOTOS.SELECT_ALL_CTA",e.UNSELECT_ALL_CTA="WORKSHOP.PHOTOS.UNSELECT_ALL_CTA",e.SAVING_TOAST_MESSAGE="WORKSHOP.PHOTOS.SAVING_TOAST_MESSAGE",e.SAVED_TOAST_MESSAGE="WORKSHOP.PHOTOS.SAVED_TOAST_MESSAGE",e.SAVED_TOAST_CTA="WORKSHOP.PHOTOS.SAVED_TOAST_CTA",e.ERROR_MODAL_TITLE="WORKSHOP.PHOTOS.ERROR_MODAL_TITLE",e.ERROR_MODAL_MESSAGE="WORKSHOP.PHOTOS.ERROR_MODAL_MESSAGE",e.CAMERA_PITCH_RESET_MESSAGE="WORKSHOP.PHOTOS.CAMERA_PITCH_RESET_MESSAGE",e.ZOOM_RESET_MESSAGE="WORKSHOP.PHOTOS.ZOOM_RESET_MESSAGE",e.ZOOM_IN_MESSAGE="WORKSHOP.PHOTOS.ZOOM_IN_MESSAGE",e.ZOOM_OUT_MESSAGE="WORKSHOP.PHOTOS.ZOOM_OUT_MESSAGE",e.CANNOT_SAVE_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_MESSAGE",e.CANNOT_SAVE_SCAN_NUMBER_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_SAVE_SCAN_NUMBER_TOOLTIP_MESSAGE",e.CANNOT_SAVE_TOOLTIP_TITLE="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_TITLE",e.CANNOT_SAVE_TOOLTIP_CTA="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_CTA",e.CAN_TAKE_2D_PHOTO_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CAN_TAKE_2D_PHOTO_TOOLTIP_MESSAGE",e.CAN_TAKE_360_PHOTO_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CAN_TAKE_360_PHOTO_TOOLTIP_MESSAGE",e.CANNOT_TAKE_360_PHOTO_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_TAKE_360_PHOTO_TOOLTIP_MESSAGE",e.PANO_CTA="WORKSHOP.PHOTOS.PANO_CTA",e.SETTINGS_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.SETTINGS_TOOLTIP_MESSAGE",e.ASSETS_SETTING_LABEL="WORKSHOP.PHOTOS.ASSETS_SETTING_LABEL",e.SHOW_GRID_SETTING_LABEL="WORKSHOP.PHOTOS.SHOW_GRID_SETTING_LABEL",e.SNAPSHOT_ERROR_TOAST_MESSAGE="WORKSHOP.PHOTOS.SNAPSHOT_ERROR_TOAST_MESSAGE",e.SNAPSHOT_ERROR_TOAST_CTA="WORKSHOP.PHOTOS.SNAPSHOT_ERROR_TOAST_CTA",e.PHOTO_VIEWER="WORKSHOP.PHOTOS.PHOTO_VIEWER",e.NO_PHOTOS="WORKSHOP.PHOTOS.NO_PHOTOS",e.VIEW_PHOTOS="WORKSHOP.PHOTOS.VIEW_PHOTOS"}(g=e.PHOTOS||(e.PHOTOS={})),function(e){e.COLOR_STEM_EDITOR_TITLE="WORKSHOP.PINS.COLOR_STEM_EDITOR_TITLE"}(v=e.PINS||(e.PINS={})),function(e){e.NUM_TYPE="WORKSHOP.PLUGINS.NUM_TYPE",e.PANEL_TITLE="WORKSHOP.PLUGINS.PANEL_TITLE",e.SAVE_CONFIG="WORKSHOP.PLUGINS.SAVE_CONFIG",e.BACK_TO_ALL="WORKSHOP.PLUGINS.BACK_TO_ALL",e.ENABLED="WORKSHOP.PLUGINS.ENABLED"}(b=e.PLUGINS||(e.PLUGINS={})),function(e){e.ADD_LABEL="WORKSHOP.ROOMS.ADD_LABEL",e.APPLY_TO_ALL_VIEWS_ROOMS="WORKSHOP.ROOMS.APPLY_TO_ALL_VIEWS_ROOMS",e.DELETE="WORKSHOP.ROOMS.DELETE",e.INDOOR="WORKSHOP.ROOMS.INDOOR",e.LOCATION="WORKSHOP.ROOMS.LOCATION",e.OUTDOOR="WORKSHOP.ROOMS.OUTDOOR",e.ROOM_BOUNDS_SETTINGS="WORKSHOP.ROOMS.ROOM_BOUNDS_SETTINGS",e.ROOM_INACCESSIBLE_INFO="WORKSHOP.ROOMS.ROOM_INACCESSIBLE_INFO",e.ROOM_INCLUDE_IN_AREA="WORKSHOP.ROOMS.ROOM_INCLUDE_IN_AREA",e.ROOM_INCLUDE_IN_AREA_TOOLTIP="WORKSHOP.ROOMS.ROOM_INCLUDE_IN_AREA_TOOLTIP",e.LABEL="WORKSHOP.ROOMS.LABEL",e.RESET_TO_DEFAULT="WORKSHOP.ROOMS.RESET_TO_DEFAULT",e.SELECT="WORKSHOP.ROOMS.SELECT",e.UNDO="WORKSHOP.ROOMS.UNDO"}(y=e.ROOMS||(e.ROOMS={})),function(e){e.TYPE="WORKSHOP.SCANS.TYPE",e.NUM_TYPE="WORKSHOP.SCANS.NUM_TYPE",e.BATCH_SHOW_CTA="WORKSHOP.SCANS.BATCH_SHOW_CTA",e.BATCH_HIDE_CTA="WORKSHOP.SCANS.BATCH_HIDE_CTA",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.LIST_ITEM_TEXT="WORKSHOP.SCANS.LIST_ITEM_TEXT",e.FLOOR_EMPTY_MESSAGE="WORKSHOP.SCANS.FLOOR_EMPTY_MESSAGE",e.NO_HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.NO_HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.HLR_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.HLR_LIST_ITEM_TOOLTIP_MESSAGE",e.HLR_IN_OTHER_VIEWS="WORKSHOP.SCANS.HLR_IN_OTHER_VIEWS",e.START_LOCATION_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.START_LOCATION_LIST_ITEM_TOOLTIP_MESSAGE",e.START_LOCATION_SCAN_IN_OTHER_VIEWS="WORKSHOP.SCANS.START_LOCATION_SCAN_IN_OTHER_VIEWS",e.OVERLAY_HIDE_CTA="WORKSHOP.SCANS.OVERLAY_HIDE_CTA",e.OVERLAY_SHOW_CTA="WORKSHOP.SCANS.OVERLAY_SHOW_CTA",e.OVERLAY_HIDE_SCAN_CTA="WORKSHOP.SCANS.OVERLAY_HIDE_SCAN_CTA",e.OVERLAY_SHOW_SCAN_CTA="WORKSHOP.SCANS.OVERLAY_SHOW_SCAN_CTA",e.OVERLAY_PANORAMA_INFO="WORKSHOP.SCANS.OVERLAY_PANORAMA_INFO",e.OVERLAY_INFO="WORKSHOP.SCANS.OVERLAY_INFO",e.START_LOCATION_TOOLTIP_TITLE="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_TITLE",e.START_LOCATION_TOOLTIP_MESSAGE="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_MESSAGE",e.START_LOCATION_TOOLTIP_CTA="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_CTA",e.REMOVE_HLR_MODAL_TITLE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_TITLE",e.REMOVE_HLR_MODAL_MESSAGE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_MESSAGE",e.REMOVE_HLR_MODAL_BATCH_MESSAGE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_BATCH_MESSAGE",e.REMOVE_HLR_MODAL_WARNING="WORKSHOP.SCANS.REMOVE_HLR_MODAL_WARNING",e.REMOVE_SCANS_FROM_HLR_MODAL_TITLE="WORKSHOP.SCANS.REMOVE_SCANS_FROM_HLR_MODAL_TITLE",e.REMOVE_SCAN_FROM_HLR_MODAL_MESSAGE="WORKSHOP.SCANS.REMOVE_SCAN_FROM_HLR_MODAL_MESSAGE",e.REMOVE_BATCH_FROM_HLR_MODAL_SCANS_MESSAGE="WORKSHOP.SCANS.REMOVE_BATCH_FROM_HLR_MODAL_SCANS_MESSAGE",e.REMOVE_BATCH_FROM_HLR_MODAL_HIGHLIGHTS_MESSAGE="WORKSHOP.SCANS.REMOVE_BATCH_FROM_HLR_MODAL_HIGHLIGHTS_MESSAGE"}(E=e.SCANS||(e.SCANS={})),function(e){e.ADVANCED_SPACE_SEARCH_LABEL="WORKSHOP.SETTINGS.ADVANCED_SPACE_SEARCH_LABEL",e.ADVANCED_SPACE_SEARCH_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_SPACE_SEARCH_MESSAGE",e.ADVANCED_DOLLHOUSE_LABEL="WORKSHOP.SETTINGS.ADVANCED_DOLLHOUSE_LABEL",e.ADVANCED_DOLLHOUSE_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_DOLLHOUSE_MESSAGE",e.ADVANCED_FLOORPLAN_LABEL="WORKSHOP.SETTINGS.ADVANCED_FLOORPLAN_LABEL",e.ADVANCED_FLOORPLAN_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_FLOORPLAN_MESSAGE",e.ADVANCED_FLOOR_SELECTION_LABEL="WORKSHOP.SETTINGS.ADVANCED_FLOOR_SELECTION_LABEL",e.ADVANCED_FLOOR_SELECTION_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_FLOOR_SELECTION_MESSAGE",e.ADVANCED_HEADER="WORKSHOP.SETTINGS.ADVANCED_HEADER",e.ADVANCED_MEASUREMENT_MODE_LABEL="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_LABEL",e.ADVANCED_MEASUREMENT_MODE_MENU_LABEL="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_MENU_LABEL",e.ADVANCED_MEASUREMENT_MODE_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_MESSAGE",e.ADVANCED_ROOM_LABELS_LABEL="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_LABEL",e.ADVANCED_ROOM_LABELS_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_MESSAGE",e.ADVANCED_ROOM_LABELS_MENU_LABEL="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_MENU_LABEL",e.HIDE_LABELS_IN_DOLLHOUSE_OPTION="WORKSHOP.SETTINGS.HIDE_LABELS_IN_DOLLHOUSE_OPTION",e.HIDE_SAVED_MEASUREMENTS_OPTION="WORKSHOP.SETTINGS.HIDE_SAVED_MEASUREMENTS_OPTION",e.HLR_OPTION_LABEL="WORKSHOP.SETTINGS.HLR_OPTION_LABEL",e.HLR_OPTION_MESSAGE="WORKSHOP.SETTINGS.HLR_OPTION_MESSAGE",e.NAV_OPTION_ADVANCED="WORKSHOP.SETTINGS.NAV_OPTION_ADVANCED",e.NAV_OPTION_PRESENTATION="WORKSHOP.SETTINGS.NAV_OPTION_PRESENTATION",e.NAV_OPTION_TOUR_HLR="WORKSHOP.SETTINGS.NAV_OPTION_TOUR_HLR",e.NAV_OPTION_UNITS="WORKSHOP.SETTINGS.NAV_OPTION_UNITS",e.SHOW_SAVED_MEASUREMENTS_OPTION="WORKSHOP.SETTINGS.SHOW_SAVED_MEASUREMENTS_OPTION",e.SHOW_LABELS_IN_DOLLHOUSE_OPTION="WORKSHOP.SETTINGS.SHOW_LABELS_IN_DOLLHOUSE_OPTION",e.PRESENTATION_BACKGROUND_BLACK_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_BLACK_LABEL",e.PRESENTATION_BACKGROUND_GREY_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_GREY_LABEL",e.PRESENTATION_BACKGROUND_HEADER="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_HEADER",e.PRESENTATION_BACKGROUND_SUBHEADER="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_SUBHEADER",e.PRESENTATION_BACKGROUND_WHITE_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_WHITE_LABEL",e.PRESENTATION_HEADER="WORKSHOP.SETTINGS.PRESENTATION_HEADER",e.PRESENTATION_INFORMATION_EVERYTHING_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_EVERYTHING_LABEL",e.PRESENTATION_INFORMATION_EVERYTHING_MESSAGE="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_EVERYTHING_MESSAGE",e.PRESENTATION_INFORMATION_COMPACT_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_COMPACT_LABEL",e.PRESENTATION_INFORMATION_COMPACT_MESSAGE="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_COMPACT_MESSAGE",e.PRESENTATION_INFORMATION_HEADER="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_HEADER",e.PRESENTATION_INFORMATION_NONE_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_NONE_LABEL",e.ROOM_BOUNDS_TOGGLE_LABEL="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_LABEL",e.ROOM_BOUNDS_TOGGLE_MESSAGE_INFO="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_MESSAGE_INFO",e.ROOM_BOUNDS_TOGGLE_MESSAGE_DISCOVER="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_MESSAGE_DISCOVER",e.TOUR_AND_HLR_HEADER="WORKSHOP.SETTINGS.TOUR_AND_HLR_HEADER",e.TOUR_DEFAULT_SETTING_LOCATION="WORKSHOP.SETTINGS.TOUR_DEFAULT_SETTING_LOCATION",e.TOUR_MODE_LEGACY_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_LEGACY_LABEL",e.TOUR_MODE_LEGACY_MESSAGE="WORKSHOP.SETTINGS.TOUR_MODE_LEGACY_MESSAGE",e.TOUR_MODE_NONE_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_NONE_LABEL",e.TOUR_MODE_STORY_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_STORY_LABEL",e.TOUR_MODE_STORY_MESSAGE="WORKSHOP.SETTINGS.TOUR_MODE_STORY_MESSAGE",e.TOUR_OPTION_LABEL="WORKSHOP.SETTINGS.TOUR_OPTION_LABEL",e.TOUR_OPTION_MESSAGE="WORKSHOP.SETTINGS.TOUR_OPTION_MESSAGE",e.UNITS_HEADER="WORKSHOP.SETTINGS.UNITS_HEADER",e.UNITS_SUBHEADER="WORKSHOP.SETTINGS.UNITS_SUBHEADER"}(S=e.SETTINGS||(e.SETTINGS={})),function(e){e.ENABLED_TOOLTIP_TITLE="WORKSHOP.START_LOCATION.ENABLED_TOOLTIP_TITLE",e.DISABLED_TOOLTIP_TITLE="WORKSHOP.START_LOCATION.DISABLED_TOOLTIP_TITLE",e.HIDDEN_SWEEP_MESSAGE="WORKSHOP.START_LOCATION.HIDDEN_SWEEP_MESSAGE",e.UNPLACED_360_MESSAGE="WORKSHOP.START_LOCATION.UNPLACED_360_MESSAGE",e.ENABLED_MESSAGE="WORKSHOP.START_LOCATION.ENABLED_MESSAGE",e.TOOLTIP_CTA="WORKSHOP.START_LOCATION.TOOLTIP_CTA",e.SET_NEW_LOCATION_CTA="WORKSHOP.START_LOCATION.SET_NEW_LOCATION_CTA",e.SETTING_NEW_LOCATION_CTA="WORKSHOP.START_LOCATION.SETTING_NEW_LOCATION_CTA",e.THUMBNAIL_PREVIEW_CTA="WORKSHOP.START_LOCATION.THUMBNAIL_PREVIEW_CTA",e.TAG_ORDER_RESET_TITLE="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_TITLE",e.TAG_ORDER_RESET_MESSAGE="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_MESSAGE",e.TAG_ORDER_RESET_HELP_LINK="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_HELP_LINK",e.TAG_ORDER_RESET_CONFIRM="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_CONFIRM",e.TAG_ORDER_RESET_CANCEL="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_CANCEL"}(O=e.START_LOCATION||(e.START_LOCATION={})),function(e){e.NUM_TYPE="WORKSHOP.TRIM.NUM_TYPE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.TRIM.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.TRIM.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.TRIM.DELETE_LIST_ITEM_OPTION_CTA",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.TRIM.RENAME_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.TRIM.LIST_ITEM_INPUT_PLACEHOLDER",e.DEFAULT_NAME="WORKSHOP.TRIM.DEFAULT_NAME",e.ALL_FLOORS="WORKSHOP.TRIM.ALL_FLOORS",e.EMPTY_FLOOR_MESSAGE="WORKSHOP.TRIM.EMPTY_FLOOR_MESSAGE",e.SIDE_POSE_CTA="WORKSHOP.TRIM.SIDE_POSE_CTA",e.TOP_POSE_CTA="WORKSHOP.TRIM.TOP_POSE_CTA",e.PERSPECTIVE_POSE_CTA="WORKSHOP.TRIM.PERSPECTIVE_POSE_CTA",e.SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.SIDE_POSE_TOOLTIP",e.LEFT_SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.LEFT_SIDE_POSE_TOOLTIP",e.RIGHT_SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.RIGHT_SIDE_POSE_TOOLTIP",e.TOP_POSE_TOOLTIP="WORKSHOP.TRIM.TOP_POSE_TOOLTIP",e.PERSPECTIVE_POSE_TOOLTIP="WORKSHOP.TRIM.PERSPECTIVE_POSE_TOOLTIP",e.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE="WORKSHOP.TRIM.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE",e.ADD_INDIVIDUAL_FLOOR_TRIM_TOOLTIP="WORKSHOP.TRIM.ADD_INDIVIDUAL_FLOOR_TRIM_TOOLTIP",e.ADD_ALL_FLOORS_TRIM_TOOLTIP="WORKSHOP.TRIM.ADD_ALL_FLOORS_TRIM_TOOLTIP",e.MAX_INDIVIDUAL_FLOOR_TRIMS_TOOLTIP="WORKSHOP.TRIM.MAX_INDIVIDUAL_FLOOR_TRIMS_TOOLTIP",e.MAX_ALL_FLOORS_TRIMS_TOOLTIP="WORKSHOP.TRIM.MAX_ALL_FLOORS_TRIMS_TOOLTIP",e.MAX_TRIMS_ERROR_MESSAGE="WORKSHOP.TRIM.MAX_TRIMS_ERROR_MESSAGE",e.KEEP_TOGGLE="WORKSHOP.TRIM.KEEP_TOGGLE",e.REMOVE_TOGGLE="WORKSHOP.TRIM.REMOVE_TOGGLE",e.TOOL_ROTATION_CTA="WORKSHOP.TRIM.TOOL_ROTATION_CTA",e.TOOL_POSITION_CTA="WORKSHOP.TRIM.TOOL_POSITION_CTA",e.TOOL_SCALE_CTA="WORKSHOP.TRIM.TOOL_SCALE_CTA",e.TOOL_ROTATION_TOOLTIP="WORKSHOP.TRIM.TOOL_ROTATION_TOOLTIP",e.TOOL_POSITION_TOOLTIP="WORKSHOP.TRIM.TOOL_POSITION_TOOLTIP",e.TOOL_SCALE_TOOLTIP="WORKSHOP.TRIM.TOOL_SCALE_TOOLTIP",e.DELETE_TRIM="WORKSHOP.TRIM.DELETE_TRIM",e.COMPLETE_TRIM="WORKSHOP.TRIM.COMPLETE_TRIM",e.ADD_TRIM="WORKSHOP.TRIM.ADD_TRIM",e.RESET_ROTATION="WORKSHOP.TRIM.RESET_ROTATION",e.HIDE_PANO_LIST_ITEM_TOOLTIP="WORKSHOP.TRIM.HIDE_PANO_LIST_ITEM_TOOLTIP",e.SHOW_PANO_LIST_ITEM_TOOLTIP="WORKSHOP.TRIM.SHOW_PANO_LIST_ITEM_TOOLTIP",e.MOVE_TRIM_ALL_FLOORS="WORKSHOP.TRIM.MOVE_TRIM_ALL_FLOORS"}(T=e.TRIM||(e.TRIM={})),function(e){e.NUM_TYPE="WORKSHOP.VIEWS_360.NUM_TYPE",e.START_LOCATION_REMOVAL_MESSAGE="WORKSHOP.VIEWS_360.START_LOCATION_REMOVAL_MESSAGE",e.START_LOCATION_MARKER_MESSAGE="WORKSHOP.VIEWS_360.START_LOCATION_MARKER_MESSAGE",e.START_LOCATION_IN_OTHER_VIEWS="WORKSHOP.VIEWS_360.START_LOCATION_IN_OTHER_VIEWS",e.DEFAULT_NAME="WORKSHOP.VIEWS_360.DEFAULT_NAME",e.OVERLAY_MESSAGE="WORKSHOP.VIEWS_360.OVERLAY_MESSAGE",e.OVERLAY_INFO_MISSING_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_MISSING_SWEEP",e.OVERLAY_INFO_CURRENT_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_CURRENT_SWEEP",e.OVERLAY_INFO_SELECTED_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_SELECTED_SWEEP",e.ROTATE_TOOLTIP_TITLE="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_TITLE",e.ROTATE_TOOLTIP_MESSAGE="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_MESSAGE",e.ROTATE_TOOLTIP_CTA="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_CTA",e.UNPLACED_CARD_MESSAGE="WORKSHOP.VIEWS_360.UNPLACED_CARD_MESSAGE",e.RENAME_ITEM_OPTION_CTA="WORKSHOP.VIEWS_360.RENAME_ITEM_OPTION_CTA",e.REMOVE_ITEM_OPTION_CTA="WORKSHOP.VIEWS_360.REMOVE_ITEM_OPTION_CTA",e.NO_VIEWS_MESSAGE="WORKSHOP.VIEWS_360.NO_VIEWS_MESSAGE"}(_=e.VIEWS_360||(e.VIEWS_360={})),function(e){e.TOAST_MESSAGE="WORKSHOP.VR.TOAST_MESSAGE",e.TOAST_CTA="WORKSHOP.VR.TOAST_CTA"}(w=e.VR||(e.VR={}))}(m=e.WORKSHOP||(e.WORKSHOP={}))}(i||(i={}));const s=i},46391:(e,t,n)=>{"use strict";var i;function s(e){return e.match(/us|mm|lr$/i)?i.IMPERIAL:i.METRIC}n.d(t,{M:()=>i,z:()=>s}),function(e){e.IMPERIAL="imperial",e.METRIC="metric"}(i||(i={}))},10837:(e,t,n)=>{"use strict";n.d(t,{i:()=>s,y:()=>r});var i=n(51801);function s(e){if(!e)return i.k$;if(r(e))return e;const t=e.toLocaleLowerCase();if(t in i.Xy)return i.Xy[t];const[n]=t.split("-");return n in i.Xy?i.Xy[n]:(i.E7.find((e=>e.startsWith(t))),i.k$)}function r(e){return i.E7.includes(e)}},66102:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var i=n(67294),s=n(33558);function r(){const{locale:e}=(0,i.useContext)(s.I);return e}},94126:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>He});var i=n(97542),s=n(61864),r=n(54078),a=n.n(r),o=n(51801);function l(e){return null==e}var c={isNothing:l,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:l(e)?[]:[e]},repeat:function(e,t){var n,i="";for(n=0;n<t;n+=1)i+=e;return i},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var n,i,s,r;if(t)for(n=0,i=(r=Object.keys(t)).length;n<i;n+=1)e[s=r[n]]=t[s];return e}};function d(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),i+" "+n):i}function u(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=d(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.toString=function(e){return this.name+": "+d(this,e)};var h=u;function p(e,t,n,i,s){var r="",a="",o=Math.floor(s/2)-1;return i-t>o&&(t=i-o+(r=" ... ").length),n-i>o&&(n=i+o-(a=" ...").length),{str:r+e.slice(t,n).replace(/\t/g,"→")+a,pos:i-t+r.length}}function m(e,t){return c.repeat(" ",t-e.length)+e}var f=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var n,i=/\r?\n|\r|\0/g,s=[0],r=[],a=-1;n=i.exec(e.buffer);)r.push(n.index),s.push(n.index+n[0].length),e.position<=n.index&&a<0&&(a=s.length-2);a<0&&(a=s.length-1);var o,l,d="",u=Math.min(e.line+t.linesAfter,r.length).toString().length,h=t.maxLength-(t.indent+u+3);for(o=1;o<=t.linesBefore&&!(a-o<0);o++)l=p(e.buffer,s[a-o],r[a-o],e.position-(s[a]-s[a-o]),h),d=c.repeat(" ",t.indent)+m((e.line-o+1).toString(),u)+" | "+l.str+"\n"+d;for(l=p(e.buffer,s[a],r[a],e.position,h),d+=c.repeat(" ",t.indent)+m((e.line+1).toString(),u)+" | "+l.str+"\n",d+=c.repeat("-",t.indent+u+3+l.pos)+"^\n",o=1;o<=t.linesAfter&&!(a+o>=r.length);o++)l=p(e.buffer,s[a+o],r[a+o],e.position-(s[a]-s[a+o]),h),d+=c.repeat(" ",t.indent)+m((e.line+o+1).toString(),u)+" | "+l.str+"\n";return d.replace(/\n$/,"")},g=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],v=["scalar","sequence","mapping"];var b=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===g.indexOf(t))throw new h('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(n){e[n].forEach((function(e){t[String(e)]=n}))})),t}(t.styleAliases||null),-1===v.indexOf(this.kind))throw new h('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function y(e,t){var n=[];return e[t].forEach((function(e){var t=n.length;n.forEach((function(n,i){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=i)})),n[t]=e})),n}function E(e){return this.extend(e)}E.prototype.extend=function(e){var t=[],n=[];if(e instanceof b)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new h("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof b))throw new h("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new h("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new h("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(e){if(!(e instanceof b))throw new h("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var i=Object.create(E.prototype);return i.implicit=(this.implicit||[]).concat(t),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=y(i,"implicit"),i.compiledExplicit=y(i,"explicit"),i.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function i(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return n}(i.compiledImplicit,i.compiledExplicit),i};var S=E,O=new b("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),T=new b("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),_=new b("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),w=new S({explicit:[O,T,_]});var N=new b("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var A=new b("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function I(e){return 48<=e&&e<=55}function k(e){return 48<=e&&e<=57}var P=new b("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,i=e.length,s=0,r=!1;if(!i)return!1;if("-"!==(t=e[s])&&"+"!==t||(t=e[++s]),"0"===t){if(s+1===i)return!0;if("b"===(t=e[++s])){for(s++;s<i;s++)if("_"!==(t=e[s])){if("0"!==t&&"1"!==t)return!1;r=!0}return r&&"_"!==t}if("x"===t){for(s++;s<i;s++)if("_"!==(t=e[s])){if(!(48<=(n=e.charCodeAt(s))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;r=!0}return r&&"_"!==t}if("o"===t){for(s++;s<i;s++)if("_"!==(t=e[s])){if(!I(e.charCodeAt(s)))return!1;r=!0}return r&&"_"!==t}}if("_"===t)return!1;for(;s<i;s++)if("_"!==(t=e[s])){if(!k(e.charCodeAt(s)))return!1;r=!0}return!(!r||"_"===t)},construct:function(e){var t,n=e,i=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(i=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return i*parseInt(n.slice(2),2);if("x"===n[1])return i*parseInt(n.slice(2),16);if("o"===n[1])return i*parseInt(n.slice(2),8)}return i*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!c.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),L=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var R=/^[-+]?[0-9]+e/;var C=new b("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!L.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||c.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(c.isNegativeZero(e))return"-0.0";return n=e.toString(10),R.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),D=w.extend({implicit:[N,A,P,C]}),M=D,x=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),j=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var U=new b("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==x.exec(e)||null!==j.exec(e))},construct:function(e){var t,n,i,s,r,a,o,l,c=0,d=null;if(null===(t=x.exec(e))&&(t=j.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(n,i,s));if(r=+t[4],a=+t[5],o=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(d=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(d=-d)),l=new Date(Date.UTC(n,i,s,r,a,o,c)),d&&l.setTime(l.getTime()-d),l},instanceOf:Date,represent:function(e){return e.toISOString()}});var F=new b("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var V=new b("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,i=0,s=e.length,r=H;for(n=0;n<s;n++)if(!((t=r.indexOf(e.charAt(n)))>64)){if(t<0)return!1;i+=6}return i%8==0},construct:function(e){var t,n,i=e.replace(/[\r\n=]/g,""),s=i.length,r=H,a=0,o=[];for(t=0;t<s;t++)t%4==0&&t&&(o.push(a>>16&255),o.push(a>>8&255),o.push(255&a)),a=a<<6|r.indexOf(i.charAt(t));return 0===(n=s%4*6)?(o.push(a>>16&255),o.push(a>>8&255),o.push(255&a)):18===n?(o.push(a>>10&255),o.push(a>>2&255)):12===n&&o.push(a>>4&255),new Uint8Array(o)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,n,i="",s=0,r=e.length,a=H;for(t=0;t<r;t++)t%3==0&&t&&(i+=a[s>>18&63],i+=a[s>>12&63],i+=a[s>>6&63],i+=a[63&s]),s=(s<<8)+e[t];return 0===(n=r%3)?(i+=a[s>>18&63],i+=a[s>>12&63],i+=a[s>>6&63],i+=a[63&s]):2===n?(i+=a[s>>10&63],i+=a[s>>4&63],i+=a[s<<2&63],i+=a[64]):1===n&&(i+=a[s>>2&63],i+=a[s<<4&63],i+=a[64],i+=a[64]),i}}),B=Object.prototype.hasOwnProperty,G=Object.prototype.toString;var W=new b("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,i,s,r,a=[],o=e;for(t=0,n=o.length;t<n;t+=1){if(i=o[t],r=!1,"[object Object]"!==G.call(i))return!1;for(s in i)if(B.call(i,s)){if(r)return!1;r=!0}if(!r)return!1;if(-1!==a.indexOf(s))return!1;a.push(s)}return!0},construct:function(e){return null!==e?e:[]}}),z=Object.prototype.toString;var K=new b("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,i,s,r,a=e;for(r=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(i=a[t],"[object Object]"!==z.call(i))return!1;if(1!==(s=Object.keys(i)).length)return!1;r[t]=[s[0],i[s[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,i,s,r,a=e;for(r=new Array(a.length),t=0,n=a.length;t<n;t+=1)i=a[t],s=Object.keys(i),r[t]=[s[0],i[s[0]]];return r}}),Y=Object.prototype.hasOwnProperty;var q=new b("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(Y.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),$=M.extend({implicit:[U,F],explicit:[V,W,K,q]}),Z=Object.prototype.hasOwnProperty,Q=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,X=/[\x85\u2028\u2029]/,J=/[,\[\]\{\}]/,ee=/^(?:!|!!|![a-z\-]+!)$/i,te=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ne(e){return Object.prototype.toString.call(e)}function ie(e){return 10===e||13===e}function se(e){return 9===e||32===e}function re(e){return 9===e||32===e||10===e||13===e}function ae(e){return 44===e||91===e||93===e||123===e||125===e}function oe(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function le(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function ce(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var de=new Array(256),ue=new Array(256),he=0;he<256;he++)de[he]=le(he)?1:0,ue[he]=le(he);function pe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||$,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function me(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=f(n),new h(t,n)}function fe(e,t){throw me(e,t)}function ge(e,t){e.onWarning&&e.onWarning.call(null,me(e,t))}var ve={YAML:function(e,t,n){var i,s,r;null!==e.version&&fe(e,"duplication of %YAML directive"),1!==n.length&&fe(e,"YAML directive accepts exactly one argument"),null===(i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&fe(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),r=parseInt(i[2],10),1!==s&&fe(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=r<2,1!==r&&2!==r&&ge(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var i,s;2!==n.length&&fe(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],ee.test(i)||fe(e,"ill-formed tag handle (first argument) of the TAG directive"),Z.call(e.tagMap,i)&&fe(e,'there is a previously declared suffix for "'+i+'" tag handle'),te.test(s)||fe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch(t){fe(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function be(e,t,n,i){var s,r,a,o;if(t<n){if(o=e.input.slice(t,n),i)for(s=0,r=o.length;s<r;s+=1)9===(a=o.charCodeAt(s))||32<=a&&a<=1114111||fe(e,"expected valid JSON character");else Q.test(o)&&fe(e,"the stream contains non-printable characters");e.result+=o}}function ye(e,t,n,i){var s,r,a,o;for(c.isObject(n)||fe(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,o=(s=Object.keys(n)).length;a<o;a+=1)r=s[a],Z.call(t,r)||(t[r]=n[r],i[r]=!0)}function Ee(e,t,n,i,s,r,a,o,l){var c,d;if(Array.isArray(s))for(c=0,d=(s=Array.prototype.slice.call(s)).length;c<d;c+=1)Array.isArray(s[c])&&fe(e,"nested arrays are not supported inside keys"),"object"==typeof s&&"[object Object]"===ne(s[c])&&(s[c]="[object Object]");if("object"==typeof s&&"[object Object]"===ne(s)&&(s="[object Object]"),s=String(s),null===t&&(t={}),"tag:yaml.org,2002:merge"===i)if(Array.isArray(r))for(c=0,d=r.length;c<d;c+=1)ye(e,t,r[c],n);else ye(e,t,r,n);else e.json||Z.call(n,s)||!Z.call(t,s)||(e.line=a||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,fe(e,"duplicated mapping key")),"__proto__"===s?Object.defineProperty(t,s,{configurable:!0,enumerable:!0,writable:!0,value:r}):t[s]=r,delete n[s];return t}function Se(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):fe(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Oe(e,t,n){for(var i=0,s=e.input.charCodeAt(e.position);0!==s;){for(;se(s);)9===s&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(t&&35===s)do{s=e.input.charCodeAt(++e.position)}while(10!==s&&13!==s&&0!==s);if(!ie(s))break;for(Se(e),s=e.input.charCodeAt(e.position),i++,e.lineIndent=0;32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position)}return-1!==n&&0!==i&&e.lineIndent<n&&ge(e,"deficient indentation"),i}function Te(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!re(t)))}function _e(e,t){1===t?e.result+=" ":t>1&&(e.result+=c.repeat("\n",t-1))}function we(e,t){var n,i,s=e.tag,r=e.anchor,a=[],o=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),i=e.input.charCodeAt(e.position);0!==i&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,fe(e,"tab characters must not be used in indentation")),45===i)&&re(e.input.charCodeAt(e.position+1));)if(o=!0,e.position++,Oe(e,!0,-1)&&e.lineIndent<=t)a.push(null),i=e.input.charCodeAt(e.position);else if(n=e.line,Ie(e,t,3,!1,!0),a.push(e.result),Oe(e,!0,-1),i=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==i)fe(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!o&&(e.tag=s,e.anchor=r,e.kind="sequence",e.result=a,!0)}function Ne(e){var t,n,i,s,r=!1,a=!1;if(33!==(s=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&fe(e,"duplication of a tag property"),60===(s=e.input.charCodeAt(++e.position))?(r=!0,s=e.input.charCodeAt(++e.position)):33===s?(a=!0,n="!!",s=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&62!==s);e.position<e.length?(i=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):fe(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==s&&!re(s);)33===s&&(a?fe(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),ee.test(n)||fe(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),J.test(i)&&fe(e,"tag suffix cannot contain flow indicator characters")}i&&!te.test(i)&&fe(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch(t){fe(e,"tag name is malformed: "+i)}return r?e.tag=i:Z.call(e.tagMap,n)?e.tag=e.tagMap[n]+i:"!"===n?e.tag="!"+i:"!!"===n?e.tag="tag:yaml.org,2002:"+i:fe(e,'undeclared tag handle "'+n+'"'),!0}function Ae(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&fe(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!re(n)&&!ae(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&fe(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Ie(e,t,n,i,s){var r,a,o,l,d,u,h,p,m,f=1,g=!1,v=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,r=a=o=4===n||3===n,i&&Oe(e,!0,-1)&&(g=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),1===f)for(;Ne(e)||Ae(e);)Oe(e,!0,-1)?(g=!0,o=r,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):o=!1;if(o&&(o=g||s),1!==f&&4!==n||(p=1===n||2===n?t:t+1,m=e.position-e.lineStart,1===f?o&&(we(e,m)||function(e,t,n){var i,s,r,a,o,l,c,d=e.tag,u=e.anchor,h={},p=Object.create(null),m=null,f=null,g=null,v=!1,b=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=h),c=e.input.charCodeAt(e.position);0!==c;){if(v||-1===e.firstTabInLine||(e.position=e.firstTabInLine,fe(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),r=e.line,63!==c&&58!==c||!re(i)){if(a=e.line,o=e.lineStart,l=e.position,!Ie(e,n,2,!1,!0))break;if(e.line===r){for(c=e.input.charCodeAt(e.position);se(c);)c=e.input.charCodeAt(++e.position);if(58===c)re(c=e.input.charCodeAt(++e.position))||fe(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Ee(e,h,p,m,f,null,a,o,l),m=f=g=null),b=!0,v=!1,s=!1,m=e.tag,f=e.result;else{if(!b)return e.tag=d,e.anchor=u,!0;fe(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return e.tag=d,e.anchor=u,!0;fe(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(v&&(Ee(e,h,p,m,f,null,a,o,l),m=f=g=null),b=!0,v=!0,s=!0):v?(v=!1,s=!0):fe(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=i;if((e.line===r||e.lineIndent>t)&&(v&&(a=e.line,o=e.lineStart,l=e.position),Ie(e,t,4,!0,s)&&(v?f=e.result:g=e.result),v||(Ee(e,h,p,m,f,g,a,o,l),m=f=g=null),Oe(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===r||e.lineIndent>t)&&0!==c)fe(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&Ee(e,h,p,m,f,null,a,o,l),b&&(e.tag=d,e.anchor=u,e.kind="mapping",e.result=h),b}(e,m,p))||function(e,t){var n,i,s,r,a,o,l,c,d,u,h,p,m=!0,f=e.tag,g=e.anchor,v=Object.create(null);if(91===(p=e.input.charCodeAt(e.position)))a=93,c=!1,r=[];else{if(123!==p)return!1;a=125,c=!0,r={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=r),p=e.input.charCodeAt(++e.position);0!==p;){if(Oe(e,!0,t),(p=e.input.charCodeAt(e.position))===a)return e.position++,e.tag=f,e.anchor=g,e.kind=c?"mapping":"sequence",e.result=r,!0;m?44===p&&fe(e,"expected the node content, but found ','"):fe(e,"missed comma between flow collection entries"),h=null,o=l=!1,63===p&&re(e.input.charCodeAt(e.position+1))&&(o=l=!0,e.position++,Oe(e,!0,t)),n=e.line,i=e.lineStart,s=e.position,Ie(e,t,1,!1,!0),u=e.tag,d=e.result,Oe(e,!0,t),p=e.input.charCodeAt(e.position),!l&&e.line!==n||58!==p||(o=!0,p=e.input.charCodeAt(++e.position),Oe(e,!0,t),Ie(e,t,1,!1,!0),h=e.result),c?Ee(e,r,v,u,d,h,n,i,s):o?r.push(Ee(e,null,v,u,d,h,n,i,s)):r.push(d),Oe(e,!0,t),44===(p=e.input.charCodeAt(e.position))?(m=!0,p=e.input.charCodeAt(++e.position)):m=!1}fe(e,"unexpected end of the stream within a flow collection")}(e,p)?v=!0:(a&&function(e,t){var n,i,s,r,a,o=1,l=!1,d=!1,u=t,h=0,p=!1;if(124===(r=e.input.charCodeAt(e.position)))i=!1;else{if(62!==r)return!1;i=!0}for(e.kind="scalar",e.result="";0!==r;)if(43===(r=e.input.charCodeAt(++e.position))||45===r)1===o?o=43===r?3:2:fe(e,"repeat of a chomping mode identifier");else{if(!((s=48<=(a=r)&&a<=57?a-48:-1)>=0))break;0===s?fe(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?fe(e,"repeat of an indentation width identifier"):(u=t+s-1,d=!0)}if(se(r)){do{r=e.input.charCodeAt(++e.position)}while(se(r));if(35===r)do{r=e.input.charCodeAt(++e.position)}while(!ie(r)&&0!==r)}for(;0!==r;){for(Se(e),e.lineIndent=0,r=e.input.charCodeAt(e.position);(!d||e.lineIndent<u)&&32===r;)e.lineIndent++,r=e.input.charCodeAt(++e.position);if(!d&&e.lineIndent>u&&(u=e.lineIndent),ie(r))h++;else{if(e.lineIndent<u){3===o?e.result+=c.repeat("\n",l?1+h:h):1===o&&l&&(e.result+="\n");break}for(i?se(r)?(p=!0,e.result+=c.repeat("\n",l?1+h:h)):p?(p=!1,e.result+=c.repeat("\n",h+1)):0===h?l&&(e.result+=" "):e.result+=c.repeat("\n",h):e.result+=c.repeat("\n",l?1+h:h),l=!0,d=!0,h=0,n=e.position;!ie(r)&&0!==r;)r=e.input.charCodeAt(++e.position);be(e,n,e.position,!1)}}return!0}(e,p)||function(e,t){var n,i,s;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,i=s=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(be(e,i,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;i=e.position,e.position++,s=e.position}else ie(n)?(be(e,i,s,!0),_e(e,Oe(e,!1,t)),i=s=e.position):e.position===e.lineStart&&Te(e)?fe(e,"unexpected end of the document within a single quoted scalar"):(e.position++,s=e.position);fe(e,"unexpected end of the stream within a single quoted scalar")}(e,p)||function(e,t){var n,i,s,r,a,o,l;if(34!==(o=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(o=e.input.charCodeAt(e.position));){if(34===o)return be(e,n,e.position,!0),e.position++,!0;if(92===o){if(be(e,n,e.position,!0),ie(o=e.input.charCodeAt(++e.position)))Oe(e,!1,t);else if(o<256&&de[o])e.result+=ue[o],e.position++;else if((a=120===(l=o)?2:117===l?4:85===l?8:0)>0){for(s=a,r=0;s>0;s--)(a=oe(o=e.input.charCodeAt(++e.position)))>=0?r=(r<<4)+a:fe(e,"expected hexadecimal character");e.result+=ce(r),e.position++}else fe(e,"unknown escape sequence");n=i=e.position}else ie(o)?(be(e,n,i,!0),_e(e,Oe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Te(e)?fe(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}fe(e,"unexpected end of the stream within a double quoted scalar")}(e,p)?v=!0:!function(e){var t,n,i;if(42!==(i=e.input.charCodeAt(e.position)))return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!re(i)&&!ae(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&fe(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),Z.call(e.anchorMap,n)||fe(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Oe(e,!0,-1),!0}(e)?function(e,t,n){var i,s,r,a,o,l,c,d,u=e.kind,h=e.result;if(re(d=e.input.charCodeAt(e.position))||ae(d)||35===d||38===d||42===d||33===d||124===d||62===d||39===d||34===d||37===d||64===d||96===d)return!1;if((63===d||45===d)&&(re(i=e.input.charCodeAt(e.position+1))||n&&ae(i)))return!1;for(e.kind="scalar",e.result="",s=r=e.position,a=!1;0!==d;){if(58===d){if(re(i=e.input.charCodeAt(e.position+1))||n&&ae(i))break}else if(35===d){if(re(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&Te(e)||n&&ae(d))break;if(ie(d)){if(o=e.line,l=e.lineStart,c=e.lineIndent,Oe(e,!1,-1),e.lineIndent>=t){a=!0,d=e.input.charCodeAt(e.position);continue}e.position=r,e.line=o,e.lineStart=l,e.lineIndent=c;break}}a&&(be(e,s,r,!1),_e(e,e.line-o),s=r=e.position,a=!1),se(d)||(r=e.position+1),d=e.input.charCodeAt(++e.position)}return be(e,s,r,!1),!!e.result||(e.kind=u,e.result=h,!1)}(e,p,1===n)&&(v=!0,null===e.tag&&(e.tag="?")):(v=!0,null===e.tag&&null===e.anchor||fe(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===f&&(v=o&&we(e,m))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&fe(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),l=0,d=e.implicitTypes.length;l<d;l+=1)if((h=e.implicitTypes[l]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(Z.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,l=0,d=(u=e.typeMap.multi[e.kind||"fallback"]).length;l<d;l+=1)if(e.tag.slice(0,u[l].tag.length)===u[l].tag){h=u[l];break}h||fe(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&fe(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):fe(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||v}function ke(e){var t,n,i,s,r=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(s=e.input.charCodeAt(e.position))&&(Oe(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(a=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!re(s);)s=e.input.charCodeAt(++e.position);for(i=[],(n=e.input.slice(t,e.position)).length<1&&fe(e,"directive name must not be less than one character in length");0!==s;){for(;se(s);)s=e.input.charCodeAt(++e.position);if(35===s){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&!ie(s));break}if(ie(s))break;for(t=e.position;0!==s&&!re(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(t,e.position))}0!==s&&Se(e),Z.call(ve,n)?ve[n](e,n,i):ge(e,'unknown document directive "'+n+'"')}Oe(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Oe(e,!0,-1)):a&&fe(e,"directives end mark is expected"),Ie(e,e.lineIndent-1,4,!1,!0),Oe(e,!0,-1),e.checkLineBreaks&&X.test(e.input.slice(r,e.position))&&ge(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Te(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Oe(e,!0,-1)):e.position<e.length-1&&fe(e,"end of the stream or a document separator is expected")}function Pe(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new pe(e,t),i=e.indexOf("\0");for(-1!==i&&(n.position=i,fe(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)ke(n);return n.documents}var Le={loadAll:function(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var i=Pe(e,n);if("function"!=typeof t)return i;for(var s=0,r=i.length;s<r;s+=1)t(i[s])},load:function(e,t){var n=Pe(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new h("expected a single document in the stream, but found more")}}};Object.prototype.toString,Object.prototype.hasOwnProperty;function Re(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Ce=Le.load;Re("safeLoad","load"),Re("safeLoadAll","loadAll"),Re("safeDump","dump");async function De(e,t,n="./",i="json"){const s=function(e,t="./",n="json"){return e===o.k$?`${t}locale/strings.${n}`:`${t}locale/messages/strings_${e}.${n}`}(e,n,i),r=await t.get(s);return"json"===i?JSON.parse(r):Ce(r)}var Me=n(31362),xe=n(41404),je=n(59279),Ue=n(10837);var Fe=n(34029);class He extends i.Y{constructor(){super(...arguments),this.name="locale"}async init(e,t){const n=await t.market.waitForData(Fe.e);this._languageCode=function(e,t=(0,je.eY)("lang","")){const n=(0,Me.ht)(),i=(0,xe.$)("SESSvl",""),s=null!=i?i:"",r=""===s||-1!==s.search(/^en/),a=t||(e?r?n:s:n);return(0,Ue.i)(a)}(e.isLoggedIn,n.getOverrideParam("lang",""));const i=this._languageCode.substr(0,2);this.polyglot=new(a())({locale:i,interpolation:{prefix:"%{",suffix:"}"},onMissingKey:e=>(this.log.warn("Missing phrase key:"+e),He.missingPrefix+e)});const r=(await t.getModuleBySymbol(s.Ak)).getProperty("assetBasePath"),l=await async function(e,t,n="./",i="json"){const s=await De(e,t,n,i);if(e===o.k$)return s;const r=await De(o.k$,t,n,i);return Object.assign(Object.assign({},r),s)}(this._languageCode,e.queue,r);this.polyglot.extend(l),this.registerSettings(t)}t(e,t){return this.polyglot.t(e,t)}has(e){return this.polyglot.has(e)}get languageCode(){return this._languageCode}async registerSettings(e){(await e.getModuleBySymbol(s.Ak)).registerSetting("Locale",o.Zs,this.languageCode,!1)}}He.missingPrefix="FIX-"},51801:(e,t,n)=>{"use strict";n.d(t,{E7:()=>i,Xy:()=>r,Zs:()=>a,k$:()=>s});const i=["en-US","es","fr","de","ru","ja","zh-CN","zh-TW","ko","nl","it","pt"],s="en-US",r=Object.assign(Object.assign({},i.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.toLowerCase()]:t})),{})),{en:"en-US",zh:"zh-CN",cn:"zh-CN",jp:"ja"}),a="language_code"},91446:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n(67294),s=n(20745),r=n(97542),a=n(46950),o=n(85893),l=n(94184),c=n.n(l),d=n(38399);const u=n.p+"images/login-screen-background.jpg";var h=n(84426);const{INVITED_MESSAGE:p,CREATE_ACCOUNT:m,HAVE_ACCOUNT:f,SIGN_IN:g}=d.Z.LOGIN;class v extends i.Component{constructor(e){super(e),this.signup=()=>{window.top&&(window.top.location.href=this.props.registerUrl)}}render(){const{loginUrl:e,backgroundUrl:t,locale:n}=this.props,i=t||u;return(0,o.jsx)("div",Object.assign({className:"login-redirect-screen",style:{backgroundImage:`url(${i})`}},{children:(0,o.jsx)("div",Object.assign({className:c()("login-redirect",{skrim:!!t})},{children:(0,o.jsxs)("div",Object.assign({className:"login-redirect-body"},{children:[(0,o.jsx)("h1",Object.assign({className:"login-redirect-title"},{children:n.t(p)})),(0,o.jsx)("div",Object.assign({className:"login-redirect-create"},{children:(0,o.jsx)(h.zx,{variant:h.Wu.PRIMARY,size:"large",theme:"dark",onClick:this.signup,label:n.t(m)})})),(0,o.jsxs)("div",Object.assign({className:"login-redirect-link"},{children:[n.t(f),(0,o.jsx)("a",Object.assign({className:"link",href:e},{children:n.t(g)}))]}))]}))}))}))}}var b=n(92810);class y extends r.Y{constructor(){super(...arguments),this.name="login-redirect",this.authenticated=!1}async init(e,t){this.config=e,this.engine=t}async loadUi(){var e;const{container:t,loginUrl:n,registerUrl:r}=this.config,o=await this.engine.getModuleBySymbol(b.e9),l=encodeURIComponent((null===(e=window.top)||void 0===e?void 0:e.location.href)||"");return this.reactContainer=document.createElement("div"),this.reactContainer.id="login-redirect-container",t.appendChild(this.reactContainer),this.reactRoot=(0,s.s)(this.reactContainer),this.reactRoot.render((0,i.createElement)(v,{locale:o,backgroundUrl:this.getBackground(),loginUrl:`${n}?target=${l}`,registerUrl:`${r}?target=${l}`})),new a.Q}async unloadUi(){return!!this.reactContainer&&(this.reactRoot.unmount(),this.reactContainer.remove(),delete this.reactContainer,!0)}getBackground(){const{baseUrl:e,modelId:t}=this.config;if(!t||!e)return;const n=window.devicePixelRatio||1;return`${e}/api/v1/player/models/${t}/thumb?width=${Math.max(this.config.container.clientWidth,400)}&dpr=${n}&disable=upscale`}}},49947:(e,t,n)=>{"use strict";var i;n.d(t,{U:()=>i}),function(e){e[e.NAVIGATION=0]="NAVIGATION",e[e.MODEL=1]="MODEL",e[e.EXT_LINK=2]="EXT_LINK"}(i||(i={}));i.NAVIGATION,i.MODEL,i.EXT_LINK},88669:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var i=n(81396),s=n(15462),r=n(30643),a=n(78283),o=n(75287),l=n(10385);class c extends o.T{constructor(e){super(),this.sid="",this.layerId="",this.created=new Date,this.modified=new Date,this.enabled=!0,this.label="",this.description="",this.parsedDescription=[],this.anchorPosition=new i.Vector3,this.anchorNormal=new i.Vector3(0,1,0),this.stemVector=new i.Vector3(0,0,(0,a._F)(1)),this.stemHeight=(0,a._F)(1),this.stemVisible=!0,this.fileAttachments=new l.d,this.externalAttachments=new l.d,this.sandboxAttachments=new l.d,this.color=s.I.MATTERTAG_BLUE.clone(),this.mediaType=r.z.none,this.mediaSrc="",this.keywords=[],e&&Object.assign(this,e)}copy(e){this.anchorNormal.copy(e.anchorNormal),this.anchorPosition.copy(e.anchorPosition),this.color.copy(e.color),this.created.setTime(e.created.getTime()),this.description=e.description,this.enabled=e.enabled,this.layerId=e.layerId,this.floorId=e.floorId,this.roomId=e.roomId,this.label=e.label,this.mediaType=e.mediaType,this.mediaSrc=e.mediaSrc,this.modified.setTime(e.modified.getTime()),this.sid=e.sid,this.stemVector.copy(e.stemVector),this.stemHeight=e.stemHeight,this.stemVisible=e.stemVisible,this.fileAttachments=e.fileAttachments,this.externalAttachments=e.externalAttachments,this.sandboxAttachments=e.sandboxAttachments,this.objectAnnotationId=e.objectAnnotationId,this.keywords=e.keywords,this.icon=e.icon,this.parsedDescription=[];for(const t of e.parsedDescription)this.parsedDescription.push({link:t.link&&{label:t.link.label.slice(),url:t.link.url.slice(),type:t.link.type,navigationData:t.link.navigationData&&{floorVisibility:t.link.navigationData.floorVisibility,mode:t.link.navigationData.mode,sweepIndex:t.link.navigationData.sweepIndex,panoId:t.link.navigationData.panoId,position:t.link.navigationData.position&&t.link.navigationData.position.clone(),quaternion:t.link.navigationData.quaternion.clone(),zoom:t.link.navigationData.zoom}},text:t.text,type:t.type});return this.commit(),this}clone(){return(new c).copy(this)}refresh(e){this.fileAttachments.forEach((t=>{const n=e[t.id];n&&(t.thumbnailUrl.refreshFrom(n.thumbnailUrl),t.url.refreshFrom(n.url))}))}getPin(){const{anchorPosition:e,color:t,stemVisible:n,floorId:i,roomId:s,stemVector:r,stemHeight:a,icon:o}=this;return{anchorPosition:e,color:`#${t.getHexString()}`,icon:o,floorId:i,roomId:s,stemEnabled:n,stemNormal:r,stemLength:a}}updateFromOptions(e,t,n){void 0!==e.color&&(this.color=new i.Color(e.color.r,e.color.g,e.color.b)),void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.stemHeight&&(this.stemHeight=e.stemHeight,this.stemVector.copy(this.anchorNormal).setLength(e.stemHeight)),void 0!==e.stemVisible&&(this.stemVisible=e.stemVisible),void 0!==e.label&&(this.label=e.label.slice()),void 0!==e.description&&(this.description=e.description,this.parsedDescription=t.parse(this.description,n)),void 0!==e.floorId&&(this.floorId=e.floorId),void 0!==e.roomId&&(this.roomId=e.roomId),void 0!==e.normal&&(this.anchorNormal.copy(e.normal).normalize(),this.stemVector.copy(e.normal).setLength(this.stemHeight)),void 0!==e.position&&this.anchorPosition.copy(e.position),void 0!==e.keywords&&(this.keywords=e.keywords.slice()),Object.prototype.hasOwnProperty.call(e,"icon")&&(this.icon=e.icon),void 0!==e.objectAnnotationId&&(this.objectAnnotationId=e.objectAnnotationId)}}},30643:(e,t,n)=>{"use strict";var i;n.d(t,{z:()=>i}),function(e){e.text="text",e.link="link",e.photo="photo",e.video="video",e.rich="rich",e.none="none",e.error="error"}(i||(i={})),function(e){e.parse=t=>null!==t&&t in e?e[t]:e.none}(i||(i={}))},51397:(e,t,n)=>{"use strict";n.d(t,{V:()=>i,s:()=>o});var i,s=n(85679),r=n(55502),a=n(30643);!function(e){e.OVERLAY="overlay",e.HOVER="hover",e.OPEN="open",e.DOCKED="docked"}(i||(i={}));class o{constructor(){this.visitedTags={},this.viewedTags=0,this.handlers=[{msgType:r.QY,func:(e,t,n)=>{const i=n.tryGetData(s.n);if(!i)return;const r=i.getTagCount(),o=this.getNumTagsVisited(),l=this.getViewedTagCount(),c=i.getTag(t.sid);c&&e.track("tag_opened",{tag_count:r,tag_id:t.sid,tags_visited:o,tag_view_count:l,has_media:c.mediaType!==a.z.none})}},{msgType:r.dJ,func:(e,t,n)=>{const i=n.tryGetData(s.n);if(!i)return;this.visitTag(t.sid);const r=i.getTagCount(),a=this.getNumTagsVisited(),o=this.getViewedTagCount(),l=i.getTag(t.sid);if(l){const n={mattertag_sid:t.sid,mattertag_view:t.view,mattertag_media:l.mediaType,mattertags_count:r,mattertags_total_views:o,mattertags_visited:a};e.track("mattertag_view",n)}}}]}visitTag(e){this.viewedTags++,this.visitedTags[e]=1}getViewedTagCount(){return this.viewedTags}getNumTagsVisited(){return this.visitedTags.length}}},19648:(e,t,n)=>{"use strict";n.d(t,{Ek:()=>o,Fz:()=>r,Gn:()=>a,Mm:()=>l,cH:()=>s,qq:()=>c});var i=n(19663);class s extends i.m{constructor(e){super(),this.id="MATTERTAG_DISC_POSITIONS",this.payload={tags:e}}}class r extends i.m{constructor(e){super(),this.id="ADD_MATTERTAG",this.payload=e}}class a extends i.m{constructor(e){super(),this.id="DELETE_MATTERTAG",this.payload={sid:e}}}class o extends i.m{constructor(e,t,n,i){super(),this.payload={sid:e,standardOptions:t,mediaOptions:n,positionOptions:i}}}class l extends i.m{constructor(e,t,n=[],i){super(),this.id="MATTERTAG_NEW_SAVE",this.payload={id:e,properties:t,fileAttachments:n,embed:i}}}class c extends i.m{constructor(e,t,n=[],i=[],s){super(),this.id="MATTERTAG_SAVE",this.payload={id:e,properties:t,pendingAttachments:n,removedAttachments:i,embed:s}}}},85679:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});var i=n(67992),s=n(15637),r=n(56367);class a extends i.V{constructor(e){if(super(),this.name="tag",this.mattertags=(0,s.q)(),e)for(const t of e)this.mattertags.set(t.sid,t);this.commit()}clear(){for(const e of this.mattertags.keys)this.removeTag(e)}clone(){return(new a).copy(this)}copy(e){return a.copyTagCollection(this,e),this}static copyTagCollection(e,t){const n=e.mattertags,i=t.mattertags;for(const t of n.keys)i.has(t)||e.removeTag(t);for(const t of i)e.addTag(t)}get collection(){return this.mattertags}addTag(e){this.mattertags.has(e.sid)?this.mattertags.get(e.sid).copy(e):this.mattertags.set(e.sid,e.clone())}removeTag(e){return this.mattertags.delete(e)}getTag(e){return this.mattertags.get(e)}getTagList(){return this.mattertags.keys}getTagCount(){return this.mattertags.length}getTagKeywords(){let e=[];return this.iterate((t=>{t.enabled&&t.keywords.length&&(e=e.concat(t.keywords))})),e}iterate(e){for(const t of this.mattertags)e(t)}*[Symbol.iterator](){for(const e of this.mattertags)yield e}set onStale(e){this.hydrate=e}updateOnStaleCallbacks(e){if(!this.hydrate)return;const t=e?this.getTag(e):this.mattertags;(0,r.s)(t,(async()=>{const e=await this.hydrate();this.iterate((t=>{t.refresh(e)}))}))}}},55502:(e,t,n)=>{"use strict";n.d(t,{Ik:()=>r,QY:()=>s,dJ:()=>a});var i=n(98010);class s extends i.v0{constructor(e){super(),this.sid=e}}class r extends i.v0{constructor(e){super(),this.url=e}}class a extends i.v0{constructor(e,t){super(),this.sid=e,this.view=t}}},71776:(e,t,n)=>{"use strict";n.d(t,{lc:()=>s,re:()=>i});const i="features/mattertags",s="embedlyKey"},52507:(e,t,n)=>{"use strict";n.d(t,{a:()=>g,d:()=>f});var i=n(5823),s=n(9133),r=n(97998),a=n(2569),o=n(81396),l=n(47620),c=n(88669),d=n(37519),u=n(29282),h=n(65222),p=n(63665);const m=new r.Z("mds-mattertag-serializer");class f{constructor(e,t){this.fileAttachmentDeserializer=e,this.externalAttachmentDeserializer=t}deserialize(e){var t,n;if(!e||!this.validate(e))return m.debug("Deserialized invalid Mattertag data from MDS",e),null;const i=e.anchorPosition?a.ep.fromVisionVector(e.anchorPosition):void 0,r=e.stemNormal?a.ep.fromVisionVector(e.stemNormal):void 0,h=new c.U;if(h.sid=e.id,h.layerId=(null===(t=e.layer)||void 0===t?void 0:t.id)||"",h.label=e.label||"",h.description=e.description||"",h.enabled=!!e.enabled,e.color&&(h.color=new o.Color(e.color)),h.created=(0,s.p)(e.created),h.modified=(0,s.p)(e.modified),e.floor&&e.floor.id&&(h.floorId=e.floor.id),e.room&&e.room.id&&(h.roomId=e.room.id),i&&(h.anchorPosition=i),e.media&&(h.mediaSrc=e.media),e.mediaType&&(h.mediaType=(0,l.m7)(e.mediaType)),h.fileAttachments.replace(this.getFileAttachments(h,e)),h.externalAttachments.replace(this.getExternalAttachments(h,e)),(0,d.hj)(e.stemLength)&&(h.stemHeight=e.stemLength),r&&r instanceof o.Vector3){const t=r.clone().setLength(h.stemHeight);h.anchorNormal=r,h.stemVector=t,h.stemVisible=!!e.stemEnabled}else h.stemVector=new o.Vector3(0,0,0),h.stemVisible=!!e.stemEnabled;return h.objectAnnotationId=null===(n=e.objectAnnotation)||void 0===n?void 0:n.id,h.keywords=e.keywords||[],(0,u.r)(e.icon)&&(h.icon=e.icon),h}validate(e){if(!e)return!1;return["id","created","modified","enabled"].every((t=>t in e))}getFileAttachments(e,t){return this.fileAttachmentDeserializer?this.deserializeFileAttachments(t).sort(((e,t)=>e.created.getTime()-t.created.getTime())):[]}getExternalAttachments(e,t){if(!this.externalAttachmentDeserializer)return[];const n=this.deserializeExternalAttachments(t);if(t.media&&t.mediaType){const i=(0,l.Nc)(e.sid,t.media,t.mediaType);i&&n.push(i)}return n.sort(((e,t)=>e.created.getTime()-t.created.getTime()))}deserializeExternalAttachments(e){const t=e.externalAttachments||[],n=[];return t.forEach((t=>{var s;const r=null===(s=this.externalAttachmentDeserializer)||void 0===s?void 0:s.deserialize(t);r&&(r.parentId=e.id,r.parentType=i.ud.MATTERTAG,n.push(r))})),n}deserializeFileAttachments(e){const t=e.fileAttachments||[],n=[];return t.forEach((t=>{var s;const r=null===(s=this.fileAttachmentDeserializer)||void 0===s?void 0:s.deserialize(t);r&&(r.parentId=e.id,r.parentType=i.ud.MATTERTAG,n.push(r))})),n}}const g=function(){const e=(0,h.f)(),t=(0,p.n)();return new f(e,t)}},47620:(e,t,n)=>{"use strict";n.d(t,{F5:()=>d,Nc:()=>p,gj:()=>u,m7:()=>c});var i=n(30643),s=n(32347),r=n(71608),a=n(92558),o=n(56367),l=n(5823);function c(e){const t={[l.L0.VIDEO]:i.z.video,[l.L0.PHOTO]:i.z.photo,[l.L0.RICH]:i.z.rich};return e in t?t[e]:i.z.none}function d(e){switch(e){case s.DD.VIDEO:return i.z.video;case s.DD.IMAGE:return i.z.photo;case s.DD.RICH:return i.z.rich}return i.z.none}function u(e){switch(e){case i.z.video:return l.L0.VIDEO;case i.z.photo:return l.L0.PHOTO;case i.z.rich:return l.L0.RICH}return null}function h(e){return{[l.L0.VIDEO]:s.DD.VIDEO,[l.L0.PHOTO]:s.DD.IMAGE,[l.L0.RICH]:s.DD.RICH}[e]}function p(e,t,n){return t?new r.P({id:(0,a.fV)(),created:new Date,parentId:e,parentType:l.ud.MATTERTAG,mediaType:h(n),src:t,url:new o.n(t,null),thumbnailUrl:new o.n(t,null),category:s.G$.EXTERNAL}):null}},92294:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var i=n(67992),s=n(20341),r=n(37082),a=n(35895);class o extends i.V{constructor(){super(...arguments),this.name="measure-mode",this._groups=[],this._groupMap={},this.onDataChangedCallbacks=new Set,this._editingGroupId=null,this._creatingGroupId=null,this.phase=s.au.CLOSED,this.pressProgress=-1,this.selectedGroupIndexObservable=new r.f(-1),this.pointPositionObservable=new r.f(null),this.idVisibility=new Set}onPhaseChanged(e){return this.onPropertyChanged("phase",e)}onDataChanged(e){return(0,a.k1)((()=>this.onDataChangedCallbacks.add(e)),(()=>this.onDataChangedCallbacks.delete(e)),!0)}onPointPositionChanged(e){return this.pointPositionObservable.onChanged(e)}onSelectedGroupIndexChanged(e){return this.selectedGroupIndexObservable.onChanged(e)}modeActive(){return this.phase!==s.au.CLOSED}isEditingOrCreating(){return this.phase>=s.au.EDITING}*groups(){for(const e of this._groups)yield e}get selectedGroupSid(){const e=this.selectedGroupInfo;return e&&e.info.sid?e.info.sid:null}get selectedGroupInfo(){return-1===this.selectedGroupIndex?null:this.getGroupInfo(this.selectedGroupIndex)}get creatingGroupId(){return this._creatingGroupId}set creatingGroupId(e){this._creatingGroupId=e}get editingGroupId(){return this._editingGroupId}set editingGroupId(e){this._editingGroupId=e}get groupCount(){return this._groups.length}get pointPosition(){return this.pointPositionObservable.value}get selectedGroupIndex(){return this.selectedGroupIndexObservable.value}getGroupInfo(e){return e<0||e>=this._groups.length?null:this._groups[e]}getGroupInfoBySid(e){return e?this._groupMap[e]:null}setPhase(e){this.phase!==e&&(this.phase=e,this.commit())}notifyDataChanged(){this.onDataChangedCallbacks.forEach((e=>e()))}setPointPosition(e){this.pointPositionObservable.value=e}setSelectedGroupIndex(e){this.selectedGroupIndexObservable.value=e}repopulate(e){this.clear();for(const t of e){const e=t.clone();this._groups.push(e),this._groupMap[t.info.sid]=e}this.notifyDataChanged()}clear(){this._groups=[],this._groupMap={}}}},20341:(e,t,n)=>{"use strict";var i;n.d(t,{Ph:()=>r,Pj:()=>s,WN:()=>o,au:()=>i,q8:()=>a}),function(e){e[e.CLOSED=0]="CLOSED",e[e.IDLE=1]="IDLE",e[e.EDITING=2]="EDITING",e[e.CREATING=3]="CREATING",e[e.POINT_PLACED=4]="POINT_PLACED",e[e.CREATING_NEXT_POINT=5]="CREATING_NEXT_POINT",e[e.CONFIRMING_POINT=6]="CONFIRMING_POINT"}(i||(i={}));const s={mobile:{[i.POINT_PLACED]:!0,[i.EDITING]:!0},desktop:{[i.CREATING]:!0,[i.CREATING_NEXT_POINT]:!0,[i.EDITING]:!0}},r={mobile:{[i.CREATING_NEXT_POINT]:!0,[i.POINT_PLACED]:!0,[i.EDITING]:!0},desktop:{[i.CREATING]:!0,[i.CREATING_NEXT_POINT]:!0,[i.EDITING]:!0}},a={[i.IDLE]:!0,[i.EDITING]:!0},o={[i.IDLE]:!0,[i.EDITING]:!0}},35870:(e,t,n)=>{"use strict";n.d(t,{Ev:()=>s,JM:()=>a,Tn:()=>r});var i=n(19663);class s extends i.m{constructor(){super(...arguments),this.id="MEASUREMENT_DELETE_SELECTED"}}class r extends i.m{constructor(e){super(),this.id="MEASUREMENT_DELETE",this.payload={index:e}}}class a extends i.m{constructor(...e){super(),this.id="MEASUREMENT_LIST_DELETION",this.payload={sids:e}}}},62436:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var i=n(19663);class s extends i.m{constructor(e,t,n=!0){super(),this.id="MEASURE_MODE_TOGGLE",this.payload={on:e,dimWhileActive:void 0!==t?t:e,editable:n}}}},57989:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var i=n(19663);class s extends i.m{constructor(){super(...arguments),this.id="MEASURE_START"}}},62292:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var i=n(19663);class s extends i.m{constructor(e){super(),this.id="MEASUREMENT_SELECT",this.payload={index:e}}}},51205:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var i=n(19663);class s extends i.m{constructor(){super(...arguments),this.id="MEASURE_STOP"}}},75377:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var i=n(45755),s=n(92294);const r=(0,i.u)(s.X)},36893:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var i=n(67294),s=n(75377);function r(e){const t=(0,s.J)(),[n,r]=(0,i.useState)((null==t?void 0:t.getGroupInfoBySid(e))||null);return(0,i.useEffect)((()=>{if(!t)return()=>{};function n(){r((null==t?void 0:t.getGroupInfoBySid(e))||null)}const i=t.onDataChanged(n);return n(),()=>i.cancel()}),[t,e]),n}},96377:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var i=n(67294),s=n(75377);function r(){const e=(0,s.J)(),[t,n]=(0,i.useState)(e?e.selectedGroupSid:null);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.selectedGroupSid)}const i=e.onSelectedGroupIndexChanged(t);return t(),()=>i.cancel()}),[e]),t}},51180:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>c,$n:()=>u,av:()=>d,ff:()=>a,mM:()=>l,rf:()=>s,ty:()=>o,u6:()=>r});var i=n(98010);class s extends i.v0{constructor(e){super(),this.data=e}}class r extends i.v0{constructor(e){super(),this.data=e}}class a extends i.v0{}class o extends i.v0{constructor(e,t){super(),this.sid=e,this.text=t}}class l extends i.v0{constructor(e,t,n){super(),this.sid=e,this.oldText=t,this.newText=n}}class c extends i.v0{constructor(e){super(),this.data=e}}class d extends i.v0{constructor(e){super(),this.data=e}}class u extends i.v0{constructor(e,t,n){super(),this.opened=e,this.viewmode=t,this.count=n}}},8824:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});const i="features/measurements-nudge"},11200:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.sid=e,this.vrSupported=t}}},26568:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var i=n(67992),s=n(59961);class r extends i.V{constructor(e){super(),this.name="model",this.model=e}hasDiscoverUrl(){return[s.LU.PUBLIC,s.LU.UNLISTED].includes(this.model.visibility)}}},59961:(e,t,n)=>{"use strict";var i,s,r;n.d(t,{LU:()=>i,qU:()=>r,vz:()=>s}),function(e){e.PUBLIC="public",e.UNLISTED="unlisted",e.PASSWORD="password",e.PRIVATE="private",e.UNKNOWN="unknown"}(i||(i={})),function(e){e.MAX="max",e.LOD0="lod0",e.LOD1="lod1",e.LOD2="lod2",e.LOD3="lod3"}(s||(s={})),function(e){e.custom="custom",e.basic1="basic1",e.medium1="medium1"}(r||(r={}))},48228:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>U});var i=n(97542),s=n(61864),r=n(92810),a=n(90632),o=n(53261),l=n(21646),c=n(97998),d=n(44443);const u=new c.Z("modelurls");class h{constructor(){this.version=3,this.baseUrl="",this.expires=0}validate(e){return!0}update(e){return Promise.resolve()}get(e){if(!this.isSigned(e))throw new Error("Tried getting relative model url with no signed urls configured.");return e}isSigned(e){if(!e.match(/^https?:/))return!1;const t=e.indexOf("?");if(-1===t)return!1;return new URLSearchParams(e.substr(t)).has("t")}}class p extends h{constructor(){super(...arguments),this.version=3,this.baseUrl="",this.absoluteUrl="",this.expires=0}validate(e){return e.templates&&e.catalog_file&&(!e.expires||1e3*e.expires>Date.now())}update(e){if(!e.templates)throw new Error("No templates found.");return this.baseUrl=e.templates[0],this.absoluteUrl=this.baseUrl.split("{{filename}}").shift()||"",e.expires?this.expires=1e3*e.expires:this.expires=Date.now()+l.Z.signedUrlDefaultExpireTime,Promise.resolve()}get(e){return this.baseUrl&&this.baseUrl.replace("{{filename}}",e.replace(this.absoluteUrl,""))}}class m{constructor(e,t){this.api=e,this.endpoint=t,this.urlContainer=null,this.previousRefreshPromise=null,this.containerClasses=[h],t?this.containerClasses=[p]:this.urlContainer=new h}needsRefresh(){if(null===this.endpoint)return!1;const e=this.urlContainer?this.urlContainer.expires:Date.now();return Date.now()+l.Z.signedUrlRefreshBuffer>e}refresh(){if(!this.needsRefresh())return Promise.resolve();if(!this.previousRefreshPromise){u.debug("Refreshing urls...");const e=this;this.previousRefreshPromise=this._refresh().then((function(){u.debug("Refreshed"),e.previousRefreshPromise=null}),(function(t){u.error("Failed url refresh, urls might go stale soon",t),e.previousRefreshPromise=null}))}return this.previousRefreshPromise}async _refresh(e=!0){const t=this.endpoint?await this.api.get(this.endpoint,{responseType:"json",prefetchFrom:e?"files":void 0,priority:o.ru.HIGHEST}):null;if(this.urlContainer&&this.urlContainer.validate(t))return this.urlContainer.update(t);for(const e of this.containerClasses){const n=new e;if(n.validate(t))return u.info("Using urls version "+n.version),this.urlContainer=n,this.urlContainer.update(t)}if(e)return this._refresh(!1);throw new Error("missing-urls")}isSigned(e){var t;return(null===(t=this.urlContainer)||void 0===t?void 0:t.isSigned(e))||!1}async getSignedUrl(e){if(e.startsWith("blob:"))return e;if(await this.refresh(),!this.urlContainer)throw new Error("Tried to use ModelUrls.get before urlContainer is established.");const t=this.urlContainer.get(e);if(!t)throw new Error(`Could not get signed URL for path ${e}`);return t}async getFile(e,t,n){const i=this.isSigned(e)?e:await this.getSignedUrl(e),s=(0,d.bf)(i,n);return this.api.getOnStoreQueue(s,t)}async getImageBitmap(e,t,n,i,s){const r=this.isSigned(e)?e:await this.getSignedUrl(e),a=(0,d.bf)(r,s);return this.api.getImageBitmap(a,t,n,i)}}var f=n(56367),g=n(26568),v=n(11200),b=n(64927),y=n(17788),E=n(9133);class S{constructor(){this.lastPublished=null}refresh(e){var t;for(const t in this.textures)e.textures[t]&&this.textures[t].refreshFrom(e.textures[t]);null===(t=this.meshUrls)||void 0===t||t.forEach(((t,n)=>{var i,s;const r=null===(s=null===(i=e.meshUrls)||void 0===i?void 0:i[n])||void 0===s?void 0:s.url;t.url&&r&&t.url.refreshFrom(r)})),this.tileset&&e.tileset&&this.tileset.urlTemplate.refreshFrom(e.tileset.urlTemplate)}}var O=n(5823),T=n(45531),_=n(59279),w=n(2224);class N extends w.y{constructor(e,t){super(e),this.name="ModelLoadException",this.code=t}}var A=n(7162),I=n(59961),k=n(75125),P=n(29282);const L=new c.Z("mds-snapshot-serializer");class R{deserialize(e){var t,n,i;if(!(e&&this.validate(e)&&e.publication&&e.assets))return L.debug("Deserialized invalid model data from MDS",e),null;const s=null!==(t=e.state)&&void 0!==t?t:O.gb.ACTIVE;if(s!==O.gb.ACTIVE)throw L.error(`model unavailable, status: ${s}`,e),new N("model unavailable",s);const r=e.publication,a=r.contact||{name:"",email:"",phoneNumber:""},o=e.options,l=new S;l.sid=e.id,l.organizationId=e.organization||null,l.details={sid:e.id,name:e.name||"",presentedBy:r.presentedBy||"",summary:r.summary||"",formattedAddress:r.address||"",demo:!!e.demo,contact:{email:a.email||"",name:a.name||"",phone:a.phoneNumber||"",formattedPhone:a.phoneNumber||""},externalUrl:r.externalUrl||""},l.created=(0,E.p)(e.created,null),l.options={urlBranding:null===(n=null==o?void 0:o.urlBrandingEnabled)||void 0===n||n,socialSharing:!!(null==o?void 0:o.socialSharingEnabled),isPublic:!!r.published,isVR:!!(null==o?void 0:o.vrEnabled)},r.lastPublished&&(l.lastPublished=(0,E.p)(r.lastPublished,null));const c=D(e.assets.textures.filter((e=>"high"===e.quality))[0]),d=D(e.assets.textures.filter((e=>"low"===e.quality))[0]);l.textures={},c&&(l.textures.high=new f.n(c,(0,E.p)(c.validUntil,null))),d&&(l.textures.low=new f.n(d,(0,E.p)(d.validUntil,null)));const u=this.getDamFileUrls(e);(null==u?void 0:u.length)&&(l.meshUrls=u);const h=null===(i=e.assets.tilesets)||void 0===i?void 0:i[0];if(this.validateTileset(h)&&(l.tileset=this.getTileset(h,e.lod),l.textures.max=this.getTilesetTextures(h)),!l.meshUrls&&!l.tileset)throw L.error("No DAM or tileset info found for model",l),new N("No DAM or tileset info found for model",s);return l.visibility=this.getModelVisibility(e),l}validate(e){return["id","assets","publication"].every((t=>t in e))}getDamFileUrls(e){var t;return((null===(t=e.assets)||void 0===t?void 0:t.meshes)||[]).reduce(((e,t)=>{if(t.status===O.l5.AVAILABLE&&t.url){const n={url:new f.n(t.url,(0,E.p)(t.validUntil,null))};"50k"===t.resolution?e.unshift(n):e.push(n)}return e}),[])}validateTileset(e){var t;if(!e)return!1;const n=A.o.lt(null!==(t=e.tilesetVersion)&&void 0!==t?t:"0","1.0.0");return e&&e.status===O.l5.AVAILABLE&&!n}getTileset(e,t){var n;const i=this.getTilesetMaxLOD(e,t),s=this.getRootTilesetFilename(e,t),r=this.getUrlTemplate(e);return{maxLOD:i,rootFilename:s,urlTemplate:new f.n(r,(0,E.p)(e.validUntil,null)),tilesetVersion:null!==(n=e.tilesetVersion)&&void 0!==n?n:"0"}}getTilesetMaxLOD(e,t){var n,i,s;let r=2;const a=A.o.gte(null!==(n=e.tilesetVersion)&&void 0!==n?n:"0","1.2.0"),o=!a&&e.tilesetPreset===I.qU.basic1,l=e.tilesetPreset===I.qU.custom,c=e.tilesetDepth;if(C(c)&&(a||l||!o))return c;switch(null===(i=null==t?void 0:t.options)||void 0===i?void 0:i[0]){case I.vz.MAX:r=C(c)?c:4,A.o.lt(null!==(s=e.tilesetVersion)&&void 0!==s?s:"0","1.1.0")&&(r=3);break;case I.vz.LOD3:r=3;break;case I.vz.LOD2:r=2;break;case I.vz.LOD1:r=1;break;case I.vz.LOD0:r=0}return 1===(0,_.eY)("debugTiles",0)&&(0,_.eY)("maxLOD",r)!==r&&(r=(0,_.eY)("maxLOD",r)),r}getRootTilesetFilename(e,t){if(1===(0,_.eY)("debugTiles",0)&&""!==(0,_.eY)("tilesetroot",""))return(0,_.eY)("tilesetroot","");if(e.tilesetPreset===I.qU.custom)return"tileset.json";return`${this.getTilesetMaxLOD(e,t)}.json`}getTilesetTextures(e){const t=this.getUrlTemplate(e);return new f.n({filename:null,id:"tiled",resolution:"*",quality:"max",format:"jpg",urlTemplate:t.replace(T.d_.urlTemplateToken,"<folder>/<texture>.jpg"),validUntil:e.validUntil},(0,E.p)(e.validUntil,null))}getUrlTemplate(e){var t;return T.d_.urlTemplateOverride?T.d_.urlTemplateOverride+T.d_.urlTemplateToken+"?t=fake":null!==(t=e.urlTemplate)&&void 0!==t?t:T.d_.urlTemplateToken}getModelVisibility(e){return k.t.hasPassword?I.LU.PASSWORD:(0,P.r)(e.visibility)&&e.visibility!==O.LU.PUBLIC?e.visibility===O.LU.PRIVATE?I.LU.PRIVATE:I.LU.UNKNOWN:e.discoverable?I.LU.PUBLIC:I.LU.UNLISTED}}function C(e){return(0,P.r)(e)&&!isNaN(e)}function D(e){var t;return(null==e?void 0:e.id)&&e.resolution&&e.quality&&e.urlTemplate?{id:e.id,filename:null!==(t=e.filename)&&void 0!==t?t:null,format:e.format,validUntil:e.validUntil||"",resolution:e.resolution,quality:e.quality,urlTemplate:e.urlTemplate}:null}class M extends y.u{constructor(){super(...arguments),this.serializer=new R,this.prefetchKey="data.model.name"}async read(e){var t;const n={modelId:this.getViewId()},i=await this.query(b.GetModelDetails,n,e);return this.serializer.deserialize(null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.model)}async refresh(){return this.refreshPromise||(this.refreshPromise=this.read({fetchPolicy:"no-cache"}).finally((()=>{this.refreshPromise=void 0}))),this.refreshPromise}}var x=n(80742),j=n(48945);class U extends i.Y{constructor(){super(...arguments),this.name="model-data"}async init(e,t){this.engine=t;const{baseUrl:n,readonly:i,baseModelId:s}=e,o=await t.market.waitForData(x.R);this.store=new M({context:o.mdsContext,readonly:i,baseUrl:n,viewId:s});const l=await this.store.read();if(!l)throw Error("Could not fetch model data");(0,f.s)(l,(async()=>{const e=await this.store.refresh();e&&l.refresh(e)})),this.model=l;const c=new g.T(this.model);t.market.register(this,g.T,c),this.registerSettings(c),async function(e,t,n){(await n.getModuleBySymbol(r.V6)).setOptions({model_mesh_type:e.model.tileset&&t.tiledMeshEnabled?"streamed":"dam"})}(c,e,t),t.market.waitForData(a.Q).then((e=>{l.lastPublished&&(e.lastPublished=l.lastPublished.getTime())}));const d=(await t.getModuleBySymbol(r.Vs)).getApi();this.signedUrls=new m(d,null),t.broadcast(new v.Z(this.model.sid,this.model.vrSupported))}async registerSettings(e){var t;const n=await this.engine.getModuleBySymbol(s.Ak),i="Model Options",{urlBranding:r=!0,socialSharing:a,isPublic:o,isVR:l}=e.model.options||{};n.registerSetting(i,T.Yo,a),n.registerSetting(i,"is_public",o),n.registerSetting(i,"is_vr",l);const c=!r||!!n.settingsData.getOverrideParam("brand",!0),d=r?n.settingsData.getOverrideParam("mls","0"):"0",u=r?n.settingsData.getOverrideParam("title","1"):"1",h=null!==(t=n.settingsData.getOverrideParam("tagNav","1"))&&void 0!==t?t:"1";n.registerSetting(i,T.Zz,"0"!==u&&"2"!==d),n.registerSetting(i,T.DU,"0"!==u&&"2"!==u),n.registerSetting(i,T.L,c),n.registerSetting(i,T.sX,"1"===d||"2"===d),n.registerSetting(i,j.ek,"0"!==h)}getSignedUrls(){return this.signedUrls}}},45531:(e,t,n)=>{"use strict";n.d(t,{DU:()=>o,L:()=>r,Yo:()=>s,Zz:()=>l,d_:()=>d,r4:()=>c,sX:()=>a});var i=n(59279);const s="social_sharing",r="branding_enabled",a="presentation_mls_mode",o="presentation_title",l="presentation_about",c="discover_space_url",d={urlTemplateToken:"<file>",urlTemplateOverride:(0,i.eY)("tiledtemplate",null)}},82814:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var i=n(81396);class s extends i.Mesh{constructor(){super(...arguments),this.raycastEnabled=!0}}},80626:(e,t,n)=>{"use strict";var i;n.d(t,{l:()=>i}),function(e){e[e.NONE=0]="NONE",e[e.RAYCAST=1]="RAYCAST"}(i||(i={}))},76532:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var i=n(67992),s=n(81396),r=n(89557);const a=[-5,-5,-5,5,5,5];class o extends i.V{constructor(e,t=a,n=a){super(),this.name="mesh-data",this.extendedBounds=new s.Box3,this.extendedSize=new s.Vector3,this.meshBounds=new s.Box3,this.meshCenter=new s.Vector3,this.meshSize=new s.Vector3,this.meshRadius=0,this.maxPlacementRadius=0,this._meshGroups={floors:new Map,rooms:new Map,roomsByFloor:new Map},this.meshGroupVisuals={floorOpacity:new Map},this.meshSubGroupsFromPoint=e=>{const t=[];for(const[n,i]of this.meshGroups.rooms)i.boundingBox.containsPoint(e)&&t.push(n);return t},this.meshTextureOpacity=new r.z(e),this.meshBounds.setFromArray(t),this.meshBounds.getCenter(this.meshCenter),this.meshBounds.getSize(this.meshSize),this.meshRadius=this.meshSize.clone().multiplyScalar(.5).length(),this.maxPlacementRadius=3*this.meshRadius,this.extendedBounds.setFromArray(n),this.extendedBounds.getSize(this.extendedSize)}get meshGroups(){return this._meshGroups}}},99935:(e,t,n)=>{"use strict";var i;n.d(t,{S:()=>i}),function(e){e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=3]="HIGH",e[e.ULTRA=4]="ULTRA"}(i||(i={}))},16769:(e,t,n)=>{"use strict";n.d(t,{Nr:()=>o,Pv:()=>a,T0:()=>r});var i=n(82814);const s=e=>e instanceof i.S,r=e=>s(e),a=e=>s(e)&&e.raycastEnabled&&e.visible,o=e=>{let t=e.visible;t&&e.traverseAncestors((e=>{t&&(t=e.visible)}));return!r(e)&&t||a(e)}},34742:(e,t,n)=>{"use strict";var i;n.d(t,{h:()=>i}),function(e){e.PanoTexture="PANO_TEXTURE",e.PanoTextureTransition="PANO_TEXTURE_TRANSITION",e.MeshTexture="MESH_TEXTURE",e.ColorOverlay="COLOR_OVERLAY",e.MeshPreviewSphere="MESH_PREVIEW_SPHERE",e.Wireframe="WIREFRAME",e.FlatShading="FLAT_SHADING",e.PanoOverlay="PANO_OVERLAY",e.PanoOverlayTransition="PANO_OVERLAY_TRANSITION",e.MeshTrimVertex="MESH_TRIM_VERTEX",e.MeshTrimPixel="MESH_TRIM_PIXEL",e.FloorTrimVertex="FLOOR_TRIM_VERTEX",e.FloorTrimPixel="FLOOR_TRIM_PIXEL"}(i||(i={}))},82668:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.loaded=e,this.total=t}}},53203:(e,t,n)=>{"use strict";n.d(t,{EJ:()=>s,Kb:()=>c,Lp:()=>a,NR:()=>l,ZP:()=>r,iT:()=>o,xx:()=>d});var i=n(59279);const s={flipDownload:(0,i.eY)("flipDownload",!0),flipUpload:(0,i.eY)("flipUpload",!0),debugLOD:(0,i.eY)("debuglod",!1),debugRttQuality:(0,i.eY)("debugQuality",!1),debugRttScores:(0,i.eY)("debugScores",!1),debugRttClear:(0,i.eY)("debuglodrtt",!0),debugPauseTexStream:(0,i.eY)("textureStreamPause",!1),sightingMaxAge:(0,i.eY)("meshSightingMaxAge",600),textureTileSize:(0,i.eY)("chunkTileSize",512)},r=s,a="wireframeEnabled",o="features/tiled_mesh",l="Trim floor by(%)",c=0,d={FADE_OPAQUE:1,FADE_ABOVE:.05,FADE_BELOW:.2,FADE_TILE_VISIBLE_THRESHOLD:.6,FADE_CLICKABLE_THRESHOLD:.051,FADE_IN_VALUE:.2,FADE_IN_END_ANGLE:55,FADE_IN_START_ANGLE:35,FADE_IN_HOVER_BOOST_VALUE:.3,FADE_BELOW_START:0,FADE_BELOW_MULT:1}},97178:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N,t:()=>w});var i=n(81396),s=n(34742),r=n(34912),a=n.n(r),o=n(66367),l=n.n(o),c=n(67230),d=n.n(c),u=n(88880),h=n.n(u),p=n(82981),m=n.n(p),f=n(56547),g=n.n(f),v=n(23059),b=n.n(v),y=n(73209),E=n.n(y),S=n(62397),O=n.n(S),T=n(65849),_=n.n(T);const w=10,N={cube:{uniforms:{map:{type:"t",value:null},opacity:{type:"f",value:1}},vertexShader:a(),fragmentShader:l()},blurCube:{uniforms:{map:{type:"t",value:null},opacity:{type:"f",value:1},dir:{type:"v2",value:new i.Vector2(0,0)}},vertexShader:d(),fragmentShader:h()},modelChunk:{uniforms:{[s.h.MeshTexture]:{map:{type:"t",value:null},meshOpacity:{type:"f",value:0},opacity:{type:"f",value:1}},[s.h.MeshTrimVertex]:{meshTrimMatrices:{type:"mat4array",value:[]},meshTrimsDiscardContents:{type:"barray",value:new Array(w).fill(!0)},hasKeepVolume:{type:"b",value:!1}},[s.h.MeshTrimPixel]:{meshTrimMatrices:{type:"mat4array",value:[]},meshTrimsDiscardContents:{type:"barray",value:new Array(w).fill(!0)},hasKeepVolume:{type:"b",value:!1}},[s.h.FloorTrimVertex]:{floorHeightMin:{type:"f",value:0},floorHeightMax:{type:"f",value:1},floorTrimHeight:{type:"f",value:1}},[s.h.FloorTrimPixel]:{floorHeightMin:{type:"f",value:0},floorHeightMax:{type:"f",value:1},floorTrimHeight:{type:"f",value:1}},[s.h.PanoTexture]:{pano0Map:{type:"t",value:null},pano0Position:{type:"v3",value:new i.Vector3},pano0Matrix1:{type:"m4",value:new i.Matrix4},pano0Matrix2:{type:"m4",value:new i.Matrix4},panoOpacity:{type:"f",value:1}},[s.h.PanoTextureTransition]:{progress:{type:"f",value:0},pano1Map:{type:"t",value:null},pano1Position:{type:"v3",value:new i.Vector3},pano1Matrix1:{type:"m4",value:new i.Matrix4},pano1Matrix2:{type:"m4",value:new i.Matrix4}},[s.h.PanoOverlay]:{overlay0Map:{type:"t",value:null},overlay0Matrix:{type:"m4",value:new i.Matrix4}},[s.h.PanoOverlayTransition]:{overlay1Map:{type:"t",value:null},overlay1Matrix:{type:"m4",value:new i.Matrix4}},[s.h.ColorOverlay]:{colorOverlay:{type:"v4",value:null}},[s.h.MeshPreviewSphere]:{meshPreviewCenter:{type:"v3",value:null},meshPreviewSize:{type:"f",value:.3}},[s.h.Wireframe]:{time:{type:"f",value:0},fill:{type:"c",value:new i.Color(16711680)},stroke:{type:"c",value:new i.Color(16777215)},dualStroke:{type:"b",value:!1},fillEnabled:{type:"b",value:!1},insideAltColor:{type:"b",value:!1},thickness:{type:"f",value:.1},secondThickness:{type:"f",value:.1},dashEnabled:{type:"b",value:!1},dashRepeats:{type:"f",value:10},dashOverlap:{type:"b",value:!1},dashLength:{type:"f",value:.1,range:[0,1]},dashAnimate:{type:"b",value:!1},squeeze:{type:"b",value:!1},squeezeMin:{type:"f",value:.1},squeezeMax:{type:"f",value:1},wireframeOpacity:{type:"f",value:1,range:[0,1]}}},vertexShader:m(),fragmentShader:g()},modelOutside:{uniforms:{map:{type:"t",value:null},opacity:{type:"f",value:1},colorOverlay:{type:"v4",value:new i.Vector4(0,0,0,0)}},vertexShader:b(),fragmentShader:E()},depth:{uniforms:{opacity:{type:"f",value:1},maxDistance:{type:"f",value:20}},vertexShader:O(),fragmentShader:_()}}},7446:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var i=n(67992);class s extends i.V{constructor(){super(),this.name="model-rating-view-data",this.isDialogVisible=!1,this.setDialogVisible=e=>{this.isDialogVisible=void 0!==e?e:!this.isDialogVisible,this.commit()}}}},99660:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,m:()=>s});var i=n(19663);class s extends i.m{constructor(e){super(),this.payload={toVisible:e}}}s.id="TOGGLE_MODEL_RATING_DIALOG";class r extends i.m{constructor(e,t=!1){super(),this.payload={rating:e,didFinish:t}}}r.id="SUBMIT_MODEL_RATING"},75783:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var i=n(98010);class s extends i.v0{constructor(e){super(),this.rating=e}}},72940:(e,t,n)=>{"use strict";n.d(t,{i:()=>i,j:()=>s});const i="features/model-rating-dialog",s="features/model-rating-dialog-prompt"},12039:(e,t,n)=>{"use strict";n.d(t,{Cs:()=>c,L4:()=>u,Lp:()=>r,OR:()=>o,SG:()=>d,ZK:()=>s,ju:()=>l,zs:()=>a});var i=n(19663);class s extends i.m{constructor(){super(),this.id="LOCK_NAVIGATION"}}class r extends i.m{constructor(){super(),this.id="UNLOCK_NAVIGATION"}}class a extends i.m{constructor(e){super(),this.payload=e,this.id="FOCUS_ON_POINT_INSIDE"}}class o extends i.m{constructor(e){super(),this.payload=e,this.id="FOCUS_ON_PIN_INSIDE"}}class l extends i.m{constructor(e){super(),this.id="MOVE_TO_SWEEP",this.payload=Object.assign({},e)}}class c extends i.m{constructor(e){super(),this.payload=e,this.id="NAVIGATE_TO_LABEL"}}class d extends i.m{constructor(e){super(),this.id="NAVIGATE_TO_ROOM",this.payload={room:e}}}class u extends i.m{constructor(e){super(),this.id="NAVIGATE_TO_POSE",this.payload={pose:e}}}},10359:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var i=n(67992),s=n(10385);class r extends i.V{constructor(){super(...arguments),this.name="hashtag-data",this.hashtags=(0,s.C)([])}addHashtags(e){this.atomic((()=>{e.forEach((e=>{this.addHashtag(e)}))}))}addHashtag(e){const t=e.trim().toLowerCase();-1===this.hashtags.map((e=>e.trim().toLowerCase())).indexOf(t)&&this.hashtags.push(e)}getHashtags(){return this.hashtags.values()}}},38965:(e,t,n)=>{"use strict";var i;n.d(t,{U:()=>i}),function(e){e.CLOSED="closed",e.IDLE="idle",e.CREATING="creating",e.OPENING="opening",e.OPEN="open",e.EDITING="editing"}(i||(i={}))},66291:(e,t,n)=>{"use strict";n.d(t,{X:()=>d});var i=n(67992),s=n(37082),r=n(15637),a=n(19077),o=n(38965),l=n(22744),c=n(62612);class d extends i.V{constructor(e,t,n,i){super(),this.data=e,this.textParser=t,this.linkHandler=n,this.backgroundTexture=i,this.name="notes-view-data",this.noteViewsMap=(0,r.q)(),this.isNewNote=!1,this.openNoteViewObservable=(0,s.Y)(null),this.focusedCommentObservable=(0,s.Y)(null),this.activeNotationObservable=(0,s.Y)(null),this.idVisibilityEnabled=!1,this.idVisibility=new Set,this.notesPhaseObservable=(0,s.Y)(o.U.CLOSED),this.notesFilterObservable=(0,s.Y)(l.$.OPEN),this.updateNoteViews=()=>{const e={};this.data.iterate((t=>{var n;const i=this.createNoteView(t);e[t.id]=i,(null===(n=this.openNoteView)||void 0===n?void 0:n.id)===i.id&&this.setOpenNoteView(i)})),this.noteViewsMap.replace(e)},this.sortByDate=(e,t)=>t.lastCommentMs-e.lastCommentMs,this.filterByResolved=e=>this.notesFilter===l.$.ALL||e.resolved===(this.notesFilter===l.$.RESOLVED),this.noteViews=new a.Q(this.noteViewsMap),this.noteViews.priority=a.K.LOW,this.notesFilter!==l.$.ALL&&this.noteViews.setFilter(this.notesFilter,this.filterByResolved),this.noteViews.sort(this.sortByDate),this.updateNoteViews()}getFilteredNotesMap(){return this.noteViews}getNoteViewsMap(){return this.noteViewsMap}getNoteView(e){return this.noteViewsMap.get(e)}getTextParser(){return this.textParser}getLinkHandler(){return this.linkHandler}getComment(e,t){const n=this.getNoteView(e);return(null==n?void 0:n.comments.find((e=>e.id===t)))||null}getReply(e,t){const n=this.getNoteView(e);return(null==n?void 0:n.comments.find(((e,n)=>n>0&&e.id===t)))||null}getAttachment(e,t,n){var i;const s=(null===(i=this.getNoteView(e))||void 0===i?void 0:i.comments.find((e=>e.id===t)))||null;return(null==s?void 0:s.attachments.find((e=>e.id===n)))||null}createNoteView(e){return Object.assign(Object.assign({},e),{backgroundTexture:this.backgroundTexture,icon:c.Qk[c.Er.NOTE]})}getCommentUserMentions(e,t){const n=[];return this.textParser.getUserMentions(e).forEach((e=>{const i=t[e];i&&n.push(i)})),n}getNoteAttachments(e){const t=[],n=this.getNoteView(e);return n&&n.comments.forEach((e=>{t.push(...e.attachments)})),t}getPendingNote(){return this.isNewNote&&this.openNoteView?this.openNoteView:null}setNotesPhase(e){this.notesPhaseObservable.value=e}get notesPhase(){return this.notesPhaseObservable.value}onNotesPhaseChanged(e){return this.notesPhaseObservable.onChanged(e)}setNotesFilter(e){const t=this.notesFilterObservable.value;this.notesFilterObservable.value=e,this.noteViews.atomic((()=>{this.noteViews.clearFilter(t),e!==l.$.ALL&&this.noteViews.setFilter(e,this.filterByResolved)}))}get notesFilter(){return this.notesFilterObservable.value}onNotesFilterChanged(e){return this.notesFilterObservable.onChanged(e)}setActiveNotation(e){this.activeNotationObservable.value=e}get activeNotation(){return this.activeNotationObservable.value}onActiveNotationChanged(e){return this.activeNotationObservable.onChanged(e)}setOpenNoteView(e){this.openNoteViewObservable.value=e}get openNoteView(){return this.openNoteViewObservable.value}onOpenNoteViewChanged(e){return this.openNoteViewObservable.onChanged(e)}resetOpenNoteView(){const e=this.openNoteView;if(e){const t=this.data.getNoteProperties(e.id);t&&this.updateOpenNoteView(t)}}updateOpenNoteView(e){const t=this.openNoteView;t&&Object.assign(t,e)}setFocusedComment(e){this.focusedCommentObservable.value=e}get focusedComment(){return this.focusedCommentObservable.value}onFocusedCommentChanged(e){return this.focusedCommentObservable.onChanged(e)}}},24696:(e,t,n)=>{"use strict";n.d(t,{Df:()=>y,FB:()=>l,GV:()=>T,Gx:()=>O,RO:()=>v,Uw:()=>E,VI:()=>o,_N:()=>d,df:()=>p,gc:()=>c,kd:()=>u,mH:()=>S,oE:()=>m,oH:()=>h,sG:()=>g,x4:()=>b,yK:()=>r,yP:()=>a,yp:()=>f});var i=n(19663),s=n(64918);class r extends i.m{constructor(e){super(),this.id="NOTES_MODE_TOGGLE",this.payload={opened:e}}}class a extends i.m{constructor(e,t,n,i,r=s.n.FadeToBlack){super(),this.id="NOTES_OPEN_NOTE_COMMENT",this.payload={noteId:e,dock:t,edit:n,commentId:i,transition:r}}}class o extends i.m{constructor(){super(),this.id="NOTE_START_ADD"}}class l extends i.m{constructor(e){super(),this.id="NOTE_ADD",this.payload={text:e}}}class c extends i.m{constructor(){super(),this.id="NOTE_CANCEL_ADD"}}class d extends i.m{constructor(){super(),this.id="NOTE_CLOSE"}}class u extends i.m{constructor(e,t){super(),this.id="NOTE_SAVE_CHANGES",this.payload={noteId:e,text:t}}}class h extends i.m{constructor(){super(...arguments),this.id="COMMENT_CANCEL_CHANGES"}}class p extends i.m{constructor(e){super(),this.id="NOTE_POPUP_EDITOR_TOGGLE",this.payload={opened:e}}}class m extends i.m{constructor(e,t){super(),this.id="NOTE_APPEARANCE_SAVE",this.payload={noteId:e,properties:t}}}class f extends i.m{constructor(e,t){super(),this.id="NOTE_RESOLVE",this.payload={noteId:e,resolved:t}}}class g extends i.m{constructor(e){super(),this.id="NOTE_DELETE",this.payload={noteId:e}}}class v extends i.m{constructor(e,t){super(),this.id="NOTES_TOGGLE_FILTER",this.payload={filter:e,enabled:t}}}class b extends i.m{constructor(e){super(),this.id="NOTE_COMMENT_EDIT",this.payload={id:e}}}class y extends i.m{constructor(e,t,n){super(),this.id="COMMENT_ADD",this.payload={noteId:e,text:t,replyId:n}}}class E extends i.m{constructor(e,t,n){super(),this.id="COMMENT_UPDATE",this.payload={noteId:e,commentId:t,text:n}}}class S extends i.m{constructor(e,t){super(),this.id="COMMENT_DELETE",this.payload={noteId:e,commentId:t}}}class O extends i.m{constructor(e){super(),this.id="FILTER_VISIBLE_NOTES_COMMAND",this.payload={ids:e}}}class T extends i.m{constructor(e){super(),this.id="NOTES_VISIBILITY_FILTER_ENABLED",this.payload={enabled:e}}}},22744:(e,t,n)=>{"use strict";var i,s;n.d(t,{$:()=>i,Y:()=>s}),function(e){e.OPEN="open",e.RESOLVED="resolved",e.ALL="all"}(i||(i={})),function(e){e.DEFAULT="default",e.HIGHLIGHTED="highlighted",e.DIMMED="dimmed"}(s||(s={}))},39586:(e,t,n)=>{"use strict";n.d(t,{$p:()=>r,IA:()=>s});var i=n(39693);const s="features/notes-mode";function r(e,t,n,r,a){if(!e)return!1;let o=!1;const l=t.hasPolicy("spaces.notes"),c=n.isCommenter();return o=l&&c,o&&(r.setProperty(s,o),r.setProperty(i.Mp,o),r.setProperty(i.pE,o&&a.has(i.pE))),o}},35004:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,h:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.id=e,this.resolved=t}}class r extends i.v0{constructor(e){super(),this.commentId=e}}},39693:(e,t,n)=>{"use strict";n.d(t,{AT:()=>l,E8:()=>o,GR:()=>a,Ko:()=>d,Mp:()=>s,Rn:()=>u,TM:()=>c,ZP:()=>h,pE:()=>r});var i=n(5823);const s="features/notes",r="features/notes-nudge",a=30,o=15,l=i.x6.VIEWER,c=500,d=500,u="#5c7fff",h=Object.freeze({noteMesh:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100}},colors:["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#5c7fff","#03a9f4","#417505","#00bcd4","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"],stem:{length:.23,width:1,opacity:1,transparent:!1,color:"white",alphaTest:.05},anchor:{size:.1},navigation:{anyDistance:!0,visibleDistance:8,cameraClearance:.1,tiltTolerance:25}})},59512:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var i=n(67992),s=n(15637);class r extends i.V{constructor(){super(),this.name="object-tags",this.suggestions=(0,s.q)()}get collection(){return this.suggestions}iterate(e){for(const t of this.suggestions)e(t)}getObjectTag(e){return this.suggestions.get(e)}getObjectTagIds(){return this.suggestions.keys}updateObjectTag(e){this.suggestions.set(e.id,e)}removeObjectTag(e){return this.suggestions.delete(e)}}},5666:(e,t,n)=>{"use strict";n.d(t,{AN:()=>s,I2:()=>d,OD:()=>u,Q_:()=>o,SO:()=>c,cO:()=>l,w$:()=>a,yJ:()=>r});var i=n(19663);class s extends i.m{constructor(e){super(),this.id="OBJECTS_ANNOTATIONS_ENABLED",this.payload={enabled:e}}}class r extends i.m{constructor(e){super(),this.id="FILTER_TAG_SUGGESTION",this.payload={ids:e}}}class a extends i.m{constructor(e){super(),this.id="NAVIGATE_TO_TAG_SUGGESTION",this.payload={id:e}}}class o extends i.m{constructor(e,t){super(),this.id="TOGGLE_OBJECT_ENABLED",this.payload={id:e,enabled:t}}}class l extends i.m{constructor(e,...t){super(),this.id="TOGGLE_OBJECT_TAG_ENABLED",this.payload={ids:t,enabled:e}}}class c extends i.m{constructor(...e){super(),this.id="DISMISS_OBJECT_TAG",this.payload={ids:e}}}class d extends i.m{constructor(e,t,n,i){super(),this.id="CREATE_OBJECT_TAG",this.payload={id:e,options:t,pendingAttachments:n,embed:i}}}class u extends i.m{constructor(e){super(),this.id="DOCK_OBJECT_TAG",this.payload={id:e}}}},96776:(e,t,n)=>{"use strict";n.d(t,{QA:()=>s,yQ:()=>r});var i=n(71570);const s="object-insights-feature";function r(e,t,n,r){const a=(0,i._W)(n),o=(0,i.tP)(e,t),l=!!t&&e.hasMembershipFlag(t,"showcase/objects_beta_access"),c=r.getOverrideParam("objectAnnotations",-1),d=!(0===c)&&(a&&o&&l||1===c);return r.setProperty(s,d),d}},41602:(e,t,n)=>{"use strict";n.d(t,{Ct:()=>c,Gu:()=>a,JU:()=>l,N4:()=>m,O8:()=>r,SI:()=>s,TD:()=>u,Tm:()=>d,bC:()=>o,jX:()=>p,mP:()=>h});var i=n(31362);const s=1e3/60,r=.05,a=.1/60,o=.02,l=25,c=3,d=3,u=.16,h=(0,i.V5)()?45:(0,i.Kr)()?20:35,p=.01,m=2},79183:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});var i=n(12529),s=n(97998),r=n(81396),a=n(55763),o=n(84958);const l=new s.Z("InstancedPinHeads");class c extends r.InstancedMesh{constructor(e,t,n,s){const l=new r.PlaneGeometry(o.l,o.l),c=new r.InstancedBufferAttribute(new Float32Array(e),1);l.setAttribute("instanceAlpha",c);const d=new r.InstancedBufferAttribute(new Float32Array(4*e),4),u=new r.InstancedBufferAttribute(new Float32Array(e),1);l.setAttribute("instanceMaskRect",d),l.setAttribute("instanceStrokeWidth",u);const h=s&&n?new a.Vp(t,n):new a.m0(t,!0);super(l,h,e),this.updateMaskTexture=e=>{if(this.material&&this.material instanceof a.Vp){const t=this.material.uniforms;t.mask.value!==e&&(t.mask.value=e,this.material.uniformsNeedUpdate=!0)}},this.material=h,this.maxCount=e,this.opacityAttrib=c,this.maskRectAttrib=d,this.strokeWidthAttrib=u,this.setColorAt(0,new r.Color),this.renderedPins=[],this.renderOrder=i.z.pins}update(e){let t=0;this.renderedPins.length=0;for(const n of e){if(!n.visible)continue;if(t>=this.maxCount){l.error("Instance count is too small!");continue}this.setMatrixAt(t,n.pinHeadMatrix),this.setColorAt(t,n.pinColor),this.opacityAttrib.setX(t,n.opacity*n.opacityAnimation.value*n.opacityScale),this.strokeWidthAttrib.setX(t,n.pinStrokeWidth);const e=n.pinIconUVRect;e&&this.maskRectAttrib.setXYZW(t,e.minU,e.minV,e.maxU,e.maxV),t++,this.renderedPins.push(n)}this.count=t,this.visible=this.count>0,this.instanceMatrix.needsUpdate=!0,this.opacityAttrib.needsUpdate=!0,this.maskRectAttrib.needsUpdate=!0,this.strokeWidthAttrib.needsUpdate=!0,this.instanceColor?(this.instanceColor.needsUpdate=!0,this.computeBoundingSphere()):l.error("Instance color should be defined")}}},33160:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var i=n(21646),s=n(12529),r=n(81396),a=n(66372),o=n(49827),l=n(84958);class c extends r.Mesh{constructor(e,t,n,i){super(t,n),this.geomScale=new r.Vector3(1,1,1),this.userData.sid=e,this.worldPosition=new r.Vector3,this.cameraPosition=new r.Vector3,this.layers.mask=i.mask,this.renderOrder=s.z.pins,this.scale.set(.01,.01,.01)}dispose(){this.material.dispose(),this.geometry.dispose()}updatePosition(e){this.position.copy(e.stemNormal).setLength(Math.max(e.stemLength,.01))}update(e,t,n){const s=l.Z.pinHeadMesh.scale;this.getWorldPosition(this.worldPosition);const c=e.getWorldPosition(this.cameraPosition).distanceTo(this.worldPosition);this.quaternion.copy(e.quaternion);const d=s.maxSize-(s.maxSize-s.minSize)*(0,a.C)(c,s.nearBound,s.farBound),u=this.worldPosition.clone().project(e),h=new r.Vector3(n.width/2,n.height/2,1).multiply(u),p=new r.Vector3(d/2,0,0).add(h),m=new r.Vector3(2/n.width,2/n.height,1).multiply(p).clone().unproject(e).clone().distanceTo(this.worldPosition)*(1+s.responsiveness/100*(t-1)),f=(0,o.uZ)(m,i.Z.epsilon,m);this.scale.set(f*this.geomScale.x,f*this.geomScale.y,f*this.geomScale.z)}}},55763:(e,t,n)=>{"use strict";n.d(t,{Vp:()=>O,uW:()=>S,m0:()=>T,Nv:()=>y,Dx:()=>_,l0:()=>E});var i=n(81396),s=n(84958),r=n(27670),a=n.n(r),o=n(72742),l=n.n(o),c=n(24819),d=n.n(c),u=n(79652),h=n.n(u),p=n(50929),m=n.n(p),f=n(747),g=n.n(f);const v={pinHead:{uniforms:{alpha:{type:"f",value:1},color:{type:"c",value:new i.Color},bg:{type:"t",value:null},mask:{type:"t",value:null}},vertexShader:a(),fragmentShader:l()},pinStem:{uniforms:{pinHeadMatrix:{value:new i.Matrix4},resolution:{value:new i.Vector2},alpha:{value:1}},vertexShader:d(),fragmentShader:h()},pinSelected:{vertexShader:m(),fragmentShader:g()}};var b=n(11677);class y extends i.RawShaderMaterial{constructor(e,t,n,s){const r=i.UniformsUtils.clone(v.pinHead.uniforms);r.bg.value=t,r.mask.value=n,r.color.value.copy(e),r.alpha.value=s,super({fragmentShader:v.pinHead.fragmentShader,vertexShader:v.pinHead.vertexShader,uniforms:r,name:"PinHeadMaterial",transparent:!0})}}class E extends i.RawShaderMaterial{constructor(){const e=i.UniformsUtils.clone(v.pinStem.uniforms);super({fragmentShader:v.pinStem.fragmentShader,vertexShader:v.pinStem.vertexShader,uniforms:e,name:"PinStemMaterial",linewidth:s.Z.stem.width,opacity:s.Z.stem.opacity,transparent:s.Z.stem.transparent,alphaTest:s.Z.stem.opacity*s.Z.stem.alphaTest})}}class S extends i.RawShaderMaterial{constructor(){const e=i.UniformsUtils.clone(v.pinStem.uniforms);super({defines:{INSTANCED:!0},fragmentShader:v.pinStem.fragmentShader,vertexShader:v.pinStem.vertexShader,uniforms:e,name:"InstancedPinStemMaterial",linewidth:s.Z.stem.width,opacity:s.Z.stem.opacity,transparent:s.Z.stem.transparent,alphaTest:s.Z.stem.opacity*s.Z.stem.alphaTest})}}class O extends i.RawShaderMaterial{constructor(e,t){const n=i.UniformsUtils.clone(v.pinHead.uniforms);n.bg.value=e,n.mask.value=t,super({defines:{INSTANCED:!0},fragmentShader:v.pinHead.fragmentShader,vertexShader:v.pinHead.vertexShader,uniforms:n,name:"InstancedPinHeadMaterial",transparent:!0})}}class T extends i.RawShaderMaterial{constructor(e,t){super({defines:{INSTANCED:t},vertexShader:b.Z.basicTextured.vertexShader,fragmentShader:b.Z.basicTextured.fragmentShader,uniforms:{alpha:{value:1},tDiffuse:{value:e}},name:"InstancedPinHeadCustomMaterial",transparent:!0})}}class _ extends i.RawShaderMaterial{constructor(){super({depthTest:!0,depthWrite:!1,transparent:!0,side:i.DoubleSide,vertexShader:v.pinSelected.vertexShader,fragmentShader:v.pinSelected.fragmentShader})}}},60083:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var i=n(67992),s=n(37082),r=n(62612),a=n(15637);class o extends i.V{constructor(){super(),this.name="pins-view-data",this.pins=new a.v,this.creatingPin=!1,this.pinEditorStateObservable=(0,s.Y)(r.V8.IDLE),this.selectedPinObservable=(0,s.Y)(null),this.focusedPinObservable=(0,s.Y)(null),this.editableObservable=(0,s.Y)(!1),this.progressObservable=(0,s.Y)(-1),this.screenPositionObservable=(0,s.Y)(null),this.canPlaceObservable=(0,s.Y)(!0),this.canAddObservable=(0,s.Y)(!0),this.iteratePins=e=>{this.pins.forEach(e)}}onPinUpdate(e){return this.pins.onElementChanged(e)}updatePin(e){this.pins.set(e.id,e)}getPin(e){return this.pins.get(e)}removePin(e){this.pins.get(e)&&this.pins.delete(e)}removePinsByType(e){this.pins.forEach(((t,n)=>{t.pinType===e&&this.pins.delete(t.id)}))}get creatingNewPin(){return this.creatingPin}setSelectedPinId(e){this.selectedPinObservable.value=e}get selectedPinId(){return this.selectedPinObservable.value}onSelectedPinChanged(e){return this.selectedPinObservable.onChanged(e)}setFocusedPin(e){this.focusedPinObservable.value=e}get focusedPin(){return this.focusedPinObservable.value}onFocusedPinChanged(e){return this.focusedPinObservable.onChanged(e)}setPinEditorState(e){switch(e){case r.V8.IDLE:this.creatingPin=!1;break;case r.V8.CREATING:this.creatingPin=!0}this.pinEditorStateObservable.value=e}get pinEditorState(){return this.pinEditorStateObservable.value}onPinEditorStateChanged(e){return this.pinEditorStateObservable.onChanged(e)}setProgress(e){this.progressObservable.value=e}get progress(){return this.progressObservable.value}onProgressChanged(e){const t=this.progressObservable.onChanged(e);return t.renew(),t}get screenPosition(){return this.screenPositionObservable.value}setScreenPosition(e){this.screenPositionObservable.value=e}onScreenPositionChanged(e){return this.screenPositionObservable.onChanged(e)}get isPinEditable(){return this.editableObservable.value}setEditablePin(e){this.editableObservable.value=e}onPinEditableChanged(e){return this.editableObservable.onChanged(e)}get canAdd(){return this.canAddObservable.value}setCanAdd(e){this.canAddObservable.value=e}onCanAddChanged(e){return this.canAddObservable.onChanged(e)}get canPlace(){return this.canPlaceObservable.value}setCanPlace(e){this.canPlaceObservable.value=e}onCanPlaceChanged(e){return this.canPlaceObservable.onChanged(e)}}},72936:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>r,I$:()=>O,Ki:()=>s,OL:()=>c,RH:()=>a,_Y:()=>g,fM:()=>o,iK:()=>y,ic:()=>p,ik:()=>m,ip:()=>S,kb:()=>b,mE:()=>u,nP:()=>v,qN:()=>f,tE:()=>h,tT:()=>l,yR:()=>E,zM:()=>d});var i=n(19663);class s extends i.m{constructor(e){super(),this.id="ENABLE_PIN_CREATION",this.payload={enabled:e}}}class r extends i.m{constructor(e,t,n){super(),this.id="SELECT_PIN",this.payload={id:e,pinType:t,editable:n}}}class a extends i.m{constructor(e,t){super(),this.id="UNSELECT_PIN",this.payload={id:e,pinType:t}}}class o extends i.m{constructor(e,t,n,i){super(),this.id="CREATE_PIN",this.payload={id:e,pin:t,pinType:n,backgroundTexture:i}}}class l extends i.m{constructor(e,t){super(),this.id="PIN_CREATION_CANCEL",this.payload={id:e,pinType:t}}}class c extends i.m{constructor(e,t){super(),this.id="REMOVE_PIN",this.payload={id:e,pinType:t}}}class d extends i.m{constructor(e){super(),this.id="REMOVE_PIN_TYPE",this.payload={pinType:e}}}class u extends i.m{constructor(e){super(),this.id="UPDATE_PIN_VIEWS",this.payload={pinViews:e}}}class h extends i.m{constructor(e,t,n){super(),this.id="UPDATE_PIN",this.payload={id:e,pinType:t,properties:n}}}class p extends i.m{constructor(e,t=!1){super(),this.id="TOGGLE_PIN_EDITING",this.payload={id:e,editable:t}}}class m extends i.m{constructor(e,t,n){super(),this.id="CHANGE_PIN_VISIBILITY",this.payload={id:e,pinType:t,visible:n}}}class f extends i.m{constructor(e,t){super(),this.id="CHANGE_PIN_TYPE_VISIBILITY",this.payload={pinType:e,visible:t}}}class g extends i.m{constructor(e,t,n){super(),this.id="CHANGE_PIN_OPACITY",this.payload={id:e,pinType:t,opacity:n}}}class v extends i.m{constructor(e,t,n){super(),this.id="CHANGE_PIN_OPACITY_SCALE",this.payload={id:e,pinType:t,scale:n}}}class b extends i.m{constructor(e,t,n=[]){super(),this.id="CHANGE_PIN_TYPE_OPACITY",this.payload={pinType:e,opacity:t,skipIds:n}}}class y extends i.m{constructor(){super(...arguments),this.id="PIN_SELECTION_CLEAR"}}class E extends i.m{constructor(){super(),this.id="PIN_CLICK_ELSEWHERE"}}class S extends i.m{constructor(){super(),this.id="PLACE_PIN"}}class O extends i.m{constructor(e,t,n){super(),this.id="MOVE_PIN",this.payload={id:e,pos:t,previousPos:n}}}},62612:(e,t,n)=>{"use strict";var i;n.d(t,{Er:()=>i,K_:()=>r,Od:()=>o,Qk:()=>s,V8:()=>a}),function(e){e.MATTERTAG="mattertag",e.NOTE="note",e.OBJECT="object"}(i||(i={}));const s={[i.MATTERTAG]:"simple-tag-pin",[i.NOTE]:"comment-large",[i.OBJECT]:"simple-tag-small"};var r,a,o;!function(e){e.DEFAULT="default",e.HIGHLIGHTED="highlighted",e.DIMMED="dimmed"}(r||(r={})),function(e){e.IDLE="idle",e.CREATING="creating",e.PRESSING="pressing",e.PLACING="placing",e.PLACED="placed"}(a||(a={})),function(e){e.UP="up",e.UP_LEFT="up-left",e.UP_RIGHT="up-right",e.DOWN="down",e.DOWN_LEFT="down-left",e.DOWN_RIGHT="down-right",e.LEFT="left",e.RIGHT="right"}(o||(o={}))},13132:(e,t,n)=>{"use strict";n.d(t,{F7:()=>r,b0:()=>a,bV:()=>c,cd:()=>o,hu:()=>d,pe:()=>l,tP:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t,n){super(),this.id=e,this.hovering=t,this.pinType=n}}class r extends i.v0{constructor(e,t){super(),this.id=e,this.pinType=t}}class a extends i.v0{constructor(e,t,n){super(),this.id=e,this.pinType=t,this.pinPos=n}}class o extends i.v0{}class l extends i.v0{}class c extends i.v0{constructor(e,t,n,i){super(),this.id=e,this.pinType=t,this.pinPos=n,this.previousPos=i}}class d extends i.v0{constructor(e,t){super(),this.id=e,this.pinType=t}}},84958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,l:()=>i});const i=1,s=Object.freeze({anchor:{size:.1},stem:{length:.23,width:1,opacity:1,transparent:!0,color:"white",alphaTest:.05},pinHeadMesh:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100}}})},39689:(e,t,n)=>{"use strict";n.d(t,{W4:()=>u,ke:()=>l,m1:()=>d,mg:()=>c});var i=n(81396),s=n(81346),r=n(62612),a=n(64918),o=n(7159);function l(e,t){switch(t){case r.K_.DEFAULT:return e.baseColor;case r.K_.DIMMED:return e.dimmedColor;case r.K_.HIGHLIGHTED:return e.hoverColor}}function c(e,t,n){const i=n?t:void 0;return i&&s.f[i]?i:r.Qk[e]}function d(e){if(e===s.e.CommentLarge)return{x:0,y:5}}const u=async(e,t,n)=>{const s=(new i.Vector3).copy(t.stemNormal).setLength(t.stemLength).add(t.anchorPosition),r=o.K.decodeVector3(e.getOverrideParam("pin-pos",o.K.encodeVector3(s)));n(r&&r.distanceTo(s)>.1||null===o.K.deserialize()?a.n.FadeToBlack:null)}},23748:(e,t,n)=>{"use strict";n.d(t,{u:()=>h,i:()=>m});var i=n(10385),s=n(15637),r=n(67992),a=n(17788),o=n(44055),l=n(65222);const c=new(n(97998).Z)("mds-plugin-config-deserializer");class d{constructor(){this.fileAttachmentDeserializer=new l.O}deserialize(e){if(!e)return c.debug("Deserialized invalid Plugin data from MDS",e),null;const t=e.fileAttachments.map((e=>this.fileAttachmentDeserializer.deserialize(e))).filter((e=>null!==e));return{name:e.name,id:e.id,attachments:t}}}class u extends a.u{constructor(e){super(e),this.deserializer=new d}async read(e){const t={modelId:this.getViewId(),prefetchKey:this.prefetchKey,includeLayers:this.readLayerId()};return this.query(o.GetPlugins,t,e).then((e=>{var t,n;const i=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.sdkPlugins;if(!i||!Array.isArray(i))return[];return i.map((e=>this.deserializer.deserialize(e))).filter((e=>null!==e))}))}async update(e){const t={};void 0!==e.version&&(t.currentVersion=e.version),void 0!==e.attachments&&(t.fileAttachments=e.attachments);const n={modelId:this.getViewId(),name:e.name,patch:t};await this.mutate(o.UpdatePlugin,n).catch((e=>{e.message.includes("Version for plugin does not exist")}))}async delete(e){if(!e)return;const t={modelId:this.getViewId(),name:e};return this.mutate(o.DeletePlugin,t).then((()=>{}))}}var h,p=n(59279);!function(e){e[e.None=0]="None",e[e.AnonymousFetch=1]="AnonymousFetch",e[e.UserFetch=2]="UserFetch"}(h||(h={}));class m extends r.V{constructor(){super(...arguments),this.name="available-plugin-data",this.availablePlugins=new s.v,this.lastSavedConfiguration=new i.d,this.defaultStrict=(0,p.eY)("sesStrict",null,"boolean"),this.defaultFetchLevel=h.None,this.disabled=(0,p.eY)("noPlugins",!1),this.manifestUrl=(0,p.eY)("manifestUrl"),this.preventLiveEdit=(0,p.eY)("preventWorkshopPluginPreview",!1),this.eventTarget=new s.v,this._isSetup=!1}get mdsIsSetup(){return this._isSetup}add(e){this.availablePlugins.set(e.name,e)}setupConfigStore(e,t,n){this._mdsStore=new u({context:e,readonly:t,includeDisabled:!t,baseUrl:n}),this._isSetup=!0}getMdsResult(){var e,t;return null!==(t=null===(e=this._mdsStore)||void 0===e?void 0:e.read())&&void 0!==t?t:Promise.resolve([])}updateMds(e){var t;null===(t=this._mdsStore)||void 0===t||t.update(e)}deleteMdsById(e){var t;null===(t=this._mdsStore)||void 0===t||t.delete(e)}}},2957:(e,t,n)=>{"use strict";n.d(t,{I:()=>s,r:()=>r});var i=n(98010);class s extends i.v0{constructor(e,t,n){super(),this.name=e,this.version=t,this.loadTime=n}}class r{constructor(){this.handlers=[{msgType:s,func:(e,t,n)=>{e.track("plugin_loaded",{name:t.name,version:t.version,time:t.loadTime})}}]}}},73339:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var i=n(67992),s=n(15637);const r=function(e){return`${e.applicationKey}.${e.id}`};class a extends i.V{constructor(){super(...arguments),this.plugins=(0,s.q)()}get(e){const t=r(e);return this.plugins.get(t)}set(e,t,n){const i=r(e);this.plugins.set(i,{applicationKey:e.applicationKey,module:t,id:e.id,dispose:n})}delete(e){const t=r(e);this.plugins.delete(t)}}},8807:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var i=n(67992);class s extends i.V{constructor(e=[]){super(),this.policies=e,this.name="policy-data"}hasPolicy(e){return!!this.getPolicy(e)}getPolicy(e){return this.policies.find((t=>t.name===e))||null}}},4870:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PolicyData:()=>l.n,default:()=>d});var i=n(97542),s=n(17788),r=n(10960),a=n(5823);class o extends s.u{constructor(e){super(e)}async fetchModelPolicies(){const e=this.getViewId();return this.query(r.GetModelPolicies,{modelId:e}).then((e=>{var t,n;return((null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.policies)||[]).filter((e=>{switch(e.__typename){case"PolicyFlag":return e.enabled;case"PolicyValue":return null!==e.value;case"PolicyOptions":return e.options&&e.options.length>0;case"PolicyFeature":return e.availability===a.km.UNLOCKED;default:return!1}})).map((e=>({name:e.name,value:e.value,options:e.options})))}))}}var l=n(8807);class c extends i.Y{constructor(){super(...arguments),this.name="policy-module"}async init(e,t){this.store=new o({context:e.mdsContext,readonly:!0,baseUrl:e.baseUrl,viewId:e.viewId});const n=await this.store.fetchModelPolicies();this.policyData=new l.n(n),t.market.register(this,l.n,this.policyData)}dispose(e){super.dispose(e),e.market.unregister(this,l.n)}}const d=c},71570:(e,t,n)=>{"use strict";n.d(t,{ID:()=>r,_W:()=>i,tP:()=>s});function i(e){return!!e.getPolicy("spaces.elements")}function s(e,t){return!!t&&e.hasMembershipFlag(t,"cloud_ui/elements_beta_access")}function r(e,t){e.trackFeatures(`elements:${i(t)}`)}},96666:(e,t,n)=>{"use strict";n.d(t,{n:()=>S,x:()=>O});var i=n(3968),s=n(81396);class r{constructor(){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[],[]],this.boundingBox=null,this.boundingSphere=null}}class a{constructor(e,t,n,i,r,a=0){this.a=e,this.b=t,this.c=n,this.materialIndex=a,this.a=e,this.b=t,this.c=n,this.normal=i&&!Array.isArray(i)&&i.isVector3?i:new s.Vector3,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&!Array.isArray(r)&&r.isColor?r:new s.Color,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=a}clone(){return new a(this.a,this.b,this.c,this.normal,this.color).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}var o=n(97998),l=n(69505);const c=new o.Z("surface-edge-finder"),d=new s.Triangle,u=["a","b","c"];class h extends a{constructor(e,t,n,i){super(e.a,e.b,e.c,e.normal),this.va=t,this.vb=n,this.vc=i,this.area=d.set(this.va.vector,this.vb.vector,this.vc.vector).getArea(),this.midpoint=d.getMidpoint(new s.Vector3),this.vertices=[this.va,this.vb,this.vc],t.faces.push(this),n.faces.push(this),i.faces.push(this)}}class p{constructor(e){this.vector=e,this.faces=[]}}class m{constructor(){this.area=0,this.normal=new s.Vector3,this.midpoint=new s.Vector3,this.faces=[],this.normalSum=new s.Vector3,this.midpointSum=new s.Vector3}add(e){e.surface&&e.surface.remove(e),this.faces.push(e),this.area+=e.area,this.midpointSum.add(e.midpoint),this.normalSum.add(e.normal),this.recalcFromSums(),e.surface=this}remove(e){e.surface&&(this.faces.splice(this.faces.indexOf(e),1),this.area-=e.area,this.midpointSum.sub(e.midpoint),this.normalSum.sub(e.normal),this.recalcFromSums()),e.surface=null}recalcFromSums(){this.normal.copy(this.normalSum).normalize(),this.midpoint.copy(this.midpointSum).divideScalar(this.faces.length)}mergeSurfaces(e){for(const t of e.faces)t.surface=this,this.faces.push(t);this.area+=e.area,this.normalSum.add(e.normalSum),this.midpointSum.add(e.midpointSum),this.recalcFromSums(),e.faces=[],e.area=0,e.normal.set(0,0,0),e.normalSum.set(0,0,0),e.midpointSum.set(0,0,0),e.midpoint.set(0,0,0)}getEdges(){const e={},t={};for(const t of this.faces)for(let n=0;n<3;n++){const i=t[u[n]],s=t[u[(n+1)%3]],r=Math.min(i,s)+","+Math.max(i,s);if(void 0===e[r]){const t={edge1:i,edge2:s,isEdge:!0};e[r]=t}else e[r].isEdge=!1}for(const{edge1:n,edge2:i,isEdge:s}of Object.values(e))s&&(t[n]||(t[n]=[]),t[n].push(i),t[i]||(t[i]=[]),t[i].push(n));return t}getCircularPaths(e){const t=this.getEdges(),n=new Set,i=[],s=Object.keys(t).map((e=>parseInt(e,10)));let r;for(;r=s.pop();){const s=[];for(;r;){let i;s.push(e[r]);let a=0;for(const s of t[r]){const t=Math.min(r,s)+","+Math.max(r,s);if(n.has(t))continue;const o=e[r].vector.distanceToSquared(this.midpoint);(void 0===i||o>a)&&(i=s,a=o)}if(!i)break;{const e=Math.min(r,i)+","+Math.max(r,i);n.add(e),r=i}}s.length>2&&i.push(s)}return i}}class f{constructor(){this.surfaces=new Set,this.lines=[],this.points=[]}*run(e,t=[1,5,10],n=.2,o=.01,d=20){const u=function(e){const t=new r,n=null!==e.index?e.index:void 0,i=e.attributes;if(void 0===i.position)throw Error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.");const o=i.position,l=i.normal,c=i.color,d=i.uv,u=i.uv2;void 0!==u&&(t.faceVertexUvs[1]=[]);for(let e=0;e<o.count;e++)t.vertices.push((new s.Vector3).fromBufferAttribute(o,e)),void 0!==c&&t.colors.push((new s.Color).fromBufferAttribute(c,e));function h(e,n,i,r=0){const o=void 0===c?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[i].clone()],h=void 0===l?[]:[(new s.Vector3).fromBufferAttribute(l,e),(new s.Vector3).fromBufferAttribute(l,n),(new s.Vector3).fromBufferAttribute(l,i)],p=new a(e,n,i,h,o,r);t.faces.push(p),void 0!==d&&t.faceVertexUvs[0].push((new s.Vector2).fromBufferAttribute(d,e),(new s.Vector2).fromBufferAttribute(d,n),(new s.Vector2).fromBufferAttribute(d,i)),void 0!==u&&t.faceVertexUvs[1].push((new s.Vector2).fromBufferAttribute(u,e),(new s.Vector2).fromBufferAttribute(u,n),(new s.Vector2).fromBufferAttribute(u,i))}const p=e.groups;if(p.length>0)for(let e=0;e<p.length;e++){const t=p[e],i=t.start;for(let e=i,s=i+t.count;e<s;e+=3)void 0!==n?h(n.getX(e),n.getX(e+1),n.getX(e+2),t.materialIndex):h(e,e+1,e+2,t.materialIndex)}else if(void 0!==n)for(let e=0;e<n.count;e+=3)h(n.getX(e),n.getX(e+1),n.getX(e+2));else for(let e=0;e<o.count;e+=3)h(e,e+1,e+2);return t}(e),f=u.vertices.map((e=>new p(e))),g=[];for(const e of u.faces)g.push(new h(e,f[e.a],f[e.b],f[e.c])),yield;for(let e=0,t=g.length;e<t;e++){const t=g[e];(new m).add(t)}for(const e of t)yield*this.mergeSurfacesByNormal(g,e);for(const e of g)this.surfaces.add(e.surface);let v=0;const b=[];for(const e of this.surfaces){if(e.area<=n)continue;const t=e.getCircularPaths(f);for(const e of t)this.cullPath(e,((e,t)=>{if(e.length()<o||t.length()<o)return v++,!1;const n=e.angleTo(t)*l.MN;return!(n<d||n>180-d)||(v++,!1)})),e.length>2&&b.push(e);yield}c.debug(`Culled ${v} path points`);const y=new Set,E=new Set,S=e=>`${e.x.toFixed(3)},${e.y.toFixed(3)},${e.z.toFixed(3)}`,O=e=>`${S(e.start)}:${S(e.end)}`,T=e=>`${S(e.end)}:${S(e.start)}`;for(const e of b)for(let t=0;t<e.length;t++){const n=e[t].vector,s=e[(t+1)%e.length].vector,r=new i.FM(n,s),a=O(r),o=T(r),l=S(n);E.has(a)||E.has(o)||(E.add(a),E.add(o),this.lines.push(r)),y.has(l)||(y.add(l),this.points.push(new i.UQ(n)))}yield}cullPath(e,t){const n=new s.Vector3,i=new s.Vector3;let r=!0;for(;r;){r=!1;for(let s=0;s<e.length&&e.length>2;s++){const a=e[0===s?e.length-1:s-1].vector,o=e[s].vector,l=e[(s+1)%e.length].vector;n.copy(a).sub(o),i.copy(l).sub(o),t(n,i)||(e.splice(s,1),r=!0,s--)}}}*mergeSurfacesByNormal(e,t,n=5){let i=-1,s=0;for(;0!==i&&s++<n;){c.debug(`Merging surfaces by normal angle threshold: ${t}`);const n=Math.cos(l.Ue*t);i=0;let s=0;for(const t of e){s++%1e3==0&&(yield);for(const e of t.vertices)for(const s of e.faces){const e=s.surface;t.surface!==e&&t.surface.normal.dot(e.normal)>=n&&(t.surface.faces.length>e.faces.length?t.surface.mergeSurfaces(e):e.mergeSurfaces(t.surface),i++)}}i&&c.debug(`Merged ${i} surfaces by normal...`)}}}var g=n(10255),v=n(56512),b=n(98010);const y=new o.Z("snapcaster");var E;!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.WORKING=1]="WORKING",e[e.READY=2]="READY"}(E||(E={}));class S{constructor(e,t){this.cameraData=e,this.engine=t,this.meshes=new Map,this.newMeshes=new Set,this.raycaster=new s.Raycaster,this.filterSnapFeature=e=>{var t,n;const{meshName:i}=e;return!i||!1!==(null===(n=null===(t=this.meshes.get(i))||void 0===t?void 0:t.filter)||void 0===n?void 0:n.call(t,e))},this.cast=(e,t,n,r)=>{let a;n&&r&&(a=(new s.Plane).setFromNormalAndCoplanarPoint(r,n)),this.raycaster.set(e.origin,e.direction);const o=this.snappingOctree.raycast(this.raycaster,t,this.filterSnapFeature)||[],l=e=>{let t=(1+e.distance)*(1+e.distanceToRay)**2;return e.object instanceof i.UQ&&(t/=10),a&&a.distanceToPoint(e.point)<-.2&&(t+=10),t};return o.sort(((e,t)=>l(e)-l(t))),o},this.add=(...e)=>{for(const t of e)this.snappingOctree.add(t)},this.remove=(...e)=>{for(const t of e)this.snappingOctree.remove(t)}}dispose(){this.meshes.clear(),this.newMeshes.clear(),this._snappingOctree.clear()}get snappingOctree(){return this.preloadMeshSnapping(),this._snappingOctree}setupOctree(e){this._snappingOctree=new i.ZP(e)}async preloadMeshSnapping(){var e;!this.populateProcess&&this.newMeshes.size&&(this.populateProcess=await this.engine.commandBinder.issueCommand(new g.S("snapping",this.buildSnappingForMeshes(),6e4)),await(null===(e=this.populateProcess)||void 0===e?void 0:e.promise),this.populateProcess=null)}*buildSnappingForMeshes(){const e=new s.Vector3;for(;;){let t=null;for(const n of this.newMeshes){const i=this.meshes.get(n);if(i){const{geometry:s}=i;if(!s){y.error("No mesh to generate snapping information from!"),i.status=E.READY;continue}const r=(0,v.A5)(s).getCenter(e).distanceTo(this.cameraData.pose.position);(!t||r<t.distance)&&(t={meshName:n,geometry:s,distance:r,info:i})}}if(!t)break;this.newMeshes.delete(t.meshName),t.info.status=E.WORKING,yield*this.buildSnappingForGeometry(t.geometry,t.info),t.info.status=E.READY,t.info.geometry=null,yield}y.info(`Snapping found ${this._snappingOctree.pointCount} points and ${this._snappingOctree.lineCount} lines`)}*buildSnappingForGeometry(e,t){e.computeVertexNormals(),yield;const n=new f;yield*n.run(e),y.debug(`Mesh done, added ${n.points.length} points and ${n.lines.length} lines`);for(const e of n.points)e.meshName=t.meshName,e.meta=t.meta,this._snappingOctree.add(e);for(const e of n.lines)e.meshName=t.meshName,e.meta=t.meta,this._snappingOctree.add(e);this.engine.broadcast(new O(n))}forEachSnapFeature(e,t=!1){this.snappingOctree.traverse((n=>{t&&!this.filterSnapFeature(n)||e(n)}))}addMeshGeometry(e,t,n,i){this.meshes.has(e)||(this.meshes.set(e,{meshName:e,geometry:t,status:E.UNINITIALIZED,meta:n,filter:i}),this.newMeshes.add(e))}removeMeshGeometry(e){const t=this.meshes.get(e);t&&t.status===E.UNINITIALIZED&&(this.meshes.delete(e),this.newMeshes.delete(e))}}class O extends b.v0{constructor(e){super(),this.edgeFinder=e}}},85992:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,P:()=>r});var i=n(81396),s=n(67992);class r extends s.V{constructor(){super(...arguments),this.name="pointer",this.hit=null,this.hits=[],this.pointerNdcPosition=new i.Vector2,this.pointerScreenPosition=new i.Vector2,this.pointerOrigin=new i.Vector3,this.pointerDirection=new i.Vector3,this.pointerRay=new i.Ray}}class a{constructor(e,t,n,i){this.point=e,this.normal=t,this.object=n,this.intersection=i,this.face={normal:t}}}},29958:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var i=n(97542),s=n(92810),r=n(81396);function a(e){return"excludeFromOctree"in e}var o=n(2569),l=n(56512);class c{constructor(){this.parent=null,this.raycastDistance=1/0,this.distance=1/0}updateRaycastDistance(e){this.raycastDistance=this.bounds.distanceToPoint(e)}updateDistanceToBounds(e){this.distance=this.bounds.distanceToPoint(e)}}class d extends c{constructor(e){super(),this.mesh=e,this.bounds=(0,l.A5)(this.mesh.geometry).clone().applyMatrix4(this.mesh.matrixWorld),this.center=this.bounds.getCenter(new r.Vector3)}raycast(e,t){this.mesh.visible&&this.mesh.raycast(e,t)}nearestPointOnGeometry(e){const t=e.clone().applyMatrix4((new r.Matrix4).copy(this.mesh.matrixWorld).invert());let n;const i=this.mesh.geometry.boundsTree;return n=i?i.closestPointToPoint(t):(0,l.GO)(this.mesh.geometry,t),n?(n.point.applyMatrix4(this.mesh.matrixWorld),{object:this.mesh,point:n.point,distance:n.point.distanceTo(e),faceIndex:n.faceIndex}):null}}class u extends c{constructor(e,t,n){super(),this.level=t,this.leafMinSize=n,this.childNodes=[],this.children=[],this.listeners={},this.bounds=e.clone(),this.size=e.getSize(new r.Vector3),this.center=e.getCenter(new r.Vector3)}get depth(){return this.level}*addMeshes(e){e.updateMatrixWorld(!0);const t=[];e.traverse((e=>{!(e instanceof r.Mesh&&e.geometry)||a(e)&&e.excludeFromOctree||t.push(e)}));for(const e of t)this.addMesh(new d(e))}removeMeshes(e){let t=!1;for(let n=0;n<this.children.length;n++){const i=this.children[n];i instanceof d&&i.mesh.id===e.id&&(i.parent=null,this.children.splice(n,1),this.emit("removed",this,i),t=!0)}if(!t)throw new Error("Mesh that is being attempted removed does not exist in this node.")}addMesh(e){let t=!1;if(this.size.length()>this.leafMinSize){0===this.childNodes.length&&this.buildChildNodes();for(const n of this.childNodes)n.bounds.containsBox(e.bounds)&&(t=!0,n.addMesh(e))}t||this.add(e)}add(e){if(e.parent)throw new Error("ColliderNode already has a parent, remove before trying to add in another node");e.parent=this,this.children.push(e),this.emit("added",this,e)}clear(){this.childNodes.length=0,this.children.length=0}buildChildNodes(){const e=this.size.multiplyScalar(.5);for(let t=0;t<2;t++)for(let n=0;n<2;n++)for(let i=0;i<2;i++){const s=this.bounds.min.x+e.x*i,a=s+e.x,o=this.bounds.min.y+e.y*t,l=o+e.y,c=this.bounds.min.z+e.z*n,d=c+e.z,h=new r.Box3(new r.Vector3(s,o,c),new r.Vector3(a,l,d)),p=new u(h,this.level+1,this.leafMinSize);this.childNodes.push(p),this.add(p)}}raycast(e,t){if(!0===e.ray.intersectsBox(this.bounds))for(const n of this.children)n.raycast(e,t)}pick(e,t,n,i=null){if(!e.ray.intersectsBox(this.bounds))return t;for(const t of this.children)t.updateRaycastDistance(e.ray.origin);this.children.sort(((e,t)=>e.raycastDistance-t.raycastDistance));for(const s of this.children){if(t&&t.distance<s.raycastDistance)break;if(n(s))if(s instanceof u)t=s.pick(e,t,n,i);else{const n=[];s.raycast(e,n);for(const e of n)t&&!(t.distance>e.distance)||i&&!i(e)||(t=e)}}return t}nearestTo(e,t,n=null){for(const t of this.children)t.updateDistanceToBounds(e);this.children.sort(((e,t)=>e.distance-t.distance));for(const i of this.children){if(0!==i.distance&&n&&n.distance<i.distance)break;if(t(i))if(i instanceof u)n=i.nearestTo(e,t,n);else if(i instanceof d){const t=i.nearestPointOnGeometry(e);if(t){(!n||n.distance>t.distance)&&(n=t)}}}return n}getAllBounds(e,t=0,n=1/0,i=!1){for(const s of this.children)this.level>=t&&this.level<=n&&(i||e.push(s.bounds.clone())),s instanceof u&&s.getAllBounds(e,t,n,i)}emit(e,...t){const n=this.listeners[e]||[];for(const e of n)e(...t);this.parent&&this.parent.emit(e,...t)}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}}class h{constructor(e,t){this.meshToNodes={},this._depth=0;const n=(0,o.rj)(e);this.root=new u(n,0,t),this.root.on("added",((e,t)=>{e.depth>this._depth&&(this._depth=e.depth),t instanceof d&&(this.meshToNodes[t.mesh.id]||(this.meshToNodes[t.mesh.id]=[]),this.meshToNodes[t.mesh.id].push(t))})),this.root.on("removed",((e,t)=>{if(t instanceof d){const e=this.meshToNodes[t.mesh.id];for(let n=0;n<e.length;n++)e[n]===t&&e.splice(n,1)}}))}get depth(){return this._depth}*addMeshesAsync(e){yield*this.root.addMeshes(e)}addMeshes(e){for(const t of this.root.addMeshes(e));}removeMeshes(e){e.traverse((e=>{const t=this.meshToNodes[e.id]||[];for(const n of t)n.parent&&n.parent.removeMeshes(e)}))}clear(){this.root.clear(),this.meshToNodes={}}raycast(e){const t=[];return this.root.raycast(e,t),t}getAllBounds(e=0,t=1/0,n=!1){const i=[];return this.root.getAllBounds(i,e,t,n),i}pick(e,t,n=null){const i=e.firstHitOnly;e.firstHitOnly=!n;const s=this.root.pick(e,null,(e=>!(t&&e instanceof d)||t(e.mesh)),n);return e.firstHitOnly=i,s}nearestMeshTo(e,t){const n=this.root.bounds.clampPoint(e,new r.Vector3);return this.root.nearestTo(n,(e=>!(t&&e instanceof d)||t(e.mesh)))}getDebugBoundsMesh(e=16777215,t=0,n=1/0,i=!1){const s=this.getAllBounds(t,n,i),a=new r.LineBasicMaterial({color:e});if(s.length>0){const e=[];for(const t of s){const n=new r.Box3Helper(t);n.updateMatrixWorld(!0),n.geometry.applyMatrix4(n.matrixWorld),e.push(n.geometry)}const t=(0,l.qf)(e);return new r.LineSegments(t,a)}return new r.LineSegments(new r.BufferGeometry,a)}}class p{constructor(e,t,n,i){this.camera=e,this.cameraData=t,this.defaultRaycastFilter=n,this.intersectionFilter=i,this.meshes={},this.octreeEnabledMeshes={},this.meshFilters=new Map,this.raycaster=new r.Raycaster,this.prevRay=new r.Ray,this._hitCache=[],this.hitCacheValid=!0,this.getOctree=()=>this.octree}init(){this.raycaster=new r.Raycaster,this.raycaster.camera=this.camera,this.raycaster.params.Line&&(this.raycaster.params.Line.threshold=.1)}dispose(){this.octree.clear(),this._hitCache.length=0,this.meshes={}}updateIntersectionFilter(e){this.intersectionFilter=e}cast(e,t,n){if(e&&t&&(this.prevRay.copy(this.raycaster.ray),this.raycaster.set(e,t)),!n&&this.prevRay.equals(this.raycaster.ray)&&this.hitCacheValid)return this._hitCache;if(this.hitCacheValid=!0,this.raycaster.layers.mask=this.camera.layers.mask,this._hitCache.length=0,this.octree){const e=this.getRaycastFilter(g.OctreeMeshes,n),t=this.octree.pick(this.raycaster,e,this.intersectionFilter);t&&this._hitCache.push(t)}const i=this.getRaycastFilter(g.DynamicMeshes,n);for(const e in this.meshes){const t=this.meshes[e];if(i(t)){const e=this.raycaster.intersectObject(t,!0);this._hitCache=this._hitCache.concat(e)}}const s=this.cameraData.isOrtho()?f:m;return this._hitCache.sort(((e,t)=>s(e,t))),this.prevRay.copy(this.raycaster.ray),this._hitCache}pick(e,t,n){this.raycaster.set(e,t);const i=this.getRaycastFilter(g.OctreeMeshes,n);return this.octree.pick(this.raycaster,i,this.intersectionFilter)}nearest(e,t){return this.octree.nearestMeshTo(e,this.getRaycastFilter(g.OctreeMeshes,t))}setupOctree(e){this.octree=new h(e,.5);for(const e of Object.keys(this.meshes))if(this.octreeEnabledMeshes[e]){const t=this.meshes[e];this.octree.addMeshes(t)}return this.octree}addTarget(e,t,n){const i=e,s=i.collider?i.collider:e;this.meshes[e.id]=s,n&&this.meshFilters.set(s,n),this.octreeEnabledMeshes[e.id]=t,this.octree&&t&&(this.octree.addMeshes(e),e.traverse((e=>{!(e instanceof r.Mesh)||a(e)&&e.excludeFromOctree||(this.octreeEnabledMeshes[e.id]=t,n&&this.meshFilters.set(e,n))}))),this.hitCacheValid=!1}removeTarget(e){this.octree&&this.octreeEnabledMeshes[e.id]&&(this.octree.removeMeshes(e),this.octreeEnabledMeshes[e.id]=!1,e.traverse((e=>{e instanceof r.Mesh&&(this.octreeEnabledMeshes[e.id]=!1,this.meshFilters.delete(e))})));const t=this.meshes[e.id];t&&(this.meshFilters.delete(t),delete this.meshes[e.id]),this.hitCacheValid=!1}getRaycastFilter(e,t){const n=t||this.defaultRaycastFilter,i=t=>{const n=this.octreeEnabledMeshes[t.id];switch(e){case g.DynamicMeshes:return!n;case g.OctreeMeshes:return n}};return e=>i(e)&&n(e)&&this.checkMeshSpecificFilter(e)}checkMeshSpecificFilter(e){const t=this.meshFilters.get(e);return!t||t(e)}render(){}activate(){}deactivate(){}}function m(e,t){return e.distance>t.distance?1:e.distance<t.distance?-1:0}function f(e,t){return e.object.renderOrder>t.object.renderOrder?-1:e.object.renderOrder<t.object.renderOrder?1:m(e,t)}var g;!function(e){e[e.OctreeMeshes=0]="OctreeMeshes",e[e.DynamicMeshes=1]="DynamicMeshes"}(g||(g={}));var v=n(85992),b=n(96666),y=n(59370);class E{constructor(e,t){this.raycaster=e,this.cameraData=t,this.currentRay=new r.Ray,this.pointer=new r.Vector2(-2,-2),this.origin=new r.Vector3,this.direction=new r.Vector3,this.cast=e=>{const t=this.pointerRay;return this.raycaster.cast(t.origin,t.direction,e).slice()},this.updatePointer=e=>{this.pointer.distanceToSquared(e)>2e-5&&this.pointer.set(e.x,e.y)}}get pointerRay(){const{origin:e,direction:t}=this.updateDirections();return this.currentRay.set(e,t)}get ndcPosition(){return this.pointer}updateDirections(){return(0,y.Kh)(this.cameraData.pose,this.origin.set(this.pointer.x,this.pointer.y,-1),this.origin),(0,y.Kh)(this.cameraData.pose,this.direction.set(this.pointer.x,this.pointer.y,1),this.direction),this.direction.sub(this.origin).normalize(),{origin:this.origin,direction:this.direction}}}class S{constructor(e,t,n){this.raycaster=e,this.data=t,this.cameraData=n,this.cache={normal4:new r.Vector4,normal:new r.Vector3,rotationMatrix:new r.Matrix4,ndc3:new r.Vector3}}beforeRender(){if(this.raycaster.pointer.pointerRay.equals(this.data.pointerRay))return;this.data.pointerRay.copy(this.raycaster.pointer.pointerRay),this.data.pointerOrigin.copy(this.data.pointerRay.origin),this.data.pointerDirection.copy(this.data.pointerRay.direction);const e=this.raycaster.pointer.cast();if(this.data.hits.length=0,this.data.hits.push(...e),this.data.pointerNdcPosition.copy(this.raycaster.pointer.ndcPosition),this.cache.ndc3.set(this.data.pointerNdcPosition.x,this.data.pointerNdcPosition.y,.5),this.data.pointerScreenPosition.copy((0,y.fi)(this.cameraData.width,this.cameraData.height,this.cache.ndc3)),e.length>0){const t=e[0];if(t&&t.face){const e=t.face.normal;this.cache.normal4.set(e.x,e.y,e.z,0),this.cache.rotationMatrix.extractRotation(t.object.matrixWorld),this.cache.normal4.applyMatrix4(this.cache.rotationMatrix),this.cache.normal.set(this.cache.normal4.x,this.cache.normal4.y,this.cache.normal4.z),this.data.hit=new v.E(t.point.clone(),this.cache.normal.clone(),t.object,t)}}else this.data.hit=null;this.data.commit()}init(){}render(){}dispose(){this.data.hit=null,this.data.hits.length=0,this.data.commit()}activate(){}deactivate(){}}var O=n(9037),T=n(16769),_=n(2032),w=n(90365);class N extends i.Y{constructor(){super(...arguments),this.name="raycaster",this.raycasterPointerData=new v.P,this.overridePointer=null,this.setOverridePointer=e=>{this.overridePointer=e}}async init(e,t){t.market.register(this,v.P,this.raycasterPointerData);const[n,i]=await Promise.all([t.getModuleBySymbol(s.Aj),t.market.waitForData(O.M)]),r=n.getCamera();this.raycaster=new p(r,i,T.Nr,null),t.addComponent(this,this.raycaster),this.defaultPointer=new E(this.raycaster,i),this.snapcaster=new b.n(i,t);const a=new S(this,this.raycasterPointerData,i);t.addComponent(this,a),t.broadcast(new _.em(w.Y.Raycaster)),t.broadcast(new _.em(w.Y.Octree)),t.broadcast(new _.em(w.Y.Snapping))}dispose(e){super.dispose(e),this.raycaster.dispose(),this.snapcaster.dispose()}setupOctree(e){this.raycaster.setupOctree(e),this.snapcaster.setupOctree(e)}setIntersectionFilter(e){this.raycaster.updateIntersectionFilter(e)}getOctree(){return this.raycaster.getOctree()}get pointer(){return null!==this.overridePointer?this.overridePointer:this.defaultPointer}get targets(){return this.raycaster}get picking(){return this.raycaster}get snapping(){return this.snapcaster}}},41187:(e,t,n)=>{"use strict";n.d(t,{ep:()=>c,fZ:()=>l,oM:()=>s,sH:()=>r,sp:()=>o,vU:()=>a});var i=n(19663);class s extends i.m{constructor(){super(...arguments),this.id="RequestRenderTargetCommand"}}class r extends i.m{constructor(e,t){super(),this.payload={renderTarget:e,context:t}}}class a extends i.m{constructor(e,t,n){super(),this.payload={renderTarget:e,sceneObject:t,camera:n}}}class o extends i.m{constructor(e,t,n){super(),this.payload={renderTarget:e,sceneObject:t,camera:n}}}class l extends i.m{constructor(e,t,n=0){super(),this.payload={renderTarget:e,texture:t,heading:n}}}class c extends i.m{constructor(e,t){super(),this.payload={target1:e,target2:t}}}},41603:(e,t,n)=>{"use strict";n.d(t,{Xk:()=>a,fY:()=>l,jJ:()=>o,vP:()=>r});var i=n(39880);let s=null;const r=async(e,t)=>{const i=new Uint8Array(e.width*e.height*4);if(e.readRenderTargetData(i),!s){const e=await Promise.all([n.e(764),n.e(330),n.e(718)]).then(n.bind(n,77330));s=e.createJpegEncodeWorker()}const r=i.buffer,a=await s.exec({data:r,width:e.width,height:e.height,options:{exif:t,quality:85,flipY:!0}},[r]);return new Uint8Array(a.data)},a=e=>new Blob([e],{type:"image/jpeg"}),o=e=>"data:image/jpg;base64,"+(0,i.$B)(e),l=(e,t,n,i)=>'http://ns.adobe.com/xap/1.0/\0<?xpacket begin="ï»¿" id="W5M0MpCehiHzreSzNTczkc9d"?><x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:GPano="http://ns.google.com/photos/1.0/panorama/"><GPano:CroppedAreaImageHeightPixels>'+t+"</GPano:CroppedAreaImageHeightPixels><GPano:CroppedAreaImageWidthPixels>"+e+"</GPano:CroppedAreaImageWidthPixels><GPano:CroppedAreaLeftPixels>0</GPano:CroppedAreaLeftPixels><GPano:CroppedAreaTopPixels>0</GPano:CroppedAreaTopPixels><GPano:FullPanoHeightPixels>"+t+"</GPano:FullPanoHeightPixels><GPano:FullPanoWidthPixels>"+e+"</GPano:FullPanoWidthPixels><GPano:ProjectionType>equirectangular</GPano:ProjectionType><GPano:UsePanoramaViewer>True</GPano:UsePanoramaViewer><GPano:InitialViewHeadingDegrees>"+n+"</GPano:InitialViewHeadingDegrees><GPano:InitialViewPitchDegrees>"+i+'</GPano:InitialViewPitchDegrees><GPano:CaptureSoftware>Matterport Camera</GPano:CaptureSoftware><GPano:StitchingSoftware>Matterport Cloud</GPano:StitchingSoftware></rdf:Description></rdf:RDF></x:xmpmeta><?xpacket end="w"?>'},87953:(e,t,n)=>{"use strict";n.d(t,{Z:()=>se});var i=n(32683),s=n(92558),r=n(16747),a=n(2482),o=n(83021);class l{constructor(e){this.afterAction=e,this.actions=[]}run(){for(const e of this.actions)e.run(),this.afterAction()}invert(){for(let e=this.actions.length-1;e>=0;e--){this.actions[e].invert(),this.afterAction()}}merge(e){if(0===this.actions.length)this.actions.push(e);else{const t=this.actions[this.actions.length-1];t&&t.merge(e)||this.actions.push(e)}return!0}}class c{constructor(e){this.afterAction=e,this.undoBuffer=new o.P(50),this.finalized=!1}push(e){(this.undoBuffer.isEmpty()||this.finalized)&&(this.undoBuffer.push(new l(this.afterAction)),this.finalized=!1);const t=this.undoBuffer.peek();t&&t.merge(e)}pop(){return this.undoBuffer.pop()}peek(){return this.undoBuffer.peek()}finalize(){this.finalized=!0}availableUndos(){return this.undoBuffer.count}clear(){this.undoBuffer.clear()}}var d=n(35895),u=n(97998),h=n(81396),p=n(15004),m=n(80978);class f{constructor(){this.data=new Map,this.addedObservers=new Set,this.updatedObservers=new Set,this.deletedObservers=new Set}clear(){this.data.clear()}get(e){return this.data.get(e)}set(e,t){this.data.set(e,t)}delete(e){this.data.delete(e)}has(e){return this.data.has(e)}get size(){return this.data.size}onChanged(e){return(0,d.k1)((()=>{e.onAdded&&this.addedObservers.add(e.onAdded),e.onUpdated&&this.updatedObservers.add(e.onUpdated),e.onRemoved&&this.deletedObservers.add(e.onRemoved)}),(()=>{e.onAdded&&this.addedObservers.delete(e.onAdded),e.onUpdated&&this.updatedObservers.delete(e.onUpdated),e.onRemoved&&this.deletedObservers.delete(e.onRemoved)}),!0)}}var g=n(43517),v=n(82582),b=n.n(v);class y{constructor(e,t){this.data=e,this.inputs=t,this._outputCache=null}onRun(e){throw new Error("Method not implemented.")}onInvert(e,t){throw new Error("Method not implemented.")}run(){this._outputCache=this.onRun(this.inputs)}invert(){if(!this._outputCache)throw new Error("Attempted to inverse a data action before running it");this.onInvert(this._outputCache,this.inputs),this._outputCache=null}merge(e){return!1}get output(){if(this._outputCache)return this._outputCache;throw new Error("Tried to read output of an action before it was run")}}class E extends y{onRun(e){const t=this.data.getNode(e.nodeId),n={x:t.x,z:t.z};return this.data._updateNode(e.nodeId,e.newPos),this.data._updateDependentsForNodes(t),{prevPos:n}}onInvert(e,t){this.data._updateNode(t.nodeId,e.prevPos);const n=this.data.getNode(t.nodeId);this.data._updateDependentsForNodes(n)}merge(e){return e instanceof E&&e.inputs.nodeId===this.inputs.nodeId&&(this.inputs.newPos=e.inputs.newPos,!0)}}class S extends y{onRun(e){const t=this.data._createNode(e.from,e.floorId),n=this.data._createNode(e.to,e.floorId),i=this.data._createWall(e.type,t,n,e.width,[],.5);return{fromId:t.id,toId:n.id,wall:i.id}}onInvert(e,t){this.data._deleteWall(e.wall),this.data._deleteNode(e.fromId),this.data._deleteNode(e.toId)}merge(e){return!!(e instanceof E&&this._outputCache&&e.inputs.nodeId===this._outputCache.toId)&&(this.inputs.to=e.inputs.newPos,!0)}}class O extends y{onRun(e){const t=this.data.getWall(e.wallId),n=t.from.getPoint(),i=t.to.getPoint();return this.data._updateNode(t.from.id,e.newFromPos),this.data._updateNode(t.to.id,e.newToPos),this.data._updateDependentsForNodes(t.from,t.to),{prevFromPos:n,prevToPos:i}}onInvert(e,t){const n=this.data.getWall(t.wallId);this.data._updateNode(n.from.id,e.prevFromPos),this.data._updateNode(n.to.id,e.prevToPos),this.data._updateDependentsForNodes(n.from,n.to)}merge(e){return e instanceof O&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.newFromPos=e.inputs.newFromPos,this.inputs.newToPos=e.inputs.newToPos,!0)}}class T extends y{onRun(e){const t=this.data.getNode(e.fromId),n=this.data._createNode(e.to,t.floorId),i=this.data._createWall(e.type,t,n,e.width,[],.5);return{toId:n.id,wall:i.id}}onInvert(e,t){this.data._deleteWall(e.wall),this.data._deleteNode(e.toId)}merge(e){return!!(e instanceof E&&this._outputCache&&e.inputs.nodeId===this._outputCache.toId)&&(this.inputs.to=e.inputs.newPos,!0)}}var _=n(58353),w=n(18810);function N(e,t,n){if(0===e.openings.length)return;const i=new h.Line3(e.from.getVec3(),e.to.getVec3()),s=t.map((e=>({wall:e,line:new h.Line3(e.from.getVec3(),e.to.getVec3())}))),r=(e,t)=>{const n=e.closestPointToPointParameter(t,!1);if(!(n<0||n>1))return n};for(const t of e.openings){const{type:e,width:a,relativePos:o,id:l}=t,c=i.at(o,new h.Vector3);for(const{wall:t,line:i}of s){const s=r(i,c);if(void 0!==s){n._createWallOpening(t,e,s,a,l);break}}}}function A(e,t){return I(e.openings,t.defaultLayerId),t._createWall(e.type,e.from,e.to,e.width,e.openings,e.bias,e.id)}function I(e,t){for(const n of e)n.layerId=t}function k(e,t,n,i){const s=t.getOtherNode(n);return s!==i&&!e.hasWallBetween(s,i)}function P(e,t){const n=[],i=[],s=[],r=[],a=new Set;for(const o of t){const t=[],{mergeId:l,keepId:c}=o;a.add(c);const d=e.getNode(l),u=e.getNode(c),h=u.getPoint();i.push(d),s.push(c),r.push(h),e._updateNode(u.id,d.getPoint());const p=e.getWallsForNode(d);for(const n of p){const i=n.clone(),s=n.getOtherNode(d),r=n.width;e._deleteWall(n.id);let a=null;k(e,n,d,u)&&(e.hasWallBetween(s,u)||(a=e._createWall(n.type,s,u,r,[],n.bias),N(i,[a],e))),t.push({deleted:i,created:a})}e._deleteNode(d.id),n.push(t)}return{deletedNodes:i,wallDiffs:n,oldKeepNodeIds:s,oldKeepNodePositions:r,updateNodeDependencies:a}}function L(e,t){const n=[];for(let i=t.deletedNodes.length-1;i>=0;i--){const s=t.deletedNodes[i],r=t.wallDiffs[i],a=e._createNode(s.getPoint(),s.floorId,s.id);n.push(a.id);for(const t of r){t.created&&e._deleteWall(t.created.id);let n=a,i=t.deleted.getOtherNode(s);if(a.id!==t.deleted.from.id){const e=n;n=i,i=e}I(t.deleted.openings,e.defaultLayerId),e._createWall(t.deleted.type,n,i,t.deleted.width,t.deleted.openings,t.deleted.bias,t.deleted.id)}e._updateNode(t.oldKeepNodeIds[i],t.oldKeepNodePositions[i])}return t.oldKeepNodeIds}class R extends y{run(){super.run(),this.computeRooms(),this._outputCache&&this._outputCache.updateNodeDependencies.length&&this.data._updateDependentsForNodes(...this._outputCache.updateNodeDependencies.map((e=>this.data.getNode(e))))}onInvert(e,t){throw new Error("Method not implemented.")}invert(){let e;if(!this._outputCache)throw new Error("Attempted to inverse a data action before running it");e=this.onInvert(this._outputCache,this.inputs),this._outputCache=null;for(const e of this.modificationRecord.createdRooms)this.data._deleteRoom(e.id);const t=e=>({points:e.points.map((e=>this.data.getNode(e.id))),walls:new Set(Array.from(e.walls.values()).map((e=>this.data.getWall(e.id)))),holesCW:e.holesCW.map((e=>e.map((e=>this.data.getNode(e.id))))),holes:e.holes.map((e=>new Set(Array.from(e.values()).map((e=>this.data.getWall(e.id))))))});for(const e of this.modificationRecord.updatedRooms){const{points:n,walls:s,holesCW:r,holes:a}=t(e),o=new i.JJ({id:e.id,layerId:e.layerId,name:e.name,points:n,walls:s,holesCW:r,holes:a,location:e.location,includeInAreaCalc:e.includeInAreaCalc,hide:e.hide,keywords:e.keywords.slice(),classifications:e.classifications.slice()});this.data._updateRoom(e.id,o)}for(const e of this.modificationRecord.deletedRooms){const{points:n,walls:i,holesCW:s,holes:r}=t(e);this.data._createRoom({id:e.id,layerId:this.data.defaultLayerId,name:"",points:n,walls:i,holesCW:s,holes:r,location:e.location,includeInAreaCalc:e.includeInAreaCalc,hide:e.hide,keywords:e.keywords.slice(),classifications:e.classifications.slice()})}if(e){const t=e.map((e=>this.data.getNode(e)));this.data._updateDependentsForNodes(...t)}}wallsForLoop(e){const t=new Set;for(let n=0;n<e.length;n++)t.add(this.data.getWallForNodes(e[n].id,e[(n+1)%e.length].id));return t}computeRooms(){var e;this.modificationRecord={createdRooms:[],updatedRooms:[],deletedRooms:[]};const{regions:t,holes:n}=this.findEnclosedRegionsAndHoles(),r=this.mapHolesToRegions(n,t),a=r.map((e=>e.map((e=>this.wallsForLoop(e))))),o=t.map((e=>new Set(this.wallsForLoop(e)))),l=new Array;for(const e of this.data.rooms.values())for(let t=0;t<o.length;t++){const n=o[t],i=Array.from(e.walls.values()).reduce(((e,t)=>n.has(t)?e+1:e),0);i>0&&l.push({score:i/e.walls.size,newWalls:n.size-i,oldRoomId:e.id,oldRoomClassifications:e.classifications,newRoomIndex:t})}const c=new Set,d=new Array(t.length),u=new Array(t.length);l.sort(((e,t)=>{var n,i;return t.score-e.score||((null===(n=this.data.rooms.get(t.oldRoomId))||void 0===n?void 0:n.area)||0)-((null===(i=this.data.rooms.get(e.oldRoomId))||void 0===i?void 0:i.area)||0)}));for(const{oldRoomId:e,newRoomIndex:t,oldRoomClassifications:n,newWalls:i}of l)c.has(e)||d[t]||(d[t]=e,c.add(e)),!u[t]&&i<=2&&(u[t]=n);for(let e=0;e<t.length;e++)d[e]||(d[e]=(0,s._r)());for(let n=0;n<t.length;n++){const s=d[n],o=t[n],l=new Set;for(let e=0;e<o.length;e++){const t=o[e],n=o[(e+1)%o.length],i=this.data.getWallForNodes(t.id,n.id);l.add(i)}const c=this.data.rooms.get(s);if(c){const e=new i.JJ({id:s,layerId:c.layerId,name:"",points:t[n],walls:l,holesCW:r[n],holes:a[n],location:c.location,includeInAreaCalc:c.includeInAreaCalc,hide:c.hide,keywords:c.keywords.slice(),classifications:c.classifications.slice()});(0,_.nb)(c.walls,e.walls)&&(0,_.nb)((0,_.dW)(...c.holes),(0,_.dW)(...e.holes))||(this.data._updateRoom(s,e),this.modificationRecord.updatedRooms.push(c))}else{const o=null!==(e=u[n])&&void 0!==e?e:[],c=(0,i.Rd)(o,i.GS.OUTDOOR)?i.Lh.OUTDOOR:i.Lh.INDOOR,d=!(0,i.Rd)(o,i.GS.NON_AREA),h=(0,i.Rd)(o,i.GS.HIDE),p=this.data._createRoom({id:s,layerId:this.data.defaultLayerId,name:"",points:t[n],walls:l,holesCW:r[n],holes:a[n],classifications:o.slice(),location:c,includeInAreaCalc:d,hide:h,keywords:[]});this.modificationRecord.createdRooms.push(p)}}const h=new Set(d);for(const e of this.data.rooms.values())h.has(e.id)||(this.data._deleteRoom(e.id),this.modificationRecord.deletedRooms.push(e))}findEnclosedRegionsAndHoles(){const e=new Array,t=new Array,n=new Set,i=new Set,s=(s,r)=>{const a=`${s.id}/${r.id}`,o=this.data.traceWallsFromTo(s,r),l=e=>{if(e.has(a))return!0;for(let t=0;t<o.length;t++){const n=o[t],i=o[(t+1)%o.length],s=`${n.id}/${i.id}`;e.add(s)}return!1},c=(0,p.SV)(o,!0);c>=.01?l(n)||e.push((0,p.xS)(o)):c<=-.01&&(l(i)||t.push((0,p.xS)(o).reverse()))};for(const e of this.data.walls.values())s(e.from,e.to),s(e.to,e.from);return{regions:e,holes:t}}mapHolesToRegions(e,t){const n=t.map((e=>[])),i=t.map((e=>(0,p.SV)(e))),s=t.map((e=>e.map((e=>[e.x,e.z]))));for(const r of e){const e=(0,p.SV)(r);let a=9999999,o=-1;const l=r.map((e=>[e.x,e.z]));for(let n=0;n<t.length;n++){const c=i[n];e>=c||r[0].floorId!==t[n][0].floorId||(0,w.D)(l,s[n])&&c<a&&(a=c,o=n)}o>=0&&n[o].push(r)}return n}}class C extends R{onRun(e){return this.mergeNodes()}onInvert(e,t){for(const t of e.deletedNodes)this.data._createNode(t.getPoint(),t.floorId,t.id);return L(this.data,e.mergedNodes),[]}mergeNodes(){const e=[],t=new h.Vector2,n=new h.Vector2,i=Array.from(this.data.nodes.values()),s=[];for(let r=0;r<i.length;r++){const a=i[r];if(a.getVec2(t),0!==this.data.getEdgeCountForNode(a))for(let e=r+1;e<i.length;e++){const r=i[e];if(a.floorId===r.floorId&&(r.getVec2(n),n.distanceToSquared(t)<.001)){s.push({keepId:r.id,mergeId:a.id});break}}else this.data._deleteNode(a.id),e.push(a)}return{mergedNodes:P(this.data,s),deletedNodes:e,mergePairs:s,updateNodeDependencies:[]}}}class D extends R{onRun(e){const t=this.data.getWall(e.wallId).clone(),n=this.data.getEdgeCountForNode(t.from),i=this.data.getEdgeCountForNode(t.to);this.data._deleteWall(e.wallId);let s="none";1===n&&1===i?(s="both",this.data._deleteNode(t.from.id),this.data._deleteNode(t.to.id)):1===n?(s="from",this.data._deleteNode(t.from.id)):1===i?(s="to",this.data._deleteNode(t.to.id)):s="none";const r=[];switch(s){case"from":r.push(t.to.id);break;case"to":r.push(t.from.id);break;case"none":r.push(t.from.id,t.to.id)}return{deletedWall:t,deletedNodes:s,updateNodeDependencies:r}}onInvert(e,t){const n=e.deletedWall;let i,s;switch(I(n.openings,this.data.defaultLayerId),e.deletedNodes){case"both":i=this.data._createNode({x:n.from.x,z:n.from.z},n.floorId,n.from.id),s=this.data._createNode({x:n.to.x,z:n.to.z},n.floorId,n.to.id),this.data._createWall(n.type,i,s,n.width,n.openings,n.bias,n.id);break;case"none":this.data._createWall(n.type,n.from,n.to,n.width,n.openings,n.bias,n.id);break;case"from":i=this.data._createNode({x:n.from.x,z:n.from.z},n.floorId,n.from.id),this.data._createWall(n.type,i,n.to,n.width,n.openings,n.bias,n.id);break;case"to":s=this.data._createNode({x:n.to.x,z:n.to.z},n.floorId,n.to.id),this.data._createWall(n.type,n.from,s,n.width,n.openings,n.bias,n.id);break;default:throw new Error(`${e.deletedNodes} is an invalid value`)}switch(e.deletedNodes){case"from":return[n.to.id];case"to":return[n.from.id];case"none":return[n.from.id,n.to.id];case"both":return[]}}}class M extends R{onRun(e){const t=this.data.getWall(e.fromWallId).clone(),n=t.getDirection().normalize().multiplyScalar(e.along),i=t.from.getVec3().add(n);this.data._deleteWall(e.fromWallId);const s=this.data._createNode({x:i.x,z:i.z},t.floorId),r=this.data._createNode(e.to,t.floorId),a=this.data._createWall(e.type,s,r,e.width,[],.5),o=this.data._createWall(t.type,t.from,s,t.width,[],t.bias),l=this.data._createWall(t.type,s,t.to,t.width,[],t.bias);return N(t,[o,l],this.data),{deletedWall:t,newTrailingWall:a,newLeftWall:o,newRightWall:l,newNodeToId:r.id,updateNodeDependencies:[]}}onInvert(e,t){const{deletedWall:n,newTrailingWall:i,newLeftWall:s,newRightWall:r}=e;return this.data._deleteWall(i.id),this.data._deleteWall(s.id),this.data._deleteWall(r.id),this.data._deleteNode(i.from.id),this.data._deleteNode(i.to.id),A(n,this.data),[]}merge(e){return!!(e instanceof E&&this._outputCache&&e.inputs.nodeId===this._outputCache.newTrailingWall.to.id)&&(this.inputs.to=e.inputs.newPos,!0)}}class x extends y{onRun({wallId:e,props:t}){const n=this.data.getWall(e),i=n.width,s=n.bias;return this.data._setEdgeProps(e,t),{wallId:e,props:{width:i,bias:s}}}onInvert({wallId:e,props:t},n){this.data._setEdgeProps(e,t)}merge(e){return e instanceof x&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.props.width=e.inputs.props.width,this.inputs.props.bias=e.inputs.props.bias,!0)}}class j extends R{onRun(e){const t=this.data.getWall(e.wallId),n=[],i=[],s=[],r={originalFromPos:t.from.getPoint(),originalToPos:t.to.getPoint(),deletedWalls:i,createdWalls:n,originalWallId:e.wallId,createdNodes:s,updateNodeDependencies:[]};return e.fromNode&&this.createJoint(t.from,t,i,n,s),e.toNode&&this.createJoint(t.to,t,i,n,s),r}onInvert(e,t){for(const t of e.createdWalls)this.data._deleteWall(t.id);for(const t of e.deletedWalls)A(t,this.data);for(const t of e.createdNodes)this.data._deleteNode(t.id);const n=this.data.getWall(this.inputs.wallId);return this.data._updateNode(n.from.id,e.originalFromPos),this.data._updateNode(n.to.id,e.originalToPos),[n.from.id,n.to.id]}merge(e){return e instanceof O&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.fromPos=e.inputs.newFromPos,this.inputs.toPos=e.inputs.newToPos,!0)}createJoint(e,t,n,i,s){const r=this.data._createNode({x:e.x,z:e.z},e.floorId),a=this.data.getWallsForNode(e);for(const s of a){const a=s.clone();if(a.id!==t.id){const t=a.getOtherNode(e);n.push(a),this.data._deleteWall(a.id);const s=a.from===t?this.data._createWall(a.type,t,r,a.width,[],a.bias):this.data._createWall(a.type,r,t,a.width,[],a.bias);N(a,[s],this.data),i.push(s)}}s.push(r);const o=t.from===e?this.data._createWall(t.type,r,t.from,t.width,[],t.bias):this.data._createWall(t.type,t.to,r,t.width,[],t.bias);i.push(o)}}class U extends R{onRun(e){const t=this.data.getNode(e.nodeId),n=Array.from(this.data.getWallsForNode(t).values());if(2!==n.length)throw new Error("Can only delete nodes with two edges on it");const i=n[0].clone(),s=i.getOtherNode(t),r=n[1].clone(),a=r.getOtherNode(t);this.data._deleteWall(i.id),this.data._deleteWall(r.id),this.data._deleteNode(t.id);const o=this.data.newWallWouldIntersect({n0:s,n1:a})?null:this.data._createWall(i.type,s,a,(i.width+r.width)/2,[],(i.bias+r.bias)/2);return o&&(N(i,[o],this.data),N(r,[o],this.data)),{deletedNode:t,deletedWall1:i,deletedWall2:r,createdWall:o,updateNodeDependencies:[]}}onInvert(e,t){const{createdWall:n,deletedNode:i,deletedWall1:s,deletedWall2:r}=e;n&&this.data._deleteWall(n.id),this.data._createNode(i.getPoint(),i.floorId,i.id);for(const e of[s,r])A(e,this.data);return[]}}class F extends R{onRun(e){const t=this.data.getNode(e.fromId),n=this.data.getNode(e.toId);return{wall:this.data._createWall(e.type,t,n,e.width,[],.5).id,updateNodeDependencies:[]}}onInvert(e,t){return this.data._deleteWall(e.wall),[]}}class H extends y{onRun(e){const{id:t}=e,n=this.data.getOpening(t),{type:i,relativePos:s,width:r}=n;return this.data._setOpeningDetails(t,e),{id:t,type:i,relativePos:s,width:r}}onInvert(e,t){const{id:n}=e;this.data._setOpeningDetails(n,e)}}class V extends y{onRun(e){const{openingId:t}=e,n=this.data.getOpening(t);return this.data._deleteWallOpening(t),{deletedOpening:n}}onInvert(e,t){const{id:n,wallId:i,type:s,relativePos:r,width:a}=e.deletedOpening,o=this.data.getWall(i);this.data._createWallOpening(o,s,r,a,n)}}class B extends y{onRun(e){const{wallId:t,type:n,relativePos:i,width:s}=e,r=this.data.getWall(t);return{openingId:this.data._createWallOpening(r,n,i,s).id}}onInvert(e,t){const{openingId:n}=e;this.data._deleteWallOpening(n)}}function G(e,t){const n=[],i=new Set;for(const s of t){const t=e.getNode(s),a=e.getAttachedEntities(t),o=e.findNodeOrWallForPosition(t.getVec3(),t.floorId,a);if(o&&o instanceof r.c){const r=o.getProjection(t.getVec3()),a=o.clone(),l={x:t.x,z:t.z},c=a.getDirection().normalize().multiplyScalar(r),d=a.from.getVec3().add(c);e._deleteWall(a.id),e._updateNode(s,{x:d.x,z:d.z});const u=e.hasWallBetween(a.from,t)?null:e._createWall(a.type,a.from,t,a.width,[],a.bias),h=e.hasWallBetween(t,a.to)?null:e._createWall(a.type,t,a.to,a.width,[],a.bias);N(a,[u,h].filter((e=>!!e)),e),n.push({deletedWall:a,newLeftWall:u,newRightWall:h,prevNodePos:l,nodeId:t.id}),i.add(t.id)}}return{splitDiffs:n,updateNodeDependencies:i}}function W(e,t){for(let n=t.splitDiffs.length-1;n>=0;n--){const{newLeftWall:i,newRightWall:s,deletedWall:r,prevNodePos:a,nodeId:o}=t.splitDiffs[n];i&&e._deleteWall(i.id),s&&e._deleteWall(s.id),e._updateNode(o,a),A(r,e)}return t.splitDiffs.map((e=>e.nodeId))}function z(e,t){const n=[],i=function(e){const t=[];for(const n of e){if(2!==n.length)throw new Error("Can only merge co-linear overlaps");if(0===t.length){t.push(n);continue}const e=t[t.length-1],i=e[1];if(n[0].t<i.t+.001){const s=n[1];s.t>=i.t&&(t[t.length-1]=[e[0],s])}else t.push(n)}return t}(t);if(i[0][0].t>0){const t=i[0][0].entity;n.push([e.from,t])}for(let e=0;e<i.length-1;e++){const t=i[e],s=i[e+1],r=t[1].entity,a=s[0].entity;n.push([r,a])}if(i[i.length-1][1].t<1){const t=i[i.length-1][1].entity;n.push([t,e.to])}return n}class K extends R{onRun(e){const t={nodeOverlaps:e.nodeOverlaps,nodeWallOverlaps:e.nodeWallOverlaps},n=function(e,t,n){const i=[],s=new Set;let r=t,a=0;for(;(r.nodeOverlaps.length>0||r.nodeWallOverlaps.length>0)&&a<10;){const t=P(e,r.nodeOverlaps);for(const e of t.updateNodeDependencies)s.add(e);const o=G(e,r.nodeWallOverlaps);for(const e of o.updateNodeDependencies)s.add(e);i.push({nodeMergeInvertInfo:t,nodeWallInvertInfo:o}),r=e.findOverlappingNodePairs(n),a++}for(const e of i){const t=e.nodeMergeInvertInfo.deletedNodes;for(const e of t)s.delete(e.id)}return{nodeMergeBatches:i,updateNodeDependencies:Array.from(s)}}(this.data,t,e.movedEntity);let i=[];e.collinearWall&&(i=function(e,t){const n=[];let i=e.findWallWithWorstOverlaps(t,"colinear"),s=0;for(;null!=i&&s<10;){const r=i.wall;e._deleteWall(r.id);const a=z(i.wall,i.overlaps).map((t=>e._createWall(r.type,t[0],t[1],r.width,[],r.bias)));n.push({deletedWall:r,createdWalls:a}),i=e.findWallWithWorstOverlaps(t,"colinear"),s++}return n}(this.data,e.collinearWall.floorId));let s=[];return e.intersectingWall&&(s=function(e,t){const n=[];let i=e.findWallWithWorstOverlaps(t,"intersection"),s=0;for(;null!=i&&s<10;){const r=[],a=[],o=[];r.push(i.wall),e._deleteWall(i.wall.id);for(const t of i.overlaps){if(1!==t.length)throw new Error("possible bug in RoomBoundData.findWallWithWorstOverlaps, it should only return walls intersecting at ONE point");const n=t[0];r.push(n.entity),e._deleteWall(n.entity.id)}if(null!=i){let s=i.wall.from;const l=i.wall.getDirection();for(const n of i.overlaps){const r=i.wall.from.getVec3().addScaledVector(l,n[0].t),c=n[0].entity,d=e._createNode(r,t);a.push(d);const u=e._createWall(i.wall.type,s,d,i.wall.width,[],i.wall.bias);s=d,o.push(u);const h=e._createWall(c.type,c.from,d,c.width,[],c.bias);o.push(h);const p=e._createWall(c.type,c.to,d,c.width,[],c.bias);o.push(p)}const c=e._createWall(i.wall.type,s,i.wall.to,i.wall.width,[],i.wall.bias);o.push(c),n.push({createdWalls:o,createdNodes:a,deletedWalls:r})}i=e.findWallWithWorstOverlaps(t,"intersection"),s++}return n}(this.data,e.intersectingWall.floorId)),{nodeOverlapInvertInfo:n,intersectionSplitInvertInfo:s,collinearOverlapInvertInfo:i,updateNodeDependencies:n.updateNodeDependencies}}onInvert(e,t){!function(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n];for(const t of i.createdWalls)e._deleteWall(t.id);for(const t of i.createdNodes)e._deleteNode(t.id);for(const t of i.deletedWalls)A(t,e)}}(this.data,e.intersectionSplitInvertInfo),function(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n],s=i.deletedWall;i.createdWalls.forEach((t=>e._deleteWall(t.id))),A(s,e)}}(this.data,e.collinearOverlapInvertInfo);return function(e,t){const n=[];for(let i=t.nodeMergeBatches.length-1;i>=0;i--){const{nodeMergeInvertInfo:s,nodeWallInvertInfo:r}=t.nodeMergeBatches[i],a=W(e,r),o=L(e,s);n.push(...a,...o)}return n}(this.data,e.nodeOverlapInvertInfo)}}function Y(e,t){let n,i,s=t[t.length-1],r=0;for(let a=0;a<t.length;++a)n=s,s=t[a],n.y<=e.y&&s.y<=e.y||n.y>e.y&&s.y>e.y||n.x<e.x&&s.x<e.x||(i=(e.y-n.y)*(s.x-n.x)-(e.x-n.x)*(s.y-n.y),s.y<n.y&&(i=-i),r+=i>0?1:0);return r%2==1}var q=n(5823),$=n(75668);class Z extends y{onRun({roomId:e,name:t,roomTypeIds:n,location:i,includeInAreaCalc:s,hide:r,keywords:a}){const o=this.data.getRoom(e),l={roomId:e,name:o.name,roomTypeIds:o.roomTypeIds.slice(),includeInAreaCalc:o.includeInAreaCalc,hide:o.hide,keywords:o.keywords.slice()};return this.data._updateRoomDetails(e,{name:t,roomTypeIds:n,location:i,includeInAreaCalc:s,hide:r,keywords:a}),l}onInvert({roomId:e,name:t,roomTypeIds:n,location:i,includeInAreaCalc:s,hide:r},a){this.data._updateRoomDetails(e,{name:t,roomTypeIds:n,location:i,includeInAreaCalc:s,hide:r})}}var Q=n(63422),X=n(69505),J=n(84784),ee=n(61011),te=n(65241);const ne=new Set;var ie;!function(e){e[e.CREATE=0]="CREATE",e[e.UPDATE=1]="UPDATE",e[e.DELETE=2]="DELETE"}(ie||(ie={}));class se{constructor(e,t={},n=(()=>{})){this.roomClassifications=t,this.broadcast=n,this.name="wall-graph",this.version=0,this.legacyRoomIds=[],this.defaultLayerId=Q.gi,this._nodes=new f,this._walls=new f,this._rooms=new f,this._wallOpenings=new f,this.undoBuffer=new c(this.commit.bind(this)),this._nodeToWallMap=new Map,this._nodesByFloor=new Map,this._wallToRoomMap=new Map,this._wallsByFloor=new Map,this._wallsByCompositeKey=new Map,this._observerQueue=[],this._deleteSet=new Set,this._anythingChangeObservers=new Set,this._afterFinalizeObservers=new Set,this.logger=new u.Z("wall-graph"),this.isLoading=!1,this.spatialIndex=new Map,this.getRelativeAngle=(()=>{const e=new h.Vector2,t=new h.Vector2,n=new h.Vector2,i=(t,n)=>{if(0===t.lengthSq()){const i=this.getNodeNeighbors(n);if(0===i.size)return;const s=Array.from(i.values())[0];t.set(s.x,s.z).sub(e)}};return(s,r,a)=>{if(r===a)return 2*Math.PI;e.set(s.x,s.z),t.set(r.x,r.z).sub(e),i(t,r),n.set(a.x,a.z).sub(e),i(n,a);const o=Math.atan2(t.y,t.x);let l=-(Math.atan2(n.y,n.x)-o);return l<0&&(l+=2*Math.PI),l}})(),this.newWallWouldIntersect=(()=>{const e=new h.Vector2,t=new h.Vector2,n=new h.Vector2,i=new h.Vector2,s=new h.Vector2,r=new h.Vector2,a=new h.Vector2,o=new h.Vector2;return({n0:l,n1:c,n0OverridePos:d,n1OverridePos:u,wallToIgnore:h})=>{if(this.hasWallBetween(l,c)){if(!h)return!0;if(this.getWallForNodes(l.id,c.id)!==h)return!0}const m=e=>Math.round(1e3*e)/1e3,f=(e,t)=>{e===l&&d?t.copy(d):e===c&&u?t.copy(u):e.getVec2(t)};if(f(l,e),f(c,t),n.subVectors(e,t).length()<1e-4)return!1;const g=[[m(e.x),m(e.y)],[m(t.x),m(t.y)]],v=[[0,0],[0,0]];for(const e of this._walls.data.values()){if(l.floorId!==e.floorId||e===h)continue;if(f(e.from,i),f(e.to,s),n.subVectors(i,s).length()<1e-4)continue;if(v[0][0]=m(i.x),v[0][1]=m(i.y),v[1][0]=m(s.x),v[1][1]=m(s.y),(0,p.OH)(g,v))return!0;const t=e.to===l||e.from===l?l:e.to===c||e.from===c?c:void 0;if(t){const n=e.getOtherNode(t),i=t===l?c:l;f(t,r),f(n,a),f(i,o),a.sub(r),o.sub(r);const s=Math.atan2(a.y,a.x);let d=-(Math.atan2(o.y,o.x)-s);d<0&&(d+=2*Math.PI);const u=d,h=2*Math.PI/180;if(u<h||u>2*Math.PI-h)return!0}}return!1}})(),this._updateDependentsForNodes=(()=>{const e=new Set,t=new Set;return(...n)=>{e.clear(),t.clear();const i=n=>{if(!e.has(n)){this.removeFromSpatialIndex(n),this.insertIntoSpatialIndex(n),this._scheduleUpdate(this._walls,n);const i=this._wallToRoomMap.get(n);if(i)for(const e of i.values())t.has(e)||(this._scheduleUpdate(this._rooms,e),this.calculateRoomInsights(e),t.add(e));for(const e of n.openings)this._scheduleUpdate(this._wallOpenings,e);e.add(n)}};for(const e of n){const t=this._nodeToWallMap.get(e);if(null!=t)for(const n of t){i(n);const t=n.getOtherNode(e),s=this._nodeToWallMap.get(t);if(null!=s)for(const e of s)i(e)}}}})(),e&&(this.version=e.version,this.load(e))}load(e){var t,n;this.isLoading=!0;for(const e of Array.from(this.rooms.values()))this._deleteRoom(e.id);for(const e of Array.from(this.walls.values()))this._deleteWall(e.id);for(const e of Array.from(this.nodes.values()))this._deleteNode(e.id);for(const[e,t]of this.spatialIndex)t.clear();this.commit();for(const s in e.floors){const a=e.floors[s],o=a.vertices,l=new(b());this.spatialIndex.set(s,l);const c=[];for(const e in o){const t=o[e],n=this._createNode({x:t.x,z:-t.y},s,e,t.layerId);n.updateRBushBBox(),c.push(n)}l.load(c);const d=[];for(const e in a.edges){const i=a.edges[e],[s,o]=null!==(t=i.vertices)&&void 0!==t?t:e.split(":"),l=i.thickness,c=this.getNode(s),u=this.getNode(o),h=i.type===q.Pb.INVISIBLE,p=this._createWall(h?r.d.DIVIDER:r.d.SOLID,c,u,h?$.kM:l,[],null!==(n=i.bias)&&void 0!==n?n:.5,e,i.layerId);if(p.bias=1-p.bias,p.updateRBushBBox(),d.push(p),!h)for(const e in i.openings){const{relativePos:t,type:n,width:s,layerId:r}=i.openings[e];this._createWallOpening(p,n,t,s,e,r)}}if(l.load(d),a.rooms)for(const e in a.rooms){const t=a.rooms[e],n=t.edges||[],s=t.holes||[];if(!n.length&&t.vertices)for(let e=0;e<t.vertices.length;e++){const i=t.vertices[e],s=t.vertices[(e+1)%t.vertices.length];n.push(this.getWallForNodes(i,s).id)}if(0===n.length){this.legacyRoomIds.push(e),this.logger.info("Skipping room with zero vertices",e);continue}const r=this.getWall(n[0]),o=new Set(n.map((e=>this.getWall(e)))),l=this.traceWallsFromTo(r.from,r.to,o),c=this.traceWallsFromTo(r.to,r.from,o),d=l.length>c.length?l:c;if(0===d.length){this.logger.warn("No node loop found for room: ",e);continue}(0,p.xS)(d);const u=new Set;for(const e of o)u.add(e.from),u.add(e.to);(0,_.nb)(new Set(d),u)||this.logger.warn("Traced room does not match edge list!",e,d,u);const h=[],m=[];for(const e of s){const t=new Set(e.map((e=>this.getWall(e))));m.push(t);const n=this.getWall(e[0]),i=this.traceWallsFromTo(n.from,n.to,t);(0,p.xS)(i).reverse(),h.push(i)}const{location:f,includeInAreaCalc:g,hide:v,keywords:b}=(0,i.Ci)(t.keywords||[]),y=this._createRoom({id:e,layerId:t.layerId,name:t.label||"",points:d,walls:o,holesCW:h,holes:m,classifications:this.translateClassificationLabels(t.classifications),location:f,includeInAreaCalc:g,hide:v,keywords:b});t.width&&!Number.isNaN(t.width)&&Math.abs(t.width-y.width)>.001&&this.logger.warn(`Room ${e} has width of ${t.width} on MDS but calculated as ${y.width} locally`),t.length&&!Number.isNaN(t.length)&&Math.abs(t.length-y.length)>.001&&this.logger.warn(`Room ${e} has length of ${t.length} on MDS but calculated as ${y.length} locally`),t.area&&!Number.isNaN(t.area)&&Math.abs(t.area-y.area)>=.01&&this.logger.warn(`Room ${e} has area of ${t.area} on MDS but calculated as ${y.area} locally`)}}this.lastSolidWallWidth=void 0,this.isLoading=!1}get walls(){return this._walls.data}get nodes(){return this._nodes.data}get rooms(){return this._rooms.data}get wallOpenings(){return this._wallOpenings.data}getNode(e){const t=this._nodes.get(e);if(t)return t;this.logAndThrow(new Error("WallNode does not exist in WallGraphData"))}getWall(e){const t=this._walls.get(e);if(t)return t;this.logAndThrow(new Error("Wall does not exist in WallGraphData"))}hasRoom(e){return!!this._rooms.get(e)}hasRooms(){return this._rooms.size>0}getRoom(e){const t=this._rooms.get(e);return t||this.logAndThrow(new Error("Room id is invalid!")),t}getOpening(e){const t=this._wallOpenings.get(e);return t||this.logAndThrow(new Error("Opening id is invalid")),t}getEntity(e){const t=this._walls.get(e)||this._nodes.get(e)||this._rooms.get(e)||this._wallOpenings.get(e);return t||this.logAndThrow(new Error("No entity for id.")),t}tryGetEntity(e){return this._walls.get(e)||this._nodes.get(e)||this._rooms.get(e)||this._wallOpenings.get(e)||null}getEdgeCountForNode(e){var t;return(null===(t=this._nodeToWallMap.get(e))||void 0===t?void 0:t.size)||0}getWallsForNode(e){const t=this._nodeToWallMap.get(e);if(t&&t.size>0)return t;this.logAndThrow(new Error("WallNode has no associate walls, this should not happen unless inside an action"))}getWallsForFloor(e){const t=this._wallsByFloor.get(e);return t&&t.size>0?t:null}getNodesByFloor(e){const t=this._nodesByFloor.get(e),n=new Set;return t||(this._nodesByFloor.set(e,n),n)}getWallNeighbors(e,t){const n=e[t],i=this.getEdgeCountForNode(n);if(1===i)return null;if(2!==i){const i=(()=>{const e=new h.Vector2;return(t,n)=>{const i=n.getOtherNode(t);e.set(i.x-t.x,i.z-t.z).normalize();return e.angle()}})(),s=this._nodeToWallMap.get(n);if(!s||0===s.size)return null;const r=Array.from(s).sort(((e,t)=>i(n,e)-i(n,t))),a=r.indexOf(e);let o=(a+1)%r.length,l=a-1<0?r.length-1:a-1;if("from"===t){const e=l;l=o,o=e}return{left:r[o],right:r[l]}}{const t=this._nodeToWallMap.get(n);if(!t||0===t.size)return null;for(const n of t)if(n.id!==e.id)return{left:n,right:n}}this.logAndThrow(new Error("Not finding both neighbors should never happen"))}getLastWallWidth(e){return e===r.d.SOLID&&this.lastSolidWallWidth?this.lastSolidWallWidth:this.getMostCommonWallWidth(e)}getMostCommonWallWidth(e){if(e===r.d.DIVIDER)return $.kM;const t={};for(const e of this._walls.data.values()){const n=e.width.toFixed(2);t[n]=t[n]?t[n]+1:1}let n=$.Oz,i=0;for(const[e,s]of Object.entries(t))s>i&&Number(e)>$.kM&&(i=s,n=Number(e));return n}findRoomIdForPosition(e,t,n){const i={x:e.x,y:e.z},s=this._rooms.get(n||"");if(s&&n){if(Y(i,s.points.map((e=>({x:e.x,y:e.z})))))return n}for(const e of this._rooms.data.values()){if(e.floorId!==t)continue;if(Y(i,e.points.map((e=>({x:e.x,y:e.z})))))return e.id}return null}findNodeOrWallForPosition(e,t,n,i=.1){const s=this.spatialIndex.get(t);if(s){const t=s.search({minX:e.x-i,minY:e.z-i,maxX:e.x+i,maxY:e.z+i});let o=null,l=null,c=Number.MAX_VALUE,d=Number.MAX_VALUE;for(const s of t){const t=s.overlapsCircle(e,i);null==t||n.has(s.id)||(s instanceof r.c&&t<c&&(o=s,c=t),s instanceof a.z&&t<d&&(l=s,d=t))}return l||o}return null}findNodeAndWallsOverlappingLine(e,t,n,i=(()=>!0)){const s=this.spatialIndex.get(n),r=.05,a=[];if(s){const n=s.search({minX:Math.min(e.x,t.x)-r,minY:Math.min(e.z,t.z)-r,maxX:Math.max(e.x,t.x)+r,maxY:Math.max(e.z,t.z)+r});for(const s of n)if(i(s)){const n=s.overlapsLine(e,t);n.length>0&&a.push(n)}}return a}findOverlappingNodePairs(e){const t=e.floorId,n=[],i=new Set,s=new Set,o=[],l=this.getNodesByFloor(t);for(const c of l){const l=this.getAttachedEntities(c),d=this.findNodeOrWallForPosition(c.getVec3(),t,l);if(d)if(d instanceof a.z){const t=[c.id,d.id].sort().join(":");if(!i.has(t)){let r=c.id,a=d.id;if(a===e.id){const e=a;a=r,r=e}s.has(a)||s.has(r)||(n.push({keepId:r,mergeId:a}),i.add(t),s.add(a))}}else d instanceof r.c&&(s.has(c.id)||o.push(c.id))}return{nodeOverlaps:n,nodeWallOverlaps:o}}findWallWithWorstOverlaps(e,t){let n=[],i=null;const s=this.getWallsForFloor(e),a="colinear"===t?2:1;if(s)for(const e of s){const s="intersection"===t?this.getAttachedEntities(e.from):ne,o="intersection"===t?this.getAttachedEntities(e.to):ne,l=this.findNodeAndWallsOverlappingLine(e.from.getVec3(),e.to.getVec3(),e.floorId,(t=>t instanceof r.c&&t.id!==e.id&&!s.has(t.id)&&!o.has(t.id))).filter((e=>e.length===a));l.length>0&&l.length>n.length&&(n=l,i=e)}return null!=i?{wall:i,overlaps:n.sort(((e,t)=>e[0].t-t[0].t))}:null}getSortedRoomClassifications(){return Object.values(this.roomClassifications).sort(((e,t)=>e.label.localeCompare(t.label)))}hasWallBetween(e,t){const n=r.c.getCompositeKey(e.id,t.id);return this._wallsByCompositeKey.has(n)}getWallForNodes(e,t){const n=r.c.getCompositeKey(e,t),i=this._wallsByCompositeKey.get(n);return i||this.logAndThrow(new Error("getWallForNodes: No wall exists for these nodes!")),i}canDeleteEntity(e){if(null!=e){const t=this.getEntity(e);if(t instanceof a.z){if(2!==this.getEdgeCountForNode(t))return!1;let e;for(const n of this.getWallsForNode(t).values()){if(void 0!==e&&n.type!==e)return!1;e=n.type}return!0}return t instanceof r.c||t instanceof m.E}return!1}undo(){const e=this.undoBuffer.pop();e&&(e.invert(),this.commit(),this._triggerFinalizeObservers())}availableUndos(){return this.undoBuffer.availableUndos()}clearUndoBuffer(){this.undoBuffer.clear()}resetHistory(){this.clearUndoBuffer(),this._observerQueue.length=0,this._deleteSet.clear()}finalizeHistory(){this.undoBuffer.finalize(),this._triggerFinalizeObservers()}triggerAction(e){try{e.run()}catch(e){return this.logger.error(e),this._observerQueue.length=0,void this._deleteSet.clear()}this.undoBuffer.push(e),this.commit()}onNodesChanged(e){return this._nodes.onChanged(e)}onWallsChanged(e){return this._walls.onChanged(e)}onRoomsChanged(e){return this._rooms.onChanged(e)}onOpeningsChanged(e){return this._wallOpenings.onChanged(e)}validateGraph(){this._recomputeRooms()&&(this.commit(),this.finalizeHistory())}commit(){const e=this._observerQueue.length;if(this._flushObserverQueue(),e>0)for(const e of this._anythingChangeObservers)e(void 0)}onPropertyChanged(e,t){const n=this["_"+e];if(n instanceof f){const i=n,s=()=>{i.addedObservers.add(t),i.updatedObservers.add(t),i.deletedObservers.add(t)},r=()=>this.removeOnPropertyChanged(e,t);return(0,d.k1)(s,r,!0,e)}this.logAndThrow(new Error(`Property: ${e} does not exist on wall-data`))}removeOnPropertyChanged(e,t){const n=this["_"+e];if(n instanceof f){const e=n;e.addedObservers.delete(t),e.updatedObservers.delete(t),e.deletedObservers.delete(t)}else this.logAndThrow(new Error(`Property: ${e} does not exist on wall-data`))}onChanged(e){if(this._anythingChangeObservers.has(e))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,d.k1)((()=>this._anythingChangeObservers.add(e)),(()=>this.removeOnChanged(e)),!0)}removeOnChanged(e){this._anythingChangeObservers.delete(e)}afterFinalize(e){this._afterFinalizeObservers.has(e)&&this.logAndThrow(new Error("Already subscribed!"));return(0,d.k1)((()=>this._afterFinalizeObservers.add(e)),(()=>this._afterFinalizeObservers.delete(e)),!0)}addFloatingEdge(e,t,n,i,s){const r=new S(this,{from:t,to:n,width:i,floorId:s,type:e});return this.triggerAction(r),r.output}addBridgingEdge(e,t,n,i){const s=new F(this,{fromId:t,toId:n,width:i,type:e});return this.triggerAction(s),s.output}addTrailingEdgeToNode(e,t,n,i){const s=new T(this,{fromId:t,to:n,width:i,type:e});return this.triggerAction(s),s.output}addTrailingEdgeToEdge(e,t,n,i,s){const r=new M(this,{fromWallId:t,along:n,to:i,width:s,type:e});return this.triggerAction(r),r.output}moveNode(e,t){const n={nodeId:e,newPos:t};this.triggerAction(new E(this,n))}moveWall(e,t,n){const i={wallId:e,newFromPos:t,newToPos:n};this.triggerAction(new O(this,i))}deleteEntity(e){if(this.canDeleteEntity(e)){const t=this.getEntity(e);if(t instanceof a.z){const t={nodeId:e};this.triggerAction(new U(this,t))}else if(t instanceof r.c){const t={wallId:e};this.triggerAction(new D(this,t))}else if(t instanceof m.E){const t={openingId:e};this.triggerAction(new V(this,t))}}}setEdgeProperties(e,t){const n={wallId:e,props:t};this.triggerAction(new x(this,n))}addWallOpening(e){const t=new B(this,e);return this.triggerAction(t),t.output.openingId}editWallOpeningDetails(e,t){this.triggerAction(new H(this,Object.assign(Object.assign({},t),{id:e})))}addWallJoint(e,t,n){const i={wallId:e,fromNode:t,toNode:n};this.triggerAction(new j(this,i))}setRoomDetails(e,t){this.triggerAction(new Z(this,Object.assign({roomId:e},t)))}mergeOverlappingEntities(e,t,n,i,s){const r={movedEntity:e,nodeOverlaps:t,nodeWallOverlaps:n,collinearWall:i,intersectingWall:s};this.triggerAction(new K(this,r))}getRoomTypeName(e,t){var n;const i=this.getRoom(e);if(i||this.logAndThrow(new Error("Room does not exist")),i.classifications&&i.classifications.length>0){return(0,J.ZJ)(i.classifications).map((e=>e.label)).join($.X9)}return(null===(n=this.roomClassifications[$.ub])||void 0===n?void 0:n.label)||t}getRoomLabel(e,t){const n=this.getRoom(e);return n||this.logAndThrow(new Error("Room does not exist")),n.name?n.name:this.getRoomTypeName(e,t)}getAttachedEntities(e){const t=new Set;t.add(e.id);const n=this.getNode(e.id),i=this.getWallsForNode(n);for(const e of i){t.add(e.id);const i=e.getOtherNode(n);1===this.getEdgeCountForNode(n)&&1===this.getEdgeCountForNode(i)&&t.add(i.id)}return t}translateClassificationLabels(e){return e?e.map((e=>{const t=this.roomClassifications[e.id];return t?Object.assign(Object.assign({},e),{label:t.label}):e})):[]}traceWallsFromTo(e,t,n){const i=[e,t];let s=!1;for(;s=!this.hasLoop(i);){const e=i[i.length-1],t=i[i.length-2],s=this.getNodeNeighbors(e,n);let r,a=4*Math.PI;for(const n of s){const i=this.getRelativeAngle(e,t,n);i<a&&(a=i,r=n)}if(r||this.logAndThrow(new Error("Expected a neighbor")),e===i[0]&&r===i[1]){i.pop();break}i.push(r)}return s?i:[]}getNodeNeighbors(e,t){const n=new Set,i=this.getWallsForNode(e);i||this.logAndThrow(new Error("Expecting node to wall map to be valid"));for(const s of i.values())t&&!t.has(s)||n.add(s.getOtherNode(e));return n}hasLoop(e){if(0===e.length||e.length%100!=0)return!1;const t=[];for(let n=e.length-1;n>=0;n--){t.unshift(e[n]);const i=e.length-2*t.length;if(i<0)return!1;let s=!0;for(let n=0;n<t.length;n++)e[i+n]!==t[n]&&(s=!1);if(s)return this.logger.error("Found infinite loop!",t.map((e=>e.id)),"in sequence",e.map((e=>e.id))),!0}return!1}_createNode(e,t,n,i){const r=new a.z(n||(0,s._r)(),t,e.x,e.z,i||this.defaultLayerId);return this._nodes.set(r.id,r),this._addToDictHelper(t,r,this._nodesByFloor),this.insertIntoSpatialIndex(r),this._scheduleObserver({observers:this._nodes.addedObservers,param:r,type:ie.CREATE}),r}_updateNode(e,t){const n=this._nodes.get(e);n?(this.removeFromSpatialIndex(n),n.x=t.x,n.z=t.z,this.insertIntoSpatialIndex(n),this._scheduleUpdate(this._nodes,n)):this.logAndThrow(new Error("Attempted to update WallNode that does not exist"))}_deleteNode(e){const t=this._nodes.get(e);t?(this.getEdgeCountForNode(t)>0&&this.logAndThrow(new Error("Attempted to delete a node which has wall references still!")),this._nodes.delete(e),this._removeFromDictHelper(t.floorId,t,this._nodesByFloor),this.removeFromSpatialIndex(t),this._scheduleDelete(this._nodes,t)):this.logAndThrow(new Error("Attempted to delete WallNode that does not exist"))}_createRoom(e){this._validateRoomDetails(e.points,e.holesCW,e.walls,e.holes);const t=new i.JJ(e);this.rooms.set(t.id,t);for(const e of t.allWalls()){const n=this._wallToRoomMap.get(e)||new Set;n.add(t),this._wallToRoomMap.set(e,n)}return this._scheduleObserver({observers:this._rooms.addedObservers,param:t,type:ie.CREATE}),this.calculateRoomInsights(t),t}_updateRoom(e,t){this._validateRoomDetails(t.points,t.holesCW,t.walls,t.holes);const n=this._rooms.get(e);if(n){for(const e of n.allWalls()){const t=this._wallToRoomMap.get(e);t&&t.delete(n)}t.name=n.name,t.classifications=n.classifications?[...n.classifications]:[],this.rooms.set(e,t);for(const e of t.allWalls().values()){const n=this._wallToRoomMap.get(e)||new Set;n.add(t),this._wallToRoomMap.set(e,n)}this._scheduleUpdate(this._rooms,t),this.calculateRoomInsights(t)}else this.logAndThrow(new Error("Attempted to update Room that does not exist"))}_validateRoomDetails(e,t,n,i){const s=e[0].floorId;for(const n of e.concat(t.flat()))n.floorId!==s&&this.logAndThrow(new Error("Room nodes have mismatching floor ids!"))}logAndThrow(e){throw this.broadcast(new te.x(e)),e}_updateRoomDetails(e,t){const{name:n,roomTypeIds:i,location:s,includeInAreaCalc:r,hide:a,keywords:o}=t,l=this.getRoom(e);l.name=null!=n?n:l.name,i&&(l.classifications=i.map((e=>({id:e,label:this.roomClassifications[e].label})))),l.location=null!=s?s:l.location,l.includeInAreaCalc=null!=r?r:l.includeInAreaCalc,l.hide=null!=a?a:l.hide,l.keywords=null!=o?o:l.keywords,this._scheduleUpdate(this._rooms,l)}_deleteRoom(e){const t=this._rooms.get(e);if(t){this._rooms.delete(t.id);for(const e of t.allWalls().values()){const n=this._wallToRoomMap.get(e);null==n||n.delete(t)}this._scheduleDelete(this._rooms,t)}else this.logAndThrow(new Error("Attempted to delete Room that does not exist"))}_createWall(e,t,n,i,a,o,l=(0,s._r)(),c=this.defaultLayerId){t.id===n.id&&this.logAndThrow(new Error("Cannot create wall where the from node is the same as the to node.")),t.floorId!==n.floorId&&this.logAndThrow(new Error("Cannot create a wall between nodes on different floors.")),this.hasWallBetween(t,n)&&this.logAndThrow(new Error("Wall already exists between start and end nodes.")),this._walls.has(l)&&this.logAndThrow(new Error("Wall already exists!"));const d=this.getNode(t.id),u=this.getNode(n.id),h=new r.c(l,c,e,d,u,i,o);this._walls.set(h.id,h),this._addToWallDicts(h),this._scheduleObserver({observers:this._walls.addedObservers,param:h,type:ie.CREATE});for(const e of a){const{type:t,relativePos:n,width:i,id:s,layerId:r}=e;this._createWallOpening(h,t,n,i,s,r)}return this.insertIntoSpatialIndex(h),h}_deleteWall(e){const t=this.getWall(e);for(const e of t.openings.slice())this._deleteWallOpening(e.id);this._walls.delete(e),this._removeFromWallDicts(t),this.removeFromSpatialIndex(t),this._scheduleDelete(this._walls,t)}_setEdgeProps(e,t){const{width:n,bias:i,type:s}=t,a=this.getWall(e);void 0!==s&&(a.type=s),void 0!==n&&(a.width=n,a.type===r.d.SOLID&&(this.lastSolidWallWidth=n)),void 0!==i&&(a.bias=i),this._updateDependentsForNodes(a.from,a.to)}_createWallOpening(e,t,n,i,r=(0,s._r)(),a=this.defaultLayerId){const o=new m.E(r,a,e.id,t,n,i);return this._wallOpenings.set(o.id,o),e.openings.push(o),this._scheduleObserver({observers:this._wallOpenings.addedObservers,param:o,type:ie.CREATE}),o}_setOpeningDetails(e,t){var n,i,s;const r=this.getOpening(e);r.type=null!==(n=t.type)&&void 0!==n?n:r.type,r.relativePos=null!==(i=t.relativePos)&&void 0!==i?i:r.relativePos,r.width=null!==(s=t.width)&&void 0!==s?s:r.width,this._scheduleUpdate(this._wallOpenings,r)}_deleteWallOpening(e){const t=this.getOpening(e),n=this.getWall(t.wallId),i=n.openings.findIndex((t=>t.id===e));-1!==i?n.openings.splice(i,1):this.logAndThrow(new Error("Expected opening to exist in wall array!")),this._wallOpenings.delete(e),this._scheduleDelete(this._wallOpenings,t)}_addToWallDicts(e){this._addToDictHelper(e.from,e,this._nodeToWallMap),this._addToDictHelper(e.to,e,this._nodeToWallMap),this._addToDictHelper(e.floorId,e,this._wallsByFloor),this._wallsByCompositeKey.set(r.c.getCompositeKey(e.from.id,e.to.id),e)}_addToDictHelper(e,t,n){let i=n.get(e);null!=i?i.add(t):(i=new Set,i.add(t),n.set(e,i))}_removeFromDictHelper(e,t,n){const i=n.get(e);null!=i&&(i.delete(t),0===i.size&&n.delete(e))}_removeFromWallDicts(e){this._removeFromDictHelper(e.from,e,this._nodeToWallMap),this._removeFromDictHelper(e.to,e,this._nodeToWallMap),this._removeFromDictHelper(e.floorId,e,this._wallsByFloor),this._wallToRoomMap.delete(e),this._wallsByCompositeKey.delete(r.c.getCompositeKey(e.from.id,e.to.id))}_scheduleObserver(e){this._observerQueue.push(e)}_scheduleUpdate(e,t){this._observerQueue.find((n=>n.observers===e.addedObservers&&n.param===t))||this._scheduleObserver({observers:e.updatedObservers,param:t,type:ie.UPDATE})}_scheduleDelete(e,t){this._scheduleObserver({observers:e.deletedObservers,param:t,type:ie.DELETE}),this._deleteSet.add(t)}_flushObserverQueue(){const e=new Set;for(const t of this._observerQueue)if(t.type!==ie.UPDATE||!this._deleteSet.has(t.param))if(t.type===ie.CREATE&&this._deleteSet.has(t.param))e.add(t.param);else if(t.type!==ie.DELETE||!e.has(t.param))for(const e of t.observers){const n=t.param;e(n,n.id)}this._observerQueue.length=0,this._deleteSet.clear()}_triggerFinalizeObservers(){for(const e of this._afterFinalizeObservers.values())e()}getSnapshot(){const e={version:this.version,floors:{}},t=t=>{e.floors[t]||(e.floors[t]={edges:{},vertices:{},rooms:{}})};for(const[n,i]of this._nodes.data){t(i.floorId);e.floors[i.floorId].vertices[i.id]=i.getSnapshot()}for(const[n,i]of this._walls.data){t(i.floorId);e.floors[i.floorId].edges[i.id]=i.getSnapshot()}for(const[n,i]of this._rooms.data){t(i.floorId);e.floors[i.floorId].rooms[i.id]=i.getSnapshot()}return e}insertIntoSpatialIndex(e){if(this.isLoading)return;this.spatialIndex.has(e.floorId)||this.spatialIndex.set(e.floorId,new(b()));const t=this.spatialIndex.get(e.floorId);e.updateRBushBBox(),t.insert(e)}removeFromSpatialIndex(e){if(this.isLoading)return;const t=this.spatialIndex.get(e.floorId);null!=t&&t.remove(e)}_recomputeRooms(){const e=new C(this,{});return e.run(),e.output.deletedNodes.length>0||e.output.mergedNodes.deletedNodes.length>0}calculateRoomInsights(e){this.calculateRoomArea(e),this.calculateRoomPerimeter(e),this.calculateRoomMeasurements(e)}calculateRoomArea(e){const t=6*X.Ue,n=new h.Vector3,i=new h.Vector3,s=(e,s,r,a)=>{const o=e[s],l=e[(s+1)%e.length],c=this.getWallForNodes(o.id,l.id).getEdgeWidth(o,l),d=r?(s+1)%e.length:s,u=(d+1)%e.length,h=(d+e.length-1)%e.length,p=this.getWallForNodes(e[h].id,e[d].id).getEdgeNormal(e[h],e[d]),m=this.getWallForNodes(e[d].id,e[u].id).getEdgeNormal(e[d],e[u]);if(n.copy(r?p:m),p.dot(m)>Math.cos(Math.PI-t)){i.addVectors(p,m).normalize();const e=i.dot(p);Math.abs(e)>1e-6&&(i.multiplyScalar(1/e),n.copy(i))}e[d].getVec3(a).addScaledVector(n,c)},r=new Array(new h.Vector3,new h.Vector3,new h.Vector3,new h.Vector3);r.push(r[0]);const a=e=>{let t=0;for(let n=0;n<e.length;n++){e[n].getVec3(r[0]),e[(n+1)%e.length].getVec3(r[1]),s(e,n,!0,r[2]),s(e,n,!1,r[3]);t+=(0,g.m)(r.map((e=>[e.x,e.z])))}return t},o=a(e.getCWPoints());let l=0;for(const t of e.holesCW)l+=(0,p.SV)(t),l+=a(t.slice().reverse());const c=(0,p.SV)(e.points);e.area=Math.max(c-o-l,0)}calculateRoomPerimeter(e){const t=[],n=e.wallsCCW.length;for(let i=0;i<n;i++){const s=e.wallsCCW[(i+n-1)%n],r=e.wallsCCW[i],a=e.wallsCCW[(i+1)%n],o=(0,ee.T)(r.wall,s.wall,a.wall,r.flipped);t.push({start:o.start.clone(),end:o.end.clone(),width:r.wall.width})}const i=[];i.push(t[0]);const s=new h.Vector3,r=new h.Vector3,a=(e,t)=>{const n=e.end.distanceTo(t.start)<.01;s.subVectors(e.start,e.end).normalize(),r.subVectors(t.end,t.start).normalize();const i=Math.abs(Math.abs(s.dot(r))-1)<.01;return n&&i},o=t.length;for(let e=1;e<o;e++){const n=t[(e+o-1)%o],s=t[e];if(a(n,s)){const e=i[i.length-1];e.end.copy(s.end),e.width=Math.max(e.width,s.width)}else i.push(s)}const l=i[0],c=i[i.length-1];a(c,l)&&(l.start.copy(c.start),l.width=Math.max(l.width,c.width),i.pop()),e.minimalInnerLoop=i;let d=0;for(const e of i)d+=e.start.distanceTo(e.end);e.perimeter=d}calculateRoomMeasurements(e){const{edges:t,thickness:n}=(0,p.B7)(e,this);let i=0,s=[new h.Vector2,new h.Vector2],r=[new h.Vector2,new h.Vector2],a=new h.Vector2(0,0);for(let e=0;e<2;e++){let o=0;for(let l=0;l<t.length;l++){const c=t[l],d=t[(l+1)%t.length];for(let u=0;u<t.length;u++){if(l===u)continue;const m=t[u],f=t[(u+1)%t.length],g=(0,p.bX)([c,d],new h.Vector2),v=(0,p.bX)([m,f],new h.Vector2);if(g.dot(v)>Math.cos(Math.PI-$.S2))continue;const b=(new h.Vector2).subVectors(g,v).normalize();if(e>0&&Math.abs(b.dot(a))>Math.cos(Math.PI/2-$.LW))continue;const y=(new h.Vector2).addVectors(m.getVec2(),f.getVec2()).multiplyScalar(.5);if((0,p.jH)(g,c.getVec2(),y)<0)continue;const E=new h.Vector2,S=new h.Vector2,O=(0,p.IQ)([c.getVec2().addScaledVector(g,n[l]),d.getVec2().addScaledVector(g,n[l])],[m.getVec2().addScaledVector(v,n[u]),f.getVec2().addScaledVector(v,n[u])],E,S);O>o&&(o=O,0===e?(s=[E,S],a=g,i=1):(r=[E,S],i=2))}}}const o=(new h.Vector2).subVectors(s[0],s[1]).length(),l=(new h.Vector2).subVectors(r[0],r[1]).length();if(2===i&&o<l){const e=s;s=r,r=e}e.length=NaN,e.width=NaN,i>=1&&(e.length=(new h.Vector2).subVectors(s[0],s[1]).length()),i>=2&&(e.width=(new h.Vector2).subVectors(r[0],r[1]).length())}}},32683:(e,t,n)=>{"use strict";n.d(t,{Ci:()=>v,GS:()=>s,Hc:()=>b,JJ:()=>m,Lh:()=>i,Rd:()=>f});var i,s,r=n(81396),a=n(4061),o=n.n(a),l=n(16747),c=n(46391),d=n(78283),u=n(27990),h=n(75668),p=n(58353);!function(e){e.INDOOR="indoor",e.OUTDOOR="outdoor"}(i||(i={})),function(e){e.INDOOR="indoor",e.OUTDOOR="outdoor",e.NON_AREA="nonArea",e.HIDE="hide"}(s||(s={}));class m{constructor(e){this.area=NaN,this.length=NaN,this.width=NaN,this.minimalInnerLoop=[],this.classifications=[],this.wallsCCW=[],Object.assign(this,e),this._bbox=(new r.Box2).setFromPoints(this.points.map((e=>e.getVec2()))),this.initCCWWalls()}getEntityAnalytic(){return"room"}get roomTypeIds(){return 0===this.classifications.length?[h.ub]:this.classifications.map((e=>e.id))}get floorId(){return this.points[0].floorId}getSnapshot(){return{height:0,source:"frontend",vertices:this.points.map((e=>e.id)),layerId:this.layerId,holes:this.holesCW.map((e=>e.map((e=>e.id))))}}get bbox(){return this._bbox.setFromPoints(this.points.map((e=>e.getVec2()))),this._bbox}getViewCenter(){const e=this.points.map((e=>[e.x,e.z]));e.push([this.points[0].x,this.points[0].z]);const t=[e].concat(this.holesCW.map((e=>e.map((e=>[e.x,e.z])).reverse()))),n=o()(t,.1);return new r.Vector3(n[0],0,n[1])}getArea(e){let t=this.area;return e===c.M.IMPERIAL&&(t=(0,d.Nv)(t)),Math.round(t)}getMeasurementText(e){return isNaN(this.length)||isNaN(this.width)?"":`${(0,u.up)(this.length,e)} x ${(0,u.up)(this.width,e)}`}getPerimeterText(e){return(0,u.up)(this.perimeter,e)}getCWPoints(){return this.points.slice().reverse()}allWalls(){return(0,p.dW)(this.walls,...this.holes)}allKeywords(){const e=this.keywords.slice();return this.hide&&e.push(s.HIDE),this.includeInAreaCalc||e.push(s.NON_AREA),e.push(this.location===i.OUTDOOR?s.OUTDOOR:s.INDOOR),e}initCCWWalls(){this.wallsCCW.length=0;const e=new Map;for(const t of this.walls.values())e.set(l.c.getCompositeKey(t.from.id,t.to.id),t);const t=this.points.length;for(let n=0;n<t;n++){const i=this.points[n],s=this.points[(n+1)%t],r=l.c.getCompositeKey(i.id,s.id),a=e.get(r);if(a){const e=i.id===a.to.id;this.wallsCCW.push({wall:a,flipped:e})}}}}function f(e,t){var n;return e.length>0&&(null!==(n=e[0].defaultKeywords)&&void 0!==n?n:[]).includes(t)}function g(e){return e.filter((e=>!Object.values(s).includes(e)))}function v(e){return{location:e.includes(s.OUTDOOR)?i.OUTDOOR:i.INDOOR,includeInAreaCalc:!e.includes(s.NON_AREA),hide:e.includes(s.HIDE),keywords:g(e)}}function b(e){const t=new Set;for(const n of e)(0,p.Jt)(t,n.defaultKeywords||[]);return t.has(s.INDOOR)&&t.has(s.OUTDOOR)&&t.delete(s.OUTDOOR),Array.from(t.values())}},16747:(e,t,n)=>{"use strict";n.d(t,{c:()=>l,d:()=>i});var i,s=n(81396),r=n(5823),a=n(75668),o=n(2569);!function(e){e.SOLID="solid-wall",e.DIVIDER="invisible-wall"}(i||(i={}));class l{constructor(e,t,n,i,r,a,l){this.bias=.5,this.openings=[],this._t1=new s.Vector3,this._t2=new s.Vector3,this._rbushBbox={minX:0,minY:0,maxX:1,maxY:1},this.overlapsCircle=(()=>{const e=new s.Vector3,t=new s.Vector3,n=new s.Vector3,i=new s.Vector3,r=new s.Vector3;return(s,a)=>{const o=this.getBiasAdjustmentVec(e),l=this.from.getVec3(t).add(o),c=this.to.getVec3(n).add(o),d=i.subVectors(c,l),u=d.length(),h=r.subVectors(s,l),p=h.length(),m=d.dot(h)/u,f=Math.sqrt(Math.max(p*p-m*m,0));return f<=this.width/2+a&&m>=-a&&m<=u+a?Math.min(m,f):null}})(),this.overlapsLine=(()=>{const e=new s.Vector3,t=new s.Vector3,n=new s.Vector3,i=new s.Vector3,r=new s.Vector3,a=new s.Vector3,l=new s.Vector3,c=new s.Vector3,d=new s.Vector3,u=1e-4;function h(e,t,n){return d.subVectors(t,e).dot(n)/n.lengthSq()}return(s,d)=>{const p=this.getBiasAdjustmentVec(e),m=this.from.getVec3(t).add(p),f=this.to.getVec3(n).add(p),g=i.subVectors(f,m),v=a.copy(g).normalize(),b=r.subVectors(d,s),y=l.copy(b).normalize(),E=v.dot(y);if(Math.abs(Math.abs(E)-1)<u){const e=c.subVectors(s,m),t=e.length(),n=e.dot(v);if(Math.sqrt(Math.abs(t*t-n*n))<.05){const e=u,t=.9999,n=h(s,m,b),i=h(s,f,b),r=n>t&&i>t;if(!(n<e&&i<e)&&!r)return[{entity:this.from,t:n},{entity:this.to,t:i}].sort(((e,t)=>e.t-t.t))}}else{const e=(0,o._B)(s.x,s.z,d.x,d.z,m.x,m.z,f.x,f.z,u);if(null!=e)return[{entity:this,t:e}]}return[]}})(),this.id=e,this.layerId=t,this.type=n,this.from=i,this.to=r,this.width=a,this.bias=l}static getCompositeKey(e,t){const n=[e,t].sort();return`${n[0]}:${n[1]}`}getEntityAnalytic(){return this.type}get floorId(){return this.from.floorId}get compositeKey(){return l.getCompositeKey(this.from.id,this.to.id)}getOtherNode(e){if(e===this.from)return this.to;if(e===this.to)return this.from;throw new Error("WallNode does not belong to edge.")}hasNodes(e,t){const{from:n,to:i}=this;return!(e!==n&&e!==i||t!==n&&t!==i)}getBiasAdjustmentVec(e=new s.Vector3){this.getNormal(e);const t=(this.bias-.5)*this.width;return e.multiplyScalar(t),e}getNormal(e=new s.Vector3){return this.getDirection(e),e.normalize(),e.set(-e.z,0,e.x),e}getDirection(e){const t=e||new s.Vector3;return t.set(this.to.x-this.from.x,0,this.to.z-this.from.z),t}getEdgeWidth(e,t){const n=this.from===e&&this.to===t?this.bias:1-this.bias;return this.width*n}getEdgeNormal(e,t,n=new s.Vector3){return this.getNormal(n),this.from===e&&this.to===t||n.multiplyScalar(-1),n}getLine3(e){const t=e||new s.Line3;return this.from.getVec3(t.start),this.to.getVec3(t.end),t}getProjection(e){const t=this._t1.copy(e).sub(this.from.getVec3(this._t2)),n=this.getDirection(this._t2);return t.dot(n)/n.length()}getSnapshot(){const e={thickness:this.width,vertices:[this.from.id,this.to.id],type:this.type===i.SOLID?r.Pb.WALL:r.Pb.INVISIBLE,layerId:this.layerId};if(this.openings.length){const t={};for(const e of this.openings)t[e.id]=e.getSnapshot();e.openings=t}return e}getViewCenter(){return(new s.Vector3).addVectors(this.to.getVec3(),this.from.getVec3()).multiplyScalar(.5)}get length(){return this.from.distanceTo(this.to)}get minX(){return this._rbushBbox.minX}get maxX(){return this._rbushBbox.maxX}get minY(){return this._rbushBbox.minY}get maxY(){return this._rbushBbox.maxY}updateRBushBBox(){this._rbushBbox={minX:Math.min(this.from.x,this.to.x)-2*this.width-a.dt,minY:Math.min(this.from.z,this.to.z)-2*this.width-a.dt,maxX:Math.max(this.from.x,this.to.x)+2*this.width+a.dt,maxY:Math.max(this.from.z,this.to.z)+2*this.width+a.dt}}clone(){const e=new l(this.id,this.layerId,this.type,this.from,this.to,this.width,this.bias);return e.openings.push(...this.openings),e}}},2482:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var i=n(81396),s=n(75668);class r{constructor(e,t,n,s,r){this.rbushBbox={minX:0,minY:0,maxX:1,maxY:1},this.overlapsCircle=(()=>{const e=new i.Vector3;return(t,n)=>{const i=this.getVec3(e).distanceTo(t);return i<=n+.3?i:null}})(),this.overlapsLine=(()=>{const e=new i.Vector3,t=new i.Vector3,n=new i.Vector3;return(i,s)=>{const r=e.subVectors(s,i),a=this.getVec3(n),o=t.subVectors(a,i),l=o.dot(r)/r.length(),c=o.length();return Math.sqrt(c*c-l*l)<.3?[{entity:this,t:l/r.length()}]:[]}})(),this.id=e,this.floorId=t,this.x=n,this.z=s,this.layerId=r}getEntityAnalytic(){return"node"}getPoint(){return{x:this.x,z:this.z}}getVec3(e){const t=e||new i.Vector3;return t.set(this.x,0,this.z),t}getVec2(e){const t=e||new i.Vector2;return t.set(this.x,this.z),t}getViewCenter(){return this.getVec3()}getSnapshot(){return{x:this.x,y:-this.z,layerId:this.layerId}}distanceTo(e){const t=this.x-e.x,n=this.z-e.z;return Math.sqrt(t*t+n*n)}updateRBushBBox(){this.rbushBbox={minX:this.x-s.dt,minY:this.z-s.dt,maxX:this.x+s.dt,maxY:this.z+s.dt}}get minX(){return this.rbushBbox.minX}get maxX(){return this.rbushBbox.maxX}get minY(){return this.rbushBbox.minY}get maxY(){return this.rbushBbox.maxY}}},80978:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,u:()=>i});var i,s=n(81396);!function(e){e.DOOR="doorway",e.OPENING="opening"}(i||(i={}));class r{constructor(e,t,n,i,s,r){this.id=e,this.layerId=t,this.wallId=n,this.type=i,this.relativePos=s,this.width=r}getEntityAnalytic(){return this.type}get floorId(){return""}getViewCenter(){return new s.Vector3(0,0,0)}getSnapshot(){const{type:e,relativePos:t,width:n,layerId:i}=this;return{lowerElevation:0,height:0,type:e,relativePos:t,width:n,layerId:i}}}},47309:(e,t,n)=>{"use strict";n.d(t,{A0:()=>a,G:()=>o,KJ:()=>c,PQ:()=>l,hW:()=>r});var i=n(71570),s=n(59625);const r="showcase-room-bounds",a="room_bounds";function o(e){const t=e.tryGetProperty(s.gx.RoomBounds,!1),n=e.tryGetProperty(s.gx.FloorPlan,!1);return t&&n}function l(e,t,n,s,r){if(!(0,i._W)(n))return!1;const a=o(s);return!(!r&&!a)&&(a||(0,i.tP)(e,t))}function c(e,t,n){const s=(0,i._W)(n),r=(0,i.tP)(e,t);return s&&r}},57370:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var i=n(67294),s=n(1358);function r(e){return e?Array.from(e.rooms.values()):[]}function a(){const e=(0,s.S)(),[t,n]=(0,i.useState)(r(e));return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=()=>n(r(e)),i=e.onRoomsChanged({onRemoved:e=>t,onUpdated:e=>t,onAdded:e=>t});return t(),()=>{i.cancel()}}),[e]),t}},1358:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var i=n(45755),s=n(87953);const r=(0,i.u)(s.Z)},65241:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,x:()=>s});var i=n(98010);class s extends i.v0{constructor(e){super(),this.error=e}}class r extends i.v0{constructor(e,t=(new Error).stack){super(),this.message=e,this.stack=t}}},84784:(e,t,n)=>{"use strict";n.d(t,{LN:()=>a,Nw:()=>o,ZJ:()=>c});var i=n(38399),s=n(75668);const r={[s.Vm]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.BALCONY,[s.YN]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.BASEMENT,[s.yn]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.BATHROOM,[s.sc]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.BEDROOM,[s.xi]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.BONUS_ROOM,[s.e$]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.CLOSET,[s.gk]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.DEN,[s.O4]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.DINING_ROOM,[s.y5]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.DRIVEWAY,[s.jt]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.ENTRANCE,[s.tI]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.EXERCISE_ROOM,[s.Zd]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.EXTERIOR,[s.yg]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.FACADE,[s.KT]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.FAMILY_ROOM,[s.x1]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.GAME_ROOM,[s.kA]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.GARAGE,[s.v6]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.GARDEN,[s.QM]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.GREAT_ROOM,[s.HT]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.GYM,[s.xu]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.HALLWAY,[s.Z2]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.KITCHEN,[s.aj]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.LAUNDRY,[s.mN]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.LIBRARY,[s.I3]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.LIVING_ROOM,[s.er]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.LOFT,[s.Nk]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.MEDIA_ROOM,[s.no]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.OFFICE,[s.ub]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.OTHER,[s.CF]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.PANTRY,[s.oF]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.PATIO,[s.qH]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.POOL,[s.pM]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.SAUNA,[s.a6]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.STAIRCASE,[s.X$]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.UTILITY_ROOM,[s.Os]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.VOID,[s.DQ]:i.Z.WORKSHOP.LABEL_SUGGESTIONS.WORKSHOP_ROOM};function a(e,t,n){const s=t.t(i.Z.SHOWCASE.ROOMS.DEFAULT_NAME);return n&&e?n.getRoomLabel(e,s):s}function o(e,t){const{id:n,label:r}=e;if(!n)return r||t.t(i.Z.WORKSHOP.LABEL_SUGGESTIONS.OTHER);return n.indexOf(s.Rt)>-1?n.split(s.Rt).map((e=>t.t(l({id:n,label:r})))).join(s.X9):t.t(l({id:n,label:r}))}function l(e){const{id:t,label:n}=e,s=r[t];return s||(n||i.Z.WORKSHOP.LABEL_SUGGESTIONS.OTHER)}function c(e){if(!e)return[];if(1===e.length)return e;for(const t of s.Ds)if(t.length===e.length){const n=[],i=e.reduce(((e,t)=>(e["string"==typeof t?t:t.id]=t,e)),{});for(let s=0;s<t.length;s++){const r=t[s];if(!i[r])return e;n[s]=i[r]}return n}return e}},75668:(e,t,n)=>{"use strict";n.d(t,{CF:()=>F,DQ:()=>K,Ds:()=>Y,HT:()=>k,I3:()=>D,KT:()=>_,LW:()=>r,Nk:()=>x,O4:()=>b,Os:()=>z,Oz:()=>o,QM:()=>I,Rt:()=>d,S2:()=>s,Vm:()=>u,X$:()=>W,X9:()=>c,YN:()=>h,Z2:()=>L,Zd:()=>S,a6:()=>G,aj:()=>R,dt:()=>a,e$:()=>g,er:()=>M,gk:()=>v,jt:()=>E,kA:()=>N,kM:()=>l,mN:()=>C,no:()=>j,oF:()=>H,pM:()=>B,qH:()=>V,sc:()=>m,tI:()=>O,ub:()=>U,v6:()=>A,x1:()=>w,xi:()=>f,xu:()=>P,y5:()=>y,yg:()=>T,yn:()=>p});var i=n(69505);const s=6*i.Ue,r=6*i.Ue,a=.01,o=.1,l=.02,c=", ",d="-",u="ge0tcan3iztta5mtgsfx99xpb",h="4by2d70b54srbin43t5m0yh9c",p="ua1m0u8pm3yngrhzwec1ue5zc",m="pnf0xzq61xcegack4iai7xppd",f="y3xuprmywgrprnm0273u3pphd",g="zp189tx2hdrry8k5nhaq5x45d",v="4gp8x21ni4i8y19r9pm4rb35a",b="00258k0mqu8750du151be805c",y="91naa1k3hiim9z4mk8352enta",E="rmu8pikcye0n7n9fsu5e4acda",S="cqig2yw0p8q99t5n02w1kf40b",O="66psa4tqgazbnffr9huy2dnpd",T="4qq4e5hz84hcur7ry87uhtmua",_="mx6e2yfk0tg0zbkbzuw5mhkda",w="0gnuunpwx63dmmqeq64aqfiyd",N="izt39gytcbymc0qtd37nrb7xb",A="ei3kmtun2xpspbg3d5ff3t3zc",I="xwhhz63a0hw735qf81knp63ha",k="ywtddu9hagraxhznwinn8t4zb",P="yeh1aa32fwgm72bh0g92ebruc",L="zgh2304w5anu0t25ia06ytfxd",R="pr9h4zy7eak91f3b7un97u42c",C="gqqw1zac1hzg1p8622ducg3zb",D="w4tdggk5i5u2zpiryugktghgb",M="e6md2spaqemc448pmau3azkhd",x="a11d2gi43h0etwedw0mx9pgwd",j="ag5uphha72sak65qazgsp09yd",U="byp7pz2tmt4ff47nhfx0uwzec",F="2nx6maxxpaeut7kx96fuacdzc",H="n07hhs9gky4cgrh7q65s9rp0d",V="s1h0hb8tpcc9i35dmupknsega",B="gba8cq0s2rdfg1zdb1epwty7d",G="0an2rky24gb91fdnpzmbwadib",W="qa21tqcsinnxde9gdmiphacza",z="k4ww3sk359ntmwgr8s75hq22a",K="nqw75004dcg2bcr41047rhg6c",Y=[[p,R],[L,b],[L,D],[L,D,b],[D,b]]},15004:(e,t,n)=>{"use strict";n.d(t,{B7:()=>u,IQ:()=>f,OH:()=>E,SV:()=>c,bX:()=>h,jH:()=>p,mX:()=>y,xS:()=>d});var i=n(43517),s=n(5696),r=n(81396),a=n(75182),o=n(69505),l=n(75668);function c(e,t=!1){if(0===e.length)return 0;const n=e.map((e=>[e.x,e.z]));return n.push(n[0]),(0,i.m)(n,t)}function d(e){return c(e,!0)>0&&e.reverse(),e}const u=(e,t)=>{const n=e.getCWPoints(),i=n.length,s={edges:[],thickness:[]};for(let e=0;e<i;e++){const r=n[(e+i-1)%i],a=n[e],o=n[(e+1)%i],l=t.getWallForNodes(r.id,a.id).getEdgeWidth(r,a),c=t.getWallForNodes(a.id,o.id).getEdgeWidth(a,o);(!v([r,a],[a,o],!1)||Math.abs(c-l)>.01)&&(s.edges.push(n[e]),s.thickness.push(c))}return s},h=(e,t)=>{t.set(e[1].x-e[0].x,e[1].z-e[0].z).normalize();const n=t.x,i=t.y;return t.set(-i,n),t},p=(()=>{const e=new r.Vector2;return(t,n,i)=>(e.subVectors(i,n),t.dot(e))})(),m=(()=>{const e=new r.Vector2,t=new r.Vector2,n=new r.Vector2;return(i,s,r,a)=>(e.subVectors(r,s),t.copy(i).multiplyScalar(i.dot(e)),n.subVectors(e,t),a.addVectors(s,n),a)})(),f=(()=>{const e=new r.Vector2,t=new r.Vector2,n=new r.Vector2,i=new r.Vector2,s=new r.Vector2;return(r,a,o,l)=>{e.subVectors(r[1],r[0]).normalize(),t.subVectors(a[1],a[0]).normalize(),n.subVectors(e,t).normalize();const c=p(n,r[0],r[1]);let d=p(n,r[0],a[0]),u=p(n,r[0],a[1]);if(u<d){const e=d;d=u,u=e}const h=Math.min(c,u)-Math.max(0,d);i.subVectors(e,t).multiplyScalar(.5).multiplyScalar(h/2+Math.max(0,d)),o.copy(r[0]).add(i);const f=m(n,r[0],a[0],s);return l.copy(f).add(i),h}})(),g=(()=>{const e=new r.Vector2,t=new r.Vector2,n=Math.cos(5*o.Ue);return(i,s,r)=>{e.set(i[1].x-i[0].x,i[1].z-i[0].z).normalize(),t.set(s[1].x-s[0].x,s[1].z-s[0].z).normalize();const a=e.dot(t);return a>=n||r&&a<=-n}})(),v=(()=>{const e=new r.Vector2;return(t,n,i)=>{if(!g(t,n,i))return!1;e.set(-(n[1].z-t[0].z),n[1].x-t[0].x).normalize();return!(Math.abs(p(e,t[0].getVec2(),t[1].getVec2()))>.05)}})();function b(e){return`room-${e}`}function y(e){const t=l.ub;return 0===e.length?b(t):e.length>1?b("multi-use"):a.g.includes(b(e[0]))?b(e[0]):b(t)}function E(e,t){const[[n,i],[r,a]]=e,[[o,l],[c,d]]=t,u=((0,s.s8)(e[0],t)?1:0)+((0,s.s8)(e[1],t)?1:0)+((0,s.s8)(t[0],e)?1:0)+((0,s.s8)(t[1],e)?1:0),h=(d-l)*(r-n)-(c-o)*(a-i);if(Math.abs(h)<1e-4)return u>2;const p=i-l,m=n-o,f=((c-o)*p-(d-l)*m)/h,g=((r-n)*p-(a-i)*m)/h,v=1e-8,b=.99999999;return f>v&&f<b&&g>v&&g<b}},18544:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var i=n(67992),s=n(32683);class r extends i.V{constructor(e,t,n){super(),this.data=e,this.editorState=t,this.visibleInShowcase=n,this.name="room-bound-view-data",this.roomBoundsVisible=!1}getSelectedRoom(e){if(!e)return null;const t=this.data.getEntity(e);return t instanceof s.JJ?t:null}setRoomBoundVisible(e){this.roomBoundsVisible=e,this.commit()}}},38127:(e,t,n)=>{"use strict";n.d(t,{DE:()=>d,Km:()=>g,Os:()=>S,Rc:()=>m,Yx:()=>p,_j:()=>u,bS:()=>E,bw:()=>h,c8:()=>v,hu:()=>y,mB:()=>c,o3:()=>s,pZ:()=>a,pd:()=>l,vQ:()=>o,y1:()=>b});var i=n(19663);class s extends i.m{constructor(){super(...arguments),this.id="roombound_undo"}}class r extends i.m{constructor(e){super(),this.payload={id:e}}}class a extends r{constructor(){super(...arguments),this.id="roombound_unselect"}}class o extends i.m{constructor(e,t){super(),this.id="roombound_add_entity",this.payload={addState:e,wallType:t}}}class l extends i.m{constructor(e){super(),this.id="roombound_deleteentity",this.payload={id:e}}}class c extends r{constructor(){super(...arguments),this.id="roombound_edit"}}class d extends i.m{constructor(){super(...arguments),this.id="roombound_finishedit"}}class u extends i.m{constructor(e=!1){super(),this.id="roombound_canceledit",this.payload={skipUndo:e}}}class h extends i.m{constructor(){super(...arguments),this.id="roombound_exitedit"}}class p extends i.m{constructor(){super(...arguments),this.id="roombound_activate_editor"}}class m extends i.m{constructor(){super(...arguments),this.id="roombound_deactivate_editor"}}class f extends i.m{constructor(e,t){super(),this.payload={id:e,data:t}}}class g extends f{constructor(){super(...arguments),this.id="ROOMBOUND_SET_ROOM_NAME"}}class v extends f{constructor(){super(...arguments),this.id="ROOMBOUND_SET_ROOM_TYPE"}}class b extends f{constructor(){super(...arguments),this.id="ROOMBOUND_SET_ROOM_LOCATION"}}class y extends f{constructor(){super(...arguments),this.id="ROOMBOUND_SET_ROOM_INCLUDE_IN_AREA_CALC"}}class E extends f{constructor(){super(...arguments),this.id="ROOMBOUND_SET_ROOM_HIDE"}}class S extends i.m{constructor(e=!1){super(),this.id="set_roombound_visibility",this.payload={visible:e}}}},61011:(e,t,n)=>{"use strict";n.d(t,{T:()=>c,b:()=>l});var i=n(90304),s=n(81396),r=n(2569),a=n(69505);class o{constructor(){this.primary=new s.Vector3,this.bevel=new s.Vector3}set(e,t,n){this.primary.set(e,t,n),this.bevel.set(e,t,n)}copy(e,t){this.primary.copy(e),t?this.bevel.copy(t):this.bevel.copy(e)}}const l=(()=>{const e={fromLeft:new o,fromRight:new o,toLeft:new o,toRight:new o};return(t,n)=>{h(t,e);const i=n.getWallNeighbors(t,"from"),s=n.getWallNeighbors(t,"to");return i&&(d(t,i.left,"from","left",e.fromLeft),d(t,i.right,"from","right",e.fromRight)),s&&(d(t,s.left,"to","left",e.toLeft),d(t,s.right,"to","right",e.toRight)),e}})(),c=(()=>{const e={start:new s.Vector3,end:new s.Vector3},t={fromLeft:new o,fromRight:new o,toLeft:new o,toRight:new o};return(n,i,s,r)=>{let a,o,l,c,u;return r?(a="right",o="to",l="from",c=t.toRight,u=t.fromRight):(a="left",o="from",l="to",c=t.fromLeft,u=t.toLeft),h(n,t),d(n,i,o,a,c),d(n,s,l,a,u),e.start.copy(c.primary),e.end.copy(u.primary),e}})(),d=(()=>{const e=new s.Vector3,t=new s.Vector3,n=new s.Vector3,o=new s.Vector3,l=new s.Vector3,c=new s.Vector3,d=new s.Vector3,h=new s.Vector2,m=new s.Vector2,f=new s.Vector2,g=new s.Vector3,v=new s.Vector3;return(s,b,y,E,S)=>{const O=s.getDirection(e).normalize(),T=s[y],_="from"===y?-1:1,w=b.getOtherNode(T).getVec3(t).sub(T.getVec3(n)).normalize().multiplyScalar(_),N=O.dot(w);if(Math.acos(N)*a.MN<5)return;s.getBiasAdjustmentVec(g),b.getBiasAdjustmentVec(v);const A="left"===E?Math.PI/2:-Math.PI/2,I=O.applyAxisAngle(i.fU.UP,A).multiplyScalar(s.width/2).add(g),k=w.applyAxisAngle(i.fU.UP,A).multiplyScalar(b.width/2).add(v);s.from.getVec3(o).add(I),s.to.getVec3(l).add(I),b.from.getVec3(c).add(k),b.to.getVec3(d).add(k);if((0,r.cB)(o.x,o.z,l.x,l.z,c.x,c.z,d.x,d.z,h)){const e=u(T,s,b,h,f),t=e.x>0&&e.y>0,n=e.x<0&&e.y<0;if(e.x<s.length&&e.y<b.length)if(t)S.set(h.x,0,h.y);else{m.set(T.x+g.x+v.x,T.z+g.z+v.z).distanceTo(h)>1.2*Math.max(s.width,b.width)&&n?p(T,s,b,I,k,S):S.set(h.x,0,h.y)}}}})(),u=(()=>{const e=new s.Vector3,t=new s.Vector3,n=new s.Vector3,i=new s.Vector3;return(s,r,a,o,l)=>{let c=r.getOtherNode(s);return s.getVec3(n),c.getVec3(e).sub(n),c=a.getOtherNode(s),c.getVec3(t).sub(n),i.set(o.x,0,o.y).sub(n),l.set(e.dot(i)/e.length(),t.dot(i)/t.length()),l}})(),h=(()=>{const e=new s.Vector3,t=new s.Vector3,n=new s.Vector3,i=new s.Vector3;return(s,r)=>{const a=s.width;s.getBiasAdjustmentVec(n),s.getNormal(e).multiplyScalar(-a/2).add(n),s.getNormal(t).multiplyScalar(a/2).add(n);const o=s.from.getVec3(i).add(t);r.fromRight.copy(o);const l=s.to.getVec3(i).add(t);r.toRight.copy(l);const c=s.to.getVec3(i).add(e);r.toLeft.copy(c);const d=s.from.getVec3(i).add(e);r.fromLeft.copy(d)}})(),p=(()=>{const e=new s.Vector3,t=new s.Vector3,n=new s.Vector3,i=new s.Vector3,r=new s.Vector3;return(s,a,o,l,c,d)=>{const u=a.getOtherNode(s),h=o.getOtherNode(s);s.getVec3(t),u.getVec3(e).sub(t).normalize().multiplyScalar(-a.width/2),h.getVec3(n).sub(t).normalize().multiplyScalar(-o.width/2),i.copy(t).add(l).add(e),r.copy(t).add(c).add(n),d.copy(i,r)}})()},78596:(e,t,n)=>{"use strict";n.d(t,{Nh:()=>r,PW:()=>i,Rw:()=>o,XG:()=>a,bk:()=>c,pp:()=>s,rP:()=>l});const i=.0666,s=.06,r=7,a=.02,o=!0,l=100,c=8},28269:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67992),s=n(37082);class r extends i.V{constructor(e){if(super(),this.name="rooms",this.selected=new s.f(null),this._rooms={},this.floorToRoomsMap=new Map,e)for(const t of Object.values(e))this.add(t)}add(e){this._rooms[e.id]=e;const t=this.floorToRoomsMap.get(e.floorId);t?t.push(e):this.floorToRoomsMap.set(e.floorId,[e])}remove(e){const t=this.get(e);if(!t)return;const n=this.floorToRoomsMap.get(t.floorId);if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}delete this._rooms[e]}rooms(){const e=this._rooms,t=Object.keys(this._rooms);return function*(){for(const n of t)yield e[n]}()}get roomCount(){return Object.keys(this._rooms).length}get collection(){return this._rooms}getAllRooms(){return Object.values(this.floorToRoomsMap)}get(e){return this._rooms[e]}getByMeshSubgroup(e){return Object.values(this._rooms).find((t=>t.meshSubgroup===e))}roomsByFloor(e){return this.floorToRoomsMap.get(e)||[]}getRoomIdMap(e,t){const n={};for(const i of Object.values(this._rooms)){const s=e.getFloor(i.floorId),r=s?String((s.index<<16)+i.meshSubgroup):"",a=i.id;""===r?console.warn("[WARNING getRoomIdMap]: mapping between room IDs was incomplete!"):t?n[r]=a:n[a]=r}return n}}},79992:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t,n,i,s,r){super(),this.roomId=e,this.meshSubgroup=t,this.viewmode=n,this.visitCount=i,this.roomCount=s,this.roomType=r}}},91860:(e,t,n)=>{"use strict";n.d(t,{O:()=>c,W:()=>d});var i=n(81396),s=n(20650),r=n(97998),a=n(28714);const o=["FontLoader","Font","ParametricGeometry","TextGeometry"],l=new r.Z("three-globals"),c=function(e,t){i.DefaultLoadingManager.addHandler(/\.tga$/i,new s.TGALoader(a.U)),i.DefaultLoadingManager.addHandler(/\.jpe?g$/i,e()),i.DefaultLoadingManager.addHandler(/\.png$/i,t()),i.Cache.enabled=!0},d=async function(){const{modules:e}=await Promise.all([n.e(217),n.e(764),n.e(493),n.e(648),n.e(376),n.e(27),n.e(325)]).then(n.bind(n,71325));for(const t of e){const e=Object.keys(t);for(const n of e){const e=t[n],s=i;if(n in s)if("object"==typeof e)for(const t in e)t in s[n]||(s[n][t]=e[t]);else"function"==typeof e&&(!(n in s)||o.includes(n)?s[n]=e:l.debug(`"${n}" exists in THREE object but has not been listed as overrideable, skipping...`));else s[n]=e}}}},10255:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var i=n(19663);class s extends i.m{constructor(e,t,n,i=1){super(),this.id="SCHEDULE_PROCESS_COMMAND",this.payload={type:e,func:t,maxDelay:n,steps:i}}}},60047:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var i=n(19663);class s extends i.m{constructor(e,t,n){super(),this.id="SCHEDULE_TASK_COMMAND";const i=function*(){return t()}();this.payload={type:e,func:i,maxDelay:n,steps:1}}}},79861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i,s=n(97542),r=n(83021);class a{constructor(e){this.name=e,this.taskDurations=new r.P(100),this.medianDuration=1}get typicalStepDuration(){return this.medianDuration}addTaskDuration(e){this.taskDurations.push(e),this.taskDurations.index%10==0&&(this.medianDuration=this.taskDurations.median())}}!function(e){e.WAITING="waiting",e.STARTED="started",e.DONE="done"}(i||(i={}));class o{constructor(){this.tasks=[],this.types={}}getType(e){return this.types[e]||(this.types[e]=new a(e)),this.types[e]}addTask(e){this.tasks.push(e)}update(e){this.tasks=this.tasks.filter((e=>e.status!==i.DONE)),this.tasks.sort(((e,t)=>t.urgency-e.urgency));let t=0;e:for(const n of this.tasks)for(;n.status!==i.DONE;){const i=performance.now(),s=t+n.type.typicalStepDuration>e,r=i>=n.deadline;if(s&&!r)break e;const a=i;n.run();const o=performance.now()-a;n.type.addTaskDuration(o),t+=o}}}var l=n(60047),c=n(10255);class d{constructor(e,t,n,s){this.type=e,this.func=t,this.deadline=n,this.steps=s,this.status=i.WAITING,this.promise=new Promise(((e,t)=>{this.onSuccess=e,this.onError=t}))}run(){let e;this.status=i.STARTED;try{e=this.func.next()}catch(e){return this.status=i.DONE,void this.onError(e)}this.steps-=1,e.done&&(this.status=i.DONE,this.onSuccess(e.value))}get estimatedDuration(){return this.steps*this.type.typicalStepDuration}get urgency(){const e=this.deadline-performance.now();return e<=0?1e6-e:this.estimatedDuration/e/e}}class u extends s.Y{constructor(){super(...arguments),this.name="scheduler-module",this.scheduler=new o}async init(e,t){this.engine=t,this.engine.commandBinder.addBinding(l._,(async e=>{const t=new d(this.scheduler.getType(e.type),e.func,performance.now()+e.maxDelay,e.steps);return this.scheduler.addTask(t),t})),this.engine.commandBinder.addBinding(c.S,(async e=>{const t=new d(this.scheduler.getType(e.type),e.func,performance.now()+e.maxDelay,e.steps);return this.scheduler.addTask(t),t}))}onUpdate(e){this.scheduler.update(4)}}},24030:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n(92810),s=n(97542),r=n(67294),a=n(20745),o=n(38399),l=n(85893),c=n(86941);function d({loadingMessage:e,messageDelay:t}){const[n,i]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(!n){const e=setTimeout((()=>{i(!0)}),t);return()=>clearTimeout(e)}return()=>{}})),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",Object.assign({className:"spinner-container"},{children:(0,l.jsx)(c.$,{progress:33,barWidth:4,progressColor:"#ffffff"})})),n&&(0,l.jsx)("div",Object.assign({className:"message"},{children:e}))]})}class u extends s.Y{constructor(){super(...arguments),this.name="sdk-landing",this.messageDelay=3e3}async init(e,t){this.locale=await t.getModuleBySymbol(i.e9),this.reactContainer=document.createElement("div"),this.reactContainer.id="sdk-landing-container",this.container=e.container}show(){this.container.appendChild(this.reactContainer),this.reactRoot=(0,a.s)(this.reactContainer),this.reactRoot.render((0,r.createElement)(d,{loadingMessage:this.locale.t(o.Z.SDK.AWAITING),messageDelay:this.messageDelay}))}hide(){var e;this.container.removeChild(this.reactContainer),this.reactRoot.unmount(),null===(e=this.reactContainer)||void 0===e||e.remove()}}const h=u},29883:(e,t,n)=>{"use strict";n.d(t,{T:()=>l});var i=n(67992),s=n(10385),r=n(15637),a=n(63319),o=n(31855);class l extends i.V{constructor(){super(...arguments),this.searchMode=!1,this.query="",this.typeFilters=(0,s.C)(),this.keywordFilters=(0,s.C)(),this.grouping=l.defaultGrouping,this.results=(0,r.q)(),this.dataTypeGroups={},this.keywordCounts=(0,r.q)({}),this.activeItemId=null,this.selectedType=null}getSearchDataTypeList(){return Object.values(this.dataTypeGroups)}getSearchDataTypeGroup(e){return this.dataTypeGroups[e]}getQuery(){return this.query}getTypeFilters(){return this.typeFilters.values()}setTypeFilters(e){this.typeFilters.replace(e)}setTypeFilter(e){this.setTypeFilters([e])}clearTypeFilters(){this.getTypeFilters().length>0&&this.typeFilters.replace([])}toggleSearchFilter(e,t){t?this.typeFilters.push(e):this.typeFilters.remove(this.typeFilters.indexOf(e))}hasActiveQuery(){return""!==this.query||this.keywordFilters.length>0}setQuery(e){this.query=e}getKeywordFilters(){return this.keywordFilters.values()}setKeywordFilters(e){this.keywordFilters.replace(e)}setKeywordCounts(e){this.keywordCounts.replace(e)}getKeywordSummaries(){const e={};return this.getKeywordFilters().forEach((t=>{e[t]={id:t,text:t,count:0,isSelected:!0}})),this.keywordCounts.keys.forEach((t=>{const n=this.keywordCounts.get(t);e[t]?e[t].count=n:e[t]={id:t,text:t,count:n,isSelected:!1}})),Object.values(e)}hasSearchResultItem(e){const t=(0,o.w)(e);return this.results.has(t)}getSearchResultItem(e){const t=(0,o.w)(e);return this.results.get(t)}getResultsMap(){return this.results}getResults(){return this.results.values}onSearchResultsChanged(e){return this.results.onChanged(e)}setResults(e){this.getResults().forEach((e=>e.cancelBindings()));const t=e.reduce(((e,t)=>(e[(0,o.w)(t)]=t,t.registerBindings(),e)),{});this.atomic((()=>{this.results.replace(t)}))}}l.defaultGrouping=a.HH.TYPE},71166:(e,t,n)=>{"use strict";n.d(t,{FZ:()=>r,H1:()=>s,Hf:()=>l,IL:()=>d,M8:()=>a,Mp:()=>c,Pe:()=>h,SN:()=>o,c6:()=>u});var i=n(19663);class s extends i.m{constructor(e){super(),this.id="UPDATE_SEARCH_QUERY",this.payload={query:e}}}class r extends i.m{constructor(e){super(),this.id="UPDATE_SEARCH_QUERY_KEYWORDS",this.payload={keywords:e}}}class a extends i.m{constructor(e){super(),this.id="TOGGLE_SEARCH_QUERY_KEYWORD",this.payload={keywordId:e}}}class o extends i.m{constructor(e){super(),this.id="CHANGE_SEARCH_GROUPING",this.payload={grouping:e}}}class l extends i.m{constructor(){super(),this.id="SEARCH_FILTER_CLEAR"}}class c extends i.m{constructor(e,t){super(),this.id="SEARCH_FILTER_TOGGLE",this.payload={groupId:e,enabled:t}}}class d extends i.m{constructor(e,t){super(),this.id="SELECT_SEARCH_RESULT",this.payload={id:e,typeId:t}}}class u extends i.m{constructor(e){super(),this.payload=e,this.id="SEARCH_GROUP_REGISTER"}}class h extends i.m{constructor(e){super(),this.id="SEARCH_GROUP_DEREGISTER",this.payload={id:e}}}},39866:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var i=n(59625);function s(e){const t=e.tryGetProperty(i.gx.SpaceSearch,0),n=e.getOverrideParam("search",1);return t&&!(0===n)}},30851:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var i=n(77230),s=n(37190),r=n(37034),a=n(76631),o=n(96403);function l(){const e=(0,i.A)(),t=(0,s.b)(),n=(0,r.f)(),l=(0,o.B)(),c=l===a.w1.SEARCH||l===a.w1.LAYERS;return!!e||c&&t.length>0||n.length>0}},36676:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var i=n(45755),s=n(29883);const r=(0,i.u)(s.T)},32279:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var i=n(67294),s=n(36676);function r(){const e=(0,s.s)(),[t,n]=(0,i.useState)((null==e?void 0:e.dataTypeGroups)||{});return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.dataTypeGroups)}const i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}},37034:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var i=n(67294),s=n(36676);function r(){const e=(0,s.s)(),[t,n]=(0,i.useState)((null==e?void 0:e.getKeywordFilters())||[]);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.getKeywordFilters())}const i=e.keywordFilters.onChanged(t);return t(),()=>i.cancel()}),[e]),t}},77230:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(73085),s=n(29883);const r=(0,i.M)(s.T,"query","")},46362:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var i=n(67294),s=n(36676);function r(){const e=(0,s.s)(),[t,n]=(0,i.useState)((null==e?void 0:e.getResults())||[]);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.getResults())}const i=e.onSearchResultsChanged(t);return t(),()=>i.cancel()}),[e]),t}},37190:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var i=n(67294),s=n(36676);function r(){const e=(0,s.s)(),[t,n]=(0,i.useState)((null==e?void 0:e.getTypeFilters())||[]);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.getTypeFilters())}const i=e.typeFilters.onChanged(t);return t(),()=>i.cancel()}),[e]),t}},49571:(e,t,n)=>{"use strict";n.d(t,{Vj:()=>s,Wh:()=>r,Xs:()=>i});const i=75,s=50,r=50},31855:(e,t,n)=>{"use strict";n.d(t,{j:()=>r,w:()=>a});var i=n(63319),s=n(49571);function r(e,t,n){var r;switch(n){case i.HH.TYPE:return(null===(r=null==e?void 0:e.dataTypeGroups[t])||void 0===r?void 0:r.groupOrder)||s.Xs;case i.HH.FLOOR:return s.Wh;case i.HH.LAYER:return s.Vj}return-1}function a(e){return`${e.id}-${e.typeId}`}},77950:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BoxVolume:()=>k.k,CylinderVolume:()=>P.X,SensorModule:()=>I,SourceType:()=>C,SphereVolume:()=>L.b,default:()=>R});var i=n(97542),s=n(92810),r=n(31546),a=n(90304),o=n(81396);class l{constructor(){this.needsUpdate=!0}notify(){this.needsUpdate=!0}}var c=n(98748);class d{constructor(e){this.observable=new c.$,this.notifier=new class{constructor(e){this.sensorObservable=e}notify(){this.sensorObservable.observable.notify()}}(this),this.dependencySub=e.sub(this.notifier)}dispose(){this.dependencySub.cancel()}observe(e){return this.observable.observe(e)}}class u{constructor(e){this.cameraData=e,this._forward=new o.Vector3,this.frustum=new o.Frustum,this.frustumTransform=new r.M,this.frustumProjection=new r.M,this.forwardObserver=new l,this.frustumObserver=new l,this.frustumObservable=new d(new h(e)),this.frustumObservable.observe(this.forwardObserver),this.frustumObservable.observe(this.frustumObserver)}dispose(){this.frustumObservable.dispose()}get fovx(){return this.cameraData.fovX()}get fovy(){return this.cameraData.fovY()}get forward(){return this.forwardObserver.needsUpdate&&(this.forwardObserver.needsUpdate=!1,this._forward.copy(a.fU.FORWARD),this._forward.applyQuaternion(this.cameraData.pose.rotation)),this._forward}observe(e){return this.frustumObservable.observe(e)}get origin(){return this.cameraData.pose.position}containsPoint(e){return this.updateVolume(),this.frustum.containsPoint(e)}updateVolume(){if(this.frustumObserver.needsUpdate){this.frustumObserver.needsUpdate=!1;const e=this.cameraData.pose;this.frustumTransform.compose(e.position,e.rotation,a.fU.UNIT).getInverse(this.frustumTransform),this.frustumProjection.copy(this.cameraData.pose.projection),this.frustum.setFromProjectionMatrix(this.frustumTransform.multiplyMatrices(this.frustumProjection,this.frustumTransform).asThreeMatrix4())}}}class h{constructor(e){this.cameraData=e}sub(e){return this.cameraData.onChanged((()=>e.notify()))}}var p=n(9037);class m{constructor(){this.sensors=new Set}addSensor(e){this.sensors.add(e)}removeSensor(e){this.sensors.delete(e)}update(){for(const e of this.sensors)e.update()}}class f{constructor(e,t,n){this.frustum=e,this.raycaster=t,this.sensorDisposer=n,this.volumeObserver=new l,this.sources=new Set,this.dirtySources=new Set,this.sourceWatchers=new Map,this.readingsCache=new Map,this.readingObservable=new c.$,this.raycastDirection=new o.Vector3,this.volumeSub=e.observe(this.volumeObserver)}get origin(){return this.frustum.origin}dispose(){this.volumeSub.cancel(),this.sensorDisposer.disposeSensor(this)}addSource(...e){for(const t of e)this.sources.add(t),this.dirtySources.add(t),this.sourceWatchers.set(t,new g(this.dirtySources,t))}get readings(){return this.readingsCache}update(){this.volumeObserver.needsUpdate?(this.volumeObserver.needsUpdate=!1,this.recomputeAllReadings(),this.readingObservable.notify()):this.dirtySources.size>0&&(this.recomputeDirtyReadings(),this.readingObservable.notify())}recomputeAllReadings(){for(const e of this.sources)this.recomputeReading(e);this.dirtySources.clear()}recomputeDirtyReadings(){for(const e of this.dirtySources)this.recomputeReading(e);this.dirtySources.clear()}recomputeReading(e){this.raycastDirection.copy(e.origin).sub(this.frustum.origin).normalize();const t=this.frustum.origin.distanceToSquared(e.origin),n=this.readingsCache.get(e)||{direction:new o.Vector3};n.inRange=function(e,t){return t.volume.containsPoint(e.origin)}(this,e),n.inView=n.inRange&&this.frustum.containsPoint(e.origin)&&!function(e,t){return!!t&&e>t.distance**2}(t,this.raycaster.picking.pick(this.frustum.origin,this.raycastDirection)),n.direction.copy(this.raycastDirection),n.distanceSq=t,this.readingsCache.set(e,n)}onReadingsUpdated(e){return this.readingObservable.observe(e)}}class g{constructor(e,t){this.sub=t.volume.observe({notify(){e.add(t)}})}dispose(){this.sub.cancel()}}var v=n(23612),b=n(86819),y=n(72996);const E=(e,t)=>e.type===C.BOX?O(t):e.type===C.CYLINDER?function(e){const t=new o.CylinderGeometry(.5,.5,1);t.translate(0,.5,0);const n=new o.Mesh(t,new o.MeshBasicMaterial);n.scale.set(.05,.1,.05);const i=new o.MeshBasicMaterial({transparent:!0,opacity:.1,side:o.DoubleSide,depthWrite:!1}),s=new o.Mesh(t,new o.MeshBasicMaterial({wireframe:!0})),r=new o.Mesh(t,i);return r.add(s),e.add(n),e.add(r),{interactionMesh:n,volumeMesh:r,dispose(){e.remove(n),e.remove(r),n.geometry.dispose(),n.material.dispose(),r.geometry.dispose(),r.material.dispose(),s.geometry.dispose(),s.material.dispose()},setColor(e){r.material.color.set(e),s.material.color.set(e)}}}(t):S(t),S=e=>{const t=new o.SphereGeometry(1,20,20),n=new o.Mesh(t,new o.MeshBasicMaterial);n.scale.set(.5,.5,.5);const i=new o.Mesh(t,new o.MeshBasicMaterial({wireframe:!0})),s=new o.Mesh(t,new o.MeshBasicMaterial({transparent:!0,opacity:.1,side:o.DoubleSide,depthWrite:!1}));return s.add(i),e.add(n),e.add(s),{interactionMesh:n,volumeMesh:s,dispose:()=>{e.remove(n),e.remove(s),n.geometry.dispose(),n.material.dispose(),s.geometry.dispose(),s.material.dispose(),i.geometry.dispose(),i.material.dispose()},setColor:e=>{s.material.color.set(e),i.material.color.set(e)}}},O=e=>{const t=new o.BoxGeometry(1,1,1),n=new o.Mesh(t,new o.MeshBasicMaterial);n.scale.set(.1,.1,.1);const i=new o.MeshBasicMaterial({transparent:!0,opacity:.1,side:o.DoubleSide,depthWrite:!1}),s=new o.Mesh(t,i),r=new o.LineSegments(new o.EdgesGeometry(t),new o.LineBasicMaterial);return s.add(r),e.add(n),e.add(s),{interactionMesh:n,volumeMesh:s,dispose:()=>{e.remove(n),e.remove(s),n.geometry.dispose(),n.material.dispose(),s.geometry.dispose(),s.material.dispose(),r.geometry.dispose(),r.material.dispose()},setColor:e=>{s.material.color.set(e),r.material.color.set(e)}}};const T=e=>{if(e.type===C.BOX){const t=e;return Object.assign({},t.volume.size)}if(e.type===C.CYLINDER){const t=e;return{x:t.volume.radius,y:t.volume.height,z:t.volume.radius}}{const t=e.volume.radius;return{x:t,y:t,z:t}}},_=(new o.Quaternion).identity();function w(e){if(e.type===C.BOX){return e.volume.orientation}return _}class N{constructor(e,t,n){this.source=e,this.scene=t,this.inputIni=n,this.subs=[],this.stickyHover=!1,this.sourceDirty=!0,this.meshes=E(e,this.scene.scene),this.meshes.interactionMesh.scale.set(.1,.1,.1),this.meshes.interactionMesh.position.copy(this.source.origin),this.meshes.interactionMesh.material.color.set(16724312),this.meshes.volumeMesh.scale.set(0,0,0),this.meshes.volumeMesh.position.copy(this.source.origin),this.meshes.volumeMesh.visible=!1;const i=w(e);this.meshes.volumeMesh.quaternion.copy(i);this.mixer=new o.AnimationMixer(this.meshes.volumeMesh);const s=T(e),r=new o.VectorKeyframeTrack(".scale",[0,.4],[0,0,0,s.x,s.y,s.z],o.InterpolateSmooth),a=new o.AnimationClip(void 0,.4,[r]);this.onHoverAction=this.mixer.clipAction(a),this.onHoverAction.clampWhenFinished=!0,this.onHoverAction.loop=o.LoopOnce;const l=()=>{const e=this.onHoverAction.time;this.onHoverAction.reset(),this.meshes.volumeMesh.visible=!0,this.onHoverAction.timeScale=1,this.onHoverAction.time=e,this.onHoverAction.play()},c=()=>{this.stickyHover=!this.stickyHover,this.stickyHover?this.meshes.interactionMesh.material.color.set(4473924):this.meshes.interactionMesh.material.color.set(16724312)};this.subs.push(this.inputIni.registerMeshHandler(v.z,y.s.isValue(this.meshes.interactionMesh),l)),this.subs.push(this.inputIni.registerMeshHandler(v.A,y.s.isValue(this.meshes.interactionMesh),(()=>{if(!this.stickyHover){const e=this.onHoverAction.time;this.onHoverAction.reset(),this.onHoverAction.time=e,this.onHoverAction.timeScale=-1,this.onHoverAction.play()}}))),this.subs.push(this.inputIni.registerMeshHandler(b.R,y.s.isValue(this.meshes.interactionMesh),c)),this.inputIni.registerMesh(this.meshes.interactionMesh,!1),l(),c(),this.subs.push(e.volume.observe(this))}notify(){this.sourceDirty=!0}update(e,t){if(this.sourceDirty){this.sourceDirty=!1,this.meshes.interactionMesh.position.copy(this.source.origin),this.meshes.volumeMesh.position.copy(this.source.origin),this.meshes.volumeMesh.quaternion.copy(w(this.source));const e=T(this.source),t=this.onHoverAction.getClip().tracks[0].values;t[3]=e.x,t[4]=e.y,t[5]=e.z}this.meshes.setColor(t.inRange?65280:16711680),this.mixer.update(e/1e3)}dispose(){this.meshes.dispose(),this.mixer.stopAllAction();for(const e of this.subs)e.cancel()}}class A{constructor(e,t,n){this.sensor=e,this.scene=t,this.inputIni=n,this.subs=[],this.visuals=new Map}init(){this.subs.push(this.sensor.onReadingsUpdated(this))}render(e){for(const[t,n]of this.sensor.readings){let i=this.visuals.get(t);i||(i=new N(t,this.scene,this.inputIni),this.visuals.set(t,i)),i.update(e,n)}}dispose(){}activate(){}deactivate(){for(const e of this.subs)e.cancel();for(const e of this.visuals.values())e.dispose();this.visuals.clear()}notify(){}}class I extends i.Y{constructor(){super(...arguments),this.name="sensor-module",this.sensorUpdater=new m,this.debugSensor=null,this.sensorDisposer=new class{constructor(e){this.sensors=e}disposeSensor(e){this.sensors.removeSensor(e)}}(this)}async init(e,t){[this.cameraData,this.raycaster,this.renderer,this.inputIni]=await Promise.all([await t.market.waitForData(p.M),await t.getModuleBySymbol(s.fQ),await t.getModuleBySymbol(s.Aj),await t.getModuleBySymbol(s.PZ)]),this.cameraVolume=new u(this.cameraData);var n,i,r,a;this.sensorDebuggerFactory=(n=e=>{t.addComponent(this,e)},i=e=>{t.removeComponent(this,e)},r=this.renderer.getScene(),a=this.inputIni,e=>{const t=new A(e,r,a);return n(t),{dispose:()=>{i(t)}}})}dispose(){this.cameraVolume.dispose()}createSensor(e){const t=new f(e,this.raycaster,this.sensorDisposer);return this.sensorUpdater.addSensor(t),t}createCameraBoundSensor(){return this.createSensor(this.cameraVolume)}setDebugSensor(e){this.debugSensor&&(this.debugSensor.dispose(),this.debugSensor=null),e&&(this.debugSensor=this.sensorDebuggerFactory(e))}onUpdate(){this.sensorUpdater.update()}removeSensor(e){this.sensorUpdater.removeSensor(e)}}var k=n(57898),P=n(24484),L=n(99539);const R=I;var C;!function(e){e.SPHERE="sourcetype.sphere",e.BOX="sourcetype.box",e.CYLINDER="sourcetype.cylinder"}(C||(C={}))},57898:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var i=n(81396),s=n(98748);class r extends s.${constructor(){super(),this.box=new i.Box3,this.center=new i.Vector3,this.size=new i.Vector3(1/0,1/0,1/0),this.orientation=new i.Quaternion,this.inverseOrientation=new i.Quaternion,this.pointCache=new i.Vector3,this.transformNeedsUpdate=!1,this.box.setFromCenterAndSize(this.center,this.size)}get origin(){return this.center}updateCenter(e){this.center.copy(e),this.box.setFromCenterAndSize(this.center,this.size),this.transformNeedsUpdate=!0}updateDimensions(e){this.size.copy(e),this.box.setFromCenterAndSize(this.center,this.size)}updateOrientation(e){this.orientation.copy(e),this.transformNeedsUpdate=!0}containsPoint(e){return this.transformNeedsUpdate&&(this.transformNeedsUpdate=!1,this.inverseOrientation.copy(this.orientation).invert()),this.pointCache.copy(e).sub(this.center),this.pointCache.applyQuaternion(this.orientation),this.pointCache.add(this.center),this.box.containsPoint(this.pointCache)}}},24484:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var i=n(81396),s=n(98748);class r extends s.${constructor(){super(...arguments),this._basePoint=new i.Vector3,this._height=1/0,this._radius=1/0,this.pointCache=new i.Vector3}get origin(){return this._basePoint}get basePoint(){return this._basePoint}get height(){return this._height}get radius(){return this._radius}updateBasePoint(e){this.basePoint.set(e.x,e.y,e.z)}updateHeight(e){this._height=e}updateRadius(e){this._radius=e}containsPoint(e){return this.pointCache.set(e.x,this._basePoint.y,e.z),this._basePoint.distanceToSquared(this.pointCache)<=this.radius**2&&this._basePoint.y<=e.y&&e.y<=this._basePoint.y+this.height}}},99539:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var i=n(81396),s=n(98748);class r extends s.${constructor(){super(...arguments),this.origin=new i.Vector3,this.radius=1/0}updateRadius(e){this.radius=e}updateOrigin(e){this.origin.copy(e)}containsPoint(e){return this.origin.distanceToSquared(e)<=this.radius**2}}},8728:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var i=n(75287),s=n(95882),r=n(50090);class a extends i.T{constructor(){super(),this.category=r.i.USER}clone(){return(new a).copy(this)}copy(e){return this.sid=e.sid,this.thumbnailUrl=e.thumbnailUrl,this.imageUrl=e.imageUrl,this.name=e.name,this.is360=e.is360,this.category=e.category,this.height=e.height,this.width=e.width,this.created=e.created,this.modified=e.modified,this.visionLabel=e.visionLabel,this.visionName=e.visionName,this.imageBlob=e.imageBlob,this.metadata={cameraMode:e.metadata.cameraMode,cameraPosition:e.metadata.cameraPosition.clone(),cameraQuaternion:e.metadata.cameraQuaternion.clone(),scanId:e.metadata.scanId,orthoZoom:e.metadata.orthoZoom,ssZoom:e.metadata.ssZoom,floorId:e.metadata.floorId,floorVisibility:e.metadata.floorVisibility},this.commit(),this}isInsidePano(){return this.metadata.cameraMode===s.Ey.Panorama&&""!==this.metadata.scanId}refresh(e){this.thumbnailUrl.refreshFrom(e.thumbnailUrl),this.imageUrl.refreshFrom(e.imageUrl)}}},50090:(e,t,n)=>{"use strict";var i;n.d(t,{i:()=>i}),function(e){e.USER="user",e.PANORAMA="panorama",e.UNALIGNED="unaligned",e.AUTO="auto",e.TOUR="tour"}(i||(i={}))},58368:(e,t,n)=>{"use strict";n.d(t,{Ad:()=>r,nM:()=>a,ye:()=>o,yz:()=>s});var i=n(19663);class s extends i.m{constructor(e,t){super(),this.id="RENAME_SNAPSHOT",this.payload={id:e,name:t}}}class r extends i.m{constructor(e){super(),this.id="DELETE_SNAPSHOT",this.payload={id:e}}}class a extends i.m{constructor(e){super(),this.id="UPLOAD_SNAPSHOT",this.payload={snapshot:e}}}class o extends i.m{constructor(e){super(),this.id="SET_CURRENT_SNAPSHOT_PHOTO",this.payload={id:e}}}},68717:(e,t,n)=>{"use strict";n.d(t,{P:()=>l});var i=n(67992),s=n(39880),r=n(56367),a=n(50090);a.i.PANORAMA,a.i.TOUR,a.i.USER;const o=(e,t)=>{const n=e.name||(0,s.DZ)(e.created),i=t.name||(0,s.DZ)(t.created);return n.localeCompare(i)};class l extends i.V{constructor(e){super(),this.name="snapshots",this.snapshots={};for(const t in e)this.snapshots[t]=e[t].clone()}get(e){return this.snapshots[e]}async getImageUrl(e){return await this.get(e).imageUrl.get()}get collection(){return this.snapshots}get snapshotsCount(){return this.snapshots?Object.keys(this.snapshots).length:0}getSortedCollection(e){return this.snapshotsCount?Object.values(this.snapshots).sort(e||o):[]}setSelectedPhoto(e){this.selectedPhotoId=e,this.commit()}add(e){e.sid=this.validateSid(e.sid),this.snapshots[e.sid]=e,this.updateOnStaleCallbacks(),this.commit()}remove(e){delete this.snapshots[e]}validateSid(e){for(;!e||this.snapshots[e];)e=(0,s.O1)(11);return e}set onStale(e){this.hydrate=e,this.updateOnStaleCallbacks()}updateOnStaleCallbacks(){this.hydrate&&(0,r.s)(this.snapshots,(async()=>{const e=await this.hydrate();for(const t in this.snapshots)e&&e[t]&&this.snapshots[t].refresh(e[t])}))}}},85583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var i=n(97542),s=n(95882),r=n(53954),a=n(68717),o=n(19642),l=n(17788),c=n(91431),d=n(5823),u=n(2569),h=n(59296),p=n(50090);const m={[s.Ey.Dollhouse]:d.wO.DOLLHOUSE,[s.Ey.Floorplan]:d.wO.FLOORPLAN,[s.Ey.Panorama]:d.wO.PANORAMA,[s.Ey.Outdoor]:d.wO.PANORAMA,[s.Ey.Transition]:d.wO.MESH,[s.Ey.Orthographic]:d.wO.MESH,[s.Ey.Mesh]:d.wO.MESH};class f{constructor(){}serialize(e,t){const n=[];for(const[i,s]of e.metadata.floorVisibility.entries())if(1===s){const e=t.floorsData.getFloorAtIndex(i);e&&n.push(e.id)}return{label:e.name,contents:{filename:`${e.name}.jpg`,blob:e.imageBlob},snapshotLocation:{anchorId:e.metadata.scanId,visibleFloorIds:n,position:(0,h.m)(u.ep.toVisionVector(e.metadata.cameraPosition)),rotation:(0,h.J5)(u.ep.toVisionCameraQuaternion(e.metadata.cameraQuaternion)),viewMode:m[e.metadata.cameraMode],zoom:e.metadata.cameraMode===s.Ey.Floorplan?e.metadata.orthoZoom:e.metadata.ssZoom},photoType:e.category===p.i.PANORAMA?d.BE.EQUIRECTANGULAR:d.BE.PHOTO2D}}}class g extends l.u{constructor(){super(...arguments),this.deserializer=new c.f,this.serializer=new f,this.prefetchKey="data.model.assets.photos"}async read(e){const t={modelId:this.getViewId()};return this.query(o.GetSnapshots,t,e).then((e=>{var t,n,i;const s=((null===(i=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.assets)||void 0===i?void 0:i.photos)||[]).map((e=>this.deserializer.deserialize(e))),r={};for(const e of s)e&&(r[e.sid]=e);return r}))}async refresh(){return this.refreshPromise||(this.refreshPromise=this.read({fetchPolicy:"no-cache"}).finally((()=>{this.refreshPromise=void 0}))),this.refreshPromise}async create(e,t){const n=this.getBaseViewId(),i=e.category===p.i.TOUR,s=i?"UploadHighlightReelSnapshot":"UploadModelSnapshot",r=i?o.UploadHighlightReelSnapshot:o.UploadModelSnapshot,a=this.serializer.serialize(e,t);return this.client.upload(r,s,Object.assign(Object.assign({},a),{modelId:n})).then((e=>{var t;return this.deserializer.deserialize(null===(t=e.data)||void 0===t?void 0:t.snapshot)}))}async update(e){var t;const n=this.getBaseViewId(),i=null===(t=(await this.client.mutate(o.PatchPhoto,{modelId:n,photoId:e.sid,label:e.name})).data)||void 0===t?void 0:t.patchPhoto;return this.deserializer.deserialize(i)}async delete(e){var t;const n=this.getBaseViewId();return(null===(t=(await this.client.mutate(o.DeletePhoto,{modelId:n,photoId:e})).data)||void 0===t?void 0:t.deletePhoto)||!1}}var v=n(58368),b=n(98010);class y extends b.v0{constructor(e){super(),this.snapshot=e}}var E=n(76957),S=n(80742);class O extends i.Y{constructor(){super(...arguments),this.name="snapshots-data"}async init(e,t){const{readonly:n,baseUrl:i,baseModelId:s}=e;this.engine=t;const o=await t.market.waitForData(S.R);this.store=new g({context:o.mdsContext,readonly:n,baseUrl:i,viewId:s});const l=await this.store.read()||{};this.sweepData=await t.market.waitForData(r.Z);for(const e in l)this.processSnapshot(l[e]);this.snapshotsData=new a.P(l),this.snapshotsData.onStale=()=>this.store.read(),t.market.register(this,a.P,this.snapshotsData),n||this.bindings.push(t.commandBinder.addBinding(v.nM,(({snapshot:e})=>this.uploadSnapshot(e))),t.commandBinder.addBinding(v.yz,(({id:e,name:t})=>this.renameSnapshot(e,t))),t.commandBinder.addBinding(v.Ad,(({id:e})=>this.deleteSnapshot(e))),t.commandBinder.addBinding(v.ye,(({id:e})=>this.setSelectedPhoto(e))))}async setSelectedPhoto(e){this.snapshotsData.setSelectedPhoto(e)}async uploadSnapshot(e){const t=await this.engine.market.waitForData(E.i),n=await this.store.create(e,{floorsData:t});return n&&(this.processSnapshot(n),this.snapshotsData.add(n),this.engine.broadcast(new y(n))),n}async renameSnapshot(e,t){const n=this.snapshotsData.get(e);if(t!==n.name)return n.name=t,n.commit(),this.snapshotsData.commit(),this.store.update(n)}async deleteSnapshot(e){await this.store.delete(e).catch((t=>{this.log.debug(t),this.log.error(`Failed to delete snapshot ${e}`)}))&&(this.snapshotsData.remove(e),this.snapshotsData.commit())}processSnapshot(e){const t=e.metadata.cameraMode===s.Ey.Panorama,n=!this.sweepData.isSweepAligned(e.metadata.scanId);if(e.is360=t&&n,t){const t=this.sweepData.getSweep(e.metadata.scanId);t&&e.metadata.cameraPosition.copy(t.position)}e.name.match(/^[0-9.]+_[0-9.]+$/)&&(e.name="")}}},91431:(e,t,n)=>{"use strict";n.d(t,{f:()=>p});var i=n(81396),s=n(95882),r=n(97998),a=n(2569),o=n(9133),l=n(8728),c=n(50090),d=n(56367),u=n(5823);const h=new r.Z("mds-snapshot-deserializer");class p{deserialize(e){var t,n,r,p;if(!e||!this.validate(e))return h.debug("Deserialized invalid Snapshot data from MDS",e),null;const m=new l.a;m.sid=e.id,m.thumbnailUrl=new d.n(e.thumbnailUrl||"",(0,o.p)(e.validUntil,null)),m.imageUrl=new d.n(e.presentationUrl||"",(0,o.p)(e.validUntil,null)),m.name=e.label||"",m.category=this.getCwfSnapshotCategory(e)||c.i.USER,m.width=e.width||0,m.height=e.height||0,m.created=(0,o.p)(e.created),m.modified=(0,o.p)(e.modified),m.visionLabel=e.classification||"";const f=null===(r=null===(n=null===(t=e.snapshotLocation)||void 0===t?void 0:t.anchor)||void 0===n?void 0:n.pano)||void 0===r?void 0:r.placement;m.is360=!(!f||f===u.bW.AUTO);const{snapshotLocation:g}=e;if(g){const e=g.position?a.ep.fromVisionVector(g.position):new i.Vector3,t=g.rotation?a.ep.fromVisionCameraQuaternion(g.rotation):new i.Quaternion,n=this.getCwfViewmode(g.viewMode)||s.Ey.Panorama,r=[];for(const e of g.floorVisibility||[]){for(let t=0;t<e.sequence;t++)r[t]=r[t]||0;r[e.sequence]=1}m.metadata={cameraMode:n,cameraPosition:e,cameraQuaternion:t,scanId:g.anchor&&g.anchor.id||"",orthoZoom:n===s.Ey.Floorplan&&null!==(p=g.zoom)&&void 0!==p?p:-1,ssZoom:g.zoom||1,floorId:g.floorVisibility&&g.floorVisibility.length>0?g.floorVisibility[0].id:null,floorVisibility:r}}return m}validate(e){var t;if(!(null===(t=e.snapshotLocation)||void 0===t?void 0:t.position))return!1;const n=["id","snapshotLocation","thumbnailUrl","presentationUrl"].every((t=>t in e)),i=null!==this.getCwfSnapshotCategory(e);return n&&i}getCwfViewmode(e){const t={[u.wO.DOLLHOUSE]:s.Ey.Dollhouse,[u.wO.PANORAMA]:s.Ey.Panorama,[u.wO.FLOORPLAN]:s.Ey.Floorplan,[u.wO.MESH]:s.Ey.Panorama};return e&&e in t?t[e]:null}getCwfSnapshotCategory(e){var t,n,i;if(e.category===u.EG.TOUR)return c.i.TOUR;if(e.origin===u.Au.VISION)return c.i.AUTO;if(e.type===u.BE.EQUIRECTANGULAR)return c.i.PANORAMA;const s=null===(i=null===(n=null===(t=e.snapshotLocation)||void 0===t?void 0:t.anchor)||void 0===n?void 0:n.pano)||void 0===i?void 0:i.placement;return e.type===u.BE.PHOTO2D?s===u.bW.MANUAL?c.i.UNALIGNED:c.i.USER:null}}},75125:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});class i{static get hasPassword(){const{model:e}=window.MP_PREFETCHED_MODELDATA||{};return e&&e.has_public_access_password}static getQuery(e){var t,n;const i=(null===(t=window.MP_PREFETCHED_MODELDATA)||void 0===t?void 0:t.queries)||{};switch(e){case"GetModelPrefetch":{const t=i[e];if(!t)return;const s=null===(n=t.data)||void 0===n?void 0:n.model;if(!s)return;if(!s.locations.length)return;return t}default:return i[e]}}static get config(){var e;return null===(e=window.MP_PREFETCHED_MODELDATA)||void 0===e?void 0:e.config}}},54559:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var i=n(27553),s=n(11221),r=n(97998),a=n(73123);const o=new r.Z("PrefetchedQueryCache");class l{constructor(e){const{initialData:t,baseUrl:n}=e;this.client=new i.w({baseUrl:n}),this.config=e,t&&(this.data=t)}async read(e,t,n={}){const{prefetchKey:i,prefetchPolicy:r=this.config.prefetchPolicy}=n;if(!i||r===s.h.NONE)return;if((null==t?void 0:t.modelId)!==this.config.variables.modelId)return;r!==s.h.PRELOAD||this.preloadPromise||this.preload(),void 0===this.data&&this.preloadPromise&&await this.preloadPromise;const a=this.has(i);return o.debug(`Cache ${a?"hit":"miss"} for ${i}`),a?this.data:void 0}clear(){this.data=void 0}async preload(){return this.preloadPromise=(async()=>{const{query:e,variables:t}=this.config;try{return this.data=await this.client.query(e,t),!0}catch(e){return o.info(e),this.data={},!1}})(),this.preloadPromise}has(e){return void 0!==(0,a.q)(this.data,e)}}},90632:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var i=n(67992),s=n(45905);class r extends i.V{constructor(e={}){super(),this.lastPublished=null,this.transactionState=s.g.IDLE,Object.assign(this,e)}setTransactionState(e){if(e!==this.transactionState){if(![this.transactionState,e].includes(s.g.IDLE))throw new Error(`Cannot transition from ${this.transactionState} to ${e}`);this.transactionState=e,this.commit()}}}},635:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var i=n(19663);class s extends i.m{constructor(e){super(),this.id="SAVE_COMMAND",this.payload=e}}},45905:(e,t,n)=>{"use strict";var i,s;n.d(t,{Q:()=>s,g:()=>i}),function(e){e.IDLE="idle",e.SAVING="saving"}(i||(i={})),function(e){e.ON="on",e.BEFORE="before",e.AFTER="after"}(s||(s={}))},24359:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DataSavedMessage:()=>h.xj,ForbiddenError:()=>l,ForbiddenErrorMessage:()=>h.hu,PublishError:()=>d,PublishErrorMessage:()=>h.aT,SaveCommand:()=>i.V,SaveError:()=>c,SaveErrorMessage:()=>h.dz,StorageAnalytics:()=>m,StorageData:()=>f.Q,StorageError:()=>o,TransactionPhase:()=>s.Q,TransactionState:()=>s.g,default:()=>x,getErrorCodeForDataType:()=>u});var i=n(635),s=n(45905),r=n(2224),a=n(79728);class o extends r.y{constructor(e,t="50001"){super(e),this.name="StorageError",this.code=t}}class l extends r.y{constructor(e,t="53100"){super(e),this.name="ForbiddenError",this.code=t}}class c extends r.y{constructor(e,t="53100"){super(e),this.name="SaveError",this.code=t}}class d extends r.y{constructor(e,t="53200"){super(e),this.name="PublishError",this.code=t}}function u(e){return{[a.g.BLUR_SUGGESTIONS]:"12",[a.g.BLURS]:"01",[a.g.FLOORS]:"02",[a.g.HIGHLIGHTS]:"03",[a.g.LABELS]:"04",[a.g.MATTERTAGS]:"05",[a.g.MEASUREMENTS]:"06",[a.g.NOTES]:"07",[a.g.OBJECT_ANNOTATIONS]:"15",[a.g.ORDERED_LISTS]:"13",[a.g.PHOTOS]:"08",[a.g.PLUGINS]:"17",[a.g.SETTINGS]:"09",[a.g.START_LOCATION]:"10",[a.g.SWEEPS]:"11",[a.g.LAYERS]:"14",[a.g.ROOM_BOUNDS]:"16"}[e]||"99"}var h=n(85979),p=n(67223);class m{constructor(){this.handlers=[{msgType:h.dz,func:(e,t)=>{const{dataTypes:n,error:i}=t,s=i.name||"SaveError",r={error_code:(0,p.UX)(i).join(", "),error_type:s,error_dialog:"banner",data_type:n?n.join(", "):"",exception:{message:`${s}: ${i.message}`,stack:i.stack},mock_error:(0,p.Ad)(i)};e.track("error_displayed",r)}},{msgType:h.aT,func:(e,t)=>{const{dataTypes:n,error:i}=t,s=i.name||"PublishError",r={error_code:(0,p.UX)(i).join(", "),error_type:s,error_dialog:"banner",data_type:n?n.join(", "):"",exception:{message:`${s}: ${i.message}`,stack:i.stack},mock_error:(0,p.Ad)(i)};e.track("error_displayed",r)}}]}}var f=n(90632),g=n(97542),v=n(27553),b=n(22427),y=n(51454),E=n(95548),S=n(54232),O=n(97998),T=n(59279),_=n(31362),w=n(80742),N=n(53954),A=n(23254),I=n(79727),k=n(9037),P=n(7159),L=n(54244),R=n(10374);const C=new O.Z("publishing-manager");class D{constructor(e,t,n){this.engine=t,this.lock=n,this.client=e;const{market:i}=this.engine;Promise.all([i.waitForData(L.pu),i.waitForData(w.R)]).then((([e,n])=>{const i=n.getWorkshopSessionView();if(i)if(e.application===L.Mx.WORKSHOP)this.publish(i);else{const e=t.subscribe(R.bS,(t=>{t.application===L.Mx.WORKSHOP&&(e.cancel(),this.publish(i))}))}}))}async publish(e){const t=await this.lock.lock();C.debug("Publishing"),await this.mergeView(e.id).catch((e=>{C.error(e),t.unlock();const n="53200";if(e instanceof y.V2||e instanceof y.GT){const t=new l(e,n);throw this.engine.broadcast(new h.hu(t,[])),t}const i=new d(e,n);throw this.engine.broadcast(new h.aT(i,[])),i})),t.unlock(),await this.hasWorkshopChanges(e.id)?C.error("Auto-Publishing failed"):(C.debug("Auto-Publishing completed"),this.reloadWorkshop())}async mergeView(e){const t=await this.client.query(S.PublishView,{viewId:e}).catch((e=>{throw new E.w0(e)})),n="53200"===(0,T.eY)("error","");if(!v.w.isOk(t)||n){const e=new E.w0(v.w.getErrorMessage(t));throw n&&(e.isMock=!0),e}}async hasWorkshopChanges(e){var t,n,i;const s=null===(i=null===(n=null===(t=(await this.client.query(S.GetMergeDiff,{viewId:e}).catch((e=>{throw new E.Zb(e)}))).data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.mergeDiff)||void 0===i?void 0:i.typesModified;return!!s&&s.length>0}async reloadWorkshop(){const{market:e}=this.engine,[t,n,i,s]=await Promise.all([e.waitForData(N.Z),e.waitForData(A.O),e.waitForData(I.c),e.waitForData(k.M)]),r=P.K.serialize({cameraData:s,viewmodeData:n,floorsViewData:i,sweepData:t});r.set("edit","1"),r.set("qs","1"),(0,_.Vf)(r.toString())}}var M=n(35895);class x extends g.Y{constructor(){super(...arguments),this.name="storage",this.saveHandlers=new Set,this.lock=new b.H,this.pendingSaves=0}async init(e,t){const{baseUrl:n}=e;this.config=e,this.engine=t,this.client=new v.w({baseUrl:n}),this.data=new f.Q,this.bindings.push(t.commandBinder.addBinding(i.V,(e=>this.save(e.dataTypes,e.onCallback,e.skipDirtyUpdate)))),t.market.waitForData(w.R).then((e=>{e.isWorkshopSessionView()&&new D(this.client,this.engine,this.lock)})),t.market.register(this,f.Q,this.data)}dispose(e){super.dispose(e)}onSave(e,t={}){const n={callback:e,dataType:t.dataType,phase:t.phase||s.Q.ON};return(0,M.k1)((()=>this.saveHandlers.add(n)),(()=>this.saveHandlers.delete(n)),!0)}async save(e,t,n=!1){this.pendingSaves++;const i=await this.lock.lock(),r=t=>{this.log.error(t),this.pendingSaves--,i.unlock(),0===this.pendingSaves&&this.data.setTransactionState(s.g.IDLE);const n=e[0]?`531${u(e[0])}`:"53100";if(t instanceof y.V2||t instanceof y.GT){const i=new l(t,n);throw this.engine.broadcast(new h.hu(i,e)),i}const r=new c(t,n);throw this.engine.broadcast(new h.dz(r,e)),r};this.log.debug(`Saving ${[...e].join(", ")}...`),this.data.setTransactionState(s.g.SAVING);const{before:a,on:o,after:d}=this.getCallbacksByPhase(this.saveHandlers,e);await Promise.all(a.map((e=>e()))).catch(r),await Promise.all(o.map((e=>e()))).catch(r),t&&await t().catch(r),this.engine.broadcast(new h.xj(e)),await Promise.all(d.map((e=>e()))).catch(r),this.pendingSaves--,i.unlock(),0===this.pendingSaves&&this.data.setTransactionState(s.g.IDLE),this.log.debug(`Saving ${[...e].join(", ")} completed`)}getCallbacksByPhase(e,t){const n=Array.isArray(t)?t:Object.values(a.g),i=[...e.values()].filter((e=>!e.dataType||n.includes(e.dataType))),r={[s.Q.BEFORE]:[],[s.Q.ON]:[],[s.Q.AFTER]:[]};return i.reduce(((e,t)=>(e[t.phase].push((()=>t.callback(n))),e)),r)}}},85979:(e,t,n)=>{"use strict";n.d(t,{aT:()=>a,dz:()=>r,hu:()=>o,xj:()=>s});var i=n(98010);class s extends i.v0{constructor(e){super(),this.dataTypes=e}}class r extends i.v0{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class a extends i.v0{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class o extends i.v0{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}},96365:(e,t,n)=>{"use strict";n.d(t,{B_:()=>s,ED:()=>a,FI:()=>l,M3:()=>i,My:()=>r,Tm:()=>d,ke:()=>o,pr:()=>c});const i="subscriber_prompt",s="subscriber-prompt-active",r="subscriber-prompt-active",a=Object.freeze({popupDelay:14500,popupEnabled:!1,bannerEnabled:!1,domainDenylist:["ea4141d5b45bcfce5ac984955a7df9f74b323182","500ef59c0e9bd523a5e102d4b229b85df4c008c2","55d9b1786668eb25ce174aa06d46535054046935","44a68fb615814e263894da681018ed5687527b75","750514616c13561e878f04cd38cedc4bd3028f60","633e98d1f7cf36879e21d642068af2196d67a229","2566065b5d698efd82a16854185501ee2ea8eae6"]}),o={enabled:"spEnabled",forceBanner:"spBanner",forcePopup:"spPopup",forceReferrer:"spReferrer"},l="spaces.visitor.subscriber.prompt",c="mp/subscriber-prompt-dismissed",d="https://matterport.page.link/v2s-download"},83038:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});const i=new(n(97998).Z)("subscriber-prompt")},18923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(14630);class s extends i.Z{}},66563:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(14630);class s extends i.Z{constructor(e,t,n,i){super(e,i),this.alignmentType=t,this.placementType=n}}},14630:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.fromSweep=t,this.toSweep=e,this.timestamp=Date.now()}}},63252:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,hU:()=>s,z9:()=>i});var i,s,r=n(81396),a=n(75287),o=n(76609);!function(e){e.ALIGNED="aligned",e.UNALIGNED="unaligned"}(i||(i={})),function(e){e.UNPLACED="unplaced",e.AUTO="auto",e.MANUAL="manual"}(s||(s={}));const l={[o.SL.BASE]:"512",[o.SL.STANDARD]:"1k",[o.SL.HIGH]:"2k",[o.SL.ULTRAHIGH]:"4k"},c={[o.SL.BASE]:"low",[o.SL.STANDARD]:"high",[o.SL.HIGH]:"2k",[o.SL.ULTRAHIGH]:"4k"};class d extends a.T{constructor(e){super(),this.skyboxes={},e&&(e.id&&(this.id=e.id),void 0!==e.index&&(this.index=e.index),this.name=e.name||"",this.position=e.position||new r.Vector3,this.floorPosition=e.floorPosition||new r.Vector3,void 0!==e.floorId&&(this.floorId=e.floorId),this.roomId=e.roomId||null,this.rotation=e.rotation||new r.Quaternion,this.enabled=e.enabled||!1,this.vrenabled=e.vrenabled||!1,this.neighbours=e.neighbours||[],this.alignmentType=e.alignmentType||i.ALIGNED,this.placementType=e.placementType||s.UNPLACED,void 0!==e.uuid&&(this.uuid=e.uuid),e.resolutions&&(this.resolutions=e.resolutions.slice()),e.skyboxes&&(this.skyboxes=Object.assign({},e.skyboxes)))}isAligned(){return this.alignmentType===i.ALIGNED}isUnplaced(){return this.placementType===s.UNPLACED}get sid(){return this.id}equals(e){return this.id===e.id&&this.index===e.index&&this.name===e.name&&this.position.equals(e.position)&&this.floorId===e.floorId&&this.roomId===e.roomId&&this.rotation.equals(e.rotation)&&this.enabled===e.enabled&&this.vrenabled===e.vrenabled&&this.alignmentType===e.alignmentType&&this.placementType===e.placementType}copy(e){return this.id=e.id,this.index=e.index,this.name=e.name,this.position=(new r.Vector3).copy(e.position),this.floorPosition=(new r.Vector3).copy(e.floorPosition),this.floorId=e.floorId,this.roomId=e.roomId,this.rotation=(new r.Quaternion).copy(e.rotation),this.enabled=e.enabled,this.vrenabled=e.vrenabled,this.neighbours=e.neighbours.slice(),this.alignmentType=e.alignmentType,this.placementType=e.placementType,this.resolutions=e.resolutions,this.skyboxes=Object.assign({},e.skyboxes),this}availableResolution(e){if(!e||!this.resolutions)throw new Error("No available resolution found for sweep");return this.resolutions.includes(e)?e:this.availableResolution(this.getLowerResolution(e))}getLowerResolution(e){switch(e){case o.SL.ULTRAHIGH:return o.SL.HIGH;case o.SL.HIGH:return o.SL.STANDARD;case o.SL.STANDARD:return o.SL.BASE}return null}refresh(e){var t;this.resolutions=e.resolutions;for(const n in this.skyboxes){const i=n,s=e.skyboxes[i];s&&(null===(t=this.skyboxes[i])||void 0===t||t.refreshFrom(s))}}async getTileUrl(e,t,n,i){var s;const r=await this.getSkybox(e);return(null!==(s=null==r?void 0:r.tileUrlTemplate)&&void 0!==s?s:`tiles/${this.id}/${l[e]}_face<face>_<x>_<y>.jpg`).replace("<face>",`${t}`).replace("<x>",`${n}`).replace("<y>",`${i}`)}async getFaceUrl(e,t){var n;const i=await this.getSkybox(e);return(null!==(n=null==i?void 0:i.urlTemplate)&&void 0!==n?n:`pan/${c[e]}/${this.id}_skybox<face>.jpg`).replace("<face>",`${t}`)}async getSkybox(e){const t=this.skyboxes[e];return t?t.get():t}}},27641:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,f:()=>r});var i=n(41753);class s extends i.f{constructor(e="SweepException"){super(e),this.name="SweepException"}}class r extends s{constructor(e="Tried to start transition while another transition was active"){super(e),this.name="SweepTransitionActiveException"}}},35826:(e,t,n)=>{"use strict";n.d(t,{NO:()=>s,ZD:()=>u,aK:()=>r,e9:()=>c,iF:()=>a,kR:()=>o,pf:()=>l,zd:()=>d});var i=n(19663);class s extends i.m{}class r extends i.m{constructor(e){super(),this.sweepId=e,this.payload={sweepId:e}}}class a extends i.m{constructor(e,t,n=500){super(),this.id="SELECT_SWEEP",this.payload={id:e,selected:t,duration:n}}}class o extends i.m{constructor(e,t,n=500){super(),this.id="HOVER_SWEEP",this.payload={id:e,hovered:t,duration:n}}}class l extends i.m{constructor(e,t=[],n=[]){super(),this.id="MODIFY_SWEEP_NEIGHBORS",this.payload={id:e,added:t,removed:n}}}class c extends i.m{constructor(e){super(),this.id="TOGGLE_NON_PANO_CURRENT_PUCK",this.payload={visible:e}}}class d extends i.m{constructor(){super(...arguments),this.id="ENABLE_SWEEP_SELECTION"}}class u extends i.m{constructor(){super(...arguments),this.id="DISABLE_SWEEP_SELECTION"}}},53954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(63252),s=n(67992),r=n(10385),a=n(15637),o=n(89557);class l extends s.V{constructor(e){super(),this.name="sweeps",this.transitionActive=!1,this.sweepList=new r.d,this.sweepMap={},e&&this.addSweeps(e),this.transition={progress:new o.z(0),active:!1,from:void 0,to:void 0}}addSweeps(e){const t=Object.values(e).sort(((e,t)=>e.index-t.index));for(const e of t)this.sweepMap[e.id]=e,this.sweepList.push(e);return this}refresh(e){for(const t in this.sweepMap)e[t]&&this.sweepMap[t].refresh(e[t])}canTransition(){return!this.transition.active}get currentSweepIndex(){if(this.currentSweep)return this.sweepMap[this.currentSweep].index}get currentSweepObject(){if(this.currentSweep)return this.getSweep(this.currentSweep)}get currentAlignedSweepObject(){if(this.currentSweep&&!this.isSweepUnaligned(this.currentSweep))return this.getSweep(this.currentSweep)}makeSweepChangeSubscription(e){return this.onPropertyChanged("currentSweep",e)}getSweep(e){return this.sweepMap[e]}getSweepByIndex(e){return this.sweepList.find((t=>t.index===e))}getSweepByUuid(e){return this.sweepList.find((t=>t.uuid===e))}containsSweep(e){return e in this.sweepMap}getFirstSweep(){let e=-1;for(;++e<this.sweepList.length;){const t=this.sweepList.get(e);if(t.enabled)return t}}getStartSweep(e){const t=e&&e.pano&&e.pano.uuid?this.getSweep(e.pano.uuid):null;return t&&t.enabled?t:this.getFirstSweep()}getClosestSweep(e,t){let n=Number.MAX_VALUE,s=null;return this.iterate((r=>{if(r.enabled&&(!t||r.alignmentType===i.z9.ALIGNED)){const t=e.distanceTo(r.position);t<n&&(n=t,s=r)}})),s}getFirstAlignedSweep(){let e=-1;for(;++e<this.sweepList.length;){const t=this.sweepList.get(e);if(t.enabled&&t.alignmentType===i.z9.ALIGNED)return t}return null}getSweepIdMap(e){const t={};for(const n of Object.values(this.sweepMap))e?t[n.uuid]=n.id:t[n.id]=n.uuid;return t}activateTransition(e,t){this.transition.active=!0,this.transition.from=t,this.transition.to=e,this.transitionActive=!0}deactivateTransition(){this.transition.active=!1,this.transition.from=void 0,this.transition.to=void 0,this.transitionActive=!1}isSweepUnaligned(e){if(!e)return!1;const t=this.getSweep(e);return t&&!t.isAligned()}isSweepAligned(e){if(!e)return!1;const t=this.getSweep(e);return t&&t.isAligned()}isSweepDisabled(e=this.currentSweep){if(!e)return!1;const t=this.getSweep(e);return t&&!t.enabled}*sweeps(){for(const e of this.sweepList)yield e}iterate(e){this.sweepList.forEach(((t,n)=>{e(t,n)}))}filter(e){return this.sweepList.filter(e)}sortByScore(e,t,n){return(n||this.sweepList).filter((t=>e.every((e=>e(t))))).map((e=>({sweep:e,score:t.reduce(((t,n)=>t+n(e)),0)}))).sort(((e,t)=>t.score-e.score))}getSweepList(){return this.sweepList.values()}getAlignedSweeps(){return this.getSweepList().filter((e=>e.alignmentType===i.z9.ALIGNED))}onSweepsChanged(e){return this.sweepList.onChanged(e)}getSweepNeighbours(e){const t=[];for(const n of e.neighbours)t.push(this.getSweep(n));return t}getCollection(){return(0,a.q)(this.sweepMap)}getConnectedSweeps(e,t){const n=[e],i=new Set;for(t=t||(e=>!0);n.length;){const e=n.pop(),s=this.getSweep(e);i.add(e);for(const e of s.neighbours){t(this.getSweep(e))&&!i.has(e)&&n.push(e)}}return i}}},98169:(e,t,n)=>{"use strict";n.d(t,{D5:()=>g,H7:()=>c,SF:()=>b,T3:()=>l,WO:()=>u,_T:()=>d,_k:()=>f,b1:()=>h,ff:()=>a,jN:()=>y,nK:()=>p,no:()=>v,pI:()=>m,vO:()=>o});var i=n(63252),s=n(81396);const r=.25,a=e=>t=>t!==e,o=e=>t=>!!e.neighbours&&-1!==e.neighbours.indexOf(t.id),l=e=>t=>e===t||o(e)(t),c=e=>e.placementType===i.hU.MANUAL,d=()=>e=>e.alignmentType===i.z9.ALIGNED,u=()=>e=>e.alignmentType!==i.z9.ALIGNED,h=e=>t=>e.floorId===t.floorId,p=e=>t=>e===t.floorId,m=(()=>{const e=new s.Vector3,t=new s.Vector3;return(n,i,s=r)=>r=>e.copy(r.position).sub(n).normalize().dot(t.copy(i).normalize())>s})(),f=()=>e=>e.enabled,g=(e,t)=>{const n=new s.Vector3;return t=t.clone(),i=>n.copy(i.position).sub(e).normalize().dot(t)>0},v=(e,t)=>n=>e.distanceTo(n.position)>t,b=(e,t)=>n=>e.distanceTo(n.position)<t,y=(e,t)=>n=>e.distanceToSquared(n.position)<t},65160:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>K});var i=n(97542),s=n(92810),r=n(53954),a=n(64918),o=n(18596),l=n(41753),c=n(66563),d=n(18923),u=n(46950),h=n(23885),p=n(9037),m=n(14630),f=n(35826),g=n(97704),v=n(5860),b=n(17788),y=n(97998);const E=new y.Z("mds-sweep-serializer");class S{serialize(e){const t={};return void 0===e.enabled&&void 0===e.vrenabled||(t.tags=[],e.enabled&&t.tags.push("showcase"),e.vrenabled&&t.tags.push("vr")),this.validate(t)?t:null}validate(e){if(!e)return!1;const t=["tags"],n=t.some((t=>t in e)),i=0===Object.keys(e).filter((e=>!t.includes(e))).length,s=void 0===e.tags||Array.isArray(e.tags),r=s&&n&&i;return r||E.debug("Invalid AnchorPatch:",{tagsIsArrayIfPresent:s,hasSomeChanges:n,hasNoExtraChanges:i,mutableFields:t,data:e}),r}}var O=n(63252),T=n(2569),_=n(76609),w=n(9133),N=n(56367),A=n(40731),I=n(5823);const k=new y.Z("mds-sweep-serializer"),P={[I.bW.AUTO]:O.hU.AUTO,[I.bW.MANUAL]:O.hU.MANUAL,[I.bW.UNPLACED]:O.hU.UNPLACED},L={[I.Mk.VISION]:O.z9.ALIGNED,[I.Mk.UPLOAD]:O.z9.UNALIGNED};class R{deserialize(e){var t,n,i,s;if(!e||!this.validate(e))return k.debug("Deserialized invalid Sweep data from MDS",e),null;const r=e,a=new O.ZP;a.id=r.id,a.index=r.index,a.enabled=!!(null===(t=r.tags)||void 0===t?void 0:t.includes("showcase")),a.vrenabled=!!(null===(n=r.tags)||void 0===n?void 0:n.includes("vr")),a.neighbours=r.neighbors||[],r.position&&(a.floorPosition=T.ep.fromVisionVector(r.position)),a.floorId=(null===(i=r.floor)||void 0===i?void 0:i.id)||null,a.roomId=(null===(s=r.room)||void 0===s?void 0:s.id)||null;const o=r.pano;let l=o.label||"";if(l===`${a.index}`&&(l=""),a.name=l,a.alignmentType=L[o.source],a.uuid=o.sweepUuid||"",a.alignmentType===O.z9.ALIGNED?a.placementType=O.hU.AUTO:a.placementType=P[o.placement],o.position){const e=T.ep.fromVisionVector(o.position);a.placementType!==O.hU.AUTO&&e.distanceTo(a.floorPosition)>1e3&&(a.placementType=O.hU.UNPLACED),a.position=e}a.resolutions=[];const c=o.skyboxes||[];if(o.resolutions)for(const e of o.resolutions){const t=this.getPanoSizeClass(e),n=this.makeSkybox(c.find((t=>t.resolution===e)));t&&n?(a.resolutions.push(t),a.skyboxes[t]=n):k.debug(`Invalid pano size class ${e}`)}return o.rotation&&(a.rotation=T.ep.fromVisionQuaternion(o.rotation)),a.floorId||(a.alignmentType===O.z9.ALIGNED?k.warn(`Aligned sweep ${a.index} has no floor association`):a.placementType===O.hU.MANUAL&&k.debug(`Manually placed sweep ${a.index} has no floor association`)),a.roomId||a.alignmentType===O.z9.ALIGNED&&k.warn(`Aligned sweep ${a.index} has no room association`),a}validate(e){if(!e)return!1;const t=[],n=["id","index","tags"];if(t.push((()=>n.every((t=>t in e)))),t.push((()=>"number"==typeof e.index)),t.push((()=>!!e.position&&(0,A.u)(e.position))),t.push((()=>"pano"in e&&!!e.pano)),e.pano){const{placement:n,source:i,position:s}=e.pano;t.push((()=>!!n&&n in P)),t.push((()=>!!i&&i in L)),t.push((()=>!!s&&(0,A.u)(s)))}return t.every((e=>e()))}getPanoSizeClass(e){const t={low:_.SL.BASE,high:_.SL.STANDARD,"2k":_.SL.HIGH,"4k":_.SL.ULTRAHIGH};return e in t?t[e]:void 0}makeSkybox(e){if(e&&e.tileUrlTemplate&&e.tileResolution&&e.tileCount)return new N.n({tileUrlTemplate:e.tileUrlTemplate,tileResolution:parseInt(e.tileResolution,10),tileCount:e.tileCount,urlTemplate:null!==e.urlTemplate?e.urlTemplate:void 0},(0,w.p)(e.validUntil,null))}}var C=n(59296);const D=new y.Z("mds-sweep-serializer");class M{serialize(e){const t={};return e.rotation&&(t.rotation=(0,C.J5)(T.ep.toVisionQuaternion(e.rotation))),e.position&&(t.position=(0,C.m)(T.ep.toVisionVector(e.position))),e.placementType&&e.placementType===O.hU.UNPLACED&&(t.resetPlacement=!0),"roomId"in e&&(e.roomId?t.roomId=e.roomId:t.resetRoom=!0),"floorId"in e&&(e.floorId?t.floorId=e.floorId:t.resetFloor=!0),"name"in e&&(t.label=e.name||""),this.validate(t)?t:null}validate(e){if(!e)return!1;const t=["resetPlacement","resetFloor","resetRoom","rotation","position","floorId","roomId","label"],n=t.some((t=>t in e)),i=0===Object.keys(e).filter((e=>!t.includes(e))).length,s=n&&i;return s||D.debug("Invalid PanoramaLocation:",{hasSomeChanges:n,hasNoExtraChanges:i,mutableFields:t,data:e}),s}}const x=new y.Z("mds-sweep-store");class j extends b.u{constructor(){super(...arguments),this.deserializer=new R,this.panoSerializer=new M,this.anchorSerializer=new S,this.prefetchKey="data.model.locations"}async read(e={}){var t,n,i,s;const{readonly:r}=this.config,a={modelId:this.getViewId()};let o;if(r){const i=await this.query(v.GetShowcaseSweeps,a,e);o=null===(n=null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.locations}else{const t=await this.query(v.GetSweeps,a,e);o=null===(s=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.model)||void 0===s?void 0:s.locations}if(!o||!Array.isArray(o))return null;const l={};for(const e of o){if(!e)continue;const t=this.deserializer.deserialize(e);t&&(l[t.id]=t)}return l}async refresh(){return this.refreshPromise||(this.refreshPromise=this.read({fetchPolicy:"no-cache"}).finally((()=>{this.refreshPromise=void 0}))),this.refreshPromise}async update(e){if(!e||0===e.length)return;const t=this.getViewId();let n="";const i={};i.modelId=t;let s="";for(const t of e){const r=this.panoSerializer.serialize(t),a=this.anchorSerializer.serialize(t);if(!r&&!a)throw x.error("No changes to update:",t,e),new Error("MdsSweepStore.update failed");n+=""+(r?`, $pano${t.id}: PanoramicImageLocationPatch!`:"")+` ${a?`, $anchor${t.id}: AnchorPatch!`:""} `,i[`pano${t.id}`]=r,i[`anchor${t.id}`]=a,s+=`\n        ${r?`\n          panoLocation${t.id}: patchPanoLocation(modelId: $modelId, , locationId: "${t.id}", patch: $pano${t.id}) {\n            id\n            placement\n          }`:""}\n        ${a?`\n          panoAnchor${t.id}: patchAnchor(modelId: $modelId, , anchorId: "${t.id}", patch: $anchor${t.id}) {\n            id\n            tags\n          }`:""}\n      `}const r=g.gql`
      mutation sweepUpdate($modelId: ID! ${n}) {
        ${s}
      }
    `;return this.mutate(r,i).then((()=>{}))}}var U=n(64567),F=n(2541),H=n(71954),V=n(79728),B=n(635),G=n(27641),W=n(80742);const z=h.qb;class K extends i.Y{constructor(){super(),this.name="sweep-data",this.data=new r.Z,this.internalProgress=!1,this.tryInferFloorIds=e=>{for(const t of Object.values(e))if(t.isAligned()&&null===t.floorId){this.log.warn(`Aligned sweep ${t.index} has no floor association`);const n=t.neighbours.map((n=>({id:n,floorId:e[n].floorId,distance:e[n].floorPosition.distanceToSquared(t.floorPosition)})));n.sort(((e,t)=>e.distance-t.distance));const i=n.find((e=>e.floorId));i&&(this.log.debug(`Inferred Sweep ${t.index} floor as ${i.floorId} from neighbors`),t.floorId=i.floorId)}},this.moveToSweep=this.moveToSweep.bind(this),this.activateSweepUnsafe=this.activateSweepUnsafe.bind(this),this.instantSweepTransition=this.instantSweepTransition.bind(this),this.beginSweepTransition=this.beginSweepTransition.bind(this),this.endSweepTransition=this.endSweepTransition.bind(this)}async init(e,t){const{readonly:n}=e;this.engine=t,this.market=this.engine.market,this.store=await this.initSweepStore(e,t);const i=await this.store.read()||{};[this.filterSweepData,this.tryInferFloorIds].forEach((e=>e(i))),(0,N.s)(i,(async()=>{if(this.store.refresh){const e=await this.store.refresh();this.data.refresh(e||{})}else this.log.debug("Can't refresh sweep URLs - operation not supported")})),this.data.addSweeps(i),this.market.register(this,r.Z,this.data);const a=await t.getModuleBySymbol(s.Lx);!1===n&&(this.monitor=new U.c(this.data.getCollection(),{aggregationType:F.E.NextFrame,shallow:!0},t),this.monitor.onChanged((()=>this.engine.commandBinder.issueCommand(new B.V({dataTypes:[V.g.SWEEPS]}))))),this.cameraModule=await this.engine.getModuleBySymbol(s.kg),this.cameraData=await t.market.waitForData(p.M),this.bindings.push(t.commandBinder.addBinding(f.NO,(async()=>{this.data.currentSweep=void 0,this.data.commit()})),t.commandBinder.addBinding(f.aK,(async e=>{if(e.sweepId)try{const t=e.sweepId;await this.activateSweepUnsafe({sweepId:t}),this.beginSweepTransition({sweepId:t,transitionTime:0,internalProgress:!0}),this.data.currentSweep=t,this.endSweepTransition({sweepId:t}),this.data.commit()}catch(e){this.log.error(e)}else this.data.currentSweep=void 0,this.data.commit()})),t.commandBinder.addBinding(f.pf,(async e=>{if(e.id){let t=!1;const n=this.data.getSweep(e.id);if(n){for(const i of e.added)-1===n.neighbours.indexOf(i)&&(n.neighbours.push(i),t=!0);for(const i of e.removed){const e=n.neighbours.indexOf(i);-1!==e&&(n.neighbours.splice(e,1),t=!0)}t&&this.data.setDirty()}}})),a.onSave((()=>this.save()),{dataType:V.g.SWEEPS}))}async initSweepStore(e,t){const{readonly:n,baseUrl:i}=e,s=await t.market.waitForData(W.R),r=new j({context:s.mdsContext,readonly:n,baseUrl:i}),a=()=>{r.setStoreViewId(s.getWorkshopOrBaseId())};return a(),this.bindings.push(s.onPropertyChanged("currentViewId",a)),r}moveToSweep(e){var t;const n=new u.Q;let i=e.sweepId;if(i&&!this.data.containsSweep(i)&&this.data.getSweepByUuid(i)&&(i=null===(t=this.data.getSweepByUuid(i))||void 0===t?void 0:t.id,e.sweepId=i),!i||!this.data.containsSweep(i))return this.log.error(`moveToSweep error ${JSON.stringify(e)}`,"Invalid sweep"),u.Q.reject(new G.Z("Invalid sweep"));const s=e;if(!this.data.canTransition()||!this.cameraData.canTransition())throw new G.f;if(!this.data.containsSweep(i))throw new G.Z("Invalid sweep");return this.activateSweepUnsafe(s).then((()=>{if(!this.data.canTransition())throw new G.f;return this.beginSweepTransition(s),this.defaultSweepCameraMove(n,s)})).then((()=>{this.endSweepTransition(s),n.resolve()})).catch((e=>{e instanceof G.f||e instanceof G.Z?this.log.info(`moveToSweep ignored ${JSON.stringify(s)}`,e):e instanceof l.f&&(this.data.transition.from&&this.endSweepTransition({sweepId:this.data.transition.from}),this.log.info(`exception moving to sweep ${JSON.stringify(s)}`,e)),n.reject(e)})),n.promise()}async activateSweepUnsafe(e){return this.panoRenderer||(this.panoRenderer=(await this.engine.getModuleBySymbol(s.RR)).getRenderer()),this.panoRenderer.activateSweep(e.sweepId,!0)}instantSweepTransition(e){const t=this.data.currentSweep;this.beginSweepTransition({sweepId:e,transitionTime:0,internalProgress:!0}),this.data.currentSweep=e,this.data.commit(),this.engine.broadcast(new m.Z(e,t)),this.endSweepTransition({sweepId:e})}beginSweepTransition(e){this.data.activateTransition(e.sweepId,this.data.currentSweep),this.internalProgress=e.internalProgress||!1,this.data.transition.progress.modifyAnimation(0,1,e.transitionTime||0,e.easing||z),this.data.commit(),this.engine.broadcast(new d.Z(e.sweepId,this.data.currentSweep))}endSweepTransition(e){const t=this.data.transition.from,n=this.data.getSweep(e.sweepId);this.data.deactivateTransition(),this.data.currentSweep=e.sweepId,this.data.transition.progress.stop(1),this.internalProgress=!1,this.data.commit(),this.engine.broadcast(new c.Z(e.sweepId,n.alignmentType,n.placementType,t))}async defaultSweepCameraMove(e,t){const n={position:this.data.getSweep(t.sweepId).position,rotation:t.rotation},i=(0,o.AN)(this.cameraData.aspect());let s=a.n.Interpolate;void 0!==t.transitionType&&a.n[t.transitionType]&&(s=t.transitionType),(this.data.isSweepUnaligned(t.sweepId)||this.data.isSweepUnaligned(this.data.currentSweep))&&(s=a.n.FadeToBlack);const r=this.cameraModule.moveTo({transitionType:s,pose:n,transitionTime:t.transitionTime,transitionSpeedMultiplier:t.transitionSpeedMultiplier,projection:i,easing:t.easing,rotationDelay:t.rotationDelay});let l=!1;return r.progress((n=>{if(this.data.transition.progress.updateProgress(n),e.notify(n),n>=.5&&!l){l=!0;const e=this.data.currentSweep;this.data.currentSweep=t.sweepId,this.data.commit(),this.engine.broadcast(new m.Z(t.sweepId,e))}})),r.nativePromise()}filterSweepData(e){for(const t in e){const n=e[t];n.neighbours=n.neighbours.filter((t=>t in e))}}onUpdate(e){this.internalProgress&&this.data.transition.active&&this.data.transition.progress.tick(e)}dispose(e){var t,n;super.dispose(e),null===(n=null===(t=this.store)||void 0===t?void 0:t.dispose)||void 0===n||n.call(t)}async save(){if(!this.store)throw Error("No store configured for saving sweep edits!");const e=this.monitor.getDiffRecord();this.monitor.clearDiffRecord();const t=e.filter((e=>e.action===H.KI.updated)).map((e=>{const t=this.data.getSweep(e.index),n=Object.assign({id:e.index},e.diff);return("position"in n||"rotation"in n)&&(n.position=t.position,n.rotation=t.rotation),("enabled"in n||"vrenabled"in n)&&(n.enabled=t.enabled,n.vrenabled=t.vrenabled),n}));return this.store.update(t)}}},74789:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var i=n(98010);class s extends i.v0{constructor(){super()}}},71239:(e,t,n)=>{"use strict";n.d(t,{Xd:()=>r,YS:()=>s,k4:()=>a});var i=n(59279);const s="settings/tiling/preload_quality",r=Object.freeze({overlayStyle:(0,i.eY)("tileoverlay",0),uploadIntervalDelay:50,highResUploadsPerFrame:2,maxHighResUploadsPerFrame:100,loadIndicatorDelay:300,uploadsPerFrame:6,maxUploadsPerFrame:100,windowHeightHighQualityThreshold:800,windowHeightHighQualityThresholdOverride:(0,i.eY)("threshold2k",void 0),concurrentDownloads:3,maxConcurrentDownloads:12,navigation:{directionFactor:10,distanceFactor:-1}});class a{constructor(){this.reset()}reset(){this.downloadFullPano=!1,this.concurrentDownloads=r.concurrentDownloads,this.uploadsPerFrame=r.uploadsPerFrame,this.highResUploadsPerFrame=r.highResUploadsPerFrame}}},43736:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});const i="features/360_views"},45881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t,n){super(),this.sweepId=e,this.sweepIndex=t,this.totalSweeps=n}}},18930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.sweepId=e,this.hovered=t}}},8948:(e,t,n)=>{"use strict";n.d(t,{C:()=>S,Y:()=>E});var i=n(81396),s=n(35826),r=n(23612),a=n(86819),o=n(45881),l=n(17878),c=n(12529),d=n(63252),u=n(92001),h=n(72996),p=n(18930),m=n(77597),f=n(93411),g=n(90304);const v=[],b=new i.Sphere;class y extends m.f{}class E extends i.Mesh{raycast(e,t){if(super.raycast(e,v),v.length){const{geometry:n}=this;n.boundingSphere||n.computeBoundingSphere(),b.copy(n.boundingSphere).applyMatrix4(this.matrixWorld);for(const n of v)e.ray.intersectSphere(b,n.point),n.distance=e.ray.origin.distanceTo(n.point),t.push(n);v.length=0}}}class S{constructor(e,t,n,s,r,a,o,c=new i.Color(16724312),d=new i.Color(16724312),u=.8,h=.8,p=300,m=.4,f=l.o.ALL){this.scene=e,this.input=t,this.settingsData=n,this.sweepViewData=s,this.puckImagery=r,this.onFloor=a,this.checkRenderModes=o,this.idleColor=c,this.selectionColor=d,this.idleOpacity=u,this.editingOpacity=h,this.selectionDuration=p,this.puckSize=m,this.layer=f,this.sweepToMesh={},this.colliderToSweep={},this.editingEnabled=!1,this.dummyMat=new i.MeshBasicMaterial,this.puckOffset=new i.Vector3(0,.05,0),this.bindings=[],this.wasDrawing=!1,this.renderPuckHighlight=(e,t)=>{this.sweepViewData.isSweepAligned(e)&&this.sweepToMesh[e].configure({tint:t?this.selectionColor:this.idleColor})},this.isVisiblePuckCollider=e=>{const t=e.userData.sid;return e instanceof E&&this.sweepViewData.getState(t).visible&&this.sweepViewData.getSweepVisibility(this.sweepViewData.getSweep(t))}}init(){if(this.puckGeometry=new i.PlaneGeometry(this.puckSize,this.puckSize),this.onFloor){const e=new i.Matrix4;e.makeRotationFromEuler(new i.Euler(-Math.PI/2,0,0,"XYZ")),this.puckGeometry.applyMatrix4(e)}this.sphereColliderGeometry=new i.SphereGeometry(.5*this.puckSize,10,10),this.sweepViewData.iterate(this.createPuck.bind(this))}get displayDisabled(){return void 0!==this.puckImagery.disabled}createMesh(e){const t=new y({radius:this.puckSize/2,normal:g.fU.UP});this.onFloor?t.position.copy(e.floorPosition).add(this.puckOffset):(t.position.copy(e.position),t.rotation.setFromQuaternion(e.rotation)),t.name=e.id,t.updateMatrixWorld(!1),t.renderOrder=c.z.panoMarker,t.material.depthWrite=!1;const n=this.sweepViewData.getState(e.id),i=()=>this.updateMesh(e,n,t);return this.bindings.push(n.onChanged(i),e.onPropertyChanged("enabled",i)),i(),t.layers.mask=this.layer.mask,t}updateMesh(e,t,n){if(n.visible=t.visible){const{editingEnabled:s,puckImagery:r}=this,a=t.animation.value,o=s&&a>0,l=e.enabled?o?r.enabledHover:r.enabled:o?r.disabledHover:r.disabled;n.configure({texture:l instanceof i.Texture?l:null,rings:l instanceof i.Texture?void 0:l,tint:this.editingEnabled&&e.id===this.sweepViewData.selectedSweep?this.selectionColor:this.idleColor,opacity:(0,f.t)(s?this.editingOpacity:this.idleOpacity,1,a)})}}createCollider(e,t){let n;return n=this.onFloor?new E(this.puckGeometry,this.dummyMat):new E(this.sphereColliderGeometry,this.dummyMat),n.userData.sid=e.id,n.position.copy(t.position),n.rotation.copy(t.rotation),n.name=e.id,n.updateMatrixWorld(!1),n}createPuck(e){if(e.alignmentType!==d.z9.ALIGNED)return;const t=this.createMesh(e),n=this.createCollider(e,t);t.collider=n,this.sweepToMesh[e.id]=t,this.colliderToSweep[n.id]=e.id}toggleEditingEnabled(e){this.editingEnabled=e;for(const t in this.sweepToMesh){this.sweepToMesh[t].configure({opacity:e?this.editingOpacity:this.idleOpacity})}}getSweepId(e){return this.colliderToSweep[e]}updatePuckImagery(e){let t;this.displayDisabled||void 0===e.disabled?this.displayDisabled&&void 0===e.disabled&&(t=!1):t=!0,this.puckImagery=e,this.sweepViewData.iterate((e=>{if(e.alignmentType===d.z9.ALIGNED&&(this.updateMesh(e,this.sweepViewData.getState(e.id),this.sweepToMesh[e.id]),void 0!==t)){if(e.enabled)return;t?this.addSweepToScene(e.id):this.removeSweepFromScene(e.id)}}))}updateCheckRenderModes(e){this.checkRenderModes=e}removeSweepFromScene(e){const t=this.sweepToMesh[e];this.scene.remove(t),this.input.unregisterMesh(t.collider)}addSweepToScene(e){if(!this.sweepViewData.getSweep(e).enabled&&!this.displayDisabled)return;const t=this.sweepToMesh[e];this.scene.add(t),this.input.registerMesh(t.collider,!0,this.isVisiblePuckCollider)}render(){const e=this.checkRenderModes(),t=this.settingsData.tryGetProperty(u.U,!0);if(e&&t){if(!this.wasDrawing){for(const e in this.sweepToMesh)this.addSweepToScene(e);this.wasDrawing=!0}}else if(this.wasDrawing){for(const e in this.sweepToMesh)this.removeSweepFromScene(e);this.wasDrawing=!1}}dispose(){for(const e in this.sweepToMesh)this.sweepToMesh[e].dispose()}activate(e){this.wasDrawing=!1;const t=h.s.is(this.isVisiblePuckCollider);this.bindings.push(this.input.registerMeshHandler(r.z,t,((t,n)=>{e.commandBinder.issueCommand(new s.kR(this.getSweepId(n.id),!0,this.selectionDuration)),e.broadcast(new p.Z(this.getSweepId(n.id),!0))}))),this.bindings.push(this.input.registerMeshHandler(r.A,t,((t,n)=>{e.commandBinder.issueCommand(new s.kR(this.getSweepId(n.id),!1,this.selectionDuration)),e.broadcast(new p.Z(this.getSweepId(n.id),!1))}))),this.bindings.push(this.input.registerMeshHandler(a.R,t,((t,n)=>{const i=this.sweepViewData.getSweep(this.colliderToSweep[n.id]).index,s=this.sweepViewData.getAlignedSweeps(!0).length;e.broadcast(new o.Z(this.colliderToSweep[n.id],i,s))})))}deactivate(e){for(const e in this.sweepToMesh)this.removeSweepFromScene(e);for(const e of this.bindings)e.cancel();this.bindings.length=0}}},92001:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});const i="features/sweep_pucks"},21973:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var i=n(67992),s=n(37082),r=n(63252),a=n(98169),o=n(15637),l=n(75287),c=n(89557);class d extends l.T{constructor(){super(...arguments),this.selected=!1,this.visible=!0,this.animation=new c.z(0)}}var u=n(71161);class h extends i.V{constructor(e){super(),this.data=e,this.name="sweeps-view",this.states=new o.v,this.toolStateObservable=(0,s.Y)(u._.CLOSED),this.defaultSweepVisibilityRule=e=>e.enabled,this.sweepVisibilityRule=this.defaultSweepVisibilityRule,this.selectCurrentSweep=()=>{this.setSelectedSweep(this.data.currentSweep||null)},this.derivedData={},this.selectedSweepObservable=new s.f(null);const t=[u._.MOVING,u._.PLACING,u._.PRESSING,u._.ROTATING];e.makeSweepChangeSubscription((()=>{t.includes(this.toolState)||this.selectCurrentSweep()})),e.iterate((e=>{const t=new d;this.states.set(e.id,t),t.commit()})),this.updateViewData()}updateViewData(){this.data.iterate(((e,t)=>{this.derivedData[e.id]=this.makeViewDataForSweep(e,t)})),this.commit()}updateSweepVisibilityRule(e){this.sweepVisibilityRule=e||this.defaultSweepVisibilityRule}getSweepVisibility(e){return this.sweepVisibilityRule(e)}get selectedSweep(){return this.selectedSweepObservable.value}setSelectedSweep(e){if(e===this.selectedSweep)return;const t=this.selectedSweep;if(this.selectedSweepObservable.value=e,null!==e){const t=this.getState(e);t.selected=!0,t.commit()}if(null!==t){const e=this.getState(t);e.selected=!1,e.commit()}}onSelectedSweepChanged(e){return this.selectedSweepObservable.onChanged(e)}setToolState(e){e===u._.PLACING&&this.selectedSweep&&this.setSelectedSweep(null),this.toolStateObservable.value=e}get toolState(){return this.toolStateObservable.value}onToolStateChanged(e){return this.toolStateObservable.onChanged(e)}getSweep(e){return this.data.getSweep(e)}makeViewDataForSweep(e,t){const n=this.derivedData[e.id];return n?(n.floorId=e.floorId,n.position=e.position,n.alignmentType=e.alignmentType,n.placed=e.placementType===r.hU.MANUAL,n.enabled=e.enabled,n.name=e.name,n):{id:e.id,floorId:e.floorId,position:e.position,index:e.index,alignmentType:e.alignmentType,dataIndex:t,placed:e.placementType===r.hU.MANUAL,enabled:e.enabled,name:e.name}}getViewData(e){const t=this.data.getSweep(e),n=this.derivedData[e];return t&&!n&&(this.derivedData[e]=this.makeViewDataForSweep(t,t.index)),this.derivedData[e]}isSweepAligned(e){return this.data.isSweepAligned(e)}iterate(e){this.data.iterate(e)}getState(e){return this.states.get(e)}isVisible(e){return this.states.get(e).visible}setVisible(e,t){const n=this.getState(e);n.visible!==t&&(n.visible=t,n.commit())}updateAnimations(e){for(const t of this.states)t.animation.tick(e)}modifySelectAnimation(e,t,n){const i=this.getState(e).animation,s=1===i.endValue;t!==s&&(s?i.modifyAnimation(i.value,0,n):i.modifyAnimation(0,1,n))}getIndexByAlignment(e,t){return this.getAlignedSweeps(e).findIndex((e=>e.id===t))}getAlignedSweeps(e){const t=Object.values(this.derivedData);return e?t.filter((0,a._T)()):t.filter((0,a.WO)())}}},71161:(e,t,n)=>{"use strict";var i;n.d(t,{_:()=>i}),function(e){e.CLOSED="closed",e.IDLE="idle",e.PRESSING="pressing",e.PLACING="placing",e.MOVING="moving",e.ROTATING="rotating",e.ROTATED="rotated"}(i||(i={}))},61774:(e,t,n)=>{"use strict";n.d(t,{n:()=>S});var i=n(81396),s=n(67992),r=n(37082),a=n(15637),o=n(19077),l=n(90304),c=n(12150);function d(e,t,n,i,s){if(isNaN(t)||isNaN(n)||isNaN(i))return e;var r,a,o,l,c,d,u,h,p,m,f,g,v=e._root,b={data:s},y=e._x0,E=e._y0,S=e._z0,O=e._x1,T=e._y1,_=e._z1;if(!v)return e._root=b,e;for(;v.length;)if((h=t>=(a=(y+O)/2))?y=a:O=a,(p=n>=(o=(E+T)/2))?E=o:T=o,(m=i>=(l=(S+_)/2))?S=l:_=l,r=v,!(v=v[f=m<<2|p<<1|h]))return r[f]=b,e;if(c=+e._x.call(null,v.data),d=+e._y.call(null,v.data),u=+e._z.call(null,v.data),t===c&&n===d&&i===u)return b.next=v,r?r[f]=b:e._root=b,e;do{r=r?r[f]=new Array(8):e._root=new Array(8),(h=t>=(a=(y+O)/2))?y=a:O=a,(p=n>=(o=(E+T)/2))?E=o:T=o,(m=i>=(l=(S+_)/2))?S=l:_=l}while((f=m<<2|p<<1|h)==(g=(u>=l)<<2|(d>=o)<<1|c>=a));return r[g]=v,r[f]=b,e}function u(e,t,n,i,s,r,a){this.node=e,this.x0=t,this.y0=n,this.z0=i,this.x1=s,this.y1=r,this.z1=a}function h(e){return e[0]}function p(e){return e[1]}function m(e){return e[2]}function f(e,t,n,i){var s=new g(null==t?h:t,null==n?p:n,null==i?m:i,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?s:s.addAll(e)}function g(e,t,n,i,s,r,a,o,l){this._x=e,this._y=t,this._z=n,this._x0=i,this._y0=s,this._z0=r,this._x1=a,this._y1=o,this._z1=l,this._root=void 0}function v(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var b=f.prototype=g.prototype;b.copy=function(){var e,t,n=new g(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),i=this._root;if(!i)return n;if(!i.length)return n._root=v(i),n;for(e=[{source:i,target:n._root=new Array(8)}];i=e.pop();)for(var s=0;s<8;++s)(t=i.source[s])&&(t.length?e.push({source:t,target:i.target[s]=new Array(8)}):i.target[s]=v(t));return n},b.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e),i=+this._z.call(null,e);return d(this.cover(t,n,i),t,n,i,e)},b.addAll=function(e){var t,n,i,s,r,a=e.length,o=new Array(a),l=new Array(a),c=new Array(a),u=1/0,h=1/0,p=1/0,m=-1/0,f=-1/0,g=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||isNaN(r=+this._z.call(null,t))||(o[n]=i,l[n]=s,c[n]=r,i<u&&(u=i),i>m&&(m=i),s<h&&(h=s),s>f&&(f=s),r<p&&(p=r),r>g&&(g=r));if(u>m||h>f||p>g)return this;for(this.cover(u,h,p).cover(m,f,g),n=0;n<a;++n)d(this,o[n],l[n],c[n],e[n]);return this},b.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var i=this._x0,s=this._y0,r=this._z0,a=this._x1,o=this._y1,l=this._z1;if(isNaN(i))a=(i=Math.floor(e))+1,o=(s=Math.floor(t))+1,l=(r=Math.floor(n))+1;else{for(var c,d,u=a-i||1,h=this._root;i>e||e>=a||s>t||t>=o||r>n||n>=l;)switch(d=(n<r)<<2|(t<s)<<1|e<i,(c=new Array(8))[d]=h,h=c,u*=2,d){case 0:a=i+u,o=s+u,l=r+u;break;case 1:i=a-u,o=s+u,l=r+u;break;case 2:a=i+u,s=o-u,l=r+u;break;case 3:i=a-u,s=o-u,l=r+u;break;case 4:a=i+u,o=s+u,r=l-u;break;case 5:i=a-u,o=s+u,r=l-u;break;case 6:a=i+u,s=o-u,r=l-u;break;case 7:i=a-u,s=o-u,r=l-u}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=s,this._z0=r,this._x1=a,this._y1=o,this._z1=l,this},b.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},b.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},b.find=function(e,t,n,i){var s,r,a,o,l,c,d,h,p,m=this._x0,f=this._y0,g=this._z0,v=this._x1,b=this._y1,y=this._z1,E=[],S=this._root;for(S&&E.push(new u(S,m,f,g,v,b,y)),null==i?i=1/0:(m=e-i,f=t-i,g=n-i,v=e+i,b=t+i,y=n+i,i*=i);h=E.pop();)if(!(!(S=h.node)||(r=h.x0)>v||(a=h.y0)>b||(o=h.z0)>y||(l=h.x1)<m||(c=h.y1)<f||(d=h.z1)<g))if(S.length){var O=(r+l)/2,T=(a+c)/2,_=(o+d)/2;E.push(new u(S[7],O,T,_,l,c,d),new u(S[6],r,T,_,O,c,d),new u(S[5],O,a,_,l,T,d),new u(S[4],r,a,_,O,T,d),new u(S[3],O,T,o,l,c,_),new u(S[2],r,T,o,O,c,_),new u(S[1],O,a,o,l,T,_),new u(S[0],r,a,o,O,T,_)),(p=(n>=_)<<2|(t>=T)<<1|e>=O)&&(h=E[E.length-1],E[E.length-1]=E[E.length-1-p],E[E.length-1-p]=h)}else{var w=e-+this._x.call(null,S.data),N=t-+this._y.call(null,S.data),A=n-+this._z.call(null,S.data),I=w*w+N*N+A*A;if(I<i){var k=Math.sqrt(i=I);m=e-k,f=t-k,g=n-k,v=e+k,b=t+k,y=n+k,s=S.data}}return s},b.remove=function(e){if(isNaN(r=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e))||isNaN(o=+this._z.call(null,e)))return this;var t,n,i,s,r,a,o,l,c,d,u,h,p,m,f,g=this._root,v=this._x0,b=this._y0,y=this._z0,E=this._x1,S=this._y1,O=this._z1;if(!g)return this;if(g.length)for(;;){if((u=r>=(l=(v+E)/2))?v=l:E=l,(h=a>=(c=(b+S)/2))?b=c:S=c,(p=o>=(d=(y+O)/2))?y=d:O=d,t=g,!(g=g[m=p<<2|h<<1|u]))return this;if(!g.length)break;(t[m+1&7]||t[m+2&7]||t[m+3&7]||t[m+4&7]||t[m+5&7]||t[m+6&7]||t[m+7&7])&&(n=t,f=m)}for(;g.data!==e;)if(i=g,!(g=g.next))return this;return(s=g.next)&&delete g.next,i?(s?i.next=s:delete i.next,this):t?(s?t[m]=s:delete t[m],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[f]=g:this._root=g),this):(this._root=s,this)},b.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},b.root=function(){return this._root},b.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},b.visit=function(e){var t,n,i,s,r,a,o,l,c=[],d=this._root;for(d&&c.push(new u(d,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=c.pop();)if(!e(d=t.node,i=t.x0,s=t.y0,r=t.z0,a=t.x1,o=t.y1,l=t.z1)&&d.length){var h=(i+a)/2,p=(s+o)/2,m=(r+l)/2;(n=d[7])&&c.push(new u(n,h,p,m,a,o,l)),(n=d[6])&&c.push(new u(n,i,p,m,h,o,l)),(n=d[5])&&c.push(new u(n,h,s,m,a,p,l)),(n=d[4])&&c.push(new u(n,i,s,m,h,p,l)),(n=d[3])&&c.push(new u(n,h,p,r,a,o,m)),(n=d[2])&&c.push(new u(n,i,p,r,h,o,m)),(n=d[1])&&c.push(new u(n,h,s,r,a,p,m)),(n=d[0])&&c.push(new u(n,i,s,r,h,p,m))}return this},b.visitAfter=function(e){var t,n=[],i=[];for(this._root&&n.push(new u(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var s=t.node;if(s.length){var r,a=t.x0,o=t.y0,l=t.z0,c=t.x1,d=t.y1,h=t.z1,p=(a+c)/2,m=(o+d)/2,f=(l+h)/2;(r=s[0])&&n.push(new u(r,a,o,l,p,m,f)),(r=s[1])&&n.push(new u(r,p,o,l,c,m,f)),(r=s[2])&&n.push(new u(r,a,m,l,p,d,f)),(r=s[3])&&n.push(new u(r,p,m,l,c,d,f)),(r=s[4])&&n.push(new u(r,a,o,f,p,m,h)),(r=s[5])&&n.push(new u(r,p,o,f,c,m,h)),(r=s[6])&&n.push(new u(r,a,m,f,p,d,h)),(r=s[7])&&n.push(new u(r,p,m,f,c,d,h))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},b.x=function(e){return arguments.length?(this._x=e,this):this._x},b.y=function(e){return arguments.length?(this._y=e,this):this._y},b.z=function(e){return arguments.length?(this._z=e,this):this._z};var y=n(2569),E=n(18596);class S extends s.V{constructor(e,t,n,i,s,l,d,u,h){super(),this.data=e,this.floorsData=t,this.cameraStartData=n,this.textParser=s,this.linkHandler=l,this.tagDefaultTitle=d,this.backgroundTexture=u,this.objectTagsEnabled=h,this.name="tags-view-data",this.tagViewsMap=(0,a.q)(),this.customSortIndexMap=new Map,this.spatialSortOrderMap=new Map,this.openTagViewObservable=(0,r.Y)(null),this.tagsMode=c.U.DEFAULT,this.tagOrder=c.D.ORDERED,this.openTagIsDirty=!1,this.creatingTag=!1,this.idVisibilityEnabled=!1,this.idVisibility=new Set,this.capabilities=new Map,this.refreshTagViews=e=>{const t={};this.data.iterate((e=>{t[e.sid]=this.createTagView(e)})),this.updateSortMaps(Object.values(t),e),this.tagViewsMap.atomic((()=>{this.tagViewsMap.replace(t)}))},this.sortByOrder=(e,t)=>{var n,i;const s=(null!==(n=this.customSortIndexMap.get(e.id))&&void 0!==n?n:Number.MAX_SAFE_INTEGER)-(null!==(i=this.customSortIndexMap.get(t.id))&&void 0!==i?i:Number.MAX_SAFE_INTEGER);if(s)return s;const r=this.spatialSortOrderMap.get(e.id),a=this.spatialSortOrderMap.get(t.id);if(void 0===r||void 0===a)throw new Error("All ids should exist in spatialPositions");return r-a},this.sortByText=(e,t)=>{function n(e,t){return(e.label.trim()||e.description||t).toLowerCase()}return n(e,this.tagDefaultTitle)<n(t,this.tagDefaultTitle)?-1:1},this.orderedTagViews=new o.Q(this.tagViewsMap),this.orderedTagViews.priority=o.K.LOW,this.orderedTagViews.setFilter("objectTag",(e=>!e.objectAnnotationId)),this.refreshTagViews(i),this.orderedTagViews.sort(this.sortByOrder)}getAlphabeticTagViewMapFilter(){return this.alphabeticalTagViews||(this.alphabeticalTagViews=new o.Q(this.tagViewsMap),this.alphabeticalTagViews.priority=o.K.LOW,this.alphabeticalTagViews.setFilter("objectTag",(e=>!e.objectAnnotationId)),this.alphabeticalTagViews.sort(this.sortByText)),this.alphabeticalTagViews}getCollection(){return this.tagViewsMap}getOrderedTagViewMapFilter(){return this.orderedTagViews}getOrderedTags(e){return this.getEnabledTagViewsList(this.orderedTagViews,e)}getTagsByText(e){const t=this.getAlphabeticTagViewMapFilter();return this.getEnabledTagViewsList(t,e)}getEnabledTagViewsList(e,t){const n=e.values;return t?n.filter((e=>e.enabled)):n}getTextParser(){return this.textParser}getLinkHandler(){return this.linkHandler}getCapabilities(e){const t={focus:!0};this.capabilities.has(e)||this.capabilities.set(e,t);const n=this.capabilities.get(e)||t;return Object.assign({},n)}updateCapabilities(e,t){this.capabilities.set(e,Object.assign({},t))}setTagsMode(e){this.tagsMode=e,this.commit()}getTagCount(e){return this.getOrderedTags(e).length}hasCustomSortOrder(){return this.customSortIndexMap.size>0}getTagView(e){return this.tagViewsMap.get(e)}createTagView(e){const t=e.getPin();return Object.assign(Object.assign({},t),{id:e.sid,created:e.created,modified:e.modified,label:e.label,description:e.description,enabled:e.enabled,layerId:e.layerId,attachments:[...e.externalAttachments,...e.fileAttachments,...e.sandboxAttachments],objectAnnotationId:e.objectAnnotationId,keywords:e.keywords,icon:e.icon,backgroundTexture:this.backgroundTexture})}setOpenTagView(e){this.openTagViewObservable.value=e}get openTagView(){return this.openTagViewObservable.value}onOpenTagViewChanged(e){return this.openTagViewObservable.onChanged(e)}getAvailableKeywords(){return Array.from(new Set(this.data.getTagKeywords()))}updateSortMaps(e,t){t&&this.updateCustomSortMap(t),this.updateSpatialSortMap(e),this.orderedTagViews.setDirty(!0)}updateCustomSortMap(e){this.customSortIndexMap.clear(),e.forEach(((e,t)=>this.customSortIndexMap.set(e,t)))}updateSpatialSortMap(e){const{floorsData:t,cameraStartData:n}=this,s=n.pose.camera.position||l.fU.ZERO,r=n.pose.camera.rotation||new i.Quaternion,a=t.getClosestFloorAtHeight(s.y).index,o=(0,y.xS)(s,r,(0,E.AN)(1));this.spatialSortOrderMap.clear();let c=0;for(let n=0;n<t.getFloorCount();n++){const r=(a+n)%t.getFloorCount(),l=t.getFloorAtIndex(r);if(!l)continue;const d=e.filter((e=>e.floorId===l.id));if(0===d.length)continue;let u,h=1/0;const p=new i.Vector3,m=(new f).x((e=>e.x)).y((e=>e.y)).z((e=>e.z));m.addAll(d.map((e=>{p.copy(e.stemNormal).setLength(e.stemLength).add(e.anchorPosition);const t={id:e.id,x:p.x,y:p.y,z:p.z},n=p.distanceToSquared(s);return n<h&&o.containsPoint(p)&&(h=n,u=t),t})));let g=null!=u?u:m.find(s.x,s.y,s.z);this.spatialSortOrderMap.set(g.id,c++),m.remove(g);let v=d.length-1;for(;v>0;)g=m.find(g.x,g.y,g.z),this.spatialSortOrderMap.set(g.id,c++),m.remove(g),v--}}}},43037:(e,t,n)=>{"use strict";n.d(t,{$B:()=>f,$J:()=>r,Li:()=>b,QG:()=>a,Rj:()=>l,Sq:()=>v,T3:()=>p,aI:()=>g,bg:()=>o,fe:()=>h,kT:()=>y,lt:()=>u,q4:()=>d,xb:()=>m,yU:()=>s,zt:()=>c});var i=n(19663);class s extends i.m{constructor(e){super(),this.id="TAGS_TOGGLE",this.payload={opened:e}}}class r extends i.m{constructor(){super(),this.id="TAG_START_ADD"}}class a extends i.m{constructor(e,t,n,i,s){super(),this.id="TAG_SAVE",this.payload={id:e,properties:t,pendingAttachments:n,removedAttachments:i,embed:s}}}class o extends i.m{constructor(e,t){super(),this.id="TAG_VISIBILITY_TOGGLE",this.payload={id:e,visible:t}}}class l extends i.m{constructor(){super(),this.id="TAG_CANCEL_EDITS"}}class c extends i.m{constructor(e){super(),this.id="TAG_EDIT",this.payload={tagId:e}}}class d extends i.m{constructor(e){super(),this.id="TAG_DIRTY_TOGGLE",this.payload={dirty:e}}}class u extends i.m{constructor(e,t){super(),this.id="TAG_OPEN";const{transition:n=null,dock:i=null,objectTag:s=!1,forceOpen:r=!1}=t||{};this.payload={tagId:e,transition:n,dock:i,objectTag:s,forceOpen:r}}}class h extends i.m{constructor(e){super(),this.id="TAG_UPDATE_OPEN_TAGVIEW",this.payload={updates:e}}}class p extends i.m{constructor(e,t){super(),this.id="TAG_DELETE",this.payload={id:e,removalMethod:t}}}class m extends i.m{constructor(){super(),this.id="TAG_CLOSE"}}class f extends i.m{constructor(e){super(),this.id="TAG_ORDER_SAVE",this.payload={ids:e}}}class g extends i.m{constructor(e){super(),this.id="TAGS_VISIBILITY_FILTER_ENABLED",this.payload={enabled:e}}}class v extends i.m{constructor(e){super(),this.id="FILTER_VISIBLE_TAGS_COMMAND",this.payload={ids:e}}}class b extends i.m{constructor(e){super(),this.id="SET_REORDERING_MODE",this.payload={mode:e}}}class y extends i.m{constructor(e){super(),this.id="TAG_ORDER_BY_SET",this.payload={order:e}}}},12150:(e,t,n)=>{"use strict";var i,s;n.d(t,{D:()=>s,U:()=>i}),function(e){e.DEFAULT="default",e.REORDERING="reordering"}(i||(i={})),function(e){e.ORDERED="by-tag-order",e.ALPHABETICAL="by-tag-text",e.FLOOR_ORDERED="by-floor-ordered",e.FLOOR_ALPHABETICAL="by-floor-alphabetical"}(s||(s={}))},48945:(e,t,n)=>{"use strict";n.d(t,{MS:()=>a,QM:()=>l,Qy:()=>i,RV:()=>o,ek:()=>s,ho:()=>r});const i="tags2",s="TAG_NAV_OVERLAY",r="TAG_BILLBOARD_SHARE",a="TAG_BILLBOARD_DOCK",o="features/tagIcons",l="tagTitleOnTop";Object.freeze({colors:["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#03687d","#03a9f4","#00bcd4","#417505","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"]})},50892:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var i=n(75287);class s extends i.T{constructor(e){super(),this.order=1e4,this.showModeControls=!0,this.showTourControls=!0,e&&Object.assign(this,e)}}},91380:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var i=n(67992),s=n(15637),r=n(19077),a=n(76631);class o extends i.V{constructor(){super(),this.name="tools-data",this.tools=(0,s.q)(),this.assetDocked=!1,this.activeToolName=null,this.previousToolName=null,this.openModal=null,this.toolPanelLayout=o.defaultToolPanelLayout,this.softOpening=!1,this.toolCollapsed=!1,this.toolChangeInProgress=!1,this.toolPalettes=new r.Q(this.tools),this.toolPalettes.setFilter("enabled",(e=>e.enabled)),this.toolPalettes.setFilter("palette",(e=>!!e.palette)),this.toolPalettes.sort(((e,t)=>e.order-t.order)),this.toolPalettes.priority=r.K.LOW}iterate(e){for(const t of this.tools)e(t)}get toolsMap(){return this.tools}getToolPalettes(){return this.toolPalettes.groupBy("palette")}hasTool(e){return this.toolsMap.has(e)}getTool(e){return this.tools.get(e)}addTool(...e){e.forEach((e=>this.tools.set(e.id,e)))}removeTool(...e){e.forEach((e=>{var t;const n=this.getTool(e);(null===(t=null==n?void 0:n.manager)||void 0===t?void 0:t.dispose)&&n.manager.dispose(),this.tools.delete(e)}))}removeAllTools(){this.iterate((e=>{var t;(null===(t=e.manager)||void 0===t?void 0:t.dispose)&&e.manager.dispose()})),this.tools.clear()}getActiveTool(){return this.activeToolName?this.getTool(this.activeToolName):null}setActiveTool(e){this.previousToolName=e?this.activeToolName:null,this.activeToolName=e,this.commit()}isPanelOpen(){return this.toolPanelLayout===a.wS.SIDE_PANEL||this.toolPanelLayout===a.wS.BOTTOM_PANEL}isToolCollapsedToBottom(){return this.toolPanelLayout===a.wS.BOTTOM_PANEL&&this.toolCollapsed}}o.defaultToolPanelLayout=a.wS.NORMAL},89549:(e,t,n)=>{"use strict";n.d(t,{CH:()=>p,Fg:()=>s,MV:()=>l,Ye:()=>o,cR:()=>c,eS:()=>h,qy:()=>r,r_:()=>d,tT:()=>a,z2:()=>u});var i=n(19663);class s extends i.m{constructor(e){super(),this.payload={collapse:e}}}s.id="TOOL_PANEL_TOGGLE_COLLAPSE";class r extends i.m{constructor(e){super(),this.payload={collapse:e}}}r.id="TOOL_BOTTOM_PANEL_COLLAPSE";class a extends i.m{constructor(e,t){super(),this.payload={toolName:e,active:t}}}a.id="TOGGLE_TOOL";class o extends i.m{constructor(e){super(),this.payload={checkForEdits:e}}}o.id="CLOSE_REMOVE_TOOLS";class l extends i.m{constructor(e){super(),this.payload={tools:e}}}l.id="REGISTER_TOOLS";class c extends i.m{}c.id="OPEN_PREVIOUS_TOOL";class d extends i.m{}d.id="OPEN_INITIAL_TOOL";class u extends i.m{constructor(e,t=!1){super(),this.payload={toolName:e,softOpening:t}}}u.id="OPEN_TOOL";class h extends i.m{}h.id="CLOSE_CURRENT_TOOL";class p extends i.m{constructor(e){super(),this.payload={toolName:e}}}p.id="CLOSE_TOOL"},76631:(e,t,n)=>{"use strict";var i,s,r;n.d(t,{$r:()=>s,w1:()=>i,wS:()=>r}),function(e){e.START_LOCATION="START_LOCATION",e.SCANS_3D="SCANS_3D",e.VIEW_360="VIEW_360",e.PHOTOS="PHOTOS",e.LABELS="LABELS",e.LAYERS="LAYERS",e.MEASUREMENTS="MEASUREMENTS",e.HLR="HLR",e.SETTINGS_PANEL="SETTINGS_PANEL",e.NOTES="NOTES",e.TAGS="TAGS",e.BLUR="BLUR",e.SEARCH="SEARCH",e.MESH_TRIM="MESH_TRIM",e.SUMMARY="SUMMARY",e.PLUGIN_CONFIG="PLUGIN_CONFIG",e.ROOM_BOUNDS="ROOM_BOUNDS",e.ROOM_VIEW="ROOM_VIEW"}(i||(i={})),function(e){e[e.VIEW_BASED=1]="VIEW_BASED",e[e.MODEL_BASED=2]="MODEL_BASED",e[e.MISC=3]="MISC"}(s||(s={})),function(e){e.NORMAL="normal",e.NARROW="narrow",e.SIDE_PANEL="side-panel",e.BOTTOM_PANEL="bottom-panel"}(r||(r={}))},10664:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var i=n(29113),s=n(96403);function r(){const e=(0,i.w)(),t=(0,s.B)();return t&&e?e.getTool(t):null}},38242:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var i=n(10664);function s(){const e=(0,i.x)();return null==e?void 0:e.analytic}},96403:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var i=n(73085),s=n(74554),r=n(91380);const a=(0,i.M)(r.t,"activeToolName",null);(0,s.M)("activeTool",a)},15501:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var i=n(73085),s=n(74554),r=n(91380);const a=(0,i.M)(r.t,"openModal",null);(0,s.M)("openModal",a)},65428:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(73085),s=n(91380);const r=(0,i.M)(s.t,"previousToolName",null)},33023:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var i=n(67294),s=n(29113);function r(e){const t=(0,s.w)(),[n,r]=(0,i.useState)((null==t?void 0:t.getTool(e))||null);return(0,i.useEffect)((()=>{if(!t)return()=>{};const n=t.onChanged((()=>r((null==t?void 0:t.getTool(e))||null)));return()=>n.cancel()}),[t]),n}},51588:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var i=n(73085),s=n(91380);const r=(0,i.M)(s.t,"toolCollapsed",!1)},40216:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var i=n(73085),s=n(74554),r=n(91380);const a=(0,i.M)(r.t,"toolPanelLayout",r.t.defaultToolPanelLayout);(0,s.M)("toolPanelLayout",a)},29113:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var i=n(45755),s=n(74554),r=n(91380);const a=(0,i.u)(r.t);(0,s.M)("toolsData",a)},59425:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,u:()=>r});var i=n(76631),s=n(1512);function r(e,t){const n=e.tryGetProperty(s.F,"");if(n)return n;if(t)return null;const r=e.getOverrideParam("tag","")?i.w1.TAGS:e.getOverrideParam("note","")?i.w1.NOTES:null;if(r)return r;const a=e.getOverrideParam("tool","").toUpperCase();return a||null}function a(e,t){return t.deepLinkParam?e.getOverrideParam(t.deepLinkParam,""):""}},40964:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,U7:()=>a,bz:()=>c,ps:()=>l,rh:()=>o,ro:()=>s});var i=n(98010);class s extends i.v0{}class r extends i.v0{}class a extends i.v0{constructor(e){super(),this.collapsed=e}}class o extends i.v0{constructor(e,t){super(),this.active=e,this.collapsed=t}}class l extends i.v0{constructor(e){super(),this.show=e}}class c extends i.v0{constructor(e){super(),this.visible=e}}},1512:(e,t,n)=>{"use strict";n.d(t,{F:()=>r,GW:()=>i,tn:()=>s});const i=50,s=500,r="cloud_initial_tool"},96767:(e,t,n)=>{"use strict";n.d(t,{HW:()=>o,Ri:()=>c,TH:()=>s,r2:()=>l,rU:()=>a,vy:()=>r});var i=n(19663);class s extends i.m{constructor(e={}){super(),this.id="TOUR_START",this.payload=e}}class r extends i.m{constructor(e={}){super(),this.id="TOUR_STOP",this.payload=e}}class a extends i.m{constructor(e,t=!1){super(),this.id="TOUR_STEP",this.payload={index:e,instant:t}}}class o extends i.m{constructor(e,t=!1){super(),this.id="TOUR_RELATIVE",this.payload={forward:e,instant:t}}}class l extends i.m{constructor(){super(),this.id="TOUR_NEXT_STEP"}}class c extends i.m{constructor(){super(),this.id="TOUR_PREVIOUS_STEP"}}},33397:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r,z:()=>s});var i=n(2224);class s extends i.y{constructor(e="Invalid tour transition"){super(e),this.name="TourTransition"}}class r extends i.y{constructor(e="Cannot start tour"){super(e),this.name="TourStart"}}},17686:(e,t,n)=>{"use strict";var i,s,r;n.d(t,{Aq:()=>r,BZ:()=>i,c5:()=>a,kw:()=>s}),function(e){e[e.Pan=0]="Pan",e[e.PanDollhouse=1]="PanDollhouse",e[e.Zoom=2]="Zoom",e[e.Delay=3]="Delay",e[e.None=4]="None"}(i||(i={})),function(e){e[e.Left=1]="Left",e[e.Auto=0]="Auto",e[e.Right=-1]="Right"}(s||(s={})),function(e){e[e.Move=0]="Move",e[e.Burns=1]="Burns",e[e.Zoom=2]="Zoom",e[e.Path=3]="Path",e[e.FloorChange=4]="FloorChange",e[e.Delay=5]="Delay",e[e.Nop=6]="Nop"}(r||(r={}));const a=[r.Burns,r.Zoom,r.Delay]},96154:(e,t,n)=>{"use strict";n.d(t,{Mt:()=>c,NR:()=>l,Vx:()=>r,_3:()=>o,dW:()=>a,oR:()=>s,sY:()=>d});var i=n(98010);class s extends i.v0{}class r extends i.v0{constructor(e){super(),this.index=e}}class a extends i.v0{constructor(e){super(),this.index=e}}class o extends i.v0{constructor(e,t,n){super(),this.index=e,this.transitionType=t,this.duration=n}}class l extends i.v0{constructor(e){super(),this.willResume=e}}class c extends i.v0{}class d extends i.v0{}},14439:(e,t,n)=>{"use strict";n.d(t,{BA:()=>I,BY:()=>l,Cp:()=>T,EU:()=>a,GS:()=>D,HJ:()=>w,Im:()=>c,LO:()=>d,Mk:()=>m,N5:()=>u,NY:()=>v,O2:()=>y,OJ:()=>o,Pv:()=>p,Qo:()=>h,WQ:()=>r,Xd:()=>V,_D:()=>_,_c:()=>N,b_:()=>R,dF:()=>j,eu:()=>g,f7:()=>O,gS:()=>b,g_:()=>U,i7:()=>x,lY:()=>k,mL:()=>f,mS:()=>C,pn:()=>P,rM:()=>E,su:()=>M,xs:()=>A,y:()=>F,z$:()=>L,z8:()=>S,zi:()=>H});var i=n(55450),s=n(76609);const r="TourSpeed &wts",a="ToursMetersPerSecond",o=.4,l=10,c=1.25,d=.8,u=6,h=3,p=1e3*d,m=1e3*c,f=600,g=400,v=1200,b=1200,y=35,E=15,S=120,O=1200,T=75,_=400,w=i.DEFAULT_TRANSITION_TIME-f,N=(s.SL.BASE,"kb"),A="sspa",I=35,k="st",P=I/3500*1e3,L=2,R=52,C=0,D=2e3,M=.2*P,x=3500,j=e=>1===e.getOverrideParam(N,1),U=e=>e.getOverrideParam(k,3500),F=e=>e.getOverrideParam(A,I),H=e=>e.getOverrideParam("ts",-1),V=Object.freeze({walkingTourIncludeExtraPanosDistance:.4,walkingStageMinimumDistance:.8,maxWalkingSweepsBetweenSnapshots:40})},96042:(e,t,n)=>{"use strict";n.d(t,{DA:()=>c,HG:()=>a,JG:()=>o,mf:()=>l});var i=n(2569),s=n(69505),r=n(14439);const a=e=>{let t=r.Im;if(!isNaN(e)){const n=Math.min(Math.max(r.OJ,e),r.BY);t=(0,i.et)(n,r.OJ,r.BY,r.LO,r.Qo)}return t},o=e=>(0,i.et)(e,r.LO,r.N5,r.OJ,r.BY),l=e=>Math.min(Math.max(r.LO,e),r.N5),c=e=>(0,s.Id)(e)/1e3},65397:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var i=n(67992),s=n(15637),r=n(37082),a=n(60699);class o extends i.V{constructor(e,t,n){super(),this.data=e,this.currentTourMode=n,this.name="tours-view-data",this.reelOpen=!1,this.tourSweepsObservable=(0,s.q)(),this.tourModeSettingObservable=(0,r.Y)(t)}getPhotosForTour(){return this.data.getPhotosForTour()}isTourEmpty(){return 0===this.data.getSnapshotCount()}onReelChanged(e){return this.data.getReel().onChanged(e)}getTourStoryMode(){return this.currentTourMode===a.zz.STORIES}get tourModeSetting(){return this.tourModeSettingObservable.value}setTourModeSetting(e){this.tourModeSettingObservable.value=e}onTourModeSettingChanged(e){return this.tourModeSettingObservable.onChanged(e)}getSnapshot(e){return this.data.getSnapshot(e)}setSweepsInToursAcrossViews(e){this.atomic((()=>{this.tourSweepsObservable.clear(),e.forEach((e=>{this.addTourSweepForView(e.sweepId,e.viewId)}))}))}getViewsWithSweepInTour(e){return this.tourSweepsObservable.get(e)||[]}isSweepInAnyTour(e){return this.tourSweepsObservable.has(e)}isSweepInTourForView(e,t){return this.getViewsWithSweepInTour(e).includes(t)}onSweepsInToursChanged(e){return this.tourSweepsObservable.onChanged(e)}addTourSweepForView(e,t){const n=this.tourSweepsObservable.get(e);n?n.push(t):this.tourSweepsObservable.set(e,[t])}}},89264:(e,t,n)=>{"use strict";n.d(t,{Av:()=>l,CI:()=>r,K1:()=>o,Te:()=>s,Ty:()=>a,iy:()=>c});var i=n(19663);class s extends i.m{constructor(e){super(),this.id="TOUR_SET_TOUR_MODE",this.payload={tourMode:e}}}class r extends i.m{constructor(e,t){super(),this.id="TOUR_RENAME",this.payload={sid:e,name:t}}}class a extends i.m{constructor(e,t){super(),this.id="TOUR_CHANGE_TITLE",this.payload={sid:e,title:t}}}class o extends i.m{constructor(e,t){super(),this.id="TOUR_CHANGE_DESCRIPTION",this.payload={sid:e,description:t}}}class l extends i.m{constructor(e){super(),this.payload={open:e}}}l.id="HIGHLIGHT_REEL_TOGGLE_OPEN";class c extends i.m{constructor(e){super(),this.payload={show:e}}}c.id="HIGHLIGHT_REEL_SHOW_STORY_TEXT"},2473:(e,t,n)=>{"use strict";n.d(t,{b:()=>c,k:()=>d});var i=n(67992),s=n(17686),r=n(37082),a=n(10385),o=n(60699),l=n(5823);const c={active:!1,type:s.Aq.Move,promise:Promise.resolve(),stop:()=>Promise.resolve(),toIndex:-1,duration:0,started:-1,stopped:-1};class d extends i.V{constructor(e={},t,n,i,s,l){super(),this.snapshots=e,this.activeReel=t,this.allowedModes=n,this.modelSweeps=i,this.looping=s,this.log=l,this.name="tour",this.tourState=o.Vs.Inactive,this.transitionObservable=(0,r.Y)(c),this.tourCurrentSnapshot=-1,this.enabledTourStops=(0,a.C)([]),this.tourPlaying=!1,this.tourWillResume=!1,this.tourEnded=!1,this.updateEnabledStops=e=>{if(this.enabledTourStops.replace([]),this.activeReel&&this.activeReel.reel)for(const t of this.activeReel.reel)if(t&&t.sid in this.snapshots){const n=this.snapshots[t.sid],i=n.metadata.cameraMode,s=n.metadata.scanId,r=-1!==e.indexOf(i),a=this.modelSweeps.findIndex((e=>e.id===s)),o=void 0!==s&&-1!==a&&this.modelSweeps[a].enabled,l=!s;r&&(l||o)&&this.enabledTourStops.push(t.sid)}},this.updateEnabledStops(n),this.looping=s,this.commit()}setHighlightReel(e){this.atomic((()=>{this.activeReel.replace(e),this.updateEnabledStops(this.allowedModes),this.resetEmptyReel()}));const t=Object.keys(this.getReel()).length,n=this.getSnapshotCount();t!==n&&this.log.info(t-n+" items in snapshots, but not in reel")}addSnapshotToTour(e,t=o.VH.Current){this.snapshots[e.sid]=e;this.allowedModes.includes(e.metadata.cameraMode)&&this.enabledTourStops.push(e.sid);const n=this.tourCurrentSnapshotSid;switch(this.tourCurrentSnapshotSid=e.sid,t){case o.VH.Beginning:this.tourCurrentSnapshot=0,this.activeReel.reel.insert(0,{sid:e.sid});break;case o.VH.End:this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push({sid:e.sid});break;case o.VH.Current:if(void 0===n)this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push({sid:e.sid});else{let t=this.activeReel.reel.findIndex((e=>!!e&&e.sid===n))+1;(t<=0||t>this.activeReel.reel.length)&&(t=this.activeReel.reel.length-1),this.tourCurrentSnapshot=this.tourCurrentSnapshot+1,this.activeReel.reel.insert(t,{sid:e.sid})}break;default:throw new Error(`Tours.addSnapshotToTour not implemented: ${t}`)}this.useTransition(c),this.commit()}clearHighlightOverrides(e,t,n){if(!t&&!n)return;const i={};t&&(i.transitionType=void 0),n&&(i.panDirection=void 0,i.panAngle=void 0),this.applyHighlightOverrides(e,i)}clearAllHighlightOverrides(){this.getReel().reel.forEach((e=>{e&&this.clearHighlightOverrides(e.sid,!0,!0)}))}resetAllTransitionTypeOverrides(){if(this.activeReel&&this.activeReel.reel){let e=!1;this.activeReel.reel.forEach(((t,n)=>{t&&t.overrides&&t.overrides.transitionType&&(delete t.overrides.transitionType,this.activeReel.reel.update(n,t),e=!0)})),e&&this.activeReel.setDirty()}}resetAllPanSettingOverrides(){if(this.activeReel&&this.activeReel.reel){let e=!1;this.activeReel.reel.forEach(((t,n)=>{t&&t.overrides&&(void 0===t.overrides.panAngle&&void 0===t.overrides.panDirection||(delete t.overrides.panAngle,delete t.overrides.panDirection,e=!0,this.activeReel.reel.update(n,t)))})),e&&this.activeReel.setDirty()}}applyHighlightOverrides(e,t){const n=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e));this.setHighlightOverrides(n,t)}setHighlightOverrides(e,t){const n=this.activeReel.reel.get(e);if(!n)throw Error(`Highlight not found for ${e}`);const i={sid:n.sid,title:n.title,description:n.description};n.overrides?(i.overrides=Object.assign({},n.overrides),t.hasOwnProperty("panDirection")&&(i.overrides.panDirection=t.panDirection),t.hasOwnProperty("transitionType")&&(i.overrides.transitionType=t.transitionType),t.hasOwnProperty("panAngle")&&(i.overrides.panAngle=t.panAngle)):i.overrides={transitionType:t.transitionType,panDirection:t.panDirection,panAngle:t.panAngle},this.activeReel.reel.update(e,i)}updateReelEntry(e){const{sid:t}=e,n=this.activeReel.reel.findIndex((e=>!!e&&e.sid===t));if(-1===n)throw Error(`Reel entry not found for ${t}`);const i=this.activeReel.reel.get(n);if(!e)throw Error(`Reel entry not found for ${n}`);const s=Object.assign({},i,e);this.activeReel.reel.update(n,s)}moveTourStop(e,t){const n=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e)),i=this.activeReel.reel.findIndex((e=>!!e&&e.sid===t));this.activeReel.reel.move(n,i)}clear(){this.resetEmptyReel(),this.enabledTourStops.replace([]),this.activeReel.reel.length=0,this.commit()}removeTourStop(e){const t=this.enabledTourStops.indexOf(e),n=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e)),i=this.getTourIndexBySid(e);if(-1!==t&&this.enabledTourStops.splice(t,1),this.enabledTourStops.length>0){const e=i<=this.tourCurrentSnapshot?this.tourCurrentSnapshot-1:this.tourCurrentSnapshot;this.setTourCurrentSnapshotByIndex(Math.max(e,0))}else this.resetEmptyReel();this.activeReel.reel.remove(n)}getReel(){return this.activeReel}isLooping(){return this.looping}setLooping(e){this.looping=e}getActiveReelTourMode(){return this.activeReel.mode||l.Z1.REEL}setActiveReelTourMode(e){this.activeReel.mode=e,this.activeReel.commit()}isTourActive(){return this.tourState!==o.Vs.Inactive}getCurrentTourState(){return{currentStep:this.getTourCurrentSnapshotIndex(),tourPlaying:this.tourPlaying||this.tourWillResume,totalSteps:this.getSnapshotCount(),tourEnded:this.tourEnded,activeStep:this.transition&&-1!==this.transition.toIndex?this.transition.toIndex:this.getTourCurrentSnapshotIndex(),highlights:this.getReelHighlights(),transition:this.transition}}get transition(){return this.transitionObservable.value}isTourTransitionActive(){return this.transition.active}getTourTransitionType(){return this.transition.type}useTransition(e){this.transitionObservable.value=e}async stopTourTransition(){await this.transition.stop()}iterateSnapshots(e){let t=0;this.activeReel.reel.forEach((n=>{if(n&&this.isEnabled(n.sid)){const i=this.snapshots[n.sid];e(i,t++)}}))}isSnapshotInTour(e){return-1!==this.activeReel.reel.findIndex((t=>!!t&&t.sid===e))}getEnabledSnapshots(){const e=[];return this.iterateSnapshots(((t,n)=>{e.push(t)})),e}updateSnapshots(e){this.snapshots=e}async getPhotosForTour(){const e=[];for(const t in this.snapshots){const n=this.snapshots[t];"tour"!==n.category&&"panorama"!==n.category&&e.push({name:n.name,sid:n.sid,thumbnailUrl:await n.thumbnailUrl.get(),inReel:this.isSnapshotInTour(t),created:n.created})}return e.sort(((e,t)=>t.created.getTime()-e.created.getTime())),e}getSnapshot(e){return this.snapshots[e]}getTourStop(e){const t=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e)),n=this.activeReel.reel.get(t);return{snapshot:this.getSnapshot(e),reelEntry:n}}getReelHighlights(){const e=[];return this.activeReel.reel.forEach((t=>{if(t&&this.isEnabled(t.sid)){const n=this.snapshots[t.sid];if(n){const i=t.overrides&&t.overrides.panDirection,s=t.overrides&&t.overrides.panAngle;e.push({id:n.sid,snapshot:n,panDirection:i,panAngle:s,transitionType:t.overrides&&t.overrides.transitionType,title:t.title,description:t.description})}}})),e}getSnapshotCount(){return this.enabledTourStops.length}getTourState(){return this.tourState}setTourState(e){this.tourState=e,this.commit()}getTourCurrentSnapshotIndex(){return this.tourCurrentSnapshot}getTourCurrentSnapshotSid(){return this.tourCurrentSnapshotSid}getTourSnapshotSid(e){let t=0;for(const n of this.activeReel.reel)if(n&&this.isEnabled(n.sid)){if(t===e)return n.sid;t++}throw new Error("getTourSnapshotSid() -> Invalid snapshot index.")}getTourSnapshotsWithSweepId(e){const t=[];for(const n of this.activeReel.reel)n&&n.sid in this.snapshots&&this.snapshots[n.sid].metadata.scanId===e&&t.push(n.sid);return t}setTourCurrentSnapshotByIndex(e){if(e<0||e>this.getSnapshotCount())throw new Error("setTourCurrentSnapshotByIndex() -> Invalid tour index.");let t=-1;for(const n of this.activeReel.reel)if(n&&this.isEnabled(n.sid)&&(t++,t===e)){this.tourCurrentSnapshot=e,this.tourCurrentSnapshotSid=n.sid;break}-1===t&&this.resetEmptyReel(),this.commit()}getTourIndexBySid(e){let t=-1;for(const n of this.activeReel.reel)if(n&&this.isEnabled(n.sid)&&(t++,n.sid===e))return t;return-1}isEnabled(e){return-1!==this.enabledTourStops.indexOf(e)}resetEmptyReel(){this.tourCurrentSnapshot=-1,this.tourCurrentSnapshotSid=void 0,this.useTransition(c),this.commit()}}},60699:(e,t,n)=>{"use strict";var i,s,r;n.d(t,{VH:()=>r,Vs:()=>s,zz:()=>i}),function(e){e.NONE="none",e.STORIES="stories",e.LEGACY="legacy"}(i||(i={})),function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.StopScheduled=2]="StopScheduled"}(s||(s={})),function(e){e[e.Beginning=0]="Beginning",e[e.Current=1]="Current",e[e.End=2]="End"}(r||(r={}))},21359:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var i=n(98010);class s extends i.v0{constructor(){super()}}},59323:(e,t,n)=>{"use strict";n.d(t,{C7:()=>g,Nu:()=>d,PR:()=>h,R3:()=>s,Wf:()=>o,Yi:()=>r,iL:()=>u,l4:()=>m,lj:()=>i,o9:()=>a,pQ:()=>p,qe:()=>l,rU:()=>c,yY:()=>f});const i="tour-stories",s="spaces.tours_v2",r="tours2",a="gt",o=0,l=1,c="hr",d=0,u=1,h="tour",p=0,m=1,f=2,g=3},97478:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>c,aW:()=>l,ug:()=>o,w7:()=>d});var i=n(5823),s=n(59625),r=n(60699),a=n(59323);function o(e){const t=e.tryGetProperty(s.gx.HighlightReel,!0),n=e.getOverrideParam(a.rU,a.iL),i=e.getOverrideParam(a.PR,a.l4);return t&&n!==a.Nu&&i!==a.pQ}function l(e,t){const n=function(e){const t=e.tryGetProperty(s.gx.TourButtons,!0),n=e.getOverrideParam(a.o9,a.qe),i=e.getOverrideParam(a.PR,a.l4);return t&&n!==a.Wf&&i!==a.pQ}(e),i=o(e);return n||i?c(e,t)?r.zz.STORIES:r.zz.LEGACY:r.zz.NONE}function c(e,t){const n=e.getOverrideParam(a.PR,a.l4);return n===a.yY||n!==a.C7&&t===i.Z1.STORY}function d(e,t){const n=e.tryGetProperty(s.gx.TourButtons,!0),a=e.tryGetProperty(s.gx.HighlightReel,!0);return n||a?t===i.Z1.STORY?r.zz.STORIES:r.zz.LEGACY:r.zz.NONE}},20436:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var i=n(67992),s=n(15637),r=n(5823),a=n(31958),o=n(66197),l=n(67622);class c extends i.V{constructor(e,t,n){super(),this.orgAdmin=n,this.name="users-data",this.users=(0,s.q)();const i=e.modelAccess||r.x6.PUBLIC;this.currentUser=new a.a(Object.assign(Object.assign({},e),{modelAccess:i,userStatus:t?o.J.KNOWN:o.J.UNKNOWN})),this.addUser(this.currentUser)}loadSearchResults(e,t,n){this.atomic((()=>{e.forEach((e=>{this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.KNOWN}))})),t.forEach((e=>{this.users.get(e)||this.loadUser({email:e,id:"",userStatus:n,modelAccess:r.x6.PUBLIC,firstName:null,lastName:null})}))}))}loadKnownUsers(e){this.atomic((()=>{e.forEach((e=>{this.loadKnownUser(e)}))}))}loadKnownUser(e){return this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.KNOWN}))}loadContributor(e){const t=this.users.get(e.email);return t||this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.CONTRIBUTOR}))}loadFailedUser(e){return this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.FAILED}))}loadUser(e){let t=this.users.get(e.email);return e.email===this.currentUser.email||t&&t.userStatus===o.J.KNOWN&&t.modelAccess!==r.x6.PUBLIC||(t=new a.a(e),t?this.users.set(e.email,t):this.addUser(t)),t}getUserInfoByEmail(e){return this.users.has(e)?this.users.get(e):null}getUserInfoById(e){return""===e?null:this.users.values.find((t=>t.id===e))||null}getUserDisplay(e){return this.users.has(e)?this.users.get(e):(0,l.Q)(e)}iterate(e){for(const t of this.users)e(t)}getUsersWhoMayNeedAccess(){const e={};return this.users.values.forEach((t=>{t.userStatus===o.J.KNOWN&&t.modelAccess!==r.x6.PUBLIC||(e[t.email]=t)})),e}getKnownUsers(){return this.users.values.filter((e=>e.userStatus===o.J.KNOWN))}addUser(e){this.users.has(e.email)||this.users.set(e.email,e)}getCurrentUser(){return this.currentUser}isLoggedIn(){return!!this.currentUser.id}isOrgAdmin(){return this.orgAdmin}isInviter(){return this.orgAdmin}isEditor(){return this.currentUser.modelAccess===r.x6.FULL}isCommenter(){const{modelAccess:e}=this.currentUser;return e===r.x6.VIEWER||e===r.x6.FULL}getCurrentUserId(){return this.currentUser.id}onUsersChanged(e){return this.users.onChanged(e)}}},31958:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var i=n(5823),s=n(66197),r=n(67622);class a{constructor(e){this.email="",this.id="",this.firstName="",this.lastName="",this.modelAccess=i.x6.PUBLIC,this.userStatus=s.J.UNKNOWN,this.name="",this.initials="",this.color="",e&&Object.assign(this,e);const t=this.id?this.getFullName(this.firstName,this.lastName):"";this.name=t||this.email||"",this.initials=this.getInitials(this.name),this.color=(0,r._)(this.id)}getFullName(e,t){return e&&t?`${e} ${t}`:e||t}getInitials(e){const t=e?e.split(" ").map((e=>e[0])).join(""):"?";return t.length<3?t:`${t[0]}${t[t.length-1]}`}}},5686:(e,t,n)=>{"use strict";n.d(t,{JB:()=>a,V1:()=>s,Vu:()=>r});var i=n(19663);class s extends i.m{constructor(e){super(),this.id="USERS_SEARCH",this.payload={search:e}}}class r extends i.m{constructor(e){super(),this.id="USERS_MENTIONS_FETCH",this.payload={userMentions:e}}}class a extends i.m{constructor(e,t,n,i){super(),this.id="USERS_INVITE",this.payload={emails:e,message:t,modelAccess:n,noteId:i}}}},66197:(e,t,n)=>{"use strict";var i;n.d(t,{J:()=>i}),function(e){e.UNKNOWN="unknown",e.FAILED="failed",e.MENTIONED="mentioned",e.CONTRIBUTOR="contributor",e.KNOWN="known"}(i||(i={}))},53555:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InviteUsersCommand:()=>f.JB,OrgUser:()=>o,ResolveUserMentionsCommand:()=>f.Vu,UserData:()=>m.m,UserInfo:()=>y.a,UserMentionSearchCommand:()=>f.V1,UserStatus:()=>p.J,default:()=>E,defaultUserColor:()=>b._,getUnknownUserInfo:()=>b.Q});var i=n(97542),s=n(97998),r=n(17788),a=n(5823);class o{constructor(e){this.id="",this.email="",this.firstName="",this.lastName="",this.modelAccess=a.x6.PUBLIC,Object.assign(this,e)}}const l=new s.Z("mds-user-deserializer");class c{constructor(){this.validate=e=>{if(!e)return!1;const t=["id","email"].filter((t=>!(t in e))),n=0===t.length;return n||l.debug("OrgUserMetadata invalid:",{missingFields:t}),n}}deserialize(e){return e&&this.validate(e)?new o(e):(l.debug("Deserialized invalid OrgUserMetadata from MDS",e),null)}}var d=n(26965);const u=new s.Z("users-store");class h extends r.u{constructor(e){super(e),this.deserializer=new c}async fetchAccessForUser(e,t){return this.query(d.GetCurrentUserModelAccess,{modelId:t,userId:e}).then((t=>{var n,i,s,r,o;const l=null===(s=null===(i=null===(n=t.data)||void 0===n?void 0:n.model)||void 0===i?void 0:i.users)||void 0===s?void 0:s.results;let c=a.x6.PUBLIC;return l&&Array.isArray(l)?(l.find((e=>e.modelAccess===a.x6.FULL))?c=a.x6.FULL:l.find((e=>e.modelAccess===a.x6.VIEWER))&&(c=a.x6.VIEWER),u.debug(`modelAccess: ${l.length} response(s), set to "${c}"`)):u.debug(`fetchModelAccess failed for ${e}`),{modelAccess:c,organization:(null===(o=null===(r=t.data)||void 0===r?void 0:r.model)||void 0===o?void 0:o.organization)||void 0}}))}async search(e,t,n){const i=this.getViewId();return this.query(d.GetUsers,{modelId:i,search:e||null,ids:n||null,emails:t||null}).then((e=>{var t,n,i;const s=null===(i=null===(n=null===(t=e.data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.users)||void 0===i?void 0:i.results;if(!s||!Array.isArray(s))return[];const r=[];for(const e of s){const t=this.deserializer.deserialize(e);t&&r.push(t)}return r}))}}var p=n(66197),m=n(20436),f=n(5686),g=n(80742);class v extends i.Y{constructor(){super(...arguments),this.name="users-module",this.onUserMentionSearch=async e=>{const t=await this.store.search(e.search);this.userData.loadKnownUsers(t)},this.resolveUserMentions=async e=>{if(0===e.userMentions.length)return void this.log.debug("No user mentions to resolve");const t=[];if(e.userMentions.forEach((e=>{this.userData.getUserInfoByEmail(e.email)&&e.userStatus!==p.J.MENTIONED||t.push(e)})),t.length>0){const e=t.map((e=>e.email));return this.searchUsers(new Set(e),p.J.MENTIONED)}},this.inviteUsers=async e=>{const{emails:t,modelAccess:n,message:i,noteId:s}=e;if(0===t.length)return;const{baseUrl:r,viewId:a,queue:o}=this.config,l=`${r}/api/v2/shares/`,c={object_type:"model",object_id:a,role:n,inviter_message:i,note:s},d=new Set;return await Promise.all(e.emails.map((e=>o.post(l,{responseType:"json",body:Object.assign(Object.assign({},c),{email:e})}).then((e=>{const t=e.user;this.userData.loadKnownUser({id:t.sid,email:t.email,firstName:t.first_name,lastName:t.last_name,modelAccess:e.role})})).catch((()=>{this.log.debug(`User Invite failed: ${e}`),d.add(e)}))))),d.size>0?this.searchUsers(d,p.J.FAILED):void 0}}async init(e,t){this.config=e,this.store=new h({context:e.mdsContext,readonly:!0,baseUrl:e.baseUrl,viewId:e.viewId}),t.market.waitForData(g.R).then((async n=>{const i=await e.api.user;let s=a.x6.PUBLIC,r=!1;if(i.loggedIn&&i.id){const e=await this.store.fetchAccessForUser(i.id,n.getBaseModelId());s=e.modelAccess,e.organization&&(r=i.isOrganizationAdmin(e.organization))}this.userData=new m.m({id:i.id,firstName:i.firstName,lastName:i.lastName,email:i.email,modelAccess:s},i.loggedIn,r),this.bindings.push(t.commandBinder.addBinding(f.V1,this.onUserMentionSearch),t.commandBinder.addBinding(f.Vu,this.resolveUserMentions),t.commandBinder.addBinding(f.JB,this.inviteUsers)),t.market.register(this,m.m,this.userData)}))}dispose(e){super.dispose(e),e.market.unregister(this,m.m)}async searchUsers(e,t){const n=Array.from(e),i=await this.store.search(void 0,n);this.userData.loadSearchResults(i,n,t)}}var b=n(67622),y=n(31958);const E=v},67622:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l,_:()=>o});var i=n(92558),s=n(66197),r=n(5823);const a=["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#5c7fff","#03a9f4","#417505","#00bcd4","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"];function o(e){const t=a.length;return a[(0,i.Wm)(e||"",t)]}function l(e){return{email:e,id:"",firstName:"",lastName:"",name:"Unknown",initials:"?",color:o(e),userStatus:s.J.UNKNOWN,modelAccess:r.x6.PUBLIC}}},41326:(e,t,n)=>{"use strict";n.d(t,{BD:()=>i,KP:()=>l,_i:()=>d,g:()=>o,ty:()=>c});var i,s=n(19663),r=n(95882),a=n(64918);!function(e){e.INSIDE="mode.inside",e.OUTSIDE="mode.outside",e.DOLLHOUSE="mode.dollhouse",e.FLOORPLAN="mode.floorplan",e.TRANSITIONING="mode.transitioning",e.ORTHOGRAPHIC="mode.orthographic",e.MESH="mode.mesh"}(i||(i={}));const o=i.INSIDE,l=(i.INSIDE,r.Ey.Panorama,i.DOLLHOUSE,r.Ey.Dollhouse,i.FLOORPLAN,r.Ey.Floorplan,i.TRANSITIONING,r.Ey.Transition,i.OUTSIDE,r.Ey.Outdoor,i.ORTHOGRAPHIC,r.Ey.Orthographic,i.MESH,r.Ey.Mesh,{[r.Ey.Panorama]:i.INSIDE,[r.Ey.Dollhouse]:i.DOLLHOUSE,[r.Ey.Floorplan]:i.FLOORPLAN,[r.Ey.Transition]:i.TRANSITIONING,[r.Ey.Outdoor]:i.OUTSIDE,[r.Ey.Orthographic]:i.ORTHOGRAPHIC,[r.Ey.Mesh]:i.MESH}),c=e=>{const t=l[e];return void 0!==t?t:i.OUTSIDE};class d extends s.m{constructor(e,t=a.n.Interpolate,n={},i){super(),this.payload={mode:e,transitionType:t,pose:n,transitionTime:i}}}d.id="CHANGE_VIEWMODE"},65019:(e,t,n)=>{"use strict";n.d(t,{CE:()=>o,dF:()=>s,g_:()=>a,wY:()=>r});var i=n(59625);const s="showcase-floor_plan",r="showcase-dollhouse";function a(e,t){return l(i.gx.FloorPlan,s,"fp",e,t)}function o(e,t){return l(i.gx.Dollhouse,r,"dh",e,t)}function l(e,t,n,i,s){const r=i.tryGetProperty(e,!1),a=!s&&0===i.getOverrideParam(n,1),o=r&&!a;return i.setProperty(t,o),o}},62496:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});const i="features/dollhouse-nudge"},5090:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(79596);class s extends i.a{}},10699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(79596);class s extends i.a{}},79596:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var i=n(98010);class s extends i.v0{constructor(e,t){super(),this.fromMode=t,this.toMode=e,this.timestamp=Date.now()}}},95882:(e,t,n)=>{"use strict";var i;n.d(t,{Ae:()=>s,Bw:()=>r,Ey:()=>i,vl:()=>a}),function(e){e[e.Panorama=1]="Panorama",e[e.Dollhouse=2]="Dollhouse",e[e.Floorplan=3]="Floorplan",e[e.Outdoor=4]="Outdoor",e[e.Orthographic=5]="Orthographic",e[e.Mesh=6]="Mesh",e[e.Transition=-1]="Transition"}(i||(i={}));const s=e=>{switch(e){case i.Panorama:return"Panorama";case i.Floorplan:return"Floorplan";case i.Dollhouse:return"Dollhouse";case i.Transition:return"Transition";case i.Orthographic:return"Orthographic";case i.Mesh:return"Mesh"}return"Unknown"};function r(e){return e===i.Panorama||e===i.Mesh}function a(e){return e===i.Panorama}},22201:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>r,YR:()=>o,mH:()=>a,x6:()=>l});var i=n(41753);class s extends i.f{constructor(e="Unhandled Viewmode Exception",t){super(e),this.originalError=t,this.name="ViewmodeException"}}class r extends s{constructor(e="Tried to start view-mode transition while another transition was active"){super(e),this.name="ViewmodeActiveTransition"}}class a extends s{constructor(e="Cannot change viewmode when locked"){super(e),this.name="ViewmodeLocked"}}class o extends s{constructor(e="Cannot change to disabled/invalid viewmode"){super(e),this.name="ViewmodeInvalid"}}class l extends s{constructor(e="Unhandled Error processing viewmode change command",t){super(e,t),this.name="ViewmodeCommandException"}}},66917:(e,t,n)=>{"use strict";n.d(t,{I:()=>r,M:()=>s});var i=n(19663);class s extends i.m{constructor(){super()}}s.id="LOCK_VIEWMODE";class r extends i.m{constructor(){super()}}r.id="UNLOCK_VIEWMODE"},23254:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var i=n(67992),s=n(95882),r=n(37082);class a extends i.V{constructor(){super(),this.name="viewmode",this.viewmodeChangeEnabled=!0,this.currentModeObservable=(0,r.Y)(null),this.transition={active:!1,progress:0,from:null,to:null,startTime:0,transitionTime:0},this.isPano=this.isPano.bind(this),this.isFloorplan=this.isFloorplan.bind(this),this.isInside=this.isInside.bind(this),this.isDollhouse=this.isDollhouse.bind(this),this.isOrthographic=this.isOrthographic.bind(this)}get currentMode(){return this.currentModeObservable.value}set currentMode(e){e!==this.currentModeObservable.value&&(this.currentModeObservable.value=e)}get closestMode(){return this.currentMode===s.Ey.Transition?this.transition.progress<.5?this.transition.from:this.transition.to:this.currentMode}makeModeChangeSubscription(e){return this.currentModeObservable.onChanged(e)}activateTransition(e,t,n){this.transition.active=!0,this.transition.progress=0,this.transition.startTime=Date.now(),this.transition.transitionTime=n,this.transition.to=t,this.transition.from=e}deactivateTransition(){this.transition.active=!1}isPano(){return this.currentMode===s.Ey.Panorama}isInside(){return(0,s.Bw)(this.currentMode)}isMesh(){return this.currentMode===s.Ey.Mesh}isFloorplan(){return this.currentMode===s.Ey.Floorplan}isDollhouse(){return this.currentMode===s.Ey.Dollhouse}isOrthographic(){return this.currentMode===s.Ey.Orthographic}canStartTransition(){const e=this.transition.active,t=this.currentMode===s.Ey.Transition;return!e&&!t}transitionActive(){return!this.canStartTransition()}isTargetMode(e){const t=this.transition.from===this.transition.to,n=this.currentMode===e;return this.transition.active&&t||n}canSwitchViewMode(e){return this.canStartTransition()&&this.viewmodeChangeEnabled&&!this.isTargetMode(e)}}},55450:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DEFAULT_TRANSITION_TIME:()=>N,default:()=>L});var i=n(92810),s=n(95882),r=n(64918),a=n(81396),o=n(90304),l=n(18596),c=n(97542),d=n(23254),u=n(9037),h=n(53954),p=n(10699),m=n(5090),f=n(79596),g=n(22201),v=n(73121),b=n(69505);var y=n(5332),E=n(31546),S=n(23885);const O={rotationDuration:1,rotationDelay:0,matrixDelay:0,matrixDuration:.5},T={[s.Ey.Dollhouse]:{matrixDelay:.5,matrixDuration:1},[s.Ey.Panorama]:{rotationDuration:.5}};var _=n(76532),w=n(66917);const N=1e3,A=Math.PI/2+Number.EPSILON,I=Math.PI-Number.EPSILON,k=[s.Ey.Mesh,s.Ey.Panorama,s.Ey.Floorplan,s.Ey.Dollhouse,s.Ey.Orthographic],P={[s.Ey.Mesh]:N,[s.Ey.Panorama]:N,[s.Ey.Dollhouse]:N,[s.Ey.Floorplan]:N,[s.Ey.Orthographic]:N};class L extends c.Y{constructor(){super(...arguments),this.name="viewmode",this.data=new d.O,this.minDollhouseDistance=15,this.maxDollhouseDistance=50,this._orthoMatrix=new E.M,this.getFlyinStartPose=(e,t)=>{var n;const i=null!==(n=e.position)&&void 0!==n?n:new a.Vector3,s=t||this.cameraData.pose.position,r=i.y-s.y,l=(0,v.Ll)(i,s,this.meshData.meshCenter),c=o.fU.FORWARD.clone().applyQuaternion(l),d=Math.sign(c.y)*Math.PI/4;return{position:(0,v.D7)(i,s,d,!0).setY(1.5*r)}},this.getFlyinEndPose=e=>{var t,n;const i=e.position||(null===(n=this.sweepData.getSweep(null!==(t=e.sweepID)&&void 0!==t?t:"invalid"))||void 0===n?void 0:n.position)||new a.Vector3,s=e.rotation||new a.Quaternion,r=Math.PI/180*l.oR.fov;return(0,v.YN)({targetPosition:i,targetRotation:s,angleDown:-Math.PI/6,box:this.meshData.meshBounds,fovY:r,aspectRatio:this.canvas.aspectRatio})}}async init(e,t){var n;this.engine=t,this.market=t.market,this.data.currentMode=null!==(n=e.startingMode)&&void 0!==n?n:s.Ey.Dollhouse,this.market.register(this,d.O,this.data),t.market.waitForData(_._).then((e=>{this.meshData=e,this.setDollhouseBounds()})),this.bindings.push(t.commandBinder.addBinding(w.M,this.lockViewmode.bind(this)),t.commandBinder.addBinding(w.I,this.unlockViewmode.bind(this)));const[r,a,o,l,c]=await Promise.all([t.getModuleBySymbol(i.kg),t.getModuleBySymbol(i.l),t.market.waitForData(h.Z),t.market.waitForData(y.W),t.market.waitForData(u.M)]);this.cameraModule=r,this.sweepModule=a,this.sweepData=o,this.canvas=l,this.cameraData=c}lockViewmode(){this.data.viewmodeChangeEnabled=!1,this.data.commit()}unlockViewmode(){this.data.viewmodeChangeEnabled=!0,this.data.commit()}get currentMode(){return this.data.currentMode}async switchToMode(e,t=r.n.FadeToBlack,n,a){this.log.debug(`switchToMode mode:${s.Ey[e]} type:${r.n[t]}`);const o=this.isAlreadyInMode(e),l=!n||n&&!L.willPoseChange(this.cameraData,n);if(o&&l)return;if(!k.includes(e))throw new g.YR(`Cannot change to invalid viewmode ${e}`);this.meshData||e!==s.Ey.Floorplan&&e!==s.Ey.Dollhouse||await this.engine.getModuleBySymbol(i.Ve);const c=!this.cameraData.canTransition();if(!this.data.canStartTransition()||c)throw new g.Cj;if(e!==this.currentMode&&!this.data.viewmodeChangeEnabled)throw new g.mH;let d=void 0!==a?a:P[e];t===r.n.Instant&&(d=0),this.sweepData.currentSweep&&this.sweepData.isSweepUnaligned(this.sweepData.currentSweep)&&!(0,s.Bw)(e)&&(t=r.n.FadeToBlack);const u=Object.assign({},this.data.transition),h=this.data.currentMode;let v=!1;const b=t=>{this.data.transition.progress=t,this.data.commit(),t>=.5&&!v&&(v=!0,this.engine.broadcast(new f.a(e,null!=h?h:void 0)))},y=()=>{this.data.transition.progress=1,this.data.currentMode=e,this.data.deactivateTransition(),this.data.commit(),this.engine.broadcast(new p.Z(e,null!=h?h:void 0))};let E;switch((()=>{this.data.activateTransition(this.data.currentMode,e,d),this.data.currentMode=s.Ey.Transition,this.data.commit(),this.engine.broadcast(new m.Z(e,null!=h?h:void 0))})(),e){case s.Ey.Mesh:case s.Ey.Panorama:E=this.moveCameraToPanorama(h,t,d,n);break;case s.Ey.Dollhouse:E=this.moveCameraToDollhouse(t,d,n);break;case s.Ey.Floorplan:E=this.moveCameraToFloorplan(null!=h?h:void 0,t,d,n);break;case s.Ey.Orthographic:E=this.moveCameraToOrthographic(null!=h?h:void 0,t,d,n);break;default:throw new g.YR(`Invalid target mode ${e}`)}try{E.progress(b),await E.nativePromise(),y()}catch(e){throw this.data.currentMode=h,this.data.transition=u,this.data.commit(),e}}isAlreadyInMode(e){const{data:t}=this,n=t.transition.from===t.transition.to,i=t.currentMode===e;return t.transition.active&&n||i}static willPoseChange(e,t){return void 0!==t.position&&!e.pose.position.equals(t.position)||void 0!==t.rotation&&!e.pose.rotation.equals(t.rotation)||void 0!==t.zoom&&e.zoom()!==t.zoom}moveCameraToPanorama(e,t,n,i){var r,l;let c=null!==(r=null==i?void 0:i.sweepID)&&void 0!==r?r:this.sweepData.currentSweep;c||(c=null===(l=this.sweepData.getFirstSweep())||void 0===l?void 0:l.id);let d=null==i?void 0:i.rotation;if(!d){const t=(e===s.Ey.Floorplan?o.fU.UP:o.fU.FORWARD).clone().applyQuaternion(this.cameraData.pose.rotation).setY(0).normalize();d=(new a.Quaternion).setFromUnitVectors(o.fU.FORWARD,t)}return this.sweepModule.moveToSweep({transitionType:t,sweepId:c,rotation:d,transitionTime:n,rotationDelay:.5})}moveCameraToDollhouse(e,t,n){var i;const r=this.meshData.meshBounds,c={};let d;if(n&&(n.position||n.rotation)){if(n.position&&n.rotation){c.position=n.position,c.rotation=n.rotation;const e=new a.Plane(o.fU.UP.clone(),this.meshData.meshCenter.y);let t=(0,v.Fe)(c.position,c.rotation,e);t||(t=new a.Vector3,t.copy(this.meshData.meshCenter)),r.containsPoint(t)&&(d=c.position.distanceTo(t))}else if(n.position)c.position=n.position,c.rotation=(0,v.n0)(n.position,this.meshData.meshCenter);else{c.rotation=null!==(i=n.rotation)&&void 0!==i?i:new a.Quaternion;const e=r.min.distanceTo(r.max);c.position=(0,v.fd)(c.rotation,this.meshData.meshCenter,e)}d||(d=this.meshData.meshCenter.clone().distanceTo(c.position))}else{let e,t;const n=this.sweepData.isSweepUnaligned(this.sweepData.currentSweep),i=n||this.data.transition.from===s.Ey.Floorplan?this.meshData.meshCenter:this.cameraData.pose.position;if(n)t=new a.Vector3(0,0,0),e=new a.Vector3(15,10,15);else if(this.data.transition.from!==s.Ey.Floorplan){const n=1.5,s=(0,v.YN)({targetPosition:this.cameraData.pose.position,targetRotation:this.cameraData.pose.rotation,angleDown:-Math.PI/6,box:r,fovY:this.cameraData.fovY()*n,aspectRatio:this.cameraData.pose.aspect()}),l=((e,t)=>{const n=e.clone().add(new a.Vector3(0,6,0)),i=o.fU.FORWARD.clone().applyQuaternion(t);return i.y>=.01&&(i.y=.01),{position:n.clone().add(i.clone().multiplyScalar(-10)),direction:i}})(i,this.cameraData.pose.rotation);[e,t]=[s.position,l.direction];const u=i.clone().add(t).setY(this.meshData.meshCenter.y);c.position=(0,v.r0)(e,u,this.minDollhouseDistance,this.maxDollhouseDistance),c.position=(0,v.m$)(c.position,u,A,I),c.rotation=(0,v.n0)(c.position,u),d=u.distanceTo(c.position)}else d=((e,t,n)=>{const i=e.getCenter(new a.Vector3),s=e.max.distanceTo(i)/Math.tan(l.oR.fov/2*b.Ue),r=t.clone().multiply((new a.Quaternion).setFromAxisAngle(o.fU.RIGHT,60*b.Ue)),c=o.fU.FORWARD.clone().applyQuaternion(r).multiplyScalar(-1*s),d=i.clone().add(c);return n.position=d,n.rotation=r,s})(this.meshData.meshBounds,this.cameraData.pose.rotation,c)}return this.cameraModule.moveTo({transitionType:e,pose:c,transitionTime:t,projection:(0,l.AN)(this.cameraData.aspect()),focalDistance:d,rotationDuration:.5})}setDollhouseBounds(){const e=this.meshData.extendedBounds,t=e.min.distanceTo(e.max);this.minDollhouseDistance=Math.min(t/2,this.minDollhouseDistance),this.maxDollhouseDistance=Math.max(t,this.maxDollhouseDistance)}moveCameraToFloorplan(e,t,n,i){const s={},r=this.meshData.meshCenter,c=this.meshData.meshSize,d=Math.max(c.x,c.z),u=this.canvas.aspectRatio,h=this.getDefaultFloorplanZoom(this.meshData.meshSize),p=i&&i.zoom?this.canvas.height/(2*i.zoom):h,m=(0,l.aH)(this.canvas.width,this.canvas.height,p),f=this.getDefaultFloorplanZoom(this.meshData.extendedSize),g=(0,l.aH)(this.canvas.width,this.canvas.height,f);if(this.cameraModule.setBaseProjection(g),i&&i.position)s.position=i.position;else{const e=o.fU.UP.clone().multiplyScalar(d);s.position=r.clone().add(e)}if(i&&i.rotation)s.rotation=i.rotation;else{const e=(new E.M).setPosition(s.position);e.lookAt(s.position,r,o.fU.FORWARD),s.rotation=(new a.Quaternion).setFromRotationMatrix(e.asThreeMatrix4());if(u<1!==c.x/c.z<1){const e=(new a.Quaternion).setFromUnitVectors(o.fU.UP,o.fU.LEFT);s.rotation.multiply(e)}}const v=s.position.y-this.meshData.meshCenter.y;let b=Object.assign(Object.assign({},O),{easing:S.hl,transitionType:t,pose:s,transitionTime:n,projection:m,focalDistance:v});return e&&e in T&&(b=Object.assign(Object.assign({},T[e]),b)),this.cameraModule.moveTo(b)}moveCameraToOrthographic(e,t,n,i){const s=i&&i.zoom?i.zoom:this.getDefaultFloorplanZoom(this.meshData.extendedSize),r=(0,l.aH)(this.canvas.width,this.canvas.height,s,1,this._orthoMatrix);this.cameraModule.setBaseProjection(r);const a={easing:S.hl,transitionType:t,pose:i||{},transitionTime:n,projection:r,focalDistance:2};return this.cameraModule.moveTo(a)}getDefaultFloorplanZoom(e){const t=Math.max(e.x,e.z),n=Math.min(e.x,e.z),i=this.canvas.aspectRatio,s=Math.max(t,n/i),r=Math.max(n,t/i),a=i<1?s:r;return this.canvas.height/(1.2*a)}}},2903:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(97542),s=n(81396),r=n(37082),a=n(76532),o=n(79727);class l extends i.Y{constructor(){super(...arguments),this.name="visible-mesh-bounds",this.visibleBounds=(0,r.Y)(new s.Box3),this.fullBounds=(0,r.Y)(new s.Box3)}async init(e,t){Promise.all([t.market.waitForData(a._),t.market.waitForData(o.c)]).then((([e,t])=>{this.meshData=e,this.floorsViewData=t,this.fullBounds.value=this.meshData.extendedBounds,this.updateBounds(),this.bindings.push(this.floorsViewData.makeFloorChangeSubscription((()=>this.updateBounds())),...this.floorsViewData.floors.getOrderedValues().map((e=>e.onBoundsChanged((()=>this.updateBounds())))))}))}getVisibleBounds(){return this.visibleBounds.value.clone()}getFullBounds(){return this.fullBounds.value.clone()}onVisibleBoundsChanged(e){return this.visibleBounds.onChanged(e)}onFullBoundsChanged(e){return this.fullBounds.onChanged(e)}updateBounds(){this.floorsViewData.currentFloor?this.visibleBounds.value=this.floorsViewData.currentFloor.boundingBox.clone():this.visibleBounds.value=this.meshData.extendedBounds}}},29537:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,Z:()=>l});var i,s=n(81396),r=n(18596),a=n(17878);class o extends s.Object3D{constructor(e){super(),this.anchor=this,this.update=e=>{this.anchor.position.copy(e.position),this.camera.quaternion.copy(e.rotation),this.camera.projectionMatrix.copy(e.projection.asThreeMatrix4()),this.camera.projectionMatrixInverse.copy(e.projection.asThreeMatrix4()),this.camera.projectionMatrixInverse.invert(),this.updateMatrixWorld(!0)},this.camera=new s.PerspectiveCamera(r.oR.fov,e,r.oR.near,r.oR.far),this.add(this.camera),this.camera.layers.mask=a.o.ALL.mask,this.name="CameraRig"}dispose(){this.remove(this.camera)}}!function(e){e[e.Root=0]="Root",e[e.CameraRig=1]="CameraRig"}(i||(i={}));class l{constructor(e,t,n,r){this.scene=e,this.threeRenderer=t,this.cameraData=n,this.useEffectComposer=r,this.ids=i,this.rendering=!1,this.composer=null,this.cameraRigStale=!0,this.canvasSizeChanged=!0,this.updateComposer=(()=>{const e=new s.Vector2;return()=>{this.canvasSizeChanged&&this.composer&&(this.composer.setPixelRatio(this.composer.renderer.getPixelRatio()),this.composer.renderer.getSize(e),this.composer.setSize(e.x,e.y),this.canvasSizeChanged=!1)}})()}add(...e){for(const t of e)this.addChild(i.Root,t)}remove(...e){for(const t of e)this.removeChild(i.Root,t)}addChild(e,t){switch(e){case i.Root:this.scene.add(t);break;case i.CameraRig:this.cameraRig.add(t);break;default:return!1}return!0}removeChild(e,t){switch(e){case i.Root:this.scene.remove(t);break;case i.CameraRig:this.cameraRig.remove(t);break;default:return!1}return!0}get camera(){return this.updateCameraRig(),this.cameraRig.camera}get effectComposer(){return this.composer}init(){this.cameraRig=new o(this.cameraData.aspect()),this.useEffectComposer&&Promise.all([n.e(525).then(n.bind(n,11279)),n.e(525).then(n.bind(n,54458))]).then((([e,t])=>{this.composer=new e.EffectComposer(this.threeRenderer),this.composer.addPass(new t.RenderPass(this.scene,this.cameraRig.camera)),this.cameraRigStale=!0})),this.cameraRigStale=!0}dispose(){this.cameraRig.dispose()}startRender(e){this.rendering=e}activate(e){this.scene.add(this.cameraRig),this.cameraDataCallback=()=>this.cameraRigStale=!0,this.cameraData.pose.onChanged(this.cameraDataCallback)}deactivate(e){this.scene.remove(this.cameraRig),this.cameraData.pose.removeOnChanged(this.cameraDataCallback)}beforeRender(){this.updateCameraRig(),this.updateComposer()}setCameraDirty(){this.cameraRigStale=!0,this.cameraRig.camera.updateProjectionMatrix()}onCanvasSizeChanged(){this.canvasSizeChanged=!0}updateCameraRig(){this.cameraRigStale&&(this.cameraRig.update(this.cameraData.pose),this.cameraRigStale=!1)}render(e){this.rendering&&(this.composer?this.composer.render(e):(this.threeRenderer.clear(),this.threeRenderer.render(this.scene,this.cameraRig.camera)))}}},3090:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var i=n(19663);class s extends i.m{constructor(e){super(),this.payload=Object.assign({},e)}}},16535:(e,t,n)=>{"use strict";n.d(t,{G:()=>r,v:()=>s});var i=n(2224);class s extends i.y{constructor(e){super(e)}}class r extends i.y{constructor(e){super(e)}}},28759:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MAX_RESOLUTION:()=>R,default:()=>C});var i=n(81396),s=n(97542),r=n(5332),a=n(9037),o=n(56692),l=n(947),c=n(59370),d=n(34029),u=n(2032),h=n(90365),p=n(92826),m=n(88977);const f=(e,t)=>{switch(e){case m.Z.GL_TEXTURE_CUBE_MAP_POSITIVE_X:t.set(0,-Math.PI/2,0);break;case m.Z.GL_TEXTURE_CUBE_MAP_NEGATIVE_X:t.set(0,Math.PI/2,0);break;case m.Z.GL_TEXTURE_CUBE_MAP_POSITIVE_Y:t.set(Math.PI/2,Math.PI,0);break;case m.Z.GL_TEXTURE_CUBE_MAP_NEGATIVE_Y:t.set(-Math.PI/2,Math.PI,0);break;case m.Z.GL_TEXTURE_CUBE_MAP_POSITIVE_Z:t.set(0,-Math.PI,0);break;case m.Z.GL_TEXTURE_CUBE_MAP_NEGATIVE_Z:t.set(0,0,0)}};var g=n(11677),v=n(16535),b=n(13969),y=n.n(b),E=n(74696),S=n.n(E);const O={copyCubeMap:{uniforms:{tDiffuse:{type:"t",value:null},alpha:{type:"f",value:1}},vertexShader:y(),fragmentShader:S()}};var T=n(97178);const _={0:[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],1:[0,0,0,0,0,0,0,3e-6,229e-6,.005977,.060598,.24173,.382925,.24173,.060598,.005977,229e-6,3e-6,0,0,0,0,0,0,0],2:[0,0,1e-6,1e-5,78e-6,489e-6,.002403,.009245,.027835,.065591,.120978,.174666,.197413,.174666,.120978,.065591,.027835,.009245,.002403,489e-6,78e-6,1e-5,1e-6,0,0],3:[48e-6,169e-6,538e-6,.001532,.003907,.008921,.018247,.033432,.054867,.080658,.106212,.125283,.132372,.125283,.106212,.080658,.054867,.033432,.018247,.008921,.003907,.001532,538e-6,169e-6,48e-6],4:[.001133,.002316,.00445,.008033,.013627,.021724,.032542,.04581,.0606,.075333,.088001,.096603,.099654,.096603,.088001,.075333,.0606,.04581,.032542,.021724,.013627,.008033,.00445,.002316,.001133],5:[.004571,.00723,.010989,.016048,.022521,.03037,.039354,.049003,.058632,.067411,.074476,.079066,.080657,.079066,.074476,.067411,.058632,.049003,.039354,.03037,.022521,.016048,.010989,.00723,.004571],6:[.009379,.012899,.017256,.022453,.028417,.034983,.041888,.048784,.055264,.060893,.065262,.068032,.068981,.068032,.065262,.060893,.055264,.048784,.041888,.034983,.028417,.022453,.017256,.012899,.009379],7:[.014185,.01793,.022207,.02695,.032045,.037335,.042622,.047676,.052254,.056116,.059048,.06088,.061504,.06088,.059048,.056116,.052254,.047676,.042622,.037335,.032045,.02695,.022207,.01793,.014185]};class w{constructor(e){this.threeRenderer=e,this.cachedSize=new i.Vector2,this.renderToCubeMap=(()=>{let e,t,n,s,r,a=!1;const o=.5;return(l,c,d,u,h,p,m,f,v,b,y,E,S,O,T,_)=>{if(this.contextLost)return;a||(t=new i.OrthographicCamera(-.5,o,o,-.5,-200,200),t.position.z=150,e=new i.Scene,e.name="rttCube",e.add(t),n=new i.RawShaderMaterial({uniforms:{tDiffuse:{value:null},alpha:{value:1}},vertexShader:g.Z.basicTextured.vertexShader,fragmentShader:g.Z.basicTextured.fragmentShader,depthWrite:!1,depthTest:!1,side:i.DoubleSide}),s=new i.PlaneGeometry(1,1),r=new i.Mesh(s,n),r.position.z=0,e.add(r),a=!0);const w=s.getAttribute("uv");w.setUsage(i.DynamicDrawUsage),w.needsUpdate=!0;const N=w.array,A=h/d,I=p/u,k=m/d,P=f/u;N[0]=A,N[1]=I+P,N[2]=A+k,N[3]=I+P,N[4]=A,N[5]=I,N[6]=A+k,N[7]=I;const L=s.getAttribute("position");L.setUsage(i.DynamicDrawUsage),L.needsUpdate=!0;const R=L.array,C=v/c.width-o,D=b/c.height-o,M=y/c.width,x=E/c.height;R[0]=C,R[1]=D+x,R[3]=C+M,R[4]=D+x,R[6]=C,R[7]=D,R[9]=C+M,R[10]=D,n.uniforms.tDiffuse.value=l,n.blending=O||i.NoBlending,n.transparent=!!T,null==_&&(_=1),n.uniforms.alpha.value=_,c.viewport.set(0,0,c.width,c.height);const j=this.threeRenderer.getRenderTarget(),U=this.threeRenderer.autoClear,F=this.threeRenderer.xr.enabled;this.threeRenderer.xr.enabled=!1,this.threeRenderer.autoClear=!1,this.threeRenderer.setRenderTarget(c,S),this.threeRenderer.render(e,t),this.threeRenderer.setRenderTarget(j),this.threeRenderer.autoClear=U,this.threeRenderer.xr.enabled=F}})(),this.copyCubemap=(()=>{let e,t,n,s,r,a=!1;const o=new i.Euler,l=this;return(c,d,u,h,p)=>{if(this.contextLost)return;if(!a){const o=2,l=o/2;t=new i.OrthographicCamera(-l,l,l,-l,0,200),t.position.set(0,0,0),e=new i.Scene,e.name="copyCube",e.add(t),n=new i.RawShaderMaterial({uniforms:{tDiffuse:{value:null},alpha:{value:1}},vertexShader:O.copyCubeMap.vertexShader,fragmentShader:O.copyCubeMap.fragmentShader,depthWrite:!1,depthTest:!1,side:i.DoubleSide}),s=new i.BoxGeometry(o,o,o),r=new i.Mesh(s,n),e.add(r),a=!0}const m=l.threeRenderer.getRenderTarget(),g=l.threeRenderer.autoClear,v=l.threeRenderer.xr.enabled;l.threeRenderer.xr.enabled=!1,l.threeRenderer.autoClear=!1;for(let s=0;s<6;s++)f(s,o),r.rotation.copy(o),r.matrixWorldNeedsUpdate=!0,r.updateMatrixWorld(!0),n.uniforms.tDiffuse.value=c,n.blending=u||i.NoBlending,n.transparent=!!h,null==p&&(p=1),n.uniforms.alpha.value=p,d.viewport.set(0,0,d.width,d.height),l.threeRenderer.setRenderTarget(d,s),l.threeRenderer.render(e,t);l.threeRenderer.setRenderTarget(m),l.threeRenderer.autoClear=g,l.threeRenderer.xr.enabled=v}})(),this.blurCubemap=(()=>{const e=e=>{const t=new i.WebGLCubeRenderTarget(e);return t.texture.image={},t.texture.image.width=e,t.texture.image.height=e,{renderTarget:t,cubeCamera:new i.CubeCamera(.1,1e3,t)}};class t extends i.Mesh{}const n={512:e(512)},s=new i.Scene,r=new t(new i.BoxGeometry(1,1,1));s.add(r);const a={};return(t,o,l=3,c=.005)=>{const d=o.renderTarget;n[d.width]||(n[d.width]=e(d.width)),r.material=function(e){if(!a[e]){const t=new i.RawShaderMaterial({uniforms:i.UniformsUtils.clone(T.Z.blurCube.uniforms),vertexShader:T.Z.blurCube.vertexShader,fragmentShader:T.Z.blurCube.fragmentShader,side:i.BackSide});t.defines={};const n=_[`${e}`];for(const[e,i]of n.entries())t.defines[`KERNEL_${e+1}`]=0===i||1===i?i.toFixed(1):i;a[e]=t}return a[e]}(l);const u=n[d.width];r.material.uniforms.map.value=t,r.material.uniforms.dir.value.set(c,0),u.cubeCamera.update(this.threeRenderer,s),r.material.uniforms.map.value=u.renderTarget.texture,r.material.uniforms.dir.value.set(0,c),o.update(this.threeRenderer,s)}})();try{const e=this.threeRenderer.getContext();0,this.contextLost=e.isContextLost(),this._maxCubemapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),this._maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this._gpuInfo=function(e){try{const t=e.getExtension("WEBGL_debug_renderer_info");if(t)return{vendor:e.getParameter(t.UNMASKED_VENDOR_WEBGL),renderer:e.getParameter(t.UNMASKED_RENDERER_WEBGL)}}catch(e){}return{vendor:"Unknown",renderer:"Unknown"}}(e)}catch(e){throw new v.G("Unable to create a WebGL rendering context")}this.initTexture=this.initTexture.bind(this)}setupRendererProxy(){const e=this.threeRenderer.getContext(),t=e.canvas,n={},i=new Proxy(e,{get:(e,t,i)=>"canvas"===t?s:e[t]instanceof Function?n[t]||(n[t]=e[t].bind(e)):e[t]}),s={get clientHeight(){return t.clientHeight},get clientLeft(){return t.clientLeft},get clientTop(){return t.clientTop},get clientWidth(){return t.clientWidth},getBoundingClientRect:()=>t.getBoundingClientRect(),get height(){return t.height},get offsetHeight(){return t.offsetHeight},get offsetLeft(){return t.offsetLeft},get offsetTop(){return t.offsetTop},get offsetWidth(){return t.offsetWidth},get width(){return t.width}};this.threeRenderer.domElement=s,this.threeRenderer.getContext=function(){return i}}initTexture(e){return this.threeRenderer.initTexture(e)}get maxCubemapSize(){return this._maxCubemapSize}get maxTextureSize(){return this._maxTextureSize}get gpuInfo(){return this._gpuInfo}getSize(){return this.threeRenderer.getSize(this.cachedSize)}getPixelRatio(){return this.threeRenderer.getPixelRatio()}dispose(){this.threeRenderer.dispose()}initSizedTexture2D(e,t){const n=new i.DataTexture(null,e,e);return t&&Object.assign(n,t),n.needsUpdate=!0,this.contextLost||this.threeRenderer.initTexture(n),n}initRenderTargetCube(e){const t=new i.WebGLCubeRenderTarget(e,{stencilBuffer:!1,depthBuffer:!1,generateMipmaps:!1});return t.texture.image={},t.texture.image.width=e,t.texture.image.height=e,t}uploadTexture2D(e,t,n,s){if(!this.contextLost){const r=new i.Texture;r.image=e,this.threeRenderer.copyTextureToTexture(new i.Vector2(n,s),r,t,0)}}fence(e){return new Promise(((t,n)=>{const i=this.contextLost?null:e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);if(null===i)return n();e.flush();const s=()=>{switch(e.getSyncParameter(i,e.SYNC_STATUS)){case e.TIMEOUT_EXPIRED:return void setTimeout(s,0);case e.WAIT_FAILED:return void n();case e.SIGNALED:return e.deleteSync(i),void t();default:return void setTimeout(s,0)}};setTimeout(s,0)}))}}var N=n(3090),A=n(92901),I=n(12529);class k extends i.Mesh{constructor(e){super(new i.PlaneGeometry(2,2,1,1),new i.RawShaderMaterial({uniforms:i.UniformsUtils.clone(g.Z.screenSpaceColored.uniforms),vertexShader:g.Z.screenSpaceColored.vertexShader,fragmentShader:g.Z.screenSpaceColored.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1})),this._opacity=1,this.material.uniforms.color.value=new i.Color(e),this.renderOrder=I.z.colorOverlay,this.name="ScreenOverlayMesh"}set opacity(e){this.visible=e>0,this._opacity=e,this.material.uniforms.opacity.value=e}get opacity(){return this._opacity}dispose(){this.material.dispose(),this.geometry.dispose()}}class P{constructor(e,t){this.scene=e,this.cameraData=t}init(){this.blackoutOverlayMesh=new k(0)}dispose(){this.blackoutOverlayMesh.dispose()}render(e){this.blackoutOverlayMesh.opacity=this.cameraData.transition.blackoutProgress.value}activate(e){this.scene.addChild(this.scene.ids.CameraRig,this.blackoutOverlayMesh)}deactivate(e){this.scene.removeChild(this.scene.ids.CameraRig,this.blackoutOverlayMesh)}}var L=n(29537);const R=3686400;class C extends s.Y{constructor(){super(...arguments),this.name="webgl-renderer",this.onContextLost=e=>{this.log.info(e),this._cwfRenderer.contextLost=!0,this.engine.broadcast(new A.zq(e)),e.preventDefault()},this.onContextRestored=e=>{var t;this.log.info(e),this._cwfRenderer.contextLost=!1,this.engine.broadcast(new A.Xq(e)),null===(t=this.canvas.parentNode)||void 0===t||t.insertBefore(this.canvas,this.canvas)},this.getPixelRatioFor=(e,t)=>{const n=window.devicePixelRatio||1;return e*t*n<=R?n:1}}async init(e,t){if(!("WebGLRenderingContext"in window))throw new v.v("WebGL not supported");let n;this.canvas=e.canvas,this.engine=t;try{const t={canvas:this.canvas,antialias:e.antialias,alpha:!0,powerPreference:"high-performance"};n=e.useWebGL2?new i.WebGLRenderer(t):new i.WebGL1Renderer(t),n.autoClear=!1,n.xr.enabled=!0}catch(e){throw new v.G("Unable to create a WebGL rendering context")}n.setOpaqueSort(this.painterSortStable),this.patchGLContext(n.getContext()),this._cwfRenderer=new w(n),this._threeRenderer=n,[this.cameraData,this.settingsData]=await Promise.all([t.market.waitForData(a.M),t.market.waitForData(d.e)]);const s=new i.Scene;s.name="main",this.scene=new L.Z(s,n,this.cameraData,e.useEffectComposer),t.addComponent(this,this.scene),t.addComponent(this,new P(this.scene,this.cameraData));const l=await t.market.waitForData(r.W);this.setSize(l.width,l.height),this.bindings.push(t.subscribe(o.a,(e=>this.setSize(e.width,e.height))),t.commandBinder.addBinding(N.b,(async e=>(0,c.q9)(this.cameraData,e.worldPosition).screenPosition)),new p.r(this.canvas,"webglcontextlost",this.onContextLost),new p.r(this.canvas,"webglcontextrestored",this.onContextRestored)),this.webGlMemoryTracker=n.getContext().getExtension("GMAN_webgl_memory"),this.webGlMemoryTracker||this.log.warn("Unable to find WebGL memory tracker!"),t.broadcast(new u.em(h.Y.WebGLRenderer))}dispose(e){super.dispose(e),this.threeRenderer.dispose()}isHighPerformanceMobileGPU(){return e=this._cwfRenderer.gpuInfo,/Apple A(9|1\d)/.test(e.renderer)||/Adreno \(TM\) (512|530|540|[6-9]\d\d)/.test(e.renderer)||/Mali-G(7[1-9]|[8-9]\d)/.test(e.renderer);var e}patchGLContext(e){if(function(e){let t=!1;if("undefined"!=typeof OffscreenCanvas){const n=new OffscreenCanvas(1,1);if(n.getContext("2d")){const i=e.createTexture();try{e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}catch(e){t=!0}finally{e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(i)}}}return t}(e)){this.log.warn("OffscreenCanvas unsupported as texImage2D source, applying workaround");let t=null;const n=e.texImage2D;e.texImage2D=function(...i){var s;const r=i[5];r&&r instanceof OffscreenCanvas?(t=t||document.createElement("canvas"),t.width=r.width,t.height=r.height,null===(s=t.getContext("2d"))||void 0===s||s.drawImage(r,0,0),i[5]=t,n.call(e,...i),t.width=t.height=1):n.call(e,...i)}}}get gpuInfo(){return this._cwfRenderer.gpuInfo}get maxCubemapSize(){return this._cwfRenderer.maxCubemapSize}get maxTextureSize(){return this._cwfRenderer.maxTextureSize}get maxVaryings(){return this._threeRenderer.capabilities.maxVaryings}getScene(){return this.scene}getCamera(){return this.scene.camera}get cwfRenderer(){return this._cwfRenderer}get threeRenderer(){return this._threeRenderer}async renderOnce(){return this.scene.startRender(!0),this.engine.after(l.A.Render).then((()=>this.scene.startRender(!1)))}startRender(e=!0){this.scene.startRender(e),this.engine.broadcast(new A.Vx(this._cwfRenderer.getPixelRatio()))}setSize(e,t){const n=this.getPixelRatioFor(e,t);n!==this._cwfRenderer.getPixelRatio()&&(this.log.debug(`Setting pixel ratio to ${n}`),this.engine.broadcast(new A.Vx(n))),this.threeRenderer.xr.isPresenting&&this.log.error("setting size while in xr is a no no, it resets the viewport",e,t),this.threeRenderer.setDrawingBufferSize(e,t,n),this.scene.setCameraDirty()}supportsInstancing(){const{threeRenderer:e,settingsData:t}=this;return 1!==t.getOverrideParam("noInstancing",0)&&(e.capabilities.isWebGL2||e.extensions.has("ANGLE_instanced_arrays"))}getCapabilities(){const{capabilities:e,extensions:t}=this.threeRenderer,n=e.isWebGL2;let i=!1;try{i=!!document.createElement("canvas").getContext("webgl2")}catch(e){}return{gl_v2:i,gl_max_textures:e.maxTextures,gl_max_texture_size:e.maxTextureSize,gl_max_cubemap_size:e.maxCubemapSize,gl_instancing:this.supportsInstancing(),gl_oes_texture_float:n||t.has("OES_texture_float"),gl_oes_texture_half_float:n||t.has("OES_texture_half_float"),gl_depth_texture:n||t.has("WEBGL_depth_texture"),gl_draw_buffers:n||t.has("WEBGL_draw_buffers"),gl_oes_fbo_render_mip_map:n||t.has("OES_fbo_render_mipmap"),gl_shader_texture_lod:n||t.has("EXT_shader_texture_lod"),gl_oes_vertex_array_obj:n||t.has("OES_vertex_array_object"),gl_ovr_multi_view:n&&t.has("OVR_multiview2"),gl_color_buffer_float:n&&t.has("EXT_color_buffer_float"),gl_astc_supported:t.has("WEBGL_compressed_texture_astc"),gl_etc1_supported:t.has("WEBGL_compressed_texture_etc1"),gl_etc2_supported:t.has("WEBGL_compressed_texture_etc"),gl_dxt_supported:t.has("WEBGL_compressed_texture_s3tc"),gl_bptc_supported:t.has("EXT_texture_compression_bptc"),gl_pvrtc_supported:t.has("WEBGL_compressed_texture_pvrtc")||t.has("WEBKIT_WEBGL_compressed_texture_pvrtc")}}estimatedGPUMemoryAllocated(){if(this.webGlMemoryTracker){return this.webGlMemoryTracker.getMemoryInfo().memory.total}return-1}painterSortStable(e,t){if(e.groupOrder!==t.groupOrder)return e.groupOrder-t.groupOrder;if(e.renderOrder!==t.renderOrder)return e.renderOrder-t.renderOrder;if(e.program!==t.program)return e.program.id-t.program.id;if(e.material.id!==t.material.id)return e.material.id-t.material.id;if(e.object.getSortKey&&t.object.getSortKey){const n=e.object.getSortKey()-t.object.getSortKey();if(0!==n)return n}return e.z!==t.z?e.z-t.z:e.id-t.id}}},92901:(e,t,n)=>{"use strict";n.d(t,{Vx:()=>s,Xq:()=>a,zq:()=>r});var i=n(98010);class s extends i.v0{constructor(e){super(),this.pixelRatio=e}}class r extends i.v0{constructor(e){super(),this.event=e}}class a extends i.v0{constructor(e){super(),this.event=e}}},81456:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,j:()=>s});var i=n(19663);class s extends i.m{constructor(e){super(),this.id="XR_PRESENT",this.payload=Object.assign({},e)}}class r extends i.m{constructor(){super(),this.id="XR_PRESENT_END"}}},40909:(e,t,n)=>{"use strict";n.d(t,{nE:()=>r,tK:()=>i,xK:()=>s});const i="features/xr_browser_lock",s=!1,r="xruntested"},11642:(e,t,n)=>{"use strict";n.d(t,{bk:()=>i,hX:()=>o,pl:()=>l});var i,s=n(31362),r=n(44578),a=n(45531);!function(e){e.webxr="webxr",e.unsupported="unsupported"}(i||(i={}));const o=e=>{const t=!!e.tryGetProperty("is_vr",!1),n=e.tryGetProperty(a.sX,!1),i=e.getOverrideParam("vr",1);return t&&!(!i||2===i&&!(0,s.Dt)())&&!n},l=async(e=!1)=>{const t=await r.Z.isSessionSupported("immersive-vr");return window.isSecureContext&&(e||(0,s.Ot)()||!(0,s.tq)())&&t?i.webxr:i.unsupported}},44578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i=new(n(97998).Z)("vr-platform-select"),s=()=>{const e=void 0!==navigator&&"xr"in navigator&&void 0!==navigator.xr&&"isSessionSupported"in navigator.xr&&"requestSession"in navigator.xr;return window.isSecureContext&&e},r={isSessionSupported:async(e="immersive-vr")=>{var t;let n=!1;if(s())try{n=!!await(null===(t=null===navigator||void 0===navigator?void 0:navigator.xr)||void 0===t?void 0:t.isSessionSupported(e))}catch(e){i.info("WebXR disabled",e)}return i.debug(`WebXR session type: ${e} supported: ${n}`),n},apiExists:s}},61948:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(98010);class s extends i.v0{constructor(e){super(),this.zoomLevel=e}}},33585:(e,t,n)=>{"use strict";n.d(t,{KB:()=>r,_N:()=>o,bj:()=>s,ob:()=>a,ts:()=>l});var i=n(19663);class s extends i.m{constructor(e){super(),this.payload={step:e}}}s.id="ZOOM_IN";class r extends i.m{constructor(e){super(),this.payload={step:e}}}r.id="ZOOM_OUT";class a extends i.m{}a.id="ZOOM_RESET";class o extends i.m{}o.id="ZOOM_MAX_VALUE";class l extends i.m{constructor(e){super(),this.payload={value:e}}}l.id="ZOOM_SET"},11677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(81396),s=n(25848),r=n.n(s),a=n(22505),o=n.n(a),l=n(5725),c=n.n(l),d=n(47301),u=n.n(d);const h={basicTextured:{uniforms:{tDiffuse:{type:"t",value:null},alpha:{type:"f",value:1}},vertexShader:r(),fragmentShader:o()},screenSpaceColored:{uniforms:{color:{type:"v3",value:new i.Vector3(0,0,0)},opacity:{type:"f",value:1}},vertexShader:c(),fragmentShader:u()}}},90365:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});const i={Navigation:Symbol("nav"),WebGLRenderer:Symbol("webgl-renderer"),Octree:Symbol("raycast-octree"),PanoTiles:Symbol("pano-tiles-preload"),Raycaster:Symbol("raycast"),Snapping:Symbol("snap"),StreamingTexture:Symbol("stream-textures"),StreamingMesh:Symbol("stream-mesh")}},2032:(e,t,n)=>{"use strict";n.d(t,{PD:()=>u,bc:()=>c,em:()=>l,z4:()=>d});var i=n(98010),s=n(89570),r=n(35895);const a=new(n(97998).Z)("symbols"),o=[];class l extends i.v0{constructor(e){super(),this.symbol=e}}class c extends i.v0{constructor(e){super(),this.payload=e}}class d extends i.v0{constructor(e){super(),this.payload=e}}function u(e){return new s.V((0,r.k1)((()=>null),(()=>o.length=0)),e.messageBus.subscribe(c,(e=>{o.push(e.payload)})),e.messageBus.subscribe(d,(e=>{const t=o.findIndex((t=>t.symbol===e.payload.symbol&&t.callback===e.payload.callback));t>=0&&o.splice(t,1)})),e.messageBus.subscribe(l,(e=>{o.forEach((t=>{if(t.symbol===e.symbol)try{t.callback()}catch(t){a.warn("Error handling SymbolMessage",e,t)}}))})))}},93377:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var i=n(81396);class s extends i.RawShaderMaterial{onBeforeCompile(e,t){super.onBeforeCompile(e,t),t.capabilities.isWebGL2&&this.glslVersion!==i.GLSL3&&(e.glslVersion=i.GLSL3,e.vertexShader=r+e.vertexShader,e.fragmentShader=a+e.fragmentShader)}}const r="\n#define attribute in\n#define varying out\n#define texture2D texture\n",a="\n#define varying in\nout highp vec4 pc_fragColor;\n#define gl_FragColor pc_fragColor\n#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n"},83021:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});class i{constructor(e){this.size=e,this.index=0,this.count=0,this.buffer=[],this.sorted=!1,this.buffer=new Array(e)}push(e){this.buffer[this.index]=e,this.index=(this.index+1)%this.size,this.count++,this.sorted=!1}get topIndex(){return 0===this.index?this.size-1:this.index-1}pop(){if(this.count>0){const e=this.peek();return this.count--,0===this.index?this.index=this.size-1:this.index--,e}return null}peek(){return this.isEmpty()?null:this.buffer[this.topIndex]}isEmpty(){return 0===this.count}getList(){return this.count>=this.size?this.buffer:this.buffer.slice(0,this.count)}median(){const e=Math.floor(this.count/2),t=this.getList();return this.sorted||(t.sort(),t===this.buffer&&(this.sorted=!0)),t[e]}*[Symbol.iterator](){yield*this.buffer}clear(){this.count=0,this.index=0}}},72996:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});class i{constructor(e){this.matcher=e}static isValue(e){return new i(new s(e))}static isType(e){return new i(new r(e))}static isInstanceOf(e){return new i(new a(e))}static is(e){return new i(new o(e))}static isAny(){return new i(new l)}compare(e){return this.matcher.matches(e)}}class s{constructor(e){this.value=e}matches(e){return this.value===e}}class r{constructor(e){this.type=e}matches(e){return Object.getPrototypeOf(e).constructor===this.type}}class a{constructor(e){this.type=e}matches(e){if("object"==typeof e)return e instanceof this.type;const t=this.type;switch(typeof e){case"number":return t===Number;case"string":return t===String;case"boolean":return t===Boolean;case"function":return t===Function}return!1}}class o{constructor(e){this.predicate=e}matches(e){return this.predicate(e)}}class l{constructor(){}matches(){return!0}}},56367:(e,t,n)=>{"use strict";n.d(t,{n:()=>c,s:()=>l});var i=n(97998),s=n(18448),r=n(46950);const a=new i.Z("expiring-resource"),o=new WeakMap;function l(e,t){(0,s.y)(e,(e=>{e instanceof c&&(e.onStale=t)}))}class c{constructor(e,t){this.value=e,this.validUntil=t}refreshFrom(e){if(!e)return;this.value=e.value,this.validUntil=e.validUntil;const t=o.get(this);t&&(t.resolve(),o.delete(this))}async get(){if(this.validUntil&&this.onStale){const e=Date.now();if(e+6e4+1e4>this.validUntil.getTime()){let t=o.get(this);t||(t=new r.Q,o.set(this,t),this.onStale()),e+6e4+1e3>this.validUntil.getTime()&&(a.info("Stale resource, waiting for refresh"),await t.nativePromise(),a.info("Refreshed resource"))}}return this.value}getCurrentValue(){return this.value}}},3968:(e,t,n)=>{"use strict";n.d(t,{FM:()=>a,UQ:()=>o,ZP:()=>r});var i=n(81396);class s{constructor(e,t){this.raycast=(()=>{const e=new i.Vector3,t=new i.Box3;return(n,i,r,l)=>{const c=t.copy(this.bounds).expandByScalar(i);if(n.ray.intersectsBox(c))for(const t of this.children)if(t instanceof s)t.raycast(n,i,r,l);else if(t instanceof a){if(!1===(null==l?void 0:l(t)))continue;const s=e,a=n.ray.distanceSqToSegment(t.start,t.end,void 0,e),o=Math.sqrt(a);o<i&&r.push({distance:n.ray.origin.distanceTo(s),object:t,distanceToRay:o,point:s.clone(),isLineOctreeIntersection:!0})}else if(t instanceof o){if(!1===(null==l?void 0:l(t)))continue;const e=n.ray.distanceToPoint(t);e<i&&r.push({distance:n.ray.origin.distanceTo(t),object:t,distanceToRay:e,point:t.clone(),isLineOctreeIntersection:!0})}}})(),this.level=t,this.bounds=e.clone(),this.clear()}clear(){this.childNodes=[],this.children=[]}add(e){let t=!1;const n=e instanceof i.Line3?[e.start,e.end]:[e];if(this.level<4){0===this.childNodes.length&&this.buildChildNodes();for(const i of this.childNodes)n.every((e=>i.bounds.containsPoint(e)))&&(t=!0,i.add(e))}t||this.children.push(e)}remove(e){const t=e instanceof i.Line3?[e.start,e.end]:[e];for(let n=0;n<this.children.length;n++){const i=this.children[n];if(i instanceof s){if(t.every((e=>i.bounds.containsPoint(e)))&&i.remove(e))return!0}else if(i===e)return this.children.splice(n,1),!0}return!1}buildChildNodes(){const e=this.bounds.max.clone().sub(this.bounds.min).clone().multiplyScalar(.5);for(let t=0;t<2;t++)for(let n=0;n<2;n++)for(let r=0;r<2;r++){const a=this.bounds.min.x+e.x*r,o=a+e.x,l=this.bounds.min.y+e.y*t,c=l+e.y,d=this.bounds.min.z+e.z*n,u=d+e.z,h=new i.Box3(new i.Vector3(a,l,d),new i.Vector3(o,c,u)),p=new s(h,this.level+1);this.childNodes.push(p),this.children.push(p)}}spherecast(e,t){if(e.intersectsBox(this.bounds))for(const n of this.children)if(n instanceof s)n.spherecast(e,t);else if(n instanceof a){const s=n.closestPointToPoint(e.center,!0,new i.Vector3);s.distanceTo(e.center)<e.radius&&t.push(new o(s))}else n instanceof i.Vector3&&n.distanceTo(e.center)<e.radius&&t.push(n)}traverse(e){for(const t of this.children)t instanceof s?t.traverse(e):e(t)}}class r{constructor(e){this.pointCount=0,this.lineCount=0,this.root=new s(e,0)}add(e){e instanceof i.Line3?this.lineCount++:e instanceof i.Vector3&&this.pointCount++,this.root.add(e)}remove(e){e instanceof a?this.lineCount--:e instanceof o&&this.pointCount--,this.root.remove(e)}clear(){this.root.clear(),this.pointCount=0,this.lineCount=0}traverse(e){this.root.traverse(e)}raycast(e,t,n){const i=[];return this.root.raycast(e,t,i,n),i}}class a extends i.Line3{constructor(e,t){super(e,t),this.start=e,this.end=t,this.isSnapLine3=!0}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}clone(){return new a(this.start,this.end)}}class o extends i.Vector3{constructor(e){super(),this.point=e,this.isSnapVector3=!0,super.copy(e)}copy(e){return this.point.copy(e.point),this}clone(){return new o(this.point)}}},22427:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});class i{constructor(){this.activePromise=Promise.resolve(new s)}async lock(){const e=new Promise((async e=>{(await this.activePromise).onUnlock((()=>e(new s)))})),t=this.activePromise;return this.activePromise=e,t}}class s{onUnlock(e){this.unlockCB=e}unlock(){this.unlockCB()}}},73121:(e,t,n)=>{"use strict";n.d(t,{mY:()=>E,r0:()=>u,m$:()=>h,S3:()=>O,YN:()=>b,Fe:()=>v,D7:()=>p,n0:()=>f,fd:()=>g,Ll:()=>m,_U:()=>S,Pp:()=>c,s1:()=>d,J2:()=>T,k2:()=>y});var i=n(81396),s=n(31546),r=n(90304);const a=(e,t,n=1e-5)=>Math.abs(e-t)<=n;var o=n(21646),l=n(2569);const c=e=>!!e&&1===e.elements[15],d=e=>!!e&&(e.elements[15]>0&&e.elements[15]<1),u=((()=>{const e=new i.Object3D,t=new i.Vector3})(),(()=>{const e=new i.Vector3;return(t,n,i,s)=>(e.copy(t).sub(n),e.clampLength(i,s),n.clone().add(e))})()),h=(()=>{const e=new i.Vector3;return(t,n,i,s)=>{e.copy(n).sub(t);const r=Math.atan2(Math.sqrt(Math.pow(e.x,2)+Math.pow(e.z,2)),e.y),a=Math.min(Math.max(i,r),s);return Math.abs(r-a)>Number.EPSILON?p(t,n,r-a,!1):t}})(),p=(()=>{const e=new i.Vector3,t=new i.Vector3;return(n,i,s,a)=>(e.copy(i).sub(n),a?t.copy(r.fU.UP):t.copy(e).applyAxisAngle(r.fU.UP,-1*Math.PI/2).setY(0).normalize(),e.applyAxisAngle(t,s),i.clone().sub(e))})(),m=(()=>{const e=new i.Vector3,t=new i.Vector3;return(n,s,r)=>(e.copy(n).sub(s).normalize(),t.copy(n).sub(r).normalize(),(new i.Quaternion).setFromUnitVectors(e,t))})(),f=(()=>{const e=new s.M;return(t,n)=>(e.setPosition(t),e.lookAt(t,n,r.fU.UP),(new i.Quaternion).setFromRotationMatrix(e.asThreeMatrix4()))})(),g=(()=>{const e=new i.Vector3;return(t,n,i)=>(e.copy(r.fU.FORWARD).applyQuaternion(t).normalize(),e.clone().multiplyScalar(-1*i).add(n))})(),v=(()=>{const e=new i.Ray,t=new i.Vector3,n=new i.Vector3;return(i,s,a)=>(n.set(0,0,0),t.copy(r.fU.FORWARD).applyQuaternion(s),e.set(i,t),e.intersectPlane(a,n))})(),b=(()=>{const e=new i.Vector3,t=new i.Vector3,n=new i.Vector3,s=new i.Vector3,a=[new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3],o=new i.Vector3,c=new i.Vector3,d=new i.Vector3,u=new i.Vector3,h=new i.Plane,p=new i.Vector3,m=new i.Ray,g=new i.Vector3,v=new i.Vector3;return({targetPosition:b,targetRotation:y,angleDown:E,box:S,fovY:O,aspectRatio:T})=>{const _="number"==typeof E?E:-1*y.angleTo((0,l.Rq)(y,new i.Quaternion));e.copy(r.fU.FORWARD).applyQuaternion(y).setY(0),t.copy(e).setY(_).normalize(),s.copy(t).applyAxisAngle(r.fU.UP,-Math.PI/2).setY(0).normalize(),n.copy(s).cross(t).normalize();let w=0;const N=S.max,A=S.min,I=[N,A];for(let e=0;e<2;e++){const t=I[e].x;for(let e=0;e<2;e++){const n=I[e].y;for(let e=0;e<2;e++){const i=I[e].z;a[w].set(t,n,i),w++}}}o.copy(A),d.copy(b).setY(A.y);let k=c.copy(o).sub(d).dot(t);a.forEach((e=>{if(e.y===N.y)return;const n=c.copy(e).sub(d).dot(t);n<k&&(o.copy(e),k=n)}));const P=Math.sign(o.dot(s));u.copy(o).setX(o.x===N.x?A.x:N.x),Math.sign(u.dot(s))!==P?h.set(p.set(0,0,-1*Math.sign(o.z)),Math.abs(o.z)):(u.copy(o).setZ(o.z===N.z?A.z:N.z),h.set(p.set(-1*Math.sign(o.x),0,0),Math.abs(o.x))),m.set(b,g.copy(t).multiplyScalar(-1)),m.intersectPlane(h,v);const L=Math.min(Math.abs(v&&v.dot(t)),k);let R=0,C=0;a.forEach((function(e){c.copy(e).sub(b);const t=Math.abs(c.dot(s)),i=Math.abs(c.dot(n));t>R&&(R=t),i>C&&(C=i)}));const D=R/Math.tan(O*T/2),M=C/Math.tan(O/2),x=Math.max(D,M)+Math.abs(L),j=b.clone().add(t.clone().multiplyScalar(1.1*-x));return{position:j,rotation:f(j,b)}}})(),y=((()=>{const e=new i.Matrix4})(),(()=>{const e=new i.Matrix4,t=new i.Vector4})(),(()=>{const e=new i.Vector3;return(t,n,i=r.fU.UP)=>{const s=t.angleTo(n);return Math.sign(e.crossVectors(t,n).dot(i))*s}})()),E=((()=>{const e=new s.M,t=new i.Vector3})(),(e,t,n,i,s=1.5)=>{const r=1/e.elements[5];if(c(e))return s*i/(2*r);const a=t.distanceTo(n),o=Math.atan(r);return i*(s/(2*Math.tan(o)*a))}),S=function(){const e=new i.Vector3,t=new i.Matrix4;return(n,i,s)=>{const r=e.set(0,0,-n).applyMatrix4(i).z;return t.copy(i),t.invert(),e.set(2/s,0,r).applyMatrix4(t),e.x}}(),O=e=>1/e.elements[5],T=(()=>{const e=new i.Vector3;return(t,n,i)=>{const s=i.angleTo(r.fU.UP),a=Math.abs(s-Math.PI);return s<.2||a<.2?(t.quaternion.setFromUnitVectors(r.fU.FORWARD,i),!0):(t.lookAt(e.copy(n).add(i)),!1)}})();(()=>{const e=new i.Vector3,t=new i.Vector3(1e4,1e4,1e4),n=[new i.Line3,new i.Line3,new i.Line3,new i.Line3],s=[new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3]})()},44237:(e,t,n)=>{"use strict";n.d(t,{mB:()=>i});n(81396);const i=e=>!e||!Object.values(e).filter((e=>0!==e)).length},69505:(e,t,n)=>{"use strict";n.d(t,{Id:()=>r,MN:()=>s,Ue:()=>i,ZY:()=>a});const i=Math.PI/180,s=180/Math.PI;function r(e){return e*i}function a(e){return e*s}},49827:(e,t,n)=>{"use strict";n.d(t,{uZ:()=>i});const i=function(e,t,n){return Math.max(t,Math.min(e,n))}},93411:(e,t,n)=>{"use strict";function i(e,t,n){return(1-n)*e+n*t}n.d(t,{t:()=>i})},2569:(e,t,n)=>{"use strict";n.d(t,{Rq:()=>b,Xe:()=>y,Xv:()=>E,Z:()=>v,_B:()=>O,cB:()=>S,cb:()=>h,dS:()=>f,ep:()=>i,et:()=>m,r_:()=>c,rj:()=>p,xS:()=>u,zW:()=>d});var i,s=n(81396),r=n(31546),a=n(90304),o=n(49827),l=n(69505);!function(e){e.fromVisionVector=function(e){return new s.Vector3(e.x,e.z,-e.y)},e.toVisionVector=function(e){return new s.Vector3(e.x,-e.z,e.y)},e.fromVisionQuaternion=function(e){return new s.Quaternion(e.x,e.z,-e.y,e.w).multiply((new s.Quaternion).setFromAxisAngle(new s.Vector3(0,1,0),(0,l.Id)(90)))},e.fromVisionCameraQuaternion=function(e){return new s.Quaternion(-e.x,-e.z,e.y,-e.w).multiply((new s.Quaternion).setFromAxisAngle(new s.Vector3(1,0,0),(0,l.Id)(90)))},e.toVisionQuaternion=function(e){const t=new s.Quaternion(e.x,e.y,e.z,e.w).multiply((new s.Quaternion).setFromAxisAngle(new s.Vector3(0,1,0),(0,l.Id)(-90)));return t.set(t.x,-t.z,t.y,t.w),t},e.toVisionCameraQuaternion=function(e){return new s.Quaternion(e.x,-e.z,e.y,e.w).multiply(new s.Quaternion(-.70710678118,0,0,.70710678118))}}(i||(i={}));function c(e,t,n){return Math.abs(t-e)<=n?t:e+Math.sign(t-e)*n}const d=function(e,t){const n=new s.Vector3(0,0,-1);return n.clone().applyQuaternion(e).angleTo(n.clone().applyQuaternion(t))},u=(()=>{const e=new r.M,t=new s.Frustum;return(n,i,s,r)=>(r=null!=r?r:t,e.identity().makeRotationFromQuaternion(i).setPosition(n),e.getInverse(e),e.premultiply(s.asThreeMatrix4()),r.setFromProjectionMatrix(e.asThreeMatrix4()),r)})(),h=((()=>{const e=new s.Sphere})(),(e,t,n,i)=>u(e,t,n).intersectsBox(i)),p=e=>{const t=e.getSize(new s.Vector3),n=Math.max(t.x,t.y,t.z);return(new s.Box3).setFromCenterAndSize(e.getCenter(new s.Vector3),new s.Vector3(n,n,n))},m=(e,t,n,i,s)=>(s-i)*((e-t)/(n-t))+i,f=(e,t,n,i,s)=>{const r=m(e,t,n,i,s);return(0,o.uZ)(r,i,s)};function g(e){return 0===e.x&&0===e.y&&0===e.z}const v=(()=>{const e=new s.Vector3,t=new s.Matrix4;return n=>g(n)?n.clone():(e.copy(a.fU.FORWARD).applyQuaternion(n),t.lookAt(a.fU.ZERO,e,a.fU.UP),(new s.Quaternion).setFromRotationMatrix(t))})(),b=(()=>{const e=new s.Vector3,t=new s.Matrix4;return(n,i)=>g(n)?i.copy(n):(e.copy(a.fU.FORWARD).applyQuaternion(n).setY(0).normalize(),t.lookAt(a.fU.ZERO,e,a.fU.UP),i.setFromRotationMatrix(t))})(),y=(()=>{const e=new s.Vector3,t=new s.Ray;return(n,i,r,a)=>(a=a||new s.Vector3,t.origin.copy(n),t.lookAt(i),a.copy(t.at(r,e)))})(),E=(()=>{const e=new s.Vector3,t=new s.Ray;return(n,i,r,a)=>(a=a||new s.Vector3,t.set(n,i),a.copy(t.at(r,e)))})();function S(e,t,n,i,s,r,a,o,l){if(e===n&&t===i||s===a&&r===o)return!1;const c=(o-r)*(n-e)-(a-s)*(i-t);if(0===c)return!1;const d=((a-s)*(t-r)-(o-r)*(e-s))/c,u=e+d*(n-e),h=t+d*(i-t);return l&&l.set(u,h),!0}function O(e,t,n,i,s,r,a,o,l=0,c){if(e===n&&t===i||s===a&&r===o)return null;const d=(o-r)*(n-e)-(a-s)*(i-t);if(0===d)return null;const u=((a-s)*(t-r)-(o-r)*(e-s))/d,h=((n-e)*(t-r)-(i-t)*(e-s))/d,p=1-l;if(u<l||u>p||h<l||h>p)return null;const m=e+u*(n-e),f=t+u*(i-t);return c&&c.set(m,f),u}},66372:(e,t,n)=>{"use strict";function i(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}n.d(t,{C:()=>i})},48917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const i=e=>""+e;class s{constructor(e=i){this.mappingFunction=e,this.list=[],this.map={}}add(e){const t=this.mappingFunction(e);return!this.map[t]&&(this.list.push(e),this.map[t]=e,!0)}set(e){const t=this.mappingFunction(e);return this.map[t]?(this.map[t]=e,!0):(this.add(e),!0)}count(){return this.list.length}*[Symbol.iterator](){for(const e of this.list)yield e}getByIndex(e){return this.list[e]}get(e){return this.map[e]}copyToList(e){return e.push(...this.list),e}clear(){this.list=[],this.map={}}mapElements(e){return this.list.map(e)}}},59296:(e,t,n)=>{"use strict";function i(e){return{x:e.x,y:e.y,z:e.z}}function s(e){return{x:e.x||e._x,y:e.y||e._y,z:e.z||e._z,w:e.w||e._w}}n.d(t,{J5:()=>s,m:()=>i})},89557:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var i=n(23885),s=n(75287),r=n(97998),a=n(35895);const o=new r.Z("animation");class l extends s.T{constructor(e,t,n,s=i.vG,r=0){super(),this._easing=i.vG,void 0===t&&(t=e),void 0===n&&(this._active=!1,n=0,this._elapsed=0,this._duration=0),this.modifyAnimation(e,t,n,s,0,r)}get active(){return this._active}get duration(){return this._duration}get endValue(){return this._endValue}get easing(){return this._easing}get elapsed(){return this._elapsed}get delay(){return this._delay}tick(e){if(!this._active)return this.endValue;if(this._delay>0)return this._delay-=e,this.startValue;const t=(this._elapsed+e)/Math.max(this._duration,1e-5);return this.updateProgress(t),this.value}updateProgress(e){if(isNaN(e))return void o.error(`Invalid progress value: ${e}`);const t=Math.max(0,Math.min(e,1)),n=this.active,i=this.value;if(t>=1)return this.activate(!1),this.value=this._easing(1,this.startValue,this._endValue-this.startValue,1),this._elapsed=this.duration,this.commit(),void(this._onComplete&&this._onComplete.forEach((e=>e())));this.activate(!0),this.value=this._easing(t,this.startValue,this._endValue-this.startValue,1),this._elapsed=t*this.duration,i===this.value&&n===this.active||this.commit()}updateAbsolute(e){const t=e/Math.max(this._duration,1e-5);this.updateProgress(t)}modifyAnimation(e,t,n,s=i.vG,r=0,a=0){return this._easing=s,this._endValue=t,this._duration=n,this.activate(this._duration>=0&&e!==t),this._elapsed=r,this._delay=a,this.startValue=e,this.value=e,this.commit(),this}onComplete(e){return this._onComplete||(this._onComplete=[]),(0,a.k1)((()=>this._onComplete.push(e)),(()=>this._onComplete.splice(this._onComplete.indexOf(e),1)))}activate(e){this._active=e}copy(e){this._endValue=e.endValue,this._duration=e.duration,this._active=e.active,this._easing=e.easing,this._elapsed=e.elapsed,this.startValue=e.startValue,this.value=e.value,this.commit()}clone(){const e=new l(0);return e.copy(this),e}stop(e){this._active=!1,this._elapsed=this._duration,this.value=e,this._endValue=e,this.commit()}equals(e){return this._active===e._active&&this.duration===e.duration&&this.easing===e.easing&&this.elapsed===e.elapsed&&this.endValue===e.endValue&&this.startValue===e.startValue&&this.value===e.value}}},38042:(e,t,n)=>{"use strict";n.d(t,{E8:()=>s,bX:()=>i});const i=(e,t)=>{if(0!==e.length)for(let n=0;n<e.length;n++){e[n]===t&&e.splice(n,1)}};const s=(e=[],t=[])=>e.length===t.length&&(e=e.slice().sort(),t=t.slice().sort(),e.every(((e,n)=>t[n]===e)))},26306:(e,t,n)=>{"use strict";n.d(t,{h:()=>s,K:()=>r});class i{constructor(e){this.comparator=e,this.nodes=[]}push(e){return this.nodes.push(e),this.siftdown(0,this.nodes.length-1)}pop(){let e,t;return this.nodes.length&&(e=this.nodes.pop(),e)?(this.nodes.length?(t=this.nodes[0],this.nodes[0]=e,this.siftup(0)):t=e,t):null}peek(){return this.nodes[0]}contains(e){return-1!==this.nodes.indexOf(e)}replace(e){if(this.nodes.length){const t=this.nodes[0];return this.nodes[0]=e,this.siftup(0),t}return null}_pushpop(e,t,n){let i;const s=n||this.defaultCompare;return e.length&&s(e[0],t)<0&&(i=[e[0],t],t=i[0],e[0]=i[1],this._siftup(e,0,s)),t}pushpop(e){return this._pushpop(this.nodes,e,this.comparator)}_heapify(e,t){let n,i,s,r,a,o;const l=Math.floor(e.length/2),c=function(){for(o=[],s=0,a=l;0<=a?s<a:s>a;0<=a?s++:s--)o.push(s);return o}.apply(this).reverse(),d=[];for(i=0,r=c.length;i<r;i++)n=c[i],d.push(this._siftup(e,n,t));return d}heapify(){let e,t,n,i,s,r;const a=Math.floor(this.nodes.length/2),o=function(){for(r=[],n=0,s=a;0<=s?n<s:n>s;0<=s?n++:n--)r.push(n);return r}.apply(this).reverse(),l=[];for(t=0,i=o.length;t<i;t++)e=o[t],l.push(this.siftup(e));return l}updateItem(e){const t=this.nodes.indexOf(e);return-1===t?null:(this.siftdown(0,t),this.siftup(t))}clear(){return this.nodes=[]}empty(){return 0===this.nodes.length}size(){return this.nodes.length}clone(){const e=new i(this.comparator);return e.nodes=this.nodes.slice(0),e}toArray(){return this.nodes.slice(0)}insert(e){return this.push(e)}top(){return this.peek()}front(){return this.peek()}has(e){return this.contains(e)}copy(){return this.clone()}nlargest(e){let t,n,i;const s=this.nodes.slice(0,e);if(!s.length)return s;this._heapify(s,this.comparator);const r=this.nodes.slice(e);for(n=0,i=r.length;n<i;n++)t=r[n],this._pushpop(s,t,this.comparator);return s.sort(this.comparator).reverse()}defaultCompare(e,t){return e<t?-1:e>t?1:0}_siftdown(e,t,n,i){let s,r;const a=i||this.defaultCompare,o=e[n];for(;n>t&&(r=n-1>>1,s=e[r],a(o,s)<0);)e[n]=s,n=r;return e[n]=o}siftdown(e,t){return this._siftdown(this.nodes,e,t,this.comparator)}_siftup(e,t,n){let i,s;const r=n||this.defaultCompare,a=e.length,o=t,l=e[t];for(i=2*t+1;i<a;)s=i+1,s<a&&!(r(e[i],e[s])<0)&&(i=s),e[t]=e[i],i=2*(t=i)+1;return e[t]=l,this._siftdown(e,o,t,r)}siftup(e){return this._siftup(this.nodes,e,this.comparator)}}var s;function r(e){void 0===e.timeout&&(e.timeout=1/0);const t={data:e.start,g:0,heuristicValue:e.heuristic(e.start)};let n=t;t.f=t.heuristicValue;const r=new Set,l=new i(o),c=new Map;l.push(t),c.set(t.data,t);const d=Date.now();for(;l.size();){if(Date.now()-d>e.timeout)return{status:s.Timeout,cost:n.g,path:a(n)};const t=l.pop();if(c.delete(t.data),t&&e.isEnd(t.data))return{status:s.Success,cost:t.g,path:a(t)};r.add(t.data);const i=e.neighbors(t.data);for(const s of i){if(r.has(s))continue;const i=t.g+e.distance(t.data,s);let a=c.get(s),o=!1;if(void 0===a)a={data:s,g:0,heuristicValue:0,f:0},c.set(s,a);else{if(a.g<i)continue;o=!0}a.parent=t||void 0,a.g=i,a.heuristicValue=e.heuristic(s),a.f=i+a.heuristicValue,a.heuristicValue<n.heuristicValue&&(n=a),o?l.heapify():l.push(a)}}return{status:s.NoPath,cost:n.g,path:a(n)}}function a(e){if(void 0!==e.parent){const t=a(e.parent);return t.push(e.data),t}return[e.data]}function o(e,t){if(e.f&&t.f)return e.f-t.f;throw new Error('heapComparator() -> Property "f" is undefined.')}!function(e){e[e.Success=0]="Success",e[e.NoPath=1]="NoPath",e[e.Timeout=2]="Timeout"}(s||(s={}))},31362:(e,t,n)=>{"use strict";n.d(t,{Dt:()=>m,Hx:()=>w,J1:()=>E,Jm:()=>y,Kr:()=>p,O6:()=>A,Ot:()=>v,PI:()=>P,Q0:()=>b,Qg:()=>k,SP:()=>O,Tt:()=>u,UD:()=>T,V5:()=>h,Vf:()=>_,Zx:()=>I,_1:()=>d,ht:()=>L,jx:()=>l,rI:()=>g,rm:()=>N,tq:()=>o,vU:()=>f,yL:()=>S});var i=n(97998),s=n(44443),r=n(59279);const a=new i.Z("util-browser"),o=function(){const e=navigator.userAgent||navigator.vendor,t=new RegExp("(android|bbd+|meego).+mobile|android|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|\n    hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|\n    palm( os)?|phone|p(ixi|re)/|plucker|pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|\n    wap|windows ce|xda|xiino","i"),n=new RegExp("1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|\n    amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|\n    br(e|v)w|bumb|bw-(n|u)|c55/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|\n    devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|\n    g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|\n    a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|\n    jemu|jigs|kddi|keji|kgt( |/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|/(k|l|u)|50|54|-[a-w])|libw|lynx|\n    m1-w|m3ga|m50/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|\n    zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|\n    nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|\n    po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55/|\n    sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|\n    sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|\n    tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|\n    vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|\n    zeto|zte-","i");return(t.test(e)||n.test(e.substr(0,4))||d())&&!v()},l=/([\s\{\}\"\']|[^\x00-\x7F]|%[^0-9a-fA-F]{2})+/g,c=(e,t)=>{let n=window.navigator.userAgent.match(e);return n=n?n[1].split(t):[],{major:parseInt(n[0],10)||0,minor:parseInt(n[1],10)||0,patch:parseInt(n[2],10)||0}},d=()=>{const e=window.navigator.userAgent;return/iPad/.test(e)||h()&&navigator.maxTouchPoints>1},u=()=>{const e=window.navigator.userAgent;return/iPod|iPhone/.test(e)||h()&&navigator.maxTouchPoints>1},h=()=>{const e=window.navigator.platform;return/MAC/.test(e.toUpperCase())},p=()=>{const e=window.navigator.platform;return/WIN/.test(e.toUpperCase())},m=()=>-1!==window.navigator.userAgent.indexOf("Android"),f=()=>-1!==window.navigator.userAgent.indexOf("Firefox"),g=()=>{if(!f())throw new Error("Not a Firefox browser");return c(/Firefox\/((?:\d+\.?){1,3})/,".")},v=()=>-1!==window.navigator.userAgent.indexOf("OculusBrowser"),b=()=>{switch((0,r.eY)("bot",2)){case 0:return!1;case 1:return!0;case 2:return-1!==navigator.userAgent.indexOf("Googlebot");default:return!1}},y=()=>"ontouchstart"in window,E=()=>"share"in navigator&&(o()||d()),S=()=>window.parent!==window,O=()=>S()&&(()=>{const e=new URL(document.referrer);return s.yx.some((t=>t.test(e.hostname)))})(),T=()=>window.location.search.substr(1).split("&"),_=(e,t=!1)=>{if(!e)return;const n=`${window.location.origin}${window.location.pathname}?${e}`;t?window.history.pushState({},"",n):window.location.replace(n)},w=function(){const e=window.URL||window.webkitURL,t=document.createElement("a");return document.body.appendChild(t),t.style.display="none",(n,i)=>{const s=e.createObjectURL(n);t.href=s,t.download=i,t.click(),e.revokeObjectURL(s)}}(),N=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},A=function(){return!d()&&!u()&&!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)},I=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},k=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};function P(e){try{return document.featurePolicy.allowsFeature(e)}catch(t){return a.warn(t),a.warn(`Feature Policy check failed, defaulting ${e} to false.`),!1}}const L=()=>{var e,t;return(e=>{const t={language:"en",region:void 0,script:void 0,ext:void 0},n=new RegExp([/^([a-z]{2,3})/,/(?:[_-]([ut]{1}[_-][a-z\-\_]+))?/,/(?:[_-]([a-z]{4}))?/,/(?:[_-]([a-z]{2}))?$/].map((e=>e.source)).join(""),"i").exec(e);if(n){const[,e,i,s,r]=n;Object.assign(t,{language:e,ext:i,script:s,region:r})}return t})((null===(t=null===(e=null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat())||void 0===e?void 0:e.resolvedOptions())||void 0===t?void 0:t.locale)||navigator.language).language||""}},41404:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});const i=function(e,t){const n=new RegExp(e+"=([^;]+)|$").exec(document.cookie);if(!n)return t;const i=n[1];return"boolean"==typeof t?"true"===i||"1"===i:"number"==typeof t?parseFloat(i):i}},15130:(e,t,n)=>{"use strict";function i(e){const t=document.createElement("input");t.type="text",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}n.d(t,{v:()=>i})},9133:(e,t,n)=>{"use strict";n.d(t,{U:()=>s,p:()=>r});const i=new Object,s=e=>{if(e){const t=e.valueOf();if(!isNaN(t))return e.toISOString()}return(new Date).toISOString()},r=(e,t=i)=>{if(e){const t=new Date(e);if(!isNaN(t.valueOf()))return t}return t===i?new Date:t}},80361:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});const i=(e,t=250)=>{let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout((()=>e.apply(null,i)),t)}}},78283:(e,t,n)=>{"use strict";n.d(t,{Nv:()=>o,W3:()=>l,XJ:()=>c,_F:()=>a,zy:()=>r});const i=.3048,s=.0929,r=e=>e/i,a=e=>e*i,o=e=>e/s,l=e=>e*s,c=e=>{const t=e/i;let n=Math.floor(t),s=12*t%12;return 12===Math.round(s)?(n+=1,s=0):s=Math.round(s),{feet:n,inches:s}}},23885:(e,t,n)=>{"use strict";n.d(t,{FG:()=>a,Fs:()=>h,Q9:()=>c,aB:()=>b,ad:()=>p,e3:()=>f,hN:()=>m,hl:()=>o,qb:()=>u,tf:()=>g,to:()=>l,vG:()=>r,w2:()=>d,z6:()=>v});var i=n(99874),s=n.n(i);const r=function(e,t,n,i){return n*e/i+t},a=function(e,t,n,i){return n*(e/=i)*e+t},o=function(e,t,n,i){return-n*(e/=i)*(e-2)+t},l=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},c=function(e,t,n,i){return n*(e/=i)*e*e+t},d=function(e,t,n,i){return e/=i,n*(--e*e*e+1)+t},u=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},h=function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},p=function(e,t,n,i){return n*(1-Math.pow(2,-10*e/i))+t},m=function(e,t,n,i){return(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t)},f=(e,t,n,i,s)=>{let r=t;if(s>0){const t=(1-Math.max(s,0))*Math.abs(i);r=n<=t?0:e(n-t,0,1,t)}return r};function g(e,t,n,i){const r=new(s())(e,t,n,i);return(e,t,n,i)=>{const s=e/i;return t+n*r.solve(s)}}function v(e,t,n,i){const r=new(s())(e,t,n,i);return e=>r.solve(e)}const b=function(e,t,n,i){return-4*n*Math.pow(e/i-(.5+t),2)+1}},54106:(e,t,n)=>{"use strict";n.d(t,{bX:()=>i,z6:()=>s});const i=e=>void 0!==e.pointerId,s=e=>void 0!==e.changedTouches},56512:(e,t,n)=>{"use strict";n.d(t,{A5:()=>l,GO:()=>c,fc:()=>u,qf:()=>r});var i=n(81396),s=n(90304);function r(e){if(0===e.length)throw Error("Can't merge empty list of geometries");if(1===e.length)return e[0];let t=0,n=0,s=0,r=0;const o=new i.Box3;for(const i of e)i.index&&(t+=i.index.count,n+=i.getAttribute("position").count,i.getAttribute("uv")&&(s+=i.getAttribute("uv").count),i.boundingBox&&(o.union(i.boundingBox),r++));const c=new i.BufferGeometry;r!==e.length||o.isEmpty()?c.computeBoundingBox():c.boundingBox=o,o.copy(l(c)),c.boundingSphere=o.getBoundingSphere(new i.Sphere);const d=a(new Float32Array(3*n),"position",e);c.setAttribute("position",new i.BufferAttribute(d,3));const u=function(e,t){let n=0,i=0;for(const s of t){const t=s.index;for(let s=0;s<t.array.length;s++)e[n+s]=t.array[s]+i;n+=t.array.length,i+=s.getAttribute("position").count}return e}(new Uint32Array(t),e);if(c.setIndex(new i.BufferAttribute(u,1)),s){const t=a(new Float32Array(2*s),"uv",e);c.setAttribute("uv",new i.BufferAttribute(t,2))}return c}function a(e,t,n){let i=0;for(const s of n){const n=s.getAttribute(t);e.set(n.array,i),i+=n.array.length}return e}const o=new i.Box3(s.fU.ZERO,s.fU.UNIT);function l(e){return e.boundingBox||e.computeBoundingBox(),e.boundingBox||o}function c(e,t){let n=1/0;const s=t.clone(),r=new i.Vector3,a=new i.Vector3(1/0,1/0,1/0);let o=-1;const l=new i.Triangle;return function(e,t){var n;const i=null===(n=e.index)||void 0===n?void 0:n.array,s=e.getAttribute("position");if(!s)return;const r=e.groups.length>0?e.groups:[{start:0,count:i?i.length:s.count,materialIndex:0}];let a=0;for(const e of r)for(let n=e.start;n<e.start+e.count;n+=3){let r=n,o=n+1,l=n+2;i&&(r=i[r],o=i[o],l=i[l]),t(s.getX(r),s.getY(r),s.getZ(r),s.getX(o),s.getY(o),s.getZ(o),s.getX(l),s.getY(l),s.getZ(l),a++,e.materialIndex||0)}}(e,((e,t,i,c,d,u,h,p,m,f)=>{l.a.set(e,t,i),l.b.set(c,d,u),l.c.set(h,p,m),l.closestPointToPoint(s,r);const g=s.distanceToSquared(r);g<n&&(a.copy(r),n=g,o=f)})),{point:a,distance:Math.sqrt(n),faceIndex:o}}const d=new i.PlaneGeometry(1,1);function u(){return d}},39880:(e,t,n)=>{"use strict";n.d(t,{$B:()=>p,DZ:()=>d,Ig:()=>r,O1:()=>h,Pe:()=>c,Q_:()=>u,TH:()=>l,XN:()=>o,Y8:()=>a,aS:()=>f,gw:()=>s,lY:()=>g,ow:()=>m});var i=n(7689);const s=function(e){return new Promise(((t,n)=>{setTimeout(t,e)}))},r=e=>{let t,n=-1;return{promise:new Promise(((i,s)=>{t=i,n=window.setTimeout(i,e)})).then((()=>{n=-1})),cancel:()=>{-1!==n&&(window.clearTimeout(n),t())}}},a=function(e,t){if(0===e.length)return null;let n=0,i=0;for(let s of e)s=t?s[t]:s,n+=s,i++;return n/i},o=function(e){const t={};for(const n of e)t[n]=n;return t},l=function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},c=function(e,t,n=!0){if(0===e.length)return null;n&&e.sort((function(e,t){return e-t}));const i=t/100;return e[Math.floor(e.length*i)]},d=function(e){return[u(e.getMonth()+1),".",u(e.getDate()),".",e.getFullYear(),"_",u(e.getHours()),".",u(e.getMinutes()),".",u(e.getSeconds())].join("")},u=function(e,t=2,n="0",i=10){const s=e.toString(i),r=t-s.length+1;return r>0?new Array(r).join(n)+s:s},h=function(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},p=e=>{const t=[];for(let n=0;n<e.length;n+=8192)t.push(String.fromCharCode.apply(null,e.subarray(n,n+8192)));return btoa(t.join(""))},m=(e=[])=>{const t={};for(const n of e)t[n]=!0;return t};const f=(e,t,n="...")=>e.length<=t?e:`${e.substr(0,t)}${n}`,g=(e,t,n)=>{if(!(Math.abs(e)<4294967295)||!(t<32)||!(n<32))throw new i.Z("argument out of range");const s=1&(e>>>t^e>>>n);return(e^=s<<t|s<<n)>>>0};(()=>{const e={}})()},88951:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});const i=new(n(97998).Z)("passive-support"),s=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>{e=!0}});return window.addEventListener("testPassive",(()=>{}),t),window.removeEventListener("testPassive",(()=>{}),t),e}catch(e){return i.warn(`Passive Option for addEventListener is not supported, Safari zoom may not perform as expected: ${e}`),!1}})()},28714:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var i=n(81396);const s=new i.LoadingManager},73180:(e,t,n)=>{"use strict";n.d(t,{fp:()=>s,m8:()=>r});const i=new(n(97998).Z)("util-browser"),s=function(e,t){if(!("localStorage"in window))return t;let n;try{n=window.localStorage.getItem(e)}catch(e){return i.debug(e),t}return null===n?t:"boolean"==typeof t?"true"===n:"number"==typeof t?parseFloat(n):n},r=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){i.error(e)}}},97998:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,i:()=>s});const i=window.navigationStart||Date.now();var s;!function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(s||(s={}));class r{constructor(e){this.timers={},this.handlers={[s.DEBUG]:console.debug,[s.INFO]:console.info,[s.WARN]:console.warn,[s.ERROR]:console.error};const t=e.split(new RegExp("/|\\\\"));this.prefix="["+t[t.length-1].replace(".js","")+"]"}message(e){if(r.level>=e&&console){return(this.handlers[e]?this.handlers[e]:console.log).bind(console,this.getPrefix())}return()=>{}}get debug(){return this.message(s.DEBUG)}get devInfo(){return()=>{}}get debugInfo(){return this.debug}get debugWarn(){return this.message(r.level>=s.DEBUG?s.WARN:s.DEBUG)}get info(){return this.message(s.INFO)}get warn(){return this.message(s.WARN)}get error(){return this.message(s.ERROR)}time(e){r.level>=s.DEBUG&&(this.timers[e]=Date.now())}timeEnd(e){if(r.level>=s.DEBUG){const t=this.timers[e];if(!t)return;const n=(Date.now()-t)/1e3;this.debug(e,n+"s")}}getPrefix(){const e=(Date.now()-i)/1e3+"s";return`${this.prefix} ${e}`}}r.level=s.INFO},18448:(e,t,n)=>{"use strict";function i(e){const t={};for(const n in e)t[e[n]]=n;return t}function s(e,t){if(null!==e&&"object"==typeof e)for(const n in e)t(e[n],n,e),s(e[n],t)}n.d(t,{S:()=>i,y:()=>s})},92558:(e,t,n)=>{"use strict";n.d(t,{Wm:()=>r,_r:()=>s,fV:()=>i,un:()=>a});function i(e=11,t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"){let n="";const i=window.crypto||window.msCrypto;let s;s=i?i.getRandomValues(new Uint8Array(e)):new Uint8Array(e).map((()=>255*Math.random()));for(let i=0;i<e;i++)n+=t.charAt(s[i]%t.length);return n}function s(){return i(11,"0123456789abcdefghijklmnopqrstuvwxyz")}function r(e,t){return function(e,t){return(e%t+t)%t}(a(e),t)}function a(e){let t,n=0;for(let i=0;i<e.length;i++)t=e.charCodeAt(i),n=(n<<5)-n+t,n|=0;return n}},76721:(e,t,n)=>{"use strict";n.d(t,{an:()=>a,m5:()=>r});const i="referrer";let s="";function r(e){let t;try{t=new URL(e)}catch(t){return e}return t.searchParams.set(i,a()),t.href}function a(){return(function(){if(!window.document.referrer)return!1;let e;try{e=new URL(window.document.referrer)}catch(e){return!1}return e.origin===window.location.origin}()?function(){const e=new URL(window.location.href);if(!e.searchParams.has(i))return s;const t=e.searchParams.get(i)||"";try{new URL(t),s=t}catch(e){}return e.searchParams.delete(i),window.history.replaceState(null,"",e.href),s}():"")||window.document.referrer}},77597:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var i=n(81396);const s={extensions:{derivatives:!0},defines:{RING_COUNT:0,USE_TEXTURE:!1},uniforms:{discRadius:{value:.2},discNormal:{value:new i.Vector3(0,0,1)},ringRadii:{value:[]},ringColors:{value:[]},opacity:{value:1},tint:{value:new i.Color(1,1,1)},texture:{value:null},viewMatrixInverse:{value:new i.Matrix4},projectionMatrixInverse:{value:new i.Matrix4}},vertexShader:n(29535),fragmentShader:n(37198),side:i.FrontSide,transparent:!0};var r=n(93377);const a=new i.Color,o=[{outerRadius:1,innerRadius:.75,color:16777215,opacity:1}];class l extends r.b{constructor(e=o){super(Object.assign(Object.assign({},s),{defines:Object.assign({},s.defines),uniforms:i.UniformsUtils.clone(s.uniforms)})),this.setRings(e),Object.defineProperty(this,"opacity",{set(e){this.uniforms.opacity.value=e},get(){return this.uniforms.opacity.value}})}setDiscNormal(e){this.uniforms.discNormal.value.copy(e)}setDiscRadius(e){this.uniforms.discRadius.value=e}setRings(e){e=e||[],this.defines.RING_COUNT!==e.length&&(this.defines.RING_COUNT=e.length,this.needsUpdate=!0),this.uniforms.ringRadii.value=e.map((({innerRadius:e,outerRadius:t})=>new i.Vector2(e||-1,t))),this.uniforms.ringColors.value=e.map((({color:e,opacity:t})=>(a.set(e),new i.Vector4(a.r,a.g,a.b,t))))}setTexture(e){this.defines.USE_TEXTURE!==!!e&&(this.defines.USE_TEXTURE=!!e,this.needsUpdate=!0),this.uniforms.texture.value=e}getTexture(){return this.uniforms.texture.value}setTint(e){this.uniforms.tint.value.set(null!=e?e:16777215)}getTint(){return this.uniforms.tint.value}onBeforeRender(e,t,n){this.uniforms.projectionMatrixInverse.value.copy(n.projectionMatrixInverse),this.uniforms.viewMatrixInverse.value.copy(n.matrixWorld)}}class c extends i.Mesh{constructor(e){super(new i.SphereGeometry(Math.sqrt(2),8,6),new l),this.onBeforeRender=(e,t,n)=>{this.material.onBeforeRender(e,t,n)},e&&this.configure(e)}configure(e){const{radius:t,normal:n,rings:i,texture:s,opacity:r,tint:a}=e,{material:o}=this;void 0!==t&&(this.scale.setScalar(t),o.setDiscRadius(t)),void 0!==n&&o.setDiscNormal(n),void 0!==i&&o.setRings(i),void 0!==s&&o.setTexture(s),void 0!==a&&o.setTint(a),void 0!==r&&(o.opacity=r)}dispose(){var e;null===(e=this.material.getTexture())||void 0===e||e.dispose(),this.geometry.dispose()}}},7162:(e,t,n)=>{"use strict";var i;n.d(t,{o:()=>i}),function(e){function t(e){return e.split(".").reduce(((e,t)=>{const n=parseInt(t,10);return isNaN(n)||e.push(n),e}),[])}function n(e,n){const i=t(e),s=t(n);for(let e=0;e<i.length;e++){if(e>=s.length)return 1;if(i[e]!==s[e])return i[e]>s[e]?1:-1}return s.length>i.length?-1:0}e.parse=t,e.gt=function(e,t){return 1===n(e,t)},e.gte=function(e,t){const i=n(e,t);return 0===i||1===i},e.lt=function(e,t){return-1===n(e,t)},e.eq=function(e,t){return 0===n(e,t)},e.compare=n}(i||(i={}))},58353:(e,t,n)=>{"use strict";function i(e,t){return e.size===t.size&&[...e].every((e=>t.has(e)))}function s(...e){const t=new Set;for(const n of e)for(const e of n.values())t.add(e);return t}function r(e,t){for(const n of t)e.add(n);return e}n.d(t,{Jt:()=>r,dW:()=>s,nb:()=>i})},87926:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var i=n(81396),s=n(97998),r=n(28714);const a=new s.Z("texture"),o=(e,t,n)=>{const s=new i.TextureLoader(r.U);return s.crossOrigin="anonymous",s.load(e,t,void 0,(t=>{a.error(`Failed to load ${e}`),n&&n(t)}))}},95912:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});const i=(e,t)=>{let n,i=Date.now()-t;return(...s)=>{const r=Date.now()-i,a=()=>{e.apply(null,s),i=Date.now()};if(n&&clearTimeout(n),r>=t)a();else{const e=t-r;n=window.setTimeout(a,e)}}}},44443:(e,t,n)=>{"use strict";n.d(t,{KK:()=>c,QY:()=>a,Uo:()=>u,bf:()=>r,mM:()=>l,rI:()=>d,sU:()=>s,yx:()=>o});var i=n(8575);const s=function(e="",t){let n,s,r;if(e.match(/^https?/)){const t=(0,i.Qc)(e);n=t.protocol+"//"+t.host,s=e,r=e.match(/[^/]*$/)[0]}else{if(t.match(/^https?/)){const e=(0,i.Qc)(t);n=e.protocol+"//"+e.host}else n=window.location.protocol+"//"+t;s=n+"/api/player/models/"+e,r=e}return{sid:r,urlBase:n,urlModel:s,urlFiles:s+(s.match(/\/$/)?"files":"/files"),urlThumb:s+(s.match(/\/$/)?"thumb":"/thumb")}},r=function(e,t={}){for(const n in t){const i=t[n];e+=(-1===e.indexOf("?")?"?":"&")+`${n}=${i}`}return e},a=e=>e.replace(/^https?:\/\/(?:www.)?/i,"").replace(/\/(.*)/,""),o=[/^([a-z0-9\-]*\.)*matterport\.com$/,/^([a-z0-9\-]*\.)*matterportvr\.cn$/,/^localhost$/];function l(e){try{const t=new URL(e).hostname;for(const e of o)if(t.match(e))return!0}catch(e){}return!1}const c=e=>{if(l(e)){return new URL(e).origin}return null};function d(e=window.location.href){let t=e;return l(t)&&(t=t.replace(/\/work\/(\?.*)?$/,"/show/$1")),new URL(t)}function u(e,t,n){const i=d(),s=new URLSearchParams(window.location.search);var r;r=s,["q","qK","qF","tag","note","comment","pin-pos","cloudEdit"].forEach((e=>r.delete(e)));const a=encodeURIComponent(e);if(a&&s.set("q",a),t.length>0){const e=encodeURIComponent(t.join(","));s.set("qK",e)}if(n.length>0){const e=encodeURIComponent(n.join(","));s.set("qF",e)}return i.search=s.toString(),i.hash="",i.toString()}},59279:(e,t,n)=>{"use strict";function i(){const e=new URLSearchParams(window.location.search),t={};return e.forEach(((e,n)=>{t[n]=e})),t}function s(){const e=new URLSearchParams(window.location.search);return new URLSearchParams(e.toString())}function r(e,t=null,n=typeof t){return a(new URLSearchParams(window.location.search).get(e),t,n)}function a(e,t=null,n=typeof t){return null===e?t:"boolean"===n?"true"===e||"1"===e:"number"===n?+e:e}n.d(t,{FU:()=>i,O$:()=>a,eY:()=>r,kD:()=>s})},30128:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});const i=[];for(let e=0;e<256;e++)i[e]=(e<16?"0":"")+e.toString(16);function s(){let e;const t=window.crypto||window.msCrypto;return e=t?t.getRandomValues(new Uint8Array(16)):new Uint8Array(16).map((()=>255*Math.random())),e[6]=15&e[6]|64,e[8]=63&e[8]|128,i[e[0]]+i[e[1]]+i[e[2]]+i[e[3]]+"-"+i[e[4]]+i[e[5]]+"-"+i[e[6]]+i[e[7]]+"-"+i[e[8]]+i[e[9]]+"-"+i[e[10]]+i[e[11]]+i[e[12]]+i[e[13]]+i[e[14]]+i[e[15]]}},23379:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeepLinksModuleKey:()=>g,default:()=>v});var i=n(97542),s=n(9037),r=n(79727),a=n(53954),o=n(23254),l=n(44443),c=n(7159);class d{constructor(e,t,n,i){this.cameraData=e,this.viewmodeData=t,this.floorsViewData=n,this.sweepData=i,this.name="deeplinks",this.defaultBaseUrl=(0,l.rI)(),this.requiredParams=[...d.requiredUrlParams]}createLink(e){const{baseHref:t,additionalParams:n,paramFilter:i,thisArg:s}=e||{},r=new URLSearchParams(window.location.search),a=new URL(t||this.defaultBaseUrl.href);return this.appendParams(a.searchParams,r),i&&this.filterParamsFromURL(a,i,s),n&&this.appendParamsFromDictionary(a.searchParams,n),this.removeStartParams(a),this.dedupeModelParam(a),a}createModelLink(e,t){const{baseHref:n,additionalParams:i,paramFilter:s,thisArg:r}=t||{},a=new URLSearchParams(window.location.search),o=new URL(n||this.defaultBaseUrl.href);return this.appendParams(o.searchParams,a),s&&this.filterParamsFromURL(o,s,r),i&&this.appendParamsFromDictionary(o.searchParams,i),this.removeStartParams(o),this.dedupeModelParam(o),o}createDeepLink(e){const{baseHref:t,additionalParams:n,paramFilter:i,thisArg:s}=e||{},r=new URLSearchParams(c.K.getQueryString({cameraData:this.cameraData,floorsViewData:this.floorsViewData,sweepData:this.sweepData,viewmodeData:this.viewmodeData})),a=new URLSearchParams(window.location.search),o=new URL(t||this.defaultBaseUrl.href);this.appendParams(o.searchParams,a),this.removeStartParams(o),i&&this.filterParamsFromURL(o,i,s);for(const[e,t]of r)c.K.navigationKeys.has(e)&&o.searchParams.set(e,t);if(n){const e=Object.assign({},n);for(const t of c.K.navigationKeys)delete e[t];this.appendParamsFromDictionary(o.searchParams,e)}return this.dedupeModelParam(o),o}setDefaultBaseHref(e,t){this.defaultBaseUrl=new URL(e),this.requiredParams=[...d.requiredUrlParams,...t]}filterParamsFromURL(e,t,n){const i=new Set;for(const[s,r]of e.searchParams)this.requiredParams.includes(s)||t.call(n,s,r)||i.add(s);for(const t of i)e.searchParams.delete(t)}dedupeModelParam(e){const t=e.searchParams.get("m")||e.searchParams.get("model")||"";e.searchParams.delete("model"),e.searchParams.set("m",t)}removeStartParams(e){["start","sm","sp","sq","sr","ss","sf","sz"].forEach(e.searchParams.delete,e.searchParams)}appendParams(e,t){for(const[n,i]of t)e.set(n,i)}appendParamsFromDictionary(e,t){for(const[n,i]of Object.entries(t))e.set(n,i)}}d.requiredUrlParams=["m","model"];var u,h=n(8403);!function(e){e[e.SAME_ORIGIN=0]="SAME_ORIGIN",e[e.EXTERNAL=1]="EXTERNAL",e[e.MODEL=2]="MODEL",e[e.NAVIGATION=3]="NAVIGATION"}(u||(u={}));var p,m=n(12039);!function(e){e[e.IN_FRAME=0]="IN_FRAME",e[e.NEW_WINDOW=1]="NEW_WINDOW",e[e.CUSTOM=2]="CUSTOM"}(p||(p={}));class f{constructor(e){this.commandBinder=e,this.defaultPolicy={[u.NAVIGATION]:p.IN_FRAME,[u.MODEL]:p.IN_FRAME,[u.SAME_ORIGIN]:p.NEW_WINDOW,[u.EXTERNAL]:p.NEW_WINDOW},this.activePolicy=Object.assign({},this.defaultPolicy),this.linkHandlers={[u.NAVIGATION]:{[p.IN_FRAME]:e=>{const t=c.K.deserialize(e);t&&this.navigateToPose(t)},[p.NEW_WINDOW]:e=>this.openNewWindow(e),[p.CUSTOM]:e=>this.customHandlers[u.NAVIGATION](e)},[u.MODEL]:{[p.IN_FRAME]:e=>this.replaceFrameLocation(e),[p.NEW_WINDOW]:e=>this.openNewWindow(e),[p.CUSTOM]:e=>this.customHandlers[u.MODEL](e)},[u.SAME_ORIGIN]:{[p.IN_FRAME]:e=>this.replaceFrameLocation(e),[p.NEW_WINDOW]:e=>this.openNewWindow(e),[p.CUSTOM]:e=>this.customHandlers[u.SAME_ORIGIN](e)},[u.EXTERNAL]:{[p.IN_FRAME]:()=>{throw Error("Navigating Showcase's frame to an external domain is not supported.")},[p.NEW_WINDOW]:e=>this.openNewWindow(e),[p.CUSTOM]:e=>this.customHandlers[u.EXTERNAL](e)}},this.customHandlers={[u.NAVIGATION]:e=>{},[u.MODEL]:e=>{},[u.SAME_ORIGIN]:e=>{},[u.EXTERNAL]:e=>{}}}get HandlingPolicy(){return p}setPolicy(e,t,n){t===p.CUSTOM&&n&&(this.customHandlers[e]=n),this.activePolicy[e]=t}resetPolicy(e){this.activePolicy[e]=this.defaultPolicy[e]}openLink(e){if(function(e){return(0,h.K)(e)&&"pose"in e}(e)){const t=this.activePolicy[u.NAVIGATION];this.linkHandlers[u.NAVIGATION][t](e.fullLink)}else if(function(e){return(0,h.K)(e)&&"modelId"in e}(e)){const t=this.activePolicy[u.MODEL],n=new URL(window.location.href),i=new URL(e.fullLink),s=n.searchParams.get("applicationKey");n.search=i.search,n.searchParams.delete("m"),n.searchParams.delete("model"),n.searchParams.set("m",e.modelId),n.searchParams.set("play","1"),s&&n.searchParams.set("applicationKey",s),this.linkHandlers[u.MODEL][t](n.href)}else try{const t=new URL(e);if(t.origin===document.referrer||t.origin===window.location.origin){const t=this.activePolicy[u.SAME_ORIGIN];this.linkHandlers[u.SAME_ORIGIN][t](e)}else{const t=this.activePolicy[u.EXTERNAL];this.linkHandlers[u.EXTERNAL][t](e)}}catch(t){const n=this.activePolicy[u.EXTERNAL];this.linkHandlers[u.EXTERNAL][n](e)}}replaceFrameLocation(e){window.location.replace(e)}openNewWindow(e){window.open(e)}navigateToPose(e){this.commandBinder.issueCommand(new m.L4(e))}}const g=Symbol("deep-links"),v=class extends i.Y{constructor(){super(...arguments),this.name="deep linker"}async init(e,t){const[n,i,l,c]=await Promise.all([t.market.waitForData(s.M),t.market.waitForData(o.O),t.market.waitForData(r.c),t.market.waitForData(a.Z)]);this.creator=new d(n,i,l,c),this.handler=new f(t.commandBinder)}get LinkType(){return u}}},26837:(e,t,n)=>{"use strict";n.d(t,{vB:()=>ht,Mb:()=>re});var i=n(85893),s=n(67294),r=n(61688);const a=()=>{},o=a(),l=Object,c=e=>e===o,d=e=>"function"==typeof e,u=(e,t)=>({...e,...t}),h=new WeakMap;let p=0;const m=e=>{const t=typeof e,n=e&&e.constructor,i=n==Date;let s,r;if(l(e)!==e||i||n==RegExp)s=i?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(s=h.get(e),s)return s;if(s=++p+"~",h.set(e,s),n==Array){for(s="@",r=0;r<e.length;r++)s+=m(e[r])+",";h.set(e,s)}if(n==l){s="#";const t=l.keys(e).sort();for(;!c(r=t.pop());)c(e[r])||(s+=r+":"+m(e[r])+",");h.set(e,s)}}return s},f=new WeakMap,g={},v={},b="undefined",y=typeof window!=b,E=typeof document!=b,S=(e,t)=>{const n=f.get(e);return[()=>!c(t)&&e.get(t)||g,i=>{if(!c(t)){const s=e.get(t);t in v||(v[t]=s),n[5](t,u(s,i),s||g)}},n[6],()=>!c(t)&&t in v?v[t]:!c(t)&&e.get(t)||g]};let O=!0;const[T,_]=y&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[a,a],w={isOnline:()=>O,isVisible:()=>{const e=E&&document.visibilityState;return c(e)||"hidden"!==e}},N={initFocus:e=>(E&&document.addEventListener("visibilitychange",e),T("focus",e),()=>{E&&document.removeEventListener("visibilitychange",e),_("focus",e)}),initReconnect:e=>{const t=()=>{O=!0,e()},n=()=>{O=!1};return T("online",t),T("offline",n),()=>{_("online",t),_("offline",n)}}},A=!s.useId,I=!y||"Deno"in window,k=e=>y&&typeof window.requestAnimationFrame!=b?window.requestAnimationFrame(e):setTimeout(e,1),P=I?s.useEffect:s.useLayoutEffect,L="undefined"!=typeof navigator&&navigator.connection,R=!I&&L&&(["slow-2g","2g"].includes(L.effectiveType)||L.saveData),C=e=>{if(d(e))try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?m(e):"",t]};let D=0;const M=()=>++D;var x=3,j=0,U=2,F=1;async function H(...e){const[t,n,i,s]=e,r=u({populateCache:!0,throwOnError:!0},"boolean"==typeof s?{revalidate:s}:s||{});let a=r.populateCache;const l=r.rollbackOnError;let h=r.optimisticData;const p=!1!==r.revalidate,m=r.throwOnError;if(d(n)){const e=n,i=[],s=t.keys();for(const n of s)!/^\$(inf|sub)\$/.test(n)&&e(t.get(n)._k)&&i.push(n);return Promise.all(i.map(g))}return g(n);async function g(n){const[s]=C(n);if(!s)return;const[r,u]=S(t,s),[g,v,b,y]=f.get(t),E=()=>{const e=g[s];return p&&(delete b[s],delete y[s],e&&e[0])?e[0](2).then((()=>r().data)):r().data};if(e.length<3)return E();let O,T=i;const _=M();v[s]=[_,0];const w=!c(h),N=r(),A=N.data,I=N._c,k=c(I)?A:I;if(w&&(h=d(h)?h(k,A):h,u({data:h,_c:k})),d(T))try{T=T(k)}catch(e){O=e}if(T&&d(T.then)){if(T=await T.catch((e=>{O=e})),_!==v[s][0]){if(O)throw O;return T}O&&w&&(e=>"function"==typeof l?l(e):!1!==l)(O)&&(a=!0,u({data:k,_c:o}))}if(a&&!O)if(d(a)){const e=a(T,k);u({data:e,error:o,_c:o})}else u({data:T,error:o,_c:o});if(v[s][1]=M(),Promise.resolve(E()).then((()=>{u({_c:o})})),!O)return T;if(m)throw O}}const V=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},B=(e,t)=>{if(!f.has(e)){const n=u(N,t),i={},s=H.bind(o,e);let r=a;const l={},c=(e,t)=>{const n=l[e]||[];return l[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},d=(t,n,i)=>{e.set(t,n);const s=l[t];if(s)for(const e of s)e(n,i)},h=()=>{if(!f.has(e)&&(f.set(e,[i,{},{},{},s,d,c]),!I)){const t=n.initFocus(setTimeout.bind(o,V.bind(o,i,0))),s=n.initReconnect(setTimeout.bind(o,V.bind(o,i,1)));r=()=>{t&&t(),s&&s(),f.delete(e)}}};return h(),[e,s,h,r]}return[e,f.get(e)[4]]},[G,W]=B(new Map),z=u({onLoadingSlow:a,onSuccess:a,onError:a,onErrorRetry:(e,t,n,i,s)=>{const r=n.errorRetryCount,a=s.retryCount,o=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!c(r)&&a>r||setTimeout(i,o,s)},onDiscarded:a,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:R?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:R?5e3:3e3,compare:(e,t)=>m(e)==m(t),isPaused:()=>!1,cache:G,mutate:W,fallback:{}},w),K=(e,t)=>{const n=u(e,t);if(t){const{use:i,fallback:s}=e,{use:r,fallback:a}=t;i&&r&&(n.use=i.concat(r)),s&&a&&(n.fallback=u(s,a))}return n},Y=(0,s.createContext)({}),q=y&&window.__SWR_DEVTOOLS_USE__,$=q?window.__SWR_DEVTOOLS_USE__:[],Z=e=>d(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],Q=$.concat((e=>(t,n,i)=>e(t,n&&((...e)=>{const[i]=C(t),[,,,s]=f.get(G);if(i.startsWith("$inf$"))return n(...e);const r=s[i];return c(r)?n(...e):(delete s[i],r)}),i)));q&&(window.__SWR_DEVTOOLS_REACT__=s);const X=s.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),J={dedupe:!0},ee=l.defineProperty((e=>{const{value:t}=e,n=(0,s.useContext)(Y),i=d(t),r=(0,s.useMemo)((()=>i?t(n):t),[i,n,t]),a=(0,s.useMemo)((()=>i?r:K(n,r)),[i,n,r]),l=r&&r.provider,c=(0,s.useRef)(o);l&&!c.current&&(c.current=B(l(a.cache||G),r));const h=c.current;return h&&(a.cache=h[0],a.mutate=h[1]),P((()=>{if(h)return h[2]&&h[2](),h[3]}),[]),(0,s.createElement)(Y.Provider,u(e,{value:a}))}),"defaultValue",{value:z}),te=(ne=(e,t,n)=>{const{cache:i,compare:a,suspense:l,fallbackData:h,revalidateOnMount:p,revalidateIfStale:m,refreshInterval:g,refreshWhenHidden:v,refreshWhenOffline:b,keepPreviousData:y}=n,[E,O,T,_]=f.get(i),[w,N]=C(e),L=(0,s.useRef)(!1),R=(0,s.useRef)(!1),D=(0,s.useRef)(w),V=(0,s.useRef)(t),B=(0,s.useRef)(n),G=()=>B.current,W=()=>G().isVisible()&&G().isOnline(),[z,K,Y,q]=S(i,w),$=(0,s.useRef)({}).current,Z=c(h)?n.fallback[w]:h,Q=(e,t)=>{for(const n in $){const i=n;if("data"===i){if(!a(e[i],t[i])){if(!c(e[i]))return!1;if(!a(le,t[i]))return!1}}else if(t[i]!==e[i])return!1}return!0},ee=(0,s.useMemo)((()=>{const e=!!w&&!!t&&(c(p)?!G().isPaused()&&!l&&(!!c(m)||m):p),n=t=>{const n=u(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},i=z(),s=q(),r=n(i),a=i===s?r:n(s);let o=r;return[()=>{const e=n(z());return Q(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>a]}),[i,w]),te=(0,r.useSyncExternalStore)((0,s.useCallback)((e=>Y(w,((t,n)=>{Q(n,t)||e()}))),[i,w]),ee[0],ee[1]),ne=!L.current,ie=E[w]&&E[w].length>0,se=te.data,re=c(se)?Z:se,ae=te.error,oe=(0,s.useRef)(re),le=y?c(se)?oe.current:se:re,ce=!(ie&&!c(ae))&&(ne&&!c(p)?p:!G().isPaused()&&(l?!c(re)&&m:c(re)||m)),de=!!(w&&t&&ne&&ce),ue=c(te.isValidating)?de:te.isValidating,he=c(te.isLoading)?de:te.isLoading,pe=(0,s.useCallback)((async e=>{const t=V.current;if(!w||!t||R.current||G().isPaused())return!1;let i,s,r=!0;const l=e||{},u=!T[w]||!l.dedupe,h=()=>A?!R.current&&w===D.current&&L.current:w===D.current,p={isValidating:!1,isLoading:!1},m=()=>{K(p)},f=()=>{const e=T[w];e&&e[1]===s&&delete T[w]},g={isValidating:!0};c(z().data)&&(g.isLoading=!0);try{if(u&&(K(g),n.loadingTimeout&&c(z().data)&&setTimeout((()=>{r&&h()&&G().onLoadingSlow(w,n)}),n.loadingTimeout),T[w]=[t(N),M()]),[i,s]=T[w],i=await i,u&&setTimeout(f,n.dedupingInterval),!T[w]||T[w][1]!==s)return u&&h()&&G().onDiscarded(w),!1;p.error=o;const e=O[w];if(!c(e)&&(s<=e[0]||s<=e[1]||0===e[1]))return m(),u&&h()&&G().onDiscarded(w),!1;const l=z().data;p.data=a(l,i)?l:i,u&&h()&&G().onSuccess(i,w,n)}catch(e){f();const t=G(),{shouldRetryOnError:n}=t;t.isPaused()||(p.error=e,u&&h()&&(t.onError(e,w,t),(!0===n||d(n)&&n(e))&&W()&&t.onErrorRetry(e,w,t,(e=>{const t=E[w];t&&t[0]&&t[0](x,e)}),{retryCount:(l.retryCount||0)+1,dedupe:!0})))}return r=!1,m(),!0}),[w,i]),me=(0,s.useCallback)(((...e)=>H(i,D.current,...e)),[]);if(P((()=>{V.current=t,B.current=n,c(se)||(oe.current=se)})),P((()=>{if(!w)return;const e=pe.bind(o,J);let t=0;const n=((e,t,n)=>{const i=t[e]||(t[e]=[]);return i.push(n),()=>{const e=i.indexOf(n);e>=0&&(i[e]=i[i.length-1],i.pop())}})(w,E,((n,i={})=>{if(n==j){const n=Date.now();G().revalidateOnFocus&&n>t&&W()&&(t=n+G().focusThrottleInterval,e())}else if(n==F)G().revalidateOnReconnect&&W()&&e();else{if(n==U)return pe();if(n==x)return pe(i)}}));return R.current=!1,D.current=w,L.current=!0,K({_k:N}),ce&&(c(re)||I?e():k(e)),()=>{R.current=!0,n()}}),[w]),P((()=>{let e;function t(){const t=d(g)?g(z().data):g;t&&-1!==e&&(e=setTimeout(n,t))}function n(){z().error||!v&&!G().isVisible()||!b&&!G().isOnline()?t():pe(J).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[g,v,b,w]),(0,s.useDebugValue)(le),l&&c(re)&&w){if(!A&&I)throw new Error("Fallback data is required when using suspense in SSR.");V.current=t,B.current=n,R.current=!1;const e=_[w];if(!c(e)){const t=me(e);X(t)}if(!c(ae))throw ae;{const e=pe(J);c(le)||(e.status="fulfilled",e.value=!0),X(e)}}return{mutate:me,get data(){return $.data=!0,le},get error(){return $.error=!0,ae},get isValidating(){return $.isValidating=!0,ue},get isLoading(){return $.isLoading=!0,he}}},function(...e){const t=u(z,(0,s.useContext)(Y)),[n,i,r]=Z(e),a=K(t,r);let o=ne;const{use:l}=a,c=(l||[]).concat(Q);for(let e=c.length;e--;)o=c[e](o);return o(n,i||a.fetcher||null,a)});var ne,ie;!function(e){e.DEFAULT="https://support.matterport.com/",e.MODEL_ARCHIVED="https://support.matterport.com/s/article/What-is-an-Active-or-Archived-Space",e.MODEL_COMPLIANCE="https://support.matterport.com/s/article/Matterport-IP-restrictions",e.MODEL_FAILED="https://support.matterport.com/s/article/Why-did-my-model-fail-in-processing",e.MODEL_NOT_AVAILABLE="https://support.matterport.com/s/article/Oops-Model-Not-Available",e.MODEL_PENDING="https://support.matterport.com/s/article/How-to-Upload-Your-Model?parentCategoryLabel=#pending",e.MODEL_PROCESSING="https://support.matterport.com/s/article/How-long-does-a-model-take-to-process",e.MODEL_DELETED="https://support.matterport.com/s/article/Restoring-a-Deleted-Space",e.SYSTEM_REQUIREMENTS="https://support.matterport.com/s/article/Workshop-System-Requirements"}(ie||(ie={}));const se=n.p+"images/matterport-logo.svg";var re;!function(e){e.ACCOUNT_INACTIVE="unavailable.account_inactive",e.GENERIC="generic",e.INTERNAL_ERROR="internal.error",e.MODEL_ARCHIVED="unavailable.archived",e.MODEL_COMPLIANCE="unavailable.compliance",e.MODEL_CORRUPT="model.corrupt",e.MODEL_FAILED="model.failed",e.MODEL_DELETED="unavailable.gone",e.MODEL_PENDING="unavailable.pending",e.MODEL_PROCESSING="unavailable.processing",e.MODEL_RESTRICTED="unavailable.restricted",e.NOT_FOUND="not.found",e.PASSWORD_REQUIRED="password.required",e.REQUEST_INVALID="request.invalid",e.WEBGL_CONTEXT_LOST="webgl.context_lost",e.WEBGL_GENERIC="webgl.generic",e.WEBGL_UNSUPPORTED="webgl.unsupported"}(re||(re={}));var ae=n(38399);const oe={errorCode:re.GENERIC,t:e=>e},le=(0,s.createContext)(oe);var ce=n(94184),de=n.n(ce),ue=n(84426);const he="_34E0-iX67r3fxMYKpDS-LJ",pe="Z1ocZiFDSwXUXSZNFwIi8",me="_11Rym6ylpu0sbbOCJkNfJC",fe="_3iEZMhcELmSuAqtL-7BpzG",ge="Emzp6rf1HTBNzdM8roDMz";function ve({brandIcon:e,children:t,title:n}){return(0,i.jsxs)("div",Object.assign({"data-testid":"error_message",className:de()(he,{[ge]:!!e})},{children:[e&&(0,i.jsx)(ue.Vr,{name:e,theme:"dark",className:fe}),(0,i.jsxs)("div",Object.assign({className:pe},{children:[(0,i.jsx)("header",{children:(0,i.jsx)("h1",Object.assign({"data-testid":"error_title",className:me},{children:n}))}),t]}))]}))}const be=()=>{const{t:e}=(0,s.useContext)(le);return(0,i.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.GENERIC_TITLE)},{children:(0,i.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.GENERIC_HELPTEXT,{url:ie.MODEL_NOT_AVAILABLE})}})}))},ye=()=>{const{t:e}=(0,s.useContext)(le);return(0,i.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_ARCHIVED_TITLE),brandIcon:"twinmaker"},{children:(0,i.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.MODEL_ARCHIVED_HELPTEXT,{url:ie.MODEL_ARCHIVED})}})}))},Ee=()=>{const{t:e}=(0,s.useContext)(le);return(0,i.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_COMPLIANCE_TITLE),brandIcon:"compliance-training"},{children:(0,i.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.MODEL_COMPLIANCE_HELPTEXT,{url:ie.MODEL_COMPLIANCE})}})}))},Se=()=>{const{t:e}=(0,s.useContext)(le);return(0,i.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_DELETED_TITLE)},{children:(0,i.jsxs)("p",Object.assign({"data-testid":"error_helptext"},{children:[(0,i.jsx)("a",Object.assign({href:ie.MODEL_DELETED,target:"_blank"},{children:e(ae.Z.LEARN_MORE)})),"."]}))}))},Oe=()=>{const{t:e}=(0,s.useContext)(le);return(0,i.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_FAILED_TITLE)},{children:(0,i.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.MODEL_FAILED_HELPTEXT,{url:ie.MODEL_FAILED})}})}))},Te=()=>{const{t:e}=(0,s.useContext)(le);return(0,i.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_PENDING_TITLE),brandIcon:"delay"},{children:(0,i.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.MODEL_PENDING_HELPTEXT,{url:ie.MODEL_PENDING})}})}))},_e=()=>{const{t:e}=(0,s.useContext)(le);return(0,i.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.MODEL_PROCESSING_TITLE),brandIcon:"process-data"},{children:(0,i.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.MODEL_PROCESSING_HELPTEXT,{url:ie.MODEL_PROCESSING})}})}))},we=()=>{const{t:e}=(0,s.useContext)(le);return(0,i.jsx)(ve,Object.assign({title:e(ae.Z.OOPS.WEBGL_CONTEXT_LOST_TITLE)},{children:(0,i.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.WEBGL_CONTEXT_LOST_HELPTEXT,{url:ie.DEFAULT})}})}))};var Ne=n(31362);const Ae=n.p+"images/chrome.png",Ie=n.p+"images/edge.png",ke=n.p+"images/firefox.png",Pe=n.p+"images/safari.png",Le="_2RCe0qUX4FJuECaH3ROiLK",Re="_2w7mP81olGOrlCzO9k7-C4",Ce=()=>(0,i.jsxs)("ul",Object.assign({className:Le,"data-testid":"browser_list"},{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",Object.assign({href:"https://www.google.com/chrome/browser/",target:"_blank"},{children:(0,i.jsx)("div",Object.assign({className:"tile"},{children:(0,i.jsx)("img",{src:Ae,alt:"Chrome",width:"35",height:"35",className:Re})}))}))}),(0,i.jsx)("li",{children:(0,i.jsx)("a",Object.assign({href:"https://www.mozilla.org/en-US/firefox/new/",target:"_blank"},{children:(0,i.jsx)("div",Object.assign({className:"tile"},{children:(0,i.jsx)("img",{src:ke,alt:"Firefox",width:"35",height:"35",className:Re})}))}))}),(0,i.jsx)("li",{children:(0,i.jsx)("a",Object.assign({href:"https://www.microsoft.com/en-us/edge",target:"_blank"},{children:(0,i.jsx)("div",Object.assign({className:"tile"},{children:(0,i.jsx)("img",{src:Ie,alt:"Edge",width:"35",height:"35",className:Re})}))}))}),(0,Ne.V5)()&&(0,i.jsx)("li",{children:(0,i.jsx)("a",Object.assign({href:"https://support.apple.com/en-us/HT204416",target:"_blank"},{children:(0,i.jsx)("div",Object.assign({className:"tile"},{children:(0,i.jsx)("img",{src:Pe,alt:"Safari",width:"35",height:"35",className:Re})}))}))})]})),De=()=>{const{t:e}=(0,s.useContext)(le),t=!(0,Ne.tq)(),n=e(ae.Z.OOPS.WEBGL_GENERIC_HELPTEXT,{url:ie.DEFAULT});return(0,i.jsxs)(ve,Object.assign({title:e(ae.Z.OOPS.WEBGL_GENERIC_TITLE)},{children:[(0,i.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:n}}),t&&(0,i.jsx)(Ce,{})]}))},Me=()=>{const{t:e}=(0,s.useContext)(le);return(0,i.jsxs)(ve,Object.assign({title:e(ae.Z.OOPS.WEBGL_UNSUPPORTED_TITLE)},{children:[(0,i.jsx)("p",{"data-testid":"error_helptext",dangerouslySetInnerHTML:{__html:e(ae.Z.OOPS.WEBGL_UNSUPPORTED_HELPTEXT,{url:ie.SYSTEM_REQUIREMENTS})}}),(0,i.jsx)(Ce,{})]}))},xe=({errorCode:e})=>e===re.MODEL_ARCHIVED?(0,i.jsx)(ye,{}):e===re.MODEL_COMPLIANCE?(0,i.jsx)(Ee,{}):e===re.MODEL_DELETED?(0,i.jsx)(Se,{}):e===re.MODEL_FAILED?(0,i.jsx)(Oe,{}):e===re.MODEL_PENDING?(0,i.jsx)(Te,{}):e===re.MODEL_PROCESSING?(0,i.jsx)(_e,{}):e===re.WEBGL_CONTEXT_LOST?(0,i.jsx)(we,{}):e===re.WEBGL_GENERIC?(0,i.jsx)(De,{}):e===re.WEBGL_UNSUPPORTED?(0,i.jsx)(Me,{}):(0,i.jsx)(be,{}),je=JSON;var Ue=n(69127),Fe=n(39011);const He=e=>{let t;const n=e.definitions.filter((e=>"OperationDefinition"===e.kind));return 1===n.length&&(t=n[0]?.name?.value),t},Ve=e=>{if("string"==typeof e){let t;try{const n=(0,Ue.Qc)(e);t=He(n)}catch(e){}return{query:e,operationName:t}}const t=He(e);return{query:(0,Fe.S)(e),operationName:t}};class Be extends Error{constructor(e,t){super(`${Be.extractMessage(e)}: ${JSON.stringify({response:e,request:t})}`),Object.setPrototypeOf(this,Be.prototype),this.response=e,this.request=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Be)}static extractMessage(e){return e.errors?.[0]?.message??`GraphQL Error (Code: ${e.status})`}}var Ge=n(54098),We=n.t(Ge,2);const ze=e=>{let t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||We&&Ge.Headers&&e instanceof Ge.Headers?t=(e=>{const t={};return e.forEach(((e,n)=>{t[n]=e})),t})(e):Array.isArray(e)?e.forEach((([e,n])=>{e&&void 0!==n&&(t[e]=n)})):t=e),t},Ke=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),Ye=e=>async t=>{const{url:n,query:i,variables:s,operationName:r,fetch:a,fetchOptions:o,middleware:l}=t,c={...t.headers};let d,u="";"POST"===e?(d=Qe(i,s,r,o.jsonSerializer),"string"==typeof d&&(c["Content-Type"]="application/json")):u=(e=>{if(!Array.isArray(e.query)){const t=e,n=[`query=${encodeURIComponent(Ke(t.query))}`];return e.variables&&n.push(`variables=${encodeURIComponent(t.jsonSerializer.stringify(t.variables))}`),t.operationName&&n.push(`operationName=${encodeURIComponent(t.operationName)}`),n.join("&")}if(void 0!==e.variables&&!Array.isArray(e.variables))throw new Error("Cannot create query with given variable type, array expected");const t=e,n=e.query.reduce(((e,n,i)=>(e.push({query:Ke(n),variables:t.variables?t.jsonSerializer.stringify(t.variables[i]):void 0}),e)),[]);return`query=${encodeURIComponent(t.jsonSerializer.stringify(n))}`})({query:i,variables:s,operationName:r,jsonSerializer:o.jsonSerializer??je});const h={method:e,headers:c,body:d,...o};let p=n,m=h;if(l){const e=await Promise.resolve(l({...h,url:n,operationName:r,variables:s})),{url:t,...i}=e;p=t,m=i}return u&&(p=`${p}?${u}`),await a(p,m)};class qe{constructor(e,t={}){this.url=e,this.requestConfig=t,this.rawRequest=async(...e)=>{const[t,n,i]=e,s=((e,t,n)=>e.query?e:{query:e,variables:t,requestHeaders:n,signal:void 0})(t,n,i),{headers:r,fetch:a=Ge,method:o="POST",requestMiddleware:l,responseMiddleware:c,...d}=this.requestConfig,{url:u}=this;void 0!==s.signal&&(d.signal=s.signal);const{operationName:h}=Ve(s.query);return $e({url:u,query:s.query,variables:s.variables,headers:{...ze(Je(r)),...ze(s.requestHeaders)},operationName:h,fetch:a,method:o,fetchOptions:d,middleware:l}).then((e=>(c&&c(e),e))).catch((e=>{throw c&&c(e),e}))}}async request(e,...t){const[n,i]=t,s=((e,t,n)=>e.document?e:{document:e,variables:t,requestHeaders:n,signal:void 0})(e,n,i),{headers:r,fetch:a=Ge,method:o="POST",requestMiddleware:l,responseMiddleware:c,...d}=this.requestConfig,{url:u}=this;void 0!==s.signal&&(d.signal=s.signal);const{query:h,operationName:p}=Ve(s.document);return $e({url:u,query:h,variables:s.variables,headers:{...ze(Je(r)),...ze(s.requestHeaders)},operationName:p,fetch:a,method:o,fetchOptions:d,middleware:l}).then((e=>(c&&c(e),e.data))).catch((e=>{throw c&&c(e),e}))}batchRequests(e,t){const n=((e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0})(e,t),{headers:i,...s}=this.requestConfig;void 0!==n.signal&&(s.signal=n.signal);const r=n.documents.map((({document:e})=>Ve(e).query)),a=n.documents.map((({variables:e})=>e));return $e({url:this.url,query:r,variables:a,headers:{...ze(Je(i)),...ze(n.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??Ge,method:this.requestConfig.method||"POST",fetchOptions:s,middleware:this.requestConfig.requestMiddleware}).then((e=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e.data))).catch((e=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e}))}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){const{headers:n}=this.requestConfig;return n?n[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}}const $e=async e=>{const{query:t,variables:n,fetchOptions:i}=e,s=Ye((e.method??"post").toUpperCase());const r=Array.isArray(e.query),a=await s(e),o=await Xe(a,i.jsonSerializer??je),l=Array.isArray(o)?!o.some((({data:e})=>!e)):Boolean(o.data),c=Array.isArray(o)||!o.errors||Array.isArray(o.errors)&&!o.errors.length||"all"===i.errorPolicy||"ignore"===i.errorPolicy;if(a.ok&&c&&l){const{errors:e,...t}=(Array.isArray(o),o),n="ignore"===i.errorPolicy?t:o;return{...r?{data:n}:n,headers:a.headers,status:a.status}}throw new Be({..."string"==typeof o?{error:o}:o,status:a.status,headers:a.headers},{query:t,variables:n})};async function Ze(e,t,...n){const i=((e,t,...n)=>{const[i,s]=n;return e.document?e:{url:e,document:t,variables:i,requestHeaders:s,signal:void 0}})(e,t,...n);return new qe(i.url).request({...i})}const Qe=(e,t,n,i)=>{const s=i??je;if(!Array.isArray(e))return s.stringify({query:e,variables:t,operationName:n});if(void 0!==t&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");const r=e.reduce(((e,n,i)=>(e.push({query:n,variables:t?t[i]:void 0}),e)),[]);return s.stringify(r)},Xe=async(e,t)=>{let n;return e.headers.forEach(((e,t)=>{"content-type"===t.toLowerCase()&&(n=e)})),n&&(n.toLowerCase().startsWith("application/json")||n.toLowerCase().startsWith("application/graphql+json")||n.toLowerCase().startsWith("application/graphql-response+json"))?t.parse(await e.text()):e.text()},Je=e=>"function"==typeof e?e():e,et=((e,...t)=>e.reduce(((e,n,i)=>`${e}${n}${i in t?String(t[i]):""}`),""))`
  query GetCurrentUser {
    currentSession {
      currentUser {
        id
        email
        firstName
        lastName
      }
    }
  }
`,tt=async({apiHost:e})=>{var t;const n=`${e}/api/mp/accounts/graph`,i=await Ze(n,et),s=null===(t=null==i?void 0:i.currentSession)||void 0===t?void 0:t.currentUser;if(null==s?void 0:s.id)return{id:s.id,email:s.email||"",firstName:s.firstName||"",lastName:s.lastName||""}},nt="_1s2P0b_rDArxJRHGRYrU44",it="_20IzbQl3zqg35KIQFsa4WP",st="_2AlbqSOlIQU8EmVnuR2X4O",rt=({firstName:e,lastName:t,email:n})=>{const s=`${(null==e?void 0:e[0])||""}${(null==t?void 0:t[0])||""}`;return(0,i.jsxs)("div",Object.assign({"data-testid":"user_pill",className:it},{children:[(0,i.jsx)("span",Object.assign({"data-testid":"user_avatar",className:st},{children:s})),(0,i.jsx)("span",{children:n})]}))},at=()=>{const{t:e}=(0,s.useContext)(le),{user:t}=(()=>{const{apiHost:e}=(0,s.useContext)(le),{isLoading:t,error:n,data:i}=te(["CurrentUser"],(()=>tt({apiHost:e})));return{isAuthenticated:!!i&&!n,isLoading:t,user:i}})();return t?(0,i.jsxs)("div",Object.assign({"data-testid":"user_info",className:nt},{children:[e(ae.Z.OOPS.SIGNED_IN_AS),(0,i.jsx)(rt,{firstName:t.firstName,lastName:t.lastName,email:t.email})]})):null},ot="_1Ivh0w_sChfeFim3NtTJtk",lt="_3QJZ1aNmbRTroO8BwQpEnU",ct="z6oc6QGfbwob2SMpLbhKn",dt="_3aydo-8p6riD09OMJ2-wd",ut=({errorCode:e})=>(0,i.jsxs)("section",Object.assign({"data-testid":"error_page",className:ot},{children:[(0,i.jsx)("div",Object.assign({className:lt},{children:(0,i.jsx)(xe,{errorCode:e})})),(0,i.jsxs)("footer",Object.assign({className:ct},{children:[(0,i.jsx)("a",Object.assign({href:"https://matterport.com",target:"_blank"},{children:(0,i.jsx)("img",{src:se,alt:"Matterport logo",width:"178",height:"30",className:dt})})),(0,i.jsx)(at,{})]}))]}));function ht({apiHost:e,errorCode:t=re.GENERIC,t:n=(e=>e)}){const s={apiHost:e,errorCode:t,t:n};return(0,i.jsx)(ee,{children:(0,i.jsx)(le.Provider,Object.assign({value:s},{children:(0,i.jsx)(ut,{errorCode:t})}))})}},73123:(e,t,n)=>{"use strict";function i(e={},t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}n.d(t,{q:()=>i})},88931:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});class i{constructor(){this.libraryCache=new Map}load(e,t){const n=this.libraryCache.get(e)||new s(e,t);return this.libraryCache.set(e,n),n.library}}class s{constructor(e,t){this._libraryPromise=new Promise(((e,t)=>{this.libraryResolver=e,this.libraryRejecter=t})),this.fetch(e,t)}async fetch(e,t){try{const n=await import(e),i=Object.assign({},n);if(t&&t in window){const e=window[t]||{};Object.assign(i,e),delete window[t]}this.libraryResolver(i)}catch(e){this.libraryRejecter(e)}}get library(){return this._libraryPromise}}},81346:(e,t,n)=>{"use strict";var i;n.d(t,{e:()=>i,f:()=>s}),function(e){e.i360="360",e.AddLink="add-link",e.Arrow="arrow",e.Arrows="arrows",e.Attach="attach",e.Back="back",e.Blocked="blocked",e.BlurOutline="blur-outline",e.BrushOutline="brush-outline",e.Checkmark="checkmark",e.ChevronLeft="chevron-left",e.ChevronRight="chevron-right",e.Close="close",e.CommentLarge="comment-large",e.CommentOutline="comment-outline",e.Comment="comment",e.Delete="delete",e.Dock="dock",e.Dollhouse="dollhouse",e.Door="door",e.Download="download",e.DpadDown="dpad-down",e.DpadLeft="dpad-left",e.DpadRight="dpad-right",e.DpadUp="dpad-up",e.DragEdit="drag-edit",e.DrawLines="draw-lines",e.EditFloorplan="edit-floorplan",e.Email="email",e.Error="error",e.EscapeKey="escape-key",e.Expand="expand",e.ExtLink="ext-link",e.EyeHide="eye-hide",e.EyeShow="eye-show",e.Facebook="facebook",e.File="file",e.Filter="filter",e.FingerDrag="finger-drag",e.FloorControlsAll="floor-controls-all",e.FloorControls="floor-controls",e.Floorplan="floorplan",e.FullscreenExit="fullscreen-exit",e.Fullscreen="fullscreen",e.Fullscreen2="fullscreen2",e.Help="help",e.HlrBadge="hlr-badge",e.Hlr="hlr",e.Info="info",e.InvisibleWall="invisible-wall",e.Keyboard="keyboard",e.Layers="layers",e.Link="link",e.Linkedin="linkedin",e.List="list",e.Location="location",e.MagnifyingGlass="magnifying-glass",e.MediaMix="media-mix",e.MenuIndicator="menu-indicator",e.MeshTrim="mesh-trim",e.Mesh="mesh",e.Minus="minus",e.MoreVert="more-vert",e.Notes="notes",e.ObjectAirDucts="object-air-ducts",e.ObjectBathtub="object-bathtub",e.ObjectBed="object-bed",e.ObjectCabinet="object-cabinet",e.ObjectCeilingFan="object-ceiling-fan",e.ObjectChair="object-chair",e.ObjectCountertop="object-countertop",e.ObjectDishwasher="object-dishwasher",e.ObjectDoorLock="object-door-lock",e.ObjectDoor="object-door",e.ObjectFaucet="object-faucet",e.ObjectFireplace="object-fireplace",e.ObjectGarageDoor="object-garage-door",e.ObjectKitchenIsland="object-kitchen-island",e.ObjectLight="object-light",e.ObjectMicrowave="object-microwave",e.ObjectMirror="object-mirror",e.ObjectOutlet="object-outlet",e.ObjectOven="object-oven",e.ObjectRangeHood="object-range-hood",e.ObjectRange="object-range",e.ObjectRefrigerator="object-refrigerator",e.ObjectShower="object-shower",e.ObjectSink="object-sink",e.ObjectSkylight="object-skylight",e.ObjectSmokeDetector="object-smoke-detector",e.ObjectSofa="object-sofa",e.ObjectTable="object-table",e.ObjectTelevision="object-television",e.ObjectThermostat="object-thermostat",e.ObjectToilet="object-toilet",e.ObjectTowelRack="object-towel-rack",e.ObjectVanity="object-vanity",e.ObjectWallSwitch="object-wall-switch",e.ObjectWasherDryer="object-washer-dryer",e.ObjectWindow="object-window",e.Opening="opening",e.PanoramaDisable="panorama-disable",e.Panorama="panorama",e.PaperClip="paper-clip",e.PauseOutline="pause-outline",e.Pause="pause",e.Photo_2d="photo-2d",e.Photo_360="photo-360",e.PhotoAdd="photo-add",e.Pin="pin",e.Pinterest="pinterest",e.PlayUnicode="play-unicode",e.Play="play",e.Plus="plus",e.Position_3d="position-3d",e.PressHold="press-hold",e.PublicBuildingsApartment="public_buildings_apartment",e.PublicBuildingsArchway="public_buildings_archway",e.PublicBuildingsBuildingCircleArrowRight="public_buildings_building-circle-arrow-right",e.PublicBuildingsBuildingCircleCheck="public_buildings_building-circle-check",e.PublicBuildingsBuildingCircleExclamation="public_buildings_building-circle-exclamation",e.PublicBuildingsBuildingCircleXmark="public_buildings_building-circle-xmark",e.PublicBuildingsBuildingColumns="public_buildings_building-columns",e.PublicBuildingsBuildingFlag="public_buildings_building-flag",e.PublicBuildingsBuildingLock="public_buildings_building-lock",e.PublicBuildingsBuildingShield="public_buildings_building-shield",e.PublicBuildingsBuildingUser="public_buildings_building-user",e.PublicBuildingsBuildingWheat="public_buildings_building-wheat",e.PublicBuildingsBuilding="public_buildings_building",e.PublicBuildingsBuildings="public_buildings_buildings",e.PublicBuildingsCabin="public_buildings_cabin",e.PublicBuildingsCampground="public_buildings_campground",e.PublicBuildingsCarBuilding="public_buildings_car-building",e.PublicBuildingsCastle="public_buildings_castle",e.PublicBuildingsChimney="public_buildings_chimney",e.PublicBuildingsChurch="public_buildings_church",e.PublicBuildingsCity="public_buildings_city",e.PublicBuildingsFarm="public_buildings_farm",e.PublicBuildingsFence="public_buildings_fence",e.PublicBuildingsFerrisWheel="public_buildings_ferris-wheel",e.PublicBuildingsFort="public_buildings_fort",e.PublicBuildingsGarage="public_buildings_garage",e.PublicBuildingsHospital="public_buildings_hospital",e.PublicBuildingsHotel="public_buildings_hotel",e.PublicBuildingsHouseBuilding="public_buildings_house-building",e.PublicBuildingsHouseCrack="public_buildings_house-crack",e.PublicBuildingsHouseDay="public_buildings_house-day",e.PublicBuildingsHouseFire="public_buildings_house-fire",e.PublicBuildingsHouseFlag="public_buildings_house-flag",e.PublicBuildingsHouseFloodWater="public_buildings_house-flood-water",e.PublicBuildingsHouseHeart="public_buildings_house-heart",e.PublicBuildingsHouseLock="public_buildings_house-lock",e.PublicBuildingsHouseMedical="public_buildings_house-medical",e.PublicBuildingsHouseNight="public_buildings_house-night",e.PublicBuildingsHouse="public_buildings_house",e.PublicBuildingsIndustry="public_buildings_industry",e.PublicBuildingsLandmark="public_buildings_landmark",e.PublicBuildingsMonument="public_buildings_monument",e.PublicBuildingsMosque="public_buildings_mosque",e.PublicBuildingsMountainCity="public_buildings_mountain-city",e.PublicBuildingsPlaceOfWorship="public_buildings_place-of-worship",e.PublicBuildingsRollerCoaster="public_buildings_roller-coaster",e.PublicBuildingsSchool="public_buildings_school",e.PublicBuildingsStore="public_buildings_store",e.PublicBuildingsSynagogue="public_buildings_synagogue",e.PublicBuildingsTent="public_buildings_tent",e.PublicBuildingsToilet="public_buildings_toilet",e.PublicBuildingsToriiGate="public_buildings_torii-gate",e.PublicBuildingsTowerObservation="public_buildings_tower-observation",e.PublicBuildingsTree="public_buildings_tree",e.PublicBuildingsWarehouse="public_buildings_warehouse",e.PublicCharacters_0="public_characters_0",e.PublicCharacters_1="public_characters_1",e.PublicCharacters_2="public_characters_2",e.PublicCharacters_3="public_characters_3",e.PublicCharacters_4="public_characters_4",e.PublicCharacters_5="public_characters_5",e.PublicCharacters_6="public_characters_6",e.PublicCharacters_7="public_characters_7",e.PublicCharacters_8="public_characters_8",e.PublicCharacters_9="public_characters_9",e.PublicCharactersA="public_characters_a",e.PublicCharactersB="public_characters_b",e.PublicCharactersC="public_characters_c",e.PublicCharactersCircle_0="public_characters_circle-0",e.PublicCharactersCircle_1="public_characters_circle-1",e.PublicCharactersCircle_2="public_characters_circle-2",e.PublicCharactersCircle_3="public_characters_circle-3",e.PublicCharactersCircle_4="public_characters_circle-4",e.PublicCharactersCircle_5="public_characters_circle-5",e.PublicCharactersCircle_6="public_characters_circle-6",e.PublicCharactersCircle_7="public_characters_circle-7",e.PublicCharactersCircle_8="public_characters_circle-8",e.PublicCharactersCircle_9="public_characters_circle-9",e.PublicCharactersCircleA="public_characters_circle-a",e.PublicCharactersCircleB="public_characters_circle-b",e.PublicCharactersCircleC="public_characters_circle-c",e.PublicCharactersCircleD="public_characters_circle-d",e.PublicCharactersCircleE="public_characters_circle-e",e.PublicCharactersCircleF="public_characters_circle-f",e.PublicCharactersCircleG="public_characters_circle-g",e.PublicCharactersCircleH="public_characters_circle-h",e.PublicCharactersCircleI="public_characters_circle-i",e.PublicCharactersCircleJ="public_characters_circle-j",e.PublicCharactersCircleK="public_characters_circle-k",e.PublicCharactersCircleL="public_characters_circle-l",e.PublicCharactersCircleM="public_characters_circle-m",e.PublicCharactersCircleN="public_characters_circle-n",e.PublicCharactersCircleO="public_characters_circle-o",e.PublicCharactersCircleP="public_characters_circle-p",e.PublicCharactersCircleQ="public_characters_circle-q",e.PublicCharactersCircleR="public_characters_circle-r",e.PublicCharactersCircleS="public_characters_circle-s",e.PublicCharactersCircleT="public_characters_circle-t",e.PublicCharactersCircleU="public_characters_circle-u",e.PublicCharactersCircleV="public_characters_circle-v",e.PublicCharactersCircleW="public_characters_circle-w",e.PublicCharactersCircleX="public_characters_circle-x",e.PublicCharactersCircleY="public_characters_circle-y",e.PublicCharactersCircleZ="public_characters_circle-z",e.PublicCharactersD="public_characters_d",e.PublicCharactersE="public_characters_e",e.PublicCharactersF="public_characters_f",e.PublicCharactersG="public_characters_g",e.PublicCharactersH="public_characters_h",e.PublicCharactersI="public_characters_i",e.PublicCharactersJ="public_characters_j",e.PublicCharactersK="public_characters_k",e.PublicCharactersL="public_characters_l",e.PublicCharactersM="public_characters_m",e.PublicCharactersN="public_characters_n",e.PublicCharactersO="public_characters_o",e.PublicCharactersP="public_characters_p",e.PublicCharactersQ="public_characters_q",e.PublicCharactersR="public_characters_r",e.PublicCharactersS="public_characters_s",e.PublicCharactersSquare_0="public_characters_square-0",e.PublicCharactersSquare_1="public_characters_square-1",e.PublicCharactersSquare_2="public_characters_square-2",e.PublicCharactersSquare_3="public_characters_square-3",e.PublicCharactersSquare_4="public_characters_square-4",e.PublicCharactersSquare_5="public_characters_square-5",e.PublicCharactersSquare_6="public_characters_square-6",e.PublicCharactersSquare_7="public_characters_square-7",e.PublicCharactersSquare_8="public_characters_square-8",e.PublicCharactersSquare_9="public_characters_square-9",e.PublicCharactersSquareA="public_characters_square-a",e.PublicCharactersSquareB="public_characters_square-b",e.PublicCharactersSquareC="public_characters_square-c",e.PublicCharactersSquareD="public_characters_square-d",e.PublicCharactersSquareE="public_characters_square-e",e.PublicCharactersSquareF="public_characters_square-f",e.PublicCharactersSquareG="public_characters_square-g",e.PublicCharactersSquareH="public_characters_square-h",e.PublicCharactersSquareI="public_characters_square-i",e.PublicCharactersSquareJ="public_characters_square-j",e.PublicCharactersSquareK="public_characters_square-k",e.PublicCharactersSquareL="public_characters_square-l",e.PublicCharactersSquareM="public_characters_square-m",e.PublicCharactersSquareN="public_characters_square-n",e.PublicCharactersSquareO="public_characters_square-o",e.PublicCharactersSquareP="public_characters_square-p",e.PublicCharactersSquareQ="public_characters_square-q",e.PublicCharactersSquareR="public_characters_square-r",e.PublicCharactersSquareS="public_characters_square-s",e.PublicCharactersSquareT="public_characters_square-t",e.PublicCharactersSquareU="public_characters_square-u",e.PublicCharactersSquareV="public_characters_square-v",e.PublicCharactersSquareW="public_characters_square-w",e.PublicCharactersSquareX="public_characters_square-x",e.PublicCharactersSquareXmark="public_characters_square-xmark",e.PublicCharactersSquareY="public_characters_square-y",e.PublicCharactersSquareZ="public_characters_square-z",e.PublicCharactersT="public_characters_t",e.PublicCharactersU="public_characters_u",e.PublicCharactersV="public_characters_v",e.PublicCharactersW="public_characters_w",e.PublicCharactersX="public_characters_x",e.PublicCharactersY="public_characters_y",e.PublicCharactersZ="public_characters_z",e.PublicFurnitureBath="public_furniture_bath",e.PublicFurnitureBedAlt="public_furniture_bed-alt",e.PublicFurnitureBedBunk="public_furniture_bed-bunk",e.PublicFurnitureBedEmpty="public_furniture_bed-empty",e.PublicFurnitureBed="public_furniture_bed",e.PublicFurnitureBlender="public_furniture_blender",e.PublicFurnitureBlinds="public_furniture_blinds",e.PublicFurnitureCabinetFiling="public_furniture_cabinet-filing",e.PublicFurnitureCashRegister="public_furniture_cash-register",e.PublicFurnitureChairOffice="public_furniture_chair-office",e.PublicFurnitureChair="public_furniture_chair",e.PublicFurnitureChargingStation="public_furniture_charging-station",e.PublicFurnitureComputerClassic="public_furniture_computer-classic",e.PublicFurnitureComputerSpeaker="public_furniture_computer-speaker",e.PublicFurnitureCouch="public_furniture_couch",e.PublicFurnitureDryerAlt="public_furniture_dryer-alt",e.PublicFurnitureDryer="public_furniture_dryer",e.PublicFurnitureDumbbell="public_furniture_dumbbell",e.PublicFurnitureDumpster="public_furniture_dumpster",e.PublicFurnitureFaucet="public_furniture_faucet",e.PublicFurnitureFax="public_furniture_fax",e.PublicFurnitureHotTub="public_furniture_hot-tub",e.PublicFurnitureInventory="public_furniture_inventory",e.PublicFurnitureLampDesk="public_furniture_lamp-desk",e.PublicFurnitureLampFloor="public_furniture_lamp-floor",e.PublicFurnitureLamp="public_furniture_lamp",e.PublicFurnitureLaptop="public_furniture_laptop",e.PublicFurnitureLightCeiling="public_furniture_light-ceiling",e.PublicFurnitureLoveseat="public_furniture_loveseat",e.PublicFurnitureMicrowave="public_furniture_microwave",e.PublicFurniturePiano="public_furniture_piano",e.PublicFurniturePodium="public_furniture_podium",e.PublicFurniturePresentation="public_furniture_presentation",e.PublicFurnitureProjector="public_furniture_projector",e.PublicFurnitureRadio="public_furniture_radio",e.PublicFurnitureRefrigerator="public_furniture_refrigerator",e.PublicFurnitureShower="public_furniture_shower",e.PublicFurnitureShredder="public_furniture_shredder",e.PublicFurnitureSink="public_furniture_sink",e.PublicFurnitureSolarPanel="public_furniture_solar-panel",e.PublicFurnitureSpeaker="public_furniture_speaker",e.PublicFurnitureSpeakers="public_furniture_speakers",e.PublicFurnitureToilet="public_furniture_toilet",e.PublicFurnitureTrashAlt="public_furniture_trash-alt",e.PublicFurnitureTurntable="public_furniture_turntable",e.PublicFurnitureTvRetro="public_furniture_tv-retro",e.PublicFurnitureTv="public_furniture_tv",e.PublicFurnitureTypewriter="public_furniture_typewriter",e.PublicObjectsAbacus="public_objects_abacus",e.PublicObjectsAlarmClock="public_objects_alarm-clock",e.PublicObjectsAlbumCollection="public_objects_album-collection",e.PublicObjectsBackpack="public_objects_backpack",e.PublicObjectsBagsShopping="public_objects_bags-shopping",e.PublicObjectsBell="public_objects_bell",e.PublicObjectsBicycle="public_objects_bicycle",e.PublicObjectsBinoculars="public_objects_binoculars",e.PublicObjectsBlanket="public_objects_blanket",e.PublicObjectsBook="public_objects_book",e.PublicObjectsBooks="public_objects_books",e.PublicObjectsBoot="public_objects_boot",e.PublicObjectsBox="public_objects_box",e.PublicObjectsBreadLoaf="public_objects_bread-loaf",e.PublicObjectsBriefcaseMedical="public_objects_briefcase-medical",e.PublicObjectsBriefcase="public_objects_briefcase",e.PublicObjectsBroom="public_objects_broom",e.PublicObjectsBrush="public_objects_brush",e.PublicObjectsBullhorn="public_objects_bullhorn",e.PublicObjectsBurgerSoda="public_objects_burger-soda",e.PublicObjectsCalculator="public_objects_calculator",e.PublicObjectsCalendar="public_objects_calendar",e.PublicObjectsCamera="public_objects_camera",e.PublicObjectsCar="public_objects_car",e.PublicObjectsCarrot="public_objects_carrot",e.PublicObjectsCheeseSwiss="public_objects_cheese-swiss",e.PublicObjectsChess="public_objects_chess",e.PublicObjectsClipboardCheck="public_objects_clipboard-check",e.PublicObjectsClipboardList="public_objects_clipboard-list",e.PublicObjectsClipboard="public_objects_clipboard",e.PublicObjectsCoffeePot="public_objects_coffee-pot",e.PublicObjectsCompass="public_objects_compass",e.PublicObjectsCookie="public_objects_cookie",e.PublicObjectsCorn="public_objects_corn",e.PublicObjectsCroissant="public_objects_croissant",e.PublicObjectsDice="public_objects_dice",e.PublicObjectsDrumstick="public_objects_drumstick",e.PublicObjectsEgg="public_objects_egg",e.PublicObjectsFish="public_objects_fish",e.PublicObjectsFlask="public_objects_flask",e.PublicObjectsFlowerTulip="public_objects_flower-tulip",e.PublicObjectsGamepad="public_objects_gamepad",e.PublicObjectsGem="public_objects_gem",e.PublicObjectsGift="public_objects_gift",e.PublicObjectsGifts="public_objects_gifts",e.PublicObjectsGlassCitrus="public_objects_glass-citrus",e.PublicObjectsGlass="public_objects_glass",e.PublicObjectsGlasses="public_objects_glasses",e.PublicObjectsGlobeStand="public_objects_globe-stand",e.PublicObjectsGraduationCap="public_objects_graduation-cap",e.PublicObjectsGuitar="public_objects_guitar",e.PublicObjectsHammer="public_objects_hammer",e.PublicObjectsHatChef="public_objects_hat-chef",e.PublicObjectsIceCream="public_objects_ice-cream",e.PublicObjectsIceSkate="public_objects_ice-skate",e.PublicObjectsKey="public_objects_key",e.PublicObjectsKnifeKitchen="public_objects_knife-kitchen",e.PublicObjectsLightbulbOn="public_objects_lightbulb-on",e.PublicObjectsLightbulbSlash="public_objects_lightbulb-slash",e.PublicObjectsLightbulb="public_objects_lightbulb",e.PublicObjectsMagnet="public_objects_magnet",e.PublicObjectsMailbox="public_objects_mailbox",e.PublicObjectsMap="public_objects_map",e.PublicObjectsMeat="public_objects_meat",e.PublicObjectsMedal="public_objects_medal",e.PublicObjectsMicrophone="public_objects_microphone",e.PublicObjectsMobile="public_objects_mobile",e.PublicObjectsMoneyBillWave="public_objects_money-bill-wave",e.PublicObjectsMugTea="public_objects_mug-tea",e.PublicObjectsMug="public_objects_mug",e.PublicObjectsNewspaper="public_objects_newspaper",e.PublicObjectsPaintRoller="public_objects_paint-roller",e.PublicObjectsPalette="public_objects_palette",e.PublicObjectsPen="public_objects_pen",e.PublicObjectsPhone="public_objects_phone",e.PublicObjectsPizzaSlice="public_objects_pizza-slice",e.PublicObjectsPumpSoap="public_objects_pump-soap",e.PublicObjectsRulerTriangle="public_objects_ruler-triangle",e.PublicObjectsRuler="public_objects_ruler",e.PublicObjectsSalad="public_objects_salad",e.PublicObjectsSandwich="public_objects_sandwich",e.PublicObjectsShovel="public_objects_shovel",e.PublicObjectsSteak="public_objects_steak",e.PublicObjectsSunglasses="public_objects_sunglasses",e.PublicObjectsTurkey="public_objects_turkey",e.PublicObjectsUtensils="public_objects_utensils",e.PublicObjectsVial="public_objects_vial",e.PublicObjectsWallet="public_objects_wallet",e.PublicObjectsWrench="public_objects_wrench",e.PublicPeopleBaby="public_people_baby",e.PublicPeopleChildDress="public_people_child-dress",e.PublicPeopleChildReaching="public_people_child-reaching",e.PublicPeopleChild="public_people_child",e.PublicPeopleChildren="public_people_children",e.PublicPeopleCircleUser="public_people_circle-user",e.PublicPeopleClipboardUser="public_people_clipboard-user",e.PublicPeopleFaceAngry="public_people_face-angry",e.PublicPeopleFaceAnguished="public_people_face-anguished",e.PublicPeopleFaceAstonished="public_people_face-astonished",e.PublicPeopleFaceBeamHandOverMouth="public_people_face-beam-hand-over-mouth",e.PublicPeopleFaceConfounded="public_people_face-confounded",e.PublicPeopleFaceConfused="public_people_face-confused",e.PublicPeopleFaceDiagonalMouth="public_people_face-diagonal-mouth",e.PublicPeopleFaceDisappointed="public_people_face-disappointed",e.PublicPeopleFaceDizzy="public_people_face-dizzy",e.PublicPeopleFaceExpressionless="public_people_face-expressionless",e.PublicPeopleFaceEyesXmarks="public_people_face-eyes-xmarks",e.PublicPeopleFaceFearful="public_people_face-fearful",e.PublicPeopleFaceFrownSlight="public_people_face-frown-slight",e.PublicPeopleFaceFrown="public_people_face-frown",e.PublicPeopleFaceGlasses="public_people_face-glasses",e.PublicPeopleFaceGrimace="public_people_face-grimace",e.PublicPeopleFaceGrinBeamSweat="public_people_face-grin-beam-sweat",e.PublicPeopleFaceGrinBeam="public_people_face-grin-beam",e.PublicPeopleFaceGrinHearts="public_people_face-grin-hearts",e.PublicPeopleFaceGrinSquintTears="public_people_face-grin-squint-tears",e.PublicPeopleFaceGrinSquint="public_people_face-grin-squint",e.PublicPeopleFaceGrinStars="public_people_face-grin-stars",e.PublicPeopleFaceGrinTears="public_people_face-grin-tears",e.PublicPeopleFaceGrinTongueSquint="public_people_face-grin-tongue-squint",e.PublicPeopleFaceGrinTongueWink="public_people_face-grin-tongue-wink",e.PublicPeopleFaceGrinTongue="public_people_face-grin-tongue",e.PublicPeopleFaceGrinWide="public_people_face-grin-wide",e.PublicPeopleFaceGrinWink="public_people_face-grin-wink",e.PublicPeopleFaceGrin="public_people_face-grin",e.PublicPeopleFaceHandOverMouth="public_people_face-hand-over-mouth",e.PublicPeopleFaceHushed="public_people_face-hushed",e.PublicPeopleFaceIcicles="public_people_face-icicles",e.PublicPeopleFaceKiss="public_people_face-kiss",e.PublicPeopleFaceLaugh="public_people_face-laugh",e.PublicPeopleFaceMask="public_people_face-mask",e.PublicPeopleFaceMehBlank="public_people_face-meh-blank",e.PublicPeopleFaceMeh="public_people_face-meh",e.PublicPeopleFaceMonocle="public_people_face-monocle",e.PublicPeopleFaceNauseated="public_people_face-nauseated",e.PublicPeopleFaceParty="public_people_face-party",e.PublicPeopleFacePensive="public_people_face-pensive",e.PublicPeopleFacePersevering="public_people_face-persevering",e.PublicPeopleFacePleading="public_people_face-pleading",e.PublicPeopleFacePouting="public_people_face-pouting",e.PublicPeopleFaceRaisedEyebrow="public_people_face-raised-eyebrow",e.PublicPeopleFaceRelieved="public_people_face-relieved",e.PublicPeopleFaceRollingEyes="public_people_face-rolling-eyes",e.PublicPeopleFaceSadCry="public_people_face-sad-cry",e.PublicPeopleFaceSadSweat="public_people_face-sad-sweat",e.PublicPeopleFaceSadTear="public_people_face-sad-tear",e.PublicPeopleFaceScream="public_people_face-scream",e.PublicPeopleFaceSleeping="public_people_face-sleeping",e.PublicPeopleFaceSleepy="public_people_face-sleepy",e.PublicPeopleFaceSmileBeam="public_people_face-smile-beam",e.PublicPeopleFaceSmileHalo="public_people_face-smile-halo",e.PublicPeopleFaceSmileHearts="public_people_face-smile-hearts",e.PublicPeopleFaceSmileRelaxed="public_people_face-smile-relaxed",e.PublicPeopleFaceSmileUpsideDown="public_people_face-smile-upside-down",e.PublicPeopleFaceSmileWink="public_people_face-smile-wink",e.PublicPeopleFaceSmile="public_people_face-smile",e.PublicPeopleFaceSmirking="public_people_face-smirking",e.PublicPeopleFaceSpiralEyes="public_people_face-spiral-eyes",e.PublicPeopleFaceSunglasses="public_people_face-sunglasses",e.PublicPeopleFaceSurprise="public_people_face-surprise",e.PublicPeopleFaceThermometer="public_people_face-thermometer",e.PublicPeopleFaceThinking="public_people_face-thinking",e.PublicPeopleFaceTired="public_people_face-tired",e.PublicPeopleFaceTissue="public_people_face-tissue",e.PublicPeopleFaceUnamused="public_people_face-unamused",e.PublicPeopleFaceVomit="public_people_face-vomit",e.PublicPeopleFaceWeary="public_people_face-weary",e.PublicPeopleFaceWoozy="public_people_face-woozy",e.PublicPeopleFaceWorried="public_people_face-worried",e.PublicPeopleFaceZipper="public_people_face-zipper",e.PublicPeopleFamilyDress="public_people_family-dress",e.PublicPeopleFamilyPants="public_people_family-pants",e.PublicPeopleFamily="public_people_family",e.PublicPeopleFileUser="public_people_file-user",e.PublicPeopleFolderUser="public_people_folder-user",e.PublicPeopleHeadSideBrain="public_people_head-side-brain",e.PublicPeopleHeadSideCoughSlash="public_people_head-side-cough-slash",e.PublicPeopleHeadSideCough="public_people_head-side-cough",e.PublicPeopleHeadSideGoggles="public_people_head-side-goggles",e.PublicPeopleHeadSideHeadphones="public_people_head-side-headphones",e.PublicPeopleHeadSideHeart="public_people_head-side-heart",e.PublicPeopleHeadSideMask="public_people_head-side-mask",e.PublicPeopleHeadSideMedical="public_people_head-side-medical",e.PublicPeopleHeadSideVirus="public_people_head-side-virus",e.PublicPeopleHeadSide="public_people_head-side",e.PublicPeoplePeople="public_people_people",e.PublicPeoplePersonBiking="public_people_person-biking",e.PublicPeoplePersonBooth="public_people_person-booth",e.PublicPeoplePersonBreastfeeding="public_people_person-breastfeeding",e.PublicPeoplePersonCane="public_people_person-cane",e.PublicPeoplePersonCarryBox="public_people_person-carry-box",e.PublicPeoplePersonDigging="public_people_person-digging",e.PublicPeoplePersonDollyEmpty="public_people_person-dolly-empty",e.PublicPeoplePersonDolly="public_people_person-dolly",e.PublicPeoplePersonDress="public_people_person-dress",e.PublicPeoplePersonDrowning="public_people_person-drowning",e.PublicPeoplePersonFalling="public_people_person-falling",e.PublicPeoplePersonHalfDress="public_people_person-half-dress",e.PublicPeoplePersonHiking="public_people_person-hiking",e.PublicPeoplePersonMilitaryPointing="public_people_person-military-pointing",e.PublicPeoplePersonPinball="public_people_person-pinball",e.PublicPeoplePersonPraying="public_people_person-praying",e.PublicPeoplePersonPregnant="public_people_person-pregnant",e.PublicPeoplePersonRunning="public_people_person-running",e.PublicPeoplePersonSeatReclined="public_people_person-seat-reclined",e.PublicPeoplePersonSeat="public_people_person-seat",e.PublicPeoplePersonShelter="public_people_person-shelter",e.PublicPeoplePersonSkating="public_people_person-skating",e.PublicPeoplePersonSkiing="public_people_person-skiing",e.PublicPeoplePersonSwimming="public_people_person-swimming",e.PublicPeoplePersonToDoor="public_people_person-to-door",e.PublicPeoplePersonWalkingLuggage="public_people_person-walking-luggage",e.PublicPeoplePersonWalkingWithCane="public_people_person-walking-with-cane",e.PublicPeoplePersonWalking="public_people_person-walking",e.PublicPeoplePerson="public_people_person",e.PublicPeopleRestroom="public_people_restroom",e.PublicPeopleSquareUser="public_people_square-user",e.PublicPeopleStreetView="public_people_street-view",e.PublicPeopleUserAstronaut="public_people_user-astronaut",e.PublicPeopleUserCheck="public_people_user-check",e.PublicPeopleUserChef="public_people_user-chef",e.PublicPeopleUserClock="public_people_user-clock",e.PublicPeopleUserCowboy="public_people_user-cowboy",e.PublicPeopleUserCrown="public_people_user-crown",e.PublicPeopleUserDoctor="public_people_user-doctor",e.PublicPeopleUserGear="public_people_user-gear",e.PublicPeopleUserGraduate="public_people_user-graduate",e.PublicPeopleUserGroup="public_people_user-group",e.PublicPeopleUserHeadset="public_people_user-headset",e.PublicPeopleUserHelmetSafety="public_people_user-helmet-safety",e.PublicPeopleUserInjured="public_people_user-injured",e.PublicPeopleUserLarge="public_people_user-large",e.PublicPeopleUserLock="public_people_user-lock",e.PublicPeopleUserMinus="public_people_user-minus",e.PublicPeopleUserMusic="public_people_user-music",e.PublicPeopleUserNurse="public_people_user-nurse",e.PublicPeopleUserPen="public_people_user-pen",e.PublicPeopleUserPilot="public_people_user-pilot",e.PublicPeopleUserPlus="public_people_user-plus",e.PublicPeopleUserPolice="public_people_user-police",e.PublicPeopleUserShield="public_people_user-shield",e.PublicPeopleUserSlash="public_people_user-slash",e.PublicPeopleUserUnlock="public_people_user-unlock",e.PublicPeopleUser="public_people_user",e.PublicPeopleUsers="public_people_users",e.PublicPeopleWheelchair="public_people_wheelchair",e.PublicSymbolsArrowAltCircleDown="public_symbols_arrow-alt-circle-down",e.PublicSymbolsArrowAltCircleLeft="public_symbols_arrow-alt-circle-left",e.PublicSymbolsArrowAltCircleRight="public_symbols_arrow-alt-circle-right",e.PublicSymbolsArrowAltCircleUp="public_symbols_arrow-alt-circle-up",e.PublicSymbolsArrowAltDown="public_symbols_arrow-alt-down",e.PublicSymbolsArrowAltLeft="public_symbols_arrow-alt-left",e.PublicSymbolsArrowAltRight="public_symbols_arrow-alt-right",e.PublicSymbolsArrowAltUp="public_symbols_arrow-alt-up",e.PublicSymbolsAward="public_symbols_award",e.PublicSymbolsBadgeCheck="public_symbols_badge-check",e.PublicSymbolsBadgeDollar="public_symbols_badge-dollar",e.PublicSymbolsBadge="public_symbols_badge",e.PublicSymbolsBan="public_symbols_ban",e.PublicSymbolsBell="public_symbols_bell",e.PublicSymbolsBoltSlash="public_symbols_bolt-slash",e.PublicSymbolsBolt="public_symbols_bolt",e.PublicSymbolsBookmark="public_symbols_bookmark",e.PublicSymbolsCheckCircle="public_symbols_check-circle",e.PublicSymbolsCheck="public_symbols_check",e.PublicSymbolsCircle="public_symbols_circle",e.PublicSymbolsClock="public_symbols_clock",e.PublicSymbolsClub="public_symbols_club",e.PublicSymbolsCube="public_symbols_cube",e.PublicSymbolsCubes="public_symbols_cubes",e.PublicSymbolsDeaf="public_symbols_deaf",e.PublicSymbolsDiamond="public_symbols_diamond",e.PublicSymbolsDollarSign="public_symbols_dollar-sign",e.PublicSymbolsExclamationCircle="public_symbols_exclamation-circle",e.PublicSymbolsExclamationSquare="public_symbols_exclamation-square",e.PublicSymbolsExclamationTriangle="public_symbols_exclamation-triangle",e.PublicSymbolsExclamation="public_symbols_exclamation",e.PublicSymbolsEyeSlash="public_symbols_eye-slash",e.PublicSymbolsEye="public_symbols_eye",e.PublicSymbolsFile="public_symbols_file",e.PublicSymbolsFingerprint="public_symbols_fingerprint",e.PublicSymbolsFireAlt="public_symbols_fire-alt",e.PublicSymbolsFlagAlt="public_symbols_flag-alt",e.PublicSymbolsFolder="public_symbols_folder",e.PublicSymbolsGenderless="public_symbols_genderless",e.PublicSymbolsHeart="public_symbols_heart",e.PublicSymbolsHexagon="public_symbols_hexagon",e.PublicSymbolsHourglass="public_symbols_hourglass",e.PublicSymbolsImage="public_symbols_image",e.PublicSymbolsInfoCircle="public_symbols_info-circle",e.PublicSymbolsInfoSquare="public_symbols_info-square",e.PublicSymbolsLayerGroup="public_symbols_layer-group",e.PublicSymbolsLink="public_symbols_link",e.PublicSymbolsLocationArrow="public_symbols_location-arrow",e.PublicSymbolsLockOpen="public_symbols_lock-open",e.PublicSymbolsLock="public_symbols_lock",e.PublicSymbolsMapMarkerAlt="public_symbols_map-marker-alt",e.PublicSymbolsMapMarkerCheck="public_symbols_map-marker-check",e.PublicSymbolsMapMarkerExclamation="public_symbols_map-marker-exclamation",e.PublicSymbolsMapMarkerMinus="public_symbols_map-marker-minus",e.PublicSymbolsMapMarkerPlus="public_symbols_map-marker-plus",e.PublicSymbolsMapMarkerQuestion="public_symbols_map-marker-question",e.PublicSymbolsMapMarkerSmile="public_symbols_map-marker-smile",e.PublicSymbolsMars="public_symbols_mars",e.PublicSymbolsMoon="public_symbols_moon",e.PublicSymbolsOctagon="public_symbols_octagon",e.PublicSymbolsPaperclip="public_symbols_paperclip",e.PublicSymbolsParkingCircle="public_symbols_parking-circle",e.PublicSymbolsParking="public_symbols_parking",e.PublicSymbolsPause="public_symbols_pause",e.PublicSymbolsPlay="public_symbols_play",e.PublicSymbolsQuestionCircle="public_symbols_question-circle",e.PublicSymbolsQuestionSquare="public_symbols_question-square",e.PublicSymbolsQuestion="public_symbols_question",e.PublicSymbolsRecycle="public_symbols_recycle",e.PublicSymbolsRedo="public_symbols_redo",e.PublicSymbolsShapes="public_symbols_shapes",e.PublicSymbolsShield="public_symbols_shield",e.PublicSymbolsSmokingBan="public_symbols_smoking-ban",e.PublicSymbolsSmoking="public_symbols_smoking",e.PublicSymbolsSpade="public_symbols_spade",e.PublicSymbolsSquare="public_symbols_square",e.PublicSymbolsStar="public_symbols_star",e.PublicSymbolsTachometer="public_symbols_tachometer",e.PublicSymbolsTag="public_symbols_tag",e.PublicSymbolsTemperatureDown="public_symbols_temperature-down",e.PublicSymbolsTemperatureFrigid="public_symbols_temperature-frigid",e.PublicSymbolsTemperatureHigh="public_symbols_temperature-high",e.PublicSymbolsTemperatureHot="public_symbols_temperature-hot",e.PublicSymbolsTemperatureLow="public_symbols_temperature-low",e.PublicSymbolsTemperatureUp="public_symbols_temperature-up",e.PublicSymbolsText="public_symbols_text",e.PublicSymbolsThermometerEmpty="public_symbols_thermometer-empty",e.PublicSymbolsThermometerFull="public_symbols_thermometer-full",e.PublicSymbolsThermometerHalf="public_symbols_thermometer-half",e.PublicSymbolsThermometerQuarter="public_symbols_thermometer-quarter",e.PublicSymbolsThermometerThreeQuarters="public_symbols_thermometer-three-quarters",e.PublicSymbolsThumbtack="public_symbols_thumbtack",e.PublicSymbolsTint="public_symbols_tint",e.PublicSymbolsTransgenderAlt="public_symbols_transgender-alt",e.PublicSymbolsTransgender="public_symbols_transgender",e.PublicSymbolsTrashAlt="public_symbols_trash-alt",e.PublicSymbolsTriangle="public_symbols_triangle",e.PublicSymbolsUsdCircle="public_symbols_usd-circle",e.PublicSymbolsUsdSquare="public_symbols_usd-square",e.PublicSymbolsVenusMars="public_symbols_venus-mars",e.PublicSymbolsVenus="public_symbols_venus",e.PublicSymbolsVideo="public_symbols_video",e.PublicSymbolsVolumeDown="public_symbols_volume-down",e.PublicSymbolsVolumeMute="public_symbols_volume-mute",e.PublicSymbolsVolumeOff="public_symbols_volume-off",e.PublicSymbolsVolumeSlash="public_symbols_volume-slash",e.PublicSymbolsVolumeUp="public_symbols_volume-up",e.PublicSymbolsVolume="public_symbols_volume",e.PublicSymbolsWater="public_symbols_water",e.PublicSymbolsWaveform="public_symbols_waveform",e.PublicSymbolsWifiSlash="public_symbols_wifi-slash",e.PublicSymbolsWifi="public_symbols_wifi",e.PublicSymbolsYenSign="public_symbols_yen-sign",e.Question="question",e.Reorder="reorder",e.Reply="reply",e.Restart="restart",e.Revert="revert",e.Room_00258k0mqu8750du151be805c="room-00258k0mqu8750du151be805c",e.Room_0an2rky24gb91fdnpzmbwadib="room-0an2rky24gb91fdnpzmbwadib",e.Room_0gnuunpwx63dmmqeq64aqfiyd="room-0gnuunpwx63dmmqeq64aqfiyd",e.Room_2nx6maxxpaeut7kx96fuacdzc="room-2nx6maxxpaeut7kx96fuacdzc",e.Room_4by2d70b54srbin43t5m0yh9c="room-4by2d70b54srbin43t5m0yh9c",e.Room_4gp8x21ni4i8y19r9pm4rb35a="room-4gp8x21ni4i8y19r9pm4rb35a",e.Room_4qq4e5hz84hcur7ry87uhtmua="room-4qq4e5hz84hcur7ry87uhtmua",e.Room_66psa4tqgazbnffr9huy2dnpd="room-66psa4tqgazbnffr9huy2dnpd",e.Room_91naa1k3hiim9z4mk8352enta="room-91naa1k3hiim9z4mk8352enta",e.RoomA11d2gi43h0etwedw0mx9pgwd="room-a11d2gi43h0etwedw0mx9pgwd",e.RoomAg5uphha72sak65qazgsp09yd="room-ag5uphha72sak65qazgsp09yd",e.RoomByp7pz2tmt4ff47nhfx0uwzec="room-byp7pz2tmt4ff47nhfx0uwzec",e.RoomE6md2spaqemc448pmau3azkhd="room-e6md2spaqemc448pmau3azkhd",e.RoomEi3kmtun2xpspbg3d5ff3t3zc="room-ei3kmtun2xpspbg3d5ff3t3zc",e.RoomGba8cq0s2rdfg1zdb1epwty7d="room-gba8cq0s2rdfg1zdb1epwty7d",e.RoomGe0tcan3iztta5mtgsfx99xpb="room-ge0tcan3iztta5mtgsfx99xpb",e.RoomGqqw1zac1hzg1p8622ducg3zb="room-gqqw1zac1hzg1p8622ducg3zb",e.RoomIzt39gytcbymc0qtd37nrb7xb="room-izt39gytcbymc0qtd37nrb7xb",e.RoomMultiUse="room-multi-use",e.RoomMx6e2yfk0tg0zbkbzuw5mhkda="room-mx6e2yfk0tg0zbkbzuw5mhkda",e.RoomN07hhs9gky4cgrh7q65s9rp0d="room-n07hhs9gky4cgrh7q65s9rp0d",e.RoomNqw75004dcg2bcr41047rhg6c="room-nqw75004dcg2bcr41047rhg6c",e.RoomPnf0xzq61xcegack4iai7xppd="room-pnf0xzq61xcegack4iai7xppd",e.RoomPr9h4zy7eak91f3b7un97u42c="room-pr9h4zy7eak91f3b7un97u42c",e.RoomQa21tqcsinnxde9gdmiphacza="room-qa21tqcsinnxde9gdmiphacza",e.RoomRmu8pikcye0n7n9fsu5e4acda="room-rmu8pikcye0n7n9fsu5e4acda",e.RoomS1h0hb8tpcc9i35dmupknsega="room-s1h0hb8tpcc9i35dmupknsega",e.RoomUa1m0u8pm3yngrhzwec1ue5zc="room-ua1m0u8pm3yngrhzwec1ue5zc",e.RoomW4tdggk5i5u2zpiryugktghgb="room-w4tdggk5i5u2zpiryugktghgb",e.RoomXwhhz63a0hw735qf81knp63ha="room-xwhhz63a0hw735qf81knp63ha",e.RoomY3xuprmywgrprnm0273u3pphd="room-y3xuprmywgrprnm0273u3pphd",e.RoomYeh1aa32fwgm72bh0g92ebruc="room-yeh1aa32fwgm72bh0g92ebruc",e.RoomYwtddu9hagraxhznwinn8t4zb="room-ywtddu9hagraxhznwinn8t4zb",e.RoomZgh2304w5anu0t25ia06ytfxd="room-zgh2304w5anu0t25ia06ytfxd",e.RoomZp189tx2hdrry8k5nhaq5x45d="room-zp189tx2hdrry8k5nhaq5x45d",e.RotateLeft="rotate-left",e.RotateRight="rotate-right",e.Rotate="rotate",e.Rotation_3d="rotation-3d",e.Scale_3d="scale-3d",e.Settings="settings",e.Share="share",e.Share2="share2",e.SimpleTagPin="simple-tag-pin",e.SimpleTagSmall="simple-tag-small",e.SimpleTag="simple-tag",e.Snap="snap",e.StartLocation="start-location",e.StemHeight="stem-height",e.TapeMeasure="tape-measure",e.TogglePencil="toggle-pencil",e.Toolbar_360View="toolbar-360-view",e.ToolbarEditVr="toolbar-edit-vr",e.ToolbarHlr="toolbar-hlr",e.ToolbarLabels="toolbar-labels",e.ToolbarMattertags="toolbar-mattertags",e.ToolbarMeasurements="toolbar-measurements",e.ToolbarMoreHoriz="toolbar-more-horiz",e.ToolbarPhotos="toolbar-photos",e.ToolbarPluginConfig="toolbar-plugin-config",e.ToolbarScanMgmt="toolbar-scan-mgmt",e.ToolbarStartLocation="toolbar-start-location",e.Transitions="transitions",e.Trash="trash",e.TrimKeep="trim-keep",e.TrimRemove="trim-remove",e.Twitter="twitter",e.User="user",e.Vr="vr",e.Wall="wall",e.Window="window",e.ZoomReset="zoom-reset"}(i||(i={}));const s={[i.i360]:"61697",[i.AddLink]:"61698",[i.Arrow]:"61699",[i.Arrows]:"61700",[i.Attach]:"61701",[i.Back]:"61702",[i.Blocked]:"61703",[i.BlurOutline]:"61704",[i.BrushOutline]:"61705",[i.Checkmark]:"61706",[i.ChevronLeft]:"61707",[i.ChevronRight]:"61708",[i.Close]:"61709",[i.CommentLarge]:"57344",[i.CommentOutline]:"61710",[i.Comment]:"61711",[i.Delete]:"61712",[i.Dock]:"61713",[i.Dollhouse]:"61714",[i.Door]:"61715",[i.Download]:"61716",[i.DpadDown]:"61717",[i.DpadLeft]:"61718",[i.DpadRight]:"61719",[i.DpadUp]:"61720",[i.DragEdit]:"61721",[i.DrawLines]:"61722",[i.EditFloorplan]:"61723",[i.Email]:"61724",[i.Error]:"61725",[i.EscapeKey]:"61726",[i.Expand]:"61727",[i.ExtLink]:"61728",[i.EyeHide]:"61729",[i.EyeShow]:"61730",[i.Facebook]:"61731",[i.File]:"61732",[i.Filter]:"61733",[i.FingerDrag]:"61734",[i.FloorControlsAll]:"61735",[i.FloorControls]:"61736",[i.Floorplan]:"61737",[i.FullscreenExit]:"61738",[i.Fullscreen]:"61739",[i.Fullscreen2]:"61740",[i.Help]:"61741",[i.HlrBadge]:"61742",[i.Hlr]:"61743",[i.Info]:"61744",[i.InvisibleWall]:"61745",[i.Keyboard]:"61746",[i.Layers]:"61747",[i.Link]:"61748",[i.Linkedin]:"61749",[i.List]:"61750",[i.Location]:"61751",[i.MagnifyingGlass]:"61752",[i.MediaMix]:"61753",[i.MenuIndicator]:"61754",[i.MeshTrim]:"61755",[i.Mesh]:"61756",[i.Minus]:"61757",[i.MoreVert]:"61758",[i.Notes]:"61759",[i.ObjectAirDucts]:"61760",[i.ObjectBathtub]:"61761",[i.ObjectBed]:"61762",[i.ObjectCabinet]:"61763",[i.ObjectCeilingFan]:"61764",[i.ObjectChair]:"61765",[i.ObjectCountertop]:"61766",[i.ObjectDishwasher]:"61767",[i.ObjectDoorLock]:"61768",[i.ObjectDoor]:"61769",[i.ObjectFaucet]:"61770",[i.ObjectFireplace]:"61771",[i.ObjectGarageDoor]:"61772",[i.ObjectKitchenIsland]:"61773",[i.ObjectLight]:"61774",[i.ObjectMicrowave]:"61775",[i.ObjectMirror]:"61776",[i.ObjectOutlet]:"61777",[i.ObjectOven]:"61778",[i.ObjectRangeHood]:"61779",[i.ObjectRange]:"61780",[i.ObjectRefrigerator]:"61781",[i.ObjectShower]:"61782",[i.ObjectSink]:"61783",[i.ObjectSkylight]:"61784",[i.ObjectSmokeDetector]:"61785",[i.ObjectSofa]:"61786",[i.ObjectTable]:"61787",[i.ObjectTelevision]:"61788",[i.ObjectThermostat]:"61789",[i.ObjectToilet]:"61790",[i.ObjectTowelRack]:"61791",[i.ObjectVanity]:"61792",[i.ObjectWallSwitch]:"61793",[i.ObjectWasherDryer]:"61794",[i.ObjectWindow]:"61795",[i.Opening]:"61796",[i.PanoramaDisable]:"61797",[i.Panorama]:"61798",[i.PaperClip]:"61799",[i.PauseOutline]:"61800",[i.Pause]:"61801",[i.Photo_2d]:"61802",[i.Photo_360]:"61803",[i.PhotoAdd]:"61804",[i.Pin]:"61805",[i.Pinterest]:"61806",[i.PlayUnicode]:"61807",[i.Play]:"61808",[i.Plus]:"61809",[i.Position_3d]:"61810",[i.PressHold]:"61811",[i.PublicBuildingsApartment]:"61812",[i.PublicBuildingsArchway]:"61813",[i.PublicBuildingsBuildingCircleArrowRight]:"61814",[i.PublicBuildingsBuildingCircleCheck]:"61815",[i.PublicBuildingsBuildingCircleExclamation]:"61816",[i.PublicBuildingsBuildingCircleXmark]:"61817",[i.PublicBuildingsBuildingColumns]:"61818",[i.PublicBuildingsBuildingFlag]:"61819",[i.PublicBuildingsBuildingLock]:"61820",[i.PublicBuildingsBuildingShield]:"61821",[i.PublicBuildingsBuildingUser]:"61822",[i.PublicBuildingsBuildingWheat]:"61823",[i.PublicBuildingsBuilding]:"61824",[i.PublicBuildingsBuildings]:"61825",[i.PublicBuildingsCabin]:"61826",[i.PublicBuildingsCampground]:"61827",[i.PublicBuildingsCarBuilding]:"61828",[i.PublicBuildingsCastle]:"61829",[i.PublicBuildingsChimney]:"61830",[i.PublicBuildingsChurch]:"61831",[i.PublicBuildingsCity]:"61832",[i.PublicBuildingsFarm]:"61833",[i.PublicBuildingsFence]:"61834",[i.PublicBuildingsFerrisWheel]:"61835",[i.PublicBuildingsFort]:"61836",[i.PublicBuildingsGarage]:"61837",[i.PublicBuildingsHospital]:"61838",[i.PublicBuildingsHotel]:"61839",[i.PublicBuildingsHouseBuilding]:"61840",[i.PublicBuildingsHouseCrack]:"61841",[i.PublicBuildingsHouseDay]:"61842",[i.PublicBuildingsHouseFire]:"61843",[i.PublicBuildingsHouseFlag]:"61844",[i.PublicBuildingsHouseFloodWater]:"61845",[i.PublicBuildingsHouseHeart]:"61846",[i.PublicBuildingsHouseLock]:"61847",[i.PublicBuildingsHouseMedical]:"61848",[i.PublicBuildingsHouseNight]:"61849",[i.PublicBuildingsHouse]:"61850",[i.PublicBuildingsIndustry]:"61851",[i.PublicBuildingsLandmark]:"61852",[i.PublicBuildingsMonument]:"61853",[i.PublicBuildingsMosque]:"61854",[i.PublicBuildingsMountainCity]:"61855",[i.PublicBuildingsPlaceOfWorship]:"61856",[i.PublicBuildingsRollerCoaster]:"61857",[i.PublicBuildingsSchool]:"61858",[i.PublicBuildingsStore]:"61859",[i.PublicBuildingsSynagogue]:"61860",[i.PublicBuildingsTent]:"61861",[i.PublicBuildingsToilet]:"61862",[i.PublicBuildingsToriiGate]:"61863",[i.PublicBuildingsTowerObservation]:"61864",[i.PublicBuildingsTree]:"61865",[i.PublicBuildingsWarehouse]:"61866",[i.PublicCharacters_0]:"61867",[i.PublicCharacters_1]:"61868",[i.PublicCharacters_2]:"61869",[i.PublicCharacters_3]:"61870",[i.PublicCharacters_4]:"61871",[i.PublicCharacters_5]:"61872",[i.PublicCharacters_6]:"61873",[i.PublicCharacters_7]:"61874",[i.PublicCharacters_8]:"61875",[i.PublicCharacters_9]:"61876",[i.PublicCharactersA]:"61877",[i.PublicCharactersB]:"61878",[i.PublicCharactersC]:"61879",[i.PublicCharactersCircle_0]:"61880",[i.PublicCharactersCircle_1]:"61881",[i.PublicCharactersCircle_2]:"61882",[i.PublicCharactersCircle_3]:"61883",[i.PublicCharactersCircle_4]:"61884",[i.PublicCharactersCircle_5]:"61885",[i.PublicCharactersCircle_6]:"61886",[i.PublicCharactersCircle_7]:"61887",[i.PublicCharactersCircle_8]:"61888",[i.PublicCharactersCircle_9]:"61889",[i.PublicCharactersCircleA]:"61890",[i.PublicCharactersCircleB]:"61891",[i.PublicCharactersCircleC]:"61892",[i.PublicCharactersCircleD]:"61893",[i.PublicCharactersCircleE]:"61894",[i.PublicCharactersCircleF]:"61895",[i.PublicCharactersCircleG]:"61896",[i.PublicCharactersCircleH]:"61897",[i.PublicCharactersCircleI]:"61898",[i.PublicCharactersCircleJ]:"61899",[i.PublicCharactersCircleK]:"61900",[i.PublicCharactersCircleL]:"61901",[i.PublicCharactersCircleM]:"61902",[i.PublicCharactersCircleN]:"61903",[i.PublicCharactersCircleO]:"61904",[i.PublicCharactersCircleP]:"61905",[i.PublicCharactersCircleQ]:"61906",[i.PublicCharactersCircleR]:"61907",[i.PublicCharactersCircleS]:"61908",[i.PublicCharactersCircleT]:"61909",[i.PublicCharactersCircleU]:"61910",[i.PublicCharactersCircleV]:"61911",[i.PublicCharactersCircleW]:"61912",[i.PublicCharactersCircleX]:"61913",[i.PublicCharactersCircleY]:"61914",[i.PublicCharactersCircleZ]:"61915",[i.PublicCharactersD]:"61916",[i.PublicCharactersE]:"61917",[i.PublicCharactersF]:"61918",[i.PublicCharactersG]:"61919",[i.PublicCharactersH]:"61920",[i.PublicCharactersI]:"61921",[i.PublicCharactersJ]:"61922",[i.PublicCharactersK]:"61923",[i.PublicCharactersL]:"61924",[i.PublicCharactersM]:"61925",[i.PublicCharactersN]:"61926",[i.PublicCharactersO]:"61927",[i.PublicCharactersP]:"61928",[i.PublicCharactersQ]:"61929",[i.PublicCharactersR]:"61930",[i.PublicCharactersS]:"61931",[i.PublicCharactersSquare_0]:"61932",[i.PublicCharactersSquare_1]:"61933",[i.PublicCharactersSquare_2]:"61934",[i.PublicCharactersSquare_3]:"61935",[i.PublicCharactersSquare_4]:"61936",[i.PublicCharactersSquare_5]:"61937",[i.PublicCharactersSquare_6]:"61938",[i.PublicCharactersSquare_7]:"61939",[i.PublicCharactersSquare_8]:"61940",[i.PublicCharactersSquare_9]:"61941",[i.PublicCharactersSquareA]:"61942",[i.PublicCharactersSquareB]:"61943",[i.PublicCharactersSquareC]:"61944",[i.PublicCharactersSquareD]:"61945",[i.PublicCharactersSquareE]:"61946",[i.PublicCharactersSquareF]:"61947",[i.PublicCharactersSquareG]:"61948",[i.PublicCharactersSquareH]:"61949",[i.PublicCharactersSquareI]:"61950",[i.PublicCharactersSquareJ]:"61951",[i.PublicCharactersSquareK]:"61952",[i.PublicCharactersSquareL]:"61953",[i.PublicCharactersSquareM]:"61954",[i.PublicCharactersSquareN]:"61955",[i.PublicCharactersSquareO]:"61956",[i.PublicCharactersSquareP]:"61957",[i.PublicCharactersSquareQ]:"61958",[i.PublicCharactersSquareR]:"61959",[i.PublicCharactersSquareS]:"61960",[i.PublicCharactersSquareT]:"61961",[i.PublicCharactersSquareU]:"61962",[i.PublicCharactersSquareV]:"61963",[i.PublicCharactersSquareW]:"61964",[i.PublicCharactersSquareX]:"61965",[i.PublicCharactersSquareXmark]:"61966",[i.PublicCharactersSquareY]:"61967",[i.PublicCharactersSquareZ]:"61968",[i.PublicCharactersT]:"61969",[i.PublicCharactersU]:"61970",[i.PublicCharactersV]:"61971",[i.PublicCharactersW]:"61972",[i.PublicCharactersX]:"61973",[i.PublicCharactersY]:"61974",[i.PublicCharactersZ]:"61975",[i.PublicFurnitureBath]:"61976",[i.PublicFurnitureBedAlt]:"61977",[i.PublicFurnitureBedBunk]:"61978",[i.PublicFurnitureBedEmpty]:"61979",[i.PublicFurnitureBed]:"61980",[i.PublicFurnitureBlender]:"61981",[i.PublicFurnitureBlinds]:"61982",[i.PublicFurnitureCabinetFiling]:"61983",[i.PublicFurnitureCashRegister]:"61984",[i.PublicFurnitureChairOffice]:"61985",[i.PublicFurnitureChair]:"61986",[i.PublicFurnitureChargingStation]:"61987",[i.PublicFurnitureComputerClassic]:"61988",[i.PublicFurnitureComputerSpeaker]:"61989",[i.PublicFurnitureCouch]:"61990",[i.PublicFurnitureDryerAlt]:"61991",[i.PublicFurnitureDryer]:"61992",[i.PublicFurnitureDumbbell]:"61993",[i.PublicFurnitureDumpster]:"61994",[i.PublicFurnitureFaucet]:"61995",[i.PublicFurnitureFax]:"61996",[i.PublicFurnitureHotTub]:"61997",[i.PublicFurnitureInventory]:"61998",[i.PublicFurnitureLampDesk]:"61999",[i.PublicFurnitureLampFloor]:"62000",[i.PublicFurnitureLamp]:"62001",[i.PublicFurnitureLaptop]:"62002",[i.PublicFurnitureLightCeiling]:"62003",[i.PublicFurnitureLoveseat]:"62004",[i.PublicFurnitureMicrowave]:"62005",[i.PublicFurniturePiano]:"62006",[i.PublicFurniturePodium]:"62007",[i.PublicFurniturePresentation]:"62008",[i.PublicFurnitureProjector]:"62009",[i.PublicFurnitureRadio]:"62010",[i.PublicFurnitureRefrigerator]:"62011",[i.PublicFurnitureShower]:"62012",[i.PublicFurnitureShredder]:"62013",[i.PublicFurnitureSink]:"62014",[i.PublicFurnitureSolarPanel]:"62015",[i.PublicFurnitureSpeaker]:"62016",[i.PublicFurnitureSpeakers]:"62017",[i.PublicFurnitureToilet]:"62018",[i.PublicFurnitureTrashAlt]:"62019",[i.PublicFurnitureTurntable]:"62020",[i.PublicFurnitureTvRetro]:"62021",[i.PublicFurnitureTv]:"62022",[i.PublicFurnitureTypewriter]:"62023",[i.PublicObjectsAbacus]:"62024",[i.PublicObjectsAlarmClock]:"62025",[i.PublicObjectsAlbumCollection]:"62026",[i.PublicObjectsBackpack]:"62027",[i.PublicObjectsBagsShopping]:"62028",[i.PublicObjectsBell]:"62029",[i.PublicObjectsBicycle]:"62030",[i.PublicObjectsBinoculars]:"62031",[i.PublicObjectsBlanket]:"62032",[i.PublicObjectsBook]:"62033",[i.PublicObjectsBooks]:"62034",[i.PublicObjectsBoot]:"62035",[i.PublicObjectsBox]:"62036",[i.PublicObjectsBreadLoaf]:"62037",[i.PublicObjectsBriefcaseMedical]:"62038",[i.PublicObjectsBriefcase]:"62039",[i.PublicObjectsBroom]:"62040",[i.PublicObjectsBrush]:"62041",[i.PublicObjectsBullhorn]:"62042",[i.PublicObjectsBurgerSoda]:"62043",[i.PublicObjectsCalculator]:"62044",[i.PublicObjectsCalendar]:"62045",[i.PublicObjectsCamera]:"62046",[i.PublicObjectsCar]:"62047",[i.PublicObjectsCarrot]:"62048",[i.PublicObjectsCheeseSwiss]:"62049",[i.PublicObjectsChess]:"62050",[i.PublicObjectsClipboardCheck]:"62051",[i.PublicObjectsClipboardList]:"62052",[i.PublicObjectsClipboard]:"62053",[i.PublicObjectsCoffeePot]:"62054",[i.PublicObjectsCompass]:"62055",[i.PublicObjectsCookie]:"62056",[i.PublicObjectsCorn]:"62057",[i.PublicObjectsCroissant]:"62058",[i.PublicObjectsDice]:"62059",[i.PublicObjectsDrumstick]:"62060",[i.PublicObjectsEgg]:"62061",[i.PublicObjectsFish]:"62062",[i.PublicObjectsFlask]:"62063",[i.PublicObjectsFlowerTulip]:"62064",[i.PublicObjectsGamepad]:"62065",[i.PublicObjectsGem]:"62066",[i.PublicObjectsGift]:"62067",[i.PublicObjectsGifts]:"62068",[i.PublicObjectsGlassCitrus]:"62069",[i.PublicObjectsGlass]:"62070",[i.PublicObjectsGlasses]:"62071",[i.PublicObjectsGlobeStand]:"62072",[i.PublicObjectsGraduationCap]:"62073",[i.PublicObjectsGuitar]:"62074",[i.PublicObjectsHammer]:"62075",[i.PublicObjectsHatChef]:"62076",[i.PublicObjectsIceCream]:"62077",[i.PublicObjectsIceSkate]:"62078",[i.PublicObjectsKey]:"62079",[i.PublicObjectsKnifeKitchen]:"62080",[i.PublicObjectsLightbulbOn]:"62081",[i.PublicObjectsLightbulbSlash]:"62082",[i.PublicObjectsLightbulb]:"62083",[i.PublicObjectsMagnet]:"62084",[i.PublicObjectsMailbox]:"62085",[i.PublicObjectsMap]:"62086",[i.PublicObjectsMeat]:"62087",[i.PublicObjectsMedal]:"62088",[i.PublicObjectsMicrophone]:"62089",[i.PublicObjectsMobile]:"62090",[i.PublicObjectsMoneyBillWave]:"62091",[i.PublicObjectsMugTea]:"62092",[i.PublicObjectsMug]:"62093",[i.PublicObjectsNewspaper]:"62094",[i.PublicObjectsPaintRoller]:"62095",[i.PublicObjectsPalette]:"62096",[i.PublicObjectsPen]:"62097",[i.PublicObjectsPhone]:"62098",[i.PublicObjectsPizzaSlice]:"62099",[i.PublicObjectsPumpSoap]:"62100",[i.PublicObjectsRulerTriangle]:"62101",[i.PublicObjectsRuler]:"62102",[i.PublicObjectsSalad]:"62103",[i.PublicObjectsSandwich]:"62104",[i.PublicObjectsShovel]:"62105",[i.PublicObjectsSteak]:"62106",[i.PublicObjectsSunglasses]:"62107",[i.PublicObjectsTurkey]:"62108",[i.PublicObjectsUtensils]:"62109",[i.PublicObjectsVial]:"62110",[i.PublicObjectsWallet]:"62111",[i.PublicObjectsWrench]:"62112",[i.PublicPeopleBaby]:"62113",[i.PublicPeopleChildDress]:"62114",[i.PublicPeopleChildReaching]:"62115",[i.PublicPeopleChild]:"62116",[i.PublicPeopleChildren]:"62117",[i.PublicPeopleCircleUser]:"62118",[i.PublicPeopleClipboardUser]:"62119",[i.PublicPeopleFaceAngry]:"62120",[i.PublicPeopleFaceAnguished]:"62121",[i.PublicPeopleFaceAstonished]:"62122",[i.PublicPeopleFaceBeamHandOverMouth]:"62123",[i.PublicPeopleFaceConfounded]:"62124",[i.PublicPeopleFaceConfused]:"62125",[i.PublicPeopleFaceDiagonalMouth]:"62126",[i.PublicPeopleFaceDisappointed]:"62127",[i.PublicPeopleFaceDizzy]:"62128",[i.PublicPeopleFaceExpressionless]:"62129",[i.PublicPeopleFaceEyesXmarks]:"62130",[i.PublicPeopleFaceFearful]:"62131",[i.PublicPeopleFaceFrownSlight]:"62132",[i.PublicPeopleFaceFrown]:"62133",[i.PublicPeopleFaceGlasses]:"62134",[i.PublicPeopleFaceGrimace]:"62135",[i.PublicPeopleFaceGrinBeamSweat]:"62136",[i.PublicPeopleFaceGrinBeam]:"62137",[i.PublicPeopleFaceGrinHearts]:"62138",[i.PublicPeopleFaceGrinSquintTears]:"62139",[i.PublicPeopleFaceGrinSquint]:"62140",[i.PublicPeopleFaceGrinStars]:"62141",[i.PublicPeopleFaceGrinTears]:"62142",[i.PublicPeopleFaceGrinTongueSquint]:"62143",[i.PublicPeopleFaceGrinTongueWink]:"62144",[i.PublicPeopleFaceGrinTongue]:"62145",[i.PublicPeopleFaceGrinWide]:"62146",[i.PublicPeopleFaceGrinWink]:"62147",[i.PublicPeopleFaceGrin]:"62148",[i.PublicPeopleFaceHandOverMouth]:"62149",[i.PublicPeopleFaceHushed]:"62150",[i.PublicPeopleFaceIcicles]:"62151",[i.PublicPeopleFaceKiss]:"62152",[i.PublicPeopleFaceLaugh]:"62153",[i.PublicPeopleFaceMask]:"62154",[i.PublicPeopleFaceMehBlank]:"62155",[i.PublicPeopleFaceMeh]:"62156",[i.PublicPeopleFaceMonocle]:"62157",[i.PublicPeopleFaceNauseated]:"62158",[i.PublicPeopleFaceParty]:"62159",[i.PublicPeopleFacePensive]:"62160",[i.PublicPeopleFacePersevering]:"62161",[i.PublicPeopleFacePleading]:"62162",[i.PublicPeopleFacePouting]:"62163",[i.PublicPeopleFaceRaisedEyebrow]:"62164",[i.PublicPeopleFaceRelieved]:"62165",[i.PublicPeopleFaceRollingEyes]:"62166",[i.PublicPeopleFaceSadCry]:"62167",[i.PublicPeopleFaceSadSweat]:"62168",[i.PublicPeopleFaceSadTear]:"62169",[i.PublicPeopleFaceScream]:"62170",[i.PublicPeopleFaceSleeping]:"62171",[i.PublicPeopleFaceSleepy]:"62172",[i.PublicPeopleFaceSmileBeam]:"62173",[i.PublicPeopleFaceSmileHalo]:"62174",[i.PublicPeopleFaceSmileHearts]:"62175",[i.PublicPeopleFaceSmileRelaxed]:"62176",[i.PublicPeopleFaceSmileUpsideDown]:"62177",[i.PublicPeopleFaceSmileWink]:"62178",[i.PublicPeopleFaceSmile]:"62179",[i.PublicPeopleFaceSmirking]:"62180",[i.PublicPeopleFaceSpiralEyes]:"62181",[i.PublicPeopleFaceSunglasses]:"62182",[i.PublicPeopleFaceSurprise]:"62183",[i.PublicPeopleFaceThermometer]:"62184",[i.PublicPeopleFaceThinking]:"62185",[i.PublicPeopleFaceTired]:"62186",[i.PublicPeopleFaceTissue]:"62187",[i.PublicPeopleFaceUnamused]:"62188",[i.PublicPeopleFaceVomit]:"62189",[i.PublicPeopleFaceWeary]:"62190",[i.PublicPeopleFaceWoozy]:"62191",[i.PublicPeopleFaceWorried]:"62192",[i.PublicPeopleFaceZipper]:"62193",[i.PublicPeopleFamilyDress]:"62194",[i.PublicPeopleFamilyPants]:"62195",[i.PublicPeopleFamily]:"62196",[i.PublicPeopleFileUser]:"62197",[i.PublicPeopleFolderUser]:"62198",[i.PublicPeopleHeadSideBrain]:"62199",[i.PublicPeopleHeadSideCoughSlash]:"62200",[i.PublicPeopleHeadSideCough]:"62201",[i.PublicPeopleHeadSideGoggles]:"62202",[i.PublicPeopleHeadSideHeadphones]:"62203",[i.PublicPeopleHeadSideHeart]:"62204",[i.PublicPeopleHeadSideMask]:"62205",[i.PublicPeopleHeadSideMedical]:"62206",[i.PublicPeopleHeadSideVirus]:"62207",[i.PublicPeopleHeadSide]:"62208",[i.PublicPeoplePeople]:"62209",[i.PublicPeoplePersonBiking]:"62210",[i.PublicPeoplePersonBooth]:"62211",[i.PublicPeoplePersonBreastfeeding]:"62212",[i.PublicPeoplePersonCane]:"62213",[i.PublicPeoplePersonCarryBox]:"62214",[i.PublicPeoplePersonDigging]:"62215",[i.PublicPeoplePersonDollyEmpty]:"62216",[i.PublicPeoplePersonDolly]:"62217",[i.PublicPeoplePersonDress]:"62218",[i.PublicPeoplePersonDrowning]:"62219",[i.PublicPeoplePersonFalling]:"62220",[i.PublicPeoplePersonHalfDress]:"62221",[i.PublicPeoplePersonHiking]:"62222",[i.PublicPeoplePersonMilitaryPointing]:"62223",[i.PublicPeoplePersonPinball]:"62224",[i.PublicPeoplePersonPraying]:"62225",[i.PublicPeoplePersonPregnant]:"62226",[i.PublicPeoplePersonRunning]:"62227",[i.PublicPeoplePersonSeatReclined]:"62228",[i.PublicPeoplePersonSeat]:"62229",[i.PublicPeoplePersonShelter]:"62230",[i.PublicPeoplePersonSkating]:"62231",[i.PublicPeoplePersonSkiing]:"62232",[i.PublicPeoplePersonSwimming]:"62233",[i.PublicPeoplePersonToDoor]:"62234",[i.PublicPeoplePersonWalkingLuggage]:"62235",[i.PublicPeoplePersonWalkingWithCane]:"62236",[i.PublicPeoplePersonWalking]:"62237",[i.PublicPeoplePerson]:"62238",[i.PublicPeopleRestroom]:"62239",[i.PublicPeopleSquareUser]:"62240",[i.PublicPeopleStreetView]:"62241",[i.PublicPeopleUserAstronaut]:"62242",[i.PublicPeopleUserCheck]:"62243",[i.PublicPeopleUserChef]:"62244",[i.PublicPeopleUserClock]:"62245",[i.PublicPeopleUserCowboy]:"62246",[i.PublicPeopleUserCrown]:"62247",[i.PublicPeopleUserDoctor]:"62248",[i.PublicPeopleUserGear]:"62249",[i.PublicPeopleUserGraduate]:"62250",[i.PublicPeopleUserGroup]:"62251",[i.PublicPeopleUserHeadset]:"62252",[i.PublicPeopleUserHelmetSafety]:"62253",[i.PublicPeopleUserInjured]:"62254",[i.PublicPeopleUserLarge]:"62255",[i.PublicPeopleUserLock]:"62256",[i.PublicPeopleUserMinus]:"62257",[i.PublicPeopleUserMusic]:"62258",[i.PublicPeopleUserNurse]:"62259",[i.PublicPeopleUserPen]:"62260",[i.PublicPeopleUserPilot]:"62261",[i.PublicPeopleUserPlus]:"62262",[i.PublicPeopleUserPolice]:"62263",[i.PublicPeopleUserShield]:"62264",[i.PublicPeopleUserSlash]:"62265",[i.PublicPeopleUserUnlock]:"62266",[i.PublicPeopleUser]:"62267",[i.PublicPeopleUsers]:"62268",[i.PublicPeopleWheelchair]:"62269",[i.PublicSymbolsArrowAltCircleDown]:"62270",[i.PublicSymbolsArrowAltCircleLeft]:"62271",[i.PublicSymbolsArrowAltCircleRight]:"62272",[i.PublicSymbolsArrowAltCircleUp]:"62273",[i.PublicSymbolsArrowAltDown]:"62274",[i.PublicSymbolsArrowAltLeft]:"62275",[i.PublicSymbolsArrowAltRight]:"62276",[i.PublicSymbolsArrowAltUp]:"62277",[i.PublicSymbolsAward]:"62278",[i.PublicSymbolsBadgeCheck]:"62279",[i.PublicSymbolsBadgeDollar]:"62280",[i.PublicSymbolsBadge]:"62281",[i.PublicSymbolsBan]:"62282",[i.PublicSymbolsBell]:"62283",[i.PublicSymbolsBoltSlash]:"62284",[i.PublicSymbolsBolt]:"62285",[i.PublicSymbolsBookmark]:"62286",[i.PublicSymbolsCheckCircle]:"62287",[i.PublicSymbolsCheck]:"62288",[i.PublicSymbolsCircle]:"62289",[i.PublicSymbolsClock]:"62290",[i.PublicSymbolsClub]:"62291",[i.PublicSymbolsCube]:"62292",[i.PublicSymbolsCubes]:"62293",[i.PublicSymbolsDeaf]:"62294",[i.PublicSymbolsDiamond]:"62295",[i.PublicSymbolsDollarSign]:"62296",[i.PublicSymbolsExclamationCircle]:"62297",[i.PublicSymbolsExclamationSquare]:"62298",[i.PublicSymbolsExclamationTriangle]:"62299",[i.PublicSymbolsExclamation]:"62300",[i.PublicSymbolsEyeSlash]:"62301",[i.PublicSymbolsEye]:"62302",[i.PublicSymbolsFile]:"62303",[i.PublicSymbolsFingerprint]:"62304",[i.PublicSymbolsFireAlt]:"62305",[i.PublicSymbolsFlagAlt]:"62306",[i.PublicSymbolsFolder]:"62307",[i.PublicSymbolsGenderless]:"62308",[i.PublicSymbolsHeart]:"62309",[i.PublicSymbolsHexagon]:"62310",[i.PublicSymbolsHourglass]:"62311",[i.PublicSymbolsImage]:"62312",[i.PublicSymbolsInfoCircle]:"62313",[i.PublicSymbolsInfoSquare]:"62314",[i.PublicSymbolsLayerGroup]:"62315",[i.PublicSymbolsLink]:"62316",[i.PublicSymbolsLocationArrow]:"62317",[i.PublicSymbolsLockOpen]:"62318",[i.PublicSymbolsLock]:"62319",[i.PublicSymbolsMapMarkerAlt]:"62320",[i.PublicSymbolsMapMarkerCheck]:"62321",[i.PublicSymbolsMapMarkerExclamation]:"62322",[i.PublicSymbolsMapMarkerMinus]:"62323",[i.PublicSymbolsMapMarkerPlus]:"62324",[i.PublicSymbolsMapMarkerQuestion]:"62325",[i.PublicSymbolsMapMarkerSmile]:"62326",[i.PublicSymbolsMars]:"62327",[i.PublicSymbolsMoon]:"62328",[i.PublicSymbolsOctagon]:"62329",[i.PublicSymbolsPaperclip]:"62330",[i.PublicSymbolsParkingCircle]:"62331",[i.PublicSymbolsParking]:"62332",[i.PublicSymbolsPause]:"62333",[i.PublicSymbolsPlay]:"62334",[i.PublicSymbolsQuestionCircle]:"62335",[i.PublicSymbolsQuestionSquare]:"62336",[i.PublicSymbolsQuestion]:"62337",[i.PublicSymbolsRecycle]:"62338",[i.PublicSymbolsRedo]:"62339",[i.PublicSymbolsShapes]:"62340",[i.PublicSymbolsShield]:"62341",[i.PublicSymbolsSmokingBan]:"62342",[i.PublicSymbolsSmoking]:"62343",[i.PublicSymbolsSpade]:"62344",[i.PublicSymbolsSquare]:"62345",[i.PublicSymbolsStar]:"62346",[i.PublicSymbolsTachometer]:"62347",[i.PublicSymbolsTag]:"62348",[i.PublicSymbolsTemperatureDown]:"62349",[i.PublicSymbolsTemperatureFrigid]:"62350",[i.PublicSymbolsTemperatureHigh]:"62351",[i.PublicSymbolsTemperatureHot]:"62352",[i.PublicSymbolsTemperatureLow]:"62353",[i.PublicSymbolsTemperatureUp]:"62354",[i.PublicSymbolsText]:"62355",[i.PublicSymbolsThermometerEmpty]:"62356",[i.PublicSymbolsThermometerFull]:"62357",[i.PublicSymbolsThermometerHalf]:"62358",[i.PublicSymbolsThermometerQuarter]:"62359",[i.PublicSymbolsThermometerThreeQuarters]:"62360",[i.PublicSymbolsThumbtack]:"62361",[i.PublicSymbolsTint]:"62362",[i.PublicSymbolsTransgenderAlt]:"62363",[i.PublicSymbolsTransgender]:"62364",[i.PublicSymbolsTrashAlt]:"62365",[i.PublicSymbolsTriangle]:"62366",[i.PublicSymbolsUsdCircle]:"62367",[i.PublicSymbolsUsdSquare]:"62368",[i.PublicSymbolsVenusMars]:"62369",[i.PublicSymbolsVenus]:"62370",[i.PublicSymbolsVideo]:"62371",[i.PublicSymbolsVolumeDown]:"62372",[i.PublicSymbolsVolumeMute]:"62373",[i.PublicSymbolsVolumeOff]:"62374",[i.PublicSymbolsVolumeSlash]:"62375",[i.PublicSymbolsVolumeUp]:"62376",[i.PublicSymbolsVolume]:"62377",[i.PublicSymbolsWater]:"62378",[i.PublicSymbolsWaveform]:"62379",[i.PublicSymbolsWifiSlash]:"62380",[i.PublicSymbolsWifi]:"62381",[i.PublicSymbolsYenSign]:"62382",[i.Question]:"62383",[i.Reorder]:"62384",[i.Reply]:"62385",[i.Restart]:"62386",[i.Revert]:"62387",[i.Room_00258k0mqu8750du151be805c]:"62388",[i.Room_0an2rky24gb91fdnpzmbwadib]:"62389",[i.Room_0gnuunpwx63dmmqeq64aqfiyd]:"62390",[i.Room_2nx6maxxpaeut7kx96fuacdzc]:"62391",[i.Room_4by2d70b54srbin43t5m0yh9c]:"62392",[i.Room_4gp8x21ni4i8y19r9pm4rb35a]:"62393",[i.Room_4qq4e5hz84hcur7ry87uhtmua]:"62394",[i.Room_66psa4tqgazbnffr9huy2dnpd]:"62395",[i.Room_91naa1k3hiim9z4mk8352enta]:"62396",[i.RoomA11d2gi43h0etwedw0mx9pgwd]:"62397",[i.RoomAg5uphha72sak65qazgsp09yd]:"62398",[i.RoomByp7pz2tmt4ff47nhfx0uwzec]:"62399",[i.RoomE6md2spaqemc448pmau3azkhd]:"62400",[i.RoomEi3kmtun2xpspbg3d5ff3t3zc]:"62401",[i.RoomGba8cq0s2rdfg1zdb1epwty7d]:"62402",[i.RoomGe0tcan3iztta5mtgsfx99xpb]:"62403",[i.RoomGqqw1zac1hzg1p8622ducg3zb]:"62404",[i.RoomIzt39gytcbymc0qtd37nrb7xb]:"62405",[i.RoomMultiUse]:"62406",[i.RoomMx6e2yfk0tg0zbkbzuw5mhkda]:"62407",[i.RoomN07hhs9gky4cgrh7q65s9rp0d]:"62408",[i.RoomNqw75004dcg2bcr41047rhg6c]:"62409",[i.RoomPnf0xzq61xcegack4iai7xppd]:"62410",[i.RoomPr9h4zy7eak91f3b7un97u42c]:"62411",[i.RoomQa21tqcsinnxde9gdmiphacza]:"62412",[i.RoomRmu8pikcye0n7n9fsu5e4acda]:"62413",[i.RoomS1h0hb8tpcc9i35dmupknsega]:"62414",[i.RoomUa1m0u8pm3yngrhzwec1ue5zc]:"62415",[i.RoomW4tdggk5i5u2zpiryugktghgb]:"62416",[i.RoomXwhhz63a0hw735qf81knp63ha]:"62417",[i.RoomY3xuprmywgrprnm0273u3pphd]:"62418",[i.RoomYeh1aa32fwgm72bh0g92ebruc]:"62419",[i.RoomYwtddu9hagraxhznwinn8t4zb]:"62420",[i.RoomZgh2304w5anu0t25ia06ytfxd]:"62421",[i.RoomZp189tx2hdrry8k5nhaq5x45d]:"62422",[i.RotateLeft]:"62423",[i.RotateRight]:"62424",[i.Rotate]:"62425",[i.Rotation_3d]:"62426",[i.Scale_3d]:"62427",[i.Settings]:"62428",[i.Share]:"62429",[i.Share2]:"62430",[i.SimpleTagPin]:"62431",[i.SimpleTagSmall]:"62432",[i.SimpleTag]:"62433",[i.Snap]:"62434",[i.StartLocation]:"62435",[i.StemHeight]:"62436",[i.TapeMeasure]:"62437",[i.TogglePencil]:"62438",[i.Toolbar_360View]:"62439",[i.ToolbarEditVr]:"62440",[i.ToolbarHlr]:"62441",[i.ToolbarLabels]:"62442",[i.ToolbarMattertags]:"62443",[i.ToolbarMeasurements]:"62444",[i.ToolbarMoreHoriz]:"62445",[i.ToolbarPhotos]:"62446",[i.ToolbarPluginConfig]:"62447",[i.ToolbarScanMgmt]:"62448",[i.ToolbarStartLocation]:"62449",[i.Transitions]:"62450",[i.Trash]:"62451",[i.TrimKeep]:"62452",[i.TrimRemove]:"62453",[i.Twitter]:"62454",[i.User]:"62455",[i.Vr]:"62456",[i.Wall]:"62457",[i.Window]:"62458",[i.ZoomReset]:"62459"}},75182:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});var i=n(81346);const s=Object.keys(i.f).sort(((e,t)=>e.localeCompare(t)))},84426:(e,t,n)=>{"use strict";n.d(t,{UQ:()=>p,_m:()=>v,Vr:()=>O,zx:()=>m.zx,hE:()=>T,xz:()=>L,qE:()=>m.qE,Wu:()=>m.Wu,XZ:()=>R,Vq:()=>C,gQ:()=>D,JO:()=>k.I,Jh:()=>k.J,w0:()=>M,HC:()=>x,oi:()=>Te,no:()=>Ue,u:()=>_e.u});var i=n(85893),s=n(67294),r=n(94184),a=n.n(r);const o=(0,s.createContext)({intersectionRef:null,GroupRenderer:()=>null,ItemRenderer:()=>null,itemRendererProps:{},toggleGroup:()=>{},isCollapsed:()=>!1,collapsible:!0,ariaExpandLabel:"",ariaCollapseLabel:""});function l({item:e,itemHeight:t,renderItem:n,renderItemProps:s={}}){const r=n;return(0,i.jsx)("div",Object.assign({className:"mp-nova-vlist-item",style:{height:t}},{children:(0,i.jsx)(r,Object.assign({item:e},s))}))}function c({items:e,itemHeight:t,intersectionRef:n,renderItem:r,itemKeyProp:a,renderItemProps:o,forceRender:c}){const d=(0,s.useRef)(null),[u,h]=(0,s.useState)(!1);(0,s.useEffect)((()=>{if(!d.current||!n)return;const e=new IntersectionObserver((e=>{h(e[0].isIntersecting)}),{root:n});return e.observe(d.current),()=>{e.disconnect()}}),[d,n]);const p=u||c;return(0,i.jsx)("div",Object.assign({className:"mp-nova-vlist-chunk",ref:d,style:{height:e.length*t}},{children:p&&e.map(((e,n)=>(0,i.jsx)(l,{index:n,item:e,itemHeight:t,renderItem:r,renderItemProps:o},function(e,t){return e[t]}(e,a))))}))}function d({items:e,chunkSize:t=50,itemHeight:n=40,itemKeyProp:r="id",renderItem:o,renderItemProps:l,intersectionRef:d,style:u,showItemWithIndex:h=-1}){const[p,m]=(0,s.useState)(null),f=(0,s.useCallback)((e=>{null!==e&&m(e)}),[]),g=[];for(let s=0;s<e.length;s+=t){const a=h>=s&&h<s+t;g.push((0,i.jsx)(c,{itemHeight:n,intersectionRef:d||p,renderItem:o,renderItemProps:l,items:e.slice(s,s+t),itemKeyProp:r,forceRender:a},s))}return(0,i.jsx)("div",Object.assign({className:a()("mp-nova-vlist",{"mp-nova-vlist-scrollable":!d}),ref:f,style:u},{children:(0,i.jsx)("div",Object.assign({className:"mp-nova-vlist-chunks"},{children:g}))}))}let u=0;function h({group:e,index:t,itemHeight:n,showItemWithIndex:r,active:l}){const{GroupRenderer:c,EmptyRenderer:h,ItemRenderer:p,itemRendererProps:m={},isCollapsed:f,intersectionRef:g}=(0,s.useContext)(o),v=(0,s.useRef)(null),b=(0,s.useMemo)((()=>(u++,`${"AccordionPanel"}-${u}`)),[]),y=f(e.id);let E,S={};e.items.length>0?(S={height:y?"0":e.items.length*n+"px"},E=(0,i.jsx)(d,{intersectionRef:g,renderItem:p,renderItemProps:m,items:e.items,itemHeight:n,showItemWithIndex:r})):(S={height:y?"0":`${n}px`},E=h?(0,i.jsx)(h,{group:e}):(0,i.jsx)(p,Object.assign({item:null},m)));const O=a()("mp-nova-accordion-panel",{active:l,collapsed:y});return(0,i.jsxs)("section",Object.assign({role:"region",className:O,"aria-labelledby":b},{children:[(0,i.jsx)("div",Object.assign({id:b},{children:(0,i.jsx)(c,{group:e})})),(0,i.jsx)("div",Object.assign({className:"mp-accordion-panel-contents",style:S,ref:v},{children:E}))]}))}const p=(0,s.forwardRef)((({className:e,data:t,itemHeight:n,renderEmpty:r,renderGroup:l,renderItem:c,renderItemProps:d,activeGroupId:u,collapsedIds:p={},collapseEmptyGroups:m=!1,onToggleCollapse:f,preventCollapsing:g,ariaExpandLabel:v,ariaCollapseLabel:b},y)=>{const E=(0,s.useRef)(null),[S,O]=(0,s.useState)(-1),[T,_]=(0,s.useState)(null);const w=(0,s.useCallback)((e=>void 0!==p[e]?p[e]:m&&function(e){const n=t.find((t=>t.id===e));return!!n&&0===n.items.length}(e)),[p,m,t]);(0,s.useImperativeHandle)(y,(()=>({focusGroupItem:(e,t)=>{w(e)&&N(e),_(e),O(t)},scrollIntoView:e=>{if(E.current){const t=E.current.querySelector(e);if(t)return t.scrollIntoView({behavior:"smooth",block:"center"}),!0}return!1}})),[E.current]);const N=e=>{if(f){const t=!w(e);f(e,t)}},A=E.current?E.current.parentNode:null,I=a()("mp-nova-accordion",e);return(0,i.jsx)("div",Object.assign({className:I,ref:E},{children:(0,i.jsx)(o.Provider,Object.assign({value:{intersectionRef:A,GroupRenderer:l,EmptyRenderer:r,ItemRenderer:c,itemRendererProps:d,toggleGroup:N,isCollapsed:w,collapsible:!g,ariaExpandLabel:v,ariaCollapseLabel:b}},{children:t.map(((e,t)=>(0,i.jsx)(h,{itemHeight:n,index:t,group:e,active:e.id===u,showItemWithIndex:e.id===T?S:-1},e.id)))}))}))}));var m=n(86902);function f({collapsed:e,onClick:t,style:n,ariaLabel:s}){const r=a()("mp-nova-accordion-toggle",{collapsed:e});return(0,i.jsx)(m.zx,{className:r,icon:"dpad-up",onClick:t,style:n,ariaLabel:s})}var g=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};function v(e){var{actions:t,className:n,onClick:r}=e,l=g(e,["actions","className","onClick"]);const{toggleGroup:c,isCollapsed:d,collapsible:u,ariaExpandLabel:h,ariaCollapseLabel:p}=(0,s.useContext)(o),{id:m}=l,v=d(m)&&u,b=v?h:p,y=a()("mp-nova-accordion-header",n,{collapsed:v,collapsible:u}),E=(0,i.jsxs)(T,{children:[t,u&&(0,i.jsx)(f,{collapsed:v,onClick:e=>{e.stopPropagation(),c(m)},ariaLabel:b})]});return(0,i.jsx)(x,Object.assign({},l,{className:y,onClick:()=>{let e=!1;r&&(e=r(v)),u&&!e&&c(m)},actions:E,variant:"header"}))}const b="_1dvwLjLEqO5jnr5QV6jQLd",y="_2Uy7qbQEi-pnztt6CrNMMI",E="_138eeo-fRTYvvjBixACJ3d",S="_3iiCLwxCBwUuZjI_tSgdKB";function O({alt:e,className:t,name:r,theme:o="light",size:l="160",geometry:c="standard"}){const{isLoading:d,svgUrl:u}=(({name:e,theme:t,geometry:i})=>{const[r,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(void 0);return(0,s.useEffect)((()=>{(async()=>{a(!0),await n.e(782).then(n.bind(n,81739)).then((e=>{l((()=>e.getImageUrl))})).finally((()=>{a(!1)}))})()}),[]),{isLoading:r,svgUrl:null==o?void 0:o(e,t,i)}})({name:r,theme:o,geometry:c}),h=null!=e?e:null==r?void 0:r.replace("-"," ");return(0,i.jsx)("span",Object.assign({className:a()(b,{[E]:"160"===l,[S]:"200"===l},t)},{children:!d&&u&&(0,i.jsx)("img",{alt:h,className:y,"data-testid":`brandicon_${r}_${c}_${o}`,height:l,src:u,width:l})}))}n(46657);function T({children:e,spacing:t,className:n}){const s=a()("mp-nova-btn-group",n,{[`mp-nova-btn-group-${t}`]:void 0!==t});return(0,i.jsx)("div",Object.assign({className:s},{children:e}))}var _=n(73935),w=n(54484),N=n(77294),A=n(37056);const I=(0,s.forwardRef)((({target:e,isOpen:t,focus:n=!0,className:r,onClose:o,xOffset:l=0,yOffset:c,arrow:d=!1,placement:u="bottom-start",theme:h,children:p},m)=>{const[f,g]=(0,s.useState)(null),[v,b]=(0,s.useState)(null),{styles:y,attributes:E}=(0,N.D)(e,f,{placement:u,strategy:"fixed",modifiers:[{name:"arrow",options:{element:v,padding:4}},{name:"flip"},{name:"hide"},{name:"offset",options:{offset:c?[l,c]:[l,4]}}]}),S=(0,w.Z)(e);(0,s.useEffect)((()=>{n&&t&&f&&f.focus()}),[t,f,n]),(0,s.useEffect)((()=>{const n=t=>{var n;if(e&&f){const i=t.composedPath(),s=!i.includes(e),r=!i.includes(f);if(s&&r){t.srcElement&&(null===(n=f.nextElementSibling)||void 0===n?void 0:n.contains(t.srcElement))||o()}}};return t&&f?window.addEventListener("click",n,{capture:!0}):window.removeEventListener("click",n,{capture:!0}),()=>{window.removeEventListener("click",n,{capture:!0})}}),[f,e,t,o]);const O=(e,t)=>{var n;return(null===(n=e.props.className)||void 0===n?void 0:n.includes("mp-nova-menu-item"))?e:(0,i.jsx)("div",Object.assign({className:"mp-nova-menu-item"},{children:e}),`menu-item-${t}`)};if(!t||!p)return null;const T=[];Array.isArray(p)?s.Children.forEach(p,((e,t)=>{e&&T.push(O(e,t))})):T.push(O(p,0));const I=a()("mp-nova-menu",r,{[`mp-nova-${h}`]:void 0!==h}),k=E.popper?E.popper["data-popper-placement"]:void 0,P=(0,i.jsxs)("div",Object.assign({style:Object.assign({},y.popper)},E.popper,{ref:g,className:I,onClick:o,onKeyDown:e=>{switch(e.code){case"ArrowDown":case"ArrowUp":case"Tab":case"Enter":break;case"Escape":e.stopPropagation(),o()}},tabIndex:0},{children:[(0,i.jsx)("div",Object.assign({className:"mp-nova-menu-items"},{children:T})),d&&(0,i.jsx)(A.c,{ref:b,style:y.arrow,placement:k,size:"medium",theme:h})]}));return(0,_.createPortal)(P,S)}));var k=n(13727),P=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const L=(0,s.forwardRef)(((e,t)=>{var{className:n,buttonClassName:r,buttonDataAttribute:o,children:l,menuClassName:c,onClick:d,onMenuToggled:u,menuXOffset:h,menuYOffset:p,menuTheme:f,menuPlacement:g,menuArrow:v,menuDelayed:b=!1,label:y,active:E,icon:S,tooltip:O,caret:T=!1,indicator:_=!1,ariaLabel:w}=e,N=P(e,["className","buttonClassName","buttonDataAttribute","children","menuClassName","onClick","onMenuToggled","menuXOffset","menuYOffset","menuTheme","menuPlacement","menuArrow","menuDelayed","label","active","icon","tooltip","caret","indicator","ariaLabel"]);const A=(0,s.useRef)(null),[L,R]=(0,s.useState)(!1),[C,D]=(0,s.useState)(!1),M=(0,s.useRef)(0);function x(e){R(e),u&&u(e)}(0,s.useEffect)((()=>()=>{D(!1),window.clearTimeout(M.current)}),[]),(0,s.useImperativeHandle)(t,(()=>({closeMenu:()=>{x(!1)}})),[]);const j=(0,s.useCallback)((e=>{null==e||e.stopPropagation(),x(!1)}),[u]),U=void 0===y&&void 0!==S&&!T,F=S&&y,H=a()("mp-button-menu-button",r,{"mp-nova-btn-icon":U,"mp-nova-btn-multi":F,"mp-nova-menu-open":L}),V=T?L?"dpad-up":"dpad-down":void 0;return(0,i.jsxs)("div",Object.assign({className:a()("mp-nova-button-menu",n),ref:A},{children:[(0,i.jsxs)(m.zx,Object.assign({},N,{ariaLabel:w,ariaHasPopup:"menu",ariaExpanded:L,onClick:b?void 0:e=>{e.stopPropagation(),e.preventDefault(),d&&d(e),x(!L)},onPointerDown:b?e=>{D(!1),b&&!L&&(window.clearTimeout(M.current),M.current=window.setTimeout((()=>{M.current=0,D(!0),x(!0)}),250))}:void 0,onPointerUp:b?e=>{b&&(M.current&&!L?(window.clearTimeout(M.current),M.current=0,d&&d(e)):C||x(!L))}:void 0,className:H,dataAttribute:o,tooltip:L?void 0:O,active:E||L},{children:[S&&(0,i.jsx)(k.I,{name:S}),y&&(0,i.jsx)("span",Object.assign({className:"mp-nova-btn-label"},{children:y})),V&&(0,i.jsx)(k.I,{name:V}),_&&(0,i.jsx)(k.I,{className:"mp-nova-menu-indicator",name:"menu-indicator"})]})),(0,i.jsx)(I,Object.assign({target:A.current,isOpen:L,xOffset:h,yOffset:p,placement:g,arrow:v,theme:f,className:c,onClose:j},{children:l}))]}))}));function R({id:e,label:t,ariaLabel:n,className:r,defaultChecked:o=!1,disabled:l=!1,onChange:c,onClick:d}){const[u,h]=(0,s.useState)(!!o);(0,s.useEffect)((()=>{h(!!o)}),[o]);const p=a()(r,"mp-nova-checkbox",{"mp-nova-disabled":l},{"mp-nova-active":u});return(0,i.jsxs)("label",Object.assign({className:p,htmlFor:e,onClick:d},{children:[(0,i.jsx)("input",{className:"mp-nova-checkbox-input",id:e,type:"checkbox",role:"checkbox",tabIndex:l?void 0:0,disabled:l,checked:u,onChange:e=>{c&&c(e),h((e=>!e))},"aria-checked":u,"aria-disabled":l,"aria-label":n||t}),(0,i.jsx)("span",{className:"mp-nova-checkbox-checkmark"}),(0,i.jsx)("span",Object.assign({className:"mp-nova-checkbox-label"},{children:t}))]}))}function C({children:e,className:t,onClose:n,testId:r,theme:o="light"}){const l=(0,s.useRef)(null);(0,s.useEffect)((()=>(l.current&&l.current.focus(),()=>{})),[]);const c=e=>e.stopPropagation();const d=a()("mp-nova-dialog",t,{[`mp-nova-theme-${o}`]:void 0!==o});return(0,i.jsx)("dialog",Object.assign({className:d,ref:l,onClick:c,onPointerDown:c,onPointerUp:c,onKeyDown:function(e){n&&"Escape"===e.code&&(e.stopPropagation(),n())},"data-testid":r},{children:e}))}const D=({className:e="",itemHeight:t,message:n})=>{const s=a()("nova-empty-list-item",{[`${e}`]:!!e}),r={height:t||void 0};return(0,i.jsx)("div",Object.assign({className:s,style:r},{children:n&&(0,i.jsx)("p",Object.assign({className:"message"},{children:n}))}))};function M({className:e="",children:t}){const n=a()("mp-nova-list-controls",e);return(0,i.jsx)("div",Object.assign({className:n},{children:t}))}const x=(0,s.forwardRef)((({title:e,className:t,variant:n,actions:s,badge:r,decals:o,active:l=!1,selected:c=!1,disabled:d=!1,selectMode:u=!1,selectDisabled:h=!1,onSelect:p,id:m,onClick:f,onMouseEnter:g,onMouseLeave:v},b)=>{const y=a()("mp-nova-list-item",t,{[`mp-nova-list-item-${n}`]:void 0!==n,"mp-nova-disabled":d,"mp-nova-multi-select":u,interactive:!!f,selected:c,active:l});return(0,i.jsxs)("div",Object.assign({className:y,onClick:f,onMouseEnter:g,onMouseLeave:v,"data-id":m,ref:b},{children:[u&&(0,i.jsx)(R,{id:`mp-list-checkbox-${m}`,defaultChecked:c,onChange:p,onClick:e=>e.stopPropagation(),disabled:h}),r&&(0,i.jsx)("span",Object.assign({className:"mp-list-item-badge"},{children:r})),(0,i.jsxs)("span",Object.assign({className:"mp-list-item-title"},{children:[(0,i.jsx)("span",Object.assign({className:"mp-list-item-text"},{children:e})),o&&(0,i.jsx)("span",Object.assign({className:"mp-list-item-decals"},{children:o}))]})),s&&(0,i.jsx)("span",Object.assign({className:"mp-list-item-actions"},{children:s}))]}))}));"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;function j(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function U(e){return"nodeType"in e}function F(e){var t,n;return e?j(e)?e:U(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function H(e){return e?j(e)?e.document:U(e)?function(e){const{Document:t}=F(e);return e instanceof t}(e)?e:!j(t=e)&&t instanceof F(t).HTMLElement?e.ownerDocument:document:document:document;var t}function V(e){return(t,...n)=>n.reduce(((t,n)=>{const i=Object.entries(n);for(const[n,s]of i){const i=t[n];null!=i&&(t[n]=i+e*s)}return t}),{...t})}const B=V(1),G=V(-1);function W(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=F(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}var z;!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(z||(z={}));Map;const K=Object.freeze({x:0,y:0});const Y={ignoreTransform:!1};function q(e,t=Y){let n=e.getBoundingClientRect();if(t.ignoreTransform){const{getComputedStyle:t}=F(e),{transform:i,transformOrigin:s}=t(e);i&&(n=function(e,t,n){let i,s,r,a,o;if(t.startsWith("matrix3d("))i=t.slice(9,-1).split(/, /),s=+i[0],r=+i[5],a=+i[12],o=+i[13];else{if(!t.startsWith("matrix("))return e;i=t.slice(7,-1).split(/, /),s=+i[0],r=+i[3],a=+i[4],o=+i[5]}const l=e.left-a-(1-s)*parseFloat(n),c=e.top-o-(1-r)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?e.width/s:e.width,u=r?e.height/r:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(n,i,s))}const{top:i,left:s,width:r,height:a,bottom:o,right:l}=n;return{top:i,left:s,width:r,height:a,bottom:o,right:l}}function $(e){return q(e,{ignoreTransform:!0})}var Z;function Q(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Z||(Z={}));function X(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:i,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:s,width:e.clientWidth,height:e.clientHeight}}var J,ee,te,ne;!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(J||(J={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(ee||(ee={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(te||(te={})),function(e){e.Optimized="optimized"}(ne||(ne={}));te.WhileDragging,ne.Optimized;class ie{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var i;null==(i=this.target)||i.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function se(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t&&i>t.y}var re,ae;function oe(e){e.preventDefault()}function le(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(re||(re={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(ae||(ae={}));const ce={start:[ae.Space,ae.Enter],cancel:[ae.Esc],end:[ae.Space,ae.Enter]},de=(e,{currentCoordinates:t})=>{switch(e.code){case ae.Right:return{...t,x:t.x+25};case ae.Left:return{...t,x:t.x-25};case ae.Down:return{...t,y:t.y+25};case ae.Up:return{...t,y:t.y-25}}};class ue{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.coordinates=K,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new ie(H(t)),this.windowListeners=new ie(F(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(re.Resize,this.handleCancel),this.windowListeners.add(re.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(re.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");const n=$(e.node.current),i={x:n.left,y:n.top};this.coordinates=i,t(i)}handleKeyDown(e){if(function(e){if(!e)return!1;const{KeyboardEvent:t}=F(e.target);return t&&e instanceof t}(e)){const{coordinates:t}=this,{active:n,context:i,options:s}=this.props,{keyboardCodes:r=ce,coordinateGetter:a=de,scrollBehavior:o="smooth"}=s,{code:l}=e;if(r.end.includes(l))return void this.handleEnd(e);if(r.cancel.includes(l))return void this.handleCancel(e);const c=a(e,{active:n,context:i.current,currentCoordinates:t});if(c){const n={x:0,y:0},{scrollableAncestors:s}=i.current;for(const i of s){const s=e.code,r=G(c,t),{isTop:a,isRight:l,isLeft:d,isBottom:u,maxScroll:h,minScroll:p}=Q(i),m=X(i),f={x:Math.min(s===ae.Right?m.right-m.width/2:m.right,Math.max(s===ae.Right?m.left:m.left+m.width/2,c.x)),y:Math.min(s===ae.Down?m.bottom-m.height/2:m.bottom,Math.max(s===ae.Down?m.top:m.top+m.height/2,c.y))},g=s===ae.Right&&!l||s===ae.Left&&!d,v=s===ae.Down&&!u||s===ae.Up&&!a;if(g&&f.x!==c.x){if(s===ae.Right&&i.scrollLeft+r.x<=h.x||s===ae.Left&&i.scrollLeft+r.x>=p.x)return void i.scrollBy({left:r.x,behavior:o});n.x=s===ae.Right?i.scrollLeft-h.x:i.scrollLeft-p.x,i.scrollBy({left:-n.x,behavior:o});break}if(v&&f.y!==c.y){if(s===ae.Down&&i.scrollTop+r.y<=h.y||s===ae.Up&&i.scrollTop+r.y>=p.y)return void i.scrollBy({top:r.y,behavior:o});n.y=s===ae.Down?i.scrollTop-h.y:i.scrollTop-p.y,i.scrollBy({top:-n.y,behavior:o});break}}this.handleMove(e,B(c,n))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t),this.coordinates=t}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function he(e){return Boolean(e&&"distance"in e)}function pe(e){return Boolean(e&&"delay"in e)}ue.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=ce,onActivation:n})=>{const{code:i}=e.nativeEvent;return!!t.start.includes(i)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}}];class me{constructor(e,t,n=function(e){const{EventTarget:t}=F(e);return e instanceof t?e:H(e)}(e.event.target)){var i;this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:r}=s;this.props=e,this.events=t,this.document=H(r),this.documentListeners=new ie(this.document),this.listeners=new ie(n),this.windowListeners=new ie(F(r)),this.initialCoordinates=null!=(i=W(s))?i:K,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(re.Resize,this.handleCancel),this.windowListeners.add(re.DragStart,oe),this.windowListeners.add(re.VisibilityChange,this.handleCancel),this.windowListeners.add(re.ContextMenu,oe),this.documentListeners.add(re.Keydown,this.handleKeydown),t){if(he(t))return;if(pe(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(re.Click,le,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(re.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:r,options:{activationConstraint:a}}=s;if(!i)return;const o=null!=(t=W(e))?t:K,l=G(i,o);if(!n&&a){if(pe(a))return se(l,a.tolerance)?this.handleCancel():void 0;if(he(a))return null!=a.tolerance&&se(l,a.tolerance)?this.handleCancel():se(l,a.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),r(o)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===ae.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const fe={move:{name:"pointermove"},end:{name:"pointerup"}};class ge extends me{constructor(e){const{event:t}=e,n=H(t.target);super(e,fe,n)}}ge.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!(!e.isPrimary||0!==e.button)&&(null==t||t({event:e}),!0)}];const ve={move:{name:"mousemove"},end:{name:"mouseup"}};var be;!function(e){e[e.RightClick=2]="RightClick"}(be||(be={}));(class extends me{constructor(e){super(e,ve,H(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button!==be.RightClick&&(null==t||t({event:e}),!0)}];const ye={move:{name:"touchmove"},end:{name:"touchend"}};(class extends me{constructor(e){super(e,ye)}static setup(){return window.addEventListener(ye.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ye.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:n}=e;return!(n.length>1)&&(null==t||t({event:e}),!0)}}];ae.Down,ae.Right,ae.Up,ae.Left;const Ee=9,Se=13,Oe=27,Te=(0,s.forwardRef)((({text:e,name:t,label:n,type:r="text",readonly:o,autofocus:l,autocomplete:c="on",placeholder:d,className:u,maxLength:h,onInput:p,onBlur:m,onFocus:f,onKeyDown:g,onKeyUp:v,onReturn:b,onCancel:y,onPaste:E},S)=>{const O=(0,s.useRef)(null),[T,_]=(0,s.useState)(e),[w,N]=(0,s.useState)(!!l),[A,I]=(0,s.useState)(!1),k=(0,s.useId)(),P=t||k;(0,s.useImperativeHandle)(S,(()=>({focus:()=>{var e,t;O.current===document.activeElement&&(null===(e=O.current)||void 0===e||e.blur()),null===(t=O.current)||void 0===t||t.focus()},blur:()=>{var e;null===(e=O.current)||void 0===e||e.blur()},setText:e=>{var t;null===(t=O.current)||void 0===t||t.setRangeText(e)}})),[O]),(0,s.useEffect)((()=>(_(e),I(!1),()=>{})),[e]),(0,s.useEffect)((()=>(O.current&&l&&O.current.focus(),()=>{})),[l,O]),(0,s.useEffect)((()=>(A&&b&&O.current&&O.current.blur(),()=>{})),[A,O,b]);const L=(0,s.useCallback)((e=>{const t=e.target;_(t.value),p(t.value)}),[p,_]),R=(0,s.useCallback)((e=>{const t=e.target.value;A&&b?(I(!1),b(t)):m&&m(t),N(!1)}),[m,b,A]),C=(0,s.useCallback)((e=>{f&&f(e),N(!0)}),[f]),D=(0,s.useCallback)((e=>{e.stopPropagation();const t=e.which||e.keyCode;t===Se&&I(!0);const n=[Ee,Se,Oe];if("keydown"===e.type&&!n.includes(t))return!1;const i=e.target.value;switch(h&&i.length>h&&e.preventDefault(),t){case Oe:y&&y()}return!1}),[y,h]),M=(0,s.useCallback)((e=>{let t=!1;g&&(t=g(e)),t||D(e)}),[D,g]),x=(0,s.useCallback)((e=>{let t=e.clipboardData.getData("text/plain").trim();h&&(t=t.substring(0,Math.min(h,t.length))),E&&E(t)}),[E,h]),j=a()("mp-text-input",u,{focused:w}),U=n&&(w||!(""===T)),F=w?"":d;return(0,i.jsxs)("div",Object.assign({className:j},{children:[U&&(0,i.jsx)("label",Object.assign({className:"mp-text-input-label",htmlFor:P},{children:n})),(0,i.jsx)("input",{ref:O,autoComplete:c,className:"mp-input",name:P,type:r,value:T,placeholder:F,maxLength:h,onInput:L,onBlur:R,onFocus:C,onKeyPress:D,onKeyDown:M,onKeyUp:v,onPaste:x,readOnly:o})]}))}));var _e=n(97372);function we({isSelected:e,isActive:t,option:n,onSelect:r,onHover:o,tooltip:l}){const[c,d]=(0,s.useState)(null),u=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),r(n,e)}),[r,n]),h=(0,s.useCallback)((()=>{o(n)}),[o,n]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",Object.assign({ref:l?d:null,className:a()("nova-select-option",n.className,{"is-selected":e,"is-active":t,disabled:!!n.disabled}),onClick:u,onMouseEnter:h},{children:[n.icon&&(0,i.jsx)(k.I,{className:"select-menu-icon",name:n.icon,style:n.iconStyle}),(0,i.jsx)("span",Object.assign({className:"nova-select-option-text"},{children:n.text}))]})),l&&(0,i.jsx)(_e.u,{target:c,title:l})]})}const Ne=Object.freeze({white:"#FFF",moonrock:"#F5F4F3",mirror:"#DADADA",sine:"#B5B4B3",cosine:"#999",tangent:"#6D6D6D",lens:"#444",portal:"#222",laser:"#FF3158"}),Ae=Object.freeze({neutron:"#5C7FFF",naiad:"#8BBBFF",neptune:"#385DFF",triton:"#0000EA",proton:"#00A170",sputnik:"#00CC8C",earth:"#007D57",iss:"#006644",electron:"#FFBB00",ring:"#FFDD55",saturn:"#C99100",titan:"#906900",gamma:"#FA5300",deimos:"#FF9955",mars:"#C74200",phobos:"#AA3300"}),Ie=(Object.freeze({heliosphere:"#CA003D",mesosphere:"#990033",exosphere:"#660022",thermosphere:"#D22288",troposphere:"#A727D7",noosphere:"#7733F3",atmosphere:"#1A298C",stratosphere:"#1333CC",hydrosphere:"#1444FF",biosphere:"#006EE1",geosphere:"#0090C0",ecosphere:"#00AFAA",lithosphere:"#00705D",athenosphere:"#004844"}),Object.freeze({primary:Ne,semantic:Ae}),(0,s.forwardRef)((({className:e,children:t},n)=>{const r=(0,s.useRef)(null);return(0,s.useImperativeHandle)(n,(()=>({scrollToSelector:e=>{if(r.current){const t=r.current.querySelector(e);t?t.scrollIntoView():r.current.scrollTop=0}},getScroller:()=>(null==r?void 0:r.current)||void 0})),[r]),(0,i.jsx)("div",Object.assign({ref:r,className:e},{children:t}))}))),ke=({group:e,options:t,renderOption:n,observer:r})=>{const[a,o]=(0,s.useState)(null);return(0,s.useEffect)((()=>{if(a)return null==r||r.observe(a),()=>{null==r||r.unobserve(a)}}),[r,a,e.id]),(0,i.jsxs)("div",Object.assign({className:"nova-select-menu-group","data-group-container-id":e.id},{children:[(0,i.jsx)("div",Object.assign({className:"nova-select-menu-group-header"},{children:e.displayText})),(0,i.jsx)("div",Object.assign({ref:o,className:"nova-select-menu-grouped-options","data-group-id":e.id},{children:t.map(n)}))]}),e.id)};var Pe;!function(e){e.JUSTIFY="justify",e.LEFT="left",e.RIGHT="right"}(Pe||(Pe={}));const Le=(0,s.forwardRef)((({children:e,target:t,className:n,isOpen:r,onClose:o,onChange:l,options:c=[],selectedOptionId:d="",focusedOptionId:u="",setFocusedOptionId:h,autoFocus:p,filterText:m,onKeyDown:f,align:g=Pe.JUSTIFY,groups:v,includeUngrouped:b=!1,getNoResultsText:y,scrollbarComponent:E=Ie,onGroupIntersected:S},O)=>{const[T,A]=(0,s.useState)(),[I,k]=(0,s.useState)(null),[P,L]=(0,s.useState)(),[R,C]=(0,s.useState)(0),D=(0,s.useDeferredValue)(c),M=(0,s.useDeferredValue)(m),{styles:x,attributes:j}=(0,N.D)(t,I,{placement:g===Pe.RIGHT?"bottom-end":"bottom-start",strategy:"fixed",modifiers:[{name:"flip"},{name:"hide"},{name:"offset",options:{offset:[0,4]}}]}),[U,F]=(0,s.useState)(!1),H=(0,w.Z)(t);(0,s.useImperativeHandle)(O,(()=>({scrollToGroupId:e=>{T&&(null==T?void 0:T.scrollToSelector)&&(null==T||T.scrollToSelector(`[data-group-container-id="${e}"]`,"top",!0))}})),[T]);const V=g===Pe.JUSTIFY,B=(0,s.useCallback)(((e,t)=>{l(e,t)}),[l]),G=(0,s.useCallback)((e=>{h&&h(e.id)}),[h]),W=(0,s.useCallback)((()=>{F(!0)}),[F]),z=(0,s.useCallback)((()=>{F(!1)}),[F]);(0,s.useLayoutEffect)((()=>{if(V&&r&&t){const{width:e}=t.getBoundingClientRect();C(e)}return()=>{}}),[r,V,t]),(0,s.useEffect)((()=>{const e=e=>{if(t&&I){const n=e.composedPath(),i=!n.includes(t),s=!n.includes(I);i&&s&&o()}};return r&&I?window.addEventListener("click",e,{capture:!0}):window.removeEventListener("click",e,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0})}}),[I,t,r,o]),(0,s.useEffect)((()=>(r&&p&&I&&I.focus(),()=>{})),[p,r,I]);const K=(0,s.useMemo)((()=>M?D.filter((e=>-1!==e.text.toLowerCase().indexOf(M.toLowerCase()))):D),[D,M]),Y=V?Math.min(R,380):void 0,q=(0,s.useMemo)((()=>{if(v){const e=v.map((e=>e.id));return K.reduce(((t,n)=>{let i=n.group&&e.includes(n.group)&&n.group;return!i&&b&&(i="_ungrouped"),i&&(t[i]||(t[i]=[]),t[i].push(n)),t}),{})}return null}),[v,K,b]);(0,s.useEffect)((()=>{if(!T||!S)return;const e=T.getScroller();if(!e)return;const t=new IntersectionObserver((e=>{if((e=e.filter((e=>e.isIntersecting)).sort(((e,t)=>t.intersectionRatio-e.intersectionRatio))).length>0){const t=e[0].target,{groupId:n}=t.dataset;S(n)}}),{root:e,threshold:[.1,.9]});return L(t),()=>{t.disconnect()}}),[T,L,S]);const $=E,Z=e=>(0,i.jsx)(we,{option:e,isSelected:e.id===d,isActive:e.id===u,onSelect:B,onHover:G,tooltip:e.tooltip},e.id),Q=K.length,X=r&&(Q||""!==m);return(0,i.jsx)(i.Fragment,{children:(0,_.createPortal)(X&&(0,i.jsx)("div",Object.assign({style:Object.assign(Object.assign({},x.popper),{width:Y})},j.popper,{ref:k,tabIndex:0,onKeyDown:f,className:a()("nova-select-menu",n,{"has-focus":U}),onFocus:W,onBlur:z},{children:(0,i.jsxs)(i.Fragment,{children:[e,(0,i.jsx)($,Object.assign({className:"nova-select-items-wrap",ref:A},{children:(0,i.jsxs)(s.Suspense,Object.assign({fallback:"Loading..."},{children:[0===Q&&""!==m&&y&&(0,i.jsx)("span",Object.assign({className:"nova-select-no-results"},{children:y(m||"")})),v&&q?v.map(((e,t)=>q[e.id]?(0,i.jsx)(ke,{group:e,renderOption:Z,options:q[e.id],observer:P},e.id):null)):K.map(Z)]}))}))]})})),H)})})),Re=({items:e=[],focusedItemId:t,selectedItemId:n,onItemFocused:i,onItemSelected:r,onCancel:a,tabSelects:o=!1})=>{const l=(0,s.useMemo)((()=>e.map((e=>e.id))),[e]),c=e.length;(0,s.useEffect)((()=>{i(e.length>0?e[0].id:"")}),[e,i]);const d=(0,s.useCallback)(((e=!1)=>{let s=(l.indexOf(t||n||"")+(e?1:-1))%c;s<0&&(s=c-1),i(l[s])}),[t,n,i,l,c]);return(0,s.useCallback)((e=>{let n=!1;const i=e.code;switch(i){case"ArrowDown":d(!0),n=!0;break;case"ArrowUp":d(!1),n=!0;break;case"Escape":a(),n=!0;break;case"Enter":case"Tab":if("Tab"!==i||o){t&&(r(t),n=!0);break}}return n&&e.preventDefault(),n}),[d,a,o,t,r])};var Ce=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const De=(0,s.forwardRef)(((e,t)=>{var n,{options:r=[],onChange:o,clearOnSelect:l=!1,insertOnSelect:c=!1,onBlur:d,onFocus:u,onKeyDown:h,onKeyUp:p,onPaste:m,selectedOptionId:f,getNoResultsText:g,onCancel:v}=e,b=Ce(e,["options","onChange","clearOnSelect","insertOnSelect","onBlur","onFocus","onKeyDown","onKeyUp","onPaste","selectedOptionId","getNoResultsText","onCancel"]);const[y,E]=(0,s.useState)(null),S=(0,s.useRef)(null),[O,T]=(0,s.useState)(f&&(null===(n=r.find((e=>e.id===f)))||void 0===n?void 0:n.text)||""),[_,w]=(0,s.useState)(""),[N,A]=(0,s.useState)(!1);(0,s.useImperativeHandle)(t,(()=>({focus:()=>{var e;null===(e=S.current)||void 0===e||e.focus()},blur:()=>{var e;null===(e=S.current)||void 0===e||e.blur(),A(!1)},clear:()=>{T("")},setText:e=>{T(e)}})),[S,T]);const I=(0,s.useMemo)((()=>O?r.filter((e=>-1!==e.text.toLowerCase().indexOf(O.toLowerCase()))):r),[r,O]),k=(0,s.useCallback)((e=>{var t;const n="string"==typeof e;n&&0===e.trim().length||(o(e),A(!1),l?T(""):!n&&c&&T(e.text),null===(t=S.current)||void 0===t||t.blur())}),[o,l,c]),P=(0,s.useCallback)((e=>{if(e){const t=I.find((t=>t.id===e));t&&k(t)}}),[k,I]),L=(0,s.useCallback)((()=>{var e;A(!1),null===(e=S.current)||void 0===e||e.blur(),v&&v()}),[v]),R=Re({items:I,focusedItemId:_,onItemFocused:w,onItemSelected:P,onCancel:L,tabSelects:!0}),C=(0,s.useCallback)((e=>{let t=!1;return h&&(t=h(e)),t||(t=R(e)),t}),[h,R]),D=(0,s.useCallback)((e=>{A(!0),u&&u(e)}),[u]),M=(0,s.useCallback)((e=>{d&&d(e)}),[d]),x=(0,s.useCallback)((e=>{m&&m(e),T(e)}),[m,T]),j=(0,s.useCallback)((e=>{P(e.id)}),[P]);return(0,i.jsxs)("div",Object.assign({className:a()("nova-typeahead-input"),ref:E,"aria-autocomplete":"list"},{children:[(0,i.jsx)(Te,Object.assign({},b,{ref:S,text:O,onInput:T,autocomplete:"off",onReturn:k,onCancel:L,onFocus:D,onBlur:M,onKeyDown:C,onKeyUp:p,onPaste:x})),(0,i.jsx)(Le,{options:I,target:y,isOpen:N,onClose:L,onChange:j,filterText:O,focusedOptionId:_,setFocusedOptionId:w,getNoResultsText:g,autoFocus:!1})]}))}));var Me=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};(0,s.forwardRef)(((e,t)=>{var{className:n,buttonClassName:r="button-select-anchor",onChange:o,selectedOptionId:l="",options:c=[],children:d,placeholder:u,placeholderIcon:h,selectMenuClassName:p,onClick:f,align:g=Pe.LEFT,groups:v,filterText:b,allowClear:y,onClear:E,getNoResultsText:S,scrollbarComponent:O,selectMenuRef:T,onGroupIntersected:_}=e,w=Me(e,["className","buttonClassName","onChange","selectedOptionId","options","children","placeholder","placeholderIcon","selectMenuClassName","onClick","align","groups","filterText","allowClear","onClear","getNoResultsText","scrollbarComponent","selectMenuRef","onGroupIntersected"]);const N=(0,s.useRef)(null),[A,I]=(0,s.useState)(!1),[P,L]=(0,s.useState)("");(0,s.useImperativeHandle)(t,(()=>({closeMenu:()=>{I(!1)}})),[]);const R=(0,s.useCallback)((e=>{null==e||e.stopPropagation(),I(!1),L("")}),[]),C=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),f&&f(e),I(!A)}),[A,f]),D=(0,s.useCallback)(((e,t)=>{o(e,t),R()}),[R,o]),M=(0,s.useCallback)((e=>{const t=c.find((t=>t.id===e));t&&D(t,void 0)}),[c,D]),x=Re({items:c,focusedItemId:P,selectedItemId:l,onItemFocused:L,onItemSelected:M,onCancel:R}),j=(0,s.useMemo)((()=>l&&c.find((e=>e.id===l))),[l,c]),U=(0,s.useCallback)((e=>{e.stopPropagation(),E&&E()}),[E]);return(0,i.jsxs)("div",Object.assign({className:a()("nova-button-select",n),ref:N},{children:[(0,i.jsxs)(m.zx,Object.assign({},w,{onClick:C,className:a()(r,{"mp-nova-menu-open":A}),onKeyDown:x},{children:[j&&(0,i.jsxs)(i.Fragment,{children:[j.icon&&(0,i.jsx)(k.I,{className:"select-menu-icon",name:j.icon,style:j.iconStyle}),(0,i.jsx)("span",Object.assign({className:"selection-text"},{children:j.text}))]}),!j&&u&&(0,i.jsxs)(i.Fragment,{children:[h&&(0,i.jsx)(k.I,{className:"select-menu-icon",name:h}),(0,i.jsx)("span",Object.assign({className:"select-placeholder"},{children:u}))]}),y&&l&&(0,i.jsx)(k.I,{name:"close",className:"select-button-clear mp-nova-btn mp-nova-btn-light mp-nova-btn-icon",onClick:U}),(0,i.jsx)(k.I,{className:"select-caret",name:"dpad-down"})]})),(0,i.jsx)(Le,Object.assign({ref:T,target:N.current,isOpen:A,className:p,onClose:R,onChange:D,onKeyDown:x,selectedOptionId:l,focusedOptionId:P,setFocusedOptionId:L,align:g,options:c,autoFocus:!1,groups:v,filterText:b,getNoResultsText:S,scrollbarComponent:O,onGroupIntersected:_},{children:d}))]}))}));var xe=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const je=(0,s.forwardRef)(((e,t)=>{var{allowSelect:n,isSelected:r,isFocused:o,onClick:l,onFocus:c,onRemoveClick:d,className:u,size:h="standard",theme:p="light"}=e,f=xe(e,["allowSelect","isSelected","isFocused","onClick","onFocus","onRemoveClick","className","size","theme"]);const g=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,(()=>({focus:()=>{var e;null===(e=g.current)||void 0===e||e.focus()}})),[g]);const v=(0,s.useCallback)((()=>{d&&d(f)}),[d,f]),b=(0,s.useCallback)((e=>{var t;null===(t=g.current)||void 0===t||t.focus(),l&&l(f,e)}),[l,f]),y=(0,s.useCallback)((e=>{c&&c(f)}),[c,f]),E=void 0!==f.count;return(0,i.jsxs)("div",Object.assign({className:a()("nova-token",`token-size-${h}`,`token-theme-${p}`,u,{"is-selected":r,"is-focused":o,"has-count":E,"can-select":n,"can-remove":!!d}),title:f.text,onClick:b,onFocus:y,tabIndex:0,ref:g,"data-token-id":f.id},{children:[n&&r&&(0,i.jsx)(k.I,{size:k.J.SMALL,name:"checkmark"}),(0,i.jsx)("div",Object.assign({className:"token-text"},{children:f.text})),E&&(0,i.jsx)("div",Object.assign({className:"token-count"},{children:f.count})),!!d&&(0,i.jsx)(m.zx,{onClick:v,icon:"close",size:"small"})]}))})),Ue=({tokens:e,className:t,allowSelect:n,maxVisibleTruncated:r,selectedTokenIds:o=[],onTokenClick:l,tokenSize:c,tokenTheme:d})=>{const[u,h]=(0,s.useState)(!1),p=(0,s.useCallback)(((e,t)=>{h(!u)}),[h,u]),m=!!r,f=(0,s.useMemo)((()=>m&&e.length-r),[e,r,m]),g=(0,s.useMemo)((()=>u?e:e.slice(0,r)),[e,r,u]);return g.length>0?(0,i.jsxs)("div",Object.assign({className:a()("nova-token-list",t,{"is-viewing-all":u})},{children:[g.map((e=>(0,s.createElement)(je,Object.assign({},e,{isSelected:e.isSelected||o.includes(e.id),key:e.id,onClick:l,allowSelect:n,size:c,theme:d})))),m&&e.length>r&&(0,i.jsx)(je,{className:"view-more-btn",onClick:p,size:c,theme:d,id:"_token_list_view_more_btn",text:u?`Hide ${f}...`:`View ${f} more...`})]})):null};var Fe=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const He=function*(){let e=0;for(;;)yield e++}(),Ve=["Backspace","Delete","ArrowLeft","ArrowRight"],Be=()=>{};(0,s.forwardRef)(((e,t)=>{var{initialTokens:n=[],options:r=[],placeholder:o="+ Add",onChange:l,maxTokens:c,maxTokensValidationMsg:d="Maximum tokens added",helpMessage:u,tokenDisplayName:h="Token",validateNewToken:p=Be}=e,m=Fe(e,["initialTokens","options","placeholder","onChange","maxTokens","maxTokensValidationMsg","helpMessage","tokenDisplayName","validateNewToken"]);const f=(0,s.useRef)(null),g=(0,s.useRef)(null),v=(0,s.useRef)(null),[b,y]=(0,s.useState)(),[E,S]=(0,s.useState)(n),[O,T]=(0,s.useState)(),[_,w]=(0,s.useState)(!1),N=(0,s.useMemo)((()=>E.findIndex((e=>e.id===b))),[b,E]);(0,s.useImperativeHandle)(t,(()=>({focus:()=>{var e;null===(e=g.current)||void 0===e||e.focus()},blur:()=>{var e;null===(e=g.current)||void 0===e||e.blur()}})),[g]);const A=(0,s.useCallback)((()=>{var e;null===(e=g.current)||void 0===e||e.focus()}),[g]),I=(0,s.useCallback)((e=>E.some((t=>e===t.text))?`${h} "${e}" would duplicate an existing value.`:void 0),[E,h]),k=(0,s.useCallback)((e=>{const t=I(e)||p(e);return T(t),!t}),[p,I,T]),P=(0,s.useCallback)((e=>{var t;let n=null;if("string"==typeof e?k(e)&&(n={text:e,id:`new_token_${He.next().value}`}):n=e,n){const e=[...E,n];S(e),l(e),null===(t=g.current)||void 0===t||t.clear(),cancelAnimationFrame(v.current||0),v.current=requestAnimationFrame((()=>{var e;null===(e=g.current)||void 0===e||e.focus()}))}}),[E,k]),L=(0,s.useCallback)((e=>{const t=E.filter((t=>t.id!==e));S(t),l(t)}),[E]),R=(0,s.useCallback)((e=>{if(f.current){f.current.querySelector(`[data-token-id="${e}"]`).focus()}}),[f]),C=(0,s.useCallback)((e=>{var t,n,i;e.stopPropagation();const s=E.length-1,r=e.code,a="Backspace"===r||"Delete"===r,o="ArrowLeft"===r,l="ArrowRight"===r;if(b){if(a){L(b),y("");const e=N-1;e>-1&&R(E[e].id)}else if(l)if(N===s)A();else{R(E[N+1].id)}else if(o){const e=N-1;-1===e?null===(n=(t=document.activeElement).blur)||void 0===n||n.call(t):R(E[e].id)}}else E.length>0&&(a||o)&&R(E[E.length-1].id);"Escape"===r&&(null===(i=f.current)||void 0===i||i.blur())}),[L,b,E,N,A,R]),D=(0,s.useCallback)((e=>{const{selectionStart:t,selectionEnd:n}=e.target,i=0===t&&t===n;return e.stopPropagation(),Ve.includes(e.code)&&i&&C(e),!1}),[C]),M=(0,s.useCallback)((e=>{const{value:t}=e.target;k(t)}),[k]),x=(0,s.useCallback)((e=>{k(e)}),[k]),j=(0,s.useCallback)((e=>{L(e.id)}),[L]),U=(0,s.useCallback)((e=>{const{id:t}=e;y(t),w(!0)}),[]),F=(0,s.useCallback)((()=>{y(""),w(!0)}),[]),H=(0,s.useCallback)((()=>{w(!1),y("")}),[]),V=(0,s.useMemo)((()=>{const e=E.map((e=>e.id));return r.filter((t=>!e.includes(t.id)))}),[r,E]),B=void 0!==c&&E.length>=c,G=B&&d?d:O||u;return(0,i.jsxs)("div",Object.assign({className:a()("nova-token-input",{"has-focus":_,"has-warning":B,"has-error":!!O}),onKeyDown:C,onBlur:H,ref:f},{children:[(0,i.jsxs)("div",Object.assign({className:"nova-token-input-container"},{children:[E.map((e=>(0,i.jsx)(je,Object.assign({isFocused:e.id===b,onFocus:U,onRemoveClick:j},e),e.id))),!B&&(0,i.jsx)(De,Object.assign({},m,{ref:g,options:V,onChange:P,placeholder:o,onFocus:F,onBlur:H,onKeyDown:D,onKeyUp:M,onPaste:x}))]})),(0,i.jsxs)("div",Object.assign({className:"nova-input-help"},{children:[(0,i.jsxs)("span",Object.assign({className:"nova-input-counter"},{children:[E.length,void 0!==c&&c>0&&(0,i.jsxs)(i.Fragment,{children:["/",c]})]})),G&&(0,i.jsx)("span",Object.assign({className:"nova-helper-text"},{children:G}))]}))]}))}))},46657:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,b:()=>s});const i={acc:"acc","ada-access":"ada-access",api:"api","audit-reporting":"audit-reporting","aws-twinmaker":"aws_twinmaker",beta:"beta","building-inspection":"building-inspection",calendar:"calendar","capture-services":"capture-services","co2-emissions":"co2_emissions","communication-aec":"communication-aec","communication-general":"communication-general",communication:"communication",completion:"completion","compliance-training":"compliance-training",construction:"construction","cre-education":"cre-education","customer-service_alt":"customer-service_alt","customer-service":"customer-service","data-analysis":"data-analysis","data-privacy-cybersecurity":"data-privacy-cybersecurity",delay:"delay",design:"design",desktop:"desktop","digital-pro":"digital-pro","digital-twin-communication":"digital-twin-communication","digital-twins-cre":"digital-twins-cre","digital-twins-rre":"digital-twins-rre",discover:"discover","dollhouse-view":"dollhouse-view",drones:"drones",edit:"edit","enterprise-business":"enterprise-business","enterprise-security":"enterprise-security","enterprise-services":"enterprise-services","facilities-management":"facilities-management",factory:"factory",floorplans:"floorplans",globe:"globe","google-street-view":"google-street-view","guided-tours":"guided-tours","hd-photos":"hd-photos","house-sold":"house-sold","identify-conditions":"identify-conditions","increase-decrease":"increase-decrease","industry-add-ons":"industry-add-ons","insurance-restoration_cre":"insurance-restoration_cre","insurance-restoration_rre":"insurance-restoration_rre","inventory-management":"inventory-management","iot-sensor-data":"iot-sensor-data",launch:"launch","management-permissions":"management-permissions",marketing:"marketing","matterport-academy":"matterport-academy",mattertags:"mattertags","measurement-mode":"measurement-mode",mesh:"mesh","mfg-collab":"mfg_collab","mobile-download":"mobile-download",mobile:"mobile","money-revenue":"money-revenue","more-views":"more-views",notes:"notes","online-learning":"online-learning","operational-history":"operational-history",outdoor:"outdoor",partners:"partners","photography-360":"photography-360","physics-based-models":"physics-based-models","point-cloud":"point-cloud","private-model-embed":"private-model-embed","pro3-photography":"pro3-photography","process-data":"process-data",productivity:"productivity",prototype:"prototype","real-estate-broker-agent":"real-estate-broker-agent",recycle:"recycle",retail:"retail",rre:"rre",safety:"safety",sales:"sales",sdk:"sdk",smb:"smb","space-search":"space-search",speed:"speed","spending-time":"spending-time",stadium:"stadium","t-h":"t-h",teamwork:"teamwork",twinmaker:"twinmaker",users:"users",vertical:"vertical","video-360":"video-360",videography:"videography",views:"views","virtual-reality":"virtual-reality"},s={acc:"acc-simple",api:"api-simple","audit-reporting":"audit-reporting-simple",communication:"communication-simple","customer-service":"customer-service_simple","data-analysis":"data-analysis-simple",desktop:"desktop-simple","digital-twin-communication":"digital-twin-communication-simple","digital-twins-cre":"digital-twins-cre-simple","digital-twins-rre":"digital-twins-rre-simple",discover:"discover-simple","dollhouse-view":"dollhouse-view-simple",drones:"drones-simple",edit:"edit-simple","enterprise-security":"enterprise-security-simple","enterprise-services":"enterprise-services-simple",floorplans:"floorplans-simple",globe:"globe-simple","google-street-view":"google-street-view-simple","guided-tours":"guided-tours-simple","hd-photos":"hd-photos-simple","house-sold":"house-sold-simple","enterprise-business":"ienterprise-business-simple","increase-decrease":"increase-decrease-simple","industry-add-ons":"industry-add-ons-simple",sdk:"isdk-simple","management-permissions":"management-permissions-simple",marketing:"marketing-simple",mattertags:"mattertags-simple","measurement-mode":"measurement-mode-simple",mobile:"mobile-simple","money-revenue":"money-revenue-simple","more-views":"more-views-simple",notes:"notes-simple",outdoor:"outdoor-simple","private-model-embed":"private-model-embed-simple","pro3-photography":"pro3-photography-simple",productivity:"productivity-simple","real-estate-broker-agent":"real-estate-broker-agent-simple",safety:"safety-simple",sales:"sales-simple",smb:"smb-simple","space-search":"space-search-simple",speed:"speed-simple","spending-time":"spending-time-simple",teamwork:"teamwork-simple",users:"users-simple",videography:"videography-simple","virtual-reality":"virtual-reality-simple"}},86902:(e,t,n)=>{"use strict";n.d(t,{zx:()=>u,qE:()=>s,Wu:()=>i});var i,s,r=n(85893),a=n(94184),o=n.n(a),l=n(67294),c=n(13727),d=n(97372);!function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary",e.FAB="fab"}(i||(i={})),function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(s||(s={}));const u=(0,l.forwardRef)((({ariaLabel:e,ariaDescribedBy:t,ariaRole:n="button",ariaHasPopup:i,ariaExpanded:s=!1,children:a,appendChildren:u=!0,className:h,dataAttribute:p,id:m,disabled:f=!1,dimmed:g=!1,active:v=!1,icon:b,iconSize:y,reverse:E,label:S,onClick:O,onPointerDown:T,onPointerUp:_,onKeyDown:w,size:N,style:A,theme:I="light",tooltip:k,tooltipOptions:P={},variant:L},R)=>{const[C,D]=(0,l.useState)(null),M=void 0===S&&void 0===a,x=b&&(S||a);(0,l.useImperativeHandle)(R,(()=>({focus:()=>{C&&C.focus()}})),[]);const j=e||S||("string"==typeof k?k:void 0),U=o()(h,"mp-nova-btn",{[`mp-nova-btn-${L}`]:void 0!==L},{[`mp-nova-btn-${I}`]:void 0!==I},{[`mp-nova-btn-${N}`]:void 0!==N},{"mp-nova-btn-icon":M},{"mp-nova-btn-multi":x},{"mp-nova-btn-reverse":E},{"mp-nova-disabled":f},{"mp-nova-btn-dimmed":g},{"mp-nova-active":v},{"mp-nova-aria-missing":!j});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",Object.assign({className:U,onClick:O,onPointerDown:T,onPointerUp:_,disabled:f,"aria-disabled":f,ref:D,style:A,onKeyDown:w,tabIndex:f?void 0:0,id:m,"data-attribute":p,"aria-label":j,"aria-expanded":s,"aria-haspopup":i,"aria-describedby":t,role:n},{children:[!u&&a,b&&(0,r.jsx)(c.I,{name:b,size:y}),S&&(0,r.jsx)("span",Object.assign({className:"mp-nova-btn-label"},{children:S})),u&&a]})),k&&(0,r.jsx)(d.u,Object.assign({target:C,title:k,disabled:f},P))]})}))},13727:(e,t,n)=>{"use strict";n.d(t,{I:()=>o,J:()=>l});var i=n(85893),s=n(67294),r=n(94184),a=n.n(r);const o=(0,s.forwardRef)((({name:e,style:t,size:n,className:s,onClick:r},o)=>{const l=a()("nova-icon",`icon-${e}`,s,{[`nova-icon-${n}`]:void 0!==n});return(0,i.jsx)("span",{className:l,style:t,onClick:r,ref:o})}));var l;!function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(l||(l={}))},37056:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var i=n(85893),s=n(67294),r=n(94184),a=n.n(r);const o=(0,s.forwardRef)((({theme:e,style:t,size:n="small",placement:s="top"},r)=>{const o=a()("nova-popper-arrow",{[`nova-theme-${e}`]:void 0!==e,[`nova-size-${n}`]:void 0!==n});return(0,i.jsx)("div",{className:o,style:t,"data-popper-placement":s,ref:r})}))},97372:(e,t,n)=>{"use strict";n.d(t,{u:()=>m});var i=n(85893),s=n(67294),r=n(73935),a=n(54484),o=n(77294),l=n(94184),c=n.n(l),d=n(37056);const u="PointerEvent"in window,h=u?"pointerenter":"mouseenter",p=u?"pointerleave":"mouseleave",m=({children:e,offset:t,placement:n="top",strategy:l="fixed",target:u,title:m,className:f,trigger:g="hover",size:v,theme:b,onToggle:y,disabled:E,sticky:S=!1})=>{const[O,T]=(0,s.useState)(null),[_,w]=(0,s.useState)(null),[N,A]=(0,s.useState)("static"===g),I=t||("small"===v?[0,8]:[0,14]),{styles:k,attributes:P}=(0,o.D)(u,O,{placement:n,strategy:l,modifiers:[{name:"arrow",options:{element:_,padding:"small"===v?4:6}},{name:"flip"},{name:"hide"},{name:"offset",options:{offset:I}}]}),L=(0,a.Z)(u),R=(0,s.useCallback)((()=>{A(!0),y&&y(!0)}),[y]),C=(0,s.useCallback)((()=>{A(!1),y&&y(!1)}),[y]),D=(0,s.useCallback)((e=>{e.stopPropagation(),C()}),[C]);if((0,s.useEffect)((()=>{A("static"===g)}),[g]),(0,s.useEffect)((()=>{if(u&&"hover"===g)return E||u.addEventListener(h,R),u.addEventListener(p,C),()=>{E||u.removeEventListener(h,R),u.removeEventListener(p,C)}}),[u,E,g,R,C]),(0,s.useEffect)((()=>{if(S)return;const e=e=>{if(u&&O){const t=e.composedPath(),n=!t.includes(u),i=!t.includes(O);n&&i&&C()}};return N&&g?window.addEventListener("click",e,{capture:!0}):window.removeEventListener("click",e,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0})}}),[u,O,N,g,C,S]),!N)return null;const M=c()("nova-tooltip",f,{[`nova-tooltip-${b}`]:void 0!==b,[`nova-tooltip-${v}`]:void 0!==v}),x=P.popper?P.popper["data-popper-placement"]:void 0;return(0,i.jsx)(i.Fragment,{children:(0,r.createPortal)((0,i.jsxs)("div",Object.assign({className:M,ref:T,role:"tooltip",style:k.popper},P.popper,{onClick:"static"===g?D:void 0},{children:[m||e,(0,i.jsx)(d.c,{ref:w,style:k.arrow,placement:x,size:v,theme:b})]})),L)})}},54484:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);function s(e){return(0,i.useMemo)((()=>{const t=e?e.getRootNode():document;return t.querySelector("#react-overlay-root")||t.body||t.firstElementChild}),[e])}},56382:(e,t,n)=>{"use strict";n.d(t,{a_:()=>v,t1:()=>o,HF:()=>a,ht:()=>b.h,V0:()=>E});var i=n(70371);class s extends Error{constructor(e,t,n){super(e),this.status=t,this.type=n,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}class r extends s{constructor(e){super(`Cannot request OEmbed data because no configuration matches the url ${e}`,200,"OEmbedUrl")}}class a extends s{constructor(e="unknown provider"){super(`Content from OEmbed provider ${e} is not currently supported`,200,"OEmbedProvider")}}class o extends s{constructor(e="unknown provider"){super(`Content from ${e} is type "link", which Link content is not currently supported`,200,"OEmbedLink")}}function l(e){const t={width:"360",maxwidth:"360",maxheight:"640",url:e,native:"true",autoplay:"true"};if(e.includes("flickr")||e.includes("flic.kr")){const e=Math.max(window.screen.height,window.screen.width);t.maxwidth=t.maxheight=t.width=`${e}`}return{queryParams:new URLSearchParams(t),headers:{responseType:"json"}}}const c=/^https:\/\/www.instagram.com/;const d=/^https:\/\/www.facebook.com/,u=/^https:\/\/www.facebook.com\/(.*\/)?(posts\/|activity\/|photo\.php|photos\/|permalink\.php|media\/set|questions\/|notes\/)/,h=/^https:\/\/www.facebook.com\/(video\.php|.*\/videos\/)/;const p=[{testUrl:function(e){return c.test(e)},request:async function(e,t,n,i){const{queryParams:r,headers:a}=l(e);n&&i&&r.append("access_token",`${n}|${i}`);const o=new URL(`https://graph.facebook.com/v10.0/instagram_oembed?${r.toString()}`);try{return await t.get(o.toString(),a)}catch(e){const t=e;throw new s(t.error.message,t.status_code,t.error.type)}},apiKeys:["instagramAppId","instagramClientToken"]},{testUrl:function(e){return d.test(e)},request:async function(e,t,n,i){const{queryParams:r,headers:a}=l(e);n&&i&&r.append("access_token",`${n}|${i}`);const o=function(e){return u.test(e)?"https://graph.facebook.com/v10.0/oembed_post":h.test(e)?"https://graph.facebook.com/v10.0/oembed_video":"https://graph.facebook.com/v10.0/oembed_page"}(e),c=new URL(`${o}?${r.toString()}`);try{return await t.get(c.toString(),a)}catch(e){const t=e;throw new s(t.error.message,t.status_code,t.error.type)}},apiKeys:["instagramAppId","instagramClientToken"]},{testUrl:()=>!0,request:async function(e,t,n){const{queryParams:i,headers:r}=l(e);n&&i.append("key",n);const a=new URL(`https://api.embed.ly/1/oembed?${i.toString()}`);try{return await t.get(a.toString(),r)}catch(e){const t=e;throw new s(t.error_message,t.status_code,t.type)}},apiKeys:["embedlyKey"]}];const m={[i.z.GoogleMaps]:function(e,t){return e.thumbnail_url&&(e.thumbnail_url=`${e.thumbnail_url}&key=${t.googleMapsApiKey}`),e}};async function f(e,t,n){const s=n.embedlyKey;if(s){const n=function(e,t){if(e.includes("i.embed.ly")||e.startsWith("blob:"))return e;const n=Math.max(window.screen.height,window.screen.width),i=`&url=${encodeURIComponent(e)}&width=${n}&height=${n}`;return`https://i.embed.ly/1/display/resize?key=${t}${i}`}(e,s);return t.get(n,{responseType:"arraybuffer"}).then((e=>{return t=e,new Promise((e=>{t||Promise.resolve(null);const n=t=>{const n=t.target,s={width:n.naturalWidth,height:n.naturalHeight,url:o,type:i.h.PHOTO,version:""};e(s)},s=new Uint8Array(t),r=new Blob([s]),a=new Image;a.addEventListener("load",(e=>n(e)));const o=URL.createObjectURL(r);a.src=o}));var t}))}return null}const g={[i.z.Behance]:!1,[i.z.FaceBook]:!1,[i.z.GoogleMaps]:"googleMapsApiKey",[i.z.Instagram]:["instagramAppId","instagramClientToken"],[i.z.LinkedIn]:!1,[i.z.MixCloud]:!1,[i.z.Pinterest]:!1,[i.z.Reddit]:!0,[i.z.TikTok]:!0,[i.z.Twitter]:!0,[i.z.Twitch]:!1};class v{constructor(e,t){this.cache={},this.queue=e,this.apiKeys=t}async getOEmbedData(e){const t=this.cache[e];if(t&&t.type!==i.h.LINK)return Promise.resolve(t);let n,a;try{a=await function(e,t,n){for(const i of p)if(i.testUrl(e)){const s=i.apiKeys.map((e=>n[e]));return i.request(e,t,...s)}throw new r(e)}(e,this.queue,this.apiKeys)}catch(e){if(![401,404,501].includes(e.status))throw e;n=e}if(!a||a.type===i.h.PHOTO){const t=(null==a?void 0:a.url)||e;try{const n=await f(t,this.queue,this.apiKeys);if(n)return this.cache[e]=n,n}catch(e){if(!a)throw n||e}}if(!a)throw n||s;return this.cache[e]=a,this.validate(a)}clearCache(){this.cache={}}validate(e){if(!((e,t)=>{const n=void 0===e.provider_name?void 0:g[e.provider_name.toLowerCase()];return"string"==typeof n?!!t[n]:Array.isArray(n)?n.every((e=>!!t[e])):!1!==n})(e,this.apiKeys))throw new a(e.provider_name);if(e.type===i.h.LINK)throw new o(e.provider_name);return function(e,t){if(void 0!==e.provider_name){const n=m[e.provider_name.toLowerCase()];if(n)return n(e,t)}return e}(e,this.apiKeys)}}var b=n(66131);const y=/[^]*youtube.com\/shorts\//gi,E=e=>{if(y.test(e)){return`https://youtube.com/watch?v=${e.replace(y,"").replace(/\?(.*)/g,"")}`}return e}},66131:(e,t,n)=>{"use strict";var i;n.d(t,{h:()=>i}),function(e){e.PHOTO="photo",e.VIDEO="video",e.LINK="link",e.RICH="rich"}(i||(i={}))},70371:(e,t,n)=>{"use strict";var i;n.d(t,{h:()=>s.h,z:()=>i}),function(e){e.Behance="behance",e.DailyMotion="dailymotion",e.FaceBook="facebook",e.Flickr="flickr",e.Giphy="giphy",e.GoogleMaps="google maps",e.Instagram="instagram",e.LinkedIn="linkedin",e.Matterport="matterport",e.MixCloud="mixcloud",e.Pinterest="pinterest",e.Reddit="reddit",e.SoundCloud="soundcloud",e.SketchFab="sketchfab",e.Spotify="spotify",e.Tenor="tenor",e.TikTok="tiktok",e.Twitch="twitch",e.Twitter="twitter",e.Tumblr="tumblr",e.Vimeo="vimeo",e.YouTube="youtube"}(i||(i={}));var s=n(66131)},53261:(e,t,n)=>{"use strict";var i,s;n.d(t,{gO:()=>a,ru:()=>i}),function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.HIGHEST=3]="HIGHEST"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.SENDING=1]="SENDING",e[e.FAILED=2]="FAILED",e[e.DONE=3]="DONE"}(s||(s={}));const r=new WeakMap;class a{constructor({retries:e=0,concurrency:t=6}={}){this.totalBytesDownloaded=0,this.queue=[],this.retries=e,this.concurrency=t}get(e,t){return this.request("GET",e,t)}head(e,t){return this.request("HEAD",e,t)}options(e,t){return this.request("OPTIONS",e,t)}post(e,t){return this.request("POST",e,t)}put(e,t){return this.request("PUT",e,t)}patch(e,t){return this.request("PATCH",e,t)}delete(e,t){return this.request("DELETE",e,t)}request(e,t,n){const i=new o(e,t,n);if(null==n?void 0:n.signal){const e=()=>{this.queue.includes(i)&&(i.status===s.SENDING&&i.abort(),this.dequeue(i),i.onFail(new DOMException("Aborted","AbortError")))};n.signal.addEventListener("abort",e),r.set(i,(()=>{var t;null===(t=n.signal)||void 0===t||t.removeEventListener("abort",e),r.delete(i)}))}return this.enqueue(i),i.promise}update(){let e;for(;e=this.getNextPendingRequest();)this.sendRequest(e);for(;e=this.getNextOverflowingGet();)e.abort(),e.status=s.PENDING;this.updateTimeout=null}enqueue(e){let t=0;for(t=0;t<this.queue.length;t++){if(this.queue[t].priority<e.priority)break}this.queue.splice(t,0,e),this.updateTimeout||(this.updateTimeout=window.setTimeout((()=>{this.update()}),1))}dequeue(e){var t;null===(t=r.get(e))||void 0===t||t();const n=this.queue.indexOf(e);if(-1===n)throw new Error("Can't dequeue request not in queue");this.queue.splice(n,1),this.update()}getNextPendingRequest(){for(let e=0;e<this.queue.length&&e<this.concurrency;e++){const t=this.queue[e];if(t.status===s.PENDING)return t}return null}getNextOverflowingGet(){for(let e=this.concurrency;e<this.queue.length;e++){const t=this.queue[e];if(t.status===s.SENDING&&t.priority!==i.HIGHEST&&"GET"===t.method)return t}return null}shouldRetryStatusCode(e){return!a.doNotRetryStatusCodes[e]}sendRequest(e){e.status=s.SENDING,e.send().then((t=>{e.status=s.DONE,this.dequeue(e),e.contentLength&&e.contentLength>0&&(this.totalBytesDownloaded+=Number(e.contentLength)),e.onDone(t)})).catch((t=>{const n=null!==e.maxRetries?e.maxRetries:this.retries;let i=e.sendAttempts<n;if("object"==typeof t){const e=t.status_code||0;i=i&&this.shouldRetryStatusCode(e)}i?(e.status=s.PENDING,this.update(),console.warn(`Retried ${e.url}`),console.warn(t)):(e.status=s.FAILED,this.dequeue(e),console.warn(`Failed ${e.url}`),e.onFail(t))}))}}a.doNotRetryStatusCodes={400:!0,401:!0,403:!0,404:!0,405:!0,406:!0,410:!0,411:!0,414:!0,415:!0,421:!0,431:!0,451:!0};class o{constructor(e,t,n={}){this.sendAttempts=0,this.status=s.PENDING,this.contentLength=0,this.isAborting=!1,this.url=t,this.method=e,this.auth=n.auth||null,this.withCredentials=n.withCredentials||!1,this.priority=n.priority||i.MEDIUM,this.responseType=n.responseType||null,this.body=n.body||null,this.headers=n.headers||{},this.maxRetries=n.maxRetries||null,this.onProgress=n.onProgress,this.promise=new Promise(((e,t)=>{this.onDone=e,this.onFail=t}))}send(){const e=this.xhr=function(e,t,n){let i;if("undefined"!=typeof XMLHttpRequest)i=new XMLHttpRequest,i.withCredentials=n;else{if("undefined"==typeof XDomainRequest)throw new Error("No XMLHTTPRequest or XDomainRequest... are you trying to run me in node? :(");i=new XDomainRequest}return i.open(e,t,!0),i}(this.method,this.url,this.withCredentials);if(this.responseType)if("arraybuffer"===this.responseType||"text"===this.responseType||"json"===this.responseType||"blob"===this.responseType)e.responseType=this.responseType;else{if("image"!==this.responseType)throw new Error('reponseType can only be one of "arraybuffer", "text", "json", "blob", "image"');e.responseType="blob"}"json"===this.responseType&&e.setRequestHeader("Accept","application/json"),this.auth&&"string"==typeof this.auth&&e.setRequestHeader("Authorization",this.auth);for(const t in this.headers)e.setRequestHeader(t,this.headers[t]);return this.body&&"object"==typeof this.body&&(this.body instanceof FormData||(this.body=JSON.stringify(this.body),e.setRequestHeader("Content-Type","application/json"))),this.onProgress&&(e.onprogress=this.onProgress),new Promise(((t,n)=>{e.onreadystatechange=()=>{if(4===e.readyState){if(200===e.status||201===e.status||204===e.status)return this.parseResponse(this.xhr).then((e=>{t(e)}));if(!this.isAborting)return this.parseResponse(this.xhr).then((t=>{n(Object.assign({status_code:e.status},t))})).catch((()=>{n({status_code:e.status})}));this.isAborting=!1}},e.onerror=function(e){n(e)},e.send(this.body),this.sendAttempts++}))}parseResponse(e){return new Promise(((t,n)=>{var i;try{if(!e)throw new Error(`No request received. Trying ${this.method} on ${this.url} and expecting ${this.responseType}, but request was ${this.xhr}`);let n=e.response;if(this.contentLength=parseInt(null!==(i=e.getResponseHeader("Content-Length"))&&void 0!==i?i:"0",10),"json"===this.responseType&&"object"!=typeof n)t(JSON.parse(e.responseText));else if(200!==e.status&&201!==e.status&&204!==e.status||"image"!==this.responseType)t(n);else{const e=URL.createObjectURL(n);n=new Image,n.onload=function(){URL.revokeObjectURL(e),t(n)},n.src=e,n.crossOrigin="Anonymous"}}catch(e){n({error:"Payload was not valid JSON"})}}))}abort(){if(null===this.xhr)throw new Error("Cannot abort unsent Request");this.isAborting=!0,this.xhr.abort()}}},48913:(e,t,n)=>{"use strict";n.d(t,{U7:()=>v,fE:()=>c,HE:()=>l,OR:()=>y,WG:()=>d,RS:()=>g,xA:()=>u,hu:()=>h,tK:()=>i,pP:()=>s,HX:()=>b,MJ:()=>m});n(93153);var i,s,r,a,o=n(88931);!function(e){const t=new o.M;e.connect=async function(e,n,i){let s;try{s=await e.connect()}finally{e.cancelConnecting()}return function(e,t,n,i){return new t(n,e).build(i)}(i,await async function(e){if(!e)throw new Error("Unabled to load the sdk");try{const n=await t.load(e,"sdk-client");if(n&&n.SdkBuilder&&"function"==typeof n.SdkBuilder)return n.SdkBuilder}catch(e){}throw Error(`Could not load the sdk from ${e}`)}(s.scriptUrl),n.getFactory(s),s.serializedInterface)}}(i||(i={})),function(e){e.CONNECT="postmessage.connect"}(s||(s={})),function(e){e.HANDSHAKE="postmessage.handshake",e.ACCEPT="postmessage.accept",e.REJECT="postmessage.reject"}(r||(r={}));class l{constructor(e,t={}){this.type=s.CONNECT,this.payload={bootstrapVersion:e,options:{auth:t.auth,provider:t.provider,sdkType:t.sdkType}}}}class c{constructor(e){this.receiver=e,this.messageType=r.ACCEPT}notify(e,t,n){const{sourceId:i,scriptUrl:s,targetId:r,targetOrigin:a}=e,o=e.interface;this.receiver.accept(i,s,o,r,a)}}!function(e){e.CANCELLED="ConnectionCancelled",e.REFUSED="ConnectionRefused",e.INVALID_PROVIDER="InvalidProvider",e.KEY_MISMATCH="KeyReferrerMismatch"}(a||(a={}));class d extends Error{constructor(){super(),this.type=a.REFUSED,this.name="ConnectionRefusedError"}}class u extends Error{constructor(e){super(e),this.type=a.INVALID_PROVIDER,this.name="InvalidProviderError"}}class h extends Error{constructor(e){super(e),this.type=a.KEY_MISMATCH,this.name="KeyReferrerMismatchError"}}const p={[a.REFUSED]:d,[a.KEY_MISMATCH]:h,[a.INVALID_PROVIDER]:u};class m{constructor(e){this.receiver=e,this.messageType=r.REJECT}notify(e,t,n){const i=p[e.errorType];if(i){const t=new i(e.reason);this.receiver.reject(t)}}}Error;var f;!function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.HANDSHAKE=2]="HANDSHAKE",e[e.CONNECTED=3]="CONNECTED",e[e.REJECTED=4]="REJECTED"}(f||(f={}));class g{constructor(){this.type=r.HANDSHAKE,this.payload={}}}class v{constructor(e,t,n,i,s){this.type=r.ACCEPT,this.payload={scriptUrl:e,interface:t,sourceId:n,targetId:i,targetOrigin:s},this.interface=t}}class b{constructor(e){this.type=r.REJECT,this.payload={reason:e.message,errorType:e.type},this.reason=e.message}}class y{constructor(e){this.receiver=e,this.messageType=s.CONNECT}notify(e,t){this.receiver.onConnectionReceived(e,t)}}},93153:(e,t,n)=>{"use strict";n.d(t,{UX:()=>m,tY:()=>g,Ej:()=>f,l:()=>h,R9:()=>c,TY:()=>l});class i{constructor(e){this.messageReceiver=e}notify(e,t){this.messageReceiver.onMessageReceived(e,t)}}var s=n(13594);class r{listen(){}stopListening(){}send(){throw Error("The sdk has been disconnected and can't make any new calls")}}class a{constructor(e,t,n){this.sourceId=e,this.targetId=t,this.messageBridge=n,this.observers=new s.X}static toFilteredMessenger(e,t,n){const i=new o(e.sourceId,e.targetId,e,t);for(const t of n)for(const n of e.observers.getValuesAtKey(t))i.addObserver(n);return i}init(){const e=new class{constructor(e){this.messenger=e}onMessageReceived(e,t){this.messenger.onMessageReceived(e,t)}}(this),t=new i(e);this.messageBridge.listen(t)}dispose(){this.messageBridge.stopListening(),this.messageBridge=new r}addObserver(e){this.observers.add(e.messageType,e)}removeObserver(e){this.observers.remove(e.messageType,e)}send(e){const t=this.sourceId,n=this.targetId;this.messageBridge.send(Object.assign(Object.assign({},e),{fromId:t,toId:n,timestamp:Date.now()}))}onMessageReceived(e,t){if(!this.filterMessageId(e))return;const n=e.type,i=this.observers.getValuesAtKey(n);if(i)for(const n of i){const i=e.payload||e;n.notify(i,t,e.timestamp)}}filterMessageId(e){const t=e.toId,n=e.fromId;return t instanceof Array?t.indexOf(this.sourceId)>-1:(void 0===t||t===this.sourceId)&&n===this.targetId}}class o extends a{constructor(e,t,n,i){super(e,t,new r),this.messenger=n,this.sendFilter=i,this.errorBridge=new r}send(e){this.sendFilter.includes(e.type)?this.messenger.send(e):this.errorBridge.send()}}class l{constructor(e,t){this.sourceId=e,this.listenerBridge=t,this.observers=new s.X}init(){const e=new class{constructor(e){this.messenger=e}onMessageReceived(e,t){this.messenger.onMessageReceived(e,t)}}(this),t=new i(e);this.listenerBridge.listen(t)}dispose(){this.listenerBridge.stopListening()}addObserver(e){this.observers.add(e.messageType,e)}removeObserver(e){this.observers.remove(e.messageType,e)}send(e,t,n,i){n.send(Object.assign(Object.assign({},e),{fromId:this.sourceId,toId:t,timestamp:Date.now()}),i)}onMessageReceived(e,t){const n=e.type,i=this.observers.getValuesAtKey(n);if(i)for(const n of i){const i=e.payload||e;n.notify(i,t,e.timestamp)}}}class c{constructor(e){this.targetWindow=e,this.messageObserver=null,this.onMessage=e=>{if(this.messageObserver){const t=e.data;this.messageObserver.notify(Object.assign({},t),{id:t.fromId,origin:e.origin,source:e.source},e.data.timestamp)}}}listen(e){this.messageObserver||(this.messageObserver=e,this.targetWindow.addEventListener("message",this.onMessage))}stopListening(){this.targetWindow.removeEventListener("message",this.onMessage),this.messageObserver=null}}class d{constructor(e,t="*"){this.targetWindow=e,this.targetOrigin=t}send(e,t){this.targetWindow.postMessage(e,this.targetOrigin)}}class u{constructor(e,t,n="*"){this.sourceWindow=e,this.listener=new c(e),this.sender=new d(t,n)}listen(e){this.listener.listen(e)}stopListening(){this.listener.stopListening()}send(e){this.sender.send(e,this.sourceWindow)}}class h{constructor(e,t,n,i,s="*"){this.sourceId=e,this.sourceWindow=t,this.targetId=n,this.targetWindow=i,this.targetOrigin=s}createMessenger(){const e=new u(this.sourceWindow,this.targetWindow,this.targetOrigin);return new a(this.sourceId,this.targetId,e)}}class p{constructor(e,t){this.source=e,this.target=t,this.messageObserver=null}listen(e){this.messageObserver||(this.messageObserver=e,this.source.addObserver(e))}stopListening(){this.messageObserver&&this.source.removeObserver(this.messageObserver)}send(e){const t=this.target;t&&t.post(Object.assign({},e),this.source)}}class m{constructor(e,t,n,i){this.sourceId=e,this.sourceNode=t,this.targetId=n,this.targetNode=i}createMessenger(){const e=new p(this.sourceNode,this.targetNode);return new a(this.sourceId,this.targetId,e)}}class f{constructor(e){this.origin=e,this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}post(e,t){for(const n of this.observers)n.notify(e,t)}}class g{constructor(e){this.targetNode=e,this.messageObserver=null,this.onMessage=(e,t)=>{this.messageObserver&&this.messageObserver.notify({payload:Object.assign({},e.payload),type:e.type},{id:e.fromId,source:t},e.timestamp)}}listen(e){this.messageObserver||(this.messageObserver=e,this.targetNode.addObserver({notify:(e,t)=>{this.onMessage(e,t)}}))}stopListening(){this.messageObserver=null}}},6667:(e,t,n)=>{"use strict";var i;n.d(t,{M:()=>i}),function(e){e[e.DOWN=0]="DOWN",e[e.PRESSED=1]="PRESSED",e[e.UP=2]="UP"}(i||(i={}))},32597:(e,t,n)=>{"use strict";var i;n.d(t,{R:()=>i}),function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.RETURN=13]="RETURN",e[e.SHIFT=16]="SHIFT",e[e.CONTROL=17]="CONTROL",e[e.ALT=18]="ALT",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.HASH=35]="HASH",e[e.LEFTARROW=37]="LEFTARROW",e[e.UPARROW=38]="UPARROW",e[e.RIGHTARROW=39]="RIGHTARROW",e[e.DOWNARROW=40]="DOWNARROW",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.AT=64]="AT",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.SEMICOLON=186]="SEMICOLON",e[e.PLUSEQUALS=187]="PLUSEQUALS",e[e.COMMA=188]="COMMA",e[e.DASHUNDERSCORE=189]="DASHUNDERSCORE",e[e.PERIOD=190]="PERIOD",e[e.OPENBRACKET=219]="OPENBRACKET"}(i||(i={}))},16782:(e,t,n)=>{"use strict";var i,s;n.d(t,{M:()=>i,r:()=>s}),function(e){e[e.PRIMARY=0]="PRIMARY",e[e.MIDDLE=1]="MIDDLE",e[e.SECONDARY=2]="SECONDARY",e[e.BACK=3]="BACK",e[e.FORWARD=4]="FORWARD",e[e.COUNT=5]="COUNT"}(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.PRIMARY=1]="PRIMARY",e[e.SECONDARY=4]="SECONDARY",e[e.MIDDLE=2]="MIDDLE",e[e.BACK=8]="BACK",e[e.FORWARD=16]="FORWARD",e[e.ALL=31]="ALL"}(s||(s={}))},41927:(e,t,n)=>{"use strict";var i;n.d(t,{_:()=>i}),function(e){e.MOUSE="mouse",e.TOUCH="touch",e.PEN="pen",e.GAMEPAD="gamepad"}(i||(i={}))},13594:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});class i{constructor(){this.values={}}add(e,t){this.getValuesAtKey(e).push(t)}remove(e,t){const n=this.values[e];if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}removeKey(e){delete this.values[e]}getValuesAtKey(e){const t=this.values[e]||[];return this.values[e]=t,t}valuesPerKey(e){return this.getValuesAtKey(e).length}find(e,t){return this.values[e]&&this.values[e].find(t)}get keys(){return Object.keys(this.values)}hasKey(e){return e in this.values}has(e,t){return this.hasKey(e)&&this.values[e].includes(t)}*[Symbol.iterator](){for(const e in this.values)for(const t of this.values[e])yield[e,t]}}Symbol.iterator},37519:(e,t,n)=>{"use strict";function i(e){return"number"==typeof e&&!isNaN(e)}function s(e,t,n){return Math.max(t,Math.min(e,n))}n.d(t,{hj:()=>i,uZ:()=>s})},8403:(e,t,n)=>{"use strict";function i(e){return!!e&&"object"==typeof e}n.d(t,{K:()=>i})},29708:(e,t,n)=>{"use strict";function i(e,t){return Object.values(e).includes(t)}n.d(t,{p:()=>i})},40731:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var i=n(37519);function s(e){if(e&&"object"==typeof e&&"x"in e&&"y"in e&&"z"in e){const t=e;return(0,i.hj)(t.x)&&(0,i.hj)(t.y)&&(0,i.hj)(t.z)}return!1}},42238:function(e,t,n){var i;!function(s,r){"use strict";var a="function",o="undefined",l="object",c="model",d="name",u="type",h="vendor",p="version",m="architecture",f="console",g="mobile",v="tablet",b="smarttv",y="wearable",E={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},S={rgx:function(e,t){for(var n,i,s,o,c,d,u=0;u<t.length&&!c;){var h=t[u],p=t[u+1];for(n=i=0;n<h.length&&!c;)if(c=h[n++].exec(e))for(s=0;s<p.length;s++)d=c[++i],typeof(o=p[s])===l&&o.length>0?2==o.length?typeof o[1]==a?this[o[0]]=o[1].call(this,d):this[o[0]]=o[1]:3==o.length?typeof o[1]!==a||o[1].exec&&o[1].test?this[o[0]]=d?d.replace(o[1],o[2]):r:this[o[0]]=d?o[1].call(this,d,o[2]):r:4==o.length&&(this[o[0]]=d?o[3].call(this,d.replace(o[1],o[2])):r):this[o]=d||r;u+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(E.has(t[n][i],e))return"?"===n?r:n}else if(E.has(t[n],e))return"?"===n?r:n;return e}},O={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},T={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[d,p],[/(opios)[\/\s]+([\w\.]+)/i],[[d,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[d,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[d,p],[/(konqueror)\/([\w\.]+)/i],[[d,"Konqueror"],p],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[d,"IE"],p],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[d,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[d,"Yandex"],p],[/(Avast)\/([\w\.]+)/i],[[d,"Avast Secure Browser"],p],[/(AVG)\/([\w\.]+)/i],[[d,"AVG Secure Browser"],p],[/(puffin)\/([\w\.]+)/i],[[d,"Puffin"],p],[/(focus)\/([\w\.]+)/i],[[d,"Firefox Focus"],p],[/(opt)\/([\w\.]+)/i],[[d,"Opera Touch"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[d,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(windowswechat qbcore)\/([\w\.]+)/i],[[d,"WeChat(Win) Desktop"],p],[/(micromessenger)\/([\w\.]+)/i],[[d,"WeChat"],p],[/(brave)\/([\w\.]+)/i],[[d,"Brave"],p],[/(whale)\/([\w\.]+)/i],[[d,"Whale"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[d,p],[/(QQ)\/([\d\.]+)/i],[d,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[d,p],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[d,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[d,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[d],[/(LBBROWSER)/i],[d],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[d,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[d,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[d,p],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[d,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[d,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[d,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[d,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[d,"Sailfish Browser"],p],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[d,p],[/(dolfin)\/([\w\.]+)/i],[[d,"Dolphin"],p],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[d,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[d,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[d,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[d,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,d],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[d,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[p,S.str,O.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,E.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[c,h,[u,v]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[h,"Apple"],[u,v]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[h,"Apple"],[u,b]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,c,[u,v]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[c,[h,"Amazon"],[u,v]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[c,S.str,O.device.amazon.model],[h,"Amazon"],[u,g]],[/android.+aft([bms])\sbuild/i],[c,[h,"Amazon"],[u,b]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,h,[u,g]],[/\((ip[honed|\s\w*]+);/i],[c,[h,"Apple"],[u,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,c,[u,g]],[/\(bb10;\s(\w+)/i],[c,[h,"BlackBerry"],[u,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[c,[h,"Asus"],[u,v]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[h,"Sony"],[c,"Xperia Tablet"],[u,v]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,"Sony"],[u,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,c,[u,f]],[/android.+;\s(shield)\sbuild/i],[c,[h,"Nvidia"],[u,f]],[/(playstation\s[34portablevi]+)/i],[c,[h,"Sony"],[u,f]],[/(sprint\s(\w+))/i],[[h,S.str,O.device.sprint.vendor],[c,S.str,O.device.sprint.model],[u,g]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[c,/_/g," "],[u,g]],[/(nexus\s9)/i],[c,[h,"HTC"],[u,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[c,[h,"Huawei"],[u,g]],[/android.+(bah2?-a?[lw]\d{2})/i],[c,[h,"Huawei"],[u,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[h,c,[u,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[h,"Microsoft"],[u,f]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,"Microsoft"],[u,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[h,"Motorola"],[u,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[h,"Motorola"],[u,v]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,E.trim],[c,E.trim],[u,b]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,"Samsung"],[u,b]],[/\(dtv[\);].+(aquos)/i],[c,[h,"Sharp"],[u,b]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],c,[u,v]],[/smart-tv.+(samsung)/i],[h,[u,b],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[h,"Samsung"],c,[u,g]],[/sie-(\w*)/i],[c,[h,"Siemens"],[u,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[h,"Nokia"],c,[u,g]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[h,"Acer"],[u,v]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[h,"LG"],[u,v]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],c,[u,v]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[h,"LG"],c,[u,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[h,"LG"],[u,g]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[h,c,[u,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[h,"Lenovo"],[u,v]],[/(lenovo)[_\s-]?([\w-]+)/i],[h,c,[u,g]],[/linux;.+((jolla));/i],[h,c,[u,g]],[/((pebble))app\/[\d\.]+\s/i],[h,c,[u,y]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,c,[u,g]],[/crkey/i],[[c,"Chromecast"],[h,"Google"],[u,b]],[/android.+;\s(glass)\s\d/i],[c,[h,"Google"],[u,y]],[/android.+;\s(pixel c)[\s)]/i],[c,[h,"Google"],[u,v]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[c,[h,"Google"],[u,g]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[c,/_/g," "],[h,"Xiaomi"],[u,g]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[c,/_/g," "],[h,"Xiaomi"],[u,v]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[h,"Meizu"],[u,g]],[/(mz)-([\w-]{2,})/i],[[h,"Meizu"],c,[u,g]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[c,[h,"OnePlus"],[u,g]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[h,"RCA"],[u,v]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[c,[h,"Dell"],[u,v]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[h,"Verizon"],[u,v]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[h,"Barnes & Noble"],c,[u,v]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[h,"NuVision"],[u,v]],[/android.+;\s(k88)\sbuild/i],[c,[h,"ZTE"],[u,v]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[h,"Swiss"],[u,g]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[h,"Swiss"],[u,v]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[h,"Zeki"],[u,v]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[h,"Dragon Touch"],c,[u,v]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[h,"Insignia"],[u,v]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[h,"NextBook"],[u,v]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[h,"Voice"],c,[u,g]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[h,"LvTel"],c,[u,g]],[/android.+;\s(PH-1)\s/i],[c,[h,"Essential"],[u,g]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[h,"Envizen"],[u,v]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[h,c,[u,v]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[c,[h,"MachSpeed"],[u,v]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[h,c,[u,v]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[h,"Rotor"],[u,v]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[h,c,[u,v]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[c,[u,g]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[c,[u,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,E.lowerize],h,c],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,b]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[h,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[d,[p,S.str,O.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[p,S.str,O.os.windows.version]],[/\((bb)(10);/i],[[d,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[d,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[d,"Symbian"],p],[/\((series40);/i],[d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"],p],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[d,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[d,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[d,p],[/(haiku)\s(\w+)/i],[d,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[d,p]]},_=function(e,t){if("object"==typeof e&&(t=e,e=r),!(this instanceof _))return new _(e,t).getResult();var n=e||(s&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:""),i=t?E.extend(T,t):T;return this.getBrowser=function(){var e={name:r,version:r};return S.rgx.call(e,n,i.browser),e.major=E.major(e.version),e},this.getCPU=function(){var e={architecture:r};return S.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:r,model:r,type:r};return S.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:r,version:r};return S.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:r,version:r};return S.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};_.VERSION="0.7.23",_.BROWSER={NAME:d,MAJOR:"major",VERSION:p},_.CPU={ARCHITECTURE:m},_.DEVICE={MODEL:c,VENDOR:h,TYPE:u,CONSOLE:f,MOBILE:g,SMARTTV:b,TABLET:v,WEARABLE:y,EMBEDDED:"embedded"},_.ENGINE={NAME:d,VERSION:p},_.OS={NAME:d,VERSION:p},typeof t!==o?(e.exports&&(t=e.exports=_),t.UAParser=_):(i=function(){return _}.call(t,n,t,e))===r||(e.exports=i);var w=s&&(s.jQuery||s.Zepto);if(w&&!w.ua){var N=new _;w.ua=N.getResult(),w.ua.get=function(){return N.getUA()},w.ua.set=function(e){N.setUA(e);var t=N.getResult();for(var n in t)w.ua[n]=t[n]}}}("object"==typeof window?window:this)},52511:function(e,t,n){var i;e=n.nmd(e),function(s){t&&t.nodeType,e&&e.nodeType;var r="object"==typeof n.g&&n.g;r.global!==r&&r.window!==r&&r.self;var a,o=2147483647,l=36,c=/^xn--/,d=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function f(e){throw RangeError(h[e])}function g(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function v(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+g((e=e.replace(u,".")).split("."),t).join(".")}function b(e){for(var t,n,i=[],s=0,r=e.length;s<r;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<r?56320==(64512&(n=e.charCodeAt(s++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),s--):i.push(t);return i}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var i=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;i+=l)e=p(e/35);return p(i+36*e/(e+38))}function O(e){var t,n,i,s,r,a,c,d,u,h,m,g=[],v=e.length,b=0,E=128,O=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&f("not-basic"),g.push(e.charCodeAt(i));for(s=n>0?n+1:0;s<v;){for(r=b,a=1,c=l;s>=v&&f("invalid-input"),((d=(m=e.charCodeAt(s++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:l)>=l||d>p((o-b)/a))&&f("overflow"),b+=d*a,!(d<(u=c<=O?1:c>=O+26?26:c-O));c+=l)a>p(o/(h=l-u))&&f("overflow"),a*=h;O=S(b-r,t=g.length+1,0==r),p(b/t)>o-E&&f("overflow"),E+=p(b/t),b%=t,g.splice(b++,0,E)}return y(g)}function T(e){var t,n,i,s,r,a,c,d,u,h,g,v,y,O,T,_=[];for(v=(e=b(e)).length,t=128,n=0,r=72,a=0;a<v;++a)(g=e[a])<128&&_.push(m(g));for(i=s=_.length,s&&_.push("-");i<v;){for(c=o,a=0;a<v;++a)(g=e[a])>=t&&g<c&&(c=g);for(c-t>p((o-n)/(y=i+1))&&f("overflow"),n+=(c-t)*y,t=c,a=0;a<v;++a)if((g=e[a])<t&&++n>o&&f("overflow"),g==t){for(d=n,u=l;!(d<(h=u<=r?1:u>=r+26?26:u-r));u+=l)T=d-h,O=l-h,_.push(m(E(h+T%O,0))),d=p(T/O);_.push(m(E(d,0))),r=S(n,y,i==s),n=0,++i}++n,++t}return _.join("")}a={version:"1.3.2",ucs2:{decode:b,encode:y},decode:O,encode:T,toASCII:function(e){return v(e,(function(e){return d.test(e)?"xn--"+T(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?O(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}()},8575:(e,t,n)=>{"use strict";var i=n(52511),s=n(62502);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=y;var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(c),u=["%","/","?",";","#"].concat(d),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(17673);function y(e,t,n){if(e&&s.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}r.prototype.parse=function(e,t,n){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",c=e.split(o);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(o);if(y=y.trim(),!n&&1===e.split("#").length){var E=l.exec(y);if(E)return this.path=y,this.href=y,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=a.exec(y);if(S){var O=(S=S[0]).toLowerCase();this.protocol=O,y=y.substr(S.length)}if(n||S||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===y.substr(0,2);!T||S&&g[S]||(y=y.substr(2),this.slashes=!0)}if(!g[S]&&(T||S&&!v[S])){for(var _,w,N=-1,A=0;A<h.length;A++){-1!==(I=y.indexOf(h[A]))&&(-1===N||I<N)&&(N=I)}-1!==(w=-1===N?y.lastIndexOf("@"):y.lastIndexOf("@",N))&&(_=y.slice(0,w),y=y.slice(w+1),this.auth=decodeURIComponent(_)),N=-1;for(A=0;A<u.length;A++){var I;-1!==(I=y.indexOf(u[A]))&&(-1===N||I<N)&&(N=I)}-1===N&&(N=y.length),this.host=y.slice(0,N),y=y.slice(N),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var P=this.hostname.split(/\./),L=(A=0,P.length);A<L;A++){var R=P[A];if(R&&!R.match(p)){for(var C="",D=0,M=R.length;D<M;D++)R.charCodeAt(D)>127?C+="x":C+=R[D];if(!C.match(p)){var x=P.slice(0,A),j=P.slice(A+1),U=R.match(m);U&&(x.push(U[1]),j.unshift(U[2])),j.length&&(y="/"+j.join(".")+y),this.hostname=x.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=i.toASCII(this.hostname));var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!f[O])for(A=0,L=d.length;A<L;A++){var V=d[A];if(-1!==y.indexOf(V)){var B=encodeURIComponent(V);B===V&&(B=escape(V)),y=y.split(V).join(B)}}var G=y.indexOf("#");-1!==G&&(this.hash=y.substr(G),y=y.slice(0,G));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var z=this.search||"";this.path=F+z}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,a="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),t+r+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+i},r.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(s.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),a=0;a<i.length;a++){var o=i[a];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var d=l[c];"protocol"!==d&&(n[d]=e[d])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var p=u[h];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",b=n.search||"";n.path=f+b}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),E=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=E||y||n.host&&e.pathname,O=S,T=n.pathname&&n.pathname.split("/")||[],_=(m=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(_&&(n.hostname="",n.port=null,n.host&&(""===T[0]?T[0]=n.host:T.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),S=S&&(""===m[0]||""===T[0])),E)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,T=m;else if(m.length)T||(T=[]),T.pop(),T=T.concat(m),n.search=e.search,n.query=e.query;else if(!s.isNullOrUndefined(e.search)){if(_)n.hostname=n.host=T.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift());return n.search=e.search,n.query=e.query,s.isNull(n.pathname)&&s.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!T.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var w=T.slice(-1)[0],N=(n.host||e.host||T.length>1)&&("."===w||".."===w)||""===w,A=0,I=T.length;I>=0;I--)"."===(w=T[I])?T.splice(I,1):".."===w?(T.splice(I,1),A++):A&&(T.splice(I,1),A--);if(!S&&!O)for(;A--;A)T.unshift("..");!S||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),N&&"/"!==T.join("/").substr(-1)&&T.push("");var k,P=""===T[0]||T[0]&&"/"===T[0].charAt(0);_&&(n.hostname=n.host=P?"":T.length?T.shift():"",(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift()));return(S=S||n.host&&T.length)&&!P&&T.unshift(""),T.length?n.pathname=T.join("/"):(n.pathname=null,n.path=null),s.isNull(n.pathname)&&s.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},53250:(e,t,n)=>{"use strict";var i=n(67294);var s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=i.useState,a=i.useEffect,o=i.useLayoutEffect,l=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!s(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=r({inst:{value:n,getSnapshot:t}}),s=i[0].inst,d=i[1];return o((function(){s.value=n,s.getSnapshot=t,c(s)&&d({inst:s})}),[e,n,t]),a((function(){return c(s)&&d({inst:s}),e((function(){c(s)&&d({inst:s})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:d},61688:(e,t,n)=>{"use strict";e.exports=n(53250)},42473:e=>{"use strict";var t=function(){};e.exports=t},55512:(e,t,n)=>{var i,s;void 0===(s="function"==typeof(i=function(){"use strict";const e=6406,t=6407,n=6408,i=6409,s=6410,r=6402,a=34041,o=33321,l=36756,c=33325,d=33326,u=33330,h=33329,p=33338,m=33337,f=33340,g=33339,v=33323,b=36757,y=33327,E=33328,S=33336,O=33335,T=33332,_=33331,w=33334,N=33333,A=32849,I=35905,k=36194,P=36758,L=35898,R=35901,C=34843,D=34837,M=36221,x=36239,j=36215,U=36233,F=36209,H=36227,V=32856,B=35907,G=36759,W=32855,z=32854,K=32857,Y=34842,q=34836,$=36220,Z=36238,Q=36975,X=36214,J=36232,ee=36226,te=36208,ne=33189,ie=33190,se=36012,re=36013,ae=35056,oe=5121,le=5123,ce=5125,de=5126,ue=32819,he=32820,pe=33635,me=5131,fe=36193,ge=35906;let ve;function be(be){if(!ve){const be={};be[e]={bytesPerElement:[1,2,2,4],type:[oe,me,fe,de]},be[i]={bytesPerElement:[1,2,2,4],type:[oe,me,fe,de]},be[s]={bytesPerElement:[2,4,4,8],type:[oe,me,fe,de]},be[t]={bytesPerElement:[3,6,6,12,2],type:[oe,me,fe,de,pe]},be[n]={bytesPerElement:[4,8,8,16,2,2],type:[oe,me,fe,de,ue,he]},be[ge]={bytesPerElement:[4,8,8,16,2,2],type:[oe,me,fe,de,ue,he]},be[r]={bytesPerElement:[2,4],type:[ce,le]},be[a]={bytesPerElement:[4]},be[o]={bytesPerElement:[1]},be[l]={bytesPerElement:[1]},be[c]={bytesPerElement:[2]},be[d]={bytesPerElement:[4]},be[u]={bytesPerElement:[1]},be[h]={bytesPerElement:[1]},be[T]={bytesPerElement:[2]},be[_]={bytesPerElement:[2]},be[w]={bytesPerElement:[4]},be[N]={bytesPerElement:[4]},be[v]={bytesPerElement:[2]},be[b]={bytesPerElement:[2]},be[y]={bytesPerElement:[4]},be[E]={bytesPerElement:[8]},be[S]={bytesPerElement:[2]},be[O]={bytesPerElement:[2]},be[p]={bytesPerElement:[4]},be[m]={bytesPerElement:[4]},be[f]={bytesPerElement:[8]},be[g]={bytesPerElement:[8]},be[A]={bytesPerElement:[3]},be[I]={bytesPerElement:[3]},be[k]={bytesPerElement:[2]},be[P]={bytesPerElement:[3]},be[L]={bytesPerElement:[4]},be[R]={bytesPerElement:[4]},be[C]={bytesPerElement:[6]},be[D]={bytesPerElement:[12]},be[M]={bytesPerElement:[3]},be[x]={bytesPerElement:[3]},be[j]={bytesPerElement:[6]},be[U]={bytesPerElement:[6]},be[F]={bytesPerElement:[12]},be[H]={bytesPerElement:[12]},be[V]={bytesPerElement:[4]},be[B]={bytesPerElement:[4]},be[G]={bytesPerElement:[4]},be[W]={bytesPerElement:[2]},be[z]={bytesPerElement:[2]},be[K]={bytesPerElement:[4]},be[Y]={bytesPerElement:[8]},be[q]={bytesPerElement:[16]},be[$]={bytesPerElement:[4]},be[Z]={bytesPerElement:[4]},be[Q]={bytesPerElement:[4]},be[X]={bytesPerElement:[8]},be[J]={bytesPerElement:[8]},be[ee]={bytesPerElement:[16]},be[te]={bytesPerElement:[16]},be[ne]={bytesPerElement:[2]},be[ie]={bytesPerElement:[4]},be[se]={bytesPerElement:[4]},be[ae]={bytesPerElement:[4]},be[re]={bytesPerElement:[4]},ve=be}return ve[be]}function ye(e,t,n){return function(i,s,r){return((i+e-1)/e|0)*((s+t-1)/t|0)*n*r}}function Ee(e,t,n){return function(i,s,r){return(Math.max(i,e)*Math.max(s,t)/n|0)*r}}const Se=33777,Oe=33778,Te=33779,_e=36196,we=35840,Ne=35841,Ae=35842,Ie=35843,ke=37488,Pe=37489,Le=37490,Re=37491,Ce=37492,De=37493,Me=37494,xe=37495,je=37496,Ue=37497,Fe=37808,He=37809,Ve=37810,Be=37811,Ge=37812,We=37813,ze=37814,Ke=37815,Ye=37816,qe=37817,$e=37818,Ze=37819,Qe=37820,Xe=37821,Je=37840,et=37841,tt=37842,nt=37843,it=37844,st=37845,rt=37846,at=37847,ot=37848,lt=37849,ct=37850,dt=37851,ut=37852,ht=37853,pt=35916,mt=35917,ft=35918,gt=35919,vt=36492,bt=36493,yt=36494,Et=36495,St=36283,Ot=36284,Tt=36285,_t=36286,wt=new Map([[33776,ye(4,4,8)],[Se,ye(4,4,8)],[Oe,ye(4,4,16)],[Te,ye(4,4,16)],[_e,ye(4,4,8)],[we,Ee(8,8,2)],[Ae,Ee(8,8,2)],[Ne,Ee(16,8,4)],[Ie,Ee(16,8,4)],[ke,ye(4,4,8)],[Pe,ye(4,4,8)],[Ce,ye(4,4,8)],[De,ye(4,4,8)],[Me,ye(4,4,8)],[xe,ye(4,4,8)],[Le,ye(4,4,16)],[Re,ye(4,4,16)],[je,ye(4,4,16)],[Ue,ye(4,4,16)],[Fe,ye(4,4,16)],[Je,ye(4,4,16)],[He,ye(5,4,16)],[et,ye(5,4,16)],[Ve,ye(5,5,16)],[tt,ye(5,5,16)],[Be,ye(6,5,16)],[nt,ye(6,5,16)],[Ge,ye(6,6,16)],[it,ye(6,6,16)],[We,ye(8,5,16)],[st,ye(8,5,16)],[ze,ye(8,6,16)],[rt,ye(8,6,16)],[Ke,ye(8,8,16)],[at,ye(8,8,16)],[Ye,ye(10,5,16)],[ot,ye(10,5,16)],[qe,ye(10,6,16)],[lt,ye(10,6,16)],[$e,ye(10,8,16)],[ct,ye(10,8,16)],[Ze,ye(10,10,16)],[dt,ye(10,10,16)],[Qe,ye(12,10,16)],[ut,ye(12,10,16)],[Xe,ye(12,12,16)],[ht,ye(12,12,16)],[pt,ye(4,4,8)],[mt,ye(4,4,8)],[ft,ye(4,4,16)],[gt,ye(4,4,16)],[vt,ye(4,4,16)],[bt,ye(4,4,16)],[yt,ye(4,4,16)],[Et,ye(4,4,16)],[St,ye(4,4,8)],[Ot,ye(4,4,8)],[Tt,ye(4,4,16)],[_t,ye(4,4,16)]]);function Nt(e,t){const n=be(e);if(!n)throw"unknown internal format";if(n.type){const i=n.type.indexOf(t);if(i<0)throw new Error(`unsupported type ${t} for internalformat ${e}`);return n.bytesPerElement[i]}return n.bytesPerElement[0]}function At(e,t,n,i,s){return t*n*i*Nt(e,s)}function It(e,t,n,i,s){const r=wt.get(e);return r?r(t,n,i):At(e,t,n,i,s)}function kt(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer}function Pt(e){return kt(e)||e instanceof ArrayBuffer}function Lt(e){return{samples:e.getParameter(e.SAMPLES),depthBits:e.getParameter(e.DEPTH_BITS),contextAttributes:e.getContextAttributes()}}function Rt(e,t){const{samples:n,depthBits:i,contextAttributes:s}=t,{width:r,height:a}=e.canvas,o=r*a*4,l=s.depth?1:0,c=s.stencil?1:0;return o+o*n+o*l*Math.min(c+i>16?4:2,4)}function Ct(e){return"number"==typeof e}const Dt=new Set;function Mt(e,t,n={}){if(Dt.has(e))return e;Dt.add(e);const i=n.origGLErrorFn||e.getError;function s(e){const t=Lt(e),i={baseContext:e,config:n,apis:{gman_webgl_memory:{ctx:{getMemoryInfo(){const n=Rt(e,t);return{memory:{...d,drawingbuffer:n,total:n+d.buffer+d.texture+d.renderbuffer},resources:{...u}}}}}},resources:{},memory:{texture:0,buffer:0,renderbuffer:0},bindings:new Map,defaultVertexArray:{},webglObjectToMemory:new Map},s=new Set(["webgl","webgl2","webgl_lose_context"]);function r(){i.bindings.clear(),i.webglObjectToMemory.clear(),i.webglObjectToMemory.set(i.defaultVertexArray,{}),i.currentVertexArray=i.defaultVertexArray,[i.resources,i.memory].forEach((function(e){for(let t in e)e[t]=0}))}function o(){r(),i.isContextLost=!0;for(const[e,{ctx:t,origFuncs:n}]of[...Object.entries(i.apis)])if(!s.has(e)&&n){Dt.delete(t);for(const[e,i]of Object.entries(n))t[e]=i;delete a[e]}}function l(){i.isContextLost=!1}return e.canvas&&(e.canvas.addEventListener("webglcontextlost",o),e.canvas.addEventListener("webglcontextrestored",l)),r(),i}const r=n.sharedState||s(e);n.sharedState=r;const{apis:a,baseContext:o,bindings:l,config:c,memory:d,resources:u,webglObjectToMemory:h}=r,p={};function m(){}function f(e,t,n){if(e[n||`create${t[0].toUpperCase()}${t.substr(1)}`])return u[t]=0,function(e,n,i,s){if(r.isContextLost)return null;++u[t],h.set(s,{size:0})}}function g(t,n=m,i){const s=i||`delete${t[0].toUpperCase()}${t.substr(1)}`;if(e[s])return function(e,i,s){if(r.isContextLost)return;const[a]=s,o=h.get(a);o&&(--u[t],n(a,o),h.delete(a))}}function v(e,t,n,i,s){if(r.isContextLost)return;const a=l.get(e);if(!a)throw new Error(`no renderbuffer bound to ${e}`);const o=h.get(a);if(!o)throw new Error(`unknown renderbuffer ${a}`);const c=It(n,i,s,1)*t;d.renderbuffer-=o.size,o.size=c,d.renderbuffer+=c}const b=34963,y=5121,E=34067,S=35866,O=34069,T=33084,_=33085,w=new Set([O,34070,34071,34072,34073,34074]);function N(e){return w.has(e)}function A(e){e=N(e)?E:e;const t=l.get(e);if(!t)throw new Error(`no texture bound to ${e}`);const n=h.get(t);if(!n)throw new Error(`unknown texture ${t}`);return n}function I(e,t,n,i,s,r,a,o){const l=e.size,c=It(i,s,r,a,o),u=N(t)?t-O:0;e.mips=e.mips||[],e.mips[n]=e.mips[n]||[];const h=e.mips[n][u]||{};e.size-=h.size||0,h.size=c,h.internalFormat=i,h.type=o,h.width=s,h.height=r,h.depth=a,e.mips[n][u]=h,e.size+=c,d.texture-=l,d.texture+=e.size}function k(e,t,n,i,s,r){const a=A(e),o=e===E?6:1,l=e===E?O:e;for(let c=0;c<t;++c){for(let e=0;e<o;++e)I(a,l+e,c,n,i,s,r);i=Math.ceil(Math.max(i/2,1)),s=Math.ceil(Math.max(s/2,1)),r=e===S?r:Math.ceil(Math.max(r/2,1))}}function P(e,t,n){if(r.isContextLost)return;const[i]=n;r.currentVertexArray=i||r.defaultVertexArray}function L(e,t){if(!r.isContextLost)switch(e){case b:h.get(r.currentVertexArray).elementArrayBuffer=t;break;default:l.set(e,t)}}const R={},C={bufferData(e,t,n){if(r.isContextLost)return;const[i,s,,a=0,o]=n;let c;switch(i){case b:c=h.get(r.currentVertexArray).elementArrayBuffer;break;default:c=l.get(i)}if(!c)throw new Error(`no buffer bound to ${i}`);let u=0;if(void 0!==o)u=o*s.BYTES_PER_ELEMENT;else if(Pt(s))u=s.byteLength;else{if(!Ct(s))throw new Error(`unsupported bufferData src type ${s}`);u=s}const p=h.get(c);if(!p)throw new Error(`unknown buffer ${c}`);d.buffer-=p.size,p.size=u,d.buffer+=u},bindVertexArray:P,bindVertexArrayOES:P,bindBuffer(e,t,n){const[i,s]=n;L(i,s)},bindBufferBase(e,t,n){const[i,s,r]=n;L(i,r)},bindBufferRange(e,t,n){const[i,s,r,a,o]=n;L(i,r)},bindRenderbuffer(e,t,n){if(r.isContextLost)return;const[i,s]=n;l.set(i,s)},bindTexture(e,t,n){if(r.isContextLost)return;const[i,s]=n;l.set(i,s)},copyTexImage2D(e,t,n){if(r.isContextLost)return;const[i,s,a,o,l,c,d,u]=n;I(A(i),i,s,a,c,d,1,y)},createBuffer:f(e,"buffer"),createFramebuffer:f(e,"framebuffer"),createRenderbuffer:f(e,"renderbuffer"),createProgram:f(e,"program"),createQuery:f(e,"query"),createShader:f(e,"shader"),createSampler:f(e,"sampler"),createTexture:f(e,"texture"),createTransformFeedback:f(e,"transformFeedback"),createVertexArray:f(e,"vertexArray"),createVertexArrayOES:f(e,"vertexArray","createVertexArrayOES"),compressedTexImage2D(e,t,n){if(r.isContextLost)return;const[i,s,a,o,l]=n;I(A(i),i,s,a,o,l,1,y)},compressedTexImage3D(e,t,n){if(r.isContextLost)return;const[i,s,a,o,l,c]=n;I(A(i),i,s,a,o,l,c,y)},deleteBuffer:g("buffer",(function(e,t){d.buffer-=t.size})),deleteFramebuffer:g("framebuffer"),deleteProgram:g("program"),deleteQuery:g("query"),deleteRenderbuffer:g("renderbuffer",(function(e,t){d.renderbuffer-=t.size})),deleteSampler:g("sampler"),deleteShader:g("shader"),deleteSync:g("sync"),deleteTexture:g("texture",(function(e,t){d.texture-=t.size})),deleteTransformFeedback:g("transformFeedback"),deleteVertexArray:g("vertexArray"),deleteVertexArrayOES:g("vertexArray",m,"deleteVertexArrayOES"),fenceSync:function(e){if(!r.isContextLost&&e.fenceSync)return u.sync=0,function(e,t,n,i){++u.sync,h.set(i,{size:0})}}(e),generateMipmap(e,t,n){if(r.isContextLost)return;const[i]=n,s=A(i),a=s.parameters&&s.parameters.get(T)||0,o=s.parameters&&s.parameters.get(_)||1024;let{width:l,height:c,depth:d,internalFormat:u,type:h}=s.mips[a][0],p=a+1;const m=i===E?6:1,f=i===E?O:i;for(;p<=o&&(1!==l||1!==c||1!==d&&i!==S);){l=Math.ceil(Math.max(l/2,1)),c=Math.ceil(Math.max(c/2,1)),d=i===S?d:Math.ceil(Math.max(d/2,1));for(let e=0;e<m;++e)I(s,f+e,p,u,l,c,d,h);++p}},getSupportedExtensions(e,t,n,i){r.isContextLost||i.push("GMAN_webgl_memory")},renderbufferStorage(e,t,n){const[i,s,r,a]=n;v(i,1,s,r,a)},renderbufferStorageMultisample(e,t,n){const[i,s,r,a,o]=n;v(i,s,r,a,o)},texImage2D(e,t,n){if(r.isContextLost)return;let i,s,a,[o,l,c]=n;if(6==n.length){const e=n[5];i=e.width,s=e.height,a=n[4]}else i=n[3],s=n[4],a=n[7];I(A(o),o,l,c,i,s,1,a)},texImage3D(e,t,n){if(r.isContextLost)return;let[i,s,a,o,l,c,d,u,h]=n;I(A(i),i,s,a,o,l,c,h)},texParameteri(e,t,n){if(r.isContextLost)return;let[i,s,a]=n;const o=A(i);o.parameters=o.parameters||new Map,o.parameters.set(s,a)},texStorage2D(e,t,n){let[i,s,r,a,o]=n;k(i,s,r,a,o,1)},texStorage3D(e,t,n){let[i,s,r,a,o,l]=n;k(i,s,r,a,o,l)}},D={getExtension(e,t){if(r.isContextLost)return null;const s=e[t];e[t]=function(...t){const r=t[0].toLowerCase(),o=a[r];if(o)return o.ctx;const l=s.call(e,...t);return l&&Mt(l,r,{...n,origGLErrorFn:i}),l}}};function M(e,t){const n=e[t],s=R[t]||m,r=C[t]||m;if(s===m&&C===m)return;e[t]=function(...i){s(e,t,i);const a=n.call(e,...i);return r(e,t,i,a),a};const a=D[t];a&&a(e,t,i)}for(const t in e)"function"==typeof e[t]&&(p[t]=e[t],M(e,t));a[t.toLowerCase()]={ctx:e,origFuncs:p}}function xt(e){const t=e.prototype.getContext;e.prototype.getContext=function(e,...n){const i=t.call(this,e,...n);return i&&i.bindTexture&&(Mt(i,e,{}),i.getExtension("GMAN_webgl_memory")),i}}"undefined"!=typeof HTMLCanvasElement&&xt(HTMLCanvasElement),"undefined"!=typeof OffscreenCanvas&&xt(OffscreenCanvas)})?i.call(t,n,t,e):i)||(e.exports=s)},88880:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform samplerCube map;uniform vec2 dir;varying vec3 vWorldPosition;vec3 sphereToUnit(float x,float y){return vec3(sin(x)*cos(y),cos(x),sin(x)*sin(y));}vec2 unitToSphere(vec3 unit){return vec2(atan(sqrt(pow(unit.x,2.)+pow(unit.z,2.)),unit.y),atan(unit.z,unit.x));}void main(){vec2 coord=unitToSphere(vWorldPosition);vec4 sum=textureCube(map,sphereToUnit(coord.x-12.*dir.x,coord.y-12.*dir.y))*KERNEL_1;sum+=textureCube(map,sphereToUnit(coord.x-11.*dir.x,coord.y-11.*dir.y))*KERNEL_2;sum+=textureCube(map,sphereToUnit(coord.x-10.*dir.x,coord.y-10.*dir.y))*KERNEL_3;sum+=textureCube(map,sphereToUnit(coord.x-9.*dir.x,coord.y-9.*dir.y))*KERNEL_4;sum+=textureCube(map,sphereToUnit(coord.x-8.*dir.x,coord.y-8.*dir.y))*KERNEL_5;sum+=textureCube(map,sphereToUnit(coord.x-7.*dir.x,coord.y-7.*dir.y))*KERNEL_6;sum+=textureCube(map,sphereToUnit(coord.x-6.*dir.x,coord.y-6.*dir.y))*KERNEL_7;sum+=textureCube(map,sphereToUnit(coord.x-5.*dir.x,coord.y-5.*dir.y))*KERNEL_8;sum+=textureCube(map,sphereToUnit(coord.x-4.*dir.x,coord.y-4.*dir.y))*KERNEL_9;sum+=textureCube(map,sphereToUnit(coord.x-3.*dir.x,coord.y-3.*dir.y))*KERNEL_10;sum+=textureCube(map,sphereToUnit(coord.x-2.*dir.x,coord.y-2.*dir.y))*KERNEL_11;sum+=textureCube(map,sphereToUnit(coord.x-1.*dir.x,coord.y-1.*dir.y))*KERNEL_12;sum+=textureCube(map,sphereToUnit(coord.x,coord.y))*KERNEL_13;sum+=textureCube(map,sphereToUnit(coord.x+1.*dir.x,coord.y+1.*dir.y))*KERNEL_14;sum+=textureCube(map,sphereToUnit(coord.x+2.*dir.x,coord.y+2.*dir.y))*KERNEL_15;sum+=textureCube(map,sphereToUnit(coord.x+3.*dir.x,coord.y+3.*dir.y))*KERNEL_16;sum+=textureCube(map,sphereToUnit(coord.x+4.*dir.x,coord.y+4.*dir.y))*KERNEL_17;sum+=textureCube(map,sphereToUnit(coord.x+5.*dir.x,coord.y+5.*dir.y))*KERNEL_18;sum+=textureCube(map,sphereToUnit(coord.x+6.*dir.x,coord.y+6.*dir.y))*KERNEL_19;sum+=textureCube(map,sphereToUnit(coord.x+7.*dir.x,coord.y+7.*dir.y))*KERNEL_20;sum+=textureCube(map,sphereToUnit(coord.x+8.*dir.x,coord.y+8.*dir.y))*KERNEL_21;sum+=textureCube(map,sphereToUnit(coord.x+9.*dir.x,coord.y+9.*dir.y))*KERNEL_22;sum+=textureCube(map,sphereToUnit(coord.x+10.*dir.x,coord.y+10.*dir.y))*KERNEL_23;sum+=textureCube(map,sphereToUnit(coord.x+11.*dir.x,coord.y+11.*dir.y))*KERNEL_24;sum+=textureCube(map,sphereToUnit(coord.x+12.*dir.x,coord.y+12.*dir.y))*KERNEL_25;gl_FragColor=sum;}"},67230:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPosition;void main(){vWorldPosition=position;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},66367:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform samplerCube map;uniform float opacity;varying vec3 vWorldPosition;void main(){vec4 color=textureCube(map,vec3(-vWorldPosition.x,vWorldPosition.yz));gl_FragColor=vec4(color.rgb,opacity);}"},34912:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPosition;void main(){vWorldPosition=position;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},65849:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform vec3 color;uniform float opacity;uniform float maxDistance;varying vec3 vWorldPosition;void main(){float distanceToCamera=distance(cameraPosition,vWorldPosition);float distanceBucketed=1.-clamp(distanceToCamera/maxDistance,0.,1.);if(opacity<1.){discard;}gl_FragColor=vec4(distanceBucketed,distanceBucketed,distanceBucketed,1.);}"},62397:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPosition;void main(){vWorldPosition=(modelMatrix*vec4(position,1.)).xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},73209:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform sampler2D map;uniform float opacity;uniform vec4 colorOverlay;varying vec2 vUv;vec4 white=vec4(0.8,0.8,0.8,1.);vec4 black=vec4(0.,0.,0.,1.);void main(){vec4 colorFromTexture=texture2D(map,vUv);float whiteness=1.-smoothstep(0.1,0.2,opacity);colorFromTexture=mix(colorFromTexture,vec4(colorOverlay.rgb,1.),colorOverlay.a);colorFromTexture=mix(colorFromTexture,white,whiteness);gl_FragColor=vec4(colorFromTexture.rgb,opacity);}"},23059:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec2 vUv;void main(){vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},56547:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;\n#define MAX_TRIMS_PER_FLOOR  10\n#ifdef PANO_TEXTURE\nuniform vec3 pano0Position;uniform samplerCube pano0Map;varying vec3 pano0SweepDirection;uniform float panoOpacity;\n#endif\n#ifdef PANO_TEXTURE_TRANSITION\nuniform float progress;uniform vec3 pano1Position;uniform samplerCube pano1Map;varying vec3 pano1SweepDirection;\n#endif\n#ifdef PANO_OVERLAY\nuniform samplerCube overlay0Map;varying vec3 overlay0WorldPos;\n#endif\n#ifdef PANO_OVERLAY_TRANSITION\nuniform samplerCube overlay1Map;varying vec3 overlay1WorldPos;\n#endif\n#ifdef MESH_PREVIEW_SPHERE\nuniform vec3 meshPreviewCenter;uniform float meshPreviewSize;\n#endif\n#ifdef MESH_TEXTURE\nvarying vec2 vUv;uniform sampler2D map;uniform float meshOpacity;uniform float opacity;varying vec3 worldPos;\n#ifdef MESH_TRIM_VERTEX\nvarying vec3 trimPos[MAX_TRIMS_PER_FLOOR];uniform bool meshTrimsDiscardContents[MAX_TRIMS_PER_FLOOR];uniform bool hasKeepVolume;\n#endif\n#ifdef MESH_TRIM_PIXEL\nuniform mat4 meshTrimMatrices[MAX_TRIMS_PER_FLOOR];uniform bool meshTrimsDiscardContents[MAX_TRIMS_PER_FLOOR];uniform bool hasKeepVolume;\n#endif\n#ifdef FLOOR_TRIM_VERTEX\nvarying float floorHeightPercent;\n#endif\n#ifdef FLOOR_TRIM_PIXEL\nuniform float floorTrimHeight;\n#endif\n#endif\n#ifdef COLOR_OVERLAY\nuniform vec4 colorOverlay;\n#endif\n#ifdef WIREFRAME\nvarying vec3 vBarycentric;uniform float time;uniform float thickness;uniform float secondThickness;uniform float dashRepeats;uniform float dashLength;uniform bool dashOverlap;uniform bool dashEnabled;uniform bool dashAnimate;uniform bool fillEnabled;uniform bool insideAltColor;uniform bool dualStroke;uniform bool squeeze;uniform float squeezeMin;uniform float squeezeMax;uniform float wireframeOpacity;uniform vec3 stroke;uniform vec3 fill;float aastep(float threshold,float dist){float afwidth=fwidth(dist)*0.5;return smoothstep(threshold-afwidth,threshold+afwidth,dist);}float computeScreenSpaceWireframe(vec3 barycentric,float lineWidth){vec3 dist=fwidth(barycentric);vec3 smoothed=smoothstep(dist*((lineWidth*0.5)-0.5),dist*((lineWidth*0.5)+0.5),barycentric);return 1.-min(min(smoothed.x,smoothed.y),smoothed.z);}vec4 getStyledWireframe(vec3 barycentric){float PI=3.14159265359;float d=min(min(barycentric.x,barycentric.y),barycentric.z);float positionAlong=max(barycentric.x,barycentric.y);if(barycentric.y<barycentric.x&&barycentric.y<barycentric.z){positionAlong=1.-positionAlong;}float computedThickness=thickness;if(squeeze){computedThickness*=mix(squeezeMin,squeezeMax,(1.-sin(positionAlong*PI)));}if(dashEnabled){float offset=1./dashRepeats*dashLength/2.;if(!dashOverlap){offset+=1./dashRepeats/2.;}if(dashAnimate){offset+=time*0.22;}float pattern=fract((positionAlong+offset)*dashRepeats);computedThickness*=1.-aastep(dashLength,pattern);}float edge=computeScreenSpaceWireframe(barycentric,computedThickness);vec4 outColor=vec4(0.,0.,0.,0.);if(!fillEnabled){outColor=vec4(stroke,edge);if(insideAltColor&&!gl_FrontFacing){outColor.rgb=fill;}}else{outColor.a=1.;if(dualStroke){float inner=1.-aastep(secondThickness,d);vec3 wireColor=mix(fill,stroke,abs(inner-edge));outColor.rgb=wireColor;}else{outColor.rgb=mix(fill,stroke,edge);}}outColor.a*=wireframeOpacity;return outColor;}\n#endif\n#ifdef FLAT_SHADING\nvarying vec3 vNormal;\n#endif\nvoid main(){\n#ifdef PANO_TEXTURE_TRANSITION\nvec4 colorFromPano0=textureCube(pano0Map,pano0SweepDirection.xyz);vec4 colorFromPano1=textureCube(pano1Map,pano1SweepDirection.xyz);\n#ifdef PANO_OVERLAY_TRANSITION\nvec4 colorFromOverlay0=textureCube(overlay0Map,overlay0WorldPos.xyz);vec4 colorFromOverlay1=textureCube(overlay1Map,overlay1WorldPos.xyz);colorFromPano0.rgb=mix(colorFromPano0.rgb,colorFromOverlay0.rgb,colorFromOverlay0.a);colorFromPano1.rgb=mix(colorFromPano1.rgb,colorFromOverlay1.rgb,colorFromOverlay1.a);\n#endif\nvec4 color=mix(colorFromPano0,colorFromPano1,progress);color.a=panoOpacity;\n#elif defined(PANO_TEXTURE)\nvec4 color=textureCube(pano0Map,pano0SweepDirection.xyz);\n#ifdef PANO_OVERLAY\nvec4 colorFromOverlay0=textureCube(overlay0Map,overlay0WorldPos.xyz);color.rgb=mix(color.rgb,colorFromOverlay0.rgb,colorFromOverlay0.a);\n#endif\ncolor.a=panoOpacity;\n#else\nvec4 color=vec4(0.,0.,0.,0.);\n#endif\n#ifdef MESH_TEXTURE\nvec4 colorFromTexture=texture2D(map,vUv);\n#endif\n#ifdef MESH_PREVIEW_SPHERE\nfloat previewDistance=distance(worldPos.xyz,meshPreviewCenter.xyz);float inSphere=step(previewDistance,meshPreviewSize);colorFromTexture+=colorFromTexture*(0.2*inSphere);color=mix(color,colorFromTexture,max(meshOpacity,inSphere));\n#elif defined(MESH_TEXTURE)\ncolor=mix(color,colorFromTexture,meshOpacity);\n#endif\n#ifdef FLAT_SHADING\nfloat ao=0.9-abs(vNormal.y)*0.1-abs(vNormal.x)*0.05+abs(vNormal.z)*0.05;color.rgb=vec3(ao,ao*1.025,ao*1.05);\n#endif\n#ifdef COLOR_OVERLAY\ncolor=mix(color,vec4(colorOverlay.rgb,1.),colorOverlay.a);\n#endif\n#ifdef WIREFRAME\nvec4 colorFromWireframe=getStyledWireframe(vBarycentric);color=mix(color,vec4(colorFromWireframe.rgb,1.),colorFromWireframe.a);\n#endif\n#ifdef MESH_TEXTURE\ncolor.a=opacity;\n#if defined(FLOOR_TRIM_VERTEX) || defined(FLOOR_TRIM_PIXEL)\nif(floorHeightPercent>floorTrimHeight){discard;}\n#endif\n#if defined(MESH_TRIM_VERTEX) || defined(MESH_TRIM_PIXEL)\nbool isWithinVolume=false;bool doKeepFragment=true;bool enabled=true;vec4 worldPos4=vec4(worldPos.xyz,1);vec3 compare=vec3(0.5);\n#pragma unroll_loop_start\nfor(int i=0;i<10;i++){\n#ifdef MESH_TRIM_VERTEX\nenabled=!all(equal(trimPos[UNROLLED_LOOP_INDEX],vec3(0.)));if(enabled){if(all(lessThan(abs(trimPos[UNROLLED_LOOP_INDEX]),compare))){isWithinVolume=true;if(meshTrimsDiscardContents[UNROLLED_LOOP_INDEX]){doKeepFragment=false;}}}\n#endif\n#ifdef MESH_TRIM_PIXEL\nenabled=meshTrimMatrices[UNROLLED_LOOP_INDEX][3][3]>0.;if(enabled){if(all(lessThan(abs((meshTrimMatrices[UNROLLED_LOOP_INDEX]*worldPos4).xyz),compare))){isWithinVolume=true;if(meshTrimsDiscardContents[UNROLLED_LOOP_INDEX]){doKeepFragment=false;}}}\n#endif\n}\n#pragma unroll_loop_end\nif(!isWithinVolume&&hasKeepVolume){discard;}else if(isWithinVolume&&!doKeepFragment){discard;}\n#endif\n#endif\ngl_FragColor=color;}"},82981:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;\n#define MAX_TRIMS_PER_FLOOR  10\n#ifdef PANO_TEXTURE\nuniform vec3 pano0Position;uniform mat4 pano0Matrix1;uniform mat4 pano0Matrix2;varying vec3 pano0SweepDirection;\n#endif\n#ifdef PANO_TEXTURE_TRANSITION\nuniform vec3 pano1Position;uniform mat4 pano1Matrix1;uniform mat4 pano1Matrix2;varying vec3 pano1SweepDirection;\n#endif\n#ifdef PANO_OVERLAY\nvarying vec3 overlay0WorldPos;uniform mat4 overlay0Matrix;\n#endif\n#ifdef PANO_OVERLAY_TRANSITION\nvarying vec3 overlay1WorldPos;uniform mat4 overlay1Matrix;\n#endif\n#ifdef MESH_PREVIEW_SPHERE\n#endif\n#ifdef MESH_TEXTURE\nvarying vec2 vUv;varying vec3 worldPos;\n#ifdef MESH_TRIM_VERTEX\nuniform mat4 meshTrimMatrices[MAX_TRIMS_PER_FLOOR];varying vec3 trimPos[MAX_TRIMS_PER_FLOOR];\n#endif\n#ifdef FLOOR_TRIM_VERTEX\nuniform float floorHeightMin;uniform float floorHeightMax;varying float floorHeightPercent;\n#endif\n#endif\n#ifdef WIREFRAME\nattribute vec3 barycentric;varying vec3 vBarycentric;\n#endif\n#ifdef FLAT_SHADING\nvarying vec3 vNormal;\n#endif\nvoid main(){vec4 worldPosition=modelMatrix*vec4(position,1.);\n#ifdef MESH_TEXTURE\nvUv=uv;worldPos=worldPosition.xyz;\n#ifdef MESH_TRIM_VERTEX\n#pragma unroll_loop_start\nfor(int i=0;i<10;i++){trimPos[UNROLLED_LOOP_INDEX]=(meshTrimMatrices[UNROLLED_LOOP_INDEX]*vec4(worldPos,1.)).xyz;}\n#pragma unroll_loop_end\n#endif\n#ifdef FLOOR_TRIM_VERTEX\nfloorHeightPercent=(worldPos.y-floorHeightMin)/(floorHeightMax-floorHeightMin);\n#endif\n#endif\n#ifdef WIREFRAME\nvBarycentric=barycentric;\n#endif\n#ifdef FLAT_SHADING\nvNormal=normal;\n#endif\n#ifdef PANO_TEXTURE\nvec3 positionLocalToPanoCenter0=worldPosition.xyz-pano0Position;pano0SweepDirection=(pano0Matrix2*pano0Matrix1*vec4(positionLocalToPanoCenter0,1.)).xyz;\n#ifdef PANO_OVERLAY\noverlay0WorldPos=(overlay0Matrix*vec4(positionLocalToPanoCenter0,1.)).xyz;\n#endif\n#endif\n#ifdef PANO_TEXTURE_TRANSITION\nvec3 positionLocalToPanoCenter1=worldPosition.xyz-pano1Position;pano1SweepDirection=(pano1Matrix2*pano1Matrix1*vec4(positionLocalToPanoCenter1,1.)).xyz;\n#ifdef PANO_OVERLAY_TRANSITION\noverlay1WorldPos=(overlay1Matrix*vec4(positionLocalToPanoCenter1,1.)).xyz;\n#endif\n#endif\nvec4 projectedPosition=projectionMatrix*modelViewMatrix*vec4(position,1.);gl_Position=projectedPosition;}"},72742:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;\n#ifdef INSTANCED\nvarying float alpha;varying vec3 color;\n#else\nuniform float alpha;uniform vec3 color;\n#endif\nuniform sampler2D bg;uniform sampler2D mask;varying vec2 vUv;varying vec4 vMaskRect;varying float vStrokeWidth;float ring(vec2 pos,float radius,float thick){return mix(1.,0.,smoothstep(thick,thick+(thick*0.5),abs(length(vUv-pos)-radius)));}vec4 crop(vec4 texColor,vec2 xy,float size){texColor*=step(size,1.-xy.x);texColor*=step(size,xy.x);texColor*=step(size,1.-xy.y);texColor*=step(size,xy.y);return texColor;}vec2 center=vec2(0.5,0.5);void main(){vec4 bgColor=texture2D(bg,vUv);if(bgColor.a*alpha<0.1){discard;}float iconScale=1.75;vec2 maskUV=mix(vMaskRect.xy,vMaskRect.zw,(vUv-0.5)*iconScale+0.5);vec4 maskColor=texture2D(mask,maskUV);maskColor.rgb=vec3(1.);float padding=0.22;maskColor=crop(maskColor,vUv,padding);vec3 mappedColor=mix(color,maskColor.rgb,maskColor.a);const vec3 frameColor=vec3(1.,1.,1.);float frame=ring(center,0.5,vStrokeWidth);mappedColor=mix(mappedColor,frameColor,frame);gl_FragColor=vec4(mappedColor,bgColor.a*alpha);}"},27670:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec4 instanceMaskRect;attribute float instanceStrokeWidth;varying vec2 vUv;varying vec4 vMaskRect;varying float vStrokeWidth;\n#ifdef INSTANCED\nattribute mat4 instanceMatrix;attribute float instanceAlpha;attribute vec3 instanceColor;varying float alpha;varying vec3 color;\n#endif\nvoid main(){vUv=uv;vMaskRect=instanceMaskRect;vStrokeWidth=instanceStrokeWidth;\n#ifdef INSTANCED\nalpha=instanceAlpha;color=instanceColor;gl_Position=projectionMatrix*modelViewMatrix*instanceMatrix*vec4(position,1.);\n#else\ngl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n#endif\n}"},747:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;varying vec2 vUv;void main(){float dist=length(vUv);float alpha=(1.-smoothstep(0.95,1.,dist))*0.3;gl_FragColor=vec4(1.,1.,1.,alpha);}"},50929:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec2 vUv;void main(){vUv=(uv*2.)-1.;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);gl_Position.z*=1.00001;}"},79652:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;\n#ifdef INSTANCED\nvarying float alpha;\n#else\nuniform float alpha;\n#endif\nvoid main(){gl_FragColor=vec4(1.,1.,1.,alpha);}"},24819:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;uniform vec2 resolution;\n#ifdef INSTANCED\nattribute mat4 instanceMatrix;attribute vec3 stemVector;attribute vec4 pinHeadMatrixCol0;attribute vec4 pinHeadMatrixCol1;attribute vec4 pinHeadMatrixCol2;attribute vec4 pinHeadMatrixCol3;attribute float instanceAlpha;varying float alpha;\n#else\nuniform mat4 pinHeadMatrix;\n#endif\n#define PI  3.1415926538\nvoid main(){\n#ifdef INSTANCED\nvec3 pos=position*stemVector;mat4 modelViewProjMatrix=projectionMatrix*modelViewMatrix*instanceMatrix;mat4 pinHeadMatrix=mat4(pinHeadMatrixCol0,pinHeadMatrixCol1,pinHeadMatrixCol2,pinHeadMatrixCol3);alpha=instanceAlpha;\n#else\nvec3 pos=position;mat4 modelViewProjMatrix=projectionMatrix*modelViewMatrix;\n#endif\nvec3 fromOrigin=(vec3(0.,0.,0.)-pos);if(length(fromOrigin)<1e-6){gl_Position=modelViewProjMatrix*vec4(pos,1.);}else{mat4 noteViewProj=projectionMatrix*viewMatrix*pinHeadMatrix;vec4 noteNDC=noteViewProj*vec4(0.,0.,0.,1.);noteNDC.xyz/=abs(noteNDC.w);vec4 discEdgeNDC=noteViewProj*vec4(0.5,0.,0.,1.);discEdgeNDC.xyz/=abs(discEdgeNDC.w);float noteSizeNDC=length(discEdgeNDC.xy-noteNDC.xy);vec4 anchorNDC=modelViewProjMatrix*vec4(0.,0.,0.,1.);anchorNDC.xyz/=abs(anchorNDC.w);vec4 vectorNDC=modelViewProjMatrix*vec4(pos,1.);vectorNDC.xyz/=abs(vectorNDC.w);vectorNDC-=anchorNDC;float lineLengthNDC=length(vectorNDC.xy);float vertDot=abs(dot(normalize(vectorNDC.xy),vec2(0,1)));float angle=acos(vertDot)/(PI/2.);float aspect=mix(resolution.x/resolution.y,1.,angle);vec2 vector2d=normalize(vectorNDC.xy)*max(lineLengthNDC-noteSizeNDC*aspect,0.);vectorNDC.xy=vector2d.xy;vectorNDC+=anchorNDC;gl_Position=vec4(vectorNDC.xyz,1.);}}"},74696:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;varying vec3 vWorldPos;uniform float alpha;uniform samplerCube tDiffuse;void main(){vec4 texColor=textureCube(tDiffuse,vWorldPos);gl_FragColor=vec4(texColor.rgb,texColor.a*alpha);}"},13969:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPos;void main(){vWorldPos=vec3(-position.x,-position.y,position.z);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},22505:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;varying vec2 vUv;uniform sampler2D tDiffuse;\n#ifdef INSTANCED\nvarying float alpha;\n#else\nuniform float alpha;\n#endif\nvoid main(){vec4 texColor=texture2D(tDiffuse,vUv);gl_FragColor=vec4(texColor.rgb,texColor.a*alpha);}"},25848:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;\n#ifdef INSTANCED\nattribute mat4 instanceMatrix;attribute float instanceAlpha;varying float alpha;\n#endif\nvarying vec2 vUv;void main(){vUv=uv;\n#ifdef INSTANCED\nmat4 mvp=projectionMatrix*modelViewMatrix*instanceMatrix;alpha=instanceAlpha;\n#else\nmat4 mvp=projectionMatrix*modelViewMatrix;\n#endif\ngl_Position=mvp*vec4(position,1.);}"},47301:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform vec3 color;uniform float opacity;void main(){gl_FragColor=vec4(color,opacity);}"},5725:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;void main(){gl_Position=vec4(position,1.);}"},37198:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform float opacity;uniform vec3 tint;uniform float discRadius;uniform vec3 discNormal;uniform mat4 projectionMatrix;uniform mat4 viewMatrixInverse;uniform mat4 projectionMatrixInverse;varying vec3 vFragWorldPos;varying vec3 vCenterWorldPos;\n#ifdef USE_TEXTURE\nuniform sampler2D texture;\n#else\nuniform vec2 ringRadii[RING_COUNT];uniform vec4 ringColors[RING_COUNT];\n#endif\nfloat rayDistToPlane(vec3 rayOrigin,vec3 rayDir,vec3 planeOrigin,vec3 planeNormal){float planeConstant=-dot(planeOrigin,planeNormal);float denom=dot(planeNormal,rayDir);return denom==0.?-1e9:-(dot(rayOrigin,planeNormal)+planeConstant)/denom;}vec4 getColorAtRay(vec3 rayOrigin,vec3 rayDir){vec4 color=vec4(0.);float intersectDist=rayDistToPlane(rayOrigin,rayDir,vCenterWorldPos,discNormal);vec3 intersect=rayOrigin+rayDir*intersectDist;\n#ifdef USE_TEXTURE\nif(intersectDist>0.){vec3 cameraDir=normalize((viewMatrixInverse*vec4(0.,0.,-1.,0.)).xyz);vec3 stableDir=abs(dot(cameraDir,discNormal))>0.8?normalize(cameraDir*vec3(1.,0.,1.))*sign(discNormal.y):(viewMatrixInverse*vec4(0.,1.,0.,0.)).xyz;vec3 xAxis=normalize(cross(stableDir,discNormal));vec3 yAxis=normalize(cross(discNormal,xAxis));intersect-=vCenterWorldPos;vec2 uv=vec2(dot(xAxis,intersect),dot(yAxis,intersect))/discRadius/2.+0.5;if(clamp(uv,vec2(0.),vec2(1.))==uv){color=texture2D(texture,uv);}}\n#else\nfloat fragRadius=intersectDist>0.?distance(intersect,vCenterWorldPos):1e9;if(fragRadius<=discRadius*2.){for(int i=0;i<RING_COUNT;i++){vec2 radii=ringRadii[i]*discRadius;vec4 ringColor=ringColors[i];float ringDist=min(fragRadius-radii[0],radii[1]-fragRadius);\n#if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\nfloat delta=length(vec2(dFdx(fragRadius),dFdy(fragRadius)))*0.70710678;ringColor.a*=smoothstep(-delta,delta,ringDist);\n#else\nringColor.a*=step(0.,ringDist);\n#endif\nfloat finalAlpha=color.a+ringColor.a*(1.-color.a);color=finalAlpha>0.?vec4((color.rgb*color.a+ringColor.rgb*ringColor.a*(1.-color.a))/finalAlpha,finalAlpha):color;}}\n#endif\ncolor.rgb*=tint;if(dot(rayDir,discNormal)>=0.){color.a=0.;}return color;}void main(){vec4 fragNDC=projectionMatrix*viewMatrix*vec4(vFragWorldPos,1.);vec4 nearWorldPos=viewMatrixInverse*projectionMatrixInverse*vec4(fragNDC.xy,-1.,1.);nearWorldPos/=nearWorldPos.w;gl_FragColor=getColorAtRay(nearWorldPos.xyz,normalize(vFragWorldPos-nearWorldPos.xyz));gl_FragColor.a*=opacity;if(gl_FragColor.a==0.){discard;}}"},29535:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vCenterWorldPos;varying vec3 vFragWorldPos;void main(){vCenterWorldPos=(modelMatrix*vec4(0.,0.,0.,1.)).xyz;vFragWorldPos=(modelMatrix*vec4(position,1.)).xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},49329:(e,t,n)=>{e.exports=n(60516).Observable},60516:(e,t)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}t.Observable=void 0;var r=function(){return"function"==typeof Symbol},a=function(e){return r()&&Boolean(Symbol[e])},o=function(e){return a(e)?Symbol[e]:"@@"+e};r()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var l=o("iterator"),c=o("observable"),d=o("species");function u(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[d])&&(t=void 0),void 0!==t?t:O}function p(e){return e instanceof O}function m(e){m.log?m.log(e):setTimeout((function(){throw e}))}function f(e){Promise.resolve().then((function(){try{e()}catch(e){m(e)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=u(t,"unsubscribe");n&&n.call(t)}}catch(e){m(e)}}function v(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function b(e,t,n){e._state="running";var i=e._observer;try{var s=u(i,t);switch(t){case"next":s&&s.call(i,n);break;case"error":if(v(e),!s)throw n;s.call(i,n);break;case"complete":v(e),s&&s.call(i)}}catch(e){m(e)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function y(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void f((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(b(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void b(e,t,n);e._queue.push({type:t,value:n})}}var E=function(){function e(t,i){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var s=new S(this);try{this._cleanup=i.call(void 0,s)}catch(e){s.error(e)}"initializing"===this._state&&(this._state="ready")}return s(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(v(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),S=function(){function e(t){n(this,e),this._subscription=t}return s(e,[{key:"next",value:function(e){y(this._subscription,"next",e)}},{key:"error",value:function(e){y(this._subscription,"error",e)}},{key:"complete",value:function(){y(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),O=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return s(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new E(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,i){if("function"==typeof e)var s=t.subscribe({next:function(t){try{e(t,r)}catch(e){i(e),s.unsubscribe()}},error:i,complete:n});else i(new TypeError(e+" is not a function"));function r(){s.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this),i=arguments.length>1,s=!1,r=arguments[1],a=r;return new n((function(n){return t.subscribe({next:function(t){var r=!s;if(s=!0,!r||i)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!s&&!i)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=h(this);return new s((function(t){var i,r=0;return function e(a){i=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){r===n.length?(i=void 0,t.complete()):e(s.from(n[r++]))}})}(e),function(){i&&(i.unsubscribe(),i=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this);return new n((function(i){var s=[],r=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return i.error(e)}var r=n.from(t).subscribe({next:function(e){i.next(e)},error:function(e){i.error(e)},complete:function(){var e=s.indexOf(r);e>=0&&s.splice(e,1),a()}});s.push(r)},error:function(e){i.error(e)},complete:function(){a()}});function a(){r.closed&&0===s.length&&i.complete()}return function(){s.forEach((function(e){return e.unsubscribe()})),r.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var i=u(t,c);if(i){var s=i.call(t);if(Object(s)!==s)throw new TypeError(s+" is not an object");return p(s)&&s.constructor===n?s:new n((function(e){return s.subscribe(e)}))}if(a("iterator")&&(i=u(t,l)))return new n((function(e){f((function(){if(!e.closed){var n=!0,s=!1,r=void 0;try{for(var a,o=i.call(t)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;if(e.next(l),e.closed)return}}catch(e){s=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(s)throw r}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){f((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s="function"==typeof this?this:e;return new s((function(e){f((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:d,get:function(){return this}}]),e}();t.Observable=O,r()&&Object.defineProperty(O,Symbol("extensions"),{value:{symbol:c,hostReportError:m},configurable:!0})},63437:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteExternalAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ParentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteExternalAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"attachmentId"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}},{kind:"Argument",name:{kind:"Name",value:"parentType"},value:{kind:"Variable",name:{kind:"Name",value:"parentType"}}},{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemoveFileAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ParentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeFileAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"attachmentId"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}},{kind:"Argument",name:{kind:"Name",value:"parentType"},value:{kind:"Variable",name:{kind:"Name",value:"parentType"}}},{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FileAttachmentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FileAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bytes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mimeType"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageFileAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageWidth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageHeight"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ExternalAttachmentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExternalAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}}],loc:{start:0,end:1125}};t.loc.source={body:"\n# Deletes a single external attachment\nmutation DeleteExternalAttachment($modelId: ID!, $attachmentId: ID!, $parentType: ParentType!, $parentId: ID!) {\n  deleteExternalAttachment(modelId: $modelId, , attachmentId: $attachmentId, parentType: $parentType, parentId: $parentId)\n}\n\n# Removes a file attachment association from the annotation it is attached to.\n# Can delete the file attachment completely if the 'cascadeDelete' flag is set to true (not currently used)\nmutation RemoveFileAttachment($modelId: ID!, $attachmentId: ID!, $parentType: ParentType!, $parentId: ID!) {\n  removeFileAttachment(modelId: $modelId, , attachmentId: $attachmentId, parentType: $parentType, parentId: $parentId)\n}\n\nfragment FileAttachmentDetails on FileAttachment {\n  id\n  created\n  filename\n  url\n  validUntil\n  bytes\n  mimeType\n  ...on ImageFileAttachment {\n      imageWidth\n      imageHeight\n  }\n}\n\n# common External Attachment properties\nfragment ExternalAttachmentDetails on ExternalAttachment {\n  id\n  created\n  modified\n  thumbnailUrl\n  url\n  mediaType\n  width\n  height\n  parentDetails { type, parent { id } }\n  category\n  validUntil\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.DeleteExternalAttachment=r(t,"DeleteExternalAttachment"),e.exports.RemoveFileAttachment=r(t,"RemoveFileAttachment"),e.exports.FileAttachmentDetails=r(t,"FileAttachmentDetails"),e.exports.ExternalAttachmentDetails=r(t,"ExternalAttachmentDetails")},36159:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddCommentAttachments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"externalAttachments"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ExternalAttachmentDetails"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fileAttachments"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addCommentAttachments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}},{kind:"Argument",name:{kind:"Name",value:"externalAttachments"},value:{kind:"Variable",name:{kind:"Name",value:"externalAttachments"}}},{kind:"Argument",name:{kind:"Name",value:"fileAttachments"},value:{kind:"Variable",name:{kind:"Name",value:"fileAttachments"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentAttachments"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"commentId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CommentPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"commentId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CommentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Comment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CommentAttachments"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Comment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}],loc:{start:0,end:1211}};i.loc.source={body:'#import "./attachments.gql"\n\n# Add comment attachments\nmutation AddCommentAttachments($modelId: ID!, $parentId: ID!, $externalAttachments: [ExternalAttachmentDetails!], $fileAttachments: [ID!]) {\n  addCommentAttachments(modelId: $modelId, , commentId: $parentId,\n                        externalAttachments: $externalAttachments,\n                        fileAttachments: $fileAttachments) {\n    ...CommentAttachments\n  }\n}\n\n# Deletes a single comment\nmutation DeleteComment ($modelId: ID!, $commentId: ID!) {\n  deleteComment(modelId: $modelId, , commentId: $commentId)\n}\n\n# Update a single comment\nmutation PatchComment($modelId: ID!, $commentId: ID!, $data: CommentPatch!) {\n  patchComment(modelId: $modelId, , commentId: $commentId, patch: $data) {\n    ...CommentDetails\n  }\n}\n\n# common Comment properties\nfragment CommentDetails on Comment {\n  id\n  created\n  modified\n  edited\n  text\n  createdBy { id, firstName, lastName, email }\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n}\n\n# Attachments on a Comment\nfragment CommentAttachments on Comment {\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}i.definitions=i.definitions.concat(n(63437).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.AddCommentAttachments=l(i,"AddCommentAttachments"),e.exports.DeleteComment=l(i,"DeleteComment"),e.exports.PatchComment=l(i,"PatchComment"),e.exports.CommentDetails=l(i,"CommentDetails"),e.exports.CommentAttachments=l(i,"CommentAttachments")},8699:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFloors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FloorDetails"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FloorDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelFloor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"areaFloor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"units"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchFloor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"floorId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FloorPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchFloor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"floorId"},value:{kind:"Variable",name:{kind:"Name",value:"floorId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:390}};t.loc.source={body:"query GetFloors($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    floors { ...FloorDetails }\n  }\n}\n\nfragment FloorDetails on ModelFloor {\n  id\n  meshId\n  classification\n  label\n  sequence\n  dimensions {\n    areaFloor\n    units\n  }\n}\n\nmutation PatchFloor($modelId: ID!, $floorId: ID!, $data: FloorPatch!) {\n  patchFloor(modelId: $modelId, , floorId: $floorId, patch: $data) {\n    id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetFloors=r(t,"GetFloors"),e.exports.FloorDetails=r(t,"FloorDetails"),e.exports.PatchFloor=r(t,"PatchFloor")},32082:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHighlightReel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlightReelDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHighlightReelSweeps"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PutActiveReel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"elements"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReelElementInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mode"}},type:{kind:"NamedType",name:{kind:"Name",value:"HighlightReelMode"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"putActiveReel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"elements"},value:{kind:"Variable",name:{kind:"Name",value:"elements"}}},{kind:"Argument",name:{kind:"Name",value:"mode"},value:{kind:"Variable",name:{kind:"Name",value:"mode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlightReelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightReel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"overrides"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transitionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panAngle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1079}};t.loc.source={body:'query GetHighlightReel($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    activeHighlightReel {\n      ...HighlightReelDetails\n    }\n  }\n}\n\nquery GetHighlightReelSweeps($modelId: ID!) {\n  model(id: $modelId) {\n    views(types: ["matterport.model.default", "matterport.model.layered", "matterport.user.view"]) {\n      id\n      model {\n      \tactiveHighlightReel { \n          reel {\n            asset {\n              ... on Photo {\n              \tsnapshotLocation {\n                  anchor {\n                    id\n                  }\n                }\n              }                          \n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nmutation PutActiveReel($modelId: ID!, $elements: [ReelElementInput!], $mode: HighlightReelMode) {\n  putActiveReel(modelId: $modelId, elements: $elements, mode: $mode) {\n    id\n  }\n}\n\nfragment HighlightReelDetails on HighlightReel {\n  id\n  label\n  mode\n  reel {\n    overrides {\n      transitionType\n      panDirection\n      panAngle\n    }\n    asset {\n      ... on Photo {\n        id\n      }\n    }\n    title\n    description\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetHighlightReel=r(t,"GetHighlightReel"),e.exports.GetHighlightReelSweeps=r(t,"GetHighlightReelSweeps"),e.exports.PutActiveReel=r(t,"PutActiveReel"),e.exports.HighlightReelDetails=r(t,"HighlightReelDetails")},61341:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetLabels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelDetails"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelPatch"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LabelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Label"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:1042}};t.loc.source={body:"# Read all labels for the given model\nquery GetLabels($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    labels (includeDisabled: $includeDisabled) {\n      ...LabelDetails\n    }\n  }\n}\n\n# Create a new label\nmutation AddLabel ($modelId: ID!, $labelId: ID, $data: LabelDetails!, $includeLayers: Boolean!) {\n  addLabel(modelId: $modelId, labelId: $labelId, label: $data) {\n    ...LabelDetails\n  }\n}\n\n# Update a single label\nmutation PatchLabel ($modelId: ID!, $labelId: ID!, $data: LabelPatch!, $includeLayers: Boolean!) {\n  patchLabel(modelId: $modelId, , labelId: $labelId, patch: $data) {\n    ...LabelDetails\n  }\n}\n\n# Deletes a single label\nmutation DeleteLabel ($modelId: ID!, ,$labelId: ID!) {\n  deleteLabel(modelId: $modelId, labelId: $labelId)\n}\n\n# Default Label properties used by Showcase and Workshop\nfragment LabelDetails on Label {\n  id\n  position { x y z }\n  floor { id meshId }\n  room { id meshId }\n  layer @include(if: $includeLayers) { id }\n  label\n  enabled\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetLabels=r(t,"GetLabels"),e.exports.AddLabel=r(t,"AddLabel"),e.exports.PatchLabel=r(t,"PatchLabel"),e.exports.DeleteLabel=r(t,"DeleteLabel"),e.exports.LabelDetails=r(t,"LabelDetails")},61033:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ViewLayerDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelViewLayer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visible"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LayerDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelLayer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}],loc:{start:0,end:191}};t.loc.source={body:"fragment ViewLayerDetails on ModelViewLayer {\n  layer {\n    ...LayerDetails\n  }\n  position\n  visible\n}\n\nfragment LayerDetails on ModelLayer {\n  id\n  created\n  modified\n  type\n  name\n  label\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.ViewLayerDetails=r(t,"ViewLayerDetails"),e.exports.LayerDetails=r(t,"LayerDetails")},69430:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetLayers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewLayerDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"position"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CopyInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"generateIds"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"layer"},name:{kind:"Name",value:"addLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"position"},value:{kind:"Variable",name:{kind:"Name",value:"position"}}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"Variable",name:{kind:"Name",value:"generateIds"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddCommonLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"position"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"layer"},name:{kind:"Name",value:"addCommonLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"position"},value:{kind:"Variable",name:{kind:"Name",value:"position"}}},{kind:"Argument",name:{kind:"Name",value:"viewTypes"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchLayerViews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"views"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ViewLayerPatch"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchLayerViews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"views"},value:{kind:"Variable",name:{kind:"Name",value:"views"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerLabel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visible"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"position"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"layerLabel"}}},{kind:"Argument",name:{kind:"Name",value:"visible"},value:{kind:"Variable",name:{kind:"Name",value:"visible"}}},{kind:"Argument",name:{kind:"Name",value:"position"},value:{kind:"Variable",name:{kind:"Name",value:"position"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertToCommonLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visible"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"position"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertToCommonLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"visible"},value:{kind:"Variable",name:{kind:"Name",value:"visible"}}},{kind:"Argument",name:{kind:"Name",value:"position"},value:{kind:"Variable",name:{kind:"Name",value:"position"}}},{kind:"Argument",name:{kind:"Name",value:"viewTypes"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertToDedicatedLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertToDedicatedLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DuplicateLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visible"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CopyInput"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"layer"},name:{kind:"Name",value:"addLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"visible"},value:{kind:"Variable",name:{kind:"Name",value:"visible"}}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}}],loc:{start:0,end:2082}};i.loc.source={body:'#import "./layer-fragments.gql"\n\nquery GetLayers($viewId: ID!) {\n  view(id: $viewId) {\n    id\n    layers {\n      ...ViewLayerDetails\n    }\n  }\n}\n\nmutation AddLayer($viewId: ID!, $label: String, $position: Int, $copyDataFrom: [CopyInput!], $generateIds: Boolean) {\n  layer: addLayer(id: $viewId, label: $label, position: $position, copyDataFrom: $copyDataFrom, generateIds: $generateIds) {\n    ...LayerDetails\n  }\n}\n\nmutation AddCommonLayer($viewId: ID!, $label: String, $position: Int) {\n  layer: addCommonLayer(\n    id: $viewId,\n    label: $label,\n    position: $position,\n    viewTypes: [\n      "matterport.model.default",\n      "matterport.model.layered",\n      "matterport.user.view",\n    ],\n  ) {\n    ...LayerDetails\n  }\n}\n\n# Used for patching a layer across views\nmutation PatchLayerViews($viewId: ID!, $layerId: ID!, $views: [ViewLayerPatch!]) {\n  patchLayerViews(id: $viewId, layerId: $layerId, views: $views) {\n    ...LayerDetails\n  }\n}\n\nmutation PatchLayer($viewId: ID!, $layerId: ID!, $layerLabel: String, $visible: Boolean, $position: Int) {\n  patchLayer(id: $viewId, layerId: $layerId, label: $layerLabel, visible: $visible, position: $position) {\n    ...LayerDetails\n  }\n}\n\nmutation ConvertToCommonLayer($viewId: ID!, $layerId: ID!, $visible: Boolean, $position: Int) {\n  convertToCommonLayer(\n    id: $viewId,\n    layerId: $layerId,\n    visible: $visible,\n    position: $position,\n    viewTypes: [\n      "matterport.model.default",\n      "matterport.model.layered",\n      "matterport.user.view",\n    ],\n  ) {\n    ...LayerDetails\n  }\n}\n\nmutation ConvertToDedicatedLayer($viewId: ID!, $layerId: ID!) {\n  convertToDedicatedLayer(\n    id: $viewId,\n    layerId: $layerId,\n  ) {\n    ...LayerDetails\n  }\n}\n\nmutation DeleteLayer($viewId: ID!, $layerId: ID!) {\n  deleteLayer(id:$viewId, layerId: $layerId)\n}\n\nmutation DuplicateLayer($viewId: ID!, $label: String!, $visible: Boolean, $copyDataFrom: [CopyInput!]) {\n  layer: addLayer(\n    id: $viewId\n    label: $label\n    visible: $visible\n    copyDataFrom: $copyDataFrom\n    generateIds: true,\n  ) {\n    ...LayerDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}i.definitions=i.definitions.concat(n(61033).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GetLayers=l(i,"GetLayers"),e.exports.AddLayer=l(i,"AddLayer"),e.exports.AddCommonLayer=l(i,"AddCommonLayer"),e.exports.PatchLayerViews=l(i,"PatchLayerViews"),e.exports.PatchLayer=l(i,"PatchLayer"),e.exports.ConvertToCommonLayer=l(i,"ConvertToCommonLayer"),e.exports.ConvertToDedicatedLayer=l(i,"ConvertToDedicatedLayer"),e.exports.DeleteLayer=l(i,"DeleteLayer"),e.exports.DuplicateLayer=l(i,"DuplicateLayer")},22001:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderedLists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderedListByName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrderedList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entries"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EntryInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrderedList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"entries"},value:{kind:"Variable",name:{kind:"Name",value:"entries"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrderedListWithLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entries"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EntryInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrderedList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"entries"},value:{kind:"Variable",name:{kind:"Name",value:"entries"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderedListDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OrderedList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntryDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EntryDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:1324}};t.loc.source={body:"\n# get the ordered lists for the specified model\nquery GetOrderedLists($modelId: ID!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    orderedLists(ids: []) {\n      ...OrderedListDetails\n    }\n  }\n}\n\n# get an ordered list by name for the specified view\nquery GetOrderedListByName($modelId: ID!, $label: String!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    orderedLists(label: $label) {\n      ...OrderedListDetails\n    }\n  }\n}\n\n# add a new ordered list\nmutation AddOrderedList($modelId: ID!, $label: String!, $description: String!, $entries: [EntryInput!], $includeLayers: Boolean!) {\n  addOrderedList(modelId: $modelId, , label: $label, description: $description, entries: $entries) {\n    ...OrderedListDetails\n  }\n}\n\nmutation AddOrderedListWithLayer($modelId: ID!, $label: String!, $description: String!, $layerId: ID!, $entries: [EntryInput!], $includeLayers: Boolean!) {\n  addOrderedList(modelId: $modelId, , label: $label, description: $description, layerId: $layerId, entries: $entries) {\n    ...OrderedListDetails\n  }\n}\n\n# Default OrderedList properties used by Showcase and Workshop\nfragment OrderedListDetails on OrderedList {\n  id\n  label\n  layer @include(if: $includeLayers) { id }\n  entries {\n    ...EntryDetails\n  }\n}\n\n# Default Entry properties\nfragment EntryDetails on Entry {\n  id\n  type\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetOrderedLists=r(t,"GetOrderedLists"),e.exports.GetOrderedListByName=r(t,"GetOrderedListByName"),e.exports.AddOrderedList=r(t,"AddOrderedList"),e.exports.AddOrderedListWithLayer=r(t,"AddOrderedListWithLayer"),e.exports.OrderedListDetails=r(t,"OrderedListDetails"),e.exports.EntryDetails=r(t,"EntryDetails")},82686:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMattertags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RefreshTagFileAttachments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddMattertag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MattertagDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMattertag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertagId"},value:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertag"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteMattertag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMattertag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertagId"},value:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MattertagDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mattertag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchorPosition"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stemNormal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"media"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"objectAnnotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"defaultKeywords"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"keywords"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]}]}}],loc:{start:0,end:1529}};i.loc.source={body:'#import "./attachments.gql"\n\n# read all mattertags for the specified model\nquery GetMattertags($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id,\n    mattertags(includeDisabled: $includeDisabled) {\n      ...MattertagDetails\n    }\n  }\n}\n\n# refresh file attachment expiring resources for all mattertags\nquery RefreshTagFileAttachments($modelId: ID!, $includeDisabled: Boolean!) {\n  model(id: $modelId) {\n    id,\n    mattertags(includeDisabled: $includeDisabled) {\n      id\n      fileAttachments { ...FileAttachmentDetails }\n    }\n  }\n}\n\n# add a new mattertag\nmutation AddMattertag($modelId:ID!, $mattertagId: ID, $data: MattertagDetails!) {\n  addMattertag(modelId: $modelId, mattertagId: $mattertagId, mattertag: $data) {\n    id\n    created\n    modified\n  }\n}\n\n# delete an existing tag by id\nmutation DeleteMattertag($modelId: ID!, $mattertagId: ID!) {\n  deleteMattertag(modelId: $modelId, mattertagId: $mattertagId)\n}\n\n# common Mattertag properties used by Showcase and Workshop\nfragment MattertagDetails on Mattertag {\n  id\n  label\n  description\n  color\n  enabled\n  floor { id, meshId }\n  room { id, meshId }\n  layer @include(if: $includeLayers) { id } \n  anchorPosition { x y z }\n  stemEnabled\n  stemNormal { x, y, z }\n  stemLength\n  media\n  mediaType\n  created\n  modified\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n  objectAnnotation {\n    id\n    classification {\n      defaultKeywords\n    }\n  }\n  keywords\n  icon\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}i.definitions=i.definitions.concat(n(63437).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GetMattertags=l(i,"GetMattertags"),e.exports.RefreshTagFileAttachments=l(i,"RefreshTagFileAttachments"),e.exports.AddMattertag=l(i,"AddMattertag"),e.exports.DeleteMattertag=l(i,"DeleteMattertag"),e.exports.MattertagDetails=l(i,"MattertagDetails")},77285:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMeasurements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPathDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pathId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPathPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"pathId"},value:{kind:"Variable",name:{kind:"Name",value:"pathId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pathId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"pathId"},value:{kind:"Variable",name:{kind:"Name",value:"pathId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MeasurementDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPath"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lineType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:903}};t.loc.source={body:"\nquery GetMeasurements($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id,\n    measurementPaths(includeDisabled: $includeDisabled) {\n      ...MeasurementDetails\n    }\n  }\n}\n\nmutation AddMeasurement($modelId: ID!, $data: MeasurementPathDetails!) {\n  addMeasurementPath(modelId: $modelId, path: $data) {\n    id\n  }\n}\n\nmutation PatchMeasurement($modelId: ID!, $pathId: ID!, $data: MeasurementPathPatch!) {\n  patchMeasurementPath(modelId: $modelId, , pathId: $pathId, patch: $data) {\n    id\n  }\n}\n\nmutation DeleteMeasurement($modelId: ID!, $pathId: ID!) {\n  deleteMeasurementPath(modelId: $modelId, , pathId: $pathId)\n}\n\nfragment MeasurementDetails on MeasurementPath {\n  id\n  lineType\n  label\n  enabled\n  points {\n    position { x y z }\n    floor { id meshId }\n    room { id meshId }\n  }\n  layer @include(if: $includeLayers) { id }\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetMeasurements=r(t,"GetMeasurements"),e.exports.AddMeasurement=r(t,"AddMeasurement"),e.exports.PatchMeasurement=r(t,"PatchMeasurement"),e.exports.DeleteMeasurement=r(t,"DeleteMeasurement"),e.exports.MeasurementDetails=r(t,"MeasurementDetails")},15899:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelAvailableAssets"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"meshes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"formats"},value:{kind:"StringValue",value:"dam",block:!1}},{kind:"Argument",name:{kind:"Name",value:"resolutions"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"50k",block:!1},{kind:"StringValue",value:"500k",block:!1}]}},{kind:"Argument",name:{kind:"Name",value:"compressions"},value:{kind:"EnumValue",value:"none"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeshDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"textures"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextureDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tilesets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TilesetDetails"},directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"lod"},name:{kind:"Name",value:"policy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"StringValue",value:"spaces.chunked.mesh.lod",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelStatus"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MeshDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mesh"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TextureDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Texture"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quality"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TilesetDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tileset"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetDepth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetPreset"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicationDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelPublicationDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"published"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastPublished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contact"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dollhouseEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dollhouseLabelsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorSelectEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorplanEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highlightReelEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labelsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"measurements"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roomBoundsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialSharingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"spaceSearchEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourButtonsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourDollhousePanSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourFastTransitionsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanAngle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourTransitionSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourTransitionTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourZoomDuration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unitType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlBrandingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vrEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicationOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelPublicationOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactEmail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelSummary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUrl"},arguments:[],directives:[]}]}}],loc:{start:0,end:1558}};t.loc.source={body:'fragment ModelAvailableAssets on Model {\n  assets {\n    meshes(formats: "dam", resolutions: ["50k", "500k"], compressions: none) { ...MeshDetails }\n    textures { ...TextureDetails }\n    tilesets { ...TilesetDetails }\n  }\n  lod: policy(name: "spaces.chunked.mesh.lod") {\n    ... on PolicyOptions {\n      options\n    }\n  }\n}\n\nfragment ModelStatus on Model {\n  state\n}\n\nfragment MeshDetails on Mesh {\n  id\n  status\n  filename\n  format\n  resolution\n  url\n  validUntil\n}\n\nfragment TextureDetails on Texture {\n  id\n  status\n  format\n  resolution\n  quality\n  urlTemplate\n  validUntil\n}\n\nfragment TilesetDetails on Tileset {\n  status\n  tilesetVersion\n  url\n  urlTemplate\n  validUntil\n  tilesetDepth\n  tilesetPreset\n}\n\nfragment PublicationDetails on ModelPublicationDetails {\n  address\n  published\n  lastPublished\n  presentedBy\n  summary\n  externalUrl\n  contact {\n    name\n    email\n    phoneNumber\n  }\n}\n\nfragment ModelOptions on ModelOptions {\n  backgroundColor\n  dollhouseEnabled\n  dollhouseLabelsEnabled\n  floorSelectEnabled\n  floorplanEnabled\n  highlightReelEnabled\n  labelsEnabled\n  measurements\n  roomBoundsEnabled\n  socialSharingEnabled\n  spaceSearchEnabled\n  tourButtonsEnabled\n  tourDollhousePanSpeed\n  tourFastTransitionsEnabled\n  tourPanAngle\n  tourPanDirection\n  tourPanSpeed\n  tourTransitionSpeed\n  tourTransitionTime\n  tourZoomDuration\n  unitType\n  urlBrandingEnabled\n  vrEnabled\n}\n\nfragment PublicationOptions on ModelPublicationOptions {\n  contactEmail\n  contactName\n  contactPhone\n  modelName\n  modelSummary\n  presentedBy\n  address\n  externalUrl\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.ModelAvailableAssets=r(t,"ModelAvailableAssets"),e.exports.ModelStatus=r(t,"ModelStatus"),e.exports.MeshDetails=r(t,"MeshDetails"),e.exports.TextureDetails=r(t,"TextureDetails"),e.exports.TilesetDetails=r(t,"TilesetDetails"),e.exports.PublicationDetails=r(t,"PublicationDetails"),e.exports.ModelOptions=r(t,"ModelOptions"),e.exports.PublicationOptions=r(t,"PublicationOptions")},64927:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelOptions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationOptions"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelOptions"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discoverable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"demo"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelStatus"},directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"urlBrandingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialSharingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vrEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelAvailableAssets"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelImage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetStartLocations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchModel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"patch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ModelPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchModel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"patch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1157}};i.loc.source={body:'#import "./model-fragments.gql"\n#import "./photo-fragments.gql"\n\nquery GetModelOptions($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    publication {\n      options { ...PublicationOptions }\n    }\n    options { ...ModelOptions }\n  }\n}\n\nquery GetModelDetails($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    name\n    organization\n    visibility\n    discoverable\n    created\n    demo\n    ...ModelStatus\n    image { ...PhotoDetails }\n    publication { ...PublicationDetails }\n    options { \n      urlBrandingEnabled\n      socialSharingEnabled\n      vrEnabled\n     }\n    ...ModelAvailableAssets\n  }\n}\n\nquery GetModelImage($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    image { ...PhotoDetails }\n  }\n}\n\nquery GetStartLocations($modelId: ID!) {\n  model(id: $modelId) {\n    views(types: ["matterport.model.default", "matterport.model.layered", "matterport.user.view"]) {\n      id\n      model {\n        image { \n          snapshotLocation {\n            anchor {\n              id\n            }\n          }\n        } \n      }\n    }\n  }\n}\n\n\nmutation PatchModel($modelId: ID!, $patch: ModelPatch!) {\n  patchModel(id: $modelId, , patch: $patch) {\n    id\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}i.definitions=i.definitions.concat(r(n(15899).definitions)),i.definitions=i.definitions.concat(r(n(23888).definitions));var o={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,s=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.GetModelOptions=c(i,"GetModelOptions"),e.exports.GetModelDetails=c(i,"GetModelDetails"),e.exports.GetModelImage=c(i,"GetModelImage"),e.exports.GetStartLocations=c(i,"GetStartLocations"),e.exports.PatchModel=c(i,"PatchModel")},44571:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetNotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NoteDetails"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"note"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddNoteComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CommentDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addNoteComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}},{kind:"Argument",name:{kind:"Name",value:"comment"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NotePatch"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReopenNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reopenNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NoteDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchorPosition"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stemNormal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastCommentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentDetails"},directives:[]}]}}]}}]}}],loc:{start:0,end:1621}};i.loc.source={body:'#import "./attachments.gql"\n#import "./comments.gql"\n\n# read all notes for the specified model\nquery GetNotes($modelId: ID!, $ids: [ID!], $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id\n    notes(ids: $ids) {\n      ...NoteDetails\n    }\n  }\n}\n\n# Create a new note\nmutation AddNote($modelId: ID!, $data: NoteDetails!, $includeLayers: Boolean!) {\n  addNote(modelId: $modelId, , note: $data) {\n    ...NoteDetails\n  }\n}\n\n# Add a comment to the note\nmutation AddNoteComment($modelId: ID!, $noteId: ID!, $data: CommentDetails!) {\n  addNoteComment(modelId: $modelId, , noteId: $noteId, comment: $data) {\n    ...CommentDetails\n  }\n}\n\n# Deletes a single note\nmutation DeleteNote ($modelId: ID!, $noteId: ID!) {\n  deleteNote(modelId: $modelId, , noteId: $noteId)\n}\n\n# Update a single note\nmutation PatchNote($modelId: ID!, $noteId: ID!, $data: NotePatch!, $includeLayers: Boolean!) {\n  patchNote(modelId: $modelId, , noteId: $noteId, patch: $data) {\n    ...NoteDetails\n  }\n}\n\n# Reopen a note\nmutation ReopenNote ($modelId: ID!, $noteId: ID!) {\n  reopenNote(modelId: $modelId, , noteId: $noteId)\n}\n\n# Resolve a note\nmutation ResolveNote($modelId: ID!, $noteId: ID!) {\n  resolveNote(modelId: $modelId, , noteId: $noteId)\n}\n\n# common Note properties\nfragment NoteDetails on Note {\n  id\n  createdBy { id, firstName, lastName, email }\n  color\n  enabled\n  floor { id, meshId }\n  room { id, meshId }\n  layer @include(if: $includeLayers) { id }\n  anchorPosition { x, y, z }\n  stemEnabled\n  stemNormal { x, y, z }\n  stemLength\n  resolution\n  created\n  modified\n  lastCommentAt\n  comments {\n    results { ...CommentDetails }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}i.definitions=i.definitions.concat(r(n(63437).definitions)),i.definitions=i.definitions.concat(r(n(36159).definitions));var o={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,s=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.GetNotes=c(i,"GetNotes"),e.exports.AddNote=c(i,"AddNote"),e.exports.AddNoteComment=c(i,"AddNoteComment"),e.exports.DeleteNote=c(i,"DeleteNote"),e.exports.PatchNote=c(i,"PatchNote"),e.exports.ReopenNote=c(i,"ReopenNote"),e.exports.ResolveNote=c(i,"ResolveNote"),e.exports.NoteDetails=c(i,"NoteDetails")},23888:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PhotoDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolutions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"thumbnailUrl"},name:{kind:"Name",value:"resizeUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolution"},value:{kind:"EnumValue",value:"thumbnail"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"presentationUrl"},name:{kind:"Name",value:"resizeUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolution"},value:{kind:"EnumValue",value:"presentation"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"w"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"zoom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorVisibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pano"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placement"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:535}};t.loc.source={body:"\nfragment PhotoDetails on Photo {\n  id\n  label\n  classification\n  category\n  height\n  width\n  created\n  modified\n  status\n  filename\n  format\n  url\n  resolutions\n  type\n  origin\n  validUntil\n  thumbnailUrl: resizeUrl(resolution: thumbnail)\n  presentationUrl: resizeUrl(resolution: presentation)\n  snapshotLocation {\n    viewMode\n    position { x y z }\n    rotation { x y z w }\n    zoom\n    floorVisibility {\n      id\n      meshId\n      sequence\n    }\n    anchor {\n      id\n      pano {\n        id\n        placement\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.PhotoDetails=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(t,"PhotoDetails")},19642:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSnapshots"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchPhoto"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchPhoto"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"photoId"},value:{kind:"Variable",name:{kind:"Name",value:"photoId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePhoto"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePhoto"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"photoId"},value:{kind:"Variable",name:{kind:"Name",value:"photoId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadHighlightReelSnapshot"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contents"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SnapshotLocationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"snapshot"},name:{kind:"Name",value:"uploadHighlightReelSnapshot"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"contents"},value:{kind:"Variable",name:{kind:"Name",value:"contents"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"snapshotLocation"},value:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadModelSnapshot"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contents"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SnapshotLocationInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photoType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PhotoType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"snapshot"},name:{kind:"Name",value:"uploadModelSnapshot"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"contents"},value:{kind:"Variable",name:{kind:"Name",value:"contents"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"snapshotLocation"},value:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}}},{kind:"Argument",name:{kind:"Name",value:"photoType"},value:{kind:"Variable",name:{kind:"Name",value:"photoType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}}],loc:{start:0,end:1048}};i.loc.source={body:'#import "./photo-fragments.gql"\nquery GetSnapshots($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    assets {\n      photos { ...PhotoDetails }\n    }\n  }\n}\n\nmutation PatchPhoto($modelId: ID!, $photoId: ID!, $label: String!) {\n  patchPhoto(modelId: $modelId, photoId: $photoId, label: $label) {\n    ...PhotoDetails\n  }\n}\n\nmutation DeletePhoto($modelId: ID!, $photoId: ID!) {\n  deletePhoto(modelId: $modelId, photoId: $photoId)\n}\n\nmutation UploadHighlightReelSnapshot($modelId: ID!, $contents: FileUpload!, $label: String!, $snapshotLocation: SnapshotLocationInput!) {\n  snapshot: uploadHighlightReelSnapshot(id: $modelId, contents: $contents, label: $label, snapshotLocation: $snapshotLocation) {\n    ...PhotoDetails\n  }\n}\n\nmutation UploadModelSnapshot($modelId: ID!, $contents: FileUpload!, $label: String!, $snapshotLocation: SnapshotLocationInput!, $photoType: PhotoType!) {\n  snapshot: uploadModelSnapshot(id: $modelId, contents: $contents, label: $label, snapshotLocation: $snapshotLocation, photoType: $photoType) {\n    ...PhotoDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}i.definitions=i.definitions.concat(n(23888).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GetSnapshots=l(i,"GetSnapshots"),e.exports.PatchPhoto=l(i,"PatchPhoto"),e.exports.DeletePhoto=l(i,"DeletePhoto"),e.exports.UploadHighlightReelSnapshot=l(i,"UploadHighlightReelSnapshot"),e.exports.UploadModelSnapshot=l(i,"UploadModelSnapshot")},44055:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPlugins"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sdkPlugins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PluginDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePlugin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteSdkPlugin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePlugin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"patch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SdkPluginPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateSdkPlugin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"patch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PluginDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PluginDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SdkPlugin"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredPolicies"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}],loc:{start:0,end:764}};i.loc.source={body:'#import "./attachments.gql"\n\n# read all plugins for the specified model\nquery GetPlugins($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    sdkPlugins {\n      ...PluginDetails\n    }\n  }\n}\n\n# delete an existing plugin by id\nmutation DeletePlugin($modelId: ID!, $name: String!) {\n  deleteSdkPlugin(modelId: $modelId, name: $name)\n}\n\nmutation UpdatePlugin($modelId: ID!, $name: String!, $patch: SdkPluginPatch!) {\n  updateSdkPlugin(\n    modelId: $modelId\n    name: $name\n    patch: $patch\n  ) {\n    ...PluginDetails\n  }\n}\n\n# common Plugin properties used by Showcase and Workshop\nfragment PluginDetails on SdkPlugin {\n  id\n  name\n  currentVersion\n  description\n  versions {\n    version\n    requiredPolicies\n  }\n  fileAttachments {\n    ...FileAttachmentDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}i.definitions=i.definitions.concat(n(63437).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GetPlugins=l(i,"GetPlugins"),e.exports.DeletePlugin=l(i,"DeletePlugin"),e.exports.UpdatePlugin=l(i,"UpdatePlugin"),e.exports.PluginDetails=l(i,"PluginDetails")},10960:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPolicies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFlag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyValue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFeature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:359}};t.loc.source={body:"\n# get model policies available to all users\nquery GetModelPolicies($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    policies {\n      name\n      ...on PolicyFlag {\n        enabled\n      }\n      ...on PolicyOptions {\n        options\n      }\n      ...on PolicyValue {\n        value\n      }\n      ...on PolicyFeature {\n        availability\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetModelPolicies=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(t,"GetModelPolicies")},82591:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelViewPrefetch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlightReelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewLayerDetails"},directives:[]}]}}]}}]}}],loc:{start:0,end:1051}};i.loc.source={body:'# Prefetch all data that changes for a view in one go.  Allows us to do an atomic view change and know that the data\n# is good.\n\n#import "./layer-fragments.gql"\n#import "./mattertags.gql"\n#import "./lists.gql"\n#import "./labels.gql"\n#import "./measurements.gql"\n#import "./notes.gql"\n#import "./highlights.gql"\n#import "./photo-fragments.gql"\n\nquery GetModelViewPrefetch($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id\n    mattertags(includeDisabled: $includeDisabled) {\n      ...MattertagDetails\n    }\n    orderedLists(ids: []) {\n      ...OrderedListDetails\n    }\n    labels(includeDisabled: $includeDisabled) {\n      ...LabelDetails\n    }\n    measurementPaths(includeDisabled: $includeDisabled) {\n      ...MeasurementDetails\n    }\n    activeHighlightReel {\n      ...HighlightReelDetails\n    }\n    notes(ids: []) {\n      ...NoteDetails\n    }\n    image { \n      ...PhotoDetails \n    }    \n  }\n  view (id: $modelId) {\n    layers @include(if: $includeLayers) {\n      ...ViewLayerDetails\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}i.definitions=i.definitions.concat(r(n(61033).definitions)),i.definitions=i.definitions.concat(r(n(82686).definitions)),i.definitions=i.definitions.concat(r(n(22001).definitions)),i.definitions=i.definitions.concat(r(n(61341).definitions)),i.definitions=i.definitions.concat(r(n(77285).definitions)),i.definitions=i.definitions.concat(r(n(44571).definitions)),i.definitions=i.definitions.concat(r(n(32082).definitions)),i.definitions=i.definitions.concat(r(n(23888).definitions));var o={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.GetModelViewPrefetch=function(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,s=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}(i,"GetModelViewPrefetch")},54161:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPrefetch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelStatus"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelAvailableAssets"},directives:[]},{kind:"Field",name:{kind:"Name",value:"floors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FloorDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tags"},value:{kind:"StringValue",value:"showcase",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnchorLocationDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelOptions"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationDetails"},directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationOptions"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RoomDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discoverable"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1068}};i.loc.source={body:'# Make sure the following imports do not import files themselves, it seems\n# to mess up the platform side parsing. That is why you see these \n# -fragment.gql files below.\n\n#import "./model-fragments.gql"\n#import "./photo-fragments.gql"\n#import "./floors.gql"\n#import "./rooms.gql"\n#import "./sweeps.gql"\n#import "./view-fragments.gql"\n\n# Preloaded model data to be embedded into Showcase HTML page,\n# only load data that is required for Showcase to start,\n# not varied by user, and safe for long-term-cache type behavior.\n# Includes the default view.\n# (ie. NO Mattertags)\nquery GetModelPrefetch($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelStatus\n    ...ModelAvailableAssets\n    floors { ...FloorDetails }\n    image { ...PhotoDetails }\n    locations(tags:"showcase") { ...AnchorLocationDetails }\n    name\n    options { ...ModelOptions }\n    organization\n    publication {\n      ...PublicationDetails\n      options { ...PublicationOptions }\n    }\n    rooms { ...RoomDetails }\n    views {\n      ...ViewDetails\n    }\n    visibility\n    discoverable\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}i.definitions=i.definitions.concat(r(n(15899).definitions)),i.definitions=i.definitions.concat(r(n(23888).definitions)),i.definitions=i.definitions.concat(r(n(8699).definitions)),i.definitions=i.definitions.concat(r(n(86400).definitions)),i.definitions=i.definitions.concat(r(n(5860).definitions)),i.definitions=i.definitions.concat(r(n(54800).definitions));var o={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.GetModelPrefetch=function(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,s=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}(i,"GetModelPrefetch")},86400:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRooms"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RoomDetails"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RoomDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelRoom"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"depth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"areaFloor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]}]}}],loc:{start:0,end:266}};t.loc.source={body:"\nquery GetRooms ($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    rooms {\n      ...RoomDetails\n    }\n  }\n}\n\nfragment RoomDetails on ModelRoom {\n  id\n  meshId\n  floor {\n    id\n    meshId\n  }\n  dimensions {\n    height\n    width\n    depth\n    areaFloor\n  }\n  tags\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetRooms=r(t,"GetRooms"),e.exports.RoomDetails=r(t,"RoomDetails")},5860:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSweeps"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnchorLocationDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetShowcaseSweeps"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tags"},value:{kind:"StringValue",value:"showcase",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnchorLocationDetails"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SkyboxDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SkyboxPanorama"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileResolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileUrlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SkyboxUrlDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PanoramicImageLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolutions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skyboxes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SkyboxDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AnchorLocationDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AnchorLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"index"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"neighbors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pano"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sweepUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placement"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"w"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SkyboxUrlDetails"},directives:[]}]}}]}}],loc:{start:0,end:954}};t.loc.source={body:'\nquery GetSweeps($modelId: ID!) {\n  model(id: $modelId) {\n    id,\n    locations {\n      ...AnchorLocationDetails\n    }\n  }\n}\n\nquery GetShowcaseSweeps($modelId: ID!) {\n  model(id: $modelId) {\n    id,\n    locations(tags: "showcase") {\n      ...AnchorLocationDetails\n    }\n  }\n}\n\nfragment SkyboxDetails on SkyboxPanorama {\n  # TODO(PL-5928) all SkyboxDetail results have the same non-unique id,\n  # using it as a map key will yield unexpected results\n  # id\n  resolution\n  status\n  urlTemplate\n  tileResolution\n  tileCount\n  tileUrlTemplate\n  validUntil\n}\n\nfragment SkyboxUrlDetails on PanoramicImageLocation {\n  id\n  resolutions\n  skyboxes { ...SkyboxDetails }\n}\n\nfragment AnchorLocationDetails on AnchorLocation {\n  id\n  index\n  floor { id, meshId }\n  room { id, meshId }\n  neighbors\n  tags\n  position { x y z }\n  pano {\n    id\n    sweepUuid\n    label\n    placement\n    source\n    position { x y z }\n    rotation { x y z w }\n    ...SkyboxUrlDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetSweeps=r(t,"GetSweeps"),e.exports.GetShowcaseSweeps=r(t,"GetShowcaseSweeps"),e.exports.SkyboxDetails=r(t,"SkyboxDetails"),e.exports.SkyboxUrlDetails=r(t,"SkyboxUrlDetails"),e.exports.AnchorLocationDetails=r(t,"AnchorLocationDetails")},26965:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCurrentUserModelAccess"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"userId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"modelAccess"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emails"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}},{kind:"Argument",name:{kind:"Name",value:"emails"},value:{kind:"Variable",name:{kind:"Name",value:"emails"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelAccess"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPolicies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFlag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyValue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFeature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:915}};t.loc.source={body:"# get access for the current user\nquery GetCurrentUserModelAccess($modelId: ID!, $userId: ID!) {\n  model(id: $modelId) {\n    id\n    organization\n    users(ids: [$userId]) {\n      results {\n        modelAccess\n      }\n    }\n  }\n}\n\n# get users with access to the specified model\nquery GetUsers($modelId: ID!, $search: String, $ids: [ID!], $emails: [String!]) {\n  model(id: $modelId) {\n    users(search: $search, ids: $ids, emails: $emails) {\n      results {\n        id\n        email\n        firstName\n        lastName\n        modelAccess\n      }\n    }\n  }\n}\n\n# get model policies available to all users\nquery GetModelPolicies($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    policies {\n      name\n      ...on PolicyFlag {\n        enabled\n      }\n      ...on PolicyOptions {\n        options\n      }\n      ...on PolicyValue {\n        value\n      }\n      ...on PolicyFeature {\n        availability\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetCurrentUserModelAccess=r(t,"GetCurrentUserModelAccess"),e.exports.GetUsers=r(t,"GetUsers"),e.exports.GetModelPolicies=r(t,"GetModelPolicies")},54800:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ViewDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelView"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:88}};t.loc.source={body:"fragment ViewDetails on ModelView {\n  id\n  type\n  name\n  enabled\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.ViewDetails=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(t,"ViewDetails")},54232:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMergeDiff"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeDiff"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"src"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"typesModified"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"viewId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddUserView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"userDataLayer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"masks"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"deleteLayersIfOrphaned"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"deleteLayersIfOrphaned"},value:{kind:"Variable",name:{kind:"Name",value:"deleteLayersIfOrphaned"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RenameView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetViewEnabled"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertRootViewToLayered"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertRootViewToLayered"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertRootViewToLegacy"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertRootViewToLegacy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"deleteLayersIfOrphaned"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CopyViewDataToLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CopyInput"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"copyViewData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MoveViewDataToLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LayeredViewSelection"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moveViewData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"srcViewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"destLayerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"viewSelections"},value:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteFromView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LayeredViewSelection"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteFromView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"viewSelections"},value:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DuplicateView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}},{kind:"Argument",name:{kind:"Name",value:"userDataLayer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"masks"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}}]}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PublishView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMutator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"src"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSessionDiff"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"base"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.model.default",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"view"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.workshop.session",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:4426}};i.loc.source={body:'#import "./labels.gql"\n#import "./lists.gql"\n#import "./mattertags.gql"\n#import "./measurements.gql"\n#import "./view-fragments.gql"\n\n# Gets the data types that have changed between a view and the base model\nquery GetMergeDiff($viewId: ID!) {\n  model(id: $viewId) {\n    id\n    mergeDiff {\n      src\n      dest\n      typesModified\n    }\n  }\n}\n\n# Get available views for a model\nquery GetViews($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    views {\n      ...ViewDetails\n    }\n  }\n}\n\n# Get one view\nquery GetView($viewId: ID!) {\n  model(id: $viewId) {\n    id\n    views(ids: [$viewId]) {\n      ...ViewDetails\n    }\n  }\n}\n\n# Adds a new User View using the base Model ID.\n# By default, it masks view-based data layer items\nmutation AddUserView($modelId: ID!, $name: String!) {\n  addView(\n    id: $modelId,\n    name: $name,\n    userDataLayer: {\n      masks: [\n        { type: HighlightReel },\n        { type: Label },\n        { type: Mattertag },\n        { type: MeasurementPath },\n        { type: Note },\n        { type: ObjectAnnotation },\n        { type: OrderedList },\n      ]\n    }\n  ) {\n    ...ViewDetails\n  }\n}\n\n# Deletes a View using the base Model ID and the viewId to delete\n# deleteLayersIfOphaned: true will delete the Common layers if orphaned,\n# dedicated layers are deleted in all cases?\nmutation DeleteView($modelId: ID!, $viewId: ID!, $deleteLayersIfOrphaned: Boolean) {\n  deleteView(id: $modelId, viewId: $viewId, deleteLayersIfOrphaned: $deleteLayersIfOrphaned)\n}\n\nmutation RenameView($viewId: ID!, $name: String!) {\n  patchView(id: $viewId, name: $name) {\n    name\n  }\n}\n\nmutation SetViewEnabled($viewId: ID!, $enabled: Boolean) {\n  patchView(id: $viewId, enabled: $enabled) {\n    enabled\n  }\n}\n\nmutation ConvertRootViewToLayered($modelId: ID!) {\n  convertRootViewToLayered(id: $modelId) {\n    ...ViewDetails\n  }\n}\n\nmutation ConvertRootViewToLegacy($modelId: ID!) {\n  convertRootViewToLegacy(id: $modelId, deleteLayersIfOrphaned: false) {\n    ...ViewDetails\n  }\n}\n\n# This returns a view id\nmutation CopyViewDataToLayer($viewId: ID!, $layerId: ID, $copyDataFrom: [CopyInput!]) {\n  copyViewData(\n    id: $viewId\n    layerId: $layerId\n    copyDataFrom: $copyDataFrom\n    generateIds: true\n  ) {\n    id\n  }\n}\n\nmutation MoveViewDataToLayer($viewId: ID!, $layerId: ID, $viewSelections: [LayeredViewSelection!]) {\n  moveViewData(\n    id: $viewId\n    srcViewId: $viewId\n    destLayerId: $layerId\n    viewSelections: $viewSelections\n  )\n}\n\n# Deletes items from view\nmutation DeleteFromView($viewId: ID!, $viewSelections: [LayeredViewSelection!]) {\n  deleteFromView(id: $viewId, viewSelections: $viewSelections)\n}\n\nmutation DuplicateView($modelId: ID!, $viewId: ID!, $name: String!, $enabled: Boolean) {\n addView(\n    id: $modelId\n    name: $name\n    enabled: $enabled\n    userDataLayer: {\n      masks: [\n        { type: HighlightReel },\n        { type: Label },\n        { type: Mattertag },\n        { type: MeasurementPath },\n        { type: Note },\n        { type: ObjectAnnotation },\n        { type: OrderedList },\n      ]\n    },\n    copyDataFrom: [\n      { viewId: $viewId, type: HighlightReel },\n      { viewId: $viewId, type: Label },\n      { viewId: $viewId, type: Mattertag },\n      { viewId: $viewId, type: MeasurementPath },\n      { viewId: $viewId, type: Note },\n      { viewId: $viewId, type: ObjectAnnotation },\n      { viewId: $viewId, type: OrderedList },\n    ]\n    generateIds: true,\n  ) {\n    ...ViewDetails\n  }\n}\n\n# Merges the given view into the base model view\nmutation PublishView($viewId: ID!) {\n  mergeMutator(src: $viewId) {\n    merge {\n      id\n    }\n  }\n}\n\n# Gets the data that has changed between the Workshop session and base model\nquery GetSessionDiff($modelId: ID!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    base: view(type: "matterport.model.default") {\n      id\n      model {\n        labels(includeDisabled: true) { ...LabelDetails }\n        mattertags(includeDisabled: true) { ...MattertagDetails }\n        measurementPaths(includeDisabled: true) { ...MeasurementDetails }\n        orderedLists(ids: []) { ...OrderedListDetails }\n      }\n    }\n    view: view(type: "matterport.workshop.session") {\n      id\n      model {\n        labels(includeDisabled: true) { id modified }\n        mattertags(includeDisabled: true) { id modified }\n        measurementPaths(includeDisabled: true) { id modified }\n        orderedLists(ids: []) { ...OrderedListDetails }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}i.definitions=i.definitions.concat(r(n(61341).definitions)),i.definitions=i.definitions.concat(r(n(22001).definitions)),i.definitions=i.definitions.concat(r(n(82686).definitions)),i.definitions=i.definitions.concat(r(n(77285).definitions)),i.definitions=i.definitions.concat(r(n(54800).definitions));var o={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,s=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.GetMergeDiff=c(i,"GetMergeDiff"),e.exports.GetViews=c(i,"GetViews"),e.exports.GetView=c(i,"GetView"),e.exports.AddUserView=c(i,"AddUserView"),e.exports.DeleteView=c(i,"DeleteView"),e.exports.RenameView=c(i,"RenameView"),e.exports.SetViewEnabled=c(i,"SetViewEnabled"),e.exports.ConvertRootViewToLayered=c(i,"ConvertRootViewToLayered"),e.exports.ConvertRootViewToLegacy=c(i,"ConvertRootViewToLegacy"),e.exports.CopyViewDataToLayer=c(i,"CopyViewDataToLayer"),e.exports.MoveViewDataToLayer=c(i,"MoveViewDataToLayer"),e.exports.DeleteFromView=c(i,"DeleteFromView"),e.exports.DuplicateView=c(i,"DuplicateView"),e.exports.PublishView=c(i,"PublishView"),e.exports.GetSessionDiff=c(i,"GetSessionDiff")},16874:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODQiIGhlaWdodD0iODQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNDIgMEMxOC43OSAwIDAgMTguNzkgMCA0MnMxOC43OSA0MiA0MiA0MiA0Mi0xOC43OSA0Mi00MlM2NS4yMSAwIDQyIDB6IiBmaWxsLW9wYWNpdHk9Ii4yNSIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTUxLjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6TTM0LjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg=="},73355:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjE0MiIgdmlld0JveD0iMCAwIDE0MiAxNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik04MiA4Mi41MDAxQzg1LjMzMzMgODIuMTY2NyA5Mi4zIDgyLjgwMDEgOTMuNSA4OC4wMDAxTTYwLjUgODIuMDczM0M1Ny4xNjY3IDgxLjc0IDUwLjIgODIuMzczMyA0OSA4Ny41NzMzTTM0Ljc2NjggNjcuMzI3NUMzNC43NjY4IDY3LjMyNzUgMzQuNzczIDY0LjgwOTQgMzcuMjg5IDY0LjgxNTZDMzkuODA5MSA2NC44MjM4IDM5LjgwMDkgNjcuMzQxOSAzOS44MDA5IDY3LjM0MTlMMzkuNzYxOCA3OS4wMjU3QzQwLjE2MjcgNzguODQwNyA0MC41ODIgNzguNjc0MiA0MS4wMjE5IDc4LjUzMDNMNDEuMDczMyA2Mi4zMTRDNDEuMDczMyA2Mi4zMTQgNDEuMDgxNSA1OS43OTYgNDMuNTk1NCA1OS44MDQyQzQ2LjExMTQgNTkuODEwMyA0Ni4xMDUzIDYyLjMzMDUgNDYuMTA1MyA2Mi4zMzA1TDQ2LjA2MjEgNzcuNTgyN0M0Ni40NzEyIDc3LjU0NTcgNDYuODkyNSA3Ny41MTY5IDQ3LjMxNiA3Ny40OTYzTDQ3LjM3MzUgNTkuODE0NUM0Ny4zNzM1IDU5LjgxNDUgNDcuMzc5NyA1Ny4yOTY0IDQ5Ljg5NzggNTcuMzA2N0M1Mi40MTU4IDU3LjMxNDkgNTIuNDA1NSA1OS44MzI5IDUyLjQwNTUgNTkuODMyOUw1Mi4zNDggNzcuNTEwN0M1Mi43Nzk3IDc3LjUzNTQgNTMuMTk0OSA3Ny41Nzg2IDUzLjYxMDEgNzcuNjE3Nkw1My42NjE1IDYxLjA5M0M1My42NjE1IDYxLjA5MyA1My42Njk3IDU4LjU3NDkgNTYuMTgzNyA1OC41ODUyQzU4LjY5OTcgNTguNTkxNCA1OC42ODk0IDYxLjEwNzQgNTguNjg5NCA2MS4xMDc0TDU4LjY0IDc4LjU4MTdMNTguNjMzOSA3OS45ODE1VjgxLjIzNzRMNTkuODg3OCA4Mi41MDM3TDYzLjU4OTggNzMuODk1QzYzLjU4OTggNzMuODk1IDY0LjQwMTggNzEuNTEyNiA2Ni43ODgzIDcyLjMyODdDNjkuMTY4NiA3My4xMzQ0IDY4LjM2MDggNzUuNTIxIDY4LjM2MDggNzUuNTIxTDY2LjUyNTIgODEuOTAzNUM2NS43OTc1IDg0LjQ0IDY1LjExNzEgODYuOTkzIDY0Ljc1OTQgODkuNTk5NEM2My43MzU4IDk2Ljk2NjYgNTcuMzk4NSAxMDIuNjMyIDQ5Ljc1NTkgMTAyLjYxMUM0MS40MjA3IDEwMi41NzYgMzQuNjc4NCA5NS43OTY5IDM0LjcwNTIgODcuNDYxN0MzNC43MDYgODcuMjc4NyAzNC43MDkzIDg2LjE5OTYgMzQuNzA5MyA4Ni4xOTk2TDM0Ljc2NjggNjcuMzI3NVpNMTA3LjIxMyA2Ny4zMjc1QzEwNy4yMTMgNjcuMzI3NSAxMDcuMjA3IDY0LjgwOTQgMTA0LjY5MSA2NC44MTU2QzEwMi4xNzEgNjQuODIzOCAxMDIuMTc3IDY3LjM0MTkgMTAyLjE3NyA2Ny4zNDE5TDEwMi4yMTYgNzkuMDI1N0MxMDEuODE3IDc4Ljg0MDcgMTAxLjM5NiA3OC42NzQyIDEwMC45NTggNzguNTMwM0wxMDAuOTA2IDYyLjMxNEMxMDAuOTA2IDYyLjMxNCAxMDAuODk4IDU5Ljc5NiA5OC4zODQyIDU5LjgwNDJDOTUuODY2MSA1OS44MTAzIDk1Ljg3MjMgNjIuMzMwNSA5NS44NzIzIDYyLjMzMDVMOTUuOTE3NSA3Ny41ODI3Qzk1LjUxMDUgNzcuNTQ1NyA5NS4wODkxIDc3LjUxNjkgOTQuNjYzNiA3Ny40OTYzTDk0LjYwODIgNTkuODE0NUM5NC42MDgyIDU5LjgxNDUgOTQuNTk5OSA1Ny4yOTY0IDkyLjA4MTkgNTcuMzA2N0M4OS41NjM4IDU3LjMxNDkgODkuNTc0MSA1OS44MzI5IDg5LjU3NDEgNTkuODMyOUw4OS42MzE2IDc3LjUxMDdDODkuMiA3Ny41MzU0IDg4Ljc4NDggNzcuNTc4NiA4OC4zNjk1IDc3LjYxNzZMODguMzE4MSA2MS4wOTNDODguMzE4MSA2MS4wOTMgODguMzA3OSA1OC41NzQ5IDg1Ljc5MzkgNTguNTg1MkM4My4yNzc5IDU4LjU5MTQgODMuMjg4MiA2MS4xMDc0IDgzLjI4ODIgNjEuMTA3NEw4My4zMzc1IDc4LjU4MTdMODMuMzQzNyA3OS45ODE1VjgxLjIzNzRMODIuMDkxOSA4Mi41MDM3TDc4LjM4OTggNzMuODk1Qzc4LjM4OTggNzMuODk1IDc3LjU3OTkgNzEuNTEyNiA3NS4xOTE0IDcyLjMyODdDNzIuODEzMSA3My4xMzQ0IDczLjYxODkgNzUuNTIxIDczLjYxODkgNzUuNTIxTDc1LjQ1NDUgODEuOTAzNUM3Ni4xODIxIDg0LjQ0IDc2Ljg2MjUgODYuOTkzIDc3LjIyMDIgODkuNTk5NEM3OC4yNDM5IDk2Ljk2NjYgODQuNTc5MSAxMDIuNjMyIDkyLjIyMzcgMTAyLjYxMUMxMDAuNTU5IDEwMi41NzYgMTA3LjMwMyA5NS43OTY5IDEwNy4yNzQgODcuNDYxN0MxMDcuMjc0IDg3LjI3ODcgMTA3LjI3IDg2LjE5OTYgMTA3LjI3IDg2LjE5OTZMMTA3LjIxMyA2Ny4zMjc1WiIgc3Ryb2tlPSIjMjIyMjIyIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTgyLjM4OTkgNTYuMjc0OEM4MS45NTIxIDU2LjI3NDggODEuNTA4MSA1Ni4xMzUgODEuMTM2IDU1Ljg0NzJDODAuMjM1NyA1NS4xNTI0IDgwLjA3MTMgNTMuODYxNiA4MC43NjYgNTIuOTYzM0w4Ni44ODk1IDQ1LjAzOTFDODcuNTc4MSA0NC4xNDI5IDg4Ljg3MzEgNDMuOTcwMiA4OS43NzE0IDQ0LjY2OTFDOTAuNjcxOCA0NS4zNjM5IDkwLjgzNjIgNDYuNjU0OCA5MC4xNDE0IDQ3LjU1MzFMODQuMDE3OSA1NS40NzcyQzgzLjYxNSA1Ni4wMDE0IDgzLjAwNjYgNTYuMjc0OCA4Mi4zODk5IDU2LjI3NDhaTTU5LjczNzcgNTYuMjc0OEM1OS4xMjMxIDU2LjI3NDggNTguNTE0NyA1NS45OTkzIDU4LjEwOTcgNTUuNDc1Mkw1MS45ODYyIDQ3LjU1MzFDNTEuMjkzNSA0Ni42NTQ4IDUxLjQ2IDQ1LjM2MzkgNTIuMzU4MyA0NC42NjkxQzUzLjI1NjUgNDMuOTc2NCA1NC41NDU0IDQ0LjE0MDggNTUuMjQyMiA0NS4wMzkxTDYxLjM2NTcgNTIuOTYzM0M2Mi4wNTg0IDUzLjg2MTYgNjEuODk0IDU1LjE1MjQgNjAuOTk1NyA1NS44NDcyQzYwLjYxOTUgNTYuMTM3MSA2MC4xNzc2IDU2LjI3NDggNTkuNzM3NyA1Ni4yNzQ4Wk03MS4wMDAxIDUyLjMzMzNDNjkuODY1NCA1Mi4zMzMzIDY4Ljk0NDUgNTEuNDEyNCA2OC45NDQ1IDUwLjI3NzhWNDIuMDU1NkM2OC45NDQ1IDQwLjkyMDkgNjkuODY1NCA0MCA3MS4wMDAxIDQwQzcyLjEzNjggNDAgNzMuMDU1NiA0MC45MjA5IDczLjA1NTYgNDIuMDU1NlY1MC4yNzc4QzczLjA1NTYgNTEuNDEyNCA3Mi4xMzY4IDUyLjMzMzMgNzEuMDAwMSA1Mi4zMzMzWiIgZmlsbD0iIzIyMjIyMiIvPgo8L3N2Zz4K"},65338:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMTI3Ljk4MzI1bW0iCiAgIGhlaWdodD0iMTI1Ljg3MDg0bW0iCiAgIHZpZXdCb3g9IjAgMCAxMjcuOTgzMjUgMTI1Ljg3MDg0IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczOSIKICAgc29kaXBvZGk6ZG9jbmFtZT0icm90YXRlLXBob25lLWZhbGxiYWNrLnN2ZyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4xLjIgKGI4ZTI1YmU4LCAyMDIyLTAyLTA1KSIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9Im5hbWVkdmlldzQxIgogICAgIHBhZ2Vjb2xvcj0iIzUwNTA1MCIKICAgICBib3JkZXJjb2xvcj0iI2VlZWVlZSIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZWNoZWNrZXJib2FyZD0iMCIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnNuYXAtcGFnZT0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMC4zMTUxMjI4MSIKICAgICBpbmtzY2FwZTpjeD0iMTc5LjI5NTE4IgogICAgIGlua3NjYXBlOmN5PSI4MDcuNjIxNjMiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxODY0IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEzODciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjI1IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIiAvPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMzNiIgLz4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNC4yOTI2NzM1LC00LjM5MzAzMTgpIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDowLjI2NDU4MyIKICAgICAgIGQ9Im0gNzIuODIwNTc2LDEyOC4yOTE4IGMgMTEuNzczNzksLTEuMDg5ODggMjEuODgzMTQsLTIuMDUzIDIyLjQ2NTIyLC0yLjE0MDI4IDIuNzI3MzIsLTAuNDA4OTEgNS41ODUwNTQsLTIuNDkxMTIgNi45MzU4NDQsLTUuMDUzNjIgMS42NTQ0MiwtMy4xMzg1MyAxLjkwMTYxLDAuOTY5MTcgLTMuMzYyNTI0LC01NS44NzY4NCAtMi42MjI4MSwtMjguMzIzMTM0IC00Ljg4OTU0LC01Mi4wODEwODggLTUuMDM3MTYsLTUyLjc5NTQ1MyAtMC40MjQwNiwtMi4wNTIwNjEgLTEuMTc3NjcsLTMuNDgzMTc4IC0yLjY1ODk4LC01LjA0OTQ0MyAtMS44Nzk1OCwtMS45ODczNzMgLTMuNzI1MjUsLTIuODM4OTAyIC02LjQ2MDUxLC0yLjk4MDY1NSAtMi4xODE4MiwtMC4xMTMwNyAtNDQuMzU4MzA4LDMuNjc5NjUyIC00Ni42ODc4ODgsNC4xOTg0MTMgLTMuNjY2OSwwLjgxNjU1NCAtNi42MTY4MSw0LjAxNTg5MyAtNy40Mjk1LDguMDU3NjkyIC0wLjI4NjMsMS40MjM4NzEgMC4xMzMwOSw2LjQwNzcwMiA0LjQ4NDkzLDUzLjI5Njc4NiAyLjc3MDM3LDI5Ljg0OTQ4IDQuOTYzNzUsNTIuMjg1NTUgNS4xODYxNCw1My4wNDg5NiAxLjI2OTk5LDQuMzU5NzEgNS4wMDQzNCw3LjI0MjM3IDkuNDEzMzksNy4yNjY0OSAwLjk1OTI4LDAuMDA1IDExLjM3NzI0OCwtMC44ODIxNyAyMy4xNTEwMzgsLTEuOTcyMDUgeiBtIC0yMy43MDQ1NjgsLTAuOTYwNTMgYyAtMC44MDAzNywtMC4wOTQgLTEuNzY5NCwtMC4yOTU5NSAtMi4xNTM0MiwtMC40NDg3NiAtMS42NjUxMiwtMC42NjI1OCAtMy42ODM1LC0zLjEzNTk2IC00LjAzNDA3LC00Ljk0MzQ4IC0wLjA4NDcsLTAuNDM2NTcgLTIuMzA2NDgsLTI0LjA0NCAtNC45MzczNywtNTIuNDYwOTcgLTQuNjUxMjQsLTUwLjIzOTQwNiAtNC43NzIwNCwtNTEuNzA2MzkzIC00LjM3MTI4LC01My4wODQ5NTcgMC41MzgyMSwtMS44NTEzOTUgMi4zMTU1MywtMy44NTE5NDQgNC4xMDY2NywtNC42MjI0NzIgMS4xNTI0MiwtMC40OTU3NTggNC4xNTk3MSwtMC44MzE3MSAyMi45NjAzODgsLTIuNTY0OTY5IDExLjkzMzE4LC0xLjEwMDEzNCAyMi41MzM0MiwtMS45NTc4ODIgMjMuNjM5NDMsLTEuOTEyODUgMS42ODU5NSwwLjA2ODY0IDIuMjEyNDIsMC4yMDkyMjIgMy4zMDcyOSwwLjg4MzEgMS40MjIzMSwwLjg3NTQxNiAyLjg2MzMsMi43NzY4NDQgMy4yNzEwNyw0LjMxNjI4NSAwLjM0Mzk4LDEuMjk4NTg5IDkuNTQwNDY0LDEwMS4yODQzMDMgOS41NDA0NjQsMTAzLjcyNTUwMyAwLDMuMjUwMzcgLTEuMzQxODg0LDUuMzM3MDggLTQuMjYyOTk0LDYuNjI5MjIgLTAuOTk3MjksMC40NDExNSAtNC42OTc5NiwwLjg1MTA3IC0yMi43Mzk2LDIuNTE4ODYgLTExLjg1MTY1LDEuMDk1NTggLTIxLjg0NjEwOCwyLjAyNDQ3IC0yMi4yMDk5MDgsMi4wNjQxOSAtMC4zNjM4MSwwLjAzOTcgLTEuMzE2MzEsLTAuMDA1IC0yLjExNjY3LC0wLjA5ODcgeiBtIDIzLjU0NzkxOCwtOS4xMDY2OSBjIDUuNzQ4MDcsLTAuNTE1OTQgMTAuNzE1NjUsLTEuMDQ4MDcgMTEuMDM5MDUsLTEuMTgyNTEgMC44NzI2MywtMC4zNjI3MyAxLjA2OTAxLC0xLjUwMTExIDAuMzc4MTQsLTIuMTkxOTkgbCAtMC41NTg1LC0wLjU1ODUgLTExLjkxMzY3LDEuMTAzNTIgYyAtNi41NTI1MiwwLjYwNjk0IC0xMi4xNTA4OCwxLjIzMDQ3IC0xMi40NDA4LDEuMzg1NjQgLTAuMzI5ODYsMC4xNzY1MyAtMC41MjU2MiwwLjU1MDkzIC0wLjUyMzA5LDEuMDAwNDEgMC4wMDcsMS4zMjg2NSAwLjU2NDk5LDEuNjgwNDMgMi4zNzcyLDEuNTAwMDQgMC42NTQ4NCwtMC4wNjUyIDUuODkzNTksLTAuNTQwNjYgMTEuNjQxNjcsLTEuMDU2NjEgeiBtIC04Ljc0ODQ5LC05OS4xOTMyMjIgYyAyLjg0NjU2LC0wLjI4NDQ4NyAzLjYyMzk1LC0wLjQ1MDA0NSAzLjkwMjYsLTAuODMxMTI3IDAuNDkzMywtMC42NzQ2MzIgMC40MzE5OCwtMS4yNzUwMzMgLTAuMTg3NSwtMS44MzU2NSAtMC41MDQxMywtMC40NTYyMzIgLTAuNzcxMjMsLTAuNDY1NTY5IC00LjU2NDA2LC0wLjE1OTU0NyAtMi4yMTU3MywwLjE3ODc3NCAtNC40MjIzMiwwLjM5MjkwNyAtNC45MDM1NCwwLjQ3NTg1NCAtMS41OTkzOCwwLjI3NTY3NyAtMi4xMzE1MiwyLjE5MjgxMyAtMC43NTU0MywyLjcyMTYxOCAwLjMxNDYyLDAuMTIwOSAxLjEwNzgyLDAuMTY2NzggMS43NjI2NywwLjEwMTk2IDAuNjU0ODQsLTAuMDY0OCAyLjc5MDIxLC0wLjI3NzcxOCA0Ljc0NTI2LC0wLjQ3MzEwOCB6IE0gMjcuMzI1NjQ4LDEwMC4yMjI2OSBjIDAuNTYyNDUsLTAuODU4NDEgMC4yNDY0LC0xLjkzNzk1IC0wLjcwMjcyLC0yLjQwMDMzIEMgMjYuMjYxMDQ4LDk3LjY0NjA3IDI0LjU5NTc0OCw5Ni44NDc2IDIyLjkyMjI1OCw5Ni4wNDggMTUuMDI1NDQ4LDkyLjI3NDg0IDkuODgwOTc4Miw4NS41NTcyOCA4LjIwMjc2ODIsNzYuODI3NTcgYyAtMC41MDMwOSwtMi42MTY5NyAtMC40ODYzMSwtNy44ODYwMiAwLjAzMzEsLTEwLjQwMDczIDEuMzM1MTUsLTYuNDYzODUgNC45Njk3ODk4LC0xMi4zMzI3ODUgOS45ODc4Mzk4LC0xNi4xMjc1NjUgMy42OTUyNiwtMi43OTQ0NSAzLjYwNDczLC0yLjg3NDE1IDEuNjIzNzgsMS40Mjk1MSAtMi43OTc4Nyw2LjA3ODQ4IC0zLjA2MDU4LDYuNzg0MDcgLTIuNzQ1MjUsNy4zNzMyNiAwLjU3MDI4LDEuMDY1NTg1IDIuMDA4NTMsMS4zODAzMzUgMi43MTMyMSwwLjU5Mzc1NSAwLjU1MTg1LC0wLjYxNTk4NSA3LjA3NTU0LC0xNC44MzcwMTUgNy4wNzU1NCwtMTUuNDI0MDA1IDAsLTAuMjUyMTggLTAuMjA4MzYsLTAuNzAxNzIgLTAuNDYzMDIsLTAuOTk4OTggLTAuNDc1OTcsLTAuNTU1NTY5IC0xNC43MjQ2MywtNy4xOTEwNjkgLTE1LjQ0MTY2LC03LjE5MTA2OSAtMS4yMDEwNTk4LDAgLTIuMDU4NTg5OCwyLjE2NTQzIC0xLjE1NDYyOTgsMi45MTU2NSAwLjIyMTc0OTgsMC4xODQwNCAyLjc5MTUwOTgsMS40MzQ4MiA1LjcxMDU3OTgsMi43Nzk1MSA0LjE3Mzk0LDEuOTIyNzQ5IDUuMjMyMDUsMi41MTAxNzkgNC45NTQ2MiwyLjc1MDYxOSAtMC4xOTQwMiwwLjE2ODE2IC0xLjI1OTUzLDAuODkyODUgLTIuMzY3OCwxLjYxMDQyIC02LjczOTI0LDQuMzYzNDMgLTExLjY0NTcxOTgsMTEuNjUyMjggLTEzLjM2NDg0OTgsMTkuODU0MjU1IC0wLjU3MjkxLDIuNzMzMzggLTAuNjM0OTUsOC4yNTQwNCAtMC4xMjQ3NCwxMS4wOTk5NSAxLjY3Mjg0LDkuMzMwODEgNy43NzI3ODk4LDE3LjYwMDM5IDE2LjEwNTE4OTgsMjEuODMzNDcgNC4yMjAzNywyLjE0NDA1IDUuODE5NDcsMi40NTkyMiA2LjU4MDk1LDEuMjk3MDcgeiBtIDk5LjMxMzI4MiwtNC42MDk3MSBjIDAuNzIwMTIsLTAuNzIwMTEgMC42NjkwNywtMS43NTIwOSAtMC4xMjE2OCwtMi40NjAwMiAtMC4zNTc5NiwtMC4zMjA0OCAtMi44NTgyNywtMS41ODUzMiAtNS41NTYyNSwtMi44MTA3OCAtMi42OTc5NywtMS4yMjU0NSAtNC45MDU0MSwtMi4zMTgzMiAtNC45MDU0MSwtMi40Mjg2IDAsLTAuMTEwMjcgMC45MjI3NCwtMC43NzI0OCAyLjA1MDUzLC0xLjQ3MTU2IDIuNDEyNTQsLTEuNDk1NDYgNy4zOTk2NiwtNi4zMzg2MiA4LjkxMjg3LC04LjY1NTU3IDIuMzI0NTIsLTMuNTU5MiAzLjkxNDQ2LC03LjQxNjc4IDQuODExNzUsLTExLjY3NDUxIDAuNTM4NTcsLTIuNTU1NTUgMC42MDAwMiwtNy45MjM5NTUgMC4xMjExNCwtMTAuNTgzMzI1IC0xLjgwNDAyLC0xMC4wMTgzOSAtNy44NDI5NSwtMTguMDk4ODk5IC0xNi44OTM3NiwtMjIuNjA1MDY5IC0zLjY0Mzg4LC0xLjgxNDIgLTUuMTYwNzcsLTIuMDE5NzEgLTUuODQ3MzksLTAuNzkyMjIgLTAuNzMxNCwxLjMwNzU2IC0wLjI4MDQ4LDEuOTA2OTQgMi4yNzQ2NSwzLjAyMzU1IDYuMTI1NzQsMi42NzY5OCAxMC4wMDMzNCw1LjkwNDc1IDEzLjIxMTM5LDEwLjk5NzMzOSAyLjYwOTc2LDQuMTQyODQgMy43OTcyMyw4LjEyNDU1IDMuOTg3NjYsMTMuMzcxMDcgMC4xOTUxMiw1LjM3NTY2NSAtMC41NzcyLDguODY3NDE1IC0zLjAxNjE2LDEzLjYzNjM4NSAtMS4yMTkzNCwyLjM4NDIxIC00LjYzOTU0LDYuNzQ0OTkgLTYuMjU4OSw3Ljk4MDEzIC0wLjUwOTcsMC4zODg3NiAtMS4wODU4NSwwLjg1NzY4IC0xLjI4MDM1LDEuMDQyMDQgLTAuNjc2NjksMC42NDE0MiAtMi42NTIxMSwxLjgyODE1IC0yLjc5ODg2LDEuNjgxNDEgLTAuMDgxMiwtMC4wODEyIDAuODgxOTEsLTIuMzY2NDcgMi4xNDAzNCwtNS4wNzgyOSAyLjA5Nzg3LC00LjUyMDc1IDIuMjYwNTYsLTQuOTg3OTMgMS45NTczMSwtNS42MjA2NCAtMC40ODk2MywtMS4wMjE1OSAtMS42MTA5MSwtMS4zMzQ1NyAtMi40NjI5OSwtMC42ODc0OSAtMC43NjM0NSwwLjU3OTc4IC03LjI1OTIzLDE0LjUwNDE1IC03LjI1OTIzLDE1LjU2MDkxIDAsMC4zMzc3NCAwLjIyNjIxLDAuODE4NzggMC41MDI2OSwxLjA2ODk4IDAuNzA2NzMsMC42Mzk1OSAxNC41ODE5OCw3LjAwNDc1IDE1LjMwNjE3LDcuMDIxNTkgMC4zMjc0MiwwLjAwOCAwLjgzMzQ0LC0wLjIyNDI4IDEuMTI0NDgsLTAuNTE1MzMgeiIKICAgICAgIGlkPSJwYXRoMTA5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJzc3Nzc3Nzc3NzY2NzY3Nzc3Nzc3Nzc3Nzc3Njc3NzY3NzY3Nzc3Nzc3Nzc3Nzc2NzY3Nzc3Nzc3Nzc3Nzc2Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzY3MiIC8+CiAgPC9nPgo8L3N2Zz4K"},69506:(e,t,n)=>{"use strict";e.exports=n.p+"images/escape.png"},35783:(e,t,n)=>{"use strict";e.exports=n.p+"images/headset-quest-2.png"},8590:(e,t,n)=>{"use strict";e.exports=n.p+"images/Desktop-help-play-button.svg"},130:(e,t,n)=>{"use strict";e.exports=n.p+"images/Desktop-help-spacebar.png"},80694:(e,t,n)=>{"use strict";e.exports=n.p+"images/matterport-logo-light.svg"},68026:(e,t,n)=>{"use strict";e.exports=n.p+"images/mattertag-disc-128-free.v1.png"},31603:(e,t,n)=>{"use strict";e.exports=n.p+"images/mobile-help-play-button.svg"},61163:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_360.png"},16554:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_click_inside.png"},37161:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag.png"},61406:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag_two_finger.png"},33948:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_pinch.png"},79264:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_position.png"},88446:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_position_two_finger.png"},44625:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_tap.png"},71964:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_inside_key.png"},92116:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_keyboard_all.png"},90047:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_keyboard_left_right.png"},41922:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_keyboard_up_down.png"},24267:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_click.png"},9328:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_drag_left.png"},62002:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_drag_right.png"},80208:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_position_left.png"},75974:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_position_right.png"},5512:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_zoom.png"},92842:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_tap_inside.png"},44889:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_zoom_keys.png"},81396:e=>{"use strict";e.exports=THREE},25821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(45695);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return a(e,[])}function a(e,t){switch(s(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),s=function(e){var t=e[String(i.Z)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==s){var r=s.call(e);if(r!==e)return"string"==typeof r?r:a(r,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),i=e.length-n,s=[],r=0;r<n;++r)s.push(a(e[r],t));1===i?s.push("... 1 more item"):i>1&&s.push("... ".concat(i," more items"));return"["+s.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+a(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},45695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0},25217:(e,t,n)=>{"use strict";n.d(t,{Ye:()=>r,WU:()=>a,UG:()=>o});var i=n(45695);function s(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,i.Z&&(e.prototype[i.Z]=t)}var r=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();s(r);var a=function(){function e(e,t,n,i,s,r,a){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=s,this.value=a,this.prev=r,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function o(e){return null!=e&&"string"==typeof e.kind}s(a)},87392:(e,t,n)=>{"use strict";function i(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,i=!0,s=0,r=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,i=!0,s=0;break;case 9:case 32:++s;break;default:i&&!n&&(null===r||s<r)&&(r=s),i=!1}return null!==(t=r)&&void 0!==t?t:0}(e);if(0!==n)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(var r=0;r<t.length&&s(t[r]);)++r;for(var a=t.length;a>r&&s(t[a-1]);)--a;return t.slice(r,a).join("\n")}function s(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1===e.indexOf("\n"),s=" "===e[0]||"\t"===e[0],r='"'===e[e.length-1],a="\\"===e[e.length-1],o=!i||r||a||n,l="";return!o||i&&s||(l+="\n"+t),l+=t?e.replace(/\n/g,"\n"+t):e,o&&(l+="\n"),'"""'+l.replace(/"""/g,'\\"""')+'"""'}n.d(t,{LZ:()=>r,W7:()=>i})},69127:(e,t,n)=>{"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Qc:()=>B});"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var s="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function r(e,t){for(var n,i=/\r\n|[\n\r]/g,s=1,r=t+1;(n=i.exec(e.body))&&n.index<t;)s+=1,r=t+1-(n.index+n[0].length);return{line:s,column:r}}function a(e){return o(e.source,r(e.source,e.start))}function o(e,t){var n=e.locationOffset.column-1,i=c(n)+e.body,s=t.line-1,r=e.locationOffset.line-1,a=t.line+r,o=1===t.line?n:0,d=t.column+o,u="".concat(e.name,":").concat(a,":").concat(d,"\n"),h=i.split(/\r\n|[\n\r]/g),p=h[s];if(p.length>120){for(var m=Math.floor(d/80),f=d%80,g=[],v=0;v<p.length;v+=80)g.push(p.slice(v,v+80));return u+l([["".concat(a),g[0]]].concat(g.slice(1,m+1).map((function(e){return["",e]})),[[" ",c(f-1)+"^"],["",g[m+1]]]))}return u+l([["".concat(a-1),h[s-1]],["".concat(a),p],["",c(d-1)+"^"],["".concat(a+1),h[s+1]]])}function l(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,i=e[0],s=e[1];return c(n-(t=i).length)+t+(s?" | "+s:" |")})).join("\n")}function c(e){return Array(e+1).join(" ")}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){var t="function"==typeof Map?new Map:void 0;return(m=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return f(e,arguments,b(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),v(i,e)})(e)}function f(e,t,n){return(f=g()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return n&&v(s,n.prototype),s}).apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(f,e);var t,n,l,c,d,m=(t=f,n=g(),function(){var e,i=b(t);if(n){var s=b(this).constructor;e=Reflect.construct(i,arguments,s)}else e=i.apply(this,arguments);return h(this,e)});function f(e,t,n,s,a,o,l){var c,d,u,g,v;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),v=m.call(this,e);var b,y=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,E=n;!E&&y&&(E=null===(b=y[0].loc)||void 0===b?void 0:b.source);var S,O=s;!O&&y&&(O=y.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),O&&0===O.length&&(O=void 0),s&&n?S=s.map((function(e){return r(n,e)})):y&&(S=y.reduce((function(e,t){return t.loc&&e.push(r(t.loc.source,t.loc.start)),e}),[]));var T,_=l;if(null==_&&null!=o){var w=o.extensions;"object"==i(T=w)&&null!==T&&(_=w)}return Object.defineProperties(p(v),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(c=S)&&void 0!==c?c:void 0,enumerable:null!=S},path:{value:null!=a?a:void 0,enumerable:null!=a},nodes:{value:null!=y?y:void 0},source:{value:null!==(d=E)&&void 0!==d?d:void 0},positions:{value:null!==(u=O)&&void 0!==u?u:void 0},originalError:{value:o},extensions:{value:null!==(g=_)&&void 0!==g?g:void 0,enumerable:null!=_}}),null!=o&&o.stack?(Object.defineProperty(p(v),"stack",{value:o.stack,writable:!0,configurable:!0}),h(v)):(Error.captureStackTrace?Error.captureStackTrace(p(v),f):Object.defineProperty(p(v),"stack",{value:Error().stack,writable:!0,configurable:!0}),v)}return l=f,(c=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,i=e.nodes;n<i.length;n++){var s=i[n];s.loc&&(t+="\n\n"+a(s.loc))}else if(e.source&&e.locations)for(var r=0,l=e.locations;r<l.length;r++){var c=l[r];t+="\n\n"+o(e.source,c)}return t}(this)}},{key:s,get:function(){return"Object"}}])&&u(l.prototype,c),d&&u(l,d),f}(m(Error));function E(e,t,n){return new y("Syntax Error: ".concat(n),void 0,e,[t])}var S=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),O=n(25217),T=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),_=n(25821);function w(e,t){if(!Boolean(e))throw new Error(t)}const N=function(e,t){return e instanceof t};function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var I=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||w(0,"Body must be a string. Received: ".concat((0,_.Z)(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||w(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||w(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,i;return t=e,(n=[{key:s,get:function(){return"Source"}}])&&A(t.prototype,n),i&&A(t,i),e}();var k=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),P=n(87392),L=function(){function e(e){var t=new O.WU(T.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==T.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=C(this,e)}while(e.kind===T.COMMENT);return e},e}();function R(e){return isNaN(e)?T.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function C(e,t){for(var n=e.source,i=n.body,s=i.length,r=t.end;r<s;){var a=i.charCodeAt(r),o=e.line,l=1+r-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:10===i.charCodeAt(r+1)?r+=2:++r,++e.line,e.lineStart=r;continue;case 33:return new O.WU(T.BANG,r,r+1,o,l,t);case 35:return M(n,r,o,l,t);case 36:return new O.WU(T.DOLLAR,r,r+1,o,l,t);case 38:return new O.WU(T.AMP,r,r+1,o,l,t);case 40:return new O.WU(T.PAREN_L,r,r+1,o,l,t);case 41:return new O.WU(T.PAREN_R,r,r+1,o,l,t);case 46:if(46===i.charCodeAt(r+1)&&46===i.charCodeAt(r+2))return new O.WU(T.SPREAD,r,r+3,o,l,t);break;case 58:return new O.WU(T.COLON,r,r+1,o,l,t);case 61:return new O.WU(T.EQUALS,r,r+1,o,l,t);case 64:return new O.WU(T.AT,r,r+1,o,l,t);case 91:return new O.WU(T.BRACKET_L,r,r+1,o,l,t);case 93:return new O.WU(T.BRACKET_R,r,r+1,o,l,t);case 123:return new O.WU(T.BRACE_L,r,r+1,o,l,t);case 124:return new O.WU(T.PIPE,r,r+1,o,l,t);case 125:return new O.WU(T.BRACE_R,r,r+1,o,l,t);case 34:return 34===i.charCodeAt(r+1)&&34===i.charCodeAt(r+2)?F(n,r,o,l,t,e):U(n,r,o,l,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return x(n,r,a,o,l,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return V(n,r,o,l,t)}throw E(n,r,D(a))}var c=e.line,d=1+r-e.lineStart;return new O.WU(T.EOF,s,s,c,d,t)}function D(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(R(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(R(e),".")}function M(e,t,n,i,s){var r,a=e.body,o=t;do{r=a.charCodeAt(++o)}while(!isNaN(r)&&(r>31||9===r));return new O.WU(T.COMMENT,t,o,n,i,s,a.slice(t+1,o))}function x(e,t,n,i,s,r){var a=e.body,o=n,l=t,c=!1;if(45===o&&(o=a.charCodeAt(++l)),48===o){if((o=a.charCodeAt(++l))>=48&&o<=57)throw E(e,l,"Invalid number, unexpected digit after 0: ".concat(R(o),"."))}else l=j(e,l,o),o=a.charCodeAt(l);if(46===o&&(c=!0,o=a.charCodeAt(++l),l=j(e,l,o),o=a.charCodeAt(l)),69!==o&&101!==o||(c=!0,43!==(o=a.charCodeAt(++l))&&45!==o||(o=a.charCodeAt(++l)),l=j(e,l,o),o=a.charCodeAt(l)),46===o||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(o))throw E(e,l,"Invalid number, expected digit but got: ".concat(R(o),"."));return new O.WU(c?T.FLOAT:T.INT,t,l,i,s,r,a.slice(t,l))}function j(e,t,n){var i=e.body,s=t,r=n;if(r>=48&&r<=57){do{r=i.charCodeAt(++s)}while(r>=48&&r<=57);return s}throw E(e,s,"Invalid number, expected digit but got: ".concat(R(r),"."))}function U(e,t,n,i,s){for(var r,a,o,l,c=e.body,d=t+1,u=d,h=0,p="";d<c.length&&!isNaN(h=c.charCodeAt(d))&&10!==h&&13!==h;){if(34===h)return p+=c.slice(u,d),new O.WU(T.STRING,t,d+1,n,i,s,p);if(h<32&&9!==h)throw E(e,d,"Invalid character within String: ".concat(R(h),"."));if(++d,92===h){switch(p+=c.slice(u,d-1),h=c.charCodeAt(d)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var m=(r=c.charCodeAt(d+1),a=c.charCodeAt(d+2),o=c.charCodeAt(d+3),l=c.charCodeAt(d+4),H(r)<<12|H(a)<<8|H(o)<<4|H(l));if(m<0){var f=c.slice(d+1,d+5);throw E(e,d,"Invalid character escape sequence: \\u".concat(f,"."))}p+=String.fromCharCode(m),d+=4;break;default:throw E(e,d,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}u=++d}}throw E(e,d,"Unterminated string.")}function F(e,t,n,i,s,r){for(var a=e.body,o=t+3,l=o,c=0,d="";o<a.length&&!isNaN(c=a.charCodeAt(o));){if(34===c&&34===a.charCodeAt(o+1)&&34===a.charCodeAt(o+2))return d+=a.slice(l,o),new O.WU(T.BLOCK_STRING,t,o+3,n,i,s,(0,P.W7)(d));if(c<32&&9!==c&&10!==c&&13!==c)throw E(e,o,"Invalid character within String: ".concat(R(c),"."));10===c?(++o,++r.line,r.lineStart=o):13===c?(10===a.charCodeAt(o+1)?o+=2:++o,++r.line,r.lineStart=o):92===c&&34===a.charCodeAt(o+1)&&34===a.charCodeAt(o+2)&&34===a.charCodeAt(o+3)?(d+=a.slice(l,o)+'"""',l=o+=4):++o}throw E(e,o,"Unterminated string.")}function H(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function V(e,t,n,i,s){for(var r=e.body,a=r.length,o=t+1,l=0;o!==a&&!isNaN(l=r.charCodeAt(o))&&(95===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++o;return new O.WU(T.NAME,t,o,n,i,s,r.slice(t,o))}function B(e,t){return new G(e,t).parseDocument()}var G=function(){function e(e,t){var n=function(e){return N(e,I)}(e)?e:new I(e);this._lexer=new L(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(T.NAME);return{kind:S.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:S.DOCUMENT,definitions:this.many(T.SOF,this.parseDefinition,T.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(T.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(T.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(T.BRACE_L))return{kind:S.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(T.NAME)&&(t=this.parseName()),{kind:S.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(T.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(T.PAREN_L,this.parseVariableDefinition,T.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:S.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(T.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(T.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(T.DOLLAR),{kind:S.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:S.SELECTION_SET,selections:this.many(T.BRACE_L,this.parseSelection,T.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(T.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,i=this.parseName();return this.expectOptionalToken(T.COLON)?(e=i,t=this.parseName()):t=i,{kind:S.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(T.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(T.PAREN_L,t,T.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(T.COLON),{kind:S.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:S.ARGUMENT,name:this.parseName(),value:(this.expectToken(T.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(T.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(T.NAME)?{kind:S.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:S.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:S.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:S.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case T.BRACKET_L:return this.parseList(e);case T.BRACE_L:return this.parseObject(e);case T.INT:return this._lexer.advance(),{kind:S.INT,value:t.value,loc:this.loc(t)};case T.FLOAT:return this._lexer.advance(),{kind:S.FLOAT,value:t.value,loc:this.loc(t)};case T.STRING:case T.BLOCK_STRING:return this.parseStringLiteral();case T.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:S.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:S.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:S.NULL,loc:this.loc(t)};default:return{kind:S.ENUM,value:t.value,loc:this.loc(t)}}case T.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:S.STRING,value:e.value,block:e.kind===T.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:S.LIST,values:this.any(T.BRACKET_L,(function(){return t.parseValueLiteral(e)}),T.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:S.OBJECT,fields:this.any(T.BRACE_L,(function(){return t.parseObjectField(e)}),T.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(T.COLON),{kind:S.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(T.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(T.AT),{kind:S.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(T.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(T.BRACKET_R),e={kind:S.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(T.BANG)?{kind:S.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:S.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===T.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(T.STRING)||this.peek(T.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),i=this.many(T.BRACE_L,this.parseOperationTypeDefinition,T.BRACE_R);return{kind:S.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(T.COLON);var n=this.parseNamedType();return{kind:S.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),i=this.parseDirectives(!0);return{kind:S.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),r=this.parseFieldsDefinition();return{kind:S.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:s,fields:r,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(T.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(T.AMP)||this.peek(T.NAME));return t}return this.delimitedMany(T.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(T.BRACE_L)&&this._lexer.lookahead().kind===T.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(T.BRACE_L,this.parseFieldDefinition,T.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(T.COLON);var s=this.parseTypeReference(),r=this.parseDirectives(!0);return{kind:S.FIELD_DEFINITION,description:t,name:n,arguments:i,type:s,directives:r,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(T.PAREN_L,this.parseInputValueDef,T.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(T.COLON);var i,s=this.parseTypeReference();this.expectOptionalToken(T.EQUALS)&&(i=this.parseValueLiteral(!0));var r=this.parseDirectives(!0);return{kind:S.INPUT_VALUE_DEFINITION,description:t,name:n,type:s,defaultValue:i,directives:r,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),r=this.parseFieldsDefinition();return{kind:S.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:s,fields:r,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),i=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:S.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:s,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(T.EQUALS)?this.delimitedMany(T.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),i=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:S.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:s,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(T.BRACE_L,this.parseEnumValueDefinition,T.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseDirectives(!0);return{kind:S.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),i=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:S.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:s,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(T.BRACE_L,this.parseInputValueDef,T.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===T.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(T.BRACE_L,this.parseOperationTypeDefinition,T.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:S.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:S.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===s.length)throw this.unexpected();return{kind:S.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:s,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===s.length)throw this.unexpected();return{kind:S.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:s,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:S.UNION_TYPE_EXTENSION,name:t,directives:n,types:i,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:S.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:S.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(T.AT);var n=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var r=this.parseDirectiveLocations();return{kind:S.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:s,locations:r,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(T.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==k[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new O.Ye(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw E(this._lexer.source,t.start,"Expected ".concat(z(e),", found ").concat(W(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==T.NAME||t.value!==e)throw E(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(W(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===T.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return E(this._lexer.source,t.start,"Unexpected ".concat(W(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var i=[];!this.expectOptionalToken(n);)i.push(t.call(this));return i},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i}return[]},t.many=function(e,t,n){this.expectToken(e);var i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function W(e){var t=e.value;return z(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function z(e){return function(e){return e===T.BANG||e===T.DOLLAR||e===T.AMP||e===T.PAREN_L||e===T.PAREN_R||e===T.SPREAD||e===T.COLON||e===T.EQUALS||e===T.AT||e===T.BRACKET_L||e===T.BRACKET_R||e===T.BRACE_L||e===T.PIPE||e===T.BRACE_R}(e)?'"'.concat(e,'"'):e}},39011:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var i=n(77304),s=n(87392);function r(e){return(0,i.Vn)(e,{leave:a})}var a={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return l(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,i=d("(",l(e.variableDefinitions,", "),")"),s=l(e.directives," "),r=e.selectionSet;return n||s||i||"query"!==t?l([t,l([n,i]),s,r]," "):r},VariableDefinition:function(e){var t=e.variable,n=e.type,i=e.defaultValue,s=e.directives;return t+": "+n+d(" = ",i)+d(" ",l(s," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var t=e.alias,n=e.name,i=e.arguments,s=e.directives,r=e.selectionSet,a=d("",t,": ")+n,o=a+d("(",l(i,", "),")");return o.length>80&&(o=a+d("(\n",u(l(i,"\n")),"\n)")),l([o,l(s," "),r]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+d(" ",l(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,i=e.selectionSet;return l(["...",d("on ",t),l(n," "),i]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,i=e.variableDefinitions,s=e.directives,r=e.selectionSet;return"fragment ".concat(t).concat(d("(",l(i,", "),")")," ")+"on ".concat(n," ").concat(d("",l(s," ")," "))+r},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,s.LZ)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+l(e.values,", ")+"]"},ObjectValue:function(e){return"{"+l(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+d("(",l(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:o((function(e){var t=e.directives,n=e.operationTypes;return l(["schema",l(t," "),c(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:o((function(e){return l(["scalar",e.name,l(e.directives," ")]," ")})),ObjectTypeDefinition:o((function(e){var t=e.name,n=e.interfaces,i=e.directives,s=e.fields;return l(["type",t,d("implements ",l(n," & ")),l(i," "),c(s)]," ")})),FieldDefinition:o((function(e){var t=e.name,n=e.arguments,i=e.type,s=e.directives;return t+(p(n)?d("(\n",u(l(n,"\n")),"\n)"):d("(",l(n,", "),")"))+": "+i+d(" ",l(s," "))})),InputValueDefinition:o((function(e){var t=e.name,n=e.type,i=e.defaultValue,s=e.directives;return l([t+": "+n,d("= ",i),l(s," ")]," ")})),InterfaceTypeDefinition:o((function(e){var t=e.name,n=e.interfaces,i=e.directives,s=e.fields;return l(["interface",t,d("implements ",l(n," & ")),l(i," "),c(s)]," ")})),UnionTypeDefinition:o((function(e){var t=e.name,n=e.directives,i=e.types;return l(["union",t,l(n," "),i&&0!==i.length?"= "+l(i," | "):""]," ")})),EnumTypeDefinition:o((function(e){var t=e.name,n=e.directives,i=e.values;return l(["enum",t,l(n," "),c(i)]," ")})),EnumValueDefinition:o((function(e){return l([e.name,l(e.directives," ")]," ")})),InputObjectTypeDefinition:o((function(e){var t=e.name,n=e.directives,i=e.fields;return l(["input",t,l(n," "),c(i)]," ")})),DirectiveDefinition:o((function(e){var t=e.name,n=e.arguments,i=e.repeatable,s=e.locations;return"directive @"+t+(p(n)?d("(\n",u(l(n,"\n")),"\n)"):d("(",l(n,", "),")"))+(i?" repeatable":"")+" on "+l(s," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return l(["extend schema",l(t," "),c(n)]," ")},ScalarTypeExtension:function(e){return l(["extend scalar",e.name,l(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,s=e.fields;return l(["extend type",t,d("implements ",l(n," & ")),l(i," "),c(s)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,s=e.fields;return l(["extend interface",t,d("implements ",l(n," & ")),l(i," "),c(s)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,i=e.types;return l(["extend union",t,l(n," "),i&&0!==i.length?"= "+l(i," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,i=e.values;return l(["extend enum",t,l(n," "),c(i)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,i=e.fields;return l(["extend input",t,l(n," "),c(i)]," ")}};function o(e){return function(t){return l([t.description,e(t)],"\n")}}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function c(e){return d("{\n",u(l(e,"\n")),"\n}")}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function u(e){return d("  ",e.replace(/\n/g,"\n  "))}function h(e){return-1!==e.indexOf("\n")}function p(e){return null!=e&&e.some(h)}},77304:(e,t,n)=>{"use strict";n.d(t,{$_:()=>a,Vn:()=>o});var i=n(25821),s=n(25217),r={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},a=Object.freeze({});function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=void 0,c=Array.isArray(e),d=[e],u=-1,h=[],p=void 0,m=void 0,f=void 0,g=[],v=[],b=e;do{var y=++u===d.length,E=y&&0!==h.length;if(y){if(m=0===v.length?void 0:g[g.length-1],p=f,f=v.pop(),E){if(c)p=p.slice();else{for(var S={},O=0,T=Object.keys(p);O<T.length;O++){var _=T[O];S[_]=p[_]}p=S}for(var w=0,N=0;N<h.length;N++){var A=h[N][0],I=h[N][1];c&&(A-=w),c&&null===I?(p.splice(A,1),w++):p[A]=I}}u=o.index,d=o.keys,h=o.edits,c=o.inArray,o=o.prev}else{if(m=f?c?u:d[u]:void 0,null==(p=f?f[m]:b))continue;f&&g.push(m)}var k,P=void 0;if(!Array.isArray(p)){if(!(0,s.UG)(p))throw new Error("Invalid AST Node: ".concat((0,i.Z)(p),"."));var L=l(t,p.kind,y);if(L){if((P=L.call(t,p,m,f,g,v))===a)break;if(!1===P){if(!y){g.pop();continue}}else if(void 0!==P&&(h.push([m,P]),!y)){if(!(0,s.UG)(P)){g.pop();continue}p=P}}}if(void 0===P&&E&&h.push([m,p]),y)g.pop();else o={inArray:c,index:u,keys:d,edits:h,prev:o},d=(c=Array.isArray(p))?p:null!==(k=n[p.kind])&&void 0!==k?k:[],u=-1,h=[],f&&v.push(f),f=p}while(void 0!==o);return 0!==h.length&&(b=h[h.length-1][1]),b}function l(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var s=n?i.leave:i.enter;if("function"==typeof s)return s}else{var r=n?e.leave:e.enter;if(r){if("function"==typeof r)return r;var a=r[t];if("function"==typeof a)return a}}}},20650:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TGALoader:()=>s});var i=n(81396);class s extends i.DataTextureLoader{constructor(e){super(e)}parse(e){const t=0,n=1,s=2,r=3,a=9,o=10,l=11,c=48,d=4,u=0,h=1,p=2,m=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let f=0;const g=new Uint8Array(e),v={id_length:g[f++],colormap_type:g[f++],image_type:g[f++],colormap_index:g[f++]|g[f++]<<8,colormap_length:g[f++]|g[f++]<<8,colormap_size:g[f++],origin:[g[f++]|g[f++]<<8,g[f++]|g[f++]<<8],width:g[f++]|g[f++]<<8,height:g[f++]|g[f++]<<8,pixel_size:g[f++],flags:g[f++]};!function(e){switch(e.image_type){case n:case a:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case s:case r:case o:case l:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}(v),v.id_length+f>e.length&&console.error("THREE.TGALoader: No data."),f+=v.id_length;let b=!1,y=!1,E=!1;switch(v.image_type){case a:b=!0,y=!0;break;case n:y=!0;break;case o:b=!0;break;case s:break;case l:b=!0,E=!0;break;case r:E=!0}const S=new Uint8Array(v.width*v.height*4),O=function(e,t,n,i,s){let r,a;const o=n.pixel_size>>3,l=n.width*n.height*o;if(t&&(a=s.subarray(i,i+=n.colormap_length*(n.colormap_size>>3))),e){let e,t,n;r=new Uint8Array(l);let a=0;const c=new Uint8Array(o);for(;a<l;)if(e=s[i++],t=1+(127&e),128&e){for(n=0;n<o;++n)c[n]=s[i++];for(n=0;n<t;++n)r.set(c,a+n*o);a+=o*t}else{for(t*=o,n=0;n<t;++n)r[a+n]=s[i++];a+=t}}else r=s.subarray(i,i+=t?n.width*n.height:l);return{pixel_data:r,palettes:a}}(b,y,v,f,g);return function(e,t,n,i,s){let r,a,o,l,f,g;switch((v.flags&c)>>d){default:case p:r=0,o=1,f=t,a=0,l=1,g=n;break;case u:r=0,o=1,f=t,a=n-1,l=-1,g=-1;break;case m:r=t-1,o=-1,f=-1,a=0,l=1,g=n;break;case h:r=t-1,o=-1,f=-1,a=n-1,l=-1,g=-1}if(E)switch(v.pixel_size){case 8:!function(e,t,n,i,s,r,a,o){let l,c,d,u=0;const h=v.width;for(d=t;d!==i;d+=n)for(c=s;c!==a;c+=r,u++)l=o[u],e[4*(c+h*d)+0]=l,e[4*(c+h*d)+1]=l,e[4*(c+h*d)+2]=l,e[4*(c+h*d)+3]=255}(e,a,l,g,r,o,f,i);break;case 16:!function(e,t,n,i,s,r,a,o){let l,c,d=0;const u=v.width;for(c=t;c!==i;c+=n)for(l=s;l!==a;l+=r,d+=2)e[4*(l+u*c)+0]=o[d+0],e[4*(l+u*c)+1]=o[d+0],e[4*(l+u*c)+2]=o[d+0],e[4*(l+u*c)+3]=o[d+1]}(e,a,l,g,r,o,f,i);break;default:console.error("THREE.TGALoader: Format not supported.")}else switch(v.pixel_size){case 8:!function(e,t,n,i,s,r,a,o,l){const c=l;let d,u,h,p=0;const m=v.width;for(h=t;h!==i;h+=n)for(u=s;u!==a;u+=r,p++)d=o[p],e[4*(u+m*h)+3]=255,e[4*(u+m*h)+2]=c[3*d+0],e[4*(u+m*h)+1]=c[3*d+1],e[4*(u+m*h)+0]=c[3*d+2]}(e,a,l,g,r,o,f,i,s);break;case 16:!function(e,t,n,i,s,r,a,o){let l,c,d,u=0;const h=v.width;for(d=t;d!==i;d+=n)for(c=s;c!==a;c+=r,u+=2)l=o[u+0]+(o[u+1]<<8),e[4*(c+h*d)+0]=(31744&l)>>7,e[4*(c+h*d)+1]=(992&l)>>2,e[4*(c+h*d)+2]=(31&l)<<3,e[4*(c+h*d)+3]=32768&l?0:255}(e,a,l,g,r,o,f,i);break;case 24:!function(e,t,n,i,s,r,a,o){let l,c,d=0;const u=v.width;for(c=t;c!==i;c+=n)for(l=s;l!==a;l+=r,d+=3)e[4*(l+u*c)+3]=255,e[4*(l+u*c)+2]=o[d+0],e[4*(l+u*c)+1]=o[d+1],e[4*(l+u*c)+0]=o[d+2]}(e,a,l,g,r,o,f,i);break;case 32:!function(e,t,n,i,s,r,a,o){let l,c,d=0;const u=v.width;for(c=t;c!==i;c+=n)for(l=s;l!==a;l+=r,d+=4)e[4*(l+u*c)+2]=o[d+0],e[4*(l+u*c)+1]=o[d+1],e[4*(l+u*c)+0]=o[d+2],e[4*(l+u*c)+3]=o[d+3]}(e,a,l,g,r,o,f,i);break;default:console.error("THREE.TGALoader: Format not supported.")}}(S,v.width,v.height,O.pixel_data,O.palettes),{data:S,width:v.width,height:v.height,flipY:!0,generateMipmaps:!0,minFilter:i.LinearMipmapLinearFilter}}}},86184:e=>{"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":60,"w":876,"h":744,"nm":"Rating Modal","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Vector 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[437.969,578.877,0],"to":[0,-8.167,0],"ti":[0,8.167,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":18,"s":[437.969,529.877,0],"to":[0,0,0],"ti":[0,0,0]},{"t":25,"s":[437.969,529.877,0]}],"ix":2},"a":{"a":0,"k":[0,51.205,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.83,0.808,0.833],"y":[1.233,0.833,0.35]},"o":{"x":[0.283,0.284,0],"y":[-0.056,-0.064,0]},"t":0,"s":[176.81,195.773,100]},{"i":{"x":[0.564,0.562,0.794],"y":[3.244,0.849,2.131]},"o":{"x":[0.466,0.473,0.167],"y":[-4.295,-0.161,0.141]},"t":23,"s":[207.791,222.842,100]},{"t":28,"s":[207.791,207.791,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.52,0.008],[0,0],[0,0],[0.001,-0.183],[-8.335,-0.035],[-1.024,7.367],[-0.728,2.537],[0,0],[2.38,0.806],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.516,0.006],[0,0],[0,0],[0.432,0.025],[0,0],[2.518,0.008],[0,0],[0,0],[0.409,-0.037],[0,0],[2.516,0.006],[0,0],[0,0],[0.401,-0.185],[0,0]],"o":[[-2.516,-0.006],[0,0],[0,0],[-0.027,8.335],[7.643,0.021],[0.358,-2.606],[0,0],[0,0],[-2.387,-0.816],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.514,-0.01],[0,0],[-0.415,-0.039],[0,0],[0,0],[-2.518,-0.01],[0,0],[-0.423,0.021],[0,0],[0,0],[-2.514,-0.008],[0,0],[-0.44,0.144],[0,0],[0,0]],"v":[[-33.701,-15.143],[-36.223,-12.631],[-36.281,6.241],[-36.285,7.503],[-21.234,22.652],[-6.23,9.641],[-4.465,1.945],[-2.629,-4.438],[-4.202,-7.63],[-7.4,-6.064],[-11.102,2.545],[-12.356,1.279],[-12.356,0.023],[-12.35,-1.377],[-12.3,-18.852],[-14.806,-21.374],[-17.328,-18.866],[-17.38,-2.341],[-18.642,-2.448],[-18.584,-20.126],[-21.092,-22.652],[-23.616,-20.144],[-23.674,-2.463],[-24.928,-2.376],[-24.885,-17.628],[-27.394,-20.155],[-29.917,-17.645],[-29.968,-1.429],[-31.228,-0.933],[-31.189,-12.617]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[-2.52,0.008],[0,0],[0,0],[-0.001,-0.183],[8.335,-0.035],[1.024,7.367],[0.728,2.537],[0,0],[-2.378,0.806],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.516,0.006],[0,0],[0,0],[-0.432,0.025],[0,0],[-2.518,0.008],[0,0],[0,0],[-0.407,-0.037],[0,0],[-2.518,0.006],[0,0],[0,0],[-0.399,-0.185],[0,0]],"o":[[2.516,-0.006],[0,0],[0,0],[0.029,8.335],[-7.645,0.021],[-0.358,-2.606],[0,0],[0,0],[2.389,-0.816],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.514,-0.01],[0,0],[0.415,-0.039],[0,0],[0,0],[2.518,-0.01],[0,0],[0.426,0.021],[0,0],[0,0],[2.514,-0.008],[0,0],[0.438,0.144],[0,0],[0,0]],"v":[[33.701,-15.143],[36.223,-12.631],[36.281,6.241],[36.285,7.503],[21.234,22.652],[6.23,9.641],[4.465,1.945],[2.629,-4.438],[4.202,-7.63],[7.4,-6.064],[11.102,2.545],[12.354,1.279],[12.354,0.023],[12.348,-1.377],[12.298,-18.852],[14.804,-21.374],[17.328,-18.866],[17.38,-2.341],[18.642,-2.448],[18.584,-20.126],[21.092,-22.652],[23.618,-20.144],[23.674,-2.463],[24.928,-2.376],[24.882,-17.628],[27.394,-20.155],[29.917,-17.645],[29.968,-1.429],[31.226,-0.933],[31.187,-12.617]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[3.333,-0.333]],"o":[[-1.2,-5.2],[0,0]],"v":[[22.51,8.041],[11.01,2.541]],"c":false},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[-3.333,-0.333]],"o":[[1.2,-5.2],[0,0]],"v":[[-21.99,7.614],[-10.49,2.114]],"c":false},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,0.192156862745,0.345098039216,1]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":19,"s":[1,0.192156862745,0.345098039216,1]},{"t":26,"s":[0.133333333333,0.133333333333,0.133333333333,1]}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Vector","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":23,"s":[0]},{"t":27,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[435.195,196.412,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":23,"s":[209.366,209.366,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":31,"s":[257.214,257.214,100]},{"t":35,"s":[209.366,209.366,100]}],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":23,"s":[{"i":[[33.137,0],[0,-33.137],[-33.137,0],[0,33.137]],"o":[[-33.137,0],[0,33.137],[33.137,0],[0,-33.137]],"v":[[-0.955,14.988],[-60.955,74.988],[-0.955,134.988],[59.045,74.988]],"c":true}]},{"t":31,"s":[{"i":[[47.354,0],[0,-47.354],[-47.354,0],[0,47.354]],"o":[[-47.354,0],[0,47.354],[47.354,0],[0,-47.354]],"v":[[0.906,-36.975],[-84.837,48.768],[0.906,134.511],[86.648,48.768]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.9,-0.695],[-0.438,0],[-0.403,0.524],[0,0],[0.9,0.695],[0.689,-0.896],[0,0]],"o":[[0.372,0.288],[0.617,0],[0,0],[0.695,-0.898],[-0.898,-0.699],[0,0],[-0.695,0.898]],"v":[[10.071,7.71],[11.325,8.137],[12.953,7.34],[19.076,-0.584],[18.706,-3.468],[15.825,-3.098],[9.701,4.826]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-0.615,0],[-0.376,0.29],[0.693,0.898],[0,0],[0.898,-0.693],[-0.693,-0.898]],"o":[[0.405,0.524],[0.44,0],[0.898,-0.695],[0,0],[-0.697,-0.898],[-0.898,0.695],[0,0]],"v":[[-12.955,7.338],[-11.327,8.137],[-10.069,7.71],[-9.699,4.826],[-15.823,-3.098],[-18.707,-3.468],[-19.079,-0.584]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-1.135,0],[0,1.135],[0,0],[1.137,0],[0,-1.135]],"o":[[0,1.135],[1.137,0],[0,0],[0,-1.135],[-1.135,0],[0,0]],"v":[[-2.12,2.14],[-0.065,4.196],[1.991,2.14],[1.991,-6.082],[-0.065,-8.137],[-2.12,-6.082]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.131453797221,0.131453797221,0.131453797221,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":23,"op":253,"st":-47,"bm":0}],"markers":[]}')},55519:e=>{"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":120,"w":250,"h":250,"nm":"Comp 1","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":3,"nm":"▽ phone","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[125,106.5,0],"ix":2},"a":{"a":0,"k":[55.5,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":3,"nm":"▽ Group 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,20.039,0],"ix":2},"a":{"a":0,"k":[10.091,2.506,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Vector","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[10.091,2.506,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.462,0],[0,0],[0,0.459],[0.462,0],[0,0],[0,-0.459]],"o":[[0,0],[0.462,0],[0,-0.459],[0,0],[-0.462,0],[0,0.459]],"v":[[-2.523,0.835],[2.523,0.835],[3.364,0],[2.523,-0.835],[-2.523,-0.835],[-3.364,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":3,"nm":"▽ Group 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,192.952,0],"ix":2},"a":{"a":0,"k":[22.705,2.506,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Vector","parent":4,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[22.705,2.506,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.462,0],[0,0],[0,0.459],[0.462,0],[0,0],[0,-0.459]],"o":[[0,0],[0.462,0],[0,-0.459],[0,0],[-0.462,0],[0,0.459]],"v":[[-6.727,0.835],[6.727,0.835],[7.568,0],[6.727,-0.835],[-6.727,-0.835],[-7.568,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":3,"nm":"▽ Group","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,106.5,0],"ix":2},"a":{"a":0,"k":[55.5,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Vector","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,106.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.246,0],[0,0],[0,3.224],[0,0],[3.246,0],[0,0],[0,-3.224],[0,0]],"o":[[0,0],[3.246,0],[0,0],[0,-3.224],[0,0],[-3.246,0],[0,0],[0,3.224]],"v":[[-12.614,35.5],[12.614,35.5],[18.5,29.653],[18.5,-29.653],[12.614,-35.5],[-12.614,-35.5],[-18.5,-29.653],[-18.5,29.653]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-2.321,0],[0,0],[0,-2.305],[0,0],[2.321,0],[0,0],[0,2.305]],"o":[[0,-2.305],[0,0],[2.321,0],[0,0],[0,2.305],[0,0],[-2.321,0],[0,0]],"v":[[-16.818,-29.653],[-12.614,-33.829],[12.614,-33.829],[16.818,-29.653],[16.818,29.653],[12.614,33.829],[-12.614,33.829],[-16.818,29.653]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":3,"ty":4,"nm":"Ellipse 19 (Stroke) 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":270,"ix":10},"p":{"a":0,"k":[40.962,100.923,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.155,0.911],[-3.096,-1.097],[-1.899,-2.704],[-0.392,-2.375],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.391,0.391],[0,0],[0.391,0.391],[0.391,-0.391],[0,0],[1.7,2.42],[3.49,1.237],[3.557,-1.027],[2.311,-2.91],[-0.432,-0.344],[-0.344,0.432]],"o":[[3.155,-0.911],[3.097,1.097],[1.392,1.982],[0,0],[-0.391,-0.391],[-0.391,0.391],[0,0],[0.391,0.391],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.368,-2.918],[-2.137,-3.042],[-3.49,-1.237],[-3.557,1.027],[-0.344,0.432],[0.432,0.344],[2.054,-2.586]],"v":[[-9.391,-6.883],[0.218,-6.597],[7.898,-0.754],[10.602,5.87],[6.161,1.429],[4.747,1.429],[4.747,2.843],[11.111,9.207],[12.525,9.207],[18.889,2.843],[18.889,1.429],[17.475,1.429],[12.675,6.228],[9.534,-1.904],[0.886,-8.482],[-9.946,-8.805],[-18.965,-2.753],[-18.804,-1.348],[-17.399,-1.509]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":-15,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 19 (Stroke)","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Ellipse 19 (Stroke)","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":90,"ix":10},"p":{"a":0,"k":[213.962,108.423,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.155,0.911],[-3.096,-1.097],[-1.899,-2.704],[-0.392,-2.375],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.391,0.391],[0,0],[0.391,0.391],[0.391,-0.391],[0,0],[1.7,2.42],[3.49,1.237],[3.557,-1.027],[2.311,-2.91],[-0.432,-0.344],[-0.344,0.432]],"o":[[3.155,-0.911],[3.097,1.097],[1.392,1.982],[0,0],[-0.391,-0.391],[-0.391,0.391],[0,0],[0.391,0.391],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.368,-2.918],[-2.137,-3.042],[-3.49,-1.237],[-3.557,1.027],[-0.344,0.432],[0.432,0.344],[2.054,-2.586]],"v":[[-9.391,-6.883],[0.218,-6.597],[7.898,-0.754],[10.602,5.87],[6.161,1.429],[4.747,1.429],[4.747,2.843],[11.111,9.207],[12.525,9.207],[18.889,2.843],[18.889,1.429],[17.475,1.429],[12.675,6.228],[9.534,-1.904],[0.886,-8.482],[-9.946,-8.805],[-18.965,-2.753],[-18.804,-1.348],[-17.399,-1.509]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":-15,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 19 (Stroke)","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Phone","refId":"comp_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":74,"s":[100]},{"t":79,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":7,"s":[-90]},{"t":46,"s":[0]}],"ix":10},"p":{"a":0,"k":[127.49999999999999,131,0],"ix":2},"a":{"a":0,"k":[125,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":250,"h":213,"ip":0,"op":80,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"Rotate","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":7,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":51,"s":[100]},{"t":57,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":7,"s":[-90]},{"t":46,"s":[0]}],"ix":10},"p":{"a":0,"k":[127.49999999999999,131,0],"ix":2},"a":{"a":0,"k":[125,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":250,"h":213,"ip":0,"op":80,"st":0,"bm":0}],"markers":[]}')}},o={};function l(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=a,l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var s=Object.create(null);l.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,l.d(s,r),s},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>"js/"+e+".js",l.miniCssF=e=>"css/"+({66:"control-kit",136:"late",316:"menus",321:"core",324:"scene",376:"vr",458:"showcase",519:"ses",521:"late-stream",525:"sdk-bundle",662:"roombounds",718:"encoders",782:"nova.brandicons",833:"split",932:"lib-lottie"}[e]||e)+".css",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="mp_webgl:",l.l=(e,t,s,r)=>{if(n[e])n[e].push(t);else{var a,o;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+s){a=u;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.setAttribute("data-webpack",i+s),a.src=e),n[e]=[t];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(p);var s=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),o&&document.head.appendChild(a)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e+"../"})(),s=e=>new Promise(((t,n)=>{var i=l.miniCssF(e),s=l.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var s=(a=n[i]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(s===e||s===t))return a}var r=document.getElementsByTagName("style");for(i=0;i<r.length;i++){var a;if((s=(a=r[i]).getAttribute("data-href"))===e||s===t)return a}})(i,s))return t();((e,t,n,i)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onerror=s.onload=r=>{if(s.onerror=s.onload=null,"load"===r.type)n();else{var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=o,s.parentNode.removeChild(s),i(l)}},s.href=t,function(e){const t=Array.from(document.querySelectorAll("matterport-viewer"));t&&t.length?t.forEach((function(t){if(t&&t.shadowRoot){if(t.shadowRoot.querySelector(`link[href="${e.getAttribute("href")}"]`))return;t.shadowRoot.appendChild(e)}})):document.head.appendChild(e)}(s)})(e,s,t,n)})),r={458:0},l.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{136:1,321:1,662:1}[e]&&t.push(r[e]=s(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{var e={458:0};l.f.j=(t,n)=>{var i=l.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise(((n,s)=>i=e[t]=[n,s]));n.push(i[2]=s);var r=l.p+l.u(t),a=new Error;l.l(r,(n=>{if(l.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",a.name="ChunkLoadError",a.type=s,a.request=r,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,s,[r,a,o]=n,c=0;if(r.some((t=>0!==e[t]))){for(i in a)l.o(a,i)&&(l.m[i]=a[i]);if(o)o(l)}for(t&&t(n);c<r.length;c++)s=r[c],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";function e(e,t){for(const n in t)if(e===t[n].module)return n.replace("Symbol(","Module(");return"[Unknown module]"}function t(e,t,n){const i=t.getModuleNameFromData(e);for(const e of Object.values(n))if(e.module.name===i)return String(e.symbol).replace("Symbol(","Market(");return"[Unknown module]"}class n{constructor(e,t,n){this.engine=e,this.moduleLookup=t,this.fetchedModules=[],this.messageBus=e.msgBus,this.market=new i(e.market,t,n),this.commandBinder=e.commandBinder,this.getModuleBySymbolSync=e.getModuleBySymbolSync.bind(e),this.tryGetModuleBySymbolSync=e.tryGetModuleBySymbolSync.bind(e),this.addComponent=e.addComponent.bind(e),this.getComponentByType=e.getComponentByType.bind(e),this.getComponents=e.getComponents.bind(e),this.removeComponent=e.removeComponent.bind(e),this.subscribe=e.subscribe.bind(e),this.unsubscribe=e.unsubscribe.bind(e),this.broadcast=e.broadcast.bind(e),this.claimRenderLayer=e.claimRenderLayer.bind(e),this.getRenderLayer=e.getRenderLayer.bind(e),this.disposeRenderLayer=e.disposeRenderLayer.bind(e),this.startGenerator=e.startGenerator.bind(e),this.stopGenerator=e.stopGenerator.bind(e),this.after=e.after.bind(e),this.toggleRendering=e.toggleRendering.bind(e)}getModuleBySymbol(t){const n=Date.now();return this.engine.getModuleBySymbol(t).then((t=>{const i=Date.now();return this.fetchedModules.push({moduleName:e(t,this.moduleLookup),isModule:!0,startAwait:n,finishAwait:i}),t}))}getLoadedDependencies(){return[...this.fetchedModules,...this.market.getLoadedDependencies()]}get msgBus(){return this.messageBus}}class i{constructor(e,t,n){this.market=e,this.moduleLookup=t,this.onRegisterData=n,this.fetchedData=[],this._register=e.register.bind(e),this.unregister=e.unregister.bind(e),this.tryGetData=e.tryGetData.bind(e),this.getModuleNameFromData=e.getModuleNameFromData.bind(e)}register(e,n,i){this._register(e,n,i),this.onRegisterData(t(n,this.market,this.moduleLookup),Date.now())}waitForData(e){const n=Date.now();return this.market.waitForData(e).then((i=>{const s=Date.now();return this.fetchedData.push({moduleName:t(e,this.market,this.moduleLookup),isModule:!1,startAwait:n,finishAwait:s}),i}))}getLoadedDependencies(){return this.fetchedData}}var s=l(30935);const r="Data not present.";var a=l(46950),o=l(97998);class c{constructor(){this.log=new o.Z("market"),this.typeLookup=new s.cj,this.store={},this.moduleRegistry={},this.firstUpdatePromises={}}register(e,t,n){const i=this.typeLookup.getKeyByType(t,!0);if(this.moduleRegistry[i])throw Error("Data can only be registered to one Module");this.moduleRegistry[i]=e,this.store[i]=n,n.commit(),i in this.firstUpdatePromises&&(this.firstUpdatePromises[i].resolve(this.store[i]),delete this.firstUpdatePromises[i])}unregister(e,t){const n=this.typeLookup.getKeyByType(t,!0);if(!this.moduleRegistry[n])throw Error("No Data was registered to the Module");delete this.moduleRegistry[n],delete this.store[n]}getData(e){const t=this.typeLookup.getKeyByType(e);if(t in this.store)return this.store[t];throw Error(r)}waitForData(e){const t=this.typeLookup.getKeyByType(e,!0);return t in this.store?Promise.resolve(this.store[t]):(this.firstUpdatePromises[t]||(this.firstUpdatePromises[t]=new a.Q,setTimeout((()=>{o.Z.level>=3&&!(t in this.store)&&this.log.debug(`still waiting for ${e.name}-data after 5 seconds`)}),5e3)),this.firstUpdatePromises[t].nativePromise())}tryGetData(e){try{return this.getData(e)}catch(e){if(e.message!==r)throw this.log.error("tryGetData",e.message),e}return null}getModuleNameFromData(e){const t=this.typeLookup.getKeyByType(e);if(t){const e=this.moduleRegistry[t];if(e)return e.name}throw Error(r)}}var d=l(13693),u=l(57118),h=l(947),p=l(26256),m=l(17878),f=l(54244);class g{constructor(){this.phaseTimes=[],this.modules={},this.onDataRegister=this.onDataRegister.bind(this),this.addAppPhase(f.nh.UNINITIALIZED),window.profilingData={phaseTimes:this.phaseTimes,modules:this.modules,rows:[]}}addAppPhase(e){e!==f.nh.PLAYING&&e!==f.nh.ERROR||(window.profilingData.rows=[...Object.values(this.modules)].sort(((e,t)=>e[4]-t[4]))),this.phaseTimes[e]=Date.now()}addModuleLoadTime(e,t,n,i){e=e.replace("Symbol(","Module(");const s=[i.map((e=>`${e.moduleName}`))].join(","),r=i.reduce(((e,t)=>e+t.finishAwait-t.startAwait),0),a=Math.min(100,r/(n-t)*100);this.modules[e]=[e,e,null,t,n,null,a,s]}onDataRegister(e,t){this.modules[e]=[e,e,null,t,t,null,0,""]}}var v=l(10374);const b=new o.Z("module-loader");var y;!function(e){e[e.Registered=0]="Registered",e[e.Loading=1]="Loading",e[e.Initialized=2]="Initialized",e[e.Unloaded=3]="Unloaded"}(y||(y={}));class E{constructor(){this.symbolMap=new Map}registerModule(e,t){if(this.symbolMap.has(e))throw Error(`Type ${String(e)} already registered`);this.symbolMap.set(e,{es6ModulePromise:t,ctorPromise:new a.Q,initPromise:new a.Q,state:y.Registered})}moduleRegistered(e){return this.symbolMap.has(e)}moduleLoaded(e){const t=this.symbolMap.get(e);return!!t&&![y.Registered,y.Unloaded].includes(t.state)}getModule(e){const t=this.symbolMap.get(e);if(!t)throw Error(`Trying to get ${String(e)} before it was registered!`);if(t.state===y.Unloaded)throw Error(`${String(e)} module unloaded`);return t.initPromise.nativePromise()}getModuleSync(e){const t=this.symbolMap.get(e);return t?t.state!==y.Initialized?null:t.module:null}loadModule(e,t,n={}){const i=this.symbolMap.get(t);if(!i)throw Error(`${String(t)} not found`);if(i.state===y.Initialized)return i;if(i.state!==y.Registered&&i.state!==y.Unloaded)throw Error(`${String(t)} already loading`);i.state=y.Loading;const s=String(t);return i.es6ModulePromise(s).then((s=>{if(!s.default)throw new Error(`${String(t)} has no default export during module loading`);const r=new s.default;i.ctorPromise.resolve(r).then((()=>{const t=Date.now();let s=!1;setTimeout((()=>{s||b.debug(`${r.name} init took over 2 seconds`)}),2e3),r.init(n,e).then((()=>{b.debug(`${r.name} init took ${(Date.now()-t)/1e3} secs.`),s=!0,i.state=y.Initialized,i.module=r,i.initPromise.resolve(r)})).catch((e=>{i.initPromise.reject(e)}))}))})).catch((e=>{b.error(`Failed to load es6Module for ${String(t)}: ${e}`),i.initPromise.reject(e)})),i}whenQueueEmpties(e){const t=[],n=new Map;for(const[e,i]of this.symbolMap)i.state===y.Loading&&(t.push(i.initPromise),n.set(e,i.initPromise));for(const[t,i]of n){const n=setTimeout((()=>b.debugInfo("still loading",t)),e);i.then((()=>clearTimeout(n)))}return a.Q.all(t).nativePromise()}unloadModule(e){const t=this.symbolMap.get(e);if(!t)throw Error("Attempting to unload unregistered module");if(t.state===y.Unloaded||t.state===y.Registered)throw Error("Attempting to unload not-loaded module");t.state=y.Unloaded,t.ctorPromise=new a.Q,t.initPromise=new a.Q,t.module=void 0}}const S=new o.Z("engine");let O=h.A.End;class T{constructor(){this.moduleLookup={},this.componentLookup={},this.currentApplication=null,this.moduleProfiler=new g,this.commandBinder=new u.B,this.market=new c,this.messageBus=new d.Y,this.engineGenerators=new p.ZP,this.layers=new m.o,this.symbolLoader=new E,this.afterPhasePromises=[],this.afterPhaseListenerCount=[],this.resetPromises(),this.subscribe(v.LZ,(e=>this.moduleProfiler.addAppPhase(e.phase)))}async loadApplication(e,t,n){if(e===this.currentApplication)throw Error("Application already loaded");const i=(this.currentApplication?this.currentApplication.getManifest():[]).map((e=>e.type)),s=e.getManifest(),r=s.map((e=>e.type)),a=this.currentApplication;this.currentApplication=null;const o=s.filter((e=>-1===i.indexOf(e.type)));for(const e of o)this.symbolLoader.moduleRegistered(e.type)||this.registerModule(e);if(a)try{await this.unload(a,(e=>!r.includes(e)))}catch(e){S.error(e),t&&t(e)}try{this.currentApplication=e,await e.load(this,{coldStart:null===a,autoPlay:n})}catch(e){S.error(e),t&&t(e)}}async unload(e,t){const n=[...e.getManifest().map((e=>e.type)).filter(t||(()=>!0)).map((e=>this.unloadModuleBySymbol(e))),e.unload(this)];n.length&&await Promise.all(n)}async dispose(){this.currentApplication&&(await this.unload(this.currentApplication),this.currentApplication.stop(),this.currentApplication=null)}registerModule(e){if(this.currentApplication)throw Error("Cannot register modules while application is running");this.symbolLoader.registerModule(e.type,e.promise)}loadModuleBySymbol(e){const t=e,i=String(t.type);this.moduleLoadInjectionHook&&(t.config=this.moduleLoadInjectionHook(i,t.config||{}));const s=new n(this,this.moduleLookup,this.moduleProfiler.onDataRegister),r=Date.now(),a=this.symbolLoader.loadModule(s,t.type,t.config);return a.ctorPromise.then((e=>this.moduleLookup[i]={symbol:t.type,module:e,initialized:!1,initPromise:a.initPromise.nativePromise()})),a.initPromise.then((e=>{this.moduleProfiler.addModuleLoadTime(i,r,Date.now(),s.getLoadedDependencies()),this.moduleLookup[i].initialized=!0})),a.initPromise.nativePromise()}setLoadInjection(e){if(void 0!==this.moduleLoadInjectionHook)throw Error("Hook already registered");this.moduleLoadInjectionHook=e}async unloadModuleBySymbol(e){if(!this.symbolLoader.moduleLoaded(e))return void S.debug(`${String(e)} module already unloaded`);S.debug(`Unloading ${String(e)} module`);const t=await this.getModuleBySymbol(e),n=this.getModuleIndex(t);this.componentLookup[n]&&(await Promise.all(this.componentLookup[n].map((async e=>{await this.removeComponent(t,e.component),e.component.dispose()}))),this.componentLookup[n]=[]),this.symbolLoader.unloadModule(e),t.dispose(this)}async waitForLoadingModules(e=1e4){await Promise.all([this.symbolLoader.whenQueueEmpties(e)])}getModuleBySymbol(e){return this.symbolLoader.getModule(e)}getModuleBySymbolSync(e){return this.symbolLoader.getModuleSync(e)}tryGetModuleBySymbolSync(e){try{return this.getModuleBySymbolSync(e)}catch(e){return null}}getComponentByType(e){for(const t in this.moduleLookup){const n=this.moduleLookup[t].module,i=this.getModuleIndex(n),s=this.componentLookup[i]||[];for(const t of s)if(t.component instanceof e)return t.component}return null}async addComponent(e,t){const n=this.getModuleIndex(e);let i=this.componentLookup[n];i||(this.componentLookup[n]=i=[]);let s=-1;for(let e=0;e<i.length;e++)if(i[e].component===t){s=e;break}if(-1===s&&(s=i.push({component:t,active:!1})-1,t.init()),i[s].active)throw Error("Tried to add already active component: "+typeof t);await t.activate(this),i[s].active=!0}async removeComponent(e,t){const n=this.getModuleIndex(e),i=this.componentLookup[n];if(i){let e=null;for(const n of i)if(n.component===t){e=n;break}e&&e.active&&(await t.deactivate(this),e.active=!1)}}tick(){if(O!==h.A.End)throw Error("Engine.tick called outside of waiting. Did the engine get called recursively?!");O=h.A.Begin,this.resolveAfterPhase(h.A.Begin);const e=performance.now(),t=this.lastTick?e-this.lastTick:16;this.lastTick=e,O=h.A.Logic;try{for(const e in this.moduleLookup){const n=this.moduleLookup[e];n&&n.initialized&&n.module.onUpdate(t)}}catch(e){throw S.error(e),e}this.resolveAfterPhase(h.A.Logic),this.engineGenerators.processGenerators(p.p3.Phase,h.A.Logic);try{this.renderComponents(t)}catch(e){throw S.error(e),e}try{O=h.A.Render,this.resolveAfterPhase(h.A.Render),this.engineGenerators.processGenerators(p.p3.Phase,h.A.Render),O=h.A.End,this.resolveAfterPhase(h.A.End),this.engineGenerators.processGenerators(p.p3.None),this.engineGenerators.processGenerators(p.p3.Promise),this.engineGenerators.processGenerators(p.p3.Duration)}catch(e){throw S.error(e),e}}subscribe(e,t,n=d.Q.PERMANENT){return this.messageBus.subscribe(e,t,n)}unsubscribe(e,t){this.messageBus.unsubscribe(e,t)}broadcast(e){this.messageBus.broadcast(e)}claimRenderLayer(e){return this.layers.claimLayer(e)}getRenderLayer(e){return this.layers.getLayer(e)}disposeRenderLayer(e){this.layers.disposeLayer(e)}startGenerator(e){this.engineGenerators.startGenerator(e)}stopGenerator(e){this.engineGenerators.stopGenerator(e)}after(e){return this.afterPhaseListenerCount[e]++,this.afterPhasePromises[e].nativePromise()}getModuleIndex(e){for(const t in this.moduleLookup)if(this.moduleLookup[t]&&this.moduleLookup[t].module===e)return t;return""}*getComponents(){for(const e in this.moduleLookup){const t=this.componentLookup[e];if(t)for(const e of t)yield e}}toggleRendering(e,t){const n=this.getModuleIndex(e),i=this.componentLookup[n];if(i)for(const e of i)e.active=t}renderComponents(e){for(const t in this.moduleLookup){const n=this.componentLookup[t];if(n)for(const t of n)t.active&&t.component.beforeRender&&t.component.beforeRender(e)}for(const t in this.moduleLookup){if(!t)continue;const n=this.componentLookup[t];if(n)for(const t of n)t.active&&t.component.render(e)}}resetPromises(){this.resetAfterPhasePromises()}resetAfterPhasePromises(){this.resetAfterPhasePromise(h.A.Logic),this.resetAfterPhasePromise(h.A.Render),this.resetAfterPhasePromise(h.A.Begin),this.resetAfterPhasePromise(h.A.End)}resetAfterPhasePromise(e){this.afterPhasePromises[e]=new a.Q,this.afterPhaseListenerCount[e]=0}resolveAfterPhase(e){this.afterPhaseListenerCount[e]>0&&(this.afterPhasePromises[e].resolve(),this.resetAfterPhasePromise(e))}get msgBus(){return this.messageBus}}l(55512);var _=l(61864),w=l(92810),N=l(61681),A=l(23379),I=l(31362),k=l(59279),P=l(26568),L=l(53261);var R=l(80742),C=l(76087),D=l(99610),M=l(26158),x=l(52223),j=l(2473),U=l(59323),F=l(44443),H=l(59425),V=l(95882),B=l(26837),G=l(23254),W=l(76631),z=l(16535);const K=new o.Z("AB");class Y{constructor(e){this.values={};for(const t in e){const n=e[t];if(n&&n.ab)try{this.values[t]=q(n.ab)}catch(e){K.warn(`Skipping key ${t}, could not pick: ${e}`)}}}get(e){return this.values[e]}serialize(){return Object.keys(this.values).map((e=>`${e}:${this.values[e]}`))}}function q(e){if(0===e.length)throw Error("A/B cannot choose from an empty choice array");let t=0;for(const n of e){if(void 0===n.value||void 0===n.weight||n.weight<0)throw Error(`Malformed AB choice: ${n}`);t+=n.weight}const n=Math.random()*t;let i=0;for(const t of e)if(i+=t.weight,n<=i)return t.value}var $=l(53203),Z=l(71776),Q=l(23037),X=l(48945),J=l(39586),ee=l(8824),te=l(43736),ne=l(92001),ie=l(14439),se=l(39642),re=l(96042),ae=l(80626);var oe=l(99935);var le=l(71239),ce=l(96767),de=l(12039),ue=l(39880),he=l(51454),pe=l(74533);class me{constructor(e,t,n){this.engine=e,this.renderer=t,this.onErrorCallback=n,this.start=()=>{this.renderer.setAnimationLoop(this.tick)},this.stop=()=>{this.renderer.setAnimationLoop(null)},this.tick=e=>{try{this.engine.tick()}catch(e){this.stop(),this.onErrorCallback(e)}}}}var fe=l(63422);class ge{constructor(e){this.nonBaseLayerWriteEnabled=!1,this.refreshableStores=new Set,this.sharedCaches=new Set,this.updateForAutoProvisionedLayer=async e=>{if(this.autoProvisionLayerCheckCallback)return this.autoProvisionLayerCheckCallback(e)},this.baseViewId=null!=e?e:null}toggleNonBaseLayeredWrites(e){this.nonBaseLayerWriteEnabled=e}shouldWriteLayerId(e){return!!this.nonBaseLayerWriteEnabled&&(""!==e&&e!==fe.gi)}async setCurrentViewId(e){const t=Array.from(this.refreshableStores.values());this.currentViewId=e,await Promise.all(t.map((e=>e.refresh())))}async refreshLayeredStores(e){const t=Array.from(this.refreshableStores.values()).filter((t=>e.includes(t.layeredType)));await Promise.all(t.map((e=>e.refresh())))}}var ve=l(11221),be=l(54161),ye=l(75125),Ee=l(54559),Se=l(55318),Oe=l(25795),Te=l(46391),_e=l(72940),we=l(96365);async function Ne(e,t){if(!e)return!0;if(!window.crypto||!window.crypto.subtle)return!1;const n=new URL(e),i=(0,F.QY)(n.hostname),s=await(async e=>Array.prototype.map.call(new Uint8Array(await crypto.subtle.digest("SHA-1",(new TextEncoder).encode(e))),(e=>("0"+e.toString(16)).slice(-2))).join(""))(i);return!t.includes(s)}var Ae=l(83038);var Ie=l(45531);async function ke({urlValues:e,settingsData:t,flags:n,loggedIn:i,inWorkshop:s,hasPolicy:r,domainDenylist:a}){const o=null!=(0,Oe.gM)(),l=e[we.ke.enabled],c=n.has(we.M3)?"0"!==l:"1"===l,d=r(we.FI),u=!i,h=t.tryGetProperty(Ie.sX,!1),p=e[we.ke.forceReferrer]||document.referrer,m=await Ne(p,a);Ae.L.debug("referrer eligible: ",m.toString());const f=!o&&!s,g=function(e){return e.getOverrideParam("lang",(0,I.ht)())}(t).startsWith("en"),v=c&&!h&&f&&g&&u;return{popupAllowed:v&&d&&m,bannerAllowed:v}}var Pe=l(40909),Le=l(2032),Re=l(35895),Ce=l(90365);var De=l(70892),Me=l(49827),xe=l(62496),je=l(56382),Ue=l(20436),Fe=l(8807),He=l(34029);const Ve="spaces.plugins.config";var Be=l(91860),Ge=l(71570),We=l(47309),ze=l(96776),Ke=l(79606);const Ye="spaces.aws.twinmaker.sdk.access",qe=new Map([["iot-twinmaker",Ye]]),$e=new o.Z("showcase"),Ze=window.MP_PREFETCHED_MODELDATA;class Qe{constructor(e,t={},n=!1){var i;this.inWorkshop=e,this.editModePreferred=n,this.bindings=[],this.logLevel=o.i.INFO,this.storeQueue=new L.gO,this.apiQueue=new L.gO,this.analyticsQueue=new L.gO({concurrency:1}),this.errorPromise=new a.Q,this.forceLogin=!1,this.openingTool=null,this.uiLoading=Promise.resolve(),this.sceneLoader=new De.LazyLoader,this.modulesLoadedPromise=new a.Q,this.stopTourHook=async e=>{const t=e.market.tryGetData(j.k);t&&t.tourPlaying&&(await e.commandBinder.issueCommand(new ce.vy),await(0,ue.gw)(10))},this.settingOverrides=Object.assign({},t),this.assetBasePath=this.settingOverrides.assetBasePath=function(e){e=e.replace(/\/*$/,"/");const t=new URL(e,document.baseURI),n=[/^https:\/\/static\.matterport\.com(:[0-9]+)?\//,/^https:\/\/static\.matterportvr\.cn(:[0-9]+)?\//,/^https:\/\/[^\/]+\.awsstatic\.com\/([^?#]+\/)?matterport\/.*/,/^http:\/\/(localhost|127\.0\.0\.1)(:[0-9]+)?\/.*/].find((e=>t.href.match(e)))?t.origin:document.baseURI;return new URL(t.pathname,n).toString()}(null!==(i=this.settingOverrides.assetBasePath)&&void 0!==i?i:"./");const{container:s,overrideParams:r=(0,k.FU)()}=this.settingOverrides;this.overrideParams=r,this.quickstart="1"===r.qs||void 0!==r.note||void 0!==r.tag,(0,Oe.P8)(r.applicationKey||t.applicationKey||null),this.apiHost=((e,t)=>{const n=e.apiHost||t.apiHost;if(n){const e=(0,F.KK)(n);if(e)return e}return window.location.origin})(r,this.settingOverrides),this.oEmbedDeferred=new a.Q,this.oEmbedConsumer=this.oEmbedDeferred.nativePromise(),this.apiHost!==window.location.origin&&(this.settingOverrides.apiHost=this.apiHost),this.container=s||document.body,this.modelUrls=(0,F.sU)(r.m||r.model,this.apiHost),this.initialViewId=this.modelUrls.sid,this.mdsContext=new ge(this.initialViewId)}getManifest(){return[{type:w.Kf,promise:()=>Promise.resolve().then(l.bind(l,11898))},{type:N.$1,promise:()=>Promise.resolve().then(l.bind(l,87059))},{type:N.__,promise:()=>Promise.resolve().then(l.bind(l,17242))},{type:w.wK,promise:()=>Promise.resolve().then(l.bind(l,24030))},{type:_.h7,promise:()=>Promise.resolve().then(l.bind(l,38208))},{type:_.Ak,promise:()=>Promise.resolve().then(l.bind(l,52223))},{type:w.V6,promise:()=>Promise.resolve().then(l.bind(l,15201))},{type:_.Mv,promise:()=>Promise.resolve().then(l.bind(l,85787))},{type:N.pZ,promise:()=>Promise.resolve().then(l.bind(l,96845))},{type:w.fG,promise:()=>Promise.resolve().then(l.bind(l,91446))},{type:w.Vs,promise:()=>Promise.resolve().then(l.bind(l,42404))},{type:w.qc,promise:()=>Promise.resolve().then(l.bind(l,48228))},{type:w.fQ,promise:()=>Promise.resolve().then(l.bind(l,29958))},{type:w.P4,promise:()=>Promise.resolve().then(l.bind(l,94194))},{type:w.Z4,promise:()=>Promise.resolve().then(l.bind(l,85583))},{type:w.e9,promise:()=>Promise.resolve().then(l.bind(l,94126))},{type:w.l,promise:()=>Promise.resolve().then(l.bind(l,65160))},{type:N.dX,promise:()=>Promise.resolve().then(l.bind(l,97859))},{type:w.Aj,promise:()=>Promise.resolve().then(l.bind(l,28759))},{type:w.iM,promise:()=>Promise.resolve().then(l.bind(l,6819))},{type:w.PZ,promise:()=>Promise.resolve().then(l.bind(l,96280))},{type:N.ME,promise:()=>Promise.resolve().then(l.bind(l,20162))},{type:N.Wz,promise:()=>Promise.resolve().then(l.bind(l,22485))},{type:w.kg,promise:()=>Promise.resolve().then(l.bind(l,83141))},{type:w.Hd,promise:()=>Promise.resolve().then(l.bind(l,79861))},{type:w.HC,promise:()=>Promise.resolve().then(l.bind(l,95674))},{type:w.vF,promise:()=>Promise.resolve().then(l.bind(l,4870))},{type:w.VN,promise:()=>Promise.resolve().then(l.bind(l,53555))},{type:w.Lx,promise:()=>Promise.resolve().then(l.bind(l,24359))},{type:w.ei,promise:()=>Promise.resolve().then(l.bind(l,16512))},{type:w.ep,promise:()=>Promise.resolve().then(l.bind(l,2903))},{type:w.EK,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,71076))},{type:w.Vg,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,89137))},{type:w.XT,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,55450))},{type:w.LG,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,8960))},{type:w.rL,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,45717))},{type:w.tA,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,25814))},{type:w.Y5,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,9163))},{type:w.Ng,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,86384))},{type:w.jH,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,49219))},{type:w.Go,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,93042))},{type:w.oz,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,62226))},{type:w.bQ,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,28870))},{type:w.B9,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,82780))},{type:w.YP,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,499))},{type:w.Cm,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,88675))},{type:w.Q_,promise:()=>l.e(924).then(l.bind(l,74924))},{type:N.Bl,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,10059))},{type:N.Nk,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,32170))},{type:N.My,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,94292))},{type:w.wR,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,36948))},{type:w.Ve,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,14052))},{type:N.WS,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,17734))},{type:w.hi,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,96782))},{type:w.EX,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,83977))},{type:w.wF,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,92256))},{type:w.zr,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,66445))},{type:w.lC,promise:()=>Promise.all([l.e(217),l.e(764),l.e(648),l.e(948),l.e(258),l.e(321)]).then(l.bind(l,48733))},{type:w.RR,promise:()=>l.e(378).then(l.bind(l,9378))},{type:w._K,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,2290))},{type:w.Mi,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,49671))},{type:w.dp,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,26702))},{type:w.tg,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,30747))},{type:w.Zp,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,90763))},{type:w.Lk,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,79565))},{type:A.DeepLinksModuleKey,promise:()=>Promise.resolve().then(l.bind(l,23379))},{type:w.c3,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,95810))},{type:w.MH,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,69582))},{type:w.hn,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,46319))},{type:w.sw,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,84343))},{type:w.S,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,70042))},{type:w.f7,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,19998))},{type:w.Ze,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,90560))},{type:w.nn,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,51366))},{type:w.SM,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,49657))},{type:N.Bh,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,42606))},{type:w.A7,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,74909))},{type:w.qp,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,48781))},{type:w.Bq,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,74642))},{type:w.Hw,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,77950))},{type:w.gk,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,76979))},{type:w.An,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,65594))},{type:w.i0,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,3054))},{type:w.M4,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,39531))},{type:w.MI,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,9162))},{type:w.eD,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,87295))},{type:w.C3,promise:()=>Promise.all([l.e(879),l.e(136)]).then(l.bind(l,94053))},{type:w.t2,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,48603))},{type:w.TU,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,65792))},{type:w.SP,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,86034))},{type:w.zK,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,92543))},{type:w.im,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,7856))},{type:w.rt,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,76325))},{type:w.$q,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,73992))},{type:w.Sd,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,31975))},{type:w.s6,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,95806))},{type:w.gx,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,87152))},{type:w.d2,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,10805))},{type:w.pw,promise:()=>Promise.all([l.e(679),l.e(879),l.e(258),l.e(18),l.e(833)]).then(l.bind(l,41211))},{type:w.Yi,promise:()=>Promise.all([l.e(625),l.e(324)]).then(l.bind(l,14057))},{type:w.cf,promise:()=>Promise.all([l.e(477),l.e(62)]).then(l.bind(l,98062))},{type:w.xo,promise:()=>Promise.all([l.e(217),l.e(493),l.e(330),l.e(33)]).then(l.bind(l,26033))},{type:w.$n,promise:()=>Promise.all([l.e(679),l.e(18),l.e(662)]).then(l.bind(l,72957))},{type:w.fF,promise:()=>Promise.all([l.e(679),l.e(18),l.e(662)]).then(l.bind(l,71886))}]}getAppPhases(e){return{[f.nh.UNINITIALIZED]:[],[f.nh.WAITING]:[(async()=>{await e.getModuleBySymbol(N.$1)})()],[f.nh.LOADING]:[(async()=>(await e.getModuleBySymbol(N.$1)).waitForPlaying)()],[f.nh.STARTING]:[(async()=>(await e.getModuleBySymbol(N.Nk)).waitForFirstRender)()],[f.nh.PLAYING]:[(async()=>(await e.getModuleBySymbol(N.Nk)).waitForFlyin)()],[f.nh.ERROR]:[this.errorPromise.nativePromise()]}}stop(){this.engineTick&&this.engineTick.stop()}setError(e){this.errorPromise.reject(e),this.stop()}async load(e,t){var n,i,s;this.engine=e,this.engine.loadModuleBySymbol({type:_.h7,config:{tasks:this.getAppPhases(e)}});const r=await this.engine.loadModuleBySymbol({type:_.Ak,config:{useGUI:!0,queryScope:this.container.getRootNode(),overrideParams:this.overrideParams}});this.loadAnalytics();const a=(await this.engine.loadModuleBySymbol({type:w.Vs,config:{baseUrl:this.modelUrls.urlBase,apiQueue:this.apiQueue,storeQueue:this.storeQueue,prefetchedData:Ze,preloadConfig:"showcase",mdsContext:this.mdsContext}})).getApi(),c=await a.user,d=c.loggedIn,u=this.setInitialSettings(c,r,t);if(e.getModuleBySymbol(_.h7).then((n=>{n.updateActiveApp(f.Mx.SHOWCASE),t.coldStart||e.broadcast(new v.pB(f.Mx.SHOWCASE))})),e.market.waitForData(f.pu).then((t=>{t.onChanged((async()=>{const n=this.overrideParams.oops;if(n&&t.phase!==f.nh.ERROR&&(t.phase=f.nh.ERROR),t.phase===f.nh.ERROR){const i=t.error,s=await e.getModuleBySymbol(N.ME);throw n?s.showError(n):i instanceof he.LJ?s.showError(B.Mb.MODEL_ARCHIVED):i instanceof he.Zh?s.showError(B.Mb.MODEL_COMPLIANCE):i instanceof he.pi?s.showError(B.Mb.MODEL_DELETED):i instanceof he.Fx?s.showError(B.Mb.MODEL_FAILED):i instanceof he.aJ?s.showError(B.Mb.MODEL_PENDING):i instanceof he.iE?s.showError(B.Mb.MODEL_PROCESSING):i instanceof z.v?s.showError(B.Mb.WEBGL_UNSUPPORTED):i instanceof z.G?s.showError(B.Mb.WEBGL_GENERIC):s.showError(B.Mb.GENERIC),i}}))})),this.bindings.push((0,Le.PD)({messageBus:this.engine.msgBus}),function(e){const t=[];return e.urlValues.debug&&t.push(new Le.bc({symbol:Ce.Y.Navigation,callback:()=>Promise.all([l.e(679),l.e(879),l.e(316)]).then(l.bind(l,76381)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.Octree,callback:()=>Promise.all([l.e(679),l.e(879),l.e(316)]).then(l.bind(l,83718)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.PanoTiles,callback:()=>Promise.all([l.e(679),l.e(879),l.e(316)]).then(l.bind(l,41036)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.Raycaster,callback:()=>Promise.all([l.e(679),l.e(879),l.e(316)]).then(l.bind(l,68427)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.Snapping,callback:()=>Promise.all([l.e(679),l.e(879),l.e(316)]).then(l.bind(l,45053)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.WebGLRenderer,callback:()=>Promise.all([l.e(679),l.e(879),l.e(316)]).then(l.bind(l,96769)).then((t=>t.default(e.engine)))})),e.urlValues.tiledmesh&&t.push(new Le.bc({symbol:Ce.Y.StreamingMesh,callback:()=>l.e(521).then(l.bind(l,50447)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.StreamingTexture,callback:()=>l.e(521).then(l.bind(l,1158)).then((t=>t.default(e.engine)))})),t.forEach((t=>e.messageBus.broadcast(t))),(0,Re.k1)((()=>null),(()=>t.forEach((t=>e.messageBus.broadcast(new Le.z4(t.payload))))))}({engine:this.engine,messageBus:this.engine.msgBus,urlValues:this.overrideParams})),!t.coldStart)return void(this.uiLoading=this.loadUI(!0));$e.info("Showcase app version: 23.12.1_webgl-103-gcfc28ff2d3");const{container:h}=this;this.canvas=document.createElement("canvas"),this.canvas.className="webgl-canvas";const p=h.querySelector("#canvas-container"),m=h.querySelector("#app-container"),g=h.querySelector("main")||document.body,b=h.querySelector("#react-render-root")||document.body;this.logLevel=parseInt(this.overrideParams.log,10),this.overrideParams.hasOwnProperty("log")&&!isNaN(this.logLevel)&&(o.Z.level=this.logLevel),this.quickstart&&$e.info("Quickstart engaged. Hold on to your knickers. "+performance.now()),this.engine.loadModuleBySymbol({type:w.ei,config:{element:this.container}}),this.engine.loadModuleBySymbol({type:w.e9,config:{isLoggedIn:c.loggedIn,queue:this.apiQueue}}),e.loadModuleBySymbol({type:N.ME,config:{apiHost:this.apiHost,container:this.container}}),e.loadModuleBySymbol({type:w.wK,config:{container:this.container}});const y=this.overrideParams.applicationKey||this.settingOverrides.applicationKey;await this.startAuthAndPolicyModules(a,y),this.engine.loadModuleBySymbol({type:w.Aj,config:{canvas:this.canvas,useWebGL2:"1"===this.overrideParams.gl2,antialias:"1"===this.overrideParams.aa,useEffectComposer:!(!this.settingOverrides||!this.settingOverrides.hasOwnProperty("useEffectComposer"))&&!!this.settingOverrides.useEffectComposer}}),this.engine.loadModuleBySymbol({type:w.kg,config:{alwaysAutoOrtho:"1"===this.overrideParams.peekaboo}}),this.engine.loadModuleBySymbol({type:w.iM,config:{canvas:this.canvas,container:p}}),this.engine.loadModuleBySymbol({type:w.Hd}),this.engine.loadModuleBySymbol({type:w.Hw});const E=await e.getModuleBySymbol(w.Aj);this.engineTick=new me(this.engine,E.threeRenderer,(e=>{this.engine.getModuleBySymbol(N.ME).then((t=>{this.setError(e),t.showError(B.Mb.GENERIC)}))})),this.apiConfig=await a.getConfigs("showcase"),this.setupOEmbedConsumer(this.settingOverrides.embedlyKey);const S=c.getFlags("showcase/"),O=S.has(fe.AR);this.loadPrefetchedData(this.initialViewId,O);const{q:T,qK:k,qF:L}=this.overrideParams;this.engine.loadModuleBySymbol({type:N.Wz,config:{notificationDelayFrames:60}});const{settingsData:R}=r;this.openingTool=(0,H.u)(R),this.forceLogin=this.openingTool===W.w1.NOTES&&!d&&!I.yL();let C=this.editModePreferred;C&&this.forceLogin&&($e.warn("Cannot start in edit mode. Need to login to view note."),C=!1);const D={[le.YS]:null,quickstart:this.quickstart,lang:this.overrideParams.lang,perf:this.overrideParams.perf,perfInterval:this.overrideParams.perfInterval,[Ie.r4]:(null===(n=this.apiConfig)||void 0===n?void 0:n.discover_space_url)||""};for(const e in D)r.updateSetting(e,D[e]);if(this.settingOverrides)for(const e in this.settingOverrides)r.updateSetting(e,this.settingOverrides[e]);const M=new Y(this.apiConfig),F=null!==(i=null==M?void 0:M.serialize())&&void 0!==i?i:[];this.loadInitialAppModules(F,E.gpuInfo);const K=await this.engine.market.waitForData(Fe.n);this.baseModelId=await this.loadViewsAndStorage(this.initialViewId),await this.engine.loadModuleBySymbol({type:w.VN,config:{baseUrl:this.modelUrls.urlBase,api:a,viewId:this.initialViewId,queue:this.apiQueue,mdsContext:this.mdsContext}}),this.forceLogin&&this.openingTool===W.w1.NOTES&&await this.loginToNote(this.baseModelId),r.hasProperty(Z.lc)||r.updateSetting(Z.lc,this.apiConfig.embedly_key),this.loadInitialDataModules(u,C),e.commandBinder.hookCommand(de.ju,!0,(()=>this.stopTourHook(e))),e.commandBinder.hookCommand(ce.rU,!0,(()=>this.stopTourHook(e)));try{await e.waitForLoadingModules()}catch(t){this.setError(t),e.tick()}const[q,$]=await Promise.all([e.market.waitForData(P.T),e.market.waitForData(Se.O)]);this.engine.loadModuleBySymbol({type:w.ep});const{details:Q,organizationId:J}=q.model;h.getRootNode()instanceof ShadowRoot||(document.title=Q.name),this.canvas.setAttribute("aria-label",Q.name);const ee=$.getStartingPose();!this.quickstart||ee&&(0,V.vl)(ee.mode)||($e.warn("Disabling quickstart. No panorama start position."),this.quickstart=!1,r.updateSetting("quickstart",!1));const{maxMeshTextureQuality:te,textureLODThreshold:ne}=(e=>{let t,n;return(0,I.tq)()?(0,I.tq)()&&e?(t=oe.S.ULTRA,n=10):(t=oe.S.MEDIUM,n=6):(t=oe.S.ULTRA,n=20),{maxMeshTextureQuality:t,textureLODThreshold:n}})(E.isHighPerformanceMobileGPU());$e.info({maxMeshTextureQuality:te,textureLODThreshold:ne,gpuInfo:E.gpuInfo}),this.sceneLoader.setLoader((async()=>{var t;const n=await e.loadModuleBySymbol({type:w.xo});return"1"===(null!==(t=this.overrideParams.loadExamples)&&void 0!==t?t:"1")&&await(0,Be.W)(),n.startLoading(),n})),await this.engine.loadModuleBySymbol({type:w.RR}),await this.engine.loadModuleBySymbol({type:w.Vg}),this.quickstart&&(this.loadPanoControls(C),this.engineTick.start());const ie=this.setPluginPolicySettings(R,K);this.engine.loadModuleBySymbol({type:w.Yi,config:{queue:this.storeQueue,modelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,pluginPolicies:ie}}),this.engine.loadModuleBySymbol({type:w.lC,config:{overlayRoot:g}}),await this.engine.loadModuleBySymbol({type:w.cf,config:{pluginPolicies:ie,editMode:C}}),await(await e.getModuleBySymbol(N.$1)).waitForPlaying,this.canvas.setAttribute("tabIndex","0"),this.engine.loadModuleBySymbol({type:w.Go,config:{container:this.container}}),this.engine.loadModuleBySymbol({type:w.wF,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,queue:this.storeQueue}});const re=function(e,{dracoDecoderPath:t,basisTranscoderPath:n}){let i="vendors/three/0.151.3/";return!/^https?:\/\//.test("vendors/three/0.151.3/")&&(i=`${e}vendors/three/0.151.3/`),{dracoDecoderPath:t||`${i}libs/draco/gltf/`,basisTranscoderPath:n||`${i}libs/basis/`}}(this.assetBasePath,{dracoDecoderPath:this.settingOverrides.dracoDecoderPath,basisTranscoderPath:this.settingOverrides.basisTranscoderPath});this.engine.loadModuleBySymbol({type:w.Ve,config:{startingMode:this.quickstart?ee.mode:null,textureLOD:ae.l.RAYCAST,colorizeRooms:"1"===this.overrideParams.colorizeRooms,colorizeChunks:"1"===this.overrideParams.colorizeChunks,wireframe:"1"===this.overrideParams.wireframe,gltfConfig:re}}),this.engine.loadModuleBySymbol({type:N.WS,config:{maxQuality:te,textureLOD:ae.l.RAYCAST,textureLODThreshold:ne}}),this.engine.loadModuleBySymbol({type:w.LG}),this.engine.loadModuleBySymbol({type:w.XT,config:{startingMode:this.quickstart?ee.mode:null}}),this.engine.loadModuleBySymbol({type:w.bQ,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:w.EK}),this.engine.loadModuleBySymbol({type:w.rL,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:w.oz,config:{startingFloorsVisibility:this.quickstart?ee.floorVisibility:void 0,allowFloorChanges:u.Features[se.w]}}),this.engine.loadModuleBySymbol({type:w.tA}),this.engine.loadModuleBySymbol({type:w.Kf,config:{workshopApp:this.inWorkshop,container:m,mainDiv:g,reactContainer:b,queue:this.apiQueue}}),this.engine.loadModuleBySymbol({type:w.Y5}),this.engine.loadModuleBySymbol({type:N.__}),this.engine.loadModuleBySymbol({type:w.B9}),this.engine.loadModuleBySymbol({type:w.YP}),this.engine.loadModuleBySymbol({type:w.Cm}),this.engine.loadModuleBySymbol({type:w.zr}),this.engine.loadModuleBySymbol({type:w.Q_,config:{enabled:"1"!==this.overrideParams.nozoom}}),this.engine.loadModuleBySymbol({type:N.Nk}),this.engine.loadModuleBySymbol({type:w.wR,config:{enableWheel:"1"===this.overrideParams.nozoom}}),this.engine.loadModuleBySymbol({type:w.hi}),this.engine.loadModuleBySymbol({type:w.MH}),this.engine.loadModuleBySymbol({type:w.EX}),this.engine.loadModuleBySymbol({type:N.Bl}),this.quickstart||(this.engineTick.start(),this.loadPanoControls(C)),await this.engine.waitForLoadingModules(),"0"!==this.overrideParams.portal&&(this.engine.loadModuleBySymbol({type:w.MI}),this.engine.loadModuleBySymbol({type:w.eD})),this.engine.loadModuleBySymbol({type:w.i0,config:{showPinsInFloorplanDollhouse:"0"!==this.overrideParams.pin}}),this.engine.loadModuleBySymbol({type:w.M4}),this.engine.loadModuleBySymbol({type:w.Sd,config:{checkRenderModes:()=>{const t=e.market.tryGetData(j.k);if(t&&t.isTourActive())return!1;const n=e.market.tryGetData(G.O);return!!n&&n.isInside()}}}),this.engine.loadModuleBySymbol({type:w.SP,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:w.zK});const ue=r.getProperty(X.RV);this.engine.loadModuleBySymbol({type:w.S,config:{tagIconsEnabled:ue}}),this.engine.loadModuleBySymbol({type:w._K}),this.engine.loadModuleBySymbol({type:w.Mi,config:{oEmbedConsumer:this.oEmbedConsumer,baseUrl:this.modelUrls.urlBase,organizationId:J||void 0}}),async function(e,t,n,i,s,r,a,o){const l=t.subscriber_prompt_denylist||we.ED.domainDenylist,{popupAllowed:c,bannerAllowed:d}=await ke({urlValues:n,settingsData:e.settingsData,flags:i,loggedIn:s,inWorkshop:a,hasPolicy:r.hasPolicy.bind(r),domainDenylist:l});if(Ae.L.debug(`popupAllowed: ${c}, bannerAllowed: ${d}`),c||d){e.updateSetting(we.B_,!0);const i=c&&("1"===n[we.ke.forcePopup]||!!o.get("subscriber_prompt_a_popup")),s=d||"1"===n[we.ke.forceBanner],r=t.subscriber_prompt_a_delay_ms||we.ED.popupDelay;Ae.L.debug(`popupEnabled: ${i}, bannerEnabled: ${s}`),e.registerSetting("Subscriber Prompt",we.My,{popupDelay:r,popupEnabled:i,bannerEnabled:s},!1,x.SettingPersistence.NONE)}}(r,this.apiConfig,this.overrideParams,S,d,K,this.inWorkshop,M);const pe=this.overrideParams.stories,ge="1"===pe||"0"!==pe&&K.hasPolicy(U.R3);r.updateSetting(U.lj,ge),this.engine.getModuleBySymbol(w.V6).then((e=>{e.trackFeatures(`${U.Yi}:${ge}`),(0,Ge.ID)(e,K)})),this.engine.loadModuleBySymbol({type:w.gx,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,storyToursFeature:ge,looping:"1"===this.overrideParams.lp,queue:this.storeQueue,baseModelId:this.baseModelId}});const ve=(0,ze.yQ)(c,J,K,R);if(this.engine.loadModuleBySymbol({type:w.C3,config:{objectTagsEnabled:ve,viewId:this.initialViewId}}),this.engine.loadModuleBySymbol({type:w.nn,config:{workshop:this.inWorkshop,baseUrl:this.modelUrls.urlBase}}),this.loadUserDependentModules(d,R,K,S),this.engine.loadModuleBySymbol({type:w.c3,config:{debug:"1"===this.overrideParams.fcdbg}}),this.engine.loadModuleBySymbol({type:w.hn}),this.engine.loadModuleBySymbol({type:w.sw,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,objectTagsEnabled:ve,parserOptions:{supportLinks:!this.overrideParams.mls||"0"===this.overrideParams.mls,keepLinkLabels:!0},queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:w.An}),this.engine.loadModuleBySymbol({type:w.s6}),this.engine.loadModuleBySymbol({type:w.SM}),this.engine.loadModuleBySymbol({type:w.tg}),this.engine.loadModuleBySymbol({type:w.Zp}),this.engine.loadModuleBySymbol({type:w.Lk}),this.engine.loadModuleBySymbol({type:w.$q,config:{baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:A.DeepLinksModuleKey}),this.engine.loadModuleBySymbol({type:N.Bh}),this.engine.loadModuleBySymbol({type:w.dp}),this.engine.loadModuleBySymbol({type:w.Bq}),this.engine.loadModuleBySymbol({type:w.d2}),this.engine.loadModuleBySymbol({type:w.im,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}}),this.engine.loadModuleBySymbol({type:w.gk}),this.engine.loadModuleBySymbol({type:w.TU}),this.engine.loadModuleBySymbol({type:w.qp,config:{urlQuery:T||((0,I.Q0)()?"":T),urlQueryKeywords:k,urlQueryFilters:L,workshop:this.inWorkshop}}),ve){const e=this.overrideParams.minConfidence?(0,Me.uZ)(parseFloat(this.overrideParams.minConfidence),.01,1):void 0;this.engine.loadModuleBySymbol({type:w.Ze,config:{debug:!!this.overrideParams.debug,baseUrl:this.modelUrls.urlBase,baseModelId:this.baseModelId,minConfidence:e}})}const be=r.getProperty(Pe.tK);this.engine.loadModuleBySymbol({type:w.pw,config:{enableEventPositions:!0,framebufferScaling:Math.min(this.overrideParams.xrframebuffer?parseFloat(this.overrideParams.xrframebuffer):0,1),tracking:+(null!==(s=this.overrideParams.xrtracking)&&void 0!==s?s:0),xrBrowsersUnlocked:be}});if(r.getProperty(_e.i)){const e=r.getProperty(_e.j);this.engine.loadModuleBySymbol({type:w.rt,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,queue:this.storeQueue,promptEnabled:e,debug:"1"===this.overrideParams.modelRatingDebug}})}e.getModuleBySymbol(w.qc).then((()=>{if((0,We.PQ)(c,J,K,R,this.inWorkshop)){const e=!((0,We.KJ)(c,J,K)&&this.inWorkshop);this.engine.loadModuleBySymbol({type:w.$n,config:{baseUrl:this.modelUrls.urlBase,readonly:e}}),this.engine.loadModuleBySymbol({type:w.fF,config:{rootNode:this.container.getRootNode(),readonly:e}})}})),this.engine.loadModuleBySymbol({type:w.t2}),this.engine.loadModuleBySymbol({type:w.A7}),await this.engine.waitForLoadingModules(),this.modulesLoadedPromise.resolve()}setInitialSettings(e,t,n){const i=e.getFlags("showcase/"),s=(0,re.HG)(parseFloat(this.overrideParams.wts)),{labels:r,mt:a,allowRating:o,tiledmesh:l,tagIcons:c}=this.overrideParams,d=i.has(ee.b),u=(0,Te.z)(navigator.language),h=i.has(_e.i)?"0"!==o:"1"===o,p=this.inWorkshop&&e.loggedIn&&h,m=p&&i.has(_e.j)?"0"!==o:"1"===o,f=i.has(X.RV)?"0"!==c:"1"===c,g=i.has($.iT)?"0"!==l:"1"===l,v=i.has(Pe.tK)?"0"!==this.overrideParams[Pe.nE]:"1"===this.overrideParams[Pe.nE],b={Features:{[ne.U]:!0,[te.s]:!0,[$.iT]:g,[Q.Nj]:"0"!==r,[Z.re]:"0"!==a,[se.w]:"0"!==this.overrideParams.f,[ie.EU]:s,[ee.b]:d,[xe.I]:i.has(xe.I),[_e.i]:p,[_e.j]:m,[we.B_]:!1,[fe.AR]:i.has(fe.AR),[X.RV]:f,[X.ho]:!0,[X.MS]:!0,[Pe.tK]:v},"User Preferences":{[M.F.UnitType]:u,[M.F.MeasurementSnapping]:!0,[M.F.MeasurementContinuousLines]:!0,[M.F.MeasurementUserNudgeSeen]:!1,[M.F.DollhouseUserNudgeSeen]:!1,[M.F.NotesModeNudgeSeen]:!1,[M.F.LastRatingPromptTime]:null,[M.F.SubscriberPromptDismissed]:!1,[M.F.TourTextNudgeDismissed]:!1,[M.F.TourMobileNavigationPromptSeen]:!1}};for(const e in b)for(const n in b[e]){if(void 0===b[e][n])continue;const i="User Preferences"===e?x.SettingPersistence.LOCAL_STORAGE:x.SettingPersistence.NONE;t.registerSetting(e,n,b[e][n],!0,i)}return t.updateSetting("assetBasePath",this.assetBasePath),b}setPluginPolicySettings(e,t){var n;const i={enabled:t.hasPolicy("spaces.plugins"),canConfig:t.hasPolicy(Ve),canDebug:t.hasPolicy("spaces.plugins.debug"),groups:(null===(n=t.getPolicy("spaces.plugins.groups"))||void 0===n?void 0:n.options)||[]};return e.setProperty(Ve,i.canConfig&&i.enabled),i}loadUserDependentModules(e,t,n,i){this.engine.market.waitForData(Ue.m).then((s=>{(0,J.$p)(e,n,s,t,i)&&this.engine.loadModuleBySymbol({type:w.f7,config:{workshop:this.inWorkshop,baseUrl:this.modelUrls.urlBase,readonly:!1}})}))}async unload(e){var t;this.mdsContext.sharedCaches.delete(this.prefetchCache);try{await e.commandBinder.issueCommand(new ce.vy)}catch(e){$e.debug("showcase unload called before tour controls registered, ignoring stopTour",e)}await this.uiLoading,await(null===(t=this.showcaseGui)||void 0===t?void 0:t.unloadUi().catch((e=>{$e.error(e)}))),e.commandBinder.resetHooks(),this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}async loginToModel(e,t){$e.info(`Loading model view: ${e}`);const n=this.forceLogin;await t.modelExists(e,{ignorePrefetch:n}).catch((async t=>{if(n&&(t instanceof he.GT||t instanceof he.V2))await this.showLoginScreen(e);else{if(!(t instanceof he.GT))throw t;await this.login()}}))}async loginToNote(e){this.forceLogin&&await this.showLoginScreen(e)}loadInitialAppModules(e,t){this.engine.loadModuleBySymbol({type:w.fQ}),this.engine.loadModuleBySymbol({type:w.PZ,config:{disableWheel:"0"===this.overrideParams.wh,pointerPreventDefault:!this.settingOverrides||!this.settingOverrides.hasOwnProperty("pointerPreventDefault")||!!this.settingOverrides.pointerPreventDefault,rootNode:this.container.getRootNode()}}),this.engine.getModuleBySymbol(w.V6).then((n=>{n.setOptions({gpu:t}),n.trackFeatures(...e,`${X.Qy}:true`)}))}loadPrefetchedData(e,t){let n=t?ve.h.CACHE:ve.h.NONE;const i=this.overrideParams.prefetch;i&&Object.values(ve.h).includes(i)&&(n=i),this.prefetchCache=new Ee.R({baseUrl:this.apiHost,prefetchPolicy:n,initialData:ye.t.getQuery("GetModelPrefetch"),query:be.GetModelPrefetch,variables:{modelId:e}}),this.mdsContext.sharedCaches.add(this.prefetchCache)}async loadViewsAndStorage(e){await this.engine.loadModuleBySymbol({type:w.HC,config:{viewId:e,baseUrl:this.apiHost,readonly:!0,inWorkshop:this.inWorkshop,modulesLoadedPromise:this.modulesLoadedPromise,mdsContext:this.mdsContext}});const t=(await this.engine.market.waitForData(R.R)).getBaseModelId();return this.engine.loadModuleBySymbol({type:w.Lx,config:{baseUrl:this.apiHost}}),t}async loadAnalytics(){this.engine.loadModuleBySymbol({type:w.V6}),this.engine.loadModuleBySymbol({type:N.dX,config:{appName:this.settingOverrides&&this.settingOverrides.appName||"showcase",provider:this.overrideParams.analytics,apiQueue:this.apiQueue,analyticsQueue:this.analyticsQueue,overrideParams:this.overrideParams}})}loadInitialDataModules(e,t){this.engine.loadModuleBySymbol({type:N.My,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:w.qc,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue,tiledMeshEnabled:e.Features[$.iT]}});const n=this.settingOverrides.disableMobileRedirect,i=!!this.openingTool||void 0,s=!!this.openingTool||void 0,r=!!this.openingTool||void 0;this.engine.loadModuleBySymbol({type:N.$1,config:{disabled:this.forceLogin,openingTool:!!this.openingTool,viewId:this.initialViewId,baseUrl:this.modelUrls.urlBase,quickstart:this.quickstart,editMode:t,allowPlayInIframe:!!n,allowAutoPlay:!!n,hideTitle:s,hideBranding:r,hidePoweredBy:i}}),this.engine.loadModuleBySymbol({type:w.Z4,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:w.l,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:w.P4,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}})}loadPanoControls(e){this.uiLoading=this.loadUI(!(e||this.forceLogin)),this.engine.loadModuleBySymbol({type:w.Ng}),this.engine.loadModuleBySymbol({type:w.jH})}async loadSdkModule(e){const t=this.overrideParams.applicationKey||this.settingOverrides.applicationKey,n=this.engine,i=this.assetBasePath,s=this.overrideParams.localSdkInterface,r=async function(){return s?{client:"https://static.matterport.com/showcase-sdk/client/23.12.1_webgl-103-gcfc28ff2d3/sdk-client.js",interface:"https://static.matterport.com/showcase-sdk/interface/23.12.1_webgl-103-gcfc28ff2d3/sdk-interface.js",sandbox:"https://static.matterport.com/showcase-sdk/sandbox/23.12.1_webgl-103-gcfc28ff2d3/sandbox.html"}:{client:`${i}sdk/sdk-client.js`,interface:`${i}sdk/sdk-interface.js`,sandbox:`${i}sdk/sandbox.html`}}(),a={scene:this.sceneLoader};n.loadModuleBySymbol({type:_.Mv,config:{applicationKey:t||"NO_APPLICATION_KEY_SUPPLIED",validationUrl:this.apiHost+"/api/v1/user/",getSdkConfig:r,setupExternalSdk:async e=>{const t=await Promise.resolve().then(l.bind(l,70892));await t.loadInterface(e,n,await r,a,await this.oEmbedConsumer,this.logLevel,this.apiHost)},queue:this.apiQueue,validateProvider:e=>this.validateSdkProvider(e)}})}async toggleLayersForSdk(){if("0"===this.overrideParams.sdkviews){const e=await this.engine.market.waitForData(Ke.I),t=e.onChanged((()=>{e.applicationKeys.length>0&&(Promise.all([this.engine.market.waitForData(R.R),this.engine.market.waitForData(He.e)]).then((([e,t])=>{t.setProperty(C.Pe,!1),t.setProperty(C.Wp,!1)})),t.cancel())}))}}loadUI(e){return Promise.all([this.engine.getModuleBySymbol(w.Kf),this.engine.getModuleBySymbol(N.__)]).then((([t,n])=>{this.guiModule=t,this.showcaseGui=n,e&&t.loadUi(n.loadUi)}))}async startAuthAndPolicyModules(e,t){this.loadSdkModule(e),this.toggleLayersForSdk();const n=!!t,i=n?await this.doSdkAuth(t):{accepted:Promise.resolve()};if(i.token){pe.w.setToken(i.token);try{await e.modelExists(this.initialViewId,{ignorePrefetch:!0})}catch(e){throw $e.error(e),this.setError(e),e}}else try{await this.loginToModel(this.initialViewId,e)}catch(e){throw this.setError(e),e}if(await this.engine.loadModuleBySymbol({type:w.vF,config:{baseUrl:this.modelUrls.urlBase,viewId:this.initialViewId,mdsContext:this.mdsContext}}),n)try{await i.accepted}catch(e){return void this.setError(Error("invalid provider specified"))}}async doSdkAuth(e){const t=this.engine,n=await t.getModuleBySymbol(w.wK);n.show();const i=await t.getModuleBySymbol(_.Mv),s=await i.getClientAuth(e);return n.hide(),s}async validateSdkProvider(e){const t=!!(await this.engine.market.waitForData(Fe.n)).getPolicy(Ye),n=qe.get(e)===Ye;return!e||!n||t&&n}async showLoginScreen(e){var t,n;return(await this.engine.loadModuleBySymbol({type:w.fG,config:{loginUrl:(null===(t=this.apiConfig)||void 0===t?void 0:t.authn_login_url)||"",registerUrl:(null===(n=this.apiConfig)||void 0===n?void 0:n.account_register_url)||"",modelId:e,baseUrl:this.modelUrls.urlBase,container:this.container}})).loadUi()}login(){return new Promise((async e=>{const t=await this.engine.loadModuleBySymbol({type:N.pZ,config:{modelId:this.initialViewId,baseUrl:this.modelUrls.urlBase,container:this.container}});this.engine.subscribe(D.L,(()=>{t.hidePasswordScreen(),e()})),t.showPasswordScreen()}))}setupOEmbedConsumer(e){const t={embedlyKey:e||this.apiConfig.embedly_key,instagramAppId:this.apiConfig.instagram_app_id,instagramClientToken:this.apiConfig.instagram_client_token,googleMapsApiKey:this.apiConfig.google_maps_key};this.oEmbedDeferred.resolve(new je.a_(this.apiQueue,t))}}var Xe=l(48913);window.addEventListener("app-start",(e=>{var t,n;const i=function(e){const t=new T,n=new Qe(!1,e);t.loadApplication(n,n.setError.bind(n));const i=function(e){class t{constructor(e){this.windowContext=e,this.connectedPromise=new Promise((e=>{this.connectedPromiseResolve=e}))}async connect(t,n={}){const i=await e.getModuleBySymbol(_.Mv),s=Xe.tK.connect(new Je(i,n),new et,this.windowContext);return s.then((e=>this.connectedPromiseResolve(e))),s}}let n=window;window!==window.top&&(n=window.parent);window.opener&&(n=window.opener);const i=new t(n);return window.MP_SDK=i,i}(t);return{engine:t,showcase:n,mpSdkPromise:i.connectedPromise}}(e.detail.config||{});null===(n=(t=e.detail).onStart)||void 0===n||n.call(t,{dispose:()=>{i.engine.dispose(),i.showcase.stop(),i.showcase.unload(i.engine)}}),i.mpSdkPromise.then((t=>{var n,i;null===(i=(n=e.detail).onSdkConnected)||void 0===i||i.call(n,{mpSdk:t})}))}),!0);class Je{constructor(e,t){this.sdk=e,this.options=t}connect(){return this.sdk.connect(`${window.location.protocol}//${window.location.host}`,this.options)}cancelConnecting(){}}class et{getFactory(e){return e.messengerFactory}}})()})();